import{_ as dr}from"./DRsKVQaR.js";import{B as Ce,aJ as st,W as x,r as I,d as z,o as $e,L as Re,c as Ye,K as le,e as O,aD as Je,aE as et,aF as tt,bH as Ra,aU as fr,g as de,cg as pr,w as Le,N as X,f as q,P as U,F as ve,ag as Ne,af as en,h as te,aZ as Ia,t as Se,aN as mr,an as gr,av as vr,_ as _r}from"#entry";import{X as ot,c as P,i as qe,a as lt,D as Ve,f as Pe,b as bt,g as be,l as we,j as rt,s as He,E as yr,k as J,O as tn,d as Ut,e as xr,G as br,H as kr,r as Sr,n as wr,I as Ar,J as Cr,q as Tr,o as Br,K as Mr,L as Jt,M as Or,m as Dr,h as Nr,N as Fr,p as Lr,Q as it,A as ct,y as Xe,z as Ue,S as Vr,C as ja}from"./PDk7tcIj.js";var ea=Math.PI,ta=2*ea,Fe=1e-6,$r=ta-Fe;function aa(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Mt(){return new aa}aa.prototype=Mt.prototype={constructor:aa,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,a,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+a)+","+(this._y1=+n)},bezierCurveTo:function(e,t,a,n,r,i){this._+="C"+ +e+","+ +t+","+ +a+","+ +n+","+(this._x1=+r)+","+(this._y1=+i)},arcTo:function(e,t,a,n,r){e=+e,t=+t,a=+a,n=+n,r=+r;var i=this._x1,l=this._y1,s=a-e,u=n-t,b=i-e,p=l-t,f=b*b+p*p;if(r<0)throw new Error("negative radius: "+r);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>Fe)if(!(Math.abs(p*s-u*b)>Fe)||!r)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var y=a-i,C=n-l,B=s*s+u*u,L=y*y+C*C,w=Math.sqrt(B),A=Math.sqrt(f),S=r*Math.tan((ea-Math.acos((B+f-L)/(2*w*A)))/2),v=S/A,D=S/w;Math.abs(v-1)>Fe&&(this._+="L"+(e+v*b)+","+(t+v*p)),this._+="A"+r+","+r+",0,0,"+ +(p*y>b*C)+","+(this._x1=e+D*s)+","+(this._y1=t+D*u)}},arc:function(e,t,a,n,r,i){e=+e,t=+t,a=+a,i=!!i;var l=a*Math.cos(n),s=a*Math.sin(n),u=e+l,b=t+s,p=1^i,f=i?n-r:r-n;if(a<0)throw new Error("negative radius: "+a);this._x1===null?this._+="M"+u+","+b:(Math.abs(this._x1-u)>Fe||Math.abs(this._y1-b)>Fe)&&(this._+="L"+u+","+b),a&&(f<0&&(f=f%ta+ta),f>$r?this._+="A"+a+","+a+",0,1,"+p+","+(e-l)+","+(t-s)+"A"+a+","+a+",0,1,"+p+","+(this._x1=u)+","+(this._y1=b):f>Fe&&(this._+="A"+a+","+a+",0,"+ +(f>=ea)+","+p+","+(this._x1=e+a*Math.cos(r))+","+(this._y1=t+a*Math.sin(r))))},rect:function(e,t,a,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +a+"v"+ +n+"h"+-a+"Z"},toString:function(){return this._}};function Z(e){return function(){return e}}var za=1e-12,kt=Math.PI,Ot=2*kt;function an(e){this._context=e}an.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function _a(e){return new an(e)}function nn(e){return e[0]}function rn(e){return e[1]}function sn(){var e=nn,t=rn,a=Z(!0),n=null,r=_a,i=null;function l(s){var u,b=s.length,p,f=!1,y;for(n==null&&(i=r(y=Mt())),u=0;u<=b;++u)!(u<b&&a(p=s[u],u,s))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(p,u,s),+t(p,u,s));if(y)return i=null,y+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:Z(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:Z(+s),l):t},l.defined=function(s){return arguments.length?(a=typeof s=="function"?s:Z(!!s),l):a},l.curve=function(s){return arguments.length?(r=s,n!=null&&(i=r(n)),l):r},l.context=function(s){return arguments.length?(s==null?n=i=null:i=r(n=s),l):n},l}function Rr(){var e=nn,t=null,a=Z(0),n=rn,r=Z(!0),i=null,l=_a,s=null;function u(p){var f,y,C,B=p.length,L,w=!1,A,S=new Array(B),v=new Array(B);for(i==null&&(s=l(A=Mt())),f=0;f<=B;++f){if(!(f<B&&r(L=p[f],f,p))===w)if(w=!w)y=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),C=f-1;C>=y;--C)s.point(S[C],v[C]);s.lineEnd(),s.areaEnd()}w&&(S[f]=+e(L,f,p),v[f]=+a(L,f,p),s.point(t?+t(L,f,p):S[f],n?+n(L,f,p):v[f]))}if(A)return s=null,A+""||null}function b(){return sn().defined(r).curve(l).context(i)}return u.x=function(p){return arguments.length?(e=typeof p=="function"?p:Z(+p),t=null,u):e},u.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Z(+p),u):e},u.x1=function(p){return arguments.length?(t=p==null?null:typeof p=="function"?p:Z(+p),u):t},u.y=function(p){return arguments.length?(a=typeof p=="function"?p:Z(+p),n=null,u):a},u.y0=function(p){return arguments.length?(a=typeof p=="function"?p:Z(+p),u):a},u.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Z(+p),u):n},u.lineX0=u.lineY0=function(){return b().x(e).y(a)},u.lineY1=function(){return b().x(e).y(n)},u.lineX1=function(){return b().x(t).y(a)},u.defined=function(p){return arguments.length?(r=typeof p=="function"?p:Z(!!p),u):r},u.curve=function(p){return arguments.length?(l=p,i!=null&&(s=l(i)),u):l},u.context=function(p){return arguments.length?(p==null?i=s=null:s=l(i=p),u):i},u}const on={draw:function(e,t){var a=Math.sqrt(t/kt);e.moveTo(a,0),e.arc(0,0,a,0,Ot)}},Ir={draw:function(e,t){var a=Math.sqrt(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}};var ln=Math.sqrt(1/3),jr=ln*2;const zr={draw:function(e,t){var a=Math.sqrt(t/jr),n=a*ln;e.moveTo(0,-a),e.lineTo(n,0),e.lineTo(0,a),e.lineTo(-n,0),e.closePath()}};var Er=.8908130915292852,cn=Math.sin(kt/10)/Math.sin(7*kt/10),Pr=Math.sin(Ot/10)*cn,Wr=-Math.cos(Ot/10)*cn;const Hr={draw:function(e,t){var a=Math.sqrt(t*Er),n=Pr*a,r=Wr*a;e.moveTo(0,-a),e.lineTo(n,r);for(var i=1;i<5;++i){var l=Ot*i/5,s=Math.cos(l),u=Math.sin(l);e.lineTo(u*a,-s*a),e.lineTo(s*n-u*r,u*n+s*r)}e.closePath()}},Gr={draw:function(e,t){var a=Math.sqrt(t),n=-a/2;e.rect(n,n,a,a)}};var Kt=Math.sqrt(3);const Yr={draw:function(e,t){var a=-Math.sqrt(t/(Kt*3));e.moveTo(0,a*2),e.lineTo(-Kt*a,-a),e.lineTo(Kt*a,-a),e.closePath()}};var ue=-.5,he=Math.sqrt(3)/2,na=1/Math.sqrt(12),qr=(na/2+1)*3;const Xr={draw:function(e,t){var a=Math.sqrt(t/qr),n=a/2,r=a*na,i=n,l=a*na+a,s=-i,u=l;e.moveTo(n,r),e.lineTo(i,l),e.lineTo(s,u),e.lineTo(ue*n-he*r,he*n+ue*r),e.lineTo(ue*i-he*l,he*i+ue*l),e.lineTo(ue*s-he*u,he*s+ue*u),e.lineTo(ue*n+he*r,ue*r-he*n),e.lineTo(ue*i+he*l,ue*l-he*i),e.lineTo(ue*s+he*u,ue*u-he*s),e.closePath()}};function Ur(){var e=Z(on),t=Z(64),a=null;function n(){var r;if(a||(a=r=Mt()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),r)return a=null,r+""||null}return n.type=function(r){return arguments.length?(e=typeof r=="function"?r:Z(r),n):e},n.size=function(r){return arguments.length?(t=typeof r=="function"?r:Z(+r),n):t},n.context=function(r){return arguments.length?(a=r??null,n):a},n}function Ae(){}function St(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function Dt(e){this._context=e}Dt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:St(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:St(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Kr(e){return new Dt(e)}function un(e){this._context=e}un.prototype={areaStart:Ae,areaEnd:Ae,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:St(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Zr(e){return new un(e)}function hn(e){this._context=e}hn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,n):this._context.moveTo(a,n);break;case 3:this._point=4;default:St(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Qr(e){return new hn(e)}function dn(e,t){this._basis=new Dt(e),this._beta=t}dn.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,a=e.length-1;if(a>0)for(var n=e[0],r=t[0],i=e[a]-n,l=t[a]-r,s=-1,u;++s<=a;)u=s/a,this._basis.point(this._beta*e[s]+(1-this._beta)*(n+u*i),this._beta*t[s]+(1-this._beta)*(r+u*l));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Jr=(function e(t){function a(n){return t===1?new Dt(n):new dn(n,t)}return a.beta=function(n){return e(+n)},a})(.85);function wt(e,t,a){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-a),e._x2,e._y2)}function ya(e,t){this._context=e,this._k=(1-t)/6}ya.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:wt(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:wt(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ei=(function e(t){function a(n){return new ya(n,t)}return a.tension=function(n){return e(+n)},a})(0);function xa(e,t){this._context=e,this._k=(1-t)/6}xa.prototype={areaStart:Ae,areaEnd:Ae,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:wt(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ti=(function e(t){function a(n){return new xa(n,t)}return a.tension=function(n){return e(+n)},a})(0);function ba(e,t){this._context=e,this._k=(1-t)/6}ba.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:wt(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ai=(function e(t){function a(n){return new ba(n,t)}return a.tension=function(n){return e(+n)},a})(0);function ka(e,t,a){var n=e._x1,r=e._y1,i=e._x2,l=e._y2;if(e._l01_a>za){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,r=(r*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>za){var b=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,p=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*b+e._x1*e._l23_2a-t*e._l12_2a)/p,l=(l*b+e._y1*e._l23_2a-a*e._l12_2a)/p}e._context.bezierCurveTo(n,r,i,l,e._x2,e._y2)}function fn(e,t){this._context=e,this._alpha=t}fn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:ka(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ni=(function e(t){function a(n){return t?new fn(n,t):new ya(n,0)}return a.alpha=function(n){return e(+n)},a})(.5);function pn(e,t){this._context=e,this._alpha=t}pn.prototype={areaStart:Ae,areaEnd:Ae,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ka(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ri=(function e(t){function a(n){return t?new pn(n,t):new xa(n,0)}return a.alpha=function(n){return e(+n)},a})(.5);function mn(e,t){this._context=e,this._alpha=t}mn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ka(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ii=(function e(t){function a(n){return t?new mn(n,t):new ba(n,0)}return a.alpha=function(n){return e(+n)},a})(.5);function gn(e){this._context=e}gn.prototype={areaStart:Ae,areaEnd:Ae,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function si(e){return new gn(e)}function Ea(e){return e<0?-1:1}function Pa(e,t,a){var n=e._x1-e._x0,r=t-e._x1,i=(e._y1-e._y0)/(n||r<0&&-0),l=(a-e._y1)/(r||n<0&&-0),s=(i*r+l*n)/(n+r);return(Ea(i)+Ea(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(s))||0}function Wa(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function Zt(e,t,a){var n=e._x0,r=e._y0,i=e._x1,l=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,r+s*t,i-s,l-s*a,i,l)}function At(e){this._context=e}At.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zt(this,this._t0,Wa(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Zt(this,Wa(this,a=Pa(this,e,t)),a);break;default:Zt(this,this._t0,a=Pa(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function vn(e){this._context=new _n(e)}(vn.prototype=Object.create(At.prototype)).point=function(e,t){At.prototype.point.call(this,t,e)};function _n(e){this._context=e}_n.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,n,r,i){this._context.bezierCurveTo(t,e,n,a,i,r)}};function oi(e){return new At(e)}function li(e){return new vn(e)}function yn(e){this._context=e}yn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var n=Ha(e),r=Ha(t),i=0,l=1;l<a;++i,++l)this._context.bezierCurveTo(n[0][i],r[0][i],n[1][i],r[1][i],e[l],t[l]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ha(e){var t,a=e.length-1,n,r=new Array(a),i=new Array(a),l=new Array(a);for(r[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<a-1;++t)r[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(r[a-1]=2,i[a-1]=7,l[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)n=r[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(r[a-1]=l[a-1]/i[a-1],t=a-2;t>=0;--t)r[t]=(l[t]-r[t+1])/i[t];for(i[a-1]=(e[a]+r[a-1])/2,t=0;t<a-1;++t)i[t]=2*e[t+1]-r[t+1];return[r,i]}function ci(e){return new yn(e)}function Nt(e,t){this._context=e,this._t=t}Nt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function ui(e){return new Nt(e,.5)}function hi(e){return new Nt(e,0)}function di(e){return new Nt(e,1)}function Ga(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,n)}return a}function fi(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ga(Object(a),!0).forEach(function(n){pi(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ga(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function nt(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nt=function(t){return typeof t}:nt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(e)}function pi(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ct(){return Ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ct.apply(this,arguments)}function mi(e,t){if(e){if(typeof e=="string")return Ya(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ya(e,t)}}function Ya(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function xn(e,t){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=mi(e))||t){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,s;return{s:function(){a=a.call(e)},n:function(){var u=a.next();return i=u.done,u},e:function(u){l=!0,s=u},f:function(){try{!i&&a.return!=null&&a.return()}finally{if(l)throw s}}}}function gi(e,t){var a=[],n=[];function r(i,l){if(i.length===1)a.push(i[0]),n.push(i[0]);else{for(var s=Array(i.length-1),u=0;u<s.length;u++)u===0&&a.push(i[0]),u===s.length-1&&n.push(i[u+1]),s[u]=[(1-l)*i[u][0]+l*i[u+1][0],(1-l)*i[u][1]+l*i[u+1][1]];r(s,l)}}return e.length&&r(e,t),{left:a,right:n.reverse()}}function vi(e){var t={};return e.length===4&&(t.x2=e[2][0],t.y2=e[2][1]),e.length>=3&&(t.x1=e[1][0],t.y1=e[1][1]),t.x=e[e.length-1][0],t.y=e[e.length-1][1],e.length===4?t.type="C":e.length===3?t.type="Q":t.type="L",t}function _i(e,t){t=t||2;for(var a=[],n=e,r=1/t,i=0;i<t-1;i++){var l=r/(1-r*i),s=gi(n,l);a.push(s.left),n=s.right}return a.push(n),a}function yi(e,t,a){var n=[[e.x,e.y]];return t.x1!=null&&n.push([t.x1,t.y1]),t.x2!=null&&n.push([t.x2,t.y2]),n.push([t.x,t.y]),_i(n,a).map(vi)}var xi=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,We={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};Object.keys(We).forEach(function(e){We[e.toLowerCase()]=We[e]});function ra(e,t){for(var a=Array(e),n=0;n<e;n++)a[n]=t;return a}function bi(e){return"".concat(e.type).concat(We[e.type].map(function(t){return e[t]}).join(","))}function ki(e,t){var a={x1:"x",y1:"y",x2:"x",y2:"y"},n=["xAxisRotation","largeArcFlag","sweepFlag"];if(e.type!==t.type&&t.type.toUpperCase()!=="M"){var r={};Object.keys(t).forEach(function(i){var l=t[i],s=e[i];s===void 0&&(n.includes(i)?s=l:(s===void 0&&a[i]&&(s=e[a[i]]),s===void 0&&(s=0))),r[i]=s}),r.type=t.type,e=r}return e}function Si(e,t,a){var n=[];if(t.type==="L"||t.type==="Q"||t.type==="C")n=n.concat(yi(e,t,a));else{var r=Ct({},e);r.type==="M"&&(r.type="L"),n=n.concat(ra(a-1).map(function(){return r})),n.push(t)}return n}function qa(e,t,a){var n=e.length-1,r=t.length-1,i=n/r,l=ra(r).reduce(function(u,b,p){var f=Math.floor(i*p);if(a&&f<e.length-1&&a(e[f],e[f+1])){var y=i*p%1<.5;u[f]&&(y?f>0?f-=1:f<e.length-1&&(f+=1):f<e.length-1?f+=1:f>0&&(f-=1))}return u[f]=(u[f]||0)+1,u},[]),s=l.reduce(function(u,b,p){if(p===e.length-1){var f=ra(b,Ct({},e[e.length-1]));return f[0].type==="M"&&f.forEach(function(y){y.type="L"}),u.concat(f)}return u.concat(Si(e[p],e[p+1],b))},[]);return s.unshift(e[0]),s}function Xa(e){for(var t=(e||"").match(xi)||[],a=[],n,r,i=0;i<t.length;++i)if(n=We[t[i]],n){r={type:t[i]};for(var l=0;l<n.length;++l)r[n[l]]=+t[i+l+1];i+=n.length,a.push(r)}return a}function wi(e,t,a){var n=e==null?[]:e.slice(),r=t==null?[]:t.slice(),i=nt(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},l=i.excludeSegment,s=i.snapEndsToInput;if(!n.length&&!r.length)return function(){return[]};var u=(n.length===0||n[n.length-1].type==="Z")&&(r.length===0||r[r.length-1].type==="Z");n.length>0&&n[n.length-1].type==="Z"&&n.pop(),r.length>0&&r[r.length-1].type==="Z"&&r.pop(),n.length?r.length||r.push(n[0]):n.push(r[0]);var b=Math.abs(r.length-n.length);b!==0&&(r.length>n.length?n=qa(n,r,l):r.length<n.length&&(r=qa(r,n,l))),n=n.map(function(f,y){return ki(f,r[y])});var p=n.map(function(f){return fi({},f)});return u&&(p.push({type:"Z"}),n.push({type:"Z"})),function(y){if(y===1&&s)return t??[];if(y===0)return n;for(var C=0;C<p.length;++C){var B=n[C],L=r[C],w=p[C],A=xn(We[w.type]),S;try{for(A.s();!(S=A.n()).done;){var v=S.value;w[v]=(1-y)*B[v]+y*L[v],(v==="largeArcFlag"||v==="sweepFlag")&&(w[v]=Math.round(w[v]))}}catch(D){A.e(D)}finally{A.f()}}return p}}function bn(e,t,a){var n=Xa(e),r=Xa(t),i=nt(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},l=i.excludeSegment,s=i.snapEndsToInput;if(!n.length&&!r.length)return function(){return""};var u=wi(n,r,{excludeSegment:l,snapEndsToInput:s});return function(p){if(p===1&&s)return t??"";var f=u(p),y="",C=xn(f),B;try{for(C.s();!(B=C.n()).done;){var L=B.value;y+=bi(L)}}catch(w){C.e(w)}finally{C.f()}return y}}var W;(function(e){e.Basis="basis",e.BasisClosed="basisClosed",e.BasisOpen="basisOpen",e.Bundle="bundle",e.Cardinal="cardinal",e.CardinalClosed="cardinalClosed",e.CardinalOpen="cardinalOpen",e.CatmullRom="catmullRom",e.CatmullRomClosed="catmullRomClosed",e.CatmullRomOpen="catmullRomOpen",e.Linear="linear",e.LinearClosed="linearClosed",e.MonotoneX="monotoneX",e.MonotoneY="monotoneY",e.Natural="natural",e.Step="step",e.StepAfter="stepAfter",e.StepBefore="stepBefore"})(W||(W={}));const ia={[W.Basis]:Kr,[W.BasisClosed]:Zr,[W.BasisOpen]:Qr,[W.Bundle]:Jr,[W.Cardinal]:ei,[W.CardinalClosed]:ti,[W.CardinalOpen]:ai,[W.CatmullRom]:ni,[W.CatmullRomClosed]:ri,[W.CatmullRomOpen]:ii,[W.Linear]:_a,[W.LinearClosed]:si,[W.MonotoneX]:oi,[W.MonotoneY]:li,[W.Natural]:ci,[W.Step]:ui,[W.StepAfter]:di,[W.StepBefore]:hi},Ai=Object.assign(Object.assign({},ot),{curveType:W.MonotoneX,lineWidth:2,lineDashArray:void 0,fallbackValue:void 0,highlightOnHover:!1,cursor:null,interpolateMissingData:!1}),Ci=qe`
  :root {
    --vis-line-cursor: default;
    --vis-line-stroke-dasharray: none;
    --vis-line-stroke-dashoffset: 0;

    --vis-line-gapfill-stroke-dasharray: 2 3;
    --vis-line-gapfill-stroke-opacity: 0.8;
    --vis-line-gapfill-stroke-dashoffset: 0;
  }
`,Ti=P`
  label: line-component;
`,at=P`
  label: line;
  transition: opacity 200ms;
  cursor: var(--vis-line-cursor);
`,sa=P`
  label: linePath;
  fill: none;
  stroke-dasharray: var(--vis-line-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-stroke-dashoffset);
`,oa=P`
  label: lineSelectionHelper;
  fill: none;
  stroke: rgba(0, 0, 0, 0);
  stroke-width: 8px;
`,la=P`
  opacity: 0.2;
`,ca=P`
  label: interpolated-path;
  fill: none;
  stroke-dasharray: var(--vis-line-gapfill-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-gapfill-stroke-dashoffset);
  stroke-opacity: var(--vis-line-gapfill-stroke-opacity);
`,Bi=Object.freeze(Object.defineProperty({__proto__:null,dim:la,globalStyles:Ci,interpolatedPath:ca,line:at,linePath:sa,lineSelectionHelper:oa,root:Ti},Symbol.toStringTag,{value:"Module"}));class Ft extends lt{constructor(t){super(),this._defaultConfig=Ai,this.config=this._defaultConfig,this.curve=ia[W.MonotoneX],this.events={[Ft.selectors.line]:{mouseover:this._highlight.bind(this),mouseleave:this._resetHighlight.bind(this)}},t&&this.setConfig(t)}get bleed(){const{config:{lineWidth:t}}=this,a=this.yScale.domain(),r=(this.yScale.range()[0]>this.yScale.range()[1]?Ve.North:Ve.South)===Ve.South,i=t>3,l=t>=10;return{top:!l&&(!r&&a[1]===0||r&&a[0]===0)?0:t/2,bottom:!l&&(!r&&a[0]===0||r&&a[1]===0)?0:t/2,left:i?t/2:0,right:i?t/2:0}}_render(t){super._render(t);const{config:a,datamodel:{data:n}}=this,r=Pe(t)?t:a.duration;this.curve=ia[a.curveType],this.lineGen=sn().x(f=>f.x).y(f=>f.y).defined(f=>f.defined).curve(this.curve);const i=bt(a.y)?a.y:[a.y],l=n.map((f,y)=>this.xScale(be(f,a.x,y))),s=i.map(f=>{const y=n.map((A,S)=>{const v=be(A,f,S),D=(Pe(v)||v===null)&&isFinite(v)?v:a.fallbackValue,H=a.interpolateMissingData?(Pe(v)||v===null)&&isFinite(v):isFinite(D);return{x:l[S],y:this.yScale(D??0),defined:H,value:D}}),C=y.reduce((A,S)=>S.defined||A,!1);let B=!1;const L=y.reduce((A,S,v)=>{!S.defined&&isFinite(a.fallbackValue)&&A.push(Object.assign(Object.assign({},S),{defined:!0})),!S.defined&&!B&&(B=!0);const D=v>0&&!y[v-1].defined||v<y.length-1&&!y[v+1].defined;return S.defined&&D&&(B||A.push(Object.assign(Object.assign({},S),{defined:!1})),A.push(S),B=!1),A},[]),w=C&&y.some(A=>A.value!==null);return{values:y,defined:C,gaps:L,visible:w}}),u=this.g.selectAll(`.${at}`).data(s),b=u.enter().append("g").attr("class",at);b.append("path").attr("class",sa).attr("stroke",(f,y)=>we(n,a.color,y)).attr("stroke-opacity",0).attr("stroke-width",a.lineWidth),b.append("path").attr("class",oa).attr("d",this._emptyPath()),b.append("path").attr("class",ca).attr("d",this._emptyPath()).style("opacity",0);const p=b.merge(u);p.style("cursor",(f,y)=>rt(n,a.cursor,y)),p.each((f,y,C)=>{var B;const L=He(C[y]),w=L.select(`.${sa}`),A=L.select(`.${oa}`),S=L.select(`.${ca}`),v=f.visible,D=yr(n,a.lineDashArray,y),H=J(w,r).attr("stroke",we(n,a.color,y)).attr("stroke-width",a.lineWidth).attr("stroke-opacity",v?1:0).style("stroke-dasharray",(B=D?.join(" "))!==null&&B!==void 0?B:null),R=f.values.some(ae=>!ae.defined),$=this.lineGen(f.values);if(r&&!R){const ae=w.attr("d")||this._emptyPath(),G=$||this._emptyPath();H.attrTween("d",()=>bn(ae,G))}else f.visible&&H.attr("d",$);A.attr("d",$).attr("visibility",v?null:"hidden"),R&&a.interpolateMissingData?J(S,r).attr("d",this.lineGen(f.gaps)).attr("stroke",we(n,a.color,y)).attr("stroke-width",a.lineWidth-1).style("opacity",1):S.transition().duration(r).style("opacity",0)}),J(u.exit(),r).style("opacity",0).remove()}_emptyPath(){const t=this.xScale.range(),a=this.yScale.range();return`M${t[0]},${a[0]} L${t[1]},${a[0]}`}_highlight(t){const{config:a}=this;a.highlightOnHover&&this.g.selectAll(`.${at}`).classed(la,n=>n!==t)}_resetHighlight(){const{config:t}=this;t.highlightOnHover&&this.g.selectAll(`.${at}`).classed(la,!1)}}Ft.selectors=Bi;const Mi=Object.assign(Object.assign({},ot),{color:void 0,groupMaxWidth:void 0,groupWidth:void 0,dataStep:void 0,groupPadding:.05,barPadding:0,roundedCorners:2,barMinHeight:2,cursor:null,orientation:tn.Vertical}),kn=P`
  label: grouped-bar-component;
`,Oi=qe`
  :root {
    --vis-grouped-bar-cursor: default;
    --vis-grouped-bar-fill-color: var(--vis-color-main);
    --vis-grouped-bar-stroke-color: none;
    --vis-grouped-bar-stroke-width: 0px;
    --vis-grouped-bar-hover-stroke-width: 1px;
    --vis-grouped-bar-hover-stroke-color: none;


    /* Dark Theme */
    --vis-dark-grouped-bar-stroke-color: none;
  }

  body.theme-dark ${`.${kn}`} {
    --vis-grouped-bar-stroke-color: var(--vis-dark-grouped-bar-stroke-color);
  }
`,yt=P`
  label: bar;
  fill: var(--vis-grouped-bar-fill-color);
  stroke: var(--vis-grouped-bar-stroke-color);
  stroke-width: var(--vis-grouped-bar-stroke-width);
  cursor: var(--vis-grouped-bar-cursor);

  &:hover {
    stroke-width: var(--vis-grouped-bar-hover-stroke-width);
    stroke: var(--vis-grouped-bar-hover-stroke-color);
  }
`,ua=P`
  label: barGroup;
`,Sn=P`
  label: barGroupExit;
`,Di=Object.freeze(Object.defineProperty({__proto__:null,bar:yt,barGroup:ua,barGroupExit:Sn,globalStyles:Oi,root:kn},Symbol.toStringTag,{value:"Module"}));class wn extends lt{constructor(t){super(),this._defaultConfig=Mi,this.config=this._defaultConfig,this.getAccessors=()=>bt(this.config.y)?this.config.y:[this.config.y],this.events={},this._barData=[],t&&this.setConfig(t)}get bleed(){if(this._barData=this._getVisibleData(),this._barData.length===0)return{top:0,bottom:0,left:0,right:0};const t=!this.isVertical()&&this.dataScale.range()[0]>this.dataScale.range()[1],a=this.dataScale.domain(),n=this._getGroupWidth()/2,r=this._barData.map((C,B)=>be(C,this.config.x,B)),i=Ut(r),l=xr(r),s=this.dataScale(i),u=this.dataScale(l),b=this.dataScale.invert(s+(t?n:-n)),p=this.dataScale.invert(u+(t?-n:n)),f=b<=a[0]?this.dataScale(a[0])-this.dataScale(b):0,y=p>a[1]?this.dataScale(p)-this.dataScale(a[1]):0;return{top:this.isVertical()?0:t?-y:f,bottom:this.isVertical()?0:t?-f:y,left:this.isVertical()?f:0,right:this.isVertical()?y:0}}get dataScale(){return this.isVertical()?this.xScale:this.yScale}get valueScale(){return this.isVertical()?this.yScale:this.xScale}isVertical(){return this.config.orientation===tn.Vertical}_render(t){const{config:a}=this,n=Pe(t)?t:a.duration,r=this._getGroupWidth(),i=this.getAccessors(),l=[-r/2,r/2],s=br().domain(kr(i.length)).range(l).paddingInner(a.barPadding).paddingOuter(a.barPadding),u=this.g.selectAll(`.${ua}`).data(this._barData,(S,v)=>{var D;return`${(D=rt(S,a.id,v))!==null&&D!==void 0?D:v}`}),b=(S,v)=>{const D=this.dataScale(be(S,a.x,v)),H=this.isVertical()?D:0,R=this.isVertical()?0:D;return`translate(${H},${R})`},f=u.enter().append("g").attr("class",ua).attr("transform",b).style("opacity",1).merge(u);J(f,n).attr("transform",b).style("opacity",1);const y=u.exit().attr("class",Sn);J(y,n).style("opacity",0).remove(),J(y.selectAll(`.${yt}`),n).attr("transform",(S,v,D)=>this.isVertical()?`translate(0,${this.yScale(0)}) scale(1,0)`:`translate(${this.xScale(0)},0) scale(0,1)`);const C=s.bandwidth(),B=f.selectAll(`.${yt}`).data(S=>i.map(()=>S)),L=this._getValueAxisDirection(),A=B.enter().append("path").attr("class",yt).attr("d",(S,v)=>{const D=s(v),H=this.valueScale(0),R=C;return this._getBarPath(D,H,R,0,!1,L)}).style("fill",(S,v)=>we(S,a.color,v)).merge(B);J(A,n).attr("d",(S,v)=>{const D=s(v),H=C,R=be(S,i[v]),$=R<0;let ae=$?this.valueScale(0):this.valueScale(R||0),G=Math.abs(this.valueScale(0)-this.valueScale(R))||0;if(G<a.barMinHeight){const fe=L===Ve.North?-1:1;ae=this.valueScale(0)+fe*a.barMinHeight,G=a.barMinHeight}return this._getBarPath(D,ae,H,G,$,L)}).style("fill",(S,v)=>we(S,a.color,v)).style("cursor",(S,v)=>rt(S,a.cursor,v)),J(B.exit(),n).remove()}_getValueAxisDirection(){return this.valueScale.range()[0]>this.valueScale.range()[1]?Ve.North:Ve.South}_getVisibleData(){const{config:t,datamodel:{data:a}}=this,n=this._getGroupWidth(),r=a.length<2?0:n/2,i=this.dataScale,l=Math.abs(i.invert(r)-i.invert(0));return a?.filter((u,b)=>{const p=be(u,t.x,b),f=i.domain(),y=+f[0],C=+f[1];return p>=y-l&&p<=C+l})}_getBarPath(t,a,n,r,i,l){const{config:s}=this,u=s.roundedCorners?Pe(s.roundedCorners)?+s.roundedCorners:n/2:0,b=Br(u,0,Math.min(r,n)/2),p=l===Ve.North,f=this.isVertical()&&i!==p,y=this.isVertical()&&i===p,C=!this.isVertical()&&i,B=!this.isVertical()&&!i;return Sr({x:this.isVertical()?t:a+(p?0:-r),y:this.isVertical()?a+(p?0:-r):t,w:this.isVertical()?n:r,h:this.isVertical()?r:n,tl:f||C,tr:f||B,bl:y||C,br:y||B,r:b})}_getGroupWidth(){const{config:t,datamodel:{data:a}}=this;if(wr(a))return 0;if(t.groupWidth)return Ut([t.groupWidth,t.groupMaxWidth]);const n=this.dataScale.bandwidth,r=this.dataScale.domain?this.dataScale.domain():[];let l=1+(n?r.length:r[1]-r[0])/t.dataStep||!n&&a.filter((b,p)=>{const f=be(b,t.x,p);return f>=r[0]&&f<=r[1]}).length||a.length;!n&&l>=2&&(l+=1);const u=(l<2?1:1-t.groupPadding)*(this.isVertical()?this._width:this._height)/l;return Ut([u,t.groupMaxWidth])}getValueScaleExtent(t){const{datamodel:a}=this,n=this.getAccessors(),r=t?this._getVisibleData():a.data,i=Ar(r,...n),l=Cr(r,...n);return[i>0?0:i,l<0?0:l]}getDataScaleExtent(){const{config:t,datamodel:a}=this;return Tr(a.data,t.x)}getYDataExtent(t){return this.isVertical()?this.getValueScaleExtent(t):this.getDataScaleExtent()}getXDataExtent(){return this.isVertical()?this.getDataScaleExtent():this.getValueScaleExtent(!1)}}wn.selectors=Di;var _e;(function(e){e.Circle="circle",e.Cross="cross",e.Diamond="diamond",e.Square="square",e.Star="star",e.Triangle="triangle",e.Wye="wye"})(_e||(_e={}));const Ni={[_e.Circle]:on,[_e.Cross]:Ir,[_e.Diamond]:zr,[_e.Square]:Gr,[_e.Star]:Hr,[_e.Triangle]:Yr,[_e.Wye]:Xr},oe=Object.assign(Object.assign({},_e),{Line:"line"});var Tt;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(Tt||(Tt={}));const Fi={items:[],labelClassName:"",onLegendItemClick:void 0,labelFontSize:null,labelMaxWidth:null,bulletSize:null,bulletSpacing:4,bulletShape:e=>{var t;return(t=e.shape)!==null&&t!==void 0?t:oe.Circle},orientation:Tt.Horizontal,renderIntoProvidedDomNode:!1},gt=Or*3,Li={[oe.Circle]:Math.PI/4,[oe.Cross]:5/9,[oe.Diamond]:Math.sqrt(3)/6,[oe.Square]:1,[oe.Star]:.3,[oe.Triangle]:Math.sqrt(3)/4,[oe.Wye]:5/11};function An(e,t,a){return t<1?0:e*t+a*(t-1)}function Vi(e){e.each((t,a,n)=>{He(n[a]).append("svg").attr("width","100%").attr("height","100%").append("path")})}function $i(e,t,a){e.each((n,r,i)=>{var l;const s=rt(n,t.bulletShape,r),u=Mr((l=n.color)!==null&&l!==void 0?l:we(n,a,r)),b=u.length,p=gt,f=Jt(getComputedStyle(i[r]).getPropertyValue("--vis-legend-bullet-size")),y=t.bulletSpacing*(gt/f),C=An(p,b,y),B=s===oe.Line?gt/2.5:gt,L=He(i[r]).select("svg").attr("viewBox",`0 0 ${C} ${B}`);L.selectAll("path").remove();const w=n.inactive?"var(--vis-legend-bullet-inactive-opacity)":1;u.forEach((A,S)=>{const v=L.append("path");if(s===oe.Line){const D=S*(p+y),H=D+p;v.attr("d",`M${D},${B/2} L${H},${B/2}`).attr("transform",null).style("opacity",w).style("stroke",A).style("stroke-width","3px").style("fill",null).style("fill-opacity",null).style("marker-start","none").style("marker-end","none")}else{const D=Ur().type(Ni[s]).size(p*B*Li[s]),H=(p-2)/p;let R=B/2;switch(s){case oe.Triangle:R+=B/8;break;case oe.Star:R+=B/16;break;case oe.Wye:R-=B/16;break}const $=S*(p+y)+p/2;v.attr("d",D).attr("transform",`translate(${$}, ${Math.round(R)}) scale(${H})`).style("stroke",A).style("stroke-width","1px").style("opacity",null).style("fill",A).style("fill-opacity",w)}})})}const Sa=P`
  label: bullet-legend-component;
`,Ri=qe`
  :root {
    // Undefined by default to allow proper fallback to var(--vis-font-family)
    /* --vis-legend-font-family: */

    --vis-legend-label-color: #6c778c;
    --vis-legend-label-max-width: 300px;
    --vis-legend-label-font-size: 12px;
    --vis-legend-bullet-size: 9px;
    --vis-legend-bullet-inactive-opacity: 0.15;
    --vis-legend-item-spacing: 20px;
    --vis-legend-vertical-item-spacing: 5px;
    --vis-legend-bullet-label-spacing: 8px;

    --vis-dark-legend-label-color: #eee;
  }

  body.theme-dark ${`.${Sa}`} {
    --vis-legend-label-color: var(--vis-dark-legend-label-color);
  }

  body.theme-patterns {
    --vis-legend-bullet-size: 14px;
  }
`,xt=P`
  label: legendItem;
  display: inline-flex;
  align-items: center;
  font-family: var(--vis-legend-font-family, var(--vis-font-family));
  margin-right: var(--vis-legend-item-spacing);
  white-space: nowrap;
  cursor: default;
  user-select: none;
  max-width: min-content;
`,Cn=P`
  label: legendItemVertical;
  display: flex;
  margin-top: var(--vis-legend-vertical-item-spacing);
`,Tn=P`
  cursor: pointer;
`,ha=P`
  label: legendItemLabel;
  font-size: var(--vis-legend-label-font-size);
  display: inline-block;
  vertical-align: middle;
  color: var(--vis-legend-label-color);
  max-width: var(--vis-legend-label-max-width);
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
`,da=P`
  flex: 0 0 auto;
  label: legendItemBullet;
  margin-right: var(--vis-legend-bullet-label-spacing);
  height: var(--vis-legend-bullet-size);
  width: var(--vis-legend-bullet-size);

  svg {
    display: block;
  }
`,Ii=Object.freeze(Object.defineProperty({__proto__:null,bullet:da,clickable:Tn,item:xt,itemVertical:Cn,label:ha,root:Sa,variables:Ri},Symbol.toStringTag,{value:"Module"}));class Bn{constructor(t,a){this._defaultConfig=Fi,this.config=this._defaultConfig,this._colorAccessor=n=>n.color,this._container=t,this.div=a?.renderIntoProvidedDomNode?He(this._container):He(this._container).append("div"),this.div.classed(Sa,!0),this.element=this.div.node(),a&&this.update(a)}update(t){this.prevConfig=this.config,this.config=Dr(this._defaultConfig,t),this.render()}render(){const{config:t}=this,a=this.div.selectAll(`.${xt}`).data(t.items),n=a.enter().append("div").on("click",this._onItemClick.bind(this)),r=n.merge(a);r.attr("class",i=>{var l;return`${xt} ${(l=i.className)!==null&&l!==void 0?l:""}`}).classed(Cn,t.orientation===Tt.Vertical).classed(Tn,i=>!!t.onLegendItemClick&&this._isItemClickable(i)).attr("title",i=>i.name).style("display",i=>i.hidden?"none":null),n.append("span").attr("class",da).call(Vi),r.select(`.${da}`).style("width",function(i){const s=(Array.isArray(i.color)?i.color:[i.color]).length,u=Jt(getComputedStyle(this).getPropertyValue("--vis-legend-bullet-size"))||9,b=t.bulletSize?Jt(t.bulletSize):u,p=t.bulletSpacing;return`${An(b,s,p)}px`}).style("height",t.bulletSize).style("box-sizing","content-box").call($i,this.config,this._colorAccessor),n.append("span").attr("class",ha).classed(t.labelClassName,!0).style("max-width",t.labelMaxWidth).style("font-size",t.labelFontSize),r.select(`.${ha}`).text(i=>i.name),a.exit().remove()}_isItemClickable(t){return t.pointer===void 0?!0:t.pointer}_onItemClick(t,a){const{config:{onLegendItemClick:n}}=this,i=this.div.selectAll(`.${xt}`).nodes().indexOf(t.currentTarget);n&&n(a,i)}destroy(){this.element!==this._container&&this.div.remove()}}Bn.selectors=Ii;var fa;(function(e){e.Solid="solid",e.Dash="dash",e.DashDot="dashDot",e.Dot="dot",e.LongDash="longDash",e.LongDashDot="longDashDot",e.LongDashDotDot="longDashDotDot",e.ShortDash="shortDash",e.ShortDashDot="shortDashDot",e.ShortDashDotDot="shortDashDotDot",e.ShortDot="shortDot"})(fa||(fa={}));var V;(function(e){e.TopLeft="top-left",e.Top="top",e.TopRight="top-right",e.Right="right",e.BottomRight="bottom-right",e.Bottom="bottom",e.BottomLeft="bottom-left",e.Left="left"})(V||(V={}));var Bt;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(Bt||(Bt={}));var k;(function(e){e.TopLeftInside="top-left-inside",e.TopLeftOutside="top-left-outside",e.TopInside="top-inside",e.TopOutside="top-outside",e.TopRightInside="top-right-inside",e.TopRightOutside="top-right-outside",e.RightInside="right-inside",e.RightOutside="right-outside",e.BottomRightInside="bottom-right-inside",e.BottomRightOutside="bottom-right-outside",e.BottomInside="bottom-inside",e.BottomOutside="bottom-outside",e.BottomLeftInside="bottom-left-inside",e.BottomLeftOutside="bottom-left-outside",e.LeftInside="left-inside",e.LeftOutside="left-outside"})(k||(k={}));var pa;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(pa||(pa={}));const ji=Object.assign(Object.assign({},ot),{color:void 0,curveType:W.MonotoneX,baseline:()=>0,opacity:1,cursor:null,minHeight1Px:!1,minHeight:void 0}),Mn=P`
  label: area-component;
`,zi=qe`
  :root {
    --vis-area-cursor: default;
    --vis-area-fill-opacity: 1;
    --vis-area-stroke-color: none;
    --vis-area-stroke-width: 0px;
    --vis-area-stroke-dasharray: none;
    --vis-area-stroke-opacity: 1;
    --vis-area-hover-fill-opacity: none;
    --vis-area-hover-stroke-width: none;

    /* Dark Theme */
    --vis-dark-area-stroke-color: none;
  }

  body.theme-dark ${`.${Mn}`} {
    --vis-area-stroke-color: var(--vis-dark-area-stroke-color);
  }

`,ma=P`
  label: area;
  cursor: var(--vis-area-cursor);
  fill-opacity: var(--vis-area-fill-opacity);
  stroke-width: var(--vis-area-stroke-width);
  stroke-dasharray: var(--vis-area-stroke-dasharray);
  stroke: var(--vis-area-stroke-color);
  stroke-opacity: var(--vis-area-stroke-opacity);

  &:hover {
    fill-opacity: var(--vis-area-hover-fill-opacity);
    stroke-width: var(--vis-area-hover-stroke-width);
  }
`,Ei=Object.freeze(Object.defineProperty({__proto__:null,area:ma,globalStyles:zi,root:Mn},Symbol.toStringTag,{value:"Module"}));class Lt extends lt{constructor(t){super(),this._defaultConfig=ji,this.config=this._defaultConfig,this.stacked=!0,this.events={[Lt.selectors.area]:{}},t&&this.setConfig(t),this.stacked=Array.isArray(this.config.y)}_render(t){super._render(t);const{config:a,datamodel:{data:n}}=this,r=Pe(t)?t:a.duration,i=ia[a.curveType];this._areaGen=Rr().x(w=>w.x).y0(w=>w.y0).y1(w=>w.y1).curve(i);const l=bt(a.y)?a.y:[a.y],s=n.map((w,A)=>this.xScale(be(w,a.x,A))),u=Nr(n,a.baseline,l,this._prevNegative);this._prevNegative=u.map(w=>!!w.isMostlyNegative);const b=[],p=u.map(w=>w.map((A,S)=>{var v,D;const H=s[S],R=this.yScale(A[0]),$=this.yScale(A[1]),ae=$>R,G=b[S]||0,fe=ae?R+G:R-G,pe=ae?$+G:$-G;let ce=0;return(a.minHeight||a.minHeight1Px)&&Math.abs(pe-fe)<((v=a.minHeight)!==null&&v!==void 0?v:1)&&(ce=((D=a.minHeight)!==null&&D!==void 0?D:1)-Math.abs(pe-fe),b[S]=G+ce),{x:H,y0:fe,y1:ae?pe+ce:pe-ce}})),f=p.length-1,y=p.reverse(),C=this.g.selectAll(`.${ma}`).data(y),B=C.enter().append("path").attr("class",ma).attr("d",w=>this._areaGen(w)||this._emptyPath()).style("opacity",0).style("fill",(w,A)=>we(n,a.color,f-A)),L=J(B.merge(C),r).style("opacity",(w,A)=>w.some(v=>v.y0-v.y1!==0)?be(n,a.opacity,f-A):0).style("fill",(w,A)=>we(n,a.color,f-A)).style("cursor",(w,A)=>rt(n,a.cursor,f-A));r?L.attrTween("d",(A,S,v)=>{const D=He(v[S]).attr("d"),H=this._areaGen(A)||this._emptyPath();return bn(D,H)}):L.attr("d",w=>this._areaGen(w)||this._emptyPath()),J(C.exit(),r).style("opacity",0).remove()}getYDataExtent(t){const{config:a,datamodel:n}=this,r=bt(a.y)?a.y:[a.y],i=this.xScale.domain(),l=t?Fr(n.data,i,a.x,!0):n.data;return Lr(l,a.baseline,...r)}_emptyPath(){const t=this.xScale.range(),a=this.yScale.domain(),n=this.yScale((a[0]+a[1])/2),r=n;return this._areaGen([{y0:n,y1:r,x:t[0]},{y0:n,y1:r,x:t[1]}])}}Lt.selectors=Ei;const Pi={[k.TopLeftOutside]:({startX:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[k.TopLeftInside]:({startX:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[k.TopOutside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[k.TopInside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[k.TopRightOutside]:({startX:e,width:t,offsetX:a,offsetY:n})=>({x:e+t+a,y:n,textAnchor:"start",dominantBaseline:"text-before-edge"}),[k.TopRightInside]:({startX:e,width:t,offsetX:a,offsetY:n})=>({x:e+t-a,y:n,textAnchor:"end",dominantBaseline:"text-before-edge"}),[k.RightOutside]:({startX:e,width:t,height:a,offsetX:n})=>({x:e+t+n,y:a/2,textAnchor:"start",dominantBaseline:"middle"}),[k.RightInside]:({startX:e,width:t,height:a,offsetX:n})=>({x:e+t-n,y:a/2,textAnchor:"end",dominantBaseline:"middle"}),[k.BottomRightOutside]:({startX:e,width:t,height:a,offsetX:n,offsetY:r})=>({x:e+t+n,y:a-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[k.BottomRightInside]:({startX:e,width:t,height:a,offsetX:n,offsetY:r})=>({x:e+t-n,y:a-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[k.BottomOutside]:({startX:e,width:t,height:a,offsetY:n})=>({x:e+t/2,y:a-n,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[k.BottomInside]:({startX:e,width:t,height:a,offsetY:n})=>({x:e+t/2,y:a-n,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[k.BottomLeftOutside]:({startX:e,height:t,offsetX:a,offsetY:n})=>({x:e-a,y:t-n,textAnchor:"end",dominantBaseline:"text-after-edge"}),[k.BottomLeftInside]:({startX:e,height:t,offsetX:a,offsetY:n})=>({x:e+a,y:t-n,textAnchor:"start",dominantBaseline:"text-after-edge"}),[k.LeftOutside]:({startX:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"end",dominantBaseline:"middle"}),[k.LeftInside]:({startX:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"start",dominantBaseline:"middle"})},Wi={[k.TopLeftOutside]:({startX:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-after-edge"}),[k.TopLeftInside]:({startX:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[k.TopOutside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"end",dominantBaseline:"middle"}),[k.TopInside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"end",dominantBaseline:"middle"}),[k.TopRightOutside]:({startX:e,width:t,offsetX:a,offsetY:n})=>({x:e+t+a,y:n,textAnchor:"end",dominantBaseline:"text-before-edge"}),[k.TopRightInside]:({startX:e,width:t,offsetX:a,offsetY:n})=>({x:e+t-a,y:n,textAnchor:"end",dominantBaseline:"text-after-edge"}),[k.RightOutside]:({startX:e,width:t,height:a,offsetX:n})=>({x:e+t+n,y:a/2,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[k.RightInside]:({startX:e,width:t,height:a,offsetX:n})=>({x:e+t-n,y:a/2,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[k.BottomRightOutside]:({startX:e,width:t,height:a,offsetX:n,offsetY:r})=>({x:e+t+n,y:a-r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[k.BottomRightInside]:({startX:e,width:t,height:a,offsetX:n,offsetY:r})=>({x:e+t-n,y:a-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[k.BottomOutside]:({startX:e,width:t,height:a,offsetY:n})=>({x:e+t/2,y:a-n,textAnchor:"start",dominantBaseline:"middle"}),[k.BottomInside]:({startX:e,width:t,height:a,offsetY:n})=>({x:e+t/2,y:a-n,textAnchor:"start",dominantBaseline:"middle"}),[k.BottomLeftOutside]:({startX:e,height:t,offsetX:a,offsetY:n})=>({x:e-a,y:t-n,textAnchor:"start",dominantBaseline:"text-after-edge"}),[k.BottomLeftInside]:({startX:e,height:t,offsetX:a,offsetY:n})=>({x:e+a,y:t-n,textAnchor:"start",dominantBaseline:"text-before-edge"}),[k.LeftOutside]:({startX:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[k.LeftInside]:({startX:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"middle",dominantBaseline:"text-before-edge"})},Hi={[k.TopLeftOutside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e-a,textAnchor:"start",dominantBaseline:"text-after-edge"}),[k.TopLeftInside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e+a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[k.TopOutside]:({startX:e,width:t,startY:a,offsetY:n})=>({x:e+t/2,y:a-n,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[k.TopInside]:({startX:e,width:t,startY:a,offsetY:n})=>({x:e+t/2,y:a+n,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[k.TopRightOutside]:({startY:e,width:t,offsetX:a,offsetY:n})=>({x:t-a,y:e-n,textAnchor:"end",dominantBaseline:"text-after-edge"}),[k.TopRightInside]:({startY:e,width:t,offsetX:a,offsetY:n})=>({x:t-a,y:e+n,textAnchor:"end",dominantBaseline:"text-before-edge"}),[k.RightOutside]:({startY:e,height:t,width:a,offsetX:n})=>({x:a-n,y:e+t/2,textAnchor:"end",dominantBaseline:"middle"}),[k.RightInside]:({startY:e,height:t,width:a,offsetX:n})=>({x:a-n,y:e+t/2,textAnchor:"end",dominantBaseline:"middle"}),[k.BottomRightOutside]:({startY:e,height:t,width:a,offsetX:n,offsetY:r})=>({x:a-n,y:e+t+r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[k.BottomRightInside]:({startY:e,height:t,width:a,offsetX:n,offsetY:r})=>({x:a-n,y:e+t-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[k.BottomOutside]:({startX:e,width:t,startY:a,height:n,offsetY:r})=>({x:e+t/2,y:a+n+r,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[k.BottomInside]:({startX:e,width:t,startY:a,height:n,offsetY:r})=>({x:e+t/2,y:a+n-r,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[k.BottomLeftOutside]:({startY:e,height:t,offsetX:a,offsetY:n})=>({x:a,y:e+t+n,textAnchor:"start",dominantBaseline:"text-before-edge"}),[k.BottomLeftInside]:({startY:e,height:t,offsetX:a,offsetY:n})=>({x:a,y:e+t-n,textAnchor:"start",dominantBaseline:"text-after-edge"}),[k.LeftOutside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"start",dominantBaseline:"middle"}),[k.LeftInside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"start",dominantBaseline:"middle"})},Gi={[k.TopLeftOutside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e-a,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[k.TopLeftInside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e+a,textAnchor:"end",dominantBaseline:"text-before-edge",rotation:-90}),[k.TopOutside]:({startX:e,width:t,startY:a,offsetY:n})=>({x:e+t/2,y:a-n,textAnchor:"end",dominantBaseline:"middle",rotation:-90}),[k.TopInside]:({startX:e,width:t,startY:a,offsetY:n})=>({x:e+t/2,y:a+n,textAnchor:"end",dominantBaseline:"middle",rotation:-90}),[k.TopRightOutside]:({startY:e,width:t,offsetX:a,offsetY:n})=>({x:t-a,y:e-n,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[k.TopRightInside]:({startY:e,width:t,offsetX:a,offsetY:n})=>({x:t-a,y:e+n,textAnchor:"end",dominantBaseline:"text-after-edge",rotation:-90}),[k.RightOutside]:({startY:e,height:t,width:a,offsetX:n})=>({x:a-n,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-after-edge",rotation:-90}),[k.RightInside]:({startY:e,height:t,width:a,offsetX:n})=>({x:a-n,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-after-edge",rotation:-90}),[k.BottomRightOutside]:({startY:e,height:t,width:a,offsetX:n,offsetY:r})=>({x:a-n,y:e+t+r,textAnchor:"start",dominantBaseline:"text-before-edge",rotation:-90}),[k.BottomRightInside]:({startY:e,height:t,width:a,offsetX:n,offsetY:r})=>({x:a-n,y:e+t-r,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[k.BottomOutside]:({startX:e,width:t,startY:a,height:n,offsetY:r})=>({x:e+t/2,y:a+n+r,textAnchor:"start",dominantBaseline:"middle",rotation:-90}),[k.BottomInside]:({startX:e,width:t,startY:a,height:n,offsetY:r})=>({x:e+t/2,y:a+n-r,textAnchor:"start",dominantBaseline:"middle",rotation:-90}),[k.BottomLeftOutside]:({startY:e,height:t,offsetX:a,offsetY:n})=>({x:a,y:e+t+n,textAnchor:"end",dominantBaseline:"text-before-edge",rotation:-90}),[k.BottomLeftInside]:({startY:e,height:t,offsetX:a,offsetY:n})=>({x:a,y:e+t-n,textAnchor:"start",dominantBaseline:"text-before-edge",rotation:-90}),[k.LeftOutside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-before-edge",rotation:-90}),[k.LeftInside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-before-edge",rotation:-90})},Yi=Object.assign(Object.assign({},ot),{axis:it.Y,from:0,to:0,color:void 0,duration:300,labelPosition:k.TopLeftOutside,labelOffsetX:14,labelOffsetY:14,labelOrientation:pa.Horizontal}),qi=qe`
  :root {
    --vis-plotband-color: rgba(255, 255, 90, 0.2);
    --vis-plotband-label-font-size: 12px;
    --vis-plotband-label-color: #000;

    --vis-dark-plotband-color: rgba(220, 220, 90, 0.2);
    --vis-dark-plotband-label-color: #e5e9f7;
  }

  body.theme-dark {
    --vis-plotband-color: var(--vis-dark-plotband-color);
    --vis-plotband-label-color: var(--vis-dark-tooltip-text-color);
  }
`,Xi=P`
  label: plotband-component;
`,On=P`
  label: plotband-area;
  transition: opacity 200ms;
  cursor: var(--vis-line-cursor);
  fill: var(--vis-plotband-color);
`,Dn=P`
  label: plotline-label;

  user-select: none;
  text-anchor: middle;
  pointer-events: none;
  font-size: var(--vis-plotband-label-font-size);
  fill: var(--vis-plotband-label-color);
`,Ui=Object.freeze(Object.defineProperty({__proto__:null,globalStyles:qi,label:Dn,plotband:On,root:Xi},Symbol.toStringTag,{value:"Module"}));class Nn extends lt{constructor(t){super(),this._defaultConfig=Yi,t&&this.setConfig(t),this.plotband=this.g.append("rect").attr("class",On),this.label=this.g.append("text").attr("class",Dn)}_render(t){super._render(t);const{config:a}=this;if(this.from=a.from,this.to=a.to,this.plotband.style("fill",a.color),this.from==null||this.to==null)return;let n=0,r=0,i=0,l=0;if(a.axis==="y"){const s=this.yScale(this.from),u=this.yScale(this.to);r=Math.min(s,u),l=Math.abs(s-u),n=0,i=this._width}else{const s=this.xScale(this.from),u=this.xScale(this.to);n=Math.min(s,u),i=Math.abs(s-u),r=0,l=this._height}if(J(this.plotband,a.duration).attr("x",n).attr("y",r).attr("width",i).attr("height",l),a.labelText){const s=this.computeLabel(a.axis,n,r,i,l,a.labelPosition,a.labelOffsetX,a.labelOffsetY,a.labelOrientation);this.label.attr("dominant-baseline",s.dominantBaseline).attr("transform",s.transform).style("text-anchor",s.textAnchor).style("fill",a.labelColor).style("font-size",a.labelSize?`${a.labelSize}px`:void 0),J(this.label,a.duration).text(a.labelText).attr("x",s.x).attr("y",s.y)}J(this.plotband.exit()).style("opacity",0).remove()}computeLabel(t,a,n,r,i,l,s,u,b){const p=b==="vertical",f=p?-90:0,y={startX:a,startY:n,width:r,height:i,offsetX:s,offsetY:u};let C;t===it.X?C=(p?Wi:Pi)[l](y):C=(p?Gi:Hi)[l](y);const{x:B,y:L,textAnchor:w,dominantBaseline:A}=C,S=f!==0?`rotate(${f}, ${B}, ${L})`:"";return{x:B,y:L,rotation:f,textAnchor:w,transform:S,dominantBaseline:A}}}Nn.selectors=Ui;const Ki={solid:"none",shortDash:"6,2",shortDot:"2,2",shortDashDot:"6,2,2,2",shortDashDotDot:"6,2,2,2,2,2",dot:"2,6",dash:"8,6",longDash:"16,6",dashDot:"8,6,2,6",longDashDot:"16,6,2,6",longDashDotDot:"16,6,2,6,2,6"},Zi={[V.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[V.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[V.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[V.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"start",dominantBaseline:"middle"}),[V.BottomRight]:({width:e,height:t,offsetX:a,offsetY:n})=>({x:e+a,y:t-n,textAnchor:"start",dominantBaseline:"text-after-edge"}),[V.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[V.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:n})=>({x:e-a,y:t-n,textAnchor:"end",dominantBaseline:"text-after-edge"}),[V.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"end",dominantBaseline:"middle"})},Qi={[V.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-after-edge"}),[V.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"end",dominantBaseline:"middle"}),[V.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[V.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[V.BottomRight]:({width:e,height:t,offsetX:a,offsetY:n})=>({x:e+a,y:t-n,textAnchor:"start",dominantBaseline:"text-before-edge"}),[V.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"middle"}),[V.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:n})=>({x:e-a,y:t-n,textAnchor:"start",dominantBaseline:"text-after-edge"}),[V.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"middle",dominantBaseline:"text-after-edge"})},Ji={[V.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-after-edge"}),[V.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[V.TopRight]:({width:e,offsetX:t,height:a,offsetY:n})=>({x:e-t,y:a-n,textAnchor:"end",dominantBaseline:"text-after-edge"}),[V.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"middle"}),[V.BottomRight]:({width:e,offsetX:t,height:a,offsetY:n})=>({x:e-t,y:a+n,textAnchor:"end",dominantBaseline:"text-before-edge"}),[V.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[V.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[V.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"start",dominantBaseline:"middle"})},es={[V.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[V.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"start",dominantBaseline:"central"}),[V.TopRight]:({width:e,offsetX:t,height:a,offsetY:n})=>({x:e-t,y:a-n,textAnchor:"start",dominantBaseline:"text-after-edge"}),[V.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[V.BottomRight]:({width:e,offsetX:t,height:a,offsetY:n})=>({x:e-t,y:a+n,textAnchor:"end",dominantBaseline:"text-after-edge"}),[V.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"end",dominantBaseline:"central"}),[V.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[V.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"})},ts=Object.assign(Object.assign({},ot),{lineWidth:2,axis:it.Y,value:0,duration:300,color:void 0,lineStyle:fa.Solid,labelPosition:V.TopRight,labelOffsetX:14,labelOffsetY:14,labelOrientation:Bt.Horizontal}),as=qe`
  :root {
    --vis-plotline-color: rgb(226, 32, 58);
    --vis-plotline-width: 2;
    --vis-plotline-dasharray: none;
    --vis-plotline-stroke-dashoffset: 0;
    --vis-plotline-label-font-size: 12px;
    --vis-plotline-label-color: #000;

    --vis-dark-plotline-label-color: #e5e9f7;
  }

  body.theme-dark {
    --vis-plotline-label-color: var(--vis-dark-tooltip-text-color);
  }
`,ns=P`
  label: plotline-component;
`,Fn=P`
  label: plotline;
  transition: opacity 200ms;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke: var(--vis-plotline-color);
  stroke-width: var(--vis-plotline-width);
  stroke-dasharray: var(--vis-plotline-dasharray);
  stroke-dashoffset: var(--vis-plotline-stroke-dashoffset);
`,Ln=P`
  label: plotline-label;
  text-anchor: middle;
  /* dominant-baseline: middle; */
  pointer-events: none;
  font-size: var(--vis-plotline-label-font-size);
  fill: var(--vis-plotline-label-color);
`,rs=Object.freeze(Object.defineProperty({__proto__:null,globalStyles:as,label:Ln,plotline:Fn,root:ns},Symbol.toStringTag,{value:"Module"}));class Vn extends lt{constructor(t){super(),this._defaultConfig=ts,t&&this.setConfig(t),this.plotline=this.g.append("line").attr("class",Fn),this.label=this.g.append("text").attr("class",Ln)}_render(t){super._render(t);const{config:a}=this;this.value=a.value;let n;typeof a?.lineStyle=="string"?n=Ki[a.lineStyle]:Array.isArray(a.lineStyle)?n=a.lineStyle.join(","):n="none",this.value=a.value,this.plotline.attr("stroke-opacity",1).style("stroke-width",a.lineWidth).style("stroke-dasharray",n).style("stroke",a.color);let r=0,i=0,l=0,s=0;if(a.axis===it.Y?(l=this.yScale(this.value),s=this.yScale(this.value),r=0,i=this._width):(l=0,s=this._height,r=this.xScale(this.value),i=this.xScale(this.value)),J(this.plotline,a.duration).attr("x1",r).attr("x2",i).attr("y1",l).attr("y2",s),a.labelText){const u=this.computeLabel(a.axis,i,s,a.labelPosition,a.labelOffsetX,a.labelOffsetY,a.labelOrientation);this.label.text(a.labelText).attr("transform",u.transform).attr("dominant-baseline",u.dominantBaseline).style("fill",a.labelColor).style("text-anchor",u.textAnchor).style("font-size",a.labelSize?`${a.labelSize}px`:void 0),J(this.label,a.duration).attr("x",u.x).attr("y",u.y)}J(this.plotline.exit()).style("opacity",0).remove()}computeLabel(t,a,n,r,i,l,s){const u=s===Bt.Vertical,b=u?-90:0;let p;t===it.X?p=(u?Qi:Zi)[r]({width:a,height:n,offsetX:i,offsetY:l}):p=(u?es:Ji)[r]({width:a,height:n,offsetX:i,offsetY:l});const f=b?`rotate(${b}, ${p.x}, ${p.y})`:"";return Object.assign(Object.assign({},p),{rotation:b,transform:f})}}Vn.selectors=rs;const is={"data-vis-component":""},vt=Ce({__name:"index",props:{color:{},curveType:{},baseline:{},opacity:{},cursor:{},minHeight1Px:{type:Boolean},minHeight:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=st(ct),n=e,r=x(()=>a.data.value??n.data),i=Xe(n),l=I();return $e(()=>{Re(()=>{var s;l.value=new Lt(i.value),(s=l.value)==null||s.setData(r.value),a.update(l.value)})}),Ye(()=>{var s;(s=l.value)==null||s.destroy(),a.destroy()}),le(i,(s,u)=>{var b;Ue(s,u)||(b=l.value)==null||b.setConfig(i.value)}),le(r,()=>{var s;(s=l.value)==null||s.setData(r.value)}),t({component:l}),(s,u)=>(O(),z("div",is))}}),ss={"data-vis-component":""},os=Ce({__name:"index",props:{color:{},groupWidth:{},groupMaxWidth:{},dataStep:{},groupPadding:{},barPadding:{},roundedCorners:{type:[Number,Boolean]},barMinHeight:{},cursor:{},orientation:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=st(ct),n=e,r=x(()=>a.data.value??n.data),i=Xe(n),l=I();return $e(()=>{Re(()=>{var s;l.value=new wn(i.value),(s=l.value)==null||s.setData(r.value),a.update(l.value)})}),Ye(()=>{var s;(s=l.value)==null||s.destroy(),a.destroy()}),le(i,(s,u)=>{var b;Ue(s,u)||(b=l.value)==null||b.setConfig(i.value)}),le(r,()=>{var s;(s=l.value)==null||s.setData(r.value)}),t({component:l}),(s,u)=>(O(),z("div",ss))}}),ls={"data-vis-component":""},Ua=Ce({__name:"index",props:{color:{},curveType:{},lineWidth:{},lineDashArray:{},fallbackValue:{},highlightOnHover:{type:Boolean},cursor:{},interpolateMissingData:{type:Boolean},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=st(ct),n=e,r=x(()=>a.data.value??n.data),i=Xe(n),l=I();return $e(()=>{Re(()=>{var s;l.value=new Ft(i.value),(s=l.value)==null||s.setData(r.value),a.update(l.value)})}),Ye(()=>{var s;(s=l.value)==null||s.destroy(),a.destroy()}),le(i,(s,u)=>{var b;Ue(s,u)||(b=l.value)==null||b.setConfig(i.value)}),le(r,()=>{var s;(s=l.value)==null||s.setData(r.value)}),t({component:l}),(s,u)=>(O(),z("div",ls))}}),cs={"data-vis-component":""},Qt=Ce({__name:"index",props:{color:{},axis:{},from:{},to:{},duration:{},labelText:{},labelPosition:{},labelOffsetX:{},labelOffsetY:{},labelOrientation:{},labelColor:{},labelSize:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=st(ct),n=Xe(e),r=I();return $e(()=>{Re(()=>{r.value=new Nn(n.value),a.update(r.value)})}),Ye(()=>{var i;(i=r.value)==null||i.destroy(),a.destroy()}),le(n,(i,l)=>{var s;Ue(i,l)||(s=r.value)==null||s.setConfig(n.value)}),t({component:r}),(i,l)=>(O(),z("div",cs))}}),us={"data-vis-component":""},_t=Ce({__name:"index",props:{color:{},lineWidth:{},axis:{},value:{},duration:{},lineStyle:{},labelText:{},labelPosition:{},labelOffsetX:{},labelOffsetY:{},labelOrientation:{},labelColor:{},labelSize:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=st(ct),n=Xe(e),r=I();return $e(()=>{Re(()=>{r.value=new Vn(n.value),a.update(r.value)})}),Ye(()=>{var i;(i=r.value)==null||i.destroy(),a.destroy()}),le(n,(i,l)=>{var s;Ue(i,l)||(s=r.value)==null||s.setConfig(n.value)}),t({component:r}),(i,l)=>(O(),z("div",us))}}),hs=Ce({__name:"index",props:{items:{},labelClassName:{},onLegendItemClick:{type:Function},labelFontSize:{},labelMaxWidth:{},bulletSize:{},bulletSpacing:{},bulletShape:{},orientation:{},renderIntoProvidedDomNode:{type:Boolean},data:{}},setup(e,{expose:t}){const a=e;x(()=>a.data);const n=Xe(a),r=I(),i=I();return $e(()=>{Re(()=>{i.value&&(r.value=new Bn(i.value,{...n.value,renderIntoProvidedDomNode:!0}))})}),Ye(()=>{var l;(l=r.value)==null||l.destroy()}),le(n,(l,s)=>{var u;Ue(l,s)||(u=r.value)==null||u.update(n.value)}),t({component:r}),(l,s)=>(O(),z("div",{"data-vis-bullet-legend":"",ref_key:"elRef",ref:i},null,512))}});var ds=typeof global=="object"&&global&&global.Object===Object&&global,fs=typeof self=="object"&&self&&self.Object===Object&&self,ps=ds||fs||Function("return this")(),Ge=ps.Symbol,$n=Object.prototype,ms=$n.hasOwnProperty,gs=$n.toString,Qe=Ge?Ge.toStringTag:void 0;function vs(e){var t=ms.call(e,Qe),a=e[Qe];try{e[Qe]=void 0;var n=!0}catch{}var r=gs.call(e);return n&&(t?e[Qe]=a:delete e[Qe]),r}var _s=Object.prototype,ys=_s.toString;function xs(e){return ys.call(e)}var bs="[object Null]",ks="[object Undefined]",Ka=Ge?Ge.toStringTag:void 0;function Ss(e){return e==null?e===void 0?ks:bs:Ka&&Ka in Object(e)?vs(e):xs(e)}function ws(e){return e!=null&&typeof e=="object"}var As="[object Symbol]";function Cs(e){return typeof e=="symbol"||ws(e)&&Ss(e)==As}function Ts(e,t){for(var a=-1,n=e==null?0:e.length,r=Array(n);++a<n;)r[a]=t(e[a],a,e);return r}var Bs=Array.isArray,Za=Ge?Ge.prototype:void 0,Qa=Za?Za.toString:void 0;function Rn(e){if(typeof e=="string")return e;if(Bs(e))return Ts(e,Rn)+"";if(Cs(e))return Qa?Qa.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function In(e){return e==null?"":Rn(e)}function Ms(e,t,a){var n=-1,r=e.length;t<0&&(t=-t>r?0:r+t),a=a>r?r:a,a<0&&(a+=r),r=t>a?0:a-t>>>0,t>>>=0;for(var i=Array(r);++n<r;)i[n]=e[n+t];return i}function Os(e,t,a){var n=e.length;return a=a===void 0?n:a,!t&&a>=n?e:Ms(e,t,a)}var Ds="\\ud800-\\udfff",Ns="\\u0300-\\u036f",Fs="\\ufe20-\\ufe2f",Ls="\\u20d0-\\u20ff",Vs=Ns+Fs+Ls,$s="\\ufe0e\\ufe0f",Rs="\\u200d",Is=RegExp("["+Rs+Ds+Vs+$s+"]");function jn(e){return Is.test(e)}function js(e){return e.split("")}var zn="\\ud800-\\udfff",zs="\\u0300-\\u036f",Es="\\ufe20-\\ufe2f",Ps="\\u20d0-\\u20ff",Ws=zs+Es+Ps,Hs="\\ufe0e\\ufe0f",Gs="["+zn+"]",ga="["+Ws+"]",va="\\ud83c[\\udffb-\\udfff]",Ys="(?:"+ga+"|"+va+")",En="[^"+zn+"]",Pn="(?:\\ud83c[\\udde6-\\uddff]){2}",Wn="[\\ud800-\\udbff][\\udc00-\\udfff]",qs="\\u200d",Hn=Ys+"?",Gn="["+Hs+"]?",Xs="(?:"+qs+"(?:"+[En,Pn,Wn].join("|")+")"+Gn+Hn+")*",Us=Gn+Hn+Xs,Ks="(?:"+[En+ga+"?",ga,Pn,Wn,Gs].join("|")+")",Zs=RegExp(va+"(?="+va+")|"+Ks+Us,"g");function Qs(e){return e.match(Zs)||[]}function Js(e){return jn(e)?Qs(e):js(e)}function eo(e){return function(t){t=In(t);var a=jn(t)?Js(t):void 0,n=a?a[0]:t.charAt(0),r=a?Os(a,1).join(""):t.slice(1);return n[e]()+r}}var to=eo("toUpperCase");function Ja(e){return to(In(e).toLowerCase())}const ao={key:1,class:"mx-1.5 flex flex-wrap gap-0 gap-y-1"},no=Ce({__name:"ForestryChartDisplay",props:{selectedFrameworks:{default:()=>[]},selectedArtkategori:{},chartType:{},currentTimeValue:{},singleFrameworkSelection:{type:Boolean,default:!1},frameworkComparisonMode:{type:Boolean,default:!1},selectedStartskog:{},redColor:{type:Boolean,default:!1},yellowColor:{type:Boolean,default:!1},maxYValue:{},matsvampVariant:{default:"standard"},relativeChart:{type:Boolean,default:!1}},async setup(e){let t,a;const n={matsvamp:"Alla matsvampar","goda matsvampar":"Goda matsvampar","rdlistade + signalarter":"Signal + rdlistade",atheliales:"Atheliales",boletales:"Boletales",cantharellales:"Cantharellales",spindlingar:"Cortinariaceae",russulales:"Russulales",thelephorales:"Thelephorales",ascomycota:"Ascomyceter",vriga:"vriga"},r={trakthygge:"trakthygge",bldning:"bldning",luckhuggning:"luckhuggning",skrm:"skrmtrd",skarm:"skrmtrd","ingen tgrd":"naturskydd"};function i(o){const c=(o||"").trim().toLowerCase();return c?r[c]||c:""}function l(o){return typeof o=="string"?o:typeof o=="number"?String(o):""}function s(o){if(typeof o=="number")return o;if(typeof o=="string"){const c=o.replace(",","."),m=Number(c);return Number.isFinite(m)?m:NaN}return NaN}const{data:u}=([t,a]=Je(()=>et("skogsbruk-svampar",()=>tt("skogsbrukSvampar").first())),t=await t,a(),t);function b(o){return o?Array.isArray(o)?o:Array.isArray(o?.entries)?o.entries:Array.isArray(o?.body)?o.body:Array.isArray(o?.data)?o.data:[]:[]}const p=x(()=>b(u.value)),f=x(()=>{const o={};for(const c of p.value){const m=i(String(c?.metod??"")),d=l(c?.startskog),h=s(c?.lder);if(!(!Number.isFinite(h)||!m))for(const[_,M]of Object.entries(n)){const N=s(c?.[M]);Number.isFinite(N)&&(o[_]||(o[_]=[]),o[_].push({artkategori:_,startskog:d,frameworks:m,lder:h,klassning:N}))}}return Object.values(o).forEach(c=>c.sort((m,d)=>m.lder-d.lder)),o}),{data:y}=([t,a]=Je(()=>et("kg-matsvamp-skogsbruk",()=>tt("kgMatsvampSkogsbruk").first())),t=await t,a(),t),{data:C}=([t,a]=Je(()=>et("total-svampar-skogsbruk",()=>tt("totalSvamparSkogsbruk").first())),t=await t,a(),t),B=x(()=>f.value.matsvamp??[]),L=x(()=>f.value["goda matsvampar"]??[]),w=x(()=>Array.isArray(y.value?.entries)?y.value.entries:[]),A=x(()=>f.value["rdlistade + signalarter"]??[]),S=x(()=>A.value),v=x(()=>f.value.atheliales??[]),D=x(()=>f.value.boletales??[]),H=x(()=>f.value.cantharellales??[]),R=x(()=>f.value.spindlingar??[]),$=x(()=>f.value.russulales??[]),ae=x(()=>f.value.ascomycota??[]),G=x(()=>f.value.thelephorales??[]),fe=x(()=>f.value.vriga??[]),pe=x(()=>Array.isArray(C.value?.entries)?C.value.entries:[]),{data:ce}=([t,a]=Je(()=>et("svampgrupper-relative-skogsbruk",()=>tt("svampgrupperRelativeSkogsbruk").first())),t=await t,a(),t),Ie=["atheliales","boletales","cantharellales","spindlingar","russulales","thelephorales","ascomycota","vriga"],ie=x(()=>{const o=Array.isArray(ce.value?.entries)?ce.value.entries:[],c=new Map;for(const d of o){if(!d)continue;const h=Number(d?.lder);if(!Number.isFinite(h))continue;const _=c.get(h)||{age:h};if(typeof d.artkategori=="string"&&d.klassning!==void 0){const M=Ta(d.artkategori),N=Number(d.klassning);M&&Number.isFinite(N)&&(_[M]=N)}else for(const M of Ie){const N=n[M],ee=d?.[N];if(ee==null)continue;const F=Number(ee);Number.isFinite(F)&&(_[M]=F)}c.set(h,_)}return Array.from(c.values()).map(d=>{for(const h of Ie)Number.isFinite(Number(d[h]))||(d[h]=0);return d}).sort((d,h)=>Number(d.age)-Number(h.age))}),Vt=x(()=>{const o=Number(g.maxYValue);if(It.value){if(Number.isFinite(o))return[0,o*2];const c=Array.isArray(ke.value)?ke.value:[];let m=0;for(const d of c){const h=E.value[0]||(g.selectedArtkategori[0]?.toLowerCase()??"");if(!h)continue;const _=Number(d?.[h]);Number.isFinite(_)&&_>m&&(m=_)}return[0,m*2||1]}return Number.isFinite(o)?[0,o]:void 0}),ke=x(()=>g.relativeChart?ie.value:g.chartType==="bar"?Ze.value:g.singleFrameworkSelection&&g.frameworkComparisonMode?nr.value:tr.value),Te=x(()=>{const c=(g.relativeChart?ie.value:ke.value).map(d=>Number(d?.age)).filter(d=>Number.isFinite(d));return c.length?[g.relativeChart?Math.max(0,Math.min(...c)):Math.min(...c),Math.max(...c)]:[0,1]}),ut=x(()=>{const o=ie.value.map(h=>Number(h?.age)).filter(h=>Number.isFinite(h));if(!o.length)return[0,50,100,150,200];const c=Math.max(...o);if(c<=80)return[0,20,50,80];const m=[0],d=50;for(let h=d;h<=c;h+=d)m.push(h);return m[m.length-1]!==c&&m.push(c),m}),$t=x(()=>g.relativeChart?ut.value:[0,10,20,30,40,50,60,70,80,90]),ht=o=>g.relativeChart?o===0?"0 r":ut.value.includes(o)?`${o} r`:"":o===0?"Avverkning":o===10?"":o===20?(ge.value,"20 r"):o===30||o===40?"":o===50?(ge.value,"50 r"):o===60||o===70?"":o===80?(ge.value,"80 r"):"";x(()=>[(g.selectedFrameworks||[]).join(","),g.selectedStartskog||"",g.chartType||"",g.singleFrameworkSelection?"S":"M",g.currentTimeValue||""].join("|"));const me=x(()=>Array.isArray(ke.value)&&ke.value.length>0),E=x(()=>{if(!g.singleFrameworkSelection)return[];if(g.frameworkComparisonMode){const d=g.selectedArtkategori?.[0];return d?[d.toLowerCase()]:[]}const o=(g.selectedArtkategori||[]).map(d=>(d||"").toLowerCase()).filter(d=>!Y.value.has(d)),c=ft.filter(d=>o.includes(d)),m=o.filter(d=>!ft.includes(d));return c.concat(m)}),Rt={left:10,right:10,top:10,bottom:10},T=I(null),j=I(!1);let ne=null;const je=Ra({width:0,height:0}),ge=I(!1);function Ke(){if(!T.value){je.width=0,je.height=0;return}const o=T.value.getBoundingClientRect();je.width=o.width,je.height=o.height,dt()}function dt(){typeof window>"u"||(ge.value=window.innerWidth<=640)}$e(async()=>{await Re(),j.value=!0,Ke(),dt(),requestAnimationFrame(()=>{Ke()}),typeof window<"u"&&"ResizeObserver"in window&&(ne=new ResizeObserver(()=>{Ke()}),T.value&&ne.observe(T.value))}),fr(()=>{ne&&(ne.disconnect(),ne=null)});const Y=I(new Set),ye=I(new Set),Yn=x(()=>g.frameworkComparisonMode||g.singleFrameworkSelection),g=e,Be=x(()=>g.matsvampVariant==="goda"?"goda":g.matsvampVariant==="kg"?"kg":"standard"),qn=x(()=>Be.value==="goda"?"goda matsvampar":Be.value==="kg"?"kg matsvamp":"matsvamp"),It=x(()=>(g.selectedArtkategori||[]).map(c=>(c||"").toLowerCase()).includes("matsvamp")&&Be.value==="kg"),jt=o=>o,Xn=o=>c=>{if(!It.value)return NaN;const m=Number(c?.[o]);return Number.isFinite(m)?m*2:NaN},wa=(o,c)=>{const m=Number(o?.[c]);return Number.isFinite(m)?jt(m):NaN},Un=(o,c)=>{const m=Number(o?.[c]);return Number.isFinite(m)?jt(m):NaN},Aa=(o,c,m)=>{const d=c+"__compare",h=Number(o?.[d]?.[m]);return Number.isFinite(h)?jt(h):NaN};function ze(o,c=1){const m=o.replace("#",""),d=m.length===3?m.split("").map(ee=>ee+ee).join(""):m,h=parseInt(d,16),_=h>>16&255,M=h>>8&255,N=h&255;return`rgba(${_}, ${M}, ${N}, ${c})`}x(()=>{const o={fre:-5,efter:1,10:10,20:20,50:50,80:80};return[g.currentTimeValue?o[g.currentTimeValue]??Te.value[0]:Te.value[0],Te.value[1]]});const xe=x(()=>{const o=g.currentTimeValue;if(!o)return null;const c={fre:-5,efter:1,10:10,20:20,50:50,80:80};if(o in c)return c[o];const m=Number(o);return Number.isFinite(m)?m:null});x(()=>{const o=(g.selectedFrameworks||[]).map(m=>m.toLowerCase()).join(","),c=(g.selectedArtkategori||[]).map(m=>m.toLowerCase()).join(",");return`${o}|${c}|${g.currentTimeValue||""}`});const zt={atheliales:"#8B5CF6",boletales:"#EC4899",cantharellales:"#eab308",spindlingar:"#F97316",russulales:"#22C55E",ascomycota:"#DC2626",vriga:"#94A3B8",thelephorales:"#0EA5E9",matsvamp:"#eab308","goda matsvampar":"#eab308","kg matsvamp":"#eab308","rdlistade + signalarter":"#14b8a6",total:"#64748b"},ft=["atheliales","ascomycota","vriga","spindlingar","russulales","boletales","cantharellales","thelephorales","matsvamp","goda matsvampar","rdlistade + signalarter","total"],Kn={atheliales:"Skinnsvampar",boletales:"Soppar",cantharellales:"Kantarellslktingar",spindlingar:"Spindelskivlingar",russulales:"Kremlor & riskor",ascomycota:"Sporsckssvampar",vriga:"vriga",thelephorales:"Tagg- och tomentelloida svampar",matsvamp:"Alla matsvampar","goda matsvampar":"Goda matsvampar","rdlistade + signalarter":"Naturvrdssvampar",total:"Total"},Zn={atheliales:"/images/svampgrupp/skinnsvamp.png",boletales:"/images/svampgrupp/sopp.png",cantharellales:"/images/svampgrupp/kantarell.png",spindlingar:"/images/svampgrupp/hattsvamp.png",russulales:"/images/svampgrupp/hattsvamp.png",thelephorales:"/images/svampgrupp/taggsvamp.png",ascomycota:"/images/svampgrupp/skalsvamp.png",vriga:"/images/svampgrupp/ovrigt.png"},Qn={trakthygge:[{age:0,text:"Avverkning"}],luckhuggning:[{age:0,text:"Avverkning 3 luckor"},{age:30,text:"Avverkning 3 luckor"},{age:60,text:"Avverkning 3 luckor"},{age:90,text:"Avverkning 3 luckor"}],bldning:[{age:0,text:"Avverkning 30% av trden"},{age:30,text:"Avverkning 30% av trden"},{age:60,text:"Avverkning 30% av trden"},{age:90,text:"Avverkning 30% av trden"}],skrmtrd:[{age:0,text:"Frberedande avverkning"},{age:10,text:"Frtrdsstllning"},{age:20,text:"Avverkning av frtrden"}]},Ca=x(()=>(g.selectedArtkategori||[]).map(o=>(o||"").toLowerCase()));function Ta(o){const c=(o||"").toLowerCase();return c==="kg matsvampar"?"kg matsvamp":c==="cortinariaceae"?"spindlingar":c==="ascomyceter"?"ascomycota":c==="ovriga"||c==="vrigt"||c==="ovrigt"?"vriga":c}function pt(o){if(!o)return zt.total;const c=Ta(o);return zt[c]||zt.total}const Jn=x(()=>g.singleFrameworkSelection&&!g.frameworkComparisonMode?E.value[0]||Ca.value[0]||"total":Ca.value[0]||"total"),mt=x(()=>pt(Jn.value)),er=o=>o==="matsvamp"&&Be.value==="goda"?"Goda matsvampar":o==="matsvamp"&&Be.value==="kg"?"Kg matsvampar":Kn[o]||Ja(o);function Et(o){const c=o.toLowerCase();return c==="naturskydd"?"Ingen tgrd":c==="trakthygge"?"Trakhyggesbruk":c==="skrmtrd"?"verhllen skrm":Ja(o)}const Me=["naturskydd","trakthygge","skrmtrd","luckhuggning","bldning"],Pt=x(()=>(g.selectedFrameworks||[]).map(o=>o.toLowerCase())),Wt=x(()=>Pt.value.filter(o=>Me.includes(o)&&!ye.value.has(o))),Ht=x(()=>{const o={};for(const c of Pt.value){const m=Da(c).map(d=>({age:Number(d.age),value:Number(d.klassning)})).filter(d=>Number.isFinite(d.age)&&Number.isFinite(d.value)).sort((d,h)=>d.age-h.age);o[c]=m}return o}),Ba=x(()=>{const o=Object.values(Ht.value);if(!o.length)return[];let c=1/0,m=-1/0;const d=new Set;for(const h of o)for(const _ of h){const M=Number(_.age);Number.isFinite(M)&&(d.add(M),M<c&&(c=M),M>m&&(m=M))}if(!Number.isFinite(c)||!Number.isFinite(m))return[];for(let h=Math.floor(c);h<=Math.ceil(m)+1e-9;h+=1)d.add(Number(h.toFixed(6)));return Array.from(d).sort((h,_)=>h-_)});function Gt(o,c){const m=o.findIndex(_=>_.age===c);if(m!==-1)return o[m].value;let d=-1,h=-1;for(let _=0;_<o.length;_++)if(o[_].age<c&&(d=_),o[_].age>c){h=_;break}if(d!==-1&&h!==-1){const _=o[d],M=o[h],N=(c-_.age)/(M.age-_.age);return _.value+N*(M.value-_.value)}}const tr=x(()=>{const o=[];for(const c of Ba.value){const m={age:c};if(g.singleFrameworkSelection&&!g.frameworkComparisonMode){const d=E.value.length?E.value:(g.selectedArtkategori||[]).map(_=>(_||"").toLowerCase()).filter(Boolean),h=ar.value;for(const _ of d){const M=h[_]||[],N=Gt(M,c);typeof N=="number"&&Number.isFinite(N)&&(m[_]=N)}}else for(const d of Wt.value){const h=Ht.value[d]||[],_=Gt(h,c);typeof _=="number"&&Number.isFinite(_)&&(m[d]=_)}o.push(m)}return o}),ar=x(()=>{if(!(g.singleFrameworkSelection&&!g.frameworkComparisonMode))return{};const o={},c=E.value.length?E.value:(g.selectedArtkategori||[]).map(d=>(d||"").toLowerCase()).filter(Boolean),m=Array.isArray(Ze.value)?Ze.value:[];for(const d of m){const h=Number(d?.age);if(Number.isFinite(h))for(const _ of c){const M=Number(d?.[_]);Number.isFinite(M)&&(o[_]=o[_]||[]).push({age:h,value:M})}}for(const d of Object.keys(o))o[d].sort((h,_)=>h.age-_.age);return o}),Yt=x(()=>E.value[0]||g.selectedArtkategori?.[0]?.toLowerCase()||""),nr=x(()=>{if(!(g.singleFrameworkSelection&&g.frameworkComparisonMode&&g.chartType==="area"))return[];const o=Yt.value;if(!o)return[];const c=ye.value,m=Me.filter(h=>g.selectedFrameworks.map(_=>_.toLowerCase()).includes(h)&&!c.has(h)),d=[];for(const h of Ba.value){const _={age:h};let M=!1;for(const N of m){const ee=Ht.value[N]||[],F=Gt(ee,h);if(typeof F=="number"&&Number.isFinite(F)){const K=N+"__compare",re=_[K]||{};re[o]=F,_[K]=re,M=!0}}M&&d.push(_)}return d});x(()=>{const o={},c=Array.isArray(Ze.value)?Ze.value:[];for(const m of Wt.value)o[m]=c.filter(d=>Number.isFinite(Number(d?.age))&&Number.isFinite(Number(d?.[m]))).map(d=>({age:Number(d.age),value:Number(d[m]),__row:d})).sort((d,h)=>d.age-h.age);return o});const Oe=x(()=>{if(g.singleFrameworkSelection){if(g.frameworkComparisonMode){const F=Me.filter(Q=>g.selectedFrameworks.map(qt=>qt.toLowerCase()).includes(Q)),K=mt.value,re=.5;return F.map((Q,qt)=>{const $a=Et(Q),hr=ye.value.has(Q),Xt=qt===1?"#c3a283":K;return{key:Q,name:$a,label:$a,color:Xt,colorArea:ze(Xt,re),colorLine:Xt,inactive:hr}})}const d=(g.selectedArtkategori||[]).map(F=>(F||"").toLowerCase()).filter(Boolean),h=d.length?d:E.value.concat(Array.from(Y.value)),_=new Set(h),M=ft.filter(F=>_.has(F)),N=Array.from(_).filter(F=>!ft.includes(F)).sort();return M.concat(N).map(F=>{const K=pt(F),re=er(F);return{key:F,name:re,label:re,color:K,colorArea:ze(K,.5),colorLine:K,inactive:Y.value.has(F),icon:Zn[F]}})}const o=Me.filter(d=>g.selectedFrameworks.map(h=>h.toLowerCase()).includes(d)),c=mt.value,m=.5;return o.map((d,h)=>{const _=Et(d),M=ye.value.has(d),N=h===1?"#c3a283":c;return{key:d,name:_,label:_,color:N,colorArea:ze(N,m),colorLine:N,inactive:M}})}),se=x(()=>g.singleFrameworkSelection&&!g.frameworkComparisonMode?[]:Oe.value.filter(o=>!o.inactive));k.TopOutside;const rr=x(()=>{if(g.singleFrameworkSelection){if(g.frameworkComparisonMode)return se.value.map(c=>c.key);const o=(g.selectedFrameworks||[]).map(c=>(c||"").toLowerCase()).filter(c=>Me.includes(c)).filter(c=>!ye.value.has(c));return o.length?o:Wt.value}return se.value.map(o=>o.key)});function Ma(o){return o==="total"?pe.value:o==="matsvamp"?Be.value==="goda"?L.value:Be.value==="kg"?w.value:B.value:o==="goda matsvampar"?L.value:o==="rdlistade + signalarter"?S.value:o==="atheliales"?v.value:o==="boletales"?D.value:o==="cantharellales"?H.value:o==="spindlingar"?R.value:o==="russulales"?$.value:o==="ascomycota"?ae.value:o==="thelephorales"?G.value:o==="vriga"?fe.value:[]}function Oa(o){const c=o.toLowerCase();return c==="matsvamp"?qn.value:c}function Da(o){const c=g.selectedArtkategori.map(h=>h.toLowerCase()),m=g.selectedStartskog?g.selectedStartskog.toLowerCase():null,d=[];return c.forEach(h=>{const _=Oa(h);(Ma(h)||[]).forEach(N=>{N.artkategori?.toLowerCase()===_&&N.frameworks?.toLowerCase()===o.toLowerCase()&&(m&&(N.startskog?.toLowerCase()??m)!==m||d.push({age:N.lder,klassning:+N.klassning}))})}),d}const Ze=x(()=>{if(g.relativeChart)return ie.value;const o=new Map;if(g.singleFrameworkSelection){const c=g.frameworkComparisonMode?(g.selectedFrameworks||[]).map(m=>m.toLowerCase()).slice(0,2):[g.selectedFrameworks[0]?.toLowerCase()].filter(Boolean);g.selectedArtkategori.forEach(m=>{const d=m.toLowerCase(),h=Ma(d),_=g.selectedStartskog?g.selectedStartskog.toLowerCase():null,M=Oa(d);c.forEach(N=>{(h||[]).filter(F=>{const K=F.artkategori?.toLowerCase()===M,re=F.frameworks?.toLowerCase()===N,Q=!_||(F.startskog?.toLowerCase()??_)===_;return K&&re&&Q}).map(F=>({age:F.lder,klassning:+F.klassning})).forEach(F=>{const K=o.get(F.age)||{age:F.age};if(g.frameworkComparisonMode){const re=`${N}__compare`,Q=K[re]||{};Q[d]=F.klassning,K[re]=Q}else K[d]=F.klassning;o.set(F.age,K)})})})}else Pt.value.forEach(c=>{Da(c).forEach(d=>{const h=o.get(d.age)||{age:d.age};h[c]=d.klassning,o.set(d.age,h)})});return Array.from(o.values()).sort((c,m)=>c.age-m.age)}),De=o=>{const c=Number(o?.age);return Number.isFinite(c)?c:void 0},ir=x(()=>{if(g.singleFrameworkSelection){if(g.frameworkComparisonMode){const c=E.value[0]||g.selectedArtkategori[0]?.toLowerCase();return se.value.map(m=>{const d=m.key;return h=>{const M=h?.[`${d}__compare`]?.[c];return Number.isFinite(Number(M))?Number(M):NaN}})}return(E.value.length?E.value:g.selectedArtkategori.map(c=>c.toLowerCase())).filter(c=>!Y.value.has(c)).map(c=>m=>m[c])}return se.value.map(o=>c=>c[o.key])}),sr=x(()=>g.singleFrameworkSelection?g.frameworkComparisonMode?se.value.map(c=>ze(c.colorLine||c.color,.7)||"#000000"):(E.value.length?E.value:g.selectedArtkategori.map(c=>c.toLowerCase())).filter(c=>!Y.value.has(c)).map(c=>pt(c)):se.value.map(o=>o.color||"#000000"));function Na(o){const c=(o.key||o.name||"").toLowerCase();if(c)if(g.singleFrameworkSelection)if(g.frameworkComparisonMode){const m=new Set(ye.value);m.has(c)?m.delete(c):m.add(c),ye.value=m}else{const m=new Set(Y.value);m.has(c)?m.delete(c):m.add(c),Y.value=m}else{const m=Me.find(h=>h===c)||Me.find(h=>Et(h).toLowerCase()===c);if(!m)return;const d=new Set(ye.value);d.has(m)?d.delete(m):d.add(m),ye.value=d}}const or=x(()=>!g.singleFrameworkSelection||g.frameworkComparisonMode?[]:E.value.map(o=>c=>Un(c,o))),lr=x(()=>!g.singleFrameworkSelection||g.frameworkComparisonMode?[]:E.value.map(o=>pt(o))),Fa=Ra({age:0});function cr(o){return o?Object.keys(o).filter(m=>m!=="age"&&m!=="__markerY").some(m=>{const d=o[m];return d&&typeof d=="object"?Object.values(d).some(h=>Number.isFinite(Number(h))):Number.isFinite(Number(d))}):!1}const La=x(()=>g.singleFrameworkSelection?g.frameworkComparisonMode?se.value.length:E.value.length:se.value.length),Ee=x(()=>La.value>0),Va=x(()=>{const o=ke.value;return La.value?o.filter(c=>cr(c)):g.frameworkComparisonMode&&g.singleFrameworkSelection&&o.length?o.map(c=>{const m={age:c.age};for(const d of g.selectedFrameworks||[]){const h=d.toLowerCase();m[`${h}__compare`]={[E.value[0]||g.selectedArtkategori[0]?.toLowerCase()||""]:NaN}}return m}):o.length?o:[Fa]}),ur=x(()=>{if(!me.value)return[];const o=rr.value;if(!o.length)return[];const[c,m]=Te.value;if(!Number.isFinite(c)||!Number.isFinite(m)||c===m)return[];const d=[],h=M=>{const N=Oe.value.find(F=>F.key===M);return N?.colorLine||N?.colorArea||N?.color||mt.value||"#64748b"},_=M=>{const N=Oe.value.find(ee=>ee.key===M);return N?.colorLine||N?.color||mt.value||"#1f2937"};return o.forEach(M=>{const N=Qn[M];if(!N?.length)return;const ee=h(M),F=_(M);N.forEach((K,re)=>{const Q=Number(K.age);Number.isFinite(Q)&&(Q<c||Q>m||d.push({id:`${M}-${Q}-${re}`,value:Q,color:ee,labelText:K.text,labelColor:F}))})}),d});return(o,c)=>{const m=en,d=pr;return O(),z("div",{class:"custom-area",ref_key:"rootEl",ref:T},[de(d,null,{default:Le(()=>[j.value&&me.value&&Yn.value&&Oe.value.length&&!(g.singleFrameworkSelection&&!g.frameworkComparisonMode)?(O(),X(U(hs),{key:0,items:Oe.value,onLegendItemClick:Na,class:"mx-2 flex flex-wrap gap-2"},null,8,["items"])):q("",!0),j.value&&me.value&&Oe.value.length&&g.singleFrameworkSelection&&!g.frameworkComparisonMode?(O(),z("div",ao,[(O(!0),z(ve,null,Ne(Oe.value,h=>(O(),X(m,{key:h.key,type:"button",variant:"ghost",color:"neutral",size:"sm",class:"flex items-center px-2 py-1 gap-2 hover:opacity-95 transition ring-muted/50",onClick:_=>Na(h)},{default:Le(()=>[h.icon?(O(),z("div",{key:0,class:"h-5 w-5",style:Ia({backgroundColor:h.color||h.colorLine||h.colorArea||"#000",WebkitMask:`url(${h.icon}) center / contain no-repeat`,mask:`url(${h.icon}) center / contain no-repeat`,opacity:h.inactive?.2:1})},null,4)):q("",!0),te("span",{style:Ia({opacity:h.inactive?.2:1})},Se(h.label),5)]),_:2},1032,["onClick"]))),128))])):q("",!0),j.value&&me.value?(O(),X(U(Vr),{key:2,data:Va.value.length?Va.value:[Fa],height:200,margin:Rt,xDomain:Te.value,yDomain:Vt.value},{default:Le(()=>[g.chartType==="area"&&g.singleFrameworkSelection&&!g.frameworkComparisonMode?(O(),z(ve,{key:0},[de(U(vt),{x:De,y:or.value,color:lr.value,interpolateMissingData:!0},null,8,["y","color"]),Ee.value&&xe.value!==null?(O(),X(U(Qt),{key:0,axis:"x",from:-7,to:xe.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):q("",!0),Ee.value?(O(),X(U(_t),{key:1,value:xe.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):q("",!0)],64)):g.chartType==="area"&&g.singleFrameworkSelection&&g.frameworkComparisonMode?(O(),z(ve,{key:1},[(O(!0),z(ve,null,Ne(se.value,h=>(O(),X(U(vt),{x:De,y:_=>Aa(_,h.key,Yt.value),color:()=>h.colorArea||h.color,interpolateMissingData:!0,zIndex:1},null,8,["y","color"]))),256)),(O(!0),z(ve,null,Ne(se.value,h=>(O(),X(U(Ua),{x:De,y:_=>Aa(_,h.key,Yt.value),color:()=>ze(h.colorLine||h.color,.6)},null,8,["y","color"]))),256)),Ee.value&&xe.value!==null?(O(),X(U(Qt),{key:0,axis:"x",from:-7,to:xe.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):q("",!0),Ee.value?(O(),X(U(_t),{key:1,value:xe.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):q("",!0)],64)):g.chartType==="area"?(O(),z(ve,{key:2},[(O(!0),z(ve,null,Ne(se.value,h=>(O(),X(U(vt),{x:De,y:_=>wa(_,h.key),color:()=>h.colorArea||h.color,interpolateMissingData:!0,zIndex:1},null,8,["y","color"]))),256)),(O(!0),z(ve,null,Ne(se.value,h=>(O(),X(U(Ua),{x:De,y:_=>wa(_,h.key),color:()=>ze(h.colorLine||h.color,.6)},null,8,["y","color"]))),256)),It.value?(O(!0),z(ve,{key:0},Ne(se.value,h=>(O(),X(U(vt),{key:h.key+"-kg-x2",x:De,y:Xn(h.key),color:()=>"rgba(234,179,8,0.3)"},null,8,["y"]))),128)):q("",!0),Ee.value&&xe.value!==null?(O(),X(U(Qt),{key:1,axis:"x",from:-7,to:xe.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):q("",!0),Ee.value?(O(),X(U(_t),{key:2,value:xe.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):q("",!0)],64)):g.chartType==="bar"?(O(),X(U(os),{key:3,color:sr.value,x:De,y:ir.value,groupPadding:.5,groupMaxWidth:20},null,8,["color","y"])):q("",!0),(O(!0),z(ve,null,Ne(ur.value,h=>(O(),X(U(_t),{axis:"x",value:h.value,color:"rgba(69,10,10, 0.5)",lineStyle:[2,3],label:h.labelText,labelColor:h.labelColor,zIndex:100,lineWidth:1},null,8,["value","label","labelColor"]))),256)),de(U(ja),{tickTextFontSize:"12px",gridLine:!0,type:"x",tickValues:$t.value,tickFormat:ht},null,8,["tickValues"]),de(U(ja),{tickTextFontSize:"12px",type:"y"})]),_:1},8,["data","xDomain","yDomain"])):q("",!0)]),_:1})],512)}}}),ro=Object.assign(no,{__name:"ForestryChartDisplay"}),io={class:"mt-2 mb-1 flex justify-between"},so={class:"pr-2"},oo={class:"flex items-center gap-2"},lo=["src"],co={class:"flex items-center gap-2"},uo={key:0},ho={class:"px-4 pb-4 text-sm text-muted"},fo={key:1},po={class:"px-4 pb-4 text-sm text-muted"},mo={key:2},go={class:"px-4 pb-4 text-sm text-muted"},vo={key:3},_o={class:"px-4 pb-4 text-sm text-muted"},yo={class:"mx-2"},xo={class:"flex flex-col gap-4"},bo={class:"text-sm text-muted"},ko="Den relativa frdelningen av olika grupper mykorrhizasvampar vid olika skogsldrar. Uppgifterna baseras enbart p frekomst i skogar av olika ldrar och r inte kopplade till vilken skogssktselmetod som anvnts.",So=Ce({__name:"ForestryChartMain",props:{parentSelectedFrameworks:{},currentTimeValue:{},currentStartskog:{},selectedChart:{}},emits:["update:selectedChart"],async setup(e,{expose:t,emit:a}){let n,r;const i=mr("(max-width: 767px)"),l={skogsskole:"Mngd mykorrhizasvamp i marken i frhllande till frekomsten i ldre skog/fre avverkning (%).",rodlistade:"Mngden av mykorrhizasvampar som r rdlistade/signalarter i marken i frhllande till frekomsten i ldre skog/fre avverkning (%).",grupper:"Mngden av olika grupper svampar i frhllande till frekomsten i ldre skog/fre avverkning (%)."},s={standard:"Mngden av alla matsvampar i marken frhllande till frekomsten i ldre skog/fre avverkning (%).",goda:"Mngden av alla goda matsvampar i frhllande till frekomsten i ldre skog/fre avverkning (%).",kg:"Frskvikten av alla matsvampar (kg/ha) under en ssong i frhllande till frekomsten i ldre skog/fre avverkning. Medel- samt min-maxvrde."},u=["standard","goda","kg"],{data:b}=([n,r]=Je(()=>et("forestry-chart-texts",()=>tt("forestryChartTexts").first())),n=await n,r(),n);function p(T){return T?Array.isArray(T)?T:Array.isArray(T?.entries)?T.entries:Array.isArray(T?.body)?T.body:Array.isArray(T?.data)?T.data:[]:[]}const f=x(()=>p(b.value)),y=x(()=>{const T={};for(const j of f.value)j?.id&&(T[j.id]=j);return T}),C=x(()=>y.value.skogsskole?.description??l.skogsskole),B=x(()=>y.value.rodlistade?.description??l.rodlistade),L=x(()=>y.value.grupper?.description??l.grupper),w=x(()=>y.value.grupper?.modalDescription??ko),A=x(()=>{const T={...s},j=y.value.matsvampar;if(j?.variants?.length)for(const ne of j.variants)S(ne?.id)&&ne.description&&(T[ne.id]=ne.description);else j?.description&&(T.standard=j.description);return T});function S(T){return T?u.includes(T):!1}const v=e,D=a;I("naturskog"),I("naturskog"),I("naturskog");const H=I("trakthygge");I(!0),I(!1),I(!1),I(!1),I(!1),I(!1);const R=[{label:"Mngd mykorrhizasvamp",value:"skogsskole",icon:"i-lineicons-mushroom-1"},{label:"Svampgrupper",value:"grupper",icon:"i-material-symbols-category-rounded"},{label:"Naturvrdssvampar",value:"rodlistade",icon:"i-material-symbols-award-star"},{label:"Matsvampar",value:"matsvampar",icon:"icon-park-solid:knife-fork"}],$=I(R.some(T=>T.value===v.selectedChart)?v.selectedChart:R[0].value),ae=x(()=>R.find(T=>T.value===$.value)?.icon),G=x(()=>(v.parentSelectedFrameworks?.length??0)===2);function fe(T){R.some(j=>j.value===T)&&($.value=T)}t({setSelectedChart:fe}),le(()=>v.selectedChart,T=>{typeof T=="string"&&R.some(j=>j.value===T)&&$.value!==T&&($.value=T)}),le($,T=>{D("update:selectedChart",T)});const pe=["atheliales","boletales","cantharellales","spindlingar","russulales","thelephorales","ascomycota","vriga"],ce=I("area");I("area");const Ie=[{label:"Alla matsvampar",value:"standard",icon:"i-lineicons-mushroom-1"},{label:"Goda matsvampar",value:"goda",icon:"i-heroicons-star-16-solid"},{label:"Kg matsvampar",value:"kg",icon:"i-material-symbols-scale-outline-rounded"}],ie=I("standard"),Vt=x(()=>ie.value==="goda"?"goda matsvampar":"matsvamp"),ke=x(()=>Ie.find(T=>T.value===ie.value)?.icon),Te=x(()=>Ie.find(T=>T.value===ie.value)?.label??"Vlj dataset"),ut=x(()=>A.value[ie.value]),$t=x(()=>ie.value==="kg"?55:28),ht=I([...pe]),me=[{label:"Skinnsvampar",value:"atheliales",icon:"/images/svampgrupp/skinnsvamp.png",avatar:{src:"/images/svampgrupp/skinnsvamp.png",alt:"Skinnsvampar"}},{label:"Soppar",value:"boletales",icon:"/images/svampgrupp/sopp.png",avatar:{src:"/images/svampgrupp/sopp.png",alt:"Soppar"}},{label:"Kantarellslktingar",value:"cantharellales",icon:"/images/svampgrupp/kantarell.png",avatar:{src:"/images/svampgrupp/kantarell.png",alt:"Kantarellslktingar"}},{label:"Spindelskivlingar",value:"spindlingar",icon:"/images/svampgrupp/hattsvamp.png",avatar:{src:"/images/svampgrupp/hattsvamp.png",alt:"Spindelskivlingar"}},{label:"Kremlor & riskor",value:"russulales",icon:"/images/svampgrupp/hattsvamp.png",avatar:{src:"/images/svampgrupp/hattsvamp.png",alt:"Kremlor & riskor"}},{label:"Tagg- och tomentelloida svampar",value:"thelephorales",icon:"/images/svampgrupp/taggsvamp.png",avatar:{src:"/images/svampgrupp/taggsvamp.png",alt:"Tagg- och tomentelloida svampar"}},{label:"Sporsckssvampar",value:"ascomycota",icon:"/images/svampgrupp/skalsvamp.png",avatar:{src:"/images/svampgrupp/skalsvamp.png",alt:"Sporsckssvampar"}},{label:"vriga svampar",value:"vriga",icon:"/images/svampgrupp/ovrigt.png",avatar:{src:"/images/svampgrupp/ovrigt.png",alt:"vriga svampar"}}],E=I(me[0].value),Rt=x(()=>me.find(T=>T.value===E.value)?.avatar);return le([$,G],([T,j])=>{T==="grupper"&&j||(E.value=me[0].value),T==="grupper"&&!j&&(ht.value=[...pe])}),le(()=>v.parentSelectedFrameworks?.length,()=>{$.value==="grupper"&&G.value&&(E.value=me[0].value)}),(T,j)=>{const ne=dr,je=gr,ge=ro,Ke=en,dt=vr;return O(),z("div",null,[te("div",io,[de(ne,{modelValue:$.value,"onUpdate:modelValue":j[0]||(j[0]=Y=>$.value=Y),items:R,"value-key":"value","option-attribute":"label",size:"xl",variant:"none",class:"hover:cursor-pointer",icon:ae.value,ui:{content:"min-w-fit",value:"sm:text-lg sm:font-medium text-neutral-700"}},null,8,["modelValue","icon"]),te("div",so,[$.value==="grupper"&&G.value?(O(),X(ne,{key:0,modelValue:E.value,"onUpdate:modelValue":j[1]||(j[1]=Y=>E.value=Y),items:me,"option-attribute":"label","value-key":"value",size:"lg",variant:"soft",placeholder:"Vlj svampgrupp",class:"hover:cursor-pointer rounded-full",ui:{content:"min-w-fit",value:"hidden sm:flex",base:"min-h-8"},avatar:Rt.value},{item:Le(({item:Y})=>[te("div",oo,[Y.icon?(O(),z("img",{key:0,src:Y.icon,alt:"",class:"size-5 rounded-sm object-contain"},null,8,lo)):q("",!0),te("span",null,Se(Y.label),1)])]),_:1},8,["modelValue","avatar"])):q("",!0),$.value==="matsvampar"?(O(),X(ne,{key:1,modelValue:ie.value,"onUpdate:modelValue":j[2]||(j[2]=Y=>ie.value=Y),items:Ie,content:{align:"end",side:"bottom",sideOffset:8},"option-attribute":"label","value-key":"value",placeholder:"Vlj dataset",class:"hover:cursor-pointer rounded-full",size:"lg",variant:"soft",ui:{content:"w-fit shrink-0",value:"hidden",base:"min-h-8",item:"gap-0"},icon:ke.value,"aria-label":Te.value},{item:Le(({item:Y})=>[te("div",co,[Y.icon?(O(),X(je,{key:0,name:Y.icon,class:"size-4"},null,8,["name"])):q("",!0),te("span",null,Se(Y.label),1)])]),_:1},8,["modelValue","icon","aria-label"])):q("",!0)])]),te("div",null,[$.value==="skogsskole"?(O(),z("div",uo,[de(ge,{selectedFrameworks:v.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","bldning","skrmtrd"],selectedArtkategori:["total"],chartType:ce.value,maxYValue:130,currentTimeValue:v.currentTimeValue,frameworkComparisonMode:G.value},null,8,["selectedFrameworks","chartType","currentTimeValue","frameworkComparisonMode"]),te("div",ho,Se(C.value),1)])):q("",!0),$.value==="rodlistade"?(O(),z("div",fo,[de(ge,{selectedFrameworks:v.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","bldning","skrmtrd"],selectedArtkategori:["rdlistade + signalarter"],chartType:ce.value,selectedStartskog:v.currentStartskog,redColor:!0,maxYValue:.65,currentTimeValue:v.currentTimeValue,frameworkComparisonMode:G.value},null,8,["selectedFrameworks","chartType","selectedStartskog","currentTimeValue","frameworkComparisonMode"]),te("div",po,Se(B.value),1)])):q("",!0),$.value==="matsvampar"?(O(),z("div",mo,[de(ge,{selectedFrameworks:v.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","bldning","skrmtrd"],selectedArtkategori:[Vt.value],chartType:ce.value,selectedStartskog:v.currentStartskog,yellowColor:!0,maxYValue:$t.value,currentTimeValue:v.currentTimeValue,matsvampVariant:ie.value,frameworkComparisonMode:G.value},null,8,["selectedFrameworks","selectedArtkategori","chartType","selectedStartskog","maxYValue","currentTimeValue","matsvampVariant","frameworkComparisonMode"]),te("div",go,Se(ut.value),1)])):q("",!0),$.value==="grupper"?(O(),z("div",vo,[de(ge,{selectedFrameworks:v.parentSelectedFrameworks??[H.value],selectedArtkategori:G.value?[E.value]:ht.value,frameworkComparisonMode:G.value,chartType:ce.value,singleFrameworkSelection:!0,selectedStartskog:v.currentStartskog,currentTimeValue:v.currentTimeValue},null,8,["selectedFrameworks","selectedArtkategori","frameworkComparisonMode","chartType","selectedStartskog","currentTimeValue"]),te("div",_o,Se(L.value),1),te("div",yo,[$.value==="grupper"?(O(),X(dt,{key:0,fullscreen:!!U(i),title:"Relativ mngd",description:""},{body:Le(()=>[te("div",xo,[de(ge,{selectedFrameworks:["trakthygge"],selectedArtkategori:pe,chartType:"area",singleFrameworkSelection:!0,relativeChart:!0}),te("p",bo,Se(w.value),1)])]),default:Le(()=>[de(Ke,{size:"lg",variant:"outline",class:"px-3 flex justify-center ring-muted/50",color:"neutral",icon:"i-carbon-diagram-reference",label:"Visa diagram fr relativ mngd vid olika ldrar"})]),_:1},8,["fullscreen"])):q("",!0)])])):q("",!0)])])}}}),To=Object.assign(_r(So,[["__scopeId","data-v-15ad1bd7"]]),{__name:"ForestryChartMain"});export{To as _};
