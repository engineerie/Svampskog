import{B as ve,W as f,a5 as be,r as L,b5 as ke,b6 as Ce,K as me,b7 as $e,aT as Be,d as y,f as v,h as n,N as S,g as o,w as _,P as b,V as oe,b8 as Se,aH as _e,e as a,O as ae,F as re,t as F,U as pe,n as k,aB as he,aM as De,af as ge,L as fe,_ as Te,aD as le,aI as ze,b9 as Me,aE as ne,aF as ie,ae as Ie,ap as Ue,av as je,ag as Le,aC as Fe,aL as Ne}from"#entry";import{c as Ae,b as Ee}from"./DQR028nk.js";import{_ as He}from"./CrWnOoLk.js";import{M as ce,_ as we}from"./CJNWtRw5.js";import{_ as Re}from"./B8oaYLme.js";import{_ as Ve}from"./CCgS_u6R.js";import{_ as Pe}from"./DKEXpoYC.js";import"./CQsjKb-3.js";import"./DBzJlu46.js";import"./Dd28W9ZZ.js";import"./cnMxw3XX.js";import"./iik6CYzq.js";import"./CGRtDSyY.js";import"./wHDpdQR8.js";import"./Cpj98o6Y.js";const Oe={key:0,class:"py-16 sm:py-20"},Ke={class:"px-0 mx-auto overflow-hidden"},We={key:0,class:"text-3xl font-semibold sm:text-4xl text-neutral-900"},Ye={key:1,class:"mt-2 text-neutral-600 max-w-2xl"},qe=["aria-expanded","onClick","onKeyup"],Ge={key:1,class:""},Je={key:0,class:"relative overflow-hidden"},Qe={class:"p-4 space-y-2"},Xe={key:0,class:"text-xl font-semibold text-neutral-900 text-start"},Ze={key:0,class:"fixed inset-0 z-20 flex items-center justify-center"},et={class:"h-full w-full bg-white absolute"},tt={class:"flex flex-col sm:flex-row sm:items-end sm:justify-between"},st={class:"transition-all"},ot=ve({__name:"SCarousel",props:{section:{},items:{},title:{},description:{}},setup(ue){const d=ue,h=f(()=>d.items??d.section?.items??[]),D=be(),x=f(()=>!!D.card),G=f(()=>!!D.details),P=f(()=>!!D.header),M=f(()=>d.section?.title??d.title??null),N=f(()=>d.section?.description??d.description??null),J=f(()=>!!(M.value||N.value||P.value)),m=L(null),C=L(!1),V={duration:.25,easing:"easeInOut"},A=ke(document.body),t=Ce({initial:null,frame:null,source:null,showBackdrop:!1,showDetails:!1,closing:!1}),$=L([]),B=L(null);me(h,()=>{$.value=[]});const i=f(()=>t.initial),s=f(()=>t.frame),w=f(()=>t.showBackdrop),c=f(()=>t.showDetails),O=f(()=>t.closing),g=f(()=>m.value===null?null:h.value[m.value]??null);function E(e){return e?e.image??e.img??"":""}function H(e){return e?e.description??"":""}function Q(e){const r=["w-full object-cover transition-transform duration-500 group-hover:scale-[1.02]"];return(typeof e?.noBorder=="boolean"?e?.noBorder:!1)||r.push("ring ring-neutral-200 shadow"),r}function K(e){const r=window.innerWidth,l=window.innerHeight,p=Math.min(0,Math.max(32,r*.05));e.height/e.width;let I=Math.min(r-p*2,800),se=l;return{top:42,left:(r-I)/2,width:I,height:se}}async function R(e,r){if(C.value||!h.value[e])return;const l=r.currentTarget;if(!l)return;const p=l.getBoundingClientRect();t.source=l,t.initial={top:p.top,left:p.left,width:p.width,height:p.height},t.frame={...t.initial},t.showBackdrop=!1,t.showDetails=!1,t.closing=!1,m.value=e,C.value=!0,await fe(),B.value?.emblaApi?.scrollTo(e),requestAnimationFrame(()=>{t.showBackdrop=!0,t.frame=K(p),window.setTimeout(()=>{C.value&&m.value===e&&(t.showDetails=!0)},V.duration*1e3*.6)})}function T(){if(!C.value)return;t.showDetails=!1,t.closing=!0,t.showBackdrop=!1;const e=t.source?.getBoundingClientRect();t.frame=e?{top:e.top,left:e.left,width:e.width,height:e.height}:t.initial,window.setTimeout(()=>{C.value=!1,m.value=null,t.initial=null,t.frame=null,t.source=null,t.showDetails=!1,t.showBackdrop=!1,t.closing=!1},V.duration*1e3)}me(C,e=>{A.value=e,e||(t.showBackdrop=!1,t.showDetails=!1,t.closing=!1)}),$e(window,"keydown",e=>{e.key==="Escape"&&T()}),Be(()=>{A.value=!1});function X(e,r){e&&($.value[r]=e)}function Z(e,r=!1){const l=$.value[e];if(!l)return;const p=l.getBoundingClientRect();t.source=l,t.initial={top:p.top,left:p.left,width:p.width,height:p.height},r&&(t.frame=K(p))}const W=f(()=>h.value.length>1);function Y(e,r){if(!W.value||m.value===null)return null;const l=h.value;if(!l.length)return null;const p=(m.value+r+l.length)%l.length,I=l[p]?.title;return I?`${e}: ${I}`:e}const ee=f(()=>Y("Föregående",-1)),u=f(()=>Y("Nästa",1));function te(e){const r=h.value;if(!r.length)return;const l=(e+r.length)%r.length;m.value!==l&&(t.showDetails=!1,m.value=l,fe(()=>{B.value?.emblaApi?.scrollTo(l),requestAnimationFrame(()=>{Z(l,!0),t.showDetails=!0})}))}function ye(){m.value!==null&&te(m.value+1)}function xe(){m.value!==null&&te(m.value-1)}return(e,r)=>{const l=_e,p=he,I=Pe,se=we,de=De,q=ge;return h.value.length?(a(),y("section",Oe,[n("div",Ke,[J.value?(a(),S(l,{key:0,class:"mb-8 sm:mb-10 px-6"},{default:_(()=>[P.value?ae(e.$slots,"header",{key:0,title:M.value,description:N.value},void 0,!0):(a(),y(re,{key:1},[M.value?(a(),y("h2",We,F(M.value),1)):v("",!0),N.value?(a(),y("p",Ye,F(N.value),1)):v("",!0)],64))]),_:3})):v("",!0),o(l,{class:"overflow-visible"},{default:_(()=>[h.value.length?(a(),S(I,{key:0,ref_key:"carouselRef",ref:B,items:h.value,arrows:"",class:"pb-6 mb-12",ui:{viewport:"overflow-visible",container:"",item:"basis-8/9 sm:basis-[350px]",controls:"mt-12 flex justify-center",arrows:"flex gap-4",prev:"!static !transform-none ring-0",next:"!static !transform-none ring-0"}},{default:_(({item:U,index:z})=>[n("button",{class:"group relative w-full focus-visible:outline focus-visible:outline-offset-4 focus-visible:outline-primary transition-opacity","aria-expanded":m.value===z,onClick:j=>R(z,j),onKeyup:[pe(oe(j=>R(z,j),["prevent"]),["enter"]),pe(oe(j=>R(z,j),["prevent"]),["space"])],ref:j=>X(j,z)},[n("div",{class:k(["relative overflow-hidden rounded border border-muted/50 bg-white group-hover:bg-neutral-50 cursor-pointer h-full",m.value===z&&(w.value||O.value)?"opacity-0 pointer-events-none delay-25":"opacity-100"])},[x.value?ae(e.$slots,"card",{key:0,item:U,index:z,active:m.value===z},void 0,!0):(a(),y("div",Ge,[E(U)?(a(),y("div",Je,[o(p,{src:E(U),alt:U.title||"",fit:"cover",width:"500",height:"300",class:k(Q(U)),loading:"lazy",decoding:"async"},null,8,["src","alt","class"])])):v("",!0),n("div",Qe,[U.title?(a(),y("h3",Xe,F(U.title),1)):v("",!0)])]))],2)],40,qe)]),_:3},8,["items"])):v("",!0)]),_:3})]),(a(),S(Se,{to:"body"},[C.value&&i.value&&s.value?(a(),y("div",Ze,[o(b(ce),{class:"absolute inset-0 bg-white",initial:{opacity:0},animate:{opacity:w.value?1:0},transition:{duration:.2,ease:"easeInOut"},onClick:T},null,8,["animate"]),o(b(ce),{class:"bg-white overflow-y-auto rounded-xl border border-muted/50 fixed will-change-transform shadow-xl overlay-scrollbar",initial:i.value,animate:s.value,transition:V,onClick:r[0]||(r[0]=oe(()=>{},["stop"]))},{default:_(()=>[n("div",et,[n("div",{class:k([(c.value,"p-0"),"transition-all"])},[g.value&&E(g.value)?(a(),S(p,{key:0,fit:"cover",width:"1000",height:"600",src:E(g.value),alt:g.value?.title??"",class:"w-full",loading:"eager",decoding:"async"},null,8,["src","alt"])):v("",!0),g.value?(a(),y("div",{key:1,class:k(["pointer-events-none pb-18",w.value?"p-4 py-8 sm:p-10 sm:mx-auto sm:max-w-2xl":"mx-0 p-4 w-full"])},[G.value?ae(e.$slots,"details",{key:0,item:g.value,index:m.value},void 0,!0):(a(),y(re,{key:1},[n("div",tt,[n("div",st,[g.value?.title?(a(),y("h3",{key:0,class:k(["font-semibold text-neutral-900 transition-opacity",w.value?"text-4xl mb-4 sm:text-5xl sm:mb-8 opacity-100 delay-75":"opacity-0 text-lg mb-0"])},F(g.value.title),3)):v("",!0),H(g.value)?(a(),S(se,{key:1,value:H(g.value),class:k(["mt-2 max-w-2xl sm:text-lg text-neutral-500 transition-opacity duration-100",w.value?"opacity-100 delay-100":"opacity-0"])},null,8,["value","class"])):v("",!0),g.value.img2?(a(),y("div",{key:2,class:k(["flex justify-center my-18",w.value?"opacity-100 delay-100":"opacity-0"])},[o(p,{src:g.value.img2,class:"rounded ring ring-muted/50"},null,8,["src"])],2)):v("",!0)])]),o(de,{class:"my-8"})],64)),W.value?(a(),y("div",{key:2,class:k(["pointer-events-auto flex flex-row sm:items-center justify-center gap-3 sm:gap-2 pb-6 my-12",w.value?"opacity-100 transition-opacity duration-300":"opacity-0"])},[ee.value?(a(),S(q,{key:0,icon:"i-heroicons-chevron-left",variant:"soft",color:"neutral",class:"justify-start whitespace-normal rounded-full",onClick:xe,"aria-label":"Föregående",size:"xl"})):v("",!0),u.value?(a(),S(q,{key:1,icon:"i-heroicons-chevron-right",variant:"soft",color:"neutral",class:"justify-end text-left whitespace-normal rounded-full",trailing:"",onClick:ye,"aria-label":"Nästa",size:"xl"})):v("",!0)],2)):v("",!0)],2)):v("",!0)],2)]),o(q,{class:k([w.value?"opacity-100":"opacity-0","fixed right-4 top-4 shadow hover:bg-white rounded-full md:m-0 transition-all"]),"aria-label":"Stäng kort",color:"neutral",variant:"soft",icon:"heroicons:x-mark",size:"xl",onClick:T},null,8,["class"])]),_:3},8,["initial","animate"])])):v("",!0)]))])):v("",!0)}}}),at=Object.assign(Te(ot,[["__scopeId","data-v-be5735b9"]]),{__name:"SCarousel"}),lt={key:0,class:"flex-1"},nt=["onClick"],it={class:"text-lg p-2 px-3 font-medium"},rt={class:"w-full ring ring-muted/50 rounded relative overflow-hidden shadow"},ct={class:"sm:grid grid-cols-2 gap-6"},ut={class:"px-6 sm:px-12 sm:border-r border-muted/50"},dt={class:"my-4 text-3xl sm:text-4xl font-medium text-neutral-900"},mt={class:"px-6 sm:px-12"},pt={class:"p-6 pb-2"},ft={class:"font-semibold"},vt={class:"lg:flex gap-4 space-y-2 lg:space-y-0"},_t=["src"],ht={class:"w-full px-6 border border-muted/50 bg-muted/50 rounded h-fit"},gt={class:"w-full bg-white px-6 border border-muted/50 rounded h-fit"},wt={class:"bg-muted border-t border-muted mt-18"},Lt=ve({__name:"index_legacy",async setup(ue){let d,h;const D=L(!1),{data:x}=([d,h]=le(()=>ne("skogsskotsel",()=>ie("skogsskotsel").first())),d=await d,h(),d),{data:G}=([d,h]=le(()=>ne("skotselmetoder",()=>ie("skotselmetoder").first())),d=await d,h(),d);if(!x.value)throw ze({statusCode:404,statusMessage:"Page not found",fatal:!0});const P=i=>{const s=i?.toLowerCase?.()??"";return s==="intekalavverkad"?"naturskog":s==="produktionsskog"?"produktionsskog_":i},M=i=>(i?.toLowerCase?.()??"")==="ingenatgard"?"naturskydd":i,N=i=>{const s=String(i).trim().toLowerCase();return s.includes("efter")?"efter":s.includes("innan")||s.includes("före")||s.includes("fore")?"fore":s.replace(/[^0-9]/g,"")||s},J=(i,s,w)=>{const c=g=>g.trim().normalize("NFD").replace(/å/gi,"a").replace(/ä/gi,"a").replace(/ö/gi,"o").replace(new RegExp("\\p{Diacritic}+","gu"),"").toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,"");return`/images/thumbnails/${`${c(i)}_${N(String(s))}_visa_visa_${c(w)}.webp`}`},{data:m}=([d,h]=le(()=>ne("forestry-timeline-skogsskotsel",()=>ie("forestryTimelines").first())),d=await d,h(),d),C=f(()=>{const i=m.value?.entries??[],s=B.value.id,w=M(s);return i.map(c=>({...c,startskog:P(c.startskog),atgard:M(c.atgard)})).filter(c=>c.startskog==="naturskog"&&c.atgard===w).map(c=>({tid:c.tid,skog:c.skog,svamp:c.svamp,thumb:J(c.atgard,c.tid,c.startskog)}))}),V=L([{label:"Diagram",icon:"i-heroicons-presentation-chart-line",slot:"diagram"},{label:"Tidslinje",icon:"i-heroicons-list-bullet",slot:"timeline"},{label:"Text",icon:"i-heroicons-book-open",slot:"text"}]),A=f(()=>G.value?.methods??[]),t={id:"",title:"",image:"",shortdescription:"",description:"",descriptionsvamp:""},$=L("");Me(()=>{const i=A.value[0];i&&!$.value&&($.value=i.id)});const B=f(()=>{const i=A.value;return i.length?i.find(s=>s.id===$.value)??i[0]:t});return(i,s)=>{const w=ge,c=Ue,O=Ae,g=je,E=He,H=_e,Q=Fe,K=he,R=ce,T=we,X=Ne,Z=Ee,W=Re,Y=Ve,ee=at;return b(x)?(a(),y("div",lt,[o(H,{class:"w-full px-0"},{default:_(()=>[o(E,{ui:{container:"py-12 lg:py-24",title:"sm:text-7xl",headline:"text-neutral"},title:b(x).hero.title,description:b(x).hero.description,orientation:b(x).hero.orientation,class:""},Ie({_:2},[b(x)?.hero?.links?.[0]?{name:"links",fn:_(()=>[o(c,{color:"warning",size:"2xl"},{default:_(()=>[o(w,{label:b(x).hero.links[0].label,size:b(x).hero.links[0].size,color:b(x).hero.links[0].color,icon:b(x).hero.links[0].icon,onClick:s[0]||(s[0]=u=>D.value=!0)},null,8,["label","size","color","icon"])]),_:1}),o(g,{open:D.value,"onUpdate:open":s[2]||(s[2]=u=>D.value=u),fullscreen:""},{content:_(()=>[o(O,{onClose:s[1]||(s[1]=u=>D.value=!1)})]),_:1},8,["open"])]),key:"0"}:void 0]),1032,["title","description","orientation"])]),_:1}),o(H,{class:"w-full flex justify-between py-4 gap-6 overflow-scroll lg:overflow-hidden"},{default:_(()=>[(a(!0),y(re,null,Le(A.value,u=>(a(),S(R,{key:u.id,class:"relative",initial:{scale:1,transform:"translateY(10px)",opacity:0},animate:{scale:1,transform:"translateY(0px)",opacity:1},transition:{duration:.3,delay:.3+.05*(u.index??0)}},{default:_(()=>[n("div",{onClick:te=>$.value=u.id,class:k(["shrink-0 lg:shrink w-58 lg:w-full bg-white transition-all hover:opacity-100 border border-muted/50 overflow-hidden rounded h-fit shadow hover:shadow-md relative cursor-pointer",$.value===u.id?"opacity-100":"opacity-30"])},[u.type?(a(),S(Q,{key:0,class:"absolute top-2 left-2",label:u.type,color:"neutral",variant:"subtle"},null,8,["label"])):v("",!0),o(K,{src:u.image,width:"300",height:"160",class:"w-full h-full"},null,8,["src"]),n("h1",it,F(u.title),1)],10,nt)]),_:2},1032,["transition"]))),128))]),_:1}),o(H,{class:"w-full pt-2 px-0 sm:px-6"},{default:_(()=>[o(R,{class:"flex justify-center w-full",initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0px)"},transition:{duration:.5,delay:1}},{default:_(()=>[n("div",rt,[o(Y,{ui:{list:"p-2 justify-center sm:justify-start",root:""},items:V.value,color:"primary",size:"md",class:"w-full",variant:"link"},{text:_(()=>[o(X,{class:"pt-4 sm:p-6"},{default:_(()=>[n("div",ct,[n("div",ut,[n("h1",dt,F(B.value.title),1),o(T,{class:"text-lg text-neutral-800 mb-8",value:B.value.description},null,8,["value"])]),n("div",mt,[s[3]||(s[3]=n("h1",{class:"my-4 text-2xl font-medium text-neutral-900"},"Påverkan på mykorrhizasvampar ",-1)),o(T,{class:"text-lg text-neutral-800",value:B.value.descriptionsvamp},null,8,["value"])])])]),_:1})]),diagram:_(()=>[o(Z,{parentSelectedFrameworks:[B.value.id],currentStartskog:"naturskog"},null,8,["parentSelectedFrameworks"])]),timeline:_(()=>[n("div",pt,[o(W,{items:C.value,size:"3xs",ui:{indicator:"bg-neutral-200/50 ",separator:"bg-neutral-200/50",description:"p-0 mt-2 text-default"}},{title:_(({item:u})=>[n("span",ft,F(u.tid),1)]),description:_(({item:u})=>[n("div",vt,[n("img",{src:u.thumb,class:"w-80 h-fit rounded"},null,8,_t),n("div",ht,[o(T,{value:u.skog},null,8,["value"])]),n("div",gt,[o(T,{value:u.svamp},null,8,["value"])])])]),_:1},8,["items"])])]),_:1},8,["items"])])]),_:1})]),_:1}),n("div",wt,[o(ee,{section:b(x).carousel},null,8,["section"])])])):v("",!0)}}});export{Lt as default};
