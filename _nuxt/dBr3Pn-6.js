import{_ as ct}from"./DRsKVQaR.js";import{_ as dt}from"./CrWnOoLk.js";import{B as mt,r as g,aN as pt,o as vt,aU as ce,K as D,v as ft,a as gt,aD as L,W as h,aI as Te,aV as ht,d as u,f as m,P as v,g as a,N as _,w as i,T as Me,n as P,aH as _t,aE as A,aF as K,aK as kt,e as s,F as $,ag as B,h as o,aC as yt,t as b,aL as xt,aW as wt,af as bt,aX as Ue,an as Ct,aY as Ve,aM as St,aT as $t,aZ as zt,ai as Ne,av as Tt,L as je,a_ as Mt,_ as Ut}from"#entry";import{M as Vt,_ as Nt}from"./DRvR-h7e.js";import{_ as jt}from"./avWyVY7U.js";import{_ as Dt,a as It}from"./BcALVa4F.js";import{_ as Ft}from"./DyT_QZAl.js";import{_ as Lt}from"./DVk9w8Ah.js";import{_ as Pt}from"./C5FP278y.js";import{_ as At}from"./DgZsrhsA.js";import{_ as Bt}from"./FQLTH2t6.js";import{u as Ht,_ as Et}from"./Du_NuLMC.js";import{u as Ot}from"./C_Lq0YK3.js";import"./cRzzGSo-.js";import"./D9DX4ZSW.js";import"./BcXQgl3v.js";import"./iik6CYzq.js";import"./C8I-ahqn.js";import"./CGrD4Z6_.js";import"./Cpj98o6Y.js";import"./CeXBgPgQ.js";import"./DTOpTtvw.js";import"./CfUacBIx.js";import"./DUal9_KT.js";import"./B-tjv_SP.js";const qt={key:0,class:"flex-1 transition-all"},Rt={key:0,class:"fixed top-18 inset-x-3 z-50 pointer-events-auto origin-top"},Yt=["onClick"],Kt=["src","alt"],Wt={class:"text-lg p-2 px-3 font-medium text-nowrap"},Xt={key:2,class:"p-4 mb-3"},Qt=["onClick"],Zt=["src","alt"],Gt={class:"text-lg p-2 px-3 font-medium text-nowrap"},Jt={key:1,class:"flex items-center gap-3 p-3"},el=["src","alt"],tl={class:"text-lg font-medium text-nowrap"},ll={class:"w-full rounded-xl relative"},al={class:"space-y-1"},sl={class:"mt-1 flex flex-col gap-1.5 absolute bottom-0 w-full"},ol={class:"space-y-1"},nl={key:0,class:"space-y-3 mb-10"},il={class:"relative rounded-lg overflow-hidden ring ring-muted/50 m-1 shadow"},rl=["src","alt"],ul={key:0,class:"text-sm text-neutral-100 absolute bottom-0 w-full bg-neutral-950/50 p-2"},cl=["src"],dl={key:3,class:"text-neutral-800"},ml={class:"mt-4"},pl={key:0,class:"space-y-3 mb-10"},vl={class:"relative rounded-lg overflow-hidden ring ring-muted/50 m-1 shadow"},fl=["src","alt"],gl={key:0,class:"text-sm text-neutral-100 absolute bottom-0 w-full bg-neutral-950/50 p-2"},hl=["src"],_l={key:3,class:"text-neutral-800"},kl={class:"grid gap-3 sm:gap-6"},yl={class:"flex flex-col gap-6 min-w-0 max-w-full mb-2"},xl=["src","alt"],wl={key:1,class:"flex flex-wrap gap-2 sm:gap-3 items-center justify-center"},bl={key:2,class:"w-full flex justify-center my-0 sm:my-6"},Cl={class:"space-y-8 max-w-xl"},Sl={class:"space-y-3 text-md md:text-lg text-neutral-800"},$l={key:0,class:"flex items-center gap-2 text-md md:text-xl font-semibold text-neutral-900"},zl={key:1,class:"flex items-center gap-2 text-md md:text-xl font-semibold text-neutral-900"},Tl={key:0,class:"flex flex-col gap-4 min-w-0 max-w-full"},Ml={key:1,class:"space-y-2 mt-6 sm:mt-0"},Ul={class:"relative"},Vl={class:"bg-neutral-950/80 p-1 py-2 rounded-sm flex flex-col items-center gap-2 text-xs text-neutral-500 absolute bottom-4 right-4 z-10"},Nl={class:"flex flex-col cursor-help"},jl={class:"flex flex-col gap-2 p-4"},Dl={class:"flex w-full"},Il={class:"flex w-full justify-between"},Fl={class:"flex w-full justify-between"},Ll={class:"relative w-full aspect-video"},Pl=["src","alt"],Al=["src","alt"],Bl={class:"w-full max-w-full min-w-0 overflow-x-auto overflow-y-visible"},Hl={class:"flex sm:justify-center items-center flex-nowrap whitespace-nowrap gap-2 w-full my-4"},El={class:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-2 ring-muted/50"},Ol={class:"space-y-2"},ql={class:"text-xl font-semibold text-neutral-900"},Rl={class:"text-md text-muted"},Yl={class:"text-md"},Kl={class:"grid grid-cols-2 gap-6 items-center py-10"},Wl={key:1},De="modal-no-scrollbar",Xl=mt({__name:"[id]",async setup(Ql){let c,x;g(!1),g(!1);const te=g(.8);g(null);const W=(l,e)=>{const r=l?.image??"",n=r.split("/").pop()?.split(".")[0]??"";return n?`/images/metoder/web/${n}_${e==="thumb"?"64":e==="detail"?"800x400":"300x160"}.webp`:r},z=pt("(max-width: 767px)"),X=g(!1);let H=null;const le=()=>{if(typeof window>"u")return;if(!z.value){X.value=!1;return}const l=window.innerHeight*.5;X.value=window.scrollY>l};vt(()=>{typeof window>"u"||(le(),H=()=>le(),window.addEventListener("scroll",H,{passive:!0}))}),ce(()=>{H&&typeof window<"u"&&window.removeEventListener("scroll",H),H=null}),D(z,()=>{z.value?le():X.value=!1});const E=g(!1),de=g(null),ae=g("skogsskole"),se=g(null),me=l=>{const e=document.documentElement;l?e.classList.add(De):e.classList.remove(De)};D(E,l=>me(l)),ce(()=>me(!1)),ce(()=>{G.value=!1,Ge.value=!1,ke?.closeAll?.()});const oe=Ot(),I=ft();gt();const{data:k}=([c,x]=L(()=>A("skogsskotsel",()=>K("skogsskotsel").first())),c=await c,x(),c),Ie=h(()=>xe(String(I.params.id||""))),Q=h(()=>`/skogsskotsel/frameworks/${Ie.value||I.params.id}`),{data:Zl}=([c,x]=L(()=>A("forestry-framework-doc",()=>K("forestryFrameworks").path(Q.value).first(),{watch:[Q]})),c=await c,x(),c),{data:Gl}=([c,x]=L(()=>A("forestry-framework-surround",()=>kt("forestryFrameworks",Q.value,{fields:["description"]}),{watch:[Q]})),c=await c,x(),c),{data:Fe}=([c,x]=L(()=>A("skotselmetoder",()=>K("skotselmetoder").first())),c=await c,x(),c);if(!k.value)throw Te({statusCode:404,statusMessage:"Page not found",fatal:!0});const w=h(()=>Fe.value?.methods??[]),pe=h(()=>w.value.map((l,e)=>({label:l.title,value:e}))),ne={id:"",title:"",image:"",shortdescription:"",description:"",descriptionsvamp:""},f=g(null),V=h(()=>I.params.id||""),ve=()=>{V.value&&f.value!==V.value&&(f.value=V.value)};D(V,ve,{immediate:!0}),D(w,()=>ve()),ht(()=>{if(w.value.length&&V.value&&!w.value.some(l=>l.id===V.value))throw Te({statusCode:404,statusMessage:"Method not found",fatal:!0})}),D(f,async(l,e)=>{if(l&&l!==V.value){const{entry:r,...n}=I.query;await Mt({path:`/skogsskotsel/${l}`,query:n},{replace:!0,external:!1})}});const d=h(()=>{const l=w.value;return!l.length||!f.value?ne:l.find(e=>e.id===f.value)??ne}),Z=h({get(){if(!f.value)return null;const l=w.value.findIndex(e=>e.id===f.value);return l>=0?l:null},set(l){typeof l=="number"&&w.value[l]&&(f.value=w.value[l].id)}}),fe=l=>{const e=l?.toLowerCase?.()??"";return e==="intekalavverkad"?"naturskog":e==="produktionsskog"?"produktionsskog_":l},ge=l=>(l?.toLowerCase?.()??"")==="ingenatgard"?"naturskydd":l,ie=l=>{const e=String(l).trim().toLowerCase();return e.includes("efter")?"efter":e.includes("innan")||e.includes("före")||e.includes("fore")?"före":e.replace(/[^0-9]/g,"")||e},he=(l,e,r,n="visa_visa")=>{const N=R=>R.trim().toLowerCase().replace(/[^a-z0-9_åäö]+/g,"_").replace(/_+/g,"_");return`/images/thumbnails/${`${N(l)}_${ie(String(e))}_${n}_${N(r)}.webp`}`},{data:Le}=([c,x]=L(()=>A("forestry-timeline-skogsskotsel",()=>K("forestryTimelines").first())),c=await c,x(),c),re=[{label:"Inte kalavverkad",value:"naturskog"},{label:"Kalavverkad",value:"produktionsskog_"}],O=re.map(l=>({label:l.label,value:l.value,icon:l.value==="naturskog"?"i-material-symbols-light-forest-rounded":"i-ph-farm"})),T=g(O[oe.selectedStartskog??0]?.value||O[0].value),Pe=h(()=>O.find(l=>l.value===T.value)?.icon),_e=h(()=>O.find(l=>l.value===T.value));D(()=>oe.selectedStartskog,l=>{const e=re[l??0];e&&e.value!==T.value&&(T.value=e.value)},{immediate:!0}),h(()=>re.find(l=>l.value===T.value)?.label??"");const M=h(()=>{const l=Le.value?.entries??[],e=d.value.id,r=ge(e);return l.map(n=>({...n,startskog:fe(n.startskog),atgard:ge(n.atgard)})).filter(n=>n.startskog===fe(T.value)&&n.atgard===r).map(n=>({tid:n.tid,skog:n.skog,svamp:n.svamp,thumb:he(n.atgard,n.tid,n.startskog,"visa_visa"),thumbHidden:he(n.atgard,n.tid,n.startskog,"visa_dölj")}))}),q=g(null),U=g(0);function Ae(){q.value?.emblaApi?.scrollPrev?.()}function Be(){q.value?.emblaApi?.scrollNext?.()}function He(l){U.value=l}function Ee(l){U.value=l,q.value?.emblaApi?.scrollTo?.(l)}D(M,l=>{U.value=0,l.length&&requestAnimationFrame(()=>{q.value?.emblaApi?.scrollTo?.(0)})});const Oe=l=>{if(!l)return;const e=ie(l);if(!e)return;if(e==="före")return"före";if(e==="efter")return"efter";const r=Number(e);if(!Number.isNaN(r))return String(r)},qe=h(()=>Oe(M.value[U.value]?.tid));function Re(l){return l?l.charAt(0).toUpperCase()+l.slice(1):""}function Ye(l){if(!l)return"";const e=ie(l);if(e==="före")return"Innan avverkning";if(e==="efter")return"Efter avverkning";const r=Number(e);return Number.isNaN(r)?l.charAt(0).toUpperCase()+l.slice(1):`${r} år efter avverkning`}const ke=Ht(),{data:Ke}=([c,x]=L(()=>A("overlay-texts-skogs",()=>K("overlayTexts").all())),c=await c,x(),c),We=h(()=>{const l=Ke.value||[],e={};return l.forEach(r=>{const n=r?.key;n&&(e[n]={title:r.title??n,description:r.description??"",image:r.image,images:r.images,imageDescriptions:r.imageDescriptions,doc:r})}),e}),Xe=[{key:"retention",icon:"i-pepicons-pop-tree-circle"},{key:"kanteffekt",icon:"i-healthicons-square-medium-negative"},{key:"rottacke",icon:"i-game-icons-tree-roots"},{key:"rottackeSkarmtrad",icon:"i-game-icons-tree-roots"},{key:"rottackeBladning",icon:"i-game-icons-tree-roots"},{key:"seedTree",icon:"i-teenyicons-redwoodjs-outline"},{key:"smaplantor",icon:"i-pepicons-pop-seedling-circle"},{key:"hogstubbar",icon:"i-roentgen-wood"},{key:"naturvardsarter",icon:"i-material-symbols-award-star-outline"},{key:"tradplantor",icon:"i-hugeicons-plant-02"}],Qe=h(()=>{const l=d.value.id,e={naturvardsarter:"all",retention:["trakthygge","luckhuggning","skärmträd","skarmtrad","blädning","bladning"],kanteffekt:["trakthygge","luckhuggning","skärmträd","skarmtrad"],tradplantor:["trakthygge"],smaplantor:["trakthygge"],hogstubbar:["trakthygge"],rottackeBladning:["blädning","bladning"],rottackeSkarmtrad:["skärmträd","skarmtrad"],seedTree:["skärmträd","skarmtrad"]};return Xe.filter(r=>{const n=e[r.key]??[];return n==="all"?!0:n.includes(l)}).map(r=>{const n=We.value[r.key]??{title:r.key,description:""};return{...r,title:n.title,description:n.description,image:n.image,images:n.images,imageDescriptions:n.imageDescriptions,doc:n.doc}})}),G=g(!1);async function Ze(){ae.value="rodlistade",de.value?.setSelectedChart?.("rodlistade"),G.value=!1,ke?.closeAll?.(),await je(),se.value&&se.value.scrollIntoView({behavior:"smooth",block:"start"})}g([{label:"Intro",icon:"i-heroicons-book-open",slot:"text"},{label:"Diagram",icon:"i-heroicons-presentation-chart-line",slot:"diagram"},{label:"Tidslinje",icon:"i-heroicons-list-bullet",slot:"timeline"}]);const Ge=g(I.query.entry==="1"||I.query.entry==="true");g("description");const ye=l=>(l||"").split(/\n\s*\n/g).map(e=>e.trim()).filter(Boolean),Je=h(()=>[{label:"Introduktion",icon:"i-hugeicons-tree-06",value:"description",paragraphs:d.value.descriptionParagraphs?.length?d.value.descriptionParagraphs:ye(d.value.description)},{label:"Påverkan på mykorrhizasvampar",icon:"i-hugeicons-mushroom",value:"svamp",paragraphs:d.value.descriptionsvampParagraphs?.length?d.value.descriptionsvampParagraphs:ye(d.value.descriptionsvamp)}]),C=g({intro:!0,timeline:!0,diagram:!0});function et(l){C.value={...C.value,[l]:!C.value[l]}}const tt={naturskydd:0,trakthygge:1,luckhuggning:2,skarmtrad:3,skärmträd:3,bladning:4,blädning:4};function xe(l){return(l||"").trim().normalize("NFD").replace(new RegExp("\\p{Diacritic}+","gu"),"").toLowerCase()}function lt(){const l=xe(d.value.id),e=tt[l];typeof e=="number"&&(oe.selectedFramework=e),E.value=!0}const F=h(()=>{const l=w.value,e=l.findIndex(r=>r.id===d.value.id);return{prev:e>0?l[e-1]:null,next:e>=0&&e<l.length-1?l[e+1]:null}});async function we(l){f.value=l,await je(),window.scrollTo({top:0,behavior:"smooth"})}return(l,e)=>{const r=ct,n=dt,N=_t,ue=yt,R=Vt,J=jt,S=bt,ee=wt,at=Dt,Y=Tt,st=It,be=Ft,Ce=Lt,y=Ct,ot=Nt,Se=St,nt=Pt,$e=$t,it=At,ze=Bt,rt=xt,ut=Et;return v(k)?(s(),u("div",qt,[a(Me,{name:"fold-down"},{default:i(()=>[v(z)&&X.value?(s(),u("div",Rt,[a(r,{size:"xl",items:pe.value,modelValue:Z.value,"onUpdate:modelValue":e[0]||(e[0]=t=>Z.value=t),placeholder:d.value.title||"Välj metod","append-to-body":"",variant:"outline",class:"ring-muted w-full shadow rounded-lg",ui:{content:"min-w-fit rounded-lg z-50",viewport:"text-center"}},null,8,["items","modelValue","placeholder"])])):m("",!0)]),_:1}),d.value.id?m("",!0):(s(),_(N,{key:0,class:"w-full px-0"},{default:i(()=>[a(n,{ui:{container:"py-20 pb-16 lg:py-24",title:"sm:text-7xl",headline:"text-neutral"},title:v(k).hero.title,description:v(k).hero.description,orientation:v(k).hero.orientation,class:""},null,8,["title","description","orientation"])]),_:1})),v(z)?d.value.id?(s(),u("div",Xt,[a(r,{size:"xl",items:pe.value,modelValue:Z.value,"onUpdate:modelValue":e[1]||(e[1]=t=>Z.value=t),placeholder:d.value.title||"Välj metod","append-to-body":"",variant:"outline",class:"ring-muted w-full shadow rounded-lg",ui:{content:"min-w-fit rounded-lg z-50",viewport:"text-center"}},null,8,["items","modelValue","placeholder"])])):(s(),_(R,{key:3,class:"relative",initial:{transform:"translateX(10px)",opacity:0,filter:"blur(5px)"},animate:{transform:"translateX(0px)",opacity:1,filter:"blur(0px)"},transition:{duration:.5,delay:.2}},{default:i(()=>[a(J,{items:w.value,loop:"",speed:4,ui:{item:"basis-3/5 md:basis-1/3 p-2"},class:"mobile-carousel"},{default:i(({item:t})=>[o("div",{onClick:p=>f.value=t.id,class:P(["shrink-0 bg-white transition-all hover:opacity-100 border border-muted/50 overflow-hidden rounded-lg h-fit shadow hover:shadow-md relative cursor-pointer mb-4",f.value?f.value===t.id?"opacity-100 ring-primary/40 shadow-lg":"opacity-50":"opacity-100"])},[d.value.id?(s(),u("div",Jt,[f.value===t.id?(s(),u("img",{key:0,src:W(t,"thumb"),alt:t.title,width:"64",height:"64",class:"w-16 h-16 rounded-md object-cover ring-1 ring-muted/50",loading:"lazy",decoding:"async"},null,8,el)):m("",!0),o("h1",tl,b(t.title),1)])):(s(),u($,{key:0},[t.type?(s(),_(ue,{key:0,class:"absolute top-2 left-2",label:t.type,color:"neutral",variant:"subtle"},null,8,["label"])):m("",!0),o("img",{src:W(t,"card"),alt:t.title,width:"300",height:"160",class:"w-full h-full",loading:"lazy",decoding:"async"},null,8,Zt),o("h1",Gt,b(t.title),1)],64))],10,Qt)]),_:1},8,["items"])]),_:1})):(s(),_(N,{key:1,class:P(["w-full flex flex-col sm:flex-row justify-between gap-3 sm:gap-6 overflow-x-auto transition-all overflow-visible",[d.value.id?"mt-0 flex-row":"mt-8 flex-col"]])},{default:i(()=>[(s(!0),u($,null,B(w.value,t=>(s(),_(R,{key:t.id,class:"relative",initial:{scale:1,transform:"translateY(10px)",opacity:0},animate:{scale:1,transform:"translateY(0px)",opacity:1},transition:{duration:.3,delay:.5+.05*(t.index??0)}},{default:i(()=>[d.value.id?m("",!0):(s(),u("div",{key:0,onClick:p=>f.value=t.id,class:P(["shrink-0 lg:shrink sm:w-58 lg:w-full bg-white transition-all hover:opacity-100 border border-muted/50 overflow-hidden rounded-lg h-fit shadow-lg hover:shadow-md relative cursor-pointer",f.value?f.value===t.id?"opacity-100 ring-primary/40 shadow-lg":"opacity-50":"opacity-100"])},[d.value.id?m("",!0):(s(),u($,{key:0},[t.type?(s(),_(ue,{key:0,class:"absolute top-2 left-2",label:t.type,color:"neutral",variant:"subtle"},null,8,["label"])):m("",!0),o("img",{src:W(t,"card"),alt:t.title,width:"300",height:"160",class:"w-full h-full",loading:"lazy",decoding:"async"},null,8,Kt),o("h1",Wt,b(t.title),1)],64))],10,Yt))]),_:2},1032,["transition"]))),128))]),_:1},8,["class"])),d.value.id?(s(),_(N,{key:4,class:"w-full px-1 sm:px-6"},{default:i(()=>[a(R,{class:"flex justify-center w-full",initial:{opacity:1,scale:1},animate:{opacity:1,scale:1},transition:{duration:0}},{default:i(()=>[o("div",ll,[a(rt,{class:"px-3 pt-0"},{left:i(()=>[a(be,{ui:{container:" flex flex-col flex-1 h-full",root:""},class:"border-r border-muted h-full"},{default:i(()=>[o("div",null,[e[11]||(e[11]=o("p",{class:"text-sm font-medium text-neutral-800 mt-4 mb-2"},"Skötselmetoder",-1)),(s(!0),u($,null,B(w.value,t=>(s(),u("div",al,[a(ee,{text:t.shortdescription||t.title,content:{side:"right"}},{default:i(()=>[a(S,{label:t.title,"leading-icon":t.icon,onClick:p=>f.value=t.id,color:f.value===t.id?"primary":"neutral",variant:"ghost",class:"ring-muted/50 w-full"},null,8,["label","leading-icon","onClick","color"])]),_:2},1032,["text"])]))),256))]),o("div",sl,[a(Y,{scrollable:"",fullscreen:!!v(z),title:v(k).ecologyintro?.title??"",description:v(k).ecologyintro?.description??"",ui:{header:"shrink-0"},class:"h-full"},{body:i(()=>[a(at,{section:v(k).ecologyintro},null,8,["section"])]),default:i(()=>[a(S,{icon:"i-heroicons-book-open",color:"neutral",variant:"ghost",label:"Fakta i korthet",class:"sm:w-full ring-muted/50"})]),_:1},8,["fullscreen","title","description"]),a(Y,{fullscreen:!!v(z),title:v(k).underlag,description:v(k).underlagdescription,ui:{header:"shrink-0"}},{body:i(()=>[a(st,{underlag:v(k).underlag,underlagbild:v(k).underlagbild,sections:v(k).underlagSections},null,8,["underlag","underlagbild","sections"])]),default:i(()=>[a(S,{icon:"i-heroicons-document-magnifying-glass",color:"neutral",variant:"ghost",label:v(k).underlag,class:"sm:w-full ring-muted/50"},null,8,["label"])]),_:1},8,["fullscreen","title","description"])])]),_:1})]),right:i(()=>[a(be,null,{default:i(()=>[o("div",ol,[(s(!0),u($,null,B(Qe.value,t=>(s(),u($,{key:t.key},[t.key==="naturvardsarter"?(s(),_(Y,{key:0,open:G.value,"onUpdate:open":e[2]||(e[2]=p=>G.value=p),title:t.title,description:t.description,ui:{header:"shrink-0"}},{body:i(()=>[t.images?.length?(s(),u("div",nl,[a(J,{dots:"",arrows:"",items:t.images.map((p,j)=>({src:p,idx:j})),"prev-icon":"i-heroicons-chevron-left","next-icon":"i-heroicons-chevron-right",ui:{dots:"-bottom-4",dot:"w-6 h-1",prev:"start-4 sm:start-4 top-1/2 -translate-y-1/2",next:"end-4 sm:end-4 top-1/2 -translate-y-1/2"},class:"w-full"},{default:i(({item:p})=>[o("div",il,[o("img",{src:p.src,alt:t.title,class:"w-full",loading:"lazy"},null,8,rl),t.imageDescriptions?.[p.idx]?(s(),u("div",ul,b(t.imageDescriptions[p.idx]),1)):m("",!0)])]),_:2},1032,["items"])])):t.image?(s(),u("img",{key:1,src:t.image,class:"rounded-md mb-4"},null,8,cl)):m("",!0),t.doc?.body?(s(),_(Ce,{key:2,value:t.doc},null,8,["value"])):(s(),u("p",dl,b(t.description),1)),o("div",ml,[a(S,{color:"signal",variant:"subtle",icon:"i-carbon-chart-line-smooth",label:"Diagram för naturvårdssvampar",class:"",onClick:Ze})])]),default:i(()=>[o("div",null,[a(S,{label:t.title,icon:t.icon,color:"neutral",variant:"ghost",class:"ring-muted/50 w-full justify-start"},null,8,["label","icon"])])]),_:2},1032,["open","title","description"])):(s(),_(Y,{key:1,title:t.title,description:t.description,ui:{header:"shrink-0"}},{body:i(()=>[t.images?.length?(s(),u("div",pl,[a(J,{dots:"",arrows:"",items:t.images.map((p,j)=>({src:p,idx:j})),"prev-icon":"i-heroicons-chevron-left","next-icon":"i-heroicons-chevron-right",ui:{dots:"-bottom-4",dot:"w-6 h-1",prev:"start-4 sm:start-4 top-1/2 -translate-y-1/2",next:"end-4 sm:end-4 top-1/2 -translate-y-1/2"},class:"w-full"},{default:i(({item:p})=>[o("div",vl,[o("img",{src:p.src,alt:t.title,class:"w-full",loading:"lazy"},null,8,fl),t.imageDescriptions?.[p.idx]?(s(),u("div",gl,b(t.imageDescriptions[p.idx]),1)):m("",!0)])]),_:2},1032,["items"])])):t.image?(s(),u("img",{key:1,src:t.image,class:"rounded-md mb-4"},null,8,hl)):m("",!0),t.doc?.body?(s(),_(Ce,{key:2,value:t.doc},null,8,["value"])):(s(),u("p",_l,b(t.description),1))]),default:i(()=>[o("div",null,[a(S,{label:t.title,icon:t.icon,color:"neutral",variant:"ghost",class:"ring-muted/50 w-full justify-start"},null,8,["label","icon"])])]),_:2},1032,["title","description"]))],64))),128))])]),_:1})]),default:i(()=>[o("div",kl,[o("div",yl,[v(z)?m("",!0):(s(),_(n,{key:0,title:d.value.title,ui:{container:"py-5 sm:py-5 md:pt-16 md:pb-10 lg:pt-16 lg:pb-10",title:"text-4xl sm:text-6xl"}},null,8,["title"])),a(Me,{name:"fade",mode:"out-in"},{default:i(()=>[o("img",{src:W(d.value,"detail"),alt:`Bild för ${d.value.title}`,class:"rounded-lg ring ring-muted/50 w-full"},null,8,xl)]),_:1}),v(z)?m("",!0):(s(),u("div",wl,[a(ee,{text:C.value.intro?"Dölj introduktion":"Visa introduktion"},{default:i(()=>[a(S,{color:"neutral",variant:"outline","leading-icon":C.value.intro?"i-heroicons-eye":"i-heroicons-eye-slash",label:"Introduktion",onClick:e[3]||(e[3]=t=>et("intro")),class:P(["ring-muted/50",C.value.intro?"":"opacity-50"])},null,8,["leading-icon","class"])]),_:1},8,["text"]),a(ee,{text:"Öppna interaktiv bildvisning i helskärm"},{default:i(()=>[a(S,{color:"neutral",variant:"solid","leading-icon":"i-material-symbols:interactive-space",label:"Helskärm",class:"ring-muted/50",onClick:lt})]),_:1})])),C.value.intro?(s(),u("div",bl,[o("div",Cl,[(s(!0),u($,null,B(Je.value,t=>(s(),u("section",{key:`${t.value}-${d.value.id}`,class:"space-y-3"},[o("h2",{class:P(["font-semibold text-neutral-900",t.value==="svamp"?"text-lg md:text-xl":"text-xl md:text-2xl"])},b(t.label),3),o("div",Sl,[(s(!0),u($,null,B(t.paragraphs,(p,j)=>(s(),u($,null,[t.value==="svamp"?Ue((s(),u("div",$l,[a(y,{name:"icon-park-solid:knife-fork",class:"size-5 text-warning-500"}),e[12]||(e[12]=o("span",null,"Matsvampar",-1))],512)),[[Ve,j===t.paragraphs.length-2]]):m("",!0),t.value==="svamp"?Ue((s(),u("div",zl,[a(y,{name:"i-material-symbols-award-star",class:"size-5 text-signal-500"}),e[13]||(e[13]=o("span",null,"Naturvårdssvampar",-1))],512)),[[Ve,j===t.paragraphs.length-1]]):m("",!0),a(ot,{value:p,unwrap:"p"},null,8,["value"])],64))),256))])]))),128))])])):m("",!0)]),M.value.length?(s(),u("div",Tl,[C.value.intro?(s(),_(Se,{key:0,class:"hidden sm:flex mt-8 mb-16"})):m("",!0),C.value.timeline?(s(),u("div",Ml,[o("div",Ul,[o("div",Vl,[a(y,{name:"i-mingcute-tree-fill",class:"size-5 text-primary"}),a(nt,{modelValue:te.value,"onUpdate:modelValue":e[4]||(e[4]=t=>te.value=t),min:0,max:1,step:.05,class:"h-20 sm:h-32",color:"primary",orientation:"vertical",inverse:"",size:"xs"},null,8,["modelValue"]),a($e,null,{content:i(()=>[o("div",jl,[o("div",Dl,[a(y,{name:"i-fluent-shape-organic-16-filled",class:"size-6 text-gray-300 z-20"}),a(y,{name:"i-fluent-shape-organic-16-filled",class:"size-6 -ml-4 text-gray-400 z-10"}),a(y,{name:"i-fluent-shape-organic-16-filled",class:"size-6 -ml-4 mr-4 text-gray-500"}),e[14]||(e[14]=o("h1",{class:"font-medium"},"Mykorrhizasvampar",-1))]),o("div",Il,[a(y,{name:"i-fluent-shape-organic-16-filled",class:"size-6 text-signal-400"}),e[15]||(e[15]=o("h1",{class:"font-medium"},"Naturvårdssvampar",-1))]),o("div",Fl,[a(y,{name:"i-fluent-shape-organic-16-filled",class:"size-6 text-yellow-400"}),e[16]||(e[16]=o("h1",{class:"font-medium"},"Matsvampar",-1))])])]),default:i(()=>[o("div",Nl,[a(y,{name:"i-fluent-shape-organic-16-filled",class:"size-4 text-gray-300 z-20"}),a(y,{name:"i-fluent-shape-organic-16-filled",class:"size-4 -mt-3 text-signal-400 z-10"}),a(y,{name:"i-fluent-shape-organic-16-filled",class:"size-4 -mt-3 text-yellow-400"})])]),_:1})]),a(J,{ref_key:"timelineCarousel",ref:q,items:M.value,prev:{onClick:Ae},next:{onClick:Be},class:"w-full bg-neutral-950 overflow-hidden rounded-lg ring-muted/50",fade:"",onSelect:He},{default:i(({item:t})=>[o("div",Ll,[o("img",{src:t.thumbHidden,alt:`Foto ${t.tid}`,width:"960",height:"540",class:"w-full h-full object-cover absolute inset-0"},null,8,Pl),o("img",{src:t.thumb,alt:`Foto ${t.tid}`,width:"960",height:"540",class:"w-full h-full object-cover absolute inset-0 transition-opacity duration-700",style:zt({opacity:te.value})},null,12,Al)])]),_:1},8,["items","prev","next"])]),o("div",Bl,[o("div",Hl,[a($e,{close:!1,transition:!0,overlay:!0,ui:{content:"max-w-xs sm:max-w-sm p-4 sm:p-6 pb-2"},title:"Har skogen varit kalavverkad tidigare?",description:"Hur skogen har brukats tidigare påverkar vilka mykorrhizasvampar som finns. Valet återspeglas i tidslinjen och diagrammen."},{content:i(()=>[e[17]||(e[17]=o("h1",{class:"font-semibold mb-2"},"Har skogen varit kalavverkad tidigare? ",-1)),e[18]||(e[18]=o("p",{class:"text-muted text-sm mb-4"},"Hur skogen har brukats tidigare påverkar vilka mykorrhizasvampar som finns. Valet återspeglas i tidslinjen och diagrammen.",-1)),a(r,{items:v(O),modelValue:T.value,"onUpdate:modelValue":e[5]||(e[5]=t=>T.value=t),icon:Pe.value,class:"transition-all ring-muted/50 mb-4"},null,8,["items","modelValue","icon"]),e[19]||(e[19]=o("p",{class:"text-neutral-700 text-xs"},null,-1))]),default:i(()=>[a(ee,{text:"Skogens historik"},{default:i(()=>[a(S,{color:"neutral",variant:"outline","leading-icon":_e.value?.icon,label:_e.value?.label||"",class:"ring-muted/50"},null,8,["leading-icon","label"])]),_:1})]),_:1}),a(Se,{orientation:"vertical",class:"h-6"}),(s(!0),u($,null,B(M.value,(t,p)=>(s(),_(S,{key:`timeline-thumb-${p}`,color:"neutral",class:P(["ring-muted/50 flex-none shrink-0 sm:justify-center whitespace-nowrap",p===U.value?"border-neutral-900 bg-neutral-900 hover:bg-neutral-900 text-white opacity-100 ring-0 shadow":"border-transparent opacity-60 hover:opacity-100"]),variant:"outline",type:"button",onClick:j=>Ee(p),label:Re(t.tid)},null,8,["class","onClick","label"]))),128))])]),o("div",El,[o("div",Ol,[o("h3",ql,b(Ye(M.value[U.value]?.tid)),1),o("p",Rl,b(M.value[U.value]?.skog),1),o("p",Yl,b(M.value[U.value]?.svamp),1)])])])):m("",!0)])):m("",!0),C.value.diagram?(s(),u("div",{key:1,class:"space-y-2",ref_key:"chartSection",ref:se},[a(it,{ref_key:"chartComponent",ref:de,selectedChart:ae.value,"onUpdate:selectedChart":e[6]||(e[6]=t=>ae.value=t),parentSelectedFrameworks:[d.value.id],currentStartskog:T.value,currentTimeValue:qe.value},null,8,["selectedChart","parentSelectedFrameworks","currentStartskog","currentTimeValue"])],512)):m("",!0),o("div",Kl,[F.value.prev?(s(),_(ze,{key:0,color:"neutral",variant:"outline",icon:"i-heroicons-arrow-left-20-solid",title:`${F.value.prev.title}`,class:"ring-muted/50",onClick:e[7]||(e[7]=t=>we(F.value.prev.id)),ui:{leading:"text-sm",title:"truncate whitespace-nowrap max-w-[14ch] sm:max-w-none"}},{leading:i(()=>[a(y,{name:"i-heroicons-chevron-left",class:"mr-1"}),e[20]||(e[20]=Ne(" Föregående ",-1))]),_:1},8,["title"])):(s(),u("div",Wl)),F.value.next?(s(),_(ze,{key:2,color:"neutral",variant:"outline",icon:"i-heroicons-arrow-right-20-solid",title:`${F.value.next.title}`,class:"ring-muted/50",onClick:e[8]||(e[8]=t=>we(F.value.next.id)),ui:{leading:"w-full flex justify-end text-sm",body:"w-full flex justify-end",title:"truncate whitespace-nowrap max-w-[14ch] sm:max-w-none text-right"}},{leading:i(()=>[e[21]||(e[21]=Ne("Nästa ",-1)),a(y,{name:"i-heroicons-chevron-right",class:"ml-1"})]),_:1},8,["title"])):m("",!0)])])]),_:1})])]),_:1}),a(Y,{open:E.value,"onUpdate:open":e[10]||(e[10]=t=>E.value=t),fullscreen:""},{content:i(()=>[a(ut,{onClose:e[9]||(e[9]=t=>E.value=!1)})]),_:1},8,["open"])]),_:1})):m("",!0)])):m("",!0)}}}),Ca=Ut(Xl,[["__scopeId","data-v-44139801"]]);export{Ca as default};
