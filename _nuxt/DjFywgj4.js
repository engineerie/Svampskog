import{_ as Po}from"./avWyVY7U.js";import{B as $e,$ as We,N as j,e as h,w as T,O as se,ai as le,Z as ye,P as x,Q as Oe,C as Vo,D as Ao,J as Io,W as I,as as Ct,at as xt,t as oe,aJ as an,r as W,d as V,o as tt,L as rn,c as Rt,K as ge,h as R,g as C,aP as ln,f as O,an as Ne,aC as $t,n as K,af as Re,aS as Eo,_ as ze,V as No,T as Be,a5 as Ft,a7 as sn,z as Lt,bb as To,bc as Yt,a8 as un,bd as Tn,a$ as Mo,be as zo,ao as Do,ah as at,F as he,ag as be,aq as Bo,bf as Ie,az as Mn,ae as zn,aj as Dn,ak as Oo,al as Go,am as jo,a9 as Bn,ac as qo,ab as et,bg as Uo,bh as Ho,bi as Ko,au as Wo,bj as Xo,aV as Yo,bk as ee,a4 as Zo,bl as On,a6 as Fe,aZ as zt,aN as Ye,aU as Gn,ad as Jo,bm as Qo,aM as jn,bn as ea,bo as ta,aD as na,aE as oa,aF as aa,aI as ia,bp as qn,aH as Un,av as ra}from"#entry";import{_ as la}from"./BPpfJReN.js";import{_ as nt}from"./D9DX4ZSW.js";import{c as Hn,b as sa}from"./CIk6cpza.js";import{u as Pt,_ as ua}from"./Dorv8wPG.js";import{_ as da}from"./DrqgUzSG.js";import{_ as ca,a as ga}from"./BfdfHWAQ.js";import{_ as Vt}from"./CeXBgPgQ.js";import{_ as Kn}from"./UeDMe_-T.js";import{_ as Wn}from"./DRsKVQaR.js";import{u as Ge}from"./07gPPiGX.js";import{P as de,c as Ve,i as dn,t as Cn,s as Dt,m as pa,X as Xn,O as Yn,a as Zn,b as Jn,g as Ee,d as Bt,e as fa,f as lt,h as ma,j as xn,k as Ue,l as Qe,n as va,r as ha,o as Zt,p as ba,q as ya,u as _n,F as Sa,v as wa,w as ka,x as Ca,y as cn,z as gn,A as xa,B as _a,S as Ra,C as Rn}from"./DgIA8dhj.js";import"./FQLTH2t6.js";import"./cRzzGSo-.js";import"./CfUacBIx.js";import"./C8I-ahqn.js";import"./DUal9_KT.js";import"./BfId3E71.js";import"./BEgbXkUD.js";import"./iik6CYzq.js";import"./DTOpTtvw.js";import"./Cpj98o6Y.js";var $a=$e({__name:"PaginationEllipsis",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return We(),(t,o)=>(h(),j(x(Oe),ye(n,{"data-type":"ellipsis"}),{default:T(()=>[se(t.$slots,"default",{},()=>[o[0]||(o[0]=le("…"))])]),_:3},16))}}),Fa=$a;const[ot,La]=Vo("PaginationRoot");var Pa=$e({__name:"PaginationRoot",props:{page:{type:Number,required:!1},defaultPage:{type:Number,required:!1,default:1},itemsPerPage:{type:Number,required:!0},total:{type:Number,required:!1,default:0},siblingCount:{type:Number,required:!1,default:2},disabled:{type:Boolean,required:!1},showEdges:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"nav"}},emits:["update:page"],setup(e,{emit:n}){const t=e,o=n,{siblingCount:a,disabled:i,showEdges:r}=Ao(t);We();const s=Io(t,"page",o,{defaultValue:t.defaultPage,passive:t.page===void 0}),l=I(()=>Math.max(1,Math.ceil(t.total/(t.itemsPerPage||1))));return La({page:s,onPageChange(d){s.value=d},pageCount:l,siblingCount:a,disabled:i,showEdges:r}),(d,f)=>(h(),j(x(Oe),{as:d.as,"as-child":d.asChild},{default:T(()=>[se(d.$slots,"default",{page:x(s),pageCount:l.value})]),_:3},8,["as","as-child"]))}}),Va=Pa,Aa=$e({__name:"PaginationFirst",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e,t=ot();We();const o=I(()=>t.page.value===1||t.disabled.value);return(a,i)=>(h(),j(x(Oe),ye(n,{"aria-label":"First Page",type:a.as==="button"?"button":void 0,disabled:o.value,onClick:i[0]||(i[0]=r=>!o.value&&x(t).onPageChange(1))}),{default:T(()=>[se(a.$slots,"default",{},()=>[i[1]||(i[1]=le("First page"))])]),_:3},16,["type","disabled"]))}}),Ia=Aa,Ea=$e({__name:"PaginationLast",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e,t=ot();We();const o=I(()=>t.page.value===t.pageCount.value||t.disabled.value);return(a,i)=>(h(),j(x(Oe),ye(n,{"aria-label":"Last Page",type:a.as==="button"?"button":void 0,disabled:o.value,onClick:i[0]||(i[0]=r=>!o.value&&x(t).onPageChange(x(t).pageCount.value))}),{default:T(()=>[se(a.$slots,"default",{},()=>[i[1]||(i[1]=le("Last page"))])]),_:3},16,["type","disabled"]))}}),Na=Ea;function qe(e,n){const t=n-e+1;return Array.from({length:t},(o,a)=>a+e)}function Ta(e){return e.map(n=>typeof n=="number"?{type:"page",value:n}:{type:"ellipsis"})}const mt="ellipsis";function Ma(e,n,t,o){const i=n,r=Math.max(e-t,1),s=Math.min(e+t,i);if(o){const d=Math.min(2*t+5,n)-2,f=r>3&&Math.abs(i-d-1+1)>2&&Math.abs(r-1)>2,b=s<i-2&&Math.abs(i-d)>2&&Math.abs(i-s)>2;if(!f&&b)return[...qe(1,d),mt,i];if(f&&!b){const u=qe(i-d+1,i);return[1,mt,...u]}if(f&&b){const u=qe(r,s);return[1,mt,...u,mt,i]}return qe(1,i)}else{const l=t*2+1;return n<l?qe(1,i):e<=t+1?qe(1,l):n-e<=t?qe(n-l+1,i):qe(r,s)}}var za=$e({__name:"PaginationList",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;We();const t=ot(),o=I(()=>Ta(Ma(t.page.value,t.pageCount.value,t.siblingCount.value,t.showEdges.value)));return(a,i)=>(h(),j(x(Oe),Ct(xt(n)),{default:T(()=>[se(a.$slots,"default",{items:o.value})]),_:3},16))}}),Da=za,Ba=$e({__name:"PaginationListItem",props:{value:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e;We();const t=ot(),o=I(()=>t.page.value===n.value),a=I(()=>t.disabled.value);return(i,r)=>(h(),j(x(Oe),ye(n,{"data-type":"page","aria-label":`Page ${i.value}`,"aria-current":o.value?"page":void 0,"data-selected":o.value?"true":void 0,disabled:a.value,type:i.as==="button"?"button":void 0,onClick:r[0]||(r[0]=s=>!a.value&&x(t).onPageChange(i.value))}),{default:T(()=>[se(i.$slots,"default",{},()=>[le(oe(i.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),Oa=Ba,Ga=$e({__name:"PaginationNext",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e;We();const t=ot(),o=I(()=>t.page.value===t.pageCount.value||t.disabled.value);return(a,i)=>(h(),j(x(Oe),ye(n,{"aria-label":"Next Page",type:a.as==="button"?"button":void 0,disabled:o.value,onClick:i[0]||(i[0]=r=>!o.value&&x(t).onPageChange(x(t).page.value+1))}),{default:T(()=>[se(a.$slots,"default",{},()=>[i[1]||(i[1]=le("Next page"))])]),_:3},16,["type","disabled"]))}}),ja=Ga,qa=$e({__name:"PaginationPrev",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e;We();const t=ot(),o=I(()=>t.page.value===1||t.disabled.value);return(a,i)=>(h(),j(x(Oe),ye(n,{"aria-label":"Previous Page",type:a.as==="button"?"button":void 0,disabled:o.value,onClick:i[0]||(i[0]=r=>!o.value&&x(t).onPageChange(x(t).page.value-1))}),{default:T(()=>[se(a.$slots,"default",{},()=>[i[1]||(i[1]=le("Prev page"))])]),_:3},16,["type","disabled"]))}}),Ua=qa;function Ha(e){let n;for(;n=e.sourceEvent;)e=n;return e}function _t(e,n){if(e=Ha(e),n===void 0&&(n=e.currentTarget),n){var t=n.ownerSVGElement||n;if(t.createSVGPoint){var o=t.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(n.getScreenCTM().inverse()),[o.x,o.y]}if(n.getBoundingClientRect){var a=n.getBoundingClientRect();return[e.clientX-a.left-n.clientLeft,e.clientY-a.top-n.clientTop]}}return[e.pageX,e.pageY]}const $n=e=>+e,Ka={components:[],container:void 0,followCursor:!0,allowHover:!1,horizontalPlacement:de.Auto,horizontalShift:0,verticalPlacement:de.Top,verticalShift:0,attributes:{},triggers:{},className:void 0,showDelay:void 0,hideDelay:void 0},At=Ve`
  label: tooltip;
  display: inline-block;
  left: 0;
  bottom: 0;
  min-width: max-content;
  position: absolute;
  opacity: 0;
  transition: opacity;
  transition-duration: var(--vis-tooltip-transition-duration);
  z-index: 999999;
  padding: var(--vis-tooltip-padding);
  color: var(--vis-tooltip-text-color);
  border-radius: var(--vis-tooltip-border-radius);
  box-shadow: var(--vis-tooltip-box-shadow);
  border: solid 1px var(--vis-tooltip-border-color);
  background-color: var(--vis-tooltip-background-color);
  backdrop-filter: var(--vis-tooltip-backdrop-filter);
`,Wa=At,Xa=dn`
  :root {
    --vis-tooltip-background-color: rgba(255, 255, 255, 0.95);
    --vis-tooltip-border-color: #e5e9f7;
    --vis-tooltip-text-color: #000;
    --vis-tooltip-shadow-color: rgba(172, 179, 184, 0.35);
    --vis-tooltip-backdrop-filter: none;
    --vis-tooltip-padding: 10px 15px;
    --vis-tooltip-border-radius: 5px;
    --vis-tooltip-transition-duration: 300ms;
    --vis-tooltip-box-shadow: none;

    --vis-dark-tooltip-background-color: rgba(30,30,30, 0.95);
    --vis-dark-tooltip-text-color: #e5e9f7;
    --vis-dark-tooltip-border-color: var(--vis-color-grey);
    --vis-dark-tooltip-shadow-color: rgba(0,0,0, 0.95);
  }

  body.theme-dark ${`.${At}`} {
    --vis-tooltip-background-color: var(--vis-dark-tooltip-background-color);
    --vis-tooltip-text-color: var(--vis-dark-tooltip-text-color);
    --vis-tooltip-border-color: var(--vis-dark-tooltip-border-color);
    --vis-tooltip-shadow-color: var(--vis-dark-tooltip-shadow-color);
  }

  body.theme-dark {
    --vis-tooltip-background-color: rgba(30,30,30, 0.95);
    --vis-tooltip-text-color: #e5e9f7;
    --vis-tooltip-border-color: var(--vis-color-grey);
    --vis-tooltip-shadow-color: rgba(0,0,0, 0.95);
  }
`,Qn=Ve`
  bottom: unset;
  position: fixed;
`,St=Ve`
  opacity: 1;
`,wt=Ve`
  display: none;
`,eo=Ve`
  label: non-interactive;
  pointer-events: none;
  user-select: none;
`,Ya=Object.freeze(Object.defineProperty({__proto__:null,hidden:wt,nonInteractive:eo,positionFixed:Qn,root:At,show:St,tooltip:Wa,variables:Xa},Symbol.toStringTag,{value:"Module"}));class to{constructor(n={}){this._defaultConfig=Ka,this.config=this._defaultConfig,this._setUpEventsThrottled=Cn(this._setUpEvents,500),this._setContainerPositionThrottled=Cn(this._setContainerPosition,500),this._isShown=!1,this.element=document.createElement("div"),this.div=Dt(this.element).attr("class",At).classed(St,!1).classed(wt,!0),this.setConfig(n),this.components=this.config.components,this._mutationObserver=new MutationObserver(()=>{this._isShown&&(!this.config.followCursor&&this._hoveredElement?this.placeByElement(this._hoveredElement):this._position&&this.place({x:this._position[0],y:this._position[1]}))}),this._mutationObserver.observe(this.div.node(),{childList:!0,subtree:!0})}setConfig(n){var t;this.prevConfig=this.config,this.config=pa(this._defaultConfig,n),this.prevConfig.horizontalPlacement!==this.config.horizontalPlacement&&this.overrideHorizontalPlacement(void 0),this.config.container&&this.config.container!==((t=this.prevConfig)===null||t===void 0?void 0:t.container)&&this.setContainer(this.config.container),this._setUpAttributes()}setContainer(n){var t;(t=this.element.parentNode)===null||t===void 0||t.removeChild(this.element),this._container=n,this._container.appendChild(this.element),this._setContainerPositionThrottled()}getContainer(){return this._container}hasContainer(){return!!this._container&&this._container.isConnected}setComponents(n){this.components=n}update(){this._container&&this._setUpEventsThrottled()}show(n,t){this.render(n),this.place(t)}_hide(){this.div.classed(St,!1).on("transitionend",()=>{this.div.classed(wt,!this._isShown)}),this._isShown=!1}hide(){window.clearTimeout(this._showDelayTimeoutId),this.config.hideDelay?(window.clearTimeout(this._hideDelayTimeoutId),this._hideDelayTimeoutId=setTimeout(()=>this._hide(),this.config.hideDelay)):this._hide()}_display(){window.clearTimeout(this._hideDelayTimeoutId),this.div.classed(wt,!1).classed(St,!0),this._isShown=!0}display(){this._isShown||(this.config.showDelay?(window.clearTimeout(this._showDelayTimeoutId),this._showDelayTimeoutId=setTimeout(()=>{this._display(),this.place({x:this._position[0],y:this._position[1]})},this.config.showDelay)):this._display())}place(n){if(this._position=[n.x,n.y],!this.hasContainer()){console.warn("Unovis | Tooltip: Container was not set or is not initialized yet");return}const{config:t}=this,o=this.element.offsetWidth,a=this.element.offsetHeight,i=this._overriddenHorizontalPlacement||(t.horizontalPlacement===de.Auto?de.Center:t.horizontalPlacement),r=t.verticalPlacement===de.Auto?n.y-a<0?de.Bottom:de.Top:t.verticalPlacement,s=5,l=i===de.Left?-o-s-t.horizontalShift:i===de.Center?-o/2:s+t.horizontalShift,d=r===de.Bottom?s+t.verticalShift:r===de.Center?-a/2:-s-t.verticalShift-a,[f,b]=this._constraintPosToContainer(n.x+l,n.y+d,o,a);this._applyPosition(f,b,a)}placeByElement(n){const{config:t}=this;this._hoveredElement=n;const o=5,a=this.element.offsetWidth,i=this.element.offsetHeight,r=this.isContainerBody(),s=r?window.innerWidth:this._container.scrollWidth,l=n.getBoundingClientRect(),d=r?[l.x,l.y]:_t({clientX:l.x,clientY:l.y,pageX:l.x,pageY:l.y},this._container),f=this._overriddenHorizontalPlacement||(t.horizontalPlacement===de.Auto?d[0]-a<0?de.Right:d[0]+a>s?de.Left:de.Center:t.horizontalPlacement);let b=0;switch(f){case de.Left:b=-a-o-t.horizontalShift;break;case de.Right:b=l.width+o+t.horizontalShift;break;case de.Center:default:b=(-a+l.width)/2;break}const c=t.verticalPlacement===de.Auto?f!==de.Center?de.Center:d[1]-i<0?de.Bottom:de.Top:t.verticalPlacement;let u=-i;switch(c){case de.Center:u+=(i+l.height)/2;break;case de.Bottom:u+=i+l.height+o+t.verticalShift;break;case de.Top:default:u+=-o-t.verticalShift;break}const[g,m]=this._constraintPosToContainer(d[0]+b,d[1]+u,a,i);this._applyPosition(g,m,i)}isContainerBody(){return this._container===document.body}overrideHorizontalPlacement(n){this._overriddenHorizontalPlacement=n}render(n){var t;const{config:o,prevConfig:a}=this;n instanceof HTMLElement?this.div.select(":first-child").node()!==n&&this.div.html("").append(()=>n):n&&this.div.html(n),this.div.classed((t=o.className)!==null&&t!==void 0?t:"",!!o.className).classed(eo,!o.allowHover),a?.className&&a.className!==o.className&&this.div.classed(a.className,!1),this.display()}_applyPosition(n,t,o){const a=this.isContainerBody(),i=a?window.innerHeight:this._container.scrollHeight;this.div.classed(Qn,a).style("top",a?`${t}px`:"unset").style("bottom",a?"unset":`${i-t-o}px`).style("left",`${n}px`)}_constraintPosToContainer(n,t,o,a){const i=this.isContainerBody(),r=i?window.innerHeight:this._container.scrollHeight,s=i?window.innerWidth:this._container.scrollWidth,l=10,d=n>s-o-l,f=n<l,b=d?s-o-l:f?l:n,c=10,u=t>r-a-c,g=t<c,m=u?r-a-c:g?c:t;return[s<o?0:b,r<a?0:m]}_setContainerPosition(){var n;this._container!==document.body&&((n=getComputedStyle(this._container))===null||n===void 0?void 0:n.position)==="static"&&(this._container.style.position="relative")}_setUpEvents(){const{config:n}=this;this.components.forEach(t=>{const o=Dt(t.element);o.on("mousemove.tooltip",a=>{const{config:i}=this,r=a.composedPath&&a.composedPath()||a.path||[a.target];for(const s of Object.keys(i.triggers)){const l=i.triggers[s];if(!l)continue;const d=o.selectAll(`.${s}`).nodes();for(const f of r){if(f===o.node())break;if(f.classList.contains(s)){const b=d.indexOf(f),c=Dt(f).datum(),u=l(c,b,d),[g,m]=this.isContainerBody()?[a.clientX,a.clientY]:_t(a,this._container);u===null?this.hide():(this.render(u),i.followCursor?this.place({x:g,y:m}):this.placeByElement(f)),a.stopPropagation();return}}}this._isShown&&this.hide()}).on("mouseleave.tooltip",a=>{a.stopPropagation(),this.hide()})}),n.allowHover?this.div.on("mouseenter.tooltip",this._display.bind(this)).on("mouseleave.tooltip",this.hide.bind(this)):this.div.on("mouseenter.tooltip",null).on("mouseleave.tooltip",null)}_setUpAttributes(){const n=this.config.attributes;n&&Object.keys(n).forEach(t=>{this.div.attr(t,n[t])})}destroy(){var n;this._mutationObserver.disconnect(),window.clearTimeout(this._hideDelayTimeoutId),window.clearTimeout(this._showDelayTimeoutId),(n=this.div)===null||n===void 0||n.remove()}}to.selectors=Ya;const Za=Object.assign(Object.assign({},Xn),{color:void 0,barMaxWidth:void 0,barWidth:void 0,dataStep:void 0,barPadding:0,roundedCorners:2,cursor:null,barMinHeight1Px:!1,barMinHeightZeroValue:null,orientation:Yn.Vertical}),no=Ve`
  label: stacked-bar-component;
`,Ja=dn`
  :root {
    --vis-stacked-bar-cursor: default;
    --vis-stacked-bar-fill-color: var(--vis-color-main);
    --vis-stacked-bar-stroke-color: none;
    --vis-stacked-bar-stroke-width: 0px;
    --vis-stacked-bar-hover-stroke-width: none;
    --vis-stacked-bar-hover-stroke-color: none;

    /* Dark Theme */
    --vis-dark-stacked-bar-stroke-color: none;
  }

  body.theme-dark ${`.${no}`} {
    --vis-stacked-bar-stroke-color: var(--vis-dark-stacked-bar-stroke-color);
  }
`,kt=Ve`
  label: bar;
  fill: var(--vis-stacked-bar-fill-color);
  stroke: var(--vis-stacked-bar-stroke-color);
  stroke-width: var(--vis-stacked-bar-stroke-width);
  cursor: var(--vis-stacked-bar-cursor);

  &:hover {
    stroke-width: var(--vis-stacked-bar-hover-stroke-width);
    stroke: var(--vis-stacked-bar-hover-stroke-color);
  }
`,Jt=Ve`
  label: barGroup;
`,oo=Ve`
  label: barGroupExit;
`,Qa=Object.freeze(Object.defineProperty({__proto__:null,bar:kt,barGroup:Jt,barGroupExit:oo,globalStyles:Ja,root:no},Symbol.toStringTag,{value:"Module"}));class pn extends Zn{constructor(n){super(),this._defaultConfig=Za,this.config=this._defaultConfig,this.getAccessors=()=>Jn(this.config.y)?this.config.y:[this.config.y],this.stacked=!0,this.events={},this._barData=[],n&&this.setConfig(n)}get bleed(){if(this._barData=this._getVisibleData(),this._barData.length===0)return{top:0,bottom:0,left:0,right:0};const n=!this.isVertical()&&this.dataScale.range()[0]>this.dataScale.range()[1],t=this.dataScale.domain(),o=this._getBarWidth()/2,a=this._barData.map((u,g)=>Ee(u,this.config.x,g)),i=Bt(a),r=fa(a),s=this.dataScale(i),l=this.dataScale(r),d=this.dataScale.invert(s+(n?o:-o)),f=this.dataScale.invert(l+(n?-o:o)),b=d<=t[0]?this.dataScale(t[0])-this.dataScale(d):0,c=f>t[1]?this.dataScale(f)-this.dataScale(t[1]):0;return{top:this.isVertical()?0:n?-c:b,bottom:this.isVertical()?0:n?-b:c,left:this.isVertical()?b:0,right:this.isVertical()?c:0}}get dataScale(){return this.isVertical()?this.xScale:this.yScale}get valueScale(){return this.isVertical()?this.yScale:this.xScale}isVertical(){return this.config.orientation===Yn.Vertical}_render(n){const{config:t}=this,o=lt(n)?n:t.duration,a=this.getAccessors(),i=ma(this._barData,0,a,this._prevNegative);this._prevNegative=i.map(g=>!!g.isMostlyNegative);const r=this.g.selectAll(`.${Jt}`).data(this._barData,(g,m)=>{var v;return`${(v=xn(g,t.id,m))!==null&&v!==void 0?v:m}`}),s=(g,m)=>{const v=this.dataScale(Ee(g,t.x,m)),y=this.isVertical()?v:0,k=this.isVertical()?0:v;return`translate(${y},${k})`},d=r.enter().append("g").attr("class",Jt).attr("transform",s).style("opacity",1).merge(r);Ue(d,o).attr("transform",s).style("opacity",1);const f=r.exit().attr("class",oo);Ue(f,o).style("opacity",0).remove(),Ue(f.selectAll(`.${kt}`),o).attr("transform",this.isVertical()?`translate(0,${this._height/3})`:`translate(${this._width/6},0)`);const b=d.selectAll(`.${kt}`).data((g,m)=>i.map((v,y)=>Object.assign(Object.assign({},g),{_index:m,_stacked:v[m],_ending:y===i.length-1||y<=i.length-1&&i[y+1][m][0]!==v[m][1]}))),u=b.enter().append("path").attr("class",kt).attr("d",(g,m)=>this._getBarPath(g,m,!0)).style("fill",(g,m)=>Qe(g,t.color,m)).merge(b);Ue(u,o).attr("d",(g,m)=>this._getBarPath(g,m)).style("fill",(g,m)=>Qe(g,t.color,m)).style("cursor",(g,m)=>xn(g,t.cursor,m)),Ue(b.exit(),o).style("opacity",0).remove()}_getBarWidth(){const{config:n,datamodel:{data:t}}=this;if(va(t))return 0;if(n.barWidth)return Bt([n.barWidth,n.barMaxWidth]);const o=this.dataScale.bandwidth,a=this.dataScale.domain?this.dataScale.domain():[];let r=1+(o?a.length:a[1]-a[0])/n.dataStep||!o&&t.filter((d,f)=>{const b=Ee(d,n.x,f);return b>=a[0]&&b<=a[1]}).length||t.length;!o&&r>=2&&(r+=1);const l=(r<2?1:1-n.barPadding)*(this.isVertical()?this._width:this._height)/r;return Bt([l,n.barMaxWidth])}_getVisibleData(){const{config:n,datamodel:{data:t}}=this,o=this._getBarWidth(),a=t.length<2?0:o/2,i=this.dataScale,r=Math.abs(i.invert(a)-i.invert(0));return t?.filter((l,d)=>{const f=Ee(l,n.x,d),b=i.domain(),c=+b[0],u=+b[1];return f>=c-r&&f<=u+r})}_getBarPath(n,t,o=!1){const{config:a}=this,i=this.getAccessors(),r=this._getBarWidth(),s=n._stacked[1]<0,l=n._ending,d=Ee(n,i[t],n._index),f=o?0:Math.abs(this.valueScale(n._stacked[0])-this.valueScale(n._stacked[1])),b=!o&&a.barMinHeight1Px&&f<1&&isFinite(d)&&d!==a.barMinHeightZeroValue?1:f,c=o?this.valueScale(0):this.valueScale(s?n._stacked[0]:n._stacked[1])-(f<1&&a.barMinHeight1Px?1:0),u=-r/2,g=r,m=a.roundedCorners?lt(a.roundedCorners)?+a.roundedCorners:g/2:0,v=Zt(m,0,Math.min(f,g)/2),y=this.yScale.range()[0]>this.yScale.range()[1];return ha({x:this.isVertical()?u:c-b,y:this.isVertical()?c+(y?0:-b):u,w:this.isVertical()?g:b,h:this.isVertical()?b:g,tl:l&&(this.isVertical()?!s&&y||s&&!y:s),tr:l&&(this.isVertical()?!s&&y||s&&!y:!s),br:l&&(this.isVertical()?s&&y||!s&&!y:!s),bl:l&&(this.isVertical()?s&&y||!s&&!y:s),r:v})}getValueScaleExtent(n){const{datamodel:t}=this,o=this.getAccessors(),a=n?this._getVisibleData():t.data;return ba(a,...o)}getDataScaleExtent(){const{config:n,datamodel:t}=this;return ya(t.data,n.x)}getYDataExtent(n){return this.isVertical()?this.getValueScaleExtent(n):this.getDataScaleExtent()}getXDataExtent(){return this.isVertical()?this.getDataScaleExtent():this.getValueScaleExtent(!1)}}pn.selectors=Qa;const ei=Object.assign(Object.assign({},Xn),{yStacked:void 0,baseline:null,duration:100,tooltip:void 0,template:(e,n,t,o)=>"",hideWhenFarFromPointer:!0,hideWhenFarFromPointerDistance:100,snapToData:!0,getCircles:void 0,color:void 0,strokeColor:void 0,strokeWidth:void 0,onCrosshairMove:void 0,forceShowAt:void 0}),ti=dn`
  :root {
    --vis-crosshair-line-stroke-color: #888;
    --vis-crosshair-line-stroke-width: 1px;
    --vis-crosshair-line-stroke-opacity: 1;
    --vis-crosshair-circle-stroke-color: #fff;
    --vis-crosshair-circle-stroke-width: 1px;
    --vis-crosshair-circle-stroke-opacity: 0.75;
  }
`,ni=Ve`
  label: crosshair-component;
`,ao=Ve`
  stroke: var(--vis-crosshair-line-stroke-color);
  stroke-width: var(--vis-crosshair-line-stroke-width);
  stroke-opacity: var(--vis-crosshair-line-stroke-opacity);
  pointer-events: none;
`,io=Ve`
  stroke: var(--vis-crosshair-circle-stroke-color);
  stroke-width: var(--vis-crosshair-circle-stroke-width);
  stroke-opacity: var(--vis-crosshair-circle-stroke-opacity);
  pointer-events: none;
`,oi=Object.freeze(Object.defineProperty({__proto__:null,circle:io,globalStyles:ti,line:ao,root:ni},Symbol.toStringTag,{value:"Module"}));class ro extends Zn{constructor(n){super(),this.clippable=!0,this._defaultConfig=ei,this.config=this._defaultConfig,this._xPx=void 0,this._yPx=void 0,this._mouseEvent=void 0,this._animFrameId=null,this._accessors={x:void 0,y:void 0,yStacked:void 0,baseline:void 0},n&&this.setConfig(n),this.g.style("opacity",0),this.line=this.g.append("line").attr("class",ao)}set accessors(n){this._accessors=n}get accessors(){var n;const{config:t}=this,o=!!(t.x||t.y||t.yStacked),a=o?t.x:this._accessors.x,i=o?t.y:this._accessors.y,r=i?Jn(i)?i:[i]:void 0,s=o?t.yStacked:this._accessors.yStacked,l=(n=t.baseline)!==null&&n!==void 0?n:this._accessors.baseline;return{x:a,y:r,yStacked:s,baseline:l}}_isContainerInViewport(){var n;if(!(!((n=this.container)===null||n===void 0)&&n.node()))return!1;const t=this.container.node().getBoundingClientRect(),o=window.innerWidth||document.documentElement.clientWidth,a=window.innerHeight||document.documentElement.clientHeight,i=Math.max(0,Math.min(t.right,o)-Math.max(t.left,0)),r=Math.max(0,Math.min(t.bottom,a)-Math.max(t.top,0)),s=t.width*t.height,l=i*r;return s>0&&l/s>=.35}setContainer(n){this.container!==n&&(this.container=n,this.container.on("mousemove.crosshair",this._onMouseMove.bind(this)),this.container.on("mouseout.crosshair",this._onMouseOut.bind(this)),this.container.on("wheel.crosshair",this._onWheel.bind(this)))}_render(n){var t,o,a,i,r;const{config:s,datamodel:l}=this,d=lt(n)?n:s.duration,f=s.forceShowAt!==void 0,b=f?this.xScale(s.forceShowAt):this._xPx,c=this.xScale.invert(b),u=!((t=l.data)===null||t===void 0)&&t.length&&this.accessors.x?l.data.indexOf(_n(l.data,c,this.accessors.x,Sa.Left)):void 0;let g,m;s.snapToData&&(!this.accessors.y&&!this.accessors.yStacked&&(!((o=l.data)===null||o===void 0)&&o.length)&&console.warn("Unovis | Crosshair: Y accessors have not been configured. Please check if they're present in the configuration object"),!(!((a=l.data)===null||a===void 0)&&a.length)&&this._mouseEvent&&console.warn("Unovis | Crosshair: No data to snap to. Make sure the data has been passed to the container or to the crosshair itself"),g=_n(l.data,c,this.accessors.x),m=l.data.indexOf(g));const v=this.xScale.range(),y=this.yScale.range(),k=s.snapToData&&g?Zt(Math.round(this.xScale(Ee(g,this.accessors.x,m))),0,this._width):Zt(b,v[0],v[1]),L=b>=v[0]&&b<=v[1],q=this._yPx>=y[1]&&this._yPx<=y[0];let B=this._xPx?L&&q:L;s.hideWhenFarFromPointer&&Math.abs(k-+b)>=s.hideWhenFarFromPointerDistance&&(B=!1);const J=(i=s.tooltip)!==null&&i!==void 0?i:this.tooltip;if(B&&J&&this._isContainerInViewport()){const P=J.getContainer()||this.container.node(),_=J.isContainerBody();if(f){const S=this.container.node().getBoundingClientRect(),$=(_?b+S.left:b)+this._containerMargin.left,Z=this._height/2+(_?S.top:0),U=[$,Z];this._showTooltip(g,c,U,u)}else if(this._mouseEvent){const S=_?[this._mouseEvent.clientX,this._mouseEvent.clientY]:_t(this._mouseEvent,P);this._showTooltip(g,c,S,u)}}else this._hideTooltip();if(this._mouseEvent&&((r=s.onCrosshairMove)===null||r===void 0||r.call(s,B?this.xScale.invert(this._xPx):void 0,g,m,this._mouseEvent),this._mouseEvent=void 0),Ue(this.g,d).style("opacity",B?1:0),!isFinite(b))return;this.line.attr("y1",0).attr("y2",this._height),Ue(this.line,d,$n).attr("x1",k).attr("x2",k);const te=wa(s.getCircles)?s.getCircles(c,l.data,this.yScale,u):this.getCircleData(g,m),pe=this.g.selectAll("circle").data(te,(P,_)=>{var S;return(S=P.id)!==null&&S!==void 0?S:_}),me=pe.enter().append("circle").attr("class",io).attr("r",0).attr("cx",k).attr("cy",P=>P.y).style("fill",P=>P.color).style("stroke",P=>P.strokeColor).style("stroke-width",P=>P.strokeWidth);Ue(me.merge(pe),d,$n).attr("cx",k).attr("cy",P=>P.y).attr("r",4).style("opacity",P=>P.opacity).style("fill",P=>P.color).style("stroke",P=>P.strokeColor).style("stroke-width",P=>P.strokeWidth),pe.exit().remove()}hide(n){window.cancelAnimationFrame(this._animFrameId),this._animFrameId=window.requestAnimationFrame(()=>{var t,o;this._xPx=void 0,this._yPx=void 0,this._mouseEvent=void 0,(o=(t=this.config).onCrosshairMove)===null||o===void 0||o.call(t,void 0,void 0,void 0,n),this._render()})}_onMouseMove(n){var t;const{datamodel:o,element:a}=this;!this.accessors.x&&(!((t=o.data)===null||t===void 0)&&t.length)&&console.warn("Unovis | Crosshair: X accessor function has not been configured. Please check if it's present in the configuration object");const[i,r]=_t(n,a);this._xPx=i,this._yPx=r,this._mouseEvent=n,window.cancelAnimationFrame(this._animFrameId),this._animFrameId=window.requestAnimationFrame(()=>{this._render()})}_onMouseOut(n){var t;(!n||!(!((t=this.container)===null||t===void 0)&&t.node().contains(n.relatedTarget)))&&this.hide(n)}_onWheel(n){this.hide(n)}_showTooltip(n,t,o,a){var i;const{config:r,datamodel:s}=this,l=(i=r.tooltip)!==null&&i!==void 0?i:this.tooltip;if(!l||!o)return;const[d,f]=o,b=r.template(n,t,s.data,a);if(l.config.followCursor=!0,!l.config.horizontalPlacement||l.config.horizontalPlacement===de.Auto){const c=l.isContainerBody()?d-this.container.node().getBoundingClientRect().left:d;l.overrideHorizontalPlacement(c>this._containerWidth/2?de.Left:de.Right)}b&&l.show(b,{x:d,y:f})}_hideTooltip(){var n;const{config:t}=this,o=(n=t.tooltip)!==null&&n!==void 0?n:this.tooltip;o?.hide()}getYDataExtent(){return[void 0,void 0]}getCircleData(n,t){var o,a;const{config:i}=this;if(i.snapToData&&n){const r=(o=this.accessors.y)!==null&&o!==void 0?o:[],s=(a=this.accessors.yStacked)!==null&&a!==void 0?a:[],l=Ee(n,this.accessors.baseline,t)||0,d=ka(n,t,...s).map((b,c)=>({y:this.yScale(b+l),opacity:lt(Ee(n,s[c],c))?1:0,color:Qe(n,i.color,c),strokeColor:i.strokeColor?Qe(n,i.strokeColor,c):void 0,strokeWidth:i.strokeWidth?Ee(n,i.strokeWidth,c):void 0})),f=r.map((b,c)=>{const u=Ee(n,b,t);return{y:this.yScale(u),opacity:lt(u)?1:0,color:Qe(n,i.color,d.length+c),strokeColor:i.strokeColor?Qe(n,i.strokeColor,c):void 0,strokeWidth:i.strokeWidth?Ee(n,i.strokeWidth,c):void 0}});return d.concat(f)}return[]}}ro.selectors=oi;const ai={"data-vis-crosshair":""},ii=$e({__name:"index",props:{data:{}},setup(e,{expose:n}){const t=an(Ca),o=e,a=I(()=>t.data.value??o.data),i=cn(o),r=W();return tt(()=>{rn(()=>{var s;r.value=new ro(i.value),(s=r.value)==null||s.setData(a.value),t.update(r.value)})}),Rt(()=>{var s;(s=r.value)==null||s.destroy(),t.destroy()}),ge(i,(s,l)=>{var d;gn(s,l)||(d=r.value)==null||d.setConfig(i.value)}),ge(a,()=>{var s;(s=r.value)==null||s.setData(a.value)}),n({component:r}),(s,l)=>(h(),V("div",ai))}}),ri={"data-vis-component":""},li=$e({__name:"index",props:{color:{},barWidth:{},barMaxWidth:{},dataStep:{},barPadding:{},roundedCorners:{type:[Number,Boolean]},cursor:{},barMinHeight1Px:{type:Boolean},barMinHeightZeroValue:{},orientation:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:n}){const t=an(xa),o=e,a=I(()=>t.data.value??o.data),i=cn(o),r=W();return tt(()=>{rn(()=>{var s;r.value=new pn(i.value),(s=r.value)==null||s.setData(a.value),t.update(r.value)})}),Rt(()=>{var s;(s=r.value)==null||s.destroy(),t.destroy()}),ge(i,(s,l)=>{var d;gn(s,l)||(d=r.value)==null||d.setConfig(i.value)}),ge(a,()=>{var s;(s=r.value)==null||s.setData(a.value)}),n({component:r}),(s,l)=>(h(),V("div",ri))}}),si={"data-vis-tooltip":""},ui=$e({__name:"index",props:{components:{},container:{},followCursor:{type:Boolean},allowHover:{type:Boolean},horizontalPlacement:{},horizontalShift:{},verticalPlacement:{},verticalShift:{},triggers:{},attributes:{},className:{},hideDelay:{},showDelay:{},data:{}},setup(e,{expose:n}){const t=an(_a),o=cn(e),a=W();return tt(()=>{rn(()=>{a.value=new to(o.value),t.update(a.value)})}),Rt(()=>{var i;(i=a.value)==null||i.destroy(),t.destroy()}),ge(o,(i,r)=>{var s;gn(i,r)||(s=a.value)==null||s.setConfig(o.value)}),n({component:a}),(i,r)=>(h(),V("div",si))}}),di={class:"w-full relative overflow-visible"},ci={key:0,class:"group overflow-hidden"},gi=["src"],pi={class:"flex w-full bg-neutral-50 p-1 px-3 justify-between"},fi={class:"flex"},mi={key:1,class:"overflow-hidden relative group"},vi=["src"],hi={class:"flex w-full bg-neutral-50 p-1 px-3 justify-between"},bi={class:"flex"},yi={class:"px-5 pb-3 mt-4"},Si={class:"text-2xl font-medium"},wi={class:"text-neutral-500"},ki={class:"my-1"},Ci={key:0,class:"text-sm text-red-700 shrink-0 flex gap-1 items-center"},xi={key:1,class:"text-sm text-yellow-600 shrink-0 flex gap-1 items-center"},_i={key:2,class:"text-sm shrink-0 text-red-700 flex gap-1 items-center"},Ri={key:3,class:"text-sm text-yellow-600 shrink-0 flex gap-1 items-center"},$i={key:4,class:"text-sm text-red-700 shrink-0 flex gap-1 items-center"},Fi={key:5,class:"text-sm text-yellow-600 shrink-0 flex gap-1 items-center"},Li={class:"mt-3 text-lg"},Pi={class:"-mx-1 mt-4"},Vi={key:0,class:"inline-flex m-1 h-fit align-bottom"},Ai=["src"],Ii={key:1,class:"shrink-0 inline-flex m-1 align-bottom"},Ei={key:2,class:"shrink-0 inline-flex m-1 align-bottom"},Ni={key:3,class:"shrink-0 inline-flex m-1 align-bottom"},Ti={class:"text-lg font-semibold mb-2 flex"},Mi={key:0,class:"flex items-center space-x-2"},zi={size:"md",weight:"light"},Di={size:"md",weight:"light"},Fn=50,Bi={__name:"SpeciesInfo",props:{species:Object},setup(e){const n=W(0),t=e,o=I(()=>t.species.images||[]);ge(o,()=>{n.value=0});const a=W(!1),i=W(!0),r=()=>{a.value=!a.value},s=I(()=>t.species.Kriteriedokumentation?a.value?t.species.Kriteriedokumentation:t.species.Kriteriedokumentation.slice(0,Fn)+"...":""),l=I(()=>t.species.ekologi?i.value?t.species.ekologi:t.species.ekologi.slice(0,Fn)+"...":""),d=v=>v?v.charAt(0).toUpperCase()+v.slice(1).toLowerCase():"",f=v=>v?v.replace("/detaljer","").replace("/artinformation",""):"",b=v=>({LC:"LC",NT:"NT",EN:"EN",VU:"VU",CR:"CR",RE:"RE",DD:"DD"})[v]||"NE",c=v=>({LC:"bg-green-500",NT:"bg-[#D7838E]",EN:"bg-[#C4004F]",VU:"bg-[#D7838E]",CR:"bg-[#C4004F]",RE:"bg-[#421A31]",DD:"bg-[#E8E9E7]"})[v]||"bg-neutral-300",u=v=>({LC:"Livskraftig",NT:"Nära hotad",EN:"Starkt hotad",VU:"Sårbar",CR:"Akut hotad",RE:"Nationellt utdöd",DD:"Kunskapsbrist"})[v]||"Ej bedömd",g=(v,y)=>`/images/svampgrupp/${{övrigt:"ovrigt.webp",hattsvamp:"hattsvamp.png",kantarell:"kantarell.webp",sopp:"sopp.png",taggsvamp:"taggsvamp.png",fingersvamp:"fingersvamp.webp",tryffel:"tryffel.webp",skinnsvamp:"skinnsvamp.webp",skålsvamp:"skalsvamp.webp"}[v==="0"&&y?y:v]||"default-icon.webp"}`,m=I(()=>t.species["Svamp-grupp"]==="0"&&t.species["Svamp-grupp-släkte"]?t.species["Svamp-grupp-släkte"]:t.species["Svamp-grupp"]);return(v,y)=>{const k=Po,L=ln,q=la,B=Ne,J=$t,te=nt,pe=Re,me=Eo;return h(),V("div",di,[o.value.length>1?(h(),V("div",ci,[C(k,{onSelect:y[0]||(y[0]=P=>n.value=P),items:o.value,ui:{item:"basis-full"}},{default:T(({item:P})=>[(h(),V("div",{class:"w-full relative",key:P},[R("img",{src:P,class:"w-full",draggable:"false",height:"300",width:"450",loading:"lazy",decoding:"async",alt:"Artbild"},null,8,gi)]))]),_:1},8,["items"]),R("div",pi,[R("div",fi,[C(L,{name:"i-mingcute-copyright-line",class:"h-4 w-4 my-1 mr-1"}),y[1]||(y[1]=R("h1",{weight:"light",class:""}," Michael Krikorev ",-1))]),R("h1",null,oe(n.value+1)+" av "+oe(o.value.length),1)])])):o.value.length===1?(h(),V("div",mi,[R("img",{src:o.value[0],class:"w-full",draggable:"false",height:"300",width:"450",loading:"lazy",decoding:"async",alt:"Artbild"},null,8,vi),R("div",hi,[R("div",bi,[C(L,{name:"i-mingcute-copyright-line",class:"h-4 w-4 my-1 mr-1"}),y[2]||(y[2]=R("h1",{weight:"light",class:""}," Michael Krikorev ",-1))]),R("h1",null,oe(n.value+1)+" av "+oe(o.value.length),1)])])):(h(),j(q,{key:2,class:"rounded-none"})),R("div",yi,[R("h1",Si,oe(d(e.species.Commonname)),1),R("h1",wi,oe(e.species.Scientificname),1),R("div",ki,[e.species["Rank matsvamp"]===3?(h(),V("div",Ci,[C(B,{name:"codicon:circle-large-filled",class:"size-3"}),y[3]||(y[3]=le(" Minst vanlig matsvamp ",-1))])):O("",!0),e.species["Rank matsvamp"]===2?(h(),V("div",xi,[C(B,{name:"codicon:color-mode",class:"size-3"}),y[4]||(y[4]=le(" Mindre vanlig matsvamp ",-1))])):O("",!0),e.species["Rank giftsvamp"]===3?(h(),V("div",_i,[C(B,{name:"codicon:circle-large-filled",class:"size-3"}),y[5]||(y[5]=le(" Minst vanlig giftsvamp ",-1))])):O("",!0),e.species["Rank giftsvamp"]===2?(h(),V("div",Ri,[C(B,{name:"codicon:color-mode",class:"size-3"}),y[6]||(y[6]=le(" Mindre vanlig giftsvamp ",-1))])):O("",!0),e.species.RankRed===3?(h(),V("div",$i,[C(B,{name:"codicon:circle-large-filled",class:"size-3"}),y[7]||(y[7]=le(" Sällsynt naturvårdsart ",-1))])):O("",!0),e.species.RankRed===2?(h(),V("div",Fi,[C(B,{name:"codicon:color-mode",class:"size-3"}),y[8]||(y[8]=le(" Ovanlig naturvårdsart ",-1))])):O("",!0)]),R("h1",Li,oe(l.value),1),R("div",Pi,[e.species["Svamp-grupp"]?(h(),V("div",Vi,[C(J,{color:"neutral",variant:"subtle",size:"xl"},{default:T(()=>[R("img",{src:g(e.species["Svamp-grupp"],e.species["Svamp-grupp-släkte"]),class:"w-4.5",alt:"Svamp ikon",loading:"lazy",decoding:"async"},null,8,Ai),le(" "+oe(d(m.value)),1)]),_:1})])):O("",!0),e.species["Nyasvamp-boken"]==="x"?(h(),V("div",Ii,[C(J,{color:"warning",size:"xl",variant:"subtle",class:""},{default:T(()=>[C(L,{name:"icon-park-solid:knife-fork"}),y[9]||(y[9]=le("Matsvamp ",-1))]),_:1})])):O("",!0),e.species.Giftsvamp==="x"?(h(),V("div",Ei,[C(J,{color:"poison",size:"xl",variant:"subtle",class:""},{default:T(()=>[C(L,{name:"hugeicons:danger"}),y[10]||(y[10]=le("Giftsvamp ",-1))]),_:1})])):O("",!0),e.species.SIGNAL_art==="S"?(h(),V("div",Ni,[C(J,{color:"signal",size:"xl",variant:"subtle",class:""},{default:T(()=>[...y[11]||(y[11]=[le("Signalart",-1)])]),_:1})])):O("",!0),e.species.KALKmark?(h(),j(J,{key:4,size:"xl",color:"kalkmark",variant:"subtle",class:"shrink-0 inline-flex m-1 align-bottom"},{default:T(()=>[...y[12]||(y[12]=[le(" Kalkmark ",-1)])]),_:1})):O("",!0),e.species.ANNANmark?(h(),j(J,{key:5,size:"xl",color:"vanligmark",variant:"subtle",class:"shrink-0 inline-flex m-1 align-bottom"},{default:T(()=>[...y[13]||(y[13]=[le(" Vanlig skogsmark ",-1)])]),_:1})):O("",!0)]),e.species.Kriteriedokumentation?(h(),j(te,{key:0,class:"my-4"},{default:T(()=>[R("div",{class:"flex justify-between cursor-pointer",onClick:r},[R("h1",Ti,[e.species.RL2020kat?(h(),V("div",Mi,[R("div",{class:K([c(e.species.RL2020kat),"h-8 w-8 rounded-full flex items-center justify-center text-white"])},oe(b(e.species.RL2020kat)),3),R("h1",zi,oe(u(e.species.RL2020kat)),1)])):O("",!0)]),C(L,{name:"mdi:chevron-down",class:K(["h-6 w-6 transition-transform duration-300 ease-in-out",a.value?"rotate-180":"rotate-0"])},null,8,["class"])]),e.species.Kriteriedokumentation?(h(),V("div",{key:0,class:K(["relative overflow-hidden transition-transform duration-300 ease-in-out",[a.value?"max-h-auto":"max-h-20"]]),onClick:r},[R("h1",Di,oe(s.value),1)],2)):O("",!0)]),_:1})):O("",!0),y[14]||(y[14]=R("h1",{class:"text-md font-medium mx-2 mt-4"},"Läs mer på",-1)),e.species.Artfakta!="Information saknas"?(h(),j(pe,{key:1,to:f(e.species.Artfakta),variant:"ghost",target:"_blank",class:"text-primary-500 w-full",size:"xl",icon:"i-heroicons-arrow-up-right-20-solid",label:"Artfakta.se",trailing:""},null,8,["to"])):O("",!0),y[15]||(y[15]=R("br",null,null,-1)),e.species.Svampguiden&&e.species.Svampguiden!=="0"?(h(),j(pe,{key:2,to:f(e.species.Svampguiden),trailing:"",label:"Svampguiden.com",icon:"i-heroicons-arrow-up-right-20-solid",target:"_blank",variant:"ghost",class:"text-primary-500 w-full",size:"xl"},null,8,["to"])):O("",!0),C(me)])])}}},Oi={key:0,class:"fixed inset-0 z-50 flex pointer-events-none group"},Gi={class:"absolute top-3 left-3 items-end w-full gap-2 z-10 flex"},ji={class:"h-full relative overflow-auto pb-16 no-scrollbar"},qi={__name:"MySlideover",props:{modelValue:{type:Boolean,default:!1},pinned:{type:Boolean,default:!0},expanded:{type:Boolean,default:!1}},emits:["update:modelValue","update:pinned"],setup(e,{emit:n}){const t=e,o=n,a=W(t.pinned);ge(()=>t.pinned,r=>{a.value=r});function i(){a.value=!a.value,o("update:pinned",a.value)}return(r,s)=>{const l=Re;return h(),j(Be,{name:"slide-in-right"},{default:T(()=>[e.modelValue?(h(),V("div",Oi,[a.value?O("",!0):(h(),V("div",{key:0,class:"fixed inset-0 pointer-events-auto",onClick:s[0]||(s[0]=d=>o("update:modelValue",!1))})),R("div",{ref:"panelRef",class:K(["ml-auto bg-white shadow-lg z-50 relative pointer-events-auto ring-1 ring-neutral-200 transition-all overflow-hidden",[a.value?"":"sm:ml-auto sm:m-2 sm:rounded",e.expanded?"w-[744px]":"w-screen sm:w-96"]]),onClick:s[2]||(s[2]=No(()=>{},["stop"]))},[R("div",Gi,[C(l,{class:"shadow hover:bg-white rounded-full mt-2 ml-1 md:m-0",color:"neutral",variant:"soft",ui:{rounded:"rounded-full"},icon:"heroicons:x-mark",size:"lg",onClick:s[1]||(s[1]=d=>o("update:modelValue",!1))}),C(l,{class:K(["shadow hover:bg-white hidden md:flex rounded-full",a.value?"text-primary-500":"text-neutral-700"]),color:"neutral",variant:"soft",ui:{rounded:"rounded-full"},onClick:i,icon:"codicon:pinned",size:"lg"},null,8,["class"])]),R("div",ji,[se(r.$slots,"default",{},void 0,!0)])],2)])):O("",!0)]),_:3})}}},Ui=ze(qi,[["__scopeId","data-v-fb1058c4"]]),lo={__name:"UDropdownMenuContent",props:{items:{type:null,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0},sub:{type:Boolean,required:!1},labelKey:{type:null,required:!0},checkedIcon:{type:[String,Object],required:!1},loadingIcon:{type:[String,Object],required:!1},externalIcon:{type:[Boolean,String,Object],required:!1},class:{type:null,required:!1},ui:{type:null,required:!0},uiOverride:{type:null,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=Ft(),{dir:i}=sn(),r=Lt(),s=To(Yt(()=>t.portal)),l=un(Tn(t,"sub","items","portal","labelKey","checkedIcon","loadingIcon","externalIcon","class","ui","uiOverride"),o),d=()=>Dn(a,["default"]),[f,b]=Mo(),c=I(()=>i.value==="rtl"?r.ui.icons.chevronLeft:r.ui.icons.chevronRight),u=I(()=>t.items?.length?zo(t.items)?t.items:[t.items]:[]);return(g,m)=>(h(),V(he,null,[C(x(f),null,{default:T(({item:v,active:y,index:k})=>[se(g.$slots,v.slot||"item",{item:v,index:k},()=>[se(g.$slots,v.slot?`${v.slot}-leading`:"item-leading",{item:v,active:y,index:k},()=>[v.loading?(h(),j(Ne,{key:0,name:e.loadingIcon||x(r).ui.icons.loading,class:K(e.ui.itemLeadingIcon({class:[e.uiOverride?.itemLeadingIcon,v.ui?.itemLeadingIcon],color:v?.color,loading:!0}))},null,8,["name","class"])):v.icon?(h(),j(Ne,{key:1,name:v.icon,class:K(e.ui.itemLeadingIcon({class:[e.uiOverride?.itemLeadingIcon,v.ui?.itemLeadingIcon],color:v?.color,active:y}))},null,8,["name","class"])):v.avatar?(h(),j(Do,ye({key:2,size:v.ui?.itemLeadingAvatarSize||e.uiOverride?.itemLeadingAvatarSize||e.ui.itemLeadingAvatarSize()},v.avatar,{class:e.ui.itemLeadingAvatar({class:[e.uiOverride?.itemLeadingAvatar,v.ui?.itemLeadingAvatar],active:y})}),null,16,["size","class"])):O("",!0)]),x(at)(v,t.labelKey)||a[v.slot?`${v.slot}-label`:"item-label"]?(h(),V("span",{key:0,class:K(e.ui.itemLabel({class:[e.uiOverride?.itemLabel,v.ui?.itemLabel],active:y}))},[se(g.$slots,v.slot?`${v.slot}-label`:"item-label",{item:v,active:y,index:k},()=>[le(oe(x(at)(v,t.labelKey)),1)]),v.target==="_blank"&&e.externalIcon!==!1?(h(),j(Ne,{key:0,name:typeof e.externalIcon=="string"?e.externalIcon:x(r).ui.icons.external,class:K(e.ui.itemLabelExternalIcon({class:[e.uiOverride?.itemLabelExternalIcon,v.ui?.itemLabelExternalIcon],color:v?.color,active:y}))},null,8,["name","class"])):O("",!0)],2)):O("",!0),R("span",{class:K(e.ui.itemTrailing({class:[e.uiOverride?.itemTrailing,v.ui?.itemTrailing]}))},[se(g.$slots,v.slot?`${v.slot}-trailing`:"item-trailing",{item:v,active:y,index:k},()=>[v.children?.length?(h(),j(Ne,{key:0,name:c.value,class:K(e.ui.itemTrailingIcon({class:[e.uiOverride?.itemTrailingIcon,v.ui?.itemTrailingIcon],color:v?.color,active:y}))},null,8,["name","class"])):v.kbds?.length?(h(),V("span",{key:1,class:K(e.ui.itemTrailingKbds({class:[e.uiOverride?.itemTrailingKbds,v.ui?.itemTrailingKbds]}))},[(h(!0),V(he,null,be(v.kbds,(L,q)=>(h(),j(Bo,ye({key:q,size:v.ui?.itemTrailingKbdsSize||e.uiOverride?.itemTrailingKbdsSize||e.ui.itemTrailingKbdsSize()},{ref_for:!0},typeof L=="string"?{value:L}:L),null,16,["size"]))),128))],2)):O("",!0)]),C(x(Ie).ItemIndicator,{"as-child":""},{default:T(()=>[C(Ne,{name:e.checkedIcon||x(r).ui.icons.check,class:K(e.ui.itemTrailingIcon({class:[e.uiOverride?.itemTrailingIcon,v.ui?.itemTrailingIcon],color:v?.color}))},null,8,["name","class"])]),_:2},1024)],2)])]),_:3}),C(x(Ie).Portal,Ct(xt(x(s))),{default:T(()=>[(h(),j(Mn(e.sub?x(Ie).SubContent:x(Ie).Content),ye({class:t.class},x(l)),{default:T(()=>[se(g.$slots,"content-top"),R("div",{role:"presentation",class:K(e.ui.viewport({class:e.uiOverride?.viewport}))},[(h(!0),V(he,null,be(u.value,(v,y)=>(h(),j(x(Ie).Group,{key:`group-${y}`,class:K(e.ui.group({class:e.uiOverride?.group}))},{default:T(()=>[(h(!0),V(he,null,be(v,(k,L)=>(h(),V(he,{key:`group-${y}-${L}`},[k.type==="label"?(h(),j(x(Ie).Label,{key:0,class:K(e.ui.label({class:[e.uiOverride?.label,k.ui?.label,k.class]}))},{default:T(()=>[C(x(b),{item:k,index:L},null,8,["item","index"])]),_:2},1032,["class"])):k.type==="separator"?(h(),j(x(Ie).Separator,{key:1,class:K(e.ui.separator({class:[e.uiOverride?.separator,k.ui?.separator,k.class]}))},null,8,["class"])):k?.children?.length?(h(),j(x(Ie).Sub,{key:2,open:k.open,"default-open":k.defaultOpen},{default:T(()=>[C(x(Ie).SubTrigger,{as:"button",type:"button",disabled:k.disabled,"text-value":x(at)(k,t.labelKey),class:K(e.ui.item({class:[e.uiOverride?.item,k.ui?.item,k.class],color:k?.color}))},{default:T(()=>[C(x(b),{item:k,index:L},null,8,["item","index"])]),_:2},1032,["disabled","text-value","class"]),C(lo,ye({sub:"",class:t.class,ui:e.ui,"ui-override":e.uiOverride,portal:e.portal,items:k.children,align:"start","align-offset":-4,"side-offset":3,"label-key":e.labelKey,"checked-icon":e.checkedIcon,"loading-icon":e.loadingIcon,"external-icon":e.externalIcon},{ref_for:!0},k.content),zn({_:2},[be(d(),(q,B)=>({name:B,fn:T(J=>[se(g.$slots,B,ye({ref_for:!0},J))])}))]),1040,["class","ui","ui-override","portal","items","label-key","checked-icon","loading-icon","external-icon"])]),_:2},1032,["open","default-open"])):k.type==="checkbox"?(h(),j(x(Ie).CheckboxItem,{key:3,"model-value":k.checked,disabled:k.disabled,"text-value":x(at)(k,t.labelKey),class:K(e.ui.item({class:[e.uiOverride?.item,k.ui?.item,k.class],color:k?.color})),"onUpdate:modelValue":k.onUpdateChecked,onSelect:k.onSelect},{default:T(()=>[C(x(b),{item:k,index:L},null,8,["item","index"])]),_:2},1032,["model-value","disabled","text-value","class","onUpdate:modelValue","onSelect"])):(h(),j(x(Ie).Item,{key:4,"as-child":"",disabled:k.disabled,"text-value":x(at)(k,t.labelKey),onSelect:k.onSelect},{default:T(()=>[C(Oo,ye({ref_for:!0},x(Go)(k),{custom:""}),{default:T(({active:q,...B})=>[C(jo,ye({ref_for:!0},B,{class:e.ui.item({class:[e.uiOverride?.item,k.ui?.item,k.class],color:k?.color,active:q})}),{default:T(()=>[C(x(b),{item:k,active:q,index:L},null,8,["item","active","index"])]),_:2},1040,["class"])]),_:2},1040)]),_:2},1032,["disabled","text-value","onSelect"]))],64))),128))]),_:2},1032,["class"]))),128))],2),se(g.$slots,"default"),se(g.$slots,"content-bottom")]),_:3},16,["class"]))]),_:3},16)],64))}},Hi={slots:{content:"min-w-32 bg-default shadow-lg rounded-md ring ring-default overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-dropdown-menu-content-transform-origin) flex flex-col",viewport:"relative divide-y divide-default scroll-py-1 overflow-y-auto flex-1",arrow:"fill-default",group:"p-1 isolate",label:"w-full flex items-center font-semibold text-highlighted",separator:"-mx-1 my-1 h-px bg-border",item:"group relative w-full flex items-center select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0",itemTrailingKbdsSize:"",itemLabel:"truncate",itemLabelExternalIcon:"inline-block size-3 align-top text-dimmed"},variants:{color:{primary:"",secondary:"",tertiary:"",rodeodust:"",poison:"",signal:"",info:"",success:"",warning:"",error:"",kalkmark:"",vanligmark:"",time:"",neutral:""},active:{true:{item:"text-highlighted before:bg-elevated",itemLeadingIcon:"text-default"},false:{item:["text-default data-highlighted:text-highlighted data-[state=open]:text-highlighted data-highlighted:before:bg-elevated/50 data-[state=open]:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-dimmed group-data-highlighted:text-default group-data-[state=open]:text-default","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}},size:{xs:{label:"p-1 text-xs gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemTrailingIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},sm:{label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemTrailingIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},md:{label:"p-1.5 text-sm gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemTrailingIcon:"size-5",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"md"},lg:{label:"p-2 text-sm gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemTrailingIcon:"size-5",itemTrailingKbds:"gap-1",itemTrailingKbdsSize:"md"},xl:{label:"p-2 text-base gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemTrailingIcon:"size-6",itemTrailingKbds:"gap-1",itemTrailingKbdsSize:"lg"}}},compoundVariants:[{color:"primary",active:!1,class:{item:"text-primary data-highlighted:text-primary data-highlighted:before:bg-primary/10 data-[state=open]:before:bg-primary/10",itemLeadingIcon:"text-primary/75 group-data-highlighted:text-primary group-data-[state=open]:text-primary"}},{color:"secondary",active:!1,class:{item:"text-secondary data-highlighted:text-secondary data-highlighted:before:bg-secondary/10 data-[state=open]:before:bg-secondary/10",itemLeadingIcon:"text-secondary/75 group-data-highlighted:text-secondary group-data-[state=open]:text-secondary"}},{color:"tertiary",active:!1,class:{item:"text-tertiary data-highlighted:text-tertiary data-highlighted:before:bg-tertiary/10 data-[state=open]:before:bg-tertiary/10",itemLeadingIcon:"text-tertiary/75 group-data-highlighted:text-tertiary group-data-[state=open]:text-tertiary"}},{color:"rodeodust",active:!1,class:{item:"text-rodeodust data-highlighted:text-rodeodust data-highlighted:before:bg-rodeodust/10 data-[state=open]:before:bg-rodeodust/10",itemLeadingIcon:"text-rodeodust/75 group-data-highlighted:text-rodeodust group-data-[state=open]:text-rodeodust"}},{color:"poison",active:!1,class:{item:"text-poison data-highlighted:text-poison data-highlighted:before:bg-poison/10 data-[state=open]:before:bg-poison/10",itemLeadingIcon:"text-poison/75 group-data-highlighted:text-poison group-data-[state=open]:text-poison"}},{color:"signal",active:!1,class:{item:"text-signal data-highlighted:text-signal data-highlighted:before:bg-signal/10 data-[state=open]:before:bg-signal/10",itemLeadingIcon:"text-signal/75 group-data-highlighted:text-signal group-data-[state=open]:text-signal"}},{color:"info",active:!1,class:{item:"text-info data-highlighted:text-info data-highlighted:before:bg-info/10 data-[state=open]:before:bg-info/10",itemLeadingIcon:"text-info/75 group-data-highlighted:text-info group-data-[state=open]:text-info"}},{color:"success",active:!1,class:{item:"text-success data-highlighted:text-success data-highlighted:before:bg-success/10 data-[state=open]:before:bg-success/10",itemLeadingIcon:"text-success/75 group-data-highlighted:text-success group-data-[state=open]:text-success"}},{color:"warning",active:!1,class:{item:"text-warning data-highlighted:text-warning data-highlighted:before:bg-warning/10 data-[state=open]:before:bg-warning/10",itemLeadingIcon:"text-warning/75 group-data-highlighted:text-warning group-data-[state=open]:text-warning"}},{color:"error",active:!1,class:{item:"text-error data-highlighted:text-error data-highlighted:before:bg-error/10 data-[state=open]:before:bg-error/10",itemLeadingIcon:"text-error/75 group-data-highlighted:text-error group-data-[state=open]:text-error"}},{color:"kalkmark",active:!1,class:{item:"text-kalkmark data-highlighted:text-kalkmark data-highlighted:before:bg-kalkmark/10 data-[state=open]:before:bg-kalkmark/10",itemLeadingIcon:"text-kalkmark/75 group-data-highlighted:text-kalkmark group-data-[state=open]:text-kalkmark"}},{color:"vanligmark",active:!1,class:{item:"text-vanligmark data-highlighted:text-vanligmark data-highlighted:before:bg-vanligmark/10 data-[state=open]:before:bg-vanligmark/10",itemLeadingIcon:"text-vanligmark/75 group-data-highlighted:text-vanligmark group-data-[state=open]:text-vanligmark"}},{color:"time",active:!1,class:{item:"text-time data-highlighted:text-time data-highlighted:before:bg-time/10 data-[state=open]:before:bg-time/10",itemLeadingIcon:"text-time/75 group-data-highlighted:text-time group-data-[state=open]:text-time"}},{color:"primary",active:!0,class:{item:"text-primary before:bg-primary/10",itemLeadingIcon:"text-primary"}},{color:"secondary",active:!0,class:{item:"text-secondary before:bg-secondary/10",itemLeadingIcon:"text-secondary"}},{color:"tertiary",active:!0,class:{item:"text-tertiary before:bg-tertiary/10",itemLeadingIcon:"text-tertiary"}},{color:"rodeodust",active:!0,class:{item:"text-rodeodust before:bg-rodeodust/10",itemLeadingIcon:"text-rodeodust"}},{color:"poison",active:!0,class:{item:"text-poison before:bg-poison/10",itemLeadingIcon:"text-poison"}},{color:"signal",active:!0,class:{item:"text-signal before:bg-signal/10",itemLeadingIcon:"text-signal"}},{color:"info",active:!0,class:{item:"text-info before:bg-info/10",itemLeadingIcon:"text-info"}},{color:"success",active:!0,class:{item:"text-success before:bg-success/10",itemLeadingIcon:"text-success"}},{color:"warning",active:!0,class:{item:"text-warning before:bg-warning/10",itemLeadingIcon:"text-warning"}},{color:"error",active:!0,class:{item:"text-error before:bg-error/10",itemLeadingIcon:"text-error"}},{color:"kalkmark",active:!0,class:{item:"text-kalkmark before:bg-kalkmark/10",itemLeadingIcon:"text-kalkmark"}},{color:"vanligmark",active:!0,class:{item:"text-vanligmark before:bg-vanligmark/10",itemLeadingIcon:"text-vanligmark"}},{color:"time",active:!0,class:{item:"text-time before:bg-time/10",itemLeadingIcon:"text-time"}}],defaultVariants:{size:"md"}},Ki={__name:"UDropdownMenu",props:{size:{type:null,required:!1},items:{type:null,required:!1},checkedIcon:{type:[String,Object],required:!1},loadingIcon:{type:[String,Object],required:!1},externalIcon:{type:[Boolean,String,Object],required:!1,default:!0},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},labelKey:{type:null,required:!1,default:"label"},disabled:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:n}){const t=e,o=n,a=Ft(),i=Lt(),r=un(Bn(t,"defaultOpen","open","modal"),o),s=Yt(()=>qo(t.content,{side:"bottom",sideOffset:8,collisionPadding:8})),l=Yt(()=>t.arrow),d=()=>Dn(a,["default"]),f=I(()=>et({extend:et(Hi),...i.ui?.dropdownMenu||{}})({size:t.size}));return(b,c)=>(h(),j(x(Ko),Ct(xt(x(r))),{default:T(({open:u})=>[a.default?(h(),j(x(Uo),{key:0,"as-child":"",class:K(t.class),disabled:e.disabled},{default:T(()=>[se(b.$slots,"default",{open:u})]),_:2},1032,["class","disabled"])):O("",!0),C(lo,ye({class:f.value.content({class:[!a.default&&t.class,t.ui?.content]}),ui:f.value,"ui-override":t.ui},s.value,{items:e.items,portal:e.portal,"label-key":e.labelKey,"checked-icon":e.checkedIcon,"loading-icon":e.loadingIcon,"external-icon":e.externalIcon}),zn({default:T(()=>[e.arrow?(h(),j(x(Ho),ye({key:0},l.value,{class:f.value.arrow({class:t.ui?.arrow})}),null,16,["class"])):O("",!0)]),_:2},[be(d(),(g,m)=>({name:m,fn:T(v=>[se(b.$slots,m,Ct(xt(v)))])}))]),1040,["class","ui","ui-override","items","portal","label-key","checked-icon","loading-icon","external-icon"])]),_:3},16))}};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function He(e,n){return typeof e=="function"?e(n):e}function Le(e,n){return t=>{n.setState(o=>({...o,[e]:He(t,o[e])}))}}function It(e){return e instanceof Function}function Wi(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function Xi(e,n){const t=[],o=a=>{a.forEach(i=>{t.push(i);const r=n(i);r!=null&&r.length&&o(r)})};return o(e),t}function X(e,n,t){let o=[],a;return i=>{let r;t.key&&t.debug&&(r=Date.now());const s=e(i);if(!(s.length!==o.length||s.some((f,b)=>o[b]!==f)))return a;o=s;let d;if(t.key&&t.debug&&(d=Date.now()),a=n(...s),t==null||t.onChange==null||t.onChange(a),t.key&&t.debug&&t!=null&&t.debug()){const f=Math.round((Date.now()-r)*100)/100,b=Math.round((Date.now()-d)*100)/100,c=b/16,u=(g,m)=>{for(g=String(g);g.length<m;)g=" "+g;return g};console.info(`%c⏱ ${u(b,5)} /${u(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*c,120))}deg 100% 31%);`,t?.key)}return a}}function Y(e,n,t,o){return{debug:()=>{var a;return(a=e?.debugAll)!=null?a:e[n]},key:!1,onChange:o}}function Yi(e,n,t,o){const a=()=>{var r;return(r=i.getValue())!=null?r:e.options.renderFallbackValue},i={id:`${n.id}_${t.id}`,row:n,column:t,getValue:()=>n.getValue(o),renderValue:a,getContext:X(()=>[e,t,n,i],(r,s,l,d)=>({table:r,column:s,row:l,cell:d,getValue:d.getValue,renderValue:d.renderValue}),Y(e.options,"debugCells"))};return e._features.forEach(r=>{r.createCell==null||r.createCell(i,t,n,e)},{}),i}function Zi(e,n,t,o){var a,i;const s={...e._getDefaultColumnDef(),...n},l=s.accessorKey;let d=(a=(i=s.id)!=null?i:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?a:typeof s.header=="string"?s.header:void 0,f;if(s.accessorFn?f=s.accessorFn:l&&(l.includes(".")?f=c=>{let u=c;for(const m of l.split(".")){var g;u=(g=u)==null?void 0:g[m]}return u}:f=c=>c[s.accessorKey]),!d)throw new Error;let b={id:`${String(d)}`,accessorFn:f,parent:o,depth:t,columnDef:s,columns:[],getFlatColumns:X(()=>[!0],()=>{var c;return[b,...(c=b.columns)==null?void 0:c.flatMap(u=>u.getFlatColumns())]},Y(e.options,"debugColumns")),getLeafColumns:X(()=>[e._getOrderColumnsFn()],c=>{var u;if((u=b.columns)!=null&&u.length){let g=b.columns.flatMap(m=>m.getLeafColumns());return c(g)}return[b]},Y(e.options,"debugColumns"))};for(const c of e._features)c.createColumn==null||c.createColumn(b,e);return b}const _e="debugHeaders";function Ln(e,n,t){var o;let i={id:(o=t.id)!=null?o:n.id,column:n,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const r=[],s=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(s),r.push(l)};return s(i),r},getContext:()=>({table:e,header:i,column:n})};return e._features.forEach(r=>{r.createHeader==null||r.createHeader(i,e)}),i}const Ji={createTable:e=>{e.getHeaderGroups=X(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o,a)=>{var i,r;const s=(i=o?.map(b=>t.find(c=>c.id===b)).filter(Boolean))!=null?i:[],l=(r=a?.map(b=>t.find(c=>c.id===b)).filter(Boolean))!=null?r:[],d=t.filter(b=>!(o!=null&&o.includes(b.id))&&!(a!=null&&a.includes(b.id)));return vt(n,[...s,...d,...l],e)},Y(e.options,_e)),e.getCenterHeaderGroups=X(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o,a)=>(t=t.filter(i=>!(o!=null&&o.includes(i.id))&&!(a!=null&&a.includes(i.id))),vt(n,t,e,"center")),Y(e.options,_e)),e.getLeftHeaderGroups=X(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,t,o)=>{var a;const i=(a=o?.map(r=>t.find(s=>s.id===r)).filter(Boolean))!=null?a:[];return vt(n,i,e,"left")},Y(e.options,_e)),e.getRightHeaderGroups=X(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,t,o)=>{var a;const i=(a=o?.map(r=>t.find(s=>s.id===r)).filter(Boolean))!=null?a:[];return vt(n,i,e,"right")},Y(e.options,_e)),e.getFooterGroups=X(()=>[e.getHeaderGroups()],n=>[...n].reverse(),Y(e.options,_e)),e.getLeftFooterGroups=X(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),Y(e.options,_e)),e.getCenterFooterGroups=X(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),Y(e.options,_e)),e.getRightFooterGroups=X(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),Y(e.options,_e)),e.getFlatHeaders=X(()=>[e.getHeaderGroups()],n=>n.map(t=>t.headers).flat(),Y(e.options,_e)),e.getLeftFlatHeaders=X(()=>[e.getLeftHeaderGroups()],n=>n.map(t=>t.headers).flat(),Y(e.options,_e)),e.getCenterFlatHeaders=X(()=>[e.getCenterHeaderGroups()],n=>n.map(t=>t.headers).flat(),Y(e.options,_e)),e.getRightFlatHeaders=X(()=>[e.getRightHeaderGroups()],n=>n.map(t=>t.headers).flat(),Y(e.options,_e)),e.getCenterLeafHeaders=X(()=>[e.getCenterFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),Y(e.options,_e)),e.getLeftLeafHeaders=X(()=>[e.getLeftFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),Y(e.options,_e)),e.getRightLeafHeaders=X(()=>[e.getRightFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),Y(e.options,_e)),e.getLeafHeaders=X(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,t,o)=>{var a,i,r,s,l,d;return[...(a=(i=n[0])==null?void 0:i.headers)!=null?a:[],...(r=(s=t[0])==null?void 0:s.headers)!=null?r:[],...(l=(d=o[0])==null?void 0:d.headers)!=null?l:[]].map(f=>f.getLeafHeaders()).flat()},Y(e.options,_e))}};function vt(e,n,t,o){var a,i;let r=0;const s=function(c,u){u===void 0&&(u=1),r=Math.max(r,u),c.filter(g=>g.getIsVisible()).forEach(g=>{var m;(m=g.columns)!=null&&m.length&&s(g.columns,u+1)},0)};s(e);let l=[];const d=(c,u)=>{const g={depth:u,id:[o,`${u}`].filter(Boolean).join("_"),headers:[]},m=[];c.forEach(v=>{const y=[...m].reverse()[0],k=v.column.depth===g.depth;let L,q=!1;if(k&&v.column.parent?L=v.column.parent:(L=v.column,q=!0),y&&y?.column===L)y.subHeaders.push(v);else{const B=Ln(t,L,{id:[o,u,L.id,v?.id].filter(Boolean).join("_"),isPlaceholder:q,placeholderId:q?`${m.filter(J=>J.column===L).length}`:void 0,depth:u,index:m.length});B.subHeaders.push(v),m.push(B)}g.headers.push(v),v.headerGroup=g}),l.push(g),u>0&&d(m,u-1)},f=n.map((c,u)=>Ln(t,c,{depth:r,index:u}));d(f,r-1),l.reverse();const b=c=>c.filter(g=>g.column.getIsVisible()).map(g=>{let m=0,v=0,y=[0];g.subHeaders&&g.subHeaders.length?(y=[],b(g.subHeaders).forEach(L=>{let{colSpan:q,rowSpan:B}=L;m+=q,y.push(B)})):m=1;const k=Math.min(...y);return v=v+k,g.colSpan=m,g.rowSpan=v,{colSpan:m,rowSpan:v}});return b((a=(i=l[0])==null?void 0:i.headers)!=null?a:[]),l}const fn=(e,n,t,o,a,i,r)=>{let s={id:n,index:o,original:t,depth:a,parentId:r,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(s._valuesCache.hasOwnProperty(l))return s._valuesCache[l];const d=e.getColumn(l);if(d!=null&&d.accessorFn)return s._valuesCache[l]=d.accessorFn(s.original,o),s._valuesCache[l]},getUniqueValues:l=>{if(s._uniqueValuesCache.hasOwnProperty(l))return s._uniqueValuesCache[l];const d=e.getColumn(l);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(s._uniqueValuesCache[l]=d.columnDef.getUniqueValues(s.original,o),s._uniqueValuesCache[l]):(s._uniqueValuesCache[l]=[s.getValue(l)],s._uniqueValuesCache[l])},renderValue:l=>{var d;return(d=s.getValue(l))!=null?d:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Xi(s.subRows,l=>l.subRows),getParentRow:()=>s.parentId?e.getRow(s.parentId,!0):void 0,getParentRows:()=>{let l=[],d=s;for(;;){const f=d.getParentRow();if(!f)break;l.push(f),d=f}return l.reverse()},getAllCells:X(()=>[e.getAllLeafColumns()],l=>l.map(d=>Yi(e,s,d,d.id)),Y(e.options,"debugRows")),_getAllCellsByColumnId:X(()=>[s.getAllCells()],l=>l.reduce((d,f)=>(d[f.column.id]=f,d),{}),Y(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const d=e._features[l];d==null||d.createRow==null||d.createRow(s,e)}return s},Qi={createColumn:(e,n)=>{e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},so=(e,n,t)=>{var o,a;const i=t==null||(o=t.toString())==null?void 0:o.toLowerCase();return!!(!((a=e.getValue(n))==null||(a=a.toString())==null||(a=a.toLowerCase())==null)&&a.includes(i))};so.autoRemove=e=>Te(e);const uo=(e,n,t)=>{var o;return!!(!((o=e.getValue(n))==null||(o=o.toString())==null)&&o.includes(t))};uo.autoRemove=e=>Te(e);const co=(e,n,t)=>{var o;return((o=e.getValue(n))==null||(o=o.toString())==null?void 0:o.toLowerCase())===t?.toLowerCase()};co.autoRemove=e=>Te(e);const go=(e,n,t)=>{var o;return(o=e.getValue(n))==null?void 0:o.includes(t)};go.autoRemove=e=>Te(e);const po=(e,n,t)=>!t.some(o=>{var a;return!((a=e.getValue(n))!=null&&a.includes(o))});po.autoRemove=e=>Te(e)||!(e!=null&&e.length);const fo=(e,n,t)=>t.some(o=>{var a;return(a=e.getValue(n))==null?void 0:a.includes(o)});fo.autoRemove=e=>Te(e)||!(e!=null&&e.length);const mo=(e,n,t)=>e.getValue(n)===t;mo.autoRemove=e=>Te(e);const vo=(e,n,t)=>e.getValue(n)==t;vo.autoRemove=e=>Te(e);const mn=(e,n,t)=>{let[o,a]=t;const i=e.getValue(n);return i>=o&&i<=a};mn.resolveFilterValue=e=>{let[n,t]=e,o=typeof n!="number"?parseFloat(n):n,a=typeof t!="number"?parseFloat(t):t,i=n===null||Number.isNaN(o)?-1/0:o,r=t===null||Number.isNaN(a)?1/0:a;if(i>r){const s=i;i=r,r=s}return[i,r]};mn.autoRemove=e=>Te(e)||Te(e[0])&&Te(e[1]);const De={includesString:so,includesStringSensitive:uo,equalsString:co,arrIncludes:go,arrIncludesAll:po,arrIncludesSome:fo,equals:mo,weakEquals:vo,inNumberRange:mn};function Te(e){return e==null||e===""}const er={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Le("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const t=n.getCoreRowModel().flatRows[0],o=t?.getValue(e.id);return typeof o=="string"?De.includesString:typeof o=="number"?De.inNumberRange:typeof o=="boolean"||o!==null&&typeof o=="object"?De.equals:Array.isArray(o)?De.arrIncludes:De.weakEquals},e.getFilterFn=()=>{var t,o;return It(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(o=n.options.filterFns)==null?void 0:o[e.columnDef.filterFn])!=null?t:De[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,o,a;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((o=n.options.enableColumnFilters)!=null?o:!0)&&((a=n.options.enableFilters)!=null?a:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=n.getState().columnFilters)==null||(t=t.find(o=>o.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,o;return(t=(o=n.getState().columnFilters)==null?void 0:o.findIndex(a=>a.id===e.id))!=null?t:-1},e.setFilterValue=t=>{n.setColumnFilters(o=>{const a=e.getFilterFn(),i=o?.find(f=>f.id===e.id),r=He(t,i?i.value:void 0);if(Pn(a,r,e)){var s;return(s=o?.filter(f=>f.id!==e.id))!=null?s:[]}const l={id:e.id,value:r};if(i){var d;return(d=o?.map(f=>f.id===e.id?l:f))!=null?d:[]}return o!=null&&o.length?[...o,l]:[l]})}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=n=>{const t=e.getAllLeafColumns(),o=a=>{var i;return(i=He(n,a))==null?void 0:i.filter(r=>{const s=t.find(l=>l.id===r.id);if(s){const l=s.getFilterFn();if(Pn(l,r.value,s))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(o)},e.resetColumnFilters=n=>{var t,o;e.setColumnFilters(n?[]:(t=(o=e.initialState)==null?void 0:o.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Pn(e,n,t){return(e&&e.autoRemove?e.autoRemove(n,t):!1)||typeof n>"u"||typeof n=="string"&&!n}const tr=(e,n,t)=>t.reduce((o,a)=>{const i=a.getValue(e);return o+(typeof i=="number"?i:0)},0),nr=(e,n,t)=>{let o;return t.forEach(a=>{const i=a.getValue(e);i!=null&&(o>i||o===void 0&&i>=i)&&(o=i)}),o},or=(e,n,t)=>{let o;return t.forEach(a=>{const i=a.getValue(e);i!=null&&(o<i||o===void 0&&i>=i)&&(o=i)}),o},ar=(e,n,t)=>{let o,a;return t.forEach(i=>{const r=i.getValue(e);r!=null&&(o===void 0?r>=r&&(o=a=r):(o>r&&(o=r),a<r&&(a=r)))}),[o,a]},ir=(e,n)=>{let t=0,o=0;if(n.forEach(a=>{let i=a.getValue(e);i!=null&&(i=+i)>=i&&(++t,o+=i)}),t)return o/t},rr=(e,n)=>{if(!n.length)return;const t=n.map(i=>i.getValue(e));if(!Wi(t))return;if(t.length===1)return t[0];const o=Math.floor(t.length/2),a=t.sort((i,r)=>i-r);return t.length%2!==0?a[o]:(a[o-1]+a[o])/2},lr=(e,n)=>Array.from(new Set(n.map(t=>t.getValue(e))).values()),sr=(e,n)=>new Set(n.map(t=>t.getValue(e))).size,ur=(e,n)=>n.length,Ot={sum:tr,min:nr,max:or,extent:ar,mean:ir,median:rr,unique:lr,uniqueCount:sr,count:ur},dr={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,t;return(n=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Le("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(o=>o!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,o;return((t=e.columnDef.enableGrouping)!=null?t:!0)&&((o=n.options.enableGrouping)!=null?o:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=n.getCoreRowModel().flatRows[0],o=t?.getValue(e.id);if(typeof o=="number")return Ot.sum;if(Object.prototype.toString.call(o)==="[object Date]")return Ot.extent},e.getAggregationFn=()=>{var t,o;if(!e)throw new Error;return It(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(o=n.options.aggregationFns)==null?void 0:o[e.columnDef.aggregationFn])!=null?t:Ot[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var t,o;e.setGrouping(n?[]:(t=(o=e.initialState)==null?void 0:o.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const o=n.getColumn(t);return o!=null&&o.columnDef.getGroupingValue?(e._groupingValuesCache[t]=o.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,n,t,o)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var a;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((a=t.subRows)!=null&&a.length)}}};function cr(e,n,t){if(!(n!=null&&n.length)||!t)return e;const o=e.filter(i=>!n.includes(i.id));return t==="remove"?o:[...n.map(i=>e.find(r=>r.id===i)).filter(Boolean),...o]}const gr={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Le("columnOrder",e)}),createColumn:(e,n)=>{e.getIndex=X(t=>[st(n,t)],t=>t.findIndex(o=>o.id===e.id),Y(n.options,"debugColumns")),e.getIsFirstColumn=t=>{var o;return((o=st(n,t)[0])==null?void 0:o.id)===e.id},e.getIsLastColumn=t=>{var o;const a=st(n,t);return((o=a[a.length-1])==null?void 0:o.id)===e.id}},createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var t;e.setColumnOrder(n?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=X(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,t,o)=>a=>{let i=[];if(!(n!=null&&n.length))i=a;else{const r=[...n],s=[...a];for(;s.length&&r.length;){const l=r.shift(),d=s.findIndex(f=>f.id===l);d>-1&&i.push(s.splice(d,1)[0])}i=[...i,...s]}return cr(i,t,o)},Y(e.options,"debugTable"))}},Gt=()=>({left:[],right:[]}),pr={getInitialState:e=>({columnPinning:Gt(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Le("columnPinning",e)}),createColumn:(e,n)=>{e.pin=t=>{const o=e.getLeafColumns().map(a=>a.id).filter(Boolean);n.setColumnPinning(a=>{var i,r;if(t==="right"){var s,l;return{left:((s=a?.left)!=null?s:[]).filter(b=>!(o!=null&&o.includes(b))),right:[...((l=a?.right)!=null?l:[]).filter(b=>!(o!=null&&o.includes(b))),...o]}}if(t==="left"){var d,f;return{left:[...((d=a?.left)!=null?d:[]).filter(b=>!(o!=null&&o.includes(b))),...o],right:((f=a?.right)!=null?f:[]).filter(b=>!(o!=null&&o.includes(b)))}}return{left:((i=a?.left)!=null?i:[]).filter(b=>!(o!=null&&o.includes(b))),right:((r=a?.right)!=null?r:[]).filter(b=>!(o!=null&&o.includes(b)))}})},e.getCanPin=()=>e.getLeafColumns().some(o=>{var a,i,r;return((a=o.columnDef.enablePinning)!=null?a:!0)&&((i=(r=n.options.enableColumnPinning)!=null?r:n.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(s=>s.id),{left:o,right:a}=n.getState().columnPinning,i=t.some(s=>o?.includes(s)),r=t.some(s=>a?.includes(s));return i?"left":r?"right":!1},e.getPinnedIndex=()=>{var t,o;const a=e.getIsPinned();return a?(t=(o=n.getState().columnPinning)==null||(o=o[a])==null?void 0:o.indexOf(e.id))!=null?t:-1:0}},createRow:(e,n)=>{e.getCenterVisibleCells=X(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(t,o,a)=>{const i=[...o??[],...a??[]];return t.filter(r=>!i.includes(r.column.id))},Y(n.options,"debugRows")),e.getLeftVisibleCells=X(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(t,o)=>(o??[]).map(i=>t.find(r=>r.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),Y(n.options,"debugRows")),e.getRightVisibleCells=X(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(t,o)=>(o??[]).map(i=>t.find(r=>r.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),Y(n.options,"debugRows"))},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var t,o;return e.setColumnPinning(n?Gt():(t=(o=e.initialState)==null?void 0:o.columnPinning)!=null?t:Gt())},e.getIsSomeColumnsPinned=n=>{var t;const o=e.getState().columnPinning;if(!n){var a,i;return!!((a=o.left)!=null&&a.length||(i=o.right)!=null&&i.length)}return!!((t=o[n])!=null&&t.length)},e.getLeftLeafColumns=X(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,t)=>(t??[]).map(o=>n.find(a=>a.id===o)).filter(Boolean),Y(e.options,"debugColumns")),e.getRightLeafColumns=X(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,t)=>(t??[]).map(o=>n.find(a=>a.id===o)).filter(Boolean),Y(e.options,"debugColumns")),e.getCenterLeafColumns=X(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o)=>{const a=[...t??[],...o??[]];return n.filter(i=>!a.includes(i.id))},Y(e.options,"debugColumns"))}};function fr(e){return e||(typeof document<"u"?document:null)}const ht={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},jt=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),mr={getDefaultColumnDef:()=>ht,getInitialState:e=>({columnSizing:{},columnSizingInfo:jt(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Le("columnSizing",e),onColumnSizingInfoChange:Le("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var t,o,a;const i=n.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:ht.minSize,(o=i??e.columnDef.size)!=null?o:ht.size),(a=e.columnDef.maxSize)!=null?a:ht.maxSize)},e.getStart=X(t=>[t,st(n,t),n.getState().columnSizing],(t,o)=>o.slice(0,e.getIndex(t)).reduce((a,i)=>a+i.getSize(),0),Y(n.options,"debugColumns")),e.getAfter=X(t=>[t,st(n,t),n.getState().columnSizing],(t,o)=>o.slice(e.getIndex(t)+1).reduce((a,i)=>a+i.getSize(),0),Y(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(t=>{let{[e.id]:o,...a}=t;return a})},e.getCanResize=()=>{var t,o;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((o=n.options.enableColumnResizing)!=null?o:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let t=0;const o=a=>{if(a.subHeaders.length)a.subHeaders.forEach(o);else{var i;t+=(i=a.column.getSize())!=null?i:0}};return o(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const o=n.getColumn(e.column.id),a=o?.getCanResize();return i=>{if(!o||!a||(i.persist==null||i.persist(),qt(i)&&i.touches&&i.touches.length>1))return;const r=e.getSize(),s=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[o.id,o.getSize()]],l=qt(i)?Math.round(i.touches[0].clientX):i.clientX,d={},f=(y,k)=>{typeof k=="number"&&(n.setColumnSizingInfo(L=>{var q,B;const J=n.options.columnResizeDirection==="rtl"?-1:1,te=(k-((q=L?.startOffset)!=null?q:0))*J,pe=Math.max(te/((B=L?.startSize)!=null?B:0),-.999999);return L.columnSizingStart.forEach(me=>{let[P,_]=me;d[P]=Math.round(Math.max(_+_*pe,0)*100)/100}),{...L,deltaOffset:te,deltaPercentage:pe}}),(n.options.columnResizeMode==="onChange"||y==="end")&&n.setColumnSizing(L=>({...L,...d})))},b=y=>f("move",y),c=y=>{f("end",y),n.setColumnSizingInfo(k=>({...k,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},u=fr(t),g={moveHandler:y=>b(y.clientX),upHandler:y=>{u?.removeEventListener("mousemove",g.moveHandler),u?.removeEventListener("mouseup",g.upHandler),c(y.clientX)}},m={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),b(y.touches[0].clientX),!1),upHandler:y=>{var k;u?.removeEventListener("touchmove",m.moveHandler),u?.removeEventListener("touchend",m.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),c((k=y.touches[0])==null?void 0:k.clientX)}},v=vr()?{passive:!1}:!1;qt(i)?(u?.addEventListener("touchmove",m.moveHandler,v),u?.addEventListener("touchend",m.upHandler,v)):(u?.addEventListener("mousemove",g.moveHandler,v),u?.addEventListener("mouseup",g.upHandler,v)),n.setColumnSizingInfo(y=>({...y,startOffset:l,startSize:r,deltaOffset:0,deltaPercentage:0,columnSizingStart:s,isResizingColumn:o.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var t;e.setColumnSizing(n?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=n=>{var t;e.setColumnSizingInfo(n?jt():(t=e.initialState.columnSizingInfo)!=null?t:jt())},e.getTotalSize=()=>{var n,t;return(n=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((o,a)=>o+a.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,t;return(n=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((o,a)=>o+a.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,t;return(n=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((o,a)=>o+a.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,t;return(n=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((o,a)=>o+a.getSize(),0))!=null?n:0}}};let bt=null;function vr(){if(typeof bt=="boolean")return bt;let e=!1;try{const n={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,n),window.removeEventListener("test",t)}catch{e=!1}return bt=e,bt}function qt(e){return e.type==="touchstart"}const hr={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Le("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=t=>{e.getCanHide()&&n.setColumnVisibility(o=>({...o,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,o;const a=e.columns;return(t=a.length?a.some(i=>i.getIsVisible()):(o=n.getState().columnVisibility)==null?void 0:o[e.id])!=null?t:!0},e.getCanHide=()=>{var t,o;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((o=n.options.enableHiding)!=null?o:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=X(()=>[e.getAllCells(),n.getState().columnVisibility],t=>t.filter(o=>o.column.getIsVisible()),Y(n.options,"debugRows")),e.getVisibleCells=X(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,o,a)=>[...t,...o,...a],Y(n.options,"debugRows"))},createTable:e=>{const n=(t,o)=>X(()=>[o(),o().filter(a=>a.getIsVisible()).map(a=>a.id).join("_")],a=>a.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),Y(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var o;e.setColumnVisibility(t?{}:(o=e.initialState.columnVisibility)!=null?o:{})},e.toggleAllColumnsVisible=t=>{var o;t=(o=t)!=null?o:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((a,i)=>({...a,[i.id]:t||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var o;e.toggleAllColumnsVisible((o=t.target)==null?void 0:o.checked)}}};function st(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const br={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},yr={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Le("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var t;const o=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[n.id])==null?void 0:t.getValue();return typeof o=="string"||typeof o=="number"}}),createColumn:(e,n)=>{e.getCanGlobalFilter=()=>{var t,o,a,i;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((o=n.options.enableGlobalFilter)!=null?o:!0)&&((a=n.options.enableFilters)!=null?a:!0)&&((i=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>De.includesString,e.getGlobalFilterFn=()=>{var n,t;const{globalFilterFn:o}=e.options;return It(o)?o:o==="auto"?e.getGlobalAutoFilterFn():(n=(t=e.options.filterFns)==null?void 0:t[o])!=null?n:De[o]},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)}}},Sr={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Le("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,t=!1;e._autoResetExpanded=()=>{var o,a;if(!n){e._queue(()=>{n=!0});return}if((o=(a=e.options.autoResetAll)!=null?a:e.options.autoResetExpanded)!=null?o:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=o=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(o),e.toggleAllRowsExpanded=o=>{o??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=o=>{var a,i;e.setExpanded(o?{}:(a=(i=e.initialState)==null?void 0:i.expanded)!=null?a:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(o=>o.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>o=>{o.persist==null||o.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const o=e.getState().expanded;return o===!0||Object.values(o).some(Boolean)},e.getIsAllRowsExpanded=()=>{const o=e.getState().expanded;return typeof o=="boolean"?o===!0:!(!Object.keys(o).length||e.getRowModel().flatRows.some(a=>!a.getIsExpanded()))},e.getExpandedDepth=()=>{let o=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const r=i.split(".");o=Math.max(o,r.length)}),o},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=t=>{n.setExpanded(o=>{var a;const i=o===!0?!0:!!(o!=null&&o[e.id]);let r={};if(o===!0?Object.keys(n.getRowModel().rowsById).forEach(s=>{r[s]=!0}):r=o,t=(a=t)!=null?a:!i,!i&&t)return{...r,[e.id]:!0};if(i&&!t){const{[e.id]:s,...l}=r;return l}return o})},e.getIsExpanded=()=>{var t;const o=n.getState().expanded;return!!((t=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?t:o===!0||o?.[e.id])},e.getCanExpand=()=>{var t,o,a;return(t=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?t:((o=n.options.enableExpanding)!=null?o:!0)&&!!((a=e.subRows)!=null&&a.length)},e.getIsAllParentsExpanded=()=>{let t=!0,o=e;for(;t&&o.parentId;)o=n.getRow(o.parentId,!0),t=o.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},Qt=0,en=10,Ut=()=>({pageIndex:Qt,pageSize:en}),wr={getInitialState:e=>({...e,pagination:{...Ut(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:Le("pagination",e)}),createTable:e=>{let n=!1,t=!1;e._autoResetPageIndex=()=>{var o,a;if(!n){e._queue(()=>{n=!0});return}if((o=(a=e.options.autoResetAll)!=null?a:e.options.autoResetPageIndex)!=null?o:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=o=>{const a=i=>He(o,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(a)},e.resetPagination=o=>{var a;e.setPagination(o?Ut():(a=e.initialState.pagination)!=null?a:Ut())},e.setPageIndex=o=>{e.setPagination(a=>{let i=He(o,a.pageIndex);const r=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,r)),{...a,pageIndex:i}})},e.resetPageIndex=o=>{var a,i;e.setPageIndex(o?Qt:(a=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?a:Qt)},e.resetPageSize=o=>{var a,i;e.setPageSize(o?en:(a=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?a:en)},e.setPageSize=o=>{e.setPagination(a=>{const i=Math.max(1,He(o,a.pageSize)),r=a.pageSize*a.pageIndex,s=Math.floor(r/i);return{...a,pageIndex:s,pageSize:i}})},e.setPageCount=o=>e.setPagination(a=>{var i;let r=He(o,(i=e.options.pageCount)!=null?i:-1);return typeof r=="number"&&(r=Math.max(-1,r)),{...a,pageCount:r}}),e.getPageOptions=X(()=>[e.getPageCount()],o=>{let a=[];return o&&o>0&&(a=[...new Array(o)].fill(null).map((i,r)=>r)),a},Y(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:o}=e.getState().pagination,a=e.getPageCount();return a===-1?!0:a===0?!1:o<a-1},e.previousPage=()=>e.setPageIndex(o=>o-1),e.nextPage=()=>e.setPageIndex(o=>o+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var o;return(o=e.options.pageCount)!=null?o:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var o;return(o=e.options.rowCount)!=null?o:e.getPrePaginationRowModel().rows.length}}},Ht=()=>({top:[],bottom:[]}),kr={getInitialState:e=>({rowPinning:Ht(),...e}),getDefaultOptions:e=>({onRowPinningChange:Le("rowPinning",e)}),createRow:(e,n)=>{e.pin=(t,o,a)=>{const i=o?e.getLeafRows().map(l=>{let{id:d}=l;return d}):[],r=a?e.getParentRows().map(l=>{let{id:d}=l;return d}):[],s=new Set([...r,e.id,...i]);n.setRowPinning(l=>{var d,f;if(t==="bottom"){var b,c;return{top:((b=l?.top)!=null?b:[]).filter(m=>!(s!=null&&s.has(m))),bottom:[...((c=l?.bottom)!=null?c:[]).filter(m=>!(s!=null&&s.has(m))),...Array.from(s)]}}if(t==="top"){var u,g;return{top:[...((u=l?.top)!=null?u:[]).filter(m=>!(s!=null&&s.has(m))),...Array.from(s)],bottom:((g=l?.bottom)!=null?g:[]).filter(m=>!(s!=null&&s.has(m)))}}return{top:((d=l?.top)!=null?d:[]).filter(m=>!(s!=null&&s.has(m))),bottom:((f=l?.bottom)!=null?f:[]).filter(m=>!(s!=null&&s.has(m)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:o,enablePinning:a}=n.options;return typeof o=="function"?o(e):(t=o??a)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:o,bottom:a}=n.getState().rowPinning,i=t.some(s=>o?.includes(s)),r=t.some(s=>a?.includes(s));return i?"top":r?"bottom":!1},e.getPinnedIndex=()=>{var t,o;const a=e.getIsPinned();if(!a)return-1;const i=(t=a==="top"?n.getTopRows():n.getBottomRows())==null?void 0:t.map(r=>{let{id:s}=r;return s});return(o=i?.indexOf(e.id))!=null?o:-1}},createTable:e=>{e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var t,o;return e.setRowPinning(n?Ht():(t=(o=e.initialState)==null?void 0:o.rowPinning)!=null?t:Ht())},e.getIsSomeRowsPinned=n=>{var t;const o=e.getState().rowPinning;if(!n){var a,i;return!!((a=o.top)!=null&&a.length||(i=o.bottom)!=null&&i.length)}return!!((t=o[n])!=null&&t.length)},e._getPinnedRows=(n,t,o)=>{var a;return((a=e.options.keepPinnedRows)==null||a?(t??[]).map(r=>{const s=e.getRow(r,!0);return s.getIsAllParentsExpanded()?s:null}):(t??[]).map(r=>n.find(s=>s.id===r))).filter(Boolean).map(r=>({...r,position:o}))},e.getTopRows=X(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(n,t)=>e._getPinnedRows(n,t,"top"),Y(e.options,"debugRows")),e.getBottomRows=X(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(n,t)=>e._getPinnedRows(n,t,"bottom"),Y(e.options,"debugRows")),e.getCenterRows=X(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,t,o)=>{const a=new Set([...t??[],...o??[]]);return n.filter(i=>!a.has(i.id))},Y(e.options,"debugRows"))}},Cr={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Le("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var t;return e.setRowSelection(n?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(t=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const o={...t},a=e.getPreGroupedRowModel().flatRows;return n?a.forEach(i=>{i.getCanSelect()&&(o[i.id]=!0)}):a.forEach(i=>{delete o[i.id]}),o})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(t=>{const o=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),a={...t};return e.getRowModel().rows.forEach(i=>{tn(a,i.id,o,!0,e)}),a}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=X(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,t)=>Object.keys(n).length?Kt(e,t):{rows:[],flatRows:[],rowsById:{}},Y(e.options,"debugTable")),e.getFilteredSelectedRowModel=X(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,t)=>Object.keys(n).length?Kt(e,t):{rows:[],flatRows:[],rowsById:{}},Y(e.options,"debugTable")),e.getGroupedSelectedRowModel=X(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,t)=>Object.keys(n).length?Kt(e,t):{rows:[],flatRows:[],rowsById:{}},Y(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let o=!!(n.length&&Object.keys(t).length);return o&&n.some(a=>a.getCanSelect()&&!t[a.id])&&(o=!1),o},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(a=>a.getCanSelect()),{rowSelection:t}=e.getState();let o=!!n.length;return o&&n.some(a=>!t[a.id])&&(o=!1),o},e.getIsSomeRowsSelected=()=>{var n;const t=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(t,o)=>{const a=e.getIsSelected();n.setRowSelection(i=>{var r;if(t=typeof t<"u"?t:!a,e.getCanSelect()&&a===t)return i;const s={...i};return tn(s,e.id,t,(r=o?.selectChildren)!=null?r:!0,n),s})},e.getIsSelected=()=>{const{rowSelection:t}=n.getState();return vn(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=n.getState();return nn(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=n.getState();return nn(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(t=n.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(t=n.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(t=n.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return o=>{var a;t&&e.toggleSelected((a=o.target)==null?void 0:a.checked)}}}},tn=(e,n,t,o,a)=>{var i;const r=a.getRow(n,!0);t?(r.getCanMultiSelect()||Object.keys(e).forEach(s=>delete e[s]),r.getCanSelect()&&(e[n]=!0)):delete e[n],o&&(i=r.subRows)!=null&&i.length&&r.getCanSelectSubRows()&&r.subRows.forEach(s=>tn(e,s.id,t,o,a))};function Kt(e,n){const t=e.getState().rowSelection,o=[],a={},i=function(r,s){return r.map(l=>{var d;const f=vn(l,t);if(f&&(o.push(l),a[l.id]=l),(d=l.subRows)!=null&&d.length&&(l={...l,subRows:i(l.subRows)}),f)return l}).filter(Boolean)};return{rows:i(n.rows),flatRows:o,rowsById:a}}function vn(e,n){var t;return(t=n[e.id])!=null?t:!1}function nn(e,n,t){var o;if(!((o=e.subRows)!=null&&o.length))return!1;let a=!0,i=!1;return e.subRows.forEach(r=>{if(!(i&&!a)&&(r.getCanSelect()&&(vn(r,n)?i=!0:a=!1),r.subRows&&r.subRows.length)){const s=nn(r,n);s==="all"?i=!0:(s==="some"&&(i=!0),a=!1)}}),a?"all":i?"some":!1}const on=/([0-9]+)/gm,xr=(e,n,t)=>ho(Ke(e.getValue(t)).toLowerCase(),Ke(n.getValue(t)).toLowerCase()),_r=(e,n,t)=>ho(Ke(e.getValue(t)),Ke(n.getValue(t))),Rr=(e,n,t)=>hn(Ke(e.getValue(t)).toLowerCase(),Ke(n.getValue(t)).toLowerCase()),$r=(e,n,t)=>hn(Ke(e.getValue(t)),Ke(n.getValue(t))),Fr=(e,n,t)=>{const o=e.getValue(t),a=n.getValue(t);return o>a?1:o<a?-1:0},Lr=(e,n,t)=>hn(e.getValue(t),n.getValue(t));function hn(e,n){return e===n?0:e>n?1:-1}function Ke(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function ho(e,n){const t=e.split(on).filter(Boolean),o=n.split(on).filter(Boolean);for(;t.length&&o.length;){const a=t.shift(),i=o.shift(),r=parseInt(a,10),s=parseInt(i,10),l=[r,s].sort();if(isNaN(l[0])){if(a>i)return 1;if(i>a)return-1;continue}if(isNaN(l[1]))return isNaN(r)?-1:1;if(r>s)return 1;if(s>r)return-1}return t.length-o.length}const it={alphanumeric:xr,alphanumericCaseSensitive:_r,text:Rr,textCaseSensitive:$r,datetime:Fr,basic:Lr},Pr={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Le("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const t=n.getFilteredRowModel().flatRows.slice(10);let o=!1;for(const a of t){const i=a?.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return it.datetime;if(typeof i=="string"&&(o=!0,i.split(on).length>1))return it.alphanumeric}return o?it.text:it.basic},e.getAutoSortDir=()=>{const t=n.getFilteredRowModel().flatRows[0];return typeof t?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,o;if(!e)throw new Error;return It(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(o=n.options.sortingFns)==null?void 0:o[e.columnDef.sortingFn])!=null?t:it[e.columnDef.sortingFn]},e.toggleSorting=(t,o)=>{const a=e.getNextSortingOrder(),i=typeof t<"u"&&t!==null;n.setSorting(r=>{const s=r?.find(u=>u.id===e.id),l=r?.findIndex(u=>u.id===e.id);let d=[],f,b=i?t:a==="desc";if(r!=null&&r.length&&e.getCanMultiSort()&&o?s?f="toggle":f="add":r!=null&&r.length&&l!==r.length-1?f="replace":s?f="toggle":f="replace",f==="toggle"&&(i||a||(f="remove")),f==="add"){var c;d=[...r,{id:e.id,desc:b}],d.splice(0,d.length-((c=n.options.maxMultiSortColCount)!=null?c:Number.MAX_SAFE_INTEGER))}else f==="toggle"?d=r.map(u=>u.id===e.id?{...u,desc:b}:u):f==="remove"?d=r.filter(u=>u.id!==e.id):d=[{id:e.id,desc:b}];return d})},e.getFirstSortDir=()=>{var t,o;return((t=(o=e.columnDef.sortDescFirst)!=null?o:n.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var o,a;const i=e.getFirstSortDir(),r=e.getIsSorted();return r?r!==i&&((o=n.options.enableSortingRemoval)==null||o)&&(!(t&&(a=n.options.enableMultiRemove)!=null)||a)?!1:r==="desc"?"asc":"desc":i},e.getCanSort=()=>{var t,o;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((o=n.options.enableSorting)!=null?o:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,o;return(t=(o=e.columnDef.enableMultiSort)!=null?o:n.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const o=(t=n.getState().sorting)==null?void 0:t.find(a=>a.id===e.id);return o?o.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,o;return(t=(o=n.getState().sorting)==null?void 0:o.findIndex(a=>a.id===e.id))!=null?t:-1},e.clearSorting=()=>{n.setSorting(t=>t!=null&&t.length?t.filter(o=>o.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return o=>{t&&(o.persist==null||o.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(o):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var t,o;e.setSorting(n?[]:(t=(o=e.initialState)==null?void 0:o.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Vr=[Ji,hr,gr,pr,Qi,er,br,yr,Pr,dr,Sr,wr,kr,Cr,mr];function Ar(e){var n,t;const o=[...Vr,...(n=e._features)!=null?n:[]];let a={_features:o};const i=a._features.reduce((c,u)=>Object.assign(c,u.getDefaultOptions==null?void 0:u.getDefaultOptions(a)),{}),r=c=>a.options.mergeOptions?a.options.mergeOptions(i,c):{...i,...c};let l={...{},...(t=e.initialState)!=null?t:{}};a._features.forEach(c=>{var u;l=(u=c.getInitialState==null?void 0:c.getInitialState(l))!=null?u:l});const d=[];let f=!1;const b={_features:o,options:{...i,...e},initialState:l,_queue:c=>{d.push(c),f||(f=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();f=!1}).catch(u=>setTimeout(()=>{throw u})))},reset:()=>{a.setState(a.initialState)},setOptions:c=>{const u=He(c,a.options);a.options=r(u)},getState:()=>a.options.state,setState:c=>{a.options.onStateChange==null||a.options.onStateChange(c)},_getRowId:(c,u,g)=>{var m;return(m=a.options.getRowId==null?void 0:a.options.getRowId(c,u,g))!=null?m:`${g?[g.id,u].join("."):u}`},getCoreRowModel:()=>(a._getCoreRowModel||(a._getCoreRowModel=a.options.getCoreRowModel(a)),a._getCoreRowModel()),getRowModel:()=>a.getPaginationRowModel(),getRow:(c,u)=>{let g=(u?a.getPrePaginationRowModel():a.getRowModel()).rowsById[c];if(!g&&(g=a.getCoreRowModel().rowsById[c],!g))throw new Error;return g},_getDefaultColumnDef:X(()=>[a.options.defaultColumn],c=>{var u;return c=(u=c)!=null?u:{},{header:g=>{const m=g.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:g=>{var m,v;return(m=(v=g.renderValue())==null||v.toString==null?void 0:v.toString())!=null?m:null},...a._features.reduce((g,m)=>Object.assign(g,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...c}},Y(e,"debugColumns")),_getColumnDefs:()=>a.options.columns,getAllColumns:X(()=>[a._getColumnDefs()],c=>{const u=function(g,m,v){return v===void 0&&(v=0),g.map(y=>{const k=Zi(a,y,v,m),L=y;return k.columns=L.columns?u(L.columns,k,v+1):[],k})};return u(c)},Y(e,"debugColumns")),getAllFlatColumns:X(()=>[a.getAllColumns()],c=>c.flatMap(u=>u.getFlatColumns()),Y(e,"debugColumns")),_getAllFlatColumnsById:X(()=>[a.getAllFlatColumns()],c=>c.reduce((u,g)=>(u[g.id]=g,u),{}),Y(e,"debugColumns")),getAllLeafColumns:X(()=>[a.getAllColumns(),a._getOrderColumnsFn()],(c,u)=>{let g=c.flatMap(m=>m.getLeafColumns());return u(g)},Y(e,"debugColumns")),getColumn:c=>a._getAllFlatColumnsById()[c]};Object.assign(a,b);for(let c=0;c<a._features.length;c++){const u=a._features[c];u==null||u.createTable==null||u.createTable(a)}return a}function Ir(){return e=>X(()=>[e.options.data],n=>{const t={rows:[],flatRows:[],rowsById:{}},o=function(a,i,r){i===void 0&&(i=0);const s=[];for(let d=0;d<a.length;d++){const f=fn(e,e._getRowId(a[d],d,r),a[d],d,i,void 0,r?.id);if(t.flatRows.push(f),t.rowsById[f.id]=f,s.push(f),e.options.getSubRows){var l;f.originalSubRows=e.options.getSubRows(a[d],d),(l=f.originalSubRows)!=null&&l.length&&(f.subRows=o(f.originalSubRows,i+1,f))}}return s};return t.rows=o(n),t},Y(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Er(){return e=>X(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(n,t,o)=>!t.rows.length||n!==!0&&!Object.keys(n??{}).length||!o?t:bo(t),Y(e.options,"debugTable"))}function bo(e){const n=[],t=o=>{var a;n.push(o),(a=o.subRows)!=null&&a.length&&o.getIsExpanded()&&o.subRows.forEach(t)};return e.rows.forEach(t),{rows:n,flatRows:e.flatRows,rowsById:e.rowsById}}function Nr(e,n,t){return t.options.filterFromLeafRows?Tr(e,n,t):Mr(e,n,t)}function Tr(e,n,t){var o;const a=[],i={},r=(o=t.options.maxLeafRowFilterDepth)!=null?o:100,s=function(l,d){d===void 0&&(d=0);const f=[];for(let c=0;c<l.length;c++){var b;let u=l[c];const g=fn(t,u.id,u.original,u.index,u.depth,void 0,u.parentId);if(g.columnFilters=u.columnFilters,(b=u.subRows)!=null&&b.length&&d<r){if(g.subRows=s(u.subRows,d+1),u=g,n(u)&&!g.subRows.length){f.push(u),i[u.id]=u,a.push(u);continue}if(n(u)||g.subRows.length){f.push(u),i[u.id]=u,a.push(u);continue}}else u=g,n(u)&&(f.push(u),i[u.id]=u,a.push(u))}return f};return{rows:s(e),flatRows:a,rowsById:i}}function Mr(e,n,t){var o;const a=[],i={},r=(o=t.options.maxLeafRowFilterDepth)!=null?o:100,s=function(l,d){d===void 0&&(d=0);const f=[];for(let c=0;c<l.length;c++){let u=l[c];if(n(u)){var b;if((b=u.subRows)!=null&&b.length&&d<r){const m=fn(t,u.id,u.original,u.index,u.depth,void 0,u.parentId);m.subRows=s(u.subRows,d+1),u=m}f.push(u),a.push(u),i[u.id]=u}}return f};return{rows:s(e),flatRows:a,rowsById:i}}function zr(){return e=>X(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(n,t,o)=>{if(!n.rows.length||!(t!=null&&t.length)&&!o){for(let c=0;c<n.flatRows.length;c++)n.flatRows[c].columnFilters={},n.flatRows[c].columnFiltersMeta={};return n}const a=[],i=[];(t??[]).forEach(c=>{var u;const g=e.getColumn(c.id);if(!g)return;const m=g.getFilterFn();m&&a.push({id:c.id,filterFn:m,resolvedValue:(u=m.resolveFilterValue==null?void 0:m.resolveFilterValue(c.value))!=null?u:c.value})});const r=(t??[]).map(c=>c.id),s=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(c=>c.getCanGlobalFilter());o&&s&&l.length&&(r.push("__global__"),l.forEach(c=>{var u;i.push({id:c.id,filterFn:s,resolvedValue:(u=s.resolveFilterValue==null?void 0:s.resolveFilterValue(o))!=null?u:o})}));let d,f;for(let c=0;c<n.flatRows.length;c++){const u=n.flatRows[c];if(u.columnFilters={},a.length)for(let g=0;g<a.length;g++){d=a[g];const m=d.id;u.columnFilters[m]=d.filterFn(u,m,d.resolvedValue,v=>{u.columnFiltersMeta[m]=v})}if(i.length){for(let g=0;g<i.length;g++){f=i[g];const m=f.id;if(f.filterFn(u,m,f.resolvedValue,v=>{u.columnFiltersMeta[m]=v})){u.columnFilters.__global__=!0;break}}u.columnFilters.__global__!==!0&&(u.columnFilters.__global__=!1)}}const b=c=>{for(let u=0;u<r.length;u++)if(c.columnFilters[r[u]]===!1)return!1;return!0};return Nr(n.rows,b,e)},Y(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Dr(e){return n=>X(()=>[n.getState().pagination,n.getPrePaginationRowModel(),n.options.paginateExpandedRows?void 0:n.getState().expanded],(t,o)=>{if(!o.rows.length)return o;const{pageSize:a,pageIndex:i}=t;let{rows:r,flatRows:s,rowsById:l}=o;const d=a*i,f=d+a;r=r.slice(d,f);let b;n.options.paginateExpandedRows?b={rows:r,flatRows:s,rowsById:l}:b=bo({rows:r,flatRows:s,rowsById:l}),b.flatRows=[];const c=u=>{b.flatRows.push(u),u.subRows.length&&u.subRows.forEach(c)};return b.rows.forEach(c),b},Y(n.options,"debugTable"))}function Br(){return e=>X(()=>[e.getState().sorting,e.getPreSortedRowModel()],(n,t)=>{if(!t.rows.length||!(n!=null&&n.length))return t;const o=e.getState().sorting,a=[],i=o.filter(l=>{var d;return(d=e.getColumn(l.id))==null?void 0:d.getCanSort()}),r={};i.forEach(l=>{const d=e.getColumn(l.id);d&&(r[l.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const s=l=>{const d=l.map(f=>({...f}));return d.sort((f,b)=>{for(let u=0;u<i.length;u+=1){var c;const g=i[u],m=r[g.id],v=m.sortUndefined,y=(c=g?.desc)!=null?c:!1;let k=0;if(v){const L=f.getValue(g.id),q=b.getValue(g.id),B=L===void 0,J=q===void 0;if(B||J){if(v==="first")return B?-1:1;if(v==="last")return B?1:-1;k=B&&J?0:B?v:-v}}if(k===0&&(k=m.sortingFn(f,b,g.id)),k!==0)return y&&(k*=-1),m.invertSorting&&(k*=-1),k}return f.index-b.index}),d.forEach(f=>{var b;a.push(f),(b=f.subRows)!=null&&b.length&&(f.subRows=s(f.subRows))}),d};return{rows:s(t.rows),flatRows:a,rowsById:t.rowsById}},Y(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * vue-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function yt(){return!0}const Or=Symbol("merge-proxy"),Gr={get(e,n,t){return n===Or?t:e.get(n)},has(e,n){return e.has(n)},set:yt,deleteProperty:yt,getOwnPropertyDescriptor(e,n){return{configurable:!0,enumerable:!0,get(){return e.get(n)},set:yt,deleteProperty:yt}},ownKeys(e){return e.keys()}};function Wt(e){return"value"in e?e.value:e}function rt(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return new Proxy({get(o){for(let a=n.length-1;a>=0;a--){const i=Wt(n[a])[o];if(i!==void 0)return i}},has(o){for(let a=n.length-1;a>=0;a--)if(o in Wt(n[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<n.length;a++)o.push(...Object.keys(Wt(n[a])));return[...Array.from(new Set(o))]}},Gr)}const Xt=$e({props:["render","props"],setup:e=>()=>typeof e.render=="function"||typeof e.render=="object"?ee(e.render,e.props):e.render});function Vn(e){return rt(e,{data:x(e.data)})}function jr(e){const n=Wo(e.data),t=rt({state:{},onStateChange:()=>{},renderFallbackValue:null,mergeOptions(i,r){return n?{...i,...r}:rt(i,r)}},n?Vn(e):e),o=Ar(t);if(n){const i=Xo(e.data);ge(i,()=>{o.setState(r=>({...r,data:i.value}))},{immediate:!0})}const a=W(o.initialState);return Yo(()=>{o.setOptions(i=>{var r;const s=new Proxy({},{get:(l,d)=>a.value[d]});return rt(i,n?Vn(e):e,{state:rt(s,(r=e.state)!=null?r:{}),onStateChange:l=>{l instanceof Function?a.value=l(a.value):a.value=l,e.onStateChange==null||e.onStateChange(l)}})})}),o}const qr={slots:{root:"relative overflow-auto",base:"min-w-full overflow-clip",caption:"sr-only",thead:"relative",tbody:"divide-y divide-default [&>tr]:data-[selectable=true]:hover:bg-elevated/50 [&>tr]:data-[selectable=true]:focus-visible:outline-primary",tfoot:"relative",tr:"data-[selected=true]:bg-elevated/50",th:"px-4 py-3.5 text-sm text-highlighted text-left rtl:text-right font-semibold [&:has([role=checkbox])]:pe-0",td:"p-4 text-sm text-muted whitespace-nowrap [&:has([role=checkbox])]:pe-0",separator:"absolute z-[1] left-0 w-full h-px bg-(--ui-border-accented)",empty:"py-6 text-center text-sm text-muted",loading:"py-6 text-center"},variants:{pinned:{true:{th:"sticky bg-default/75 data-[pinned=left]:left-0 data-[pinned=right]:right-0",td:"sticky bg-default/75 data-[pinned=left]:left-0 data-[pinned=right]:right-0"}},sticky:{true:{thead:"sticky top-0 inset-x-0 bg-default/75 z-[1] backdrop-blur",tfoot:"sticky bottom-0 inset-x-0 bg-default/75 z-[1] backdrop-blur"},header:{thead:"sticky top-0 inset-x-0 bg-default/75 z-[1] backdrop-blur"},footer:{tfoot:"sticky bottom-0 inset-x-0 bg-default/75 z-[1] backdrop-blur"}},loading:{true:{thead:"after:absolute after:z-[1] after:h-px"}},loadingAnimation:{carousel:"","carousel-inverse":"",swing:"",elastic:""},loadingColor:{primary:"",secondary:"",tertiary:"",rodeodust:"",poison:"",signal:"",info:"",success:"",warning:"",error:"",kalkmark:"",vanligmark:"",time:"",neutral:""}},compoundVariants:[{loading:!0,loadingColor:"primary",class:{thead:"after:bg-primary"}},{loading:!0,loadingColor:"secondary",class:{thead:"after:bg-secondary"}},{loading:!0,loadingColor:"tertiary",class:{thead:"after:bg-tertiary"}},{loading:!0,loadingColor:"rodeodust",class:{thead:"after:bg-rodeodust"}},{loading:!0,loadingColor:"poison",class:{thead:"after:bg-poison"}},{loading:!0,loadingColor:"signal",class:{thead:"after:bg-signal"}},{loading:!0,loadingColor:"info",class:{thead:"after:bg-info"}},{loading:!0,loadingColor:"success",class:{thead:"after:bg-success"}},{loading:!0,loadingColor:"warning",class:{thead:"after:bg-warning"}},{loading:!0,loadingColor:"error",class:{thead:"after:bg-error"}},{loading:!0,loadingColor:"kalkmark",class:{thead:"after:bg-kalkmark"}},{loading:!0,loadingColor:"vanligmark",class:{thead:"after:bg-vanligmark"}},{loading:!0,loadingColor:"time",class:{thead:"after:bg-time"}},{loading:!0,loadingColor:"neutral",class:{thead:"after:bg-inverted"}},{loading:!0,loadingAnimation:"carousel",class:{thead:"after:animate-[carousel_2s_ease-in-out_infinite] rtl:after:animate-[carousel-rtl_2s_ease-in-out_infinite]"}},{loading:!0,loadingAnimation:"carousel-inverse",class:{thead:"after:animate-[carousel-inverse_2s_ease-in-out_infinite] rtl:after:animate-[carousel-inverse-rtl_2s_ease-in-out_infinite]"}},{loading:!0,loadingAnimation:"swing",class:{thead:"after:animate-[swing_2s_ease-in-out_infinite]"}},{loading:!0,loadingAnimation:"elastic",class:{thead:"after:animate-[elastic_2s_ease-in-out_infinite]"}}],defaultVariants:{loadingColor:"primary",loadingAnimation:"carousel"}},Ur=["data-pinned","scope","colspan","rowspan"],Hr=["data-selected","data-selectable","data-expanded","role","tabindex","onClick","onPointerenter","onContextmenu"],Kr=["data-pinned","colspan","rowspan"],Wr=["colspan"],Xr={key:1},Yr=["colspan"],Zr={key:2},Jr=["colspan"],Qr=["data-pinned","colspan","rowspan"],el={__name:"UTable",props:Zo({as:{type:null,required:!1},data:{type:Array,required:!1},columns:{type:Array,required:!1},caption:{type:String,required:!1},meta:{type:Object,required:!1},empty:{type:String,required:!1},sticky:{type:[Boolean,String],required:!1},loading:{type:Boolean,required:!1},loadingColor:{type:null,required:!1},loadingAnimation:{type:null,required:!1},watchOptions:{type:Object,required:!1,default:()=>({deep:!0})},globalFilterOptions:{type:Object,required:!1},columnFiltersOptions:{type:Object,required:!1},columnPinningOptions:{type:Object,required:!1},columnSizingOptions:{type:Object,required:!1},visibilityOptions:{type:Object,required:!1},sortingOptions:{type:Object,required:!1},groupingOptions:{type:Object,required:!1},expandedOptions:{type:Object,required:!1},rowSelectionOptions:{type:Object,required:!1},rowPinningOptions:{type:Object,required:!1},paginationOptions:{type:Object,required:!1},facetedOptions:{type:Object,required:!1},onSelect:{type:Function,required:!1},onHover:{type:Function,required:!1},onContextmenu:{type:[Function,Array],required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},state:{type:Object,required:!1},onStateChange:{type:Function,required:!1},renderFallbackValue:{type:null,required:!1},_features:{type:Array,required:!1},autoResetAll:{type:Boolean,required:!1},debugAll:{type:Boolean,required:!1},debugCells:{type:Boolean,required:!1},debugColumns:{type:Boolean,required:!1},debugHeaders:{type:Boolean,required:!1},debugRows:{type:Boolean,required:!1},debugTable:{type:Boolean,required:!1},defaultColumn:{type:Object,required:!1},getRowId:{type:Function,required:!1},getSubRows:{type:Function,required:!1},initialState:{type:Object,required:!1},mergeOptions:{type:Function,required:!1}},{globalFilter:{type:String,default:void 0},globalFilterModifiers:{},columnFilters:{type:Array,default:[]},columnFiltersModifiers:{},columnOrder:{type:Array,default:[]},columnOrderModifiers:{},columnVisibility:{type:Object,default:{}},columnVisibilityModifiers:{},columnPinning:{type:Object,default:{}},columnPinningModifiers:{},columnSizing:{type:Object,default:{}},columnSizingModifiers:{},columnSizingInfo:{type:Object,default:{}},columnSizingInfoModifiers:{},rowSelection:{type:Object,default:{}},rowSelectionModifiers:{},rowPinning:{type:Object,default:{}},rowPinningModifiers:{},sorting:{type:Array,default:[]},sortingModifiers:{},grouping:{type:Array,default:[]},groupingModifiers:{},expanded:{type:[Boolean,Object],default:{}},expandedModifiers:{},pagination:{type:Object,default:{}},paginationModifiers:{}}),emits:["update:globalFilter","update:columnFilters","update:columnOrder","update:columnVisibility","update:columnPinning","update:columnSizing","update:columnSizingInfo","update:rowSelection","update:rowPinning","update:sorting","update:grouping","update:expanded","update:pagination"],setup(e,{expose:n}){const t=e,o=Ft(),{t:a}=sn(),i=Lt(),r=W(t.data??[]),s=I(()=>t.meta??{}),l=I(()=>d(t.columns??Object.keys(r.value[0]??{}).map(A=>({accessorKey:A,header:On(A)}))));function d(A){return A.map(D=>{const z={...D};return"columns"in z&&z.columns&&(z.columns=d(z.columns)),z.cell||(z.cell=({getValue:F})=>{const G=F();return G===""||G===null||G===void 0?" ":String(G)}),z})}const f=I(()=>et({extend:et(qr),...i.ui?.table||{}})({sticky:t.sticky,loading:t.loading,loadingColor:t.loadingColor,loadingAnimation:t.loadingAnimation})),b=I(()=>{function A(D){for(const z of D)if("footer"in z||"columns"in z&&A(z.columns))return!0;return!1}return A(l.value)}),c=Fe(e,"globalFilter",{type:String,default:void 0}),u=Fe(e,"columnFilters",{type:Array,default:[]}),g=Fe(e,"columnOrder",{type:Array,default:[]}),m=Fe(e,"columnVisibility",{type:Object,default:{}}),v=Fe(e,"columnPinning",{type:Object,default:{}}),y=Fe(e,"columnSizing",{type:Object,default:{}}),k=Fe(e,"columnSizingInfo",{type:Object,default:{}}),L=Fe(e,"rowSelection",{type:Object,default:{}}),q=Fe(e,"rowPinning",{type:Object,default:{}}),B=Fe(e,"sorting",{type:Array,default:[]}),J=Fe(e,"grouping",{type:Array,default:[]}),te=Fe(e,"expanded",{type:[Boolean,Object],default:{}}),pe=Fe(e,"pagination",{type:Object,default:{}}),me=W(null),P=jr({...Tn(t,"as","data","columns","caption","sticky","loading","loadingColor","loadingAnimation","class","ui"),data:r,get columns(){return l.value},meta:s.value,getCoreRowModel:Ir(),...t.globalFilterOptions||{},onGlobalFilterChange:A=>_(A,c),...t.columnFiltersOptions||{},getFilteredRowModel:zr(),onColumnFiltersChange:A=>_(A,u),onColumnOrderChange:A=>_(A,g),...t.visibilityOptions||{},onColumnVisibilityChange:A=>_(A,m),...t.columnPinningOptions||{},onColumnPinningChange:A=>_(A,v),...t.columnSizingOptions||{},onColumnSizingChange:A=>_(A,y),onColumnSizingInfoChange:A=>_(A,k),...t.rowSelectionOptions||{},onRowSelectionChange:A=>_(A,L),...t.rowPinningOptions||{},onRowPinningChange:A=>_(A,q),...t.sortingOptions||{},getSortedRowModel:Br(),onSortingChange:A=>_(A,B),...t.groupingOptions||{},onGroupingChange:A=>_(A,J),...t.expandedOptions||{},getExpandedRowModel:Er(),onExpandedChange:A=>_(A,te),...t.paginationOptions||{},onPaginationChange:A=>_(A,pe),...t.facetedOptions||{},state:{get globalFilter(){return c.value},get columnFilters(){return u.value},get columnOrder(){return g.value},get columnVisibility(){return m.value},get columnPinning(){return v.value},get expanded(){return te.value},get rowSelection(){return L.value},get sorting(){return B.value},get grouping(){return J.value},get rowPinning(){return q.value},get columnSizing(){return y.value},get columnSizingInfo(){return k.value},get pagination(){return pe.value}}});function _(A,D){D.value=typeof A=="function"?A(D.value):A}function S(A,D){if(!t.onSelect)return;const z=A.target;z.closest("button")||z.closest("a")||(A.preventDefault(),A.stopPropagation(),t.onSelect(D,A))}function $(A,D){t.onHover&&t.onHover(A,D)}function Z(A,D){t.onContextmenu&&(Array.isArray(t.onContextmenu)?t.onContextmenu.forEach(z=>z(A,D)):t.onContextmenu(A,D))}function U(A,D){return typeof A=="function"?A(D):A}return ge(()=>t.data,()=>{r.value=t.data?[...t.data]:[]},t.watchOptions),n({tableRef:me,tableApi:P}),(A,D)=>(h(),j(x(Oe),{as:e.as,class:K(f.value.root({class:[t.ui?.root,t.class]}))},{default:T(()=>[R("table",{ref_key:"tableRef",ref:me,class:K(f.value.base({class:[t.ui?.base]}))},[e.caption||o.caption?(h(),V("caption",{key:0,class:K(f.value.caption({class:[t.ui?.caption]}))},[se(A.$slots,"caption",{},()=>[le(oe(e.caption),1)])],2)):O("",!0),R("thead",{class:K(f.value.thead({class:[t.ui?.thead]}))},[(h(!0),V(he,null,be(x(P).getHeaderGroups(),z=>(h(),V("tr",{key:z.id,class:K(f.value.tr({class:[t.ui?.tr]}))},[(h(!0),V(he,null,be(z.headers,F=>(h(),V("th",{key:F.id,"data-pinned":F.column.getIsPinned(),scope:F.colSpan>1?"colgroup":"col",colspan:F.colSpan>1?F.colSpan:void 0,rowspan:F.rowSpan>1?F.rowSpan:void 0,class:K(f.value.th({class:[t.ui?.th,U(F.column.columnDef.meta?.class?.th,F)],pinned:!!F.column.getIsPinned()}))},[se(A.$slots,`${F.id}-header`,ye({ref_for:!0},F.getContext()),()=>[F.isPlaceholder?O("",!0):(h(),j(x(Xt),{key:0,render:F.column.columnDef.header,props:F.getContext()},null,8,["render","props"]))])],10,Ur))),128))],2))),128)),R("tr",{class:K(f.value.separator({class:[t.ui?.separator]}))},null,2)],2),R("tbody",{class:K(f.value.tbody({class:[t.ui?.tbody]}))},[se(A.$slots,"body-top"),x(P).getRowModel().rows?.length?(h(!0),V(he,{key:0},be(x(P).getRowModel().rows,z=>(h(),V(he,{key:z.id},[R("tr",{"data-selected":z.getIsSelected(),"data-selectable":!!t.onSelect||!!t.onHover||!!t.onContextmenu,"data-expanded":z.getIsExpanded(),role:t.onSelect?"button":void 0,tabindex:t.onSelect?0:void 0,class:K(f.value.tr({class:[t.ui?.tr,U(x(P).options.meta?.class?.tr,z)]})),style:zt(U(x(P).options.meta?.style?.tr,z)),onClick:F=>S(F,z),onPointerenter:F=>$(F,z),onPointerleave:D[0]||(D[0]=F=>$(F,null)),onContextmenu:F=>Z(F,z)},[(h(!0),V(he,null,be(z.getVisibleCells(),F=>(h(),V("td",{key:F.id,"data-pinned":F.column.getIsPinned(),colspan:U(F.column.columnDef.meta?.colspan?.td,F),rowspan:U(F.column.columnDef.meta?.rowspan?.td,F),class:K(f.value.td({class:[t.ui?.td,U(F.column.columnDef.meta?.class?.td,F)],pinned:!!F.column.getIsPinned()})),style:zt(U(F.column.columnDef.meta?.style?.td,F))},[se(A.$slots,`${F.column.id}-cell`,ye({ref_for:!0},F.getContext()),()=>[C(x(Xt),{render:F.column.columnDef.cell,props:F.getContext()},null,8,["render","props"])])],14,Kr))),128))],46,Hr),z.getIsExpanded()?(h(),V("tr",{key:0,class:K(f.value.tr({class:[t.ui?.tr]}))},[R("td",{colspan:z.getAllCells().length,class:K(f.value.td({class:[t.ui?.td]}))},[se(A.$slots,"expanded",{row:z})],10,Wr)],2)):O("",!0)],64))),128)):e.loading&&o.loading?(h(),V("tr",Xr,[R("td",{colspan:x(P).getAllLeafColumns().length,class:K(f.value.loading({class:t.ui?.loading}))},[se(A.$slots,"loading")],10,Yr)])):(h(),V("tr",Zr,[R("td",{colspan:x(P).getAllLeafColumns().length,class:K(f.value.empty({class:t.ui?.empty}))},[se(A.$slots,"empty",{},()=>[le(oe(e.empty||x(a)("table.noData")),1)])],10,Jr)])),se(A.$slots,"body-bottom")],2),b.value?(h(),V("tfoot",{key:1,class:K(f.value.tfoot({class:[t.ui?.tfoot]}))},[R("tr",{class:K(f.value.separator({class:[t.ui?.separator]}))},null,2),(h(!0),V(he,null,be(x(P).getFooterGroups(),z=>(h(),V("tr",{key:z.id,class:K(f.value.tr({class:[t.ui?.tr]}))},[(h(!0),V(he,null,be(z.headers,F=>(h(),V("th",{key:F.id,"data-pinned":F.column.getIsPinned(),colspan:F.colSpan>1?F.colSpan:void 0,rowspan:F.rowSpan>1?F.rowSpan:void 0,class:K(f.value.th({class:[t.ui?.th,U(F.column.columnDef.meta?.class?.th,F)],pinned:!!F.column.getIsPinned()})),style:zt(U(F.column.columnDef.meta?.style?.th,F))},[se(A.$slots,`${F.id}-footer`,ye({ref_for:!0},F.getContext()),()=>[F.isPlaceholder?O("",!0):(h(),j(x(Xt),{key:0,render:F.column.columnDef.footer,props:F.getContext()},null,8,["render","props"]))])],14,Qr))),128))],2))),128))],2)):O("",!0)],2)]),_:3},8,["as","class"]))}},tl={slots:{root:"",list:"flex items-center gap-1",ellipsis:"pointer-events-none",label:"min-w-5 text-center",first:"",prev:"",item:"",next:"",last:""}},yo={__name:"UPagination",props:{as:{type:null,required:!1},firstIcon:{type:[String,Object],required:!1},prevIcon:{type:[String,Object],required:!1},nextIcon:{type:[String,Object],required:!1},lastIcon:{type:[String,Object],required:!1},ellipsisIcon:{type:[String,Object],required:!1},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"outline"},activeColor:{type:null,required:!1,default:"primary"},activeVariant:{type:null,required:!1,default:"solid"},showControls:{type:Boolean,required:!1,default:!0},size:{type:null,required:!1},to:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultPage:{type:Number,required:!1},disabled:{type:Boolean,required:!1},itemsPerPage:{type:Number,required:!1,default:10},page:{type:Number,required:!1},showEdges:{type:Boolean,required:!1,default:!1},siblingCount:{type:Number,required:!1,default:2},total:{type:Number,required:!1,default:0}},emits:["update:page"],setup(e,{emit:n}){const t=e,o=n,a=Ft(),{dir:i}=sn(),r=Lt(),s=un(Bn(t,"as","defaultPage","disabled","itemsPerPage","page","showEdges","siblingCount","total"),o),l=I(()=>t.firstIcon||(i.value==="rtl"?r.ui.icons.chevronDoubleRight:r.ui.icons.chevronDoubleLeft)),d=I(()=>t.prevIcon||(i.value==="rtl"?r.ui.icons.chevronRight:r.ui.icons.chevronLeft)),f=I(()=>t.nextIcon||(i.value==="rtl"?r.ui.icons.chevronLeft:r.ui.icons.chevronRight)),b=I(()=>t.lastIcon||(i.value==="rtl"?r.ui.icons.chevronDoubleLeft:r.ui.icons.chevronDoubleRight)),c=I(()=>et({extend:et(tl),...r.ui?.pagination||{}})());return(u,g)=>(h(),j(x(Va),ye(x(s),{class:c.value.root({class:[t.ui?.root,t.class]})}),{default:T(({page:m,pageCount:v})=>[C(x(Da),{class:K(c.value.list({class:t.ui?.list}))},{default:T(({items:y})=>[e.showControls||a.first?(h(),j(x(Ia),{key:0,"as-child":"",class:K(c.value.first({class:t.ui?.first}))},{default:T(()=>[se(u.$slots,"first",{},()=>[C(Re,{color:e.color,variant:e.variant,size:e.size,icon:l.value,to:e.to?.(1)},null,8,["color","variant","size","icon","to"])])]),_:3},8,["class"])):O("",!0),e.showControls||a.prev?(h(),j(x(Ua),{key:1,"as-child":"",class:K(c.value.prev({class:t.ui?.prev}))},{default:T(()=>[se(u.$slots,"prev",{},()=>[C(Re,{color:e.color,variant:e.variant,size:e.size,icon:d.value,to:m>1?e.to?.(m-1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):O("",!0),(h(!0),V(he,null,be(y,(k,L)=>(h(),V(he,{key:L},[k.type==="page"?(h(),j(x(Oa),{key:0,"as-child":"",value:k.value,class:K(c.value.item({class:t.ui?.item}))},{default:T(()=>[se(u.$slots,"item",ye({ref_for:!0},{item:k,index:L,page:m,pageCount:v}),()=>[C(Re,{color:m===k.value?e.activeColor:e.color,variant:m===k.value?e.activeVariant:e.variant,size:e.size,label:String(k.value),ui:{label:c.value.label()},to:e.to?.(k.value),square:""},null,8,["color","variant","size","label","ui","to"])])]),_:2},1032,["value","class"])):(h(),j(x(Fa),{key:1,"as-child":"",class:K(c.value.ellipsis({class:t.ui?.ellipsis}))},{default:T(()=>[se(u.$slots,"ellipsis",{},()=>[C(Re,{as:"div",color:e.color,variant:e.variant,size:e.size,icon:e.ellipsisIcon||x(r).ui.icons.ellipsis},null,8,["color","variant","size","icon"])])]),_:3},8,["class"]))],64))),128)),e.showControls||a.next?(h(),j(x(ja),{key:2,"as-child":"",class:K(c.value.next({class:t.ui?.next}))},{default:T(()=>[se(u.$slots,"next",{},()=>[C(Re,{color:e.color,variant:e.variant,size:e.size,icon:f.value,to:m<v?e.to?.(m+1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):O("",!0),e.showControls||a.last?(h(),j(x(Na),{key:3,"as-child":"",class:K(c.value.last({class:t.ui?.last}))},{default:T(()=>[se(u.$slots,"last",{},()=>[C(Re,{color:e.color,variant:e.variant,size:e.size,icon:b.value,to:e.to?.(v)},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):O("",!0)]),_:2},1032,["class"])]),_:3},16,["class"]))}},nl=JSON.parse('[{"geo":"Norr","forest":"Granskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Norr","forest":"Granskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Norr","forest":"Granskog","veg":"Örter_grupp","age":"91"},{"geo":"Norr","forest":"Granskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Granskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Norr","forest":"Granskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Norr","forest":"Granskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Norr","forest":"Granskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Granskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Norr","forest":"Granskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Norr","forest":"Granskog","veg":"Lingon_grupp","age":"91"},{"geo":"Norr","forest":"Granskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Tallskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Norr","forest":"Tallskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Norr","forest":"Tallskog","veg":"Örter_grupp","age":"91"},{"geo":"Norr","forest":"Tallskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Tallskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Norr","forest":"Tallskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Norr","forest":"Tallskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Norr","forest":"Tallskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Tallskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Norr","forest":"Tallskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Norr","forest":"Tallskog","veg":"Lingon_grupp","age":"91"},{"geo":"Norr","forest":"Tallskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Barrblandskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Norr","forest":"Barrblandskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Norr","forest":"Barrblandskog","veg":"Örter_grupp","age":"91"},{"geo":"Norr","forest":"Barrblandskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Norr","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Norr","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Norr","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Barrblandskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Norr","forest":"Barrblandskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Norr","forest":"Barrblandskog","veg":"Lingon_grupp","age":"91"},{"geo":"Norr","forest":"Barrblandskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Lövblandskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Norr","forest":"Lövblandskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Norr","forest":"Lövblandskog","veg":"Örter_grupp","age":"91"},{"geo":"Norr","forest":"Lövblandskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Norr","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Norr","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Norr","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Lövblandskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Norr","forest":"Lövblandskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Norr","forest":"Lövblandskog","veg":"Lingon_grupp","age":"91"},{"geo":"Norr","forest":"Lövblandskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Lövskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Norr","forest":"Lövskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Norr","forest":"Lövskog","veg":"Örter_grupp","age":"91"},{"geo":"Norr","forest":"Lövskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Lövskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Norr","forest":"Lövskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Norr","forest":"Lövskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Lövskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Norr","forest":"Lövskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Norr","forest":"Lövskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Naturbete","veg":"Örter_grupp","age":"1-40"},{"geo":"Norr","forest":"Naturbete","veg":"Örter_grupp","age":"41-90"},{"geo":"Norr","forest":"Naturbete","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Granskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"Granskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"Granskog","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"Granskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Granskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"Granskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"Granskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Söder","forest":"Granskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Granskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Söder","forest":"Granskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Tallskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"Tallskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"Tallskog","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"Tallskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Tallskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"Tallskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"Tallskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Söder","forest":"Tallskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Tallskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Söder","forest":"Tallskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Söder","forest":"Tallskog","veg":"Lingon_grupp","age":"91"},{"geo":"Söder","forest":"Tallskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Barrblandskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"Barrblandskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"Barrblandskog","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"Barrblandskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Söder","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Barrblandskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Söder","forest":"Barrblandskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Söder","forest":"Barrblandskog","veg":"Lingon_grupp","age":"91"},{"geo":"Söder","forest":"Barrblandskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Lövblandskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"Lövblandskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"Lövblandskog","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"Lövblandskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Söder","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Lövblandskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Söder","forest":"Lövblandskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Lövskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"Lövskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"Lövskog","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"Lövskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Lövskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"Lövskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"Lövskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Lövskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Söder","forest":"Lövskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Naturbete","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"Naturbete","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"Naturbete","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"Naturbete","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Naturbete","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"Naturbete","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"Naturbete","veg":"Blåbär_grupp","age":"91"},{"geo":"Söder","forest":"Naturbete","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"EkBokskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"EkBokskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"EkBokskog","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"EkBokskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"EkBokskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"EkBokskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"EkBokskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Söder","forest":"EkBokskog","veg":"Blåbär_grupp","age":"allaåldrar"}]');function Et(e,n,t,o){return!e||!n||!t||!o?!1:nl.some(a=>a.geo===e&&a.forest===n&&a.age===t&&a.veg===o)}const ol={class:""},al={class:""},il={key:0,class:"flex md:gap-2 mt-2 justify-between z-30"},rl={class:"flex gap-2 items-end justify-between w-full mb-2"},ll={class:"flex gap-2"},sl={class:"flex my-1 gap-2 overflow-scroll",id:"scrollbar"},ul={key:1,class:"hidden md:flex"},dl={key:1,class:"flex my-1 gap-2 overflow-scroll",id:"scrollbar"},cl={key:0,class:"flex gap-2 w-full mb-2"},gl={class:""},pl={key:0,class:"md:flex justify-between items-center pb-2 md:pt-5 md:p-5 md:border-t-[1px] border-neutral-200 dark:border-neutral-700"},fl={class:"flex h-fit shrink-0 gap-1 items-center justify-between"},ml={class:"flex"},vl={class:"hidden md:flex"},hl={key:0},bl={class:"flex justify-center"},yl={key:2},Sl={class:"max-w-sm space-y-2 mt-2"},wl={__name:"SpeciesTable",props:{isNormalView:{type:Boolean,default:!1},dataTypeFolder:{type:String,default:"edna"},dataType:{type:String,default:"edna"},grupp:{type:String,default:"Svamp-grupp-släkte"},mat:{type:String,default:"matsvamp"},obs:{type:String,default:"sample_plot_count"},obsLabel:{type:String,default:"Förekomst"},columnVisibilityOverrides:{type:Object,default:()=>({})},filterEdible:{type:Boolean,default:!1},filterPoison:{type:Boolean,default:!1},searchTerm:{type:String,default:""}},emits:["enlarge","update:matsvampFilter","update:giftsvampFilter","update:gruppFilter","update:statusFilter","update:searchTerm"],setup(e,{emit:n}){const t=Ye("(max-width: 767px)"),o=I(()=>t.value||l.isNormalView&&l.dataTypeFolder!=="edna"),a=n,i=W("");let r=null;function s(p){i.value=p,r&&clearTimeout(r),r=setTimeout(()=>{a("update:searchTerm",i.value)},300)}Gn(()=>{r&&clearTimeout(r)});const l=e,d=Jo("table"),f=o.value?{RankRed:!1,"Rank matsvamp":!1,"Rank giftsvamp":!1,[l.grupp]:!1,mark:!1,[l.mat]:!1,RL2020kat:!1,Commonname:!1,Scientificname:!1,images:!1,[l.obs]:!1}:{RankRed:!1,"Rank matsvamp":!1,"Rank giftsvamp":!1};l.dataType==="edna"&&(f.mark=!1);const b=W({...f,...l.columnVisibilityOverrides}),c=W([]),u=(p=0,w=0)=>w?p===w?`${w}`:`${p}/${w}`:null,g=I(()=>{const p={};Je.value.forEach(H=>{H.KALKmark&&(p.KALKmark=(p.KALKmark||0)+1),H.ANNANmark&&(p.ANNANmark=(p.ANNANmark||0)+1)});const w=d.value?.tableApi?.getFilteredRowModel()?.rows||[],E={};return w.forEach(H=>{const ae=H.original;ae.KALKmark&&(E.KALKmark=(E.KALKmark||0)+1),ae.ANNANmark&&(E.ANNANmark=(E.ANNANmark||0)+1)}),[{label:"Kalkmark",value:"KALKmark",visible:E.KALKmark||0,total:p.KALKmark||0},{label:"Vanlig skogsmark",value:"ANNANmark",visible:E.ANNANmark||0,total:p.ANNANmark||0}].map(H=>{const ae=u(H.visible,H.total);return ae?{label:`${H.label} (${ae})`,value:H.value}:null}).filter(Boolean)}),m=I(()=>g.value.map(p=>({label:p.label,type:"checkbox",checked:c.value.includes(p.value),onUpdateChecked(w){w?c.value.includes(p.value)||c.value.push(p.value):c.value=c.value.filter(E=>E!==p.value)},onSelect(w){w.preventDefault()}}))),v=I(()=>{const p=["Matsvamp","Giftsvamp"],w={};Je.value.forEach(H=>{const ae=H[l.mat];l.mat==="Nyasvamp-boken"?ae&&String(ae).toLowerCase()==="x"&&(w.Matsvamp=(w.Matsvamp||0)+1):ae==1&&(w.Matsvamp=(w.Matsvamp||0)+1),(H.Giftsvamp||"").toLowerCase()==="x"&&(w.Giftsvamp=(w.Giftsvamp||0)+1)});const E=d.value?.tableApi?.getFilteredRowModel()?.rows||[],M={};return E.forEach(H=>{const ae=H.original,ie=ae[l.mat];(l.mat==="Nyasvamp-boken"?ie&&String(ie).toLowerCase()==="x":ie==1)&&(M.Matsvamp=(M.Matsvamp||0)+1),(ae.Giftsvamp||"").toLowerCase()==="x"&&(M.Giftsvamp=(M.Giftsvamp||0)+1)}),p.map(H=>{const ae=w[H]||0,ie=M[H]||0,fe=u(ie,ae);return fe?{label:`${H} (${fe})`,value:H}:null}).filter(Boolean)}),y=W(l.isNormalView?500:10),k=W([]),L=W([]),q=["VU","NT","EN","CR","DD","Signalart"],B=I(()=>q.every(p=>L.value.includes(p))),J=p=>{if(p){const w=new Set([...L.value,...q]);L.value=Array.from(w)}else L.value=L.value.filter(w=>!q.includes(w))},te=W([]),pe=I(()=>$.value.map(p=>({label:p.label,type:"checkbox",checked:te.value.includes(p.value),onUpdateChecked(w){w?te.value.includes(p.value)||te.value.push(p.value):te.value=te.value.filter(E=>E!==p.value)},onSelect(w){w.preventDefault()}}))),me=I(()=>v.value.map(p=>({label:p.label,type:"checkbox",checked:k.value.includes(p.value),onUpdateChecked(w){w?k.value.includes(p.value)||k.value.push(p.value):k.value=k.value.filter(E=>E!==p.value)},onSelect(w){w.preventDefault()}}))),P=I(()=>Z.value.map(p=>{if(p.type==="separator")return p;const w=p.value==="Naturvårdsarter";return{label:p.label,type:"checkbox",icon:p.icon,checked:w?B.value:L.value.includes(p.value),onUpdateChecked(E){if(w){J(E);return}E?L.value.includes(p.value)||L.value.push(p.value):L.value=L.value.filter(M=>M!==p.value)},onSelect(E){E.preventDefault()}}})),_=I(()=>[{label:"Namn",children:[{label:"A → Ö",onSelect(p){p.preventDefault(),d.value?.tableApi?.setSorting([{id:"Commonname",desc:!1}])}},{label:"Ö → A",onSelect(p){p.preventDefault(),d.value?.tableApi?.setSorting([{id:"Commonname",desc:!0}])}}]},{label:"Vetenskapligt namn",children:[{label:"A → Ö",onSelect(p){p.preventDefault(),d.value?.tableApi?.setSorting([{id:"Scientificname",desc:!1}])}},{label:"Ö → A",onSelect(p){p.preventDefault(),d.value?.tableApi?.setSorting([{id:"Scientificname",desc:!0}])}}]},{label:l.obsLabel||"Förekomst",children:[{label:"Högst → Lägst",onSelect(p){p.preventDefault(),d.value?.tableApi?.setSorting([{id:l.obs,desc:!1}])}},{label:"Lägst → Högst",onSelect(p){p.preventDefault(),d.value?.tableApi?.setSorting([{id:l.obs,desc:!0}])}}]}]),S=I(()=>[{label:"Grupp",children:pe.value},{label:"Matsvamp",children:me.value},{label:"Status",children:P.value},{label:"Mark",children:m.value}]),$=I(()=>{const p={};Je.value.forEach(M=>{const H=M[l.grupp];H&&(p[H]=(p[H]||0)+1)});const w=d.value?.tableApi?.getFilteredRowModel()?.rows||[],E={};return w.forEach(M=>{const ae=M.original[l.grupp];ae&&(E[ae]=(E[ae]||0)+1)}),Object.keys(p).map(M=>{const H=p[M]||0,ae=E[M]||0,ie=u(ae,H);return ie?{label:`${z(M)} (${ie})`,value:M}:null}).filter(Boolean)}),Z=I(()=>{const p=["LC","NT","EN","VU","CR","DD"],w={};Je.value.forEach(ue=>{const re=ue.RL2020kat;p.includes(re)?w[re]=(w[re]||0)+1:re===null||re==="0"||re===0||String(re).toUpperCase()==="NE"?w["Ej bedömd"]=(w["Ej bedömd"]||0)+1:String(re).toUpperCase()==="NA"&&(w["Ej tillämplig"]=(w["Ej tillämplig"]||0)+1),ue.SIGNAL_art==="S"&&(w.Signalart=(w.Signalart||0)+1)});const E=d.value?.tableApi?.getFilteredRowModel()?.rows||[],M={};E.forEach(ue=>{const re=ue.original,Me=re.RL2020kat;p.includes(Me)?M[Me]=(M[Me]||0)+1:Me===null||Me==="0"||Me===0||String(Me).toUpperCase()==="NE"?M["Ej bedömd"]=(M["Ej bedömd"]||0)+1:String(Me).toUpperCase()==="NA"&&(M["Ej tillämplig"]=(M["Ej tillämplig"]||0)+1),re.SIGNAL_art==="S"&&(M.Signalart=(M.Signalart||0)+1)});const H=q.reduce((ue,re)=>ue+(w[re]||0),0),ae=q.reduce((ue,re)=>ue+(M[re]||0),0),ie=[],fe=(ue,re,Me=0,Fo=0,Lo={})=>{const kn=u(Me,Fo);kn&&ie.push({label:`${re} (${kn})`,value:ue,...Lo})};fe("LC","Livskraftig",M.LC||0,w.LC||0,{icon:"i-heroicons-check-circle"}),fe("Ej bedömd","Ej bedömd",M["Ej bedömd"]||0,w["Ej bedömd"]||0,{icon:"i-heroicons-question-mark-circle"}),fe("Ej tillämplig","Ej tillämplig",M["Ej tillämplig"]||0,w["Ej tillämplig"]||0,{icon:"i-heroicons-minus-circle"});const N=u(ae,H);for(N&&ie.push({label:`Naturvårdssvampar (${N})`,value:"Naturvårdsarter",icon:"i-material-symbols-award-star-outline"}),ie.length&&ie.push({type:"separator"}),q.forEach(ue=>{fe(ue,ce(ue),M[ue]||0,w[ue]||0)}),ie.length&&ie[ie.length-1]?.type!=="separator"&&ie.push({type:"separator"});ie.length&&ie[ie.length-1]?.type==="separator";)ie.pop();return ie}),U=W({pageIndex:0,pageSize:10}),A=Pt();function D(p,w){A.selectSpecies(p.original,"edna")}const z=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",F=I(()=>je.value.length>0?je.value[0].sample_env_count:0),G=p=>`/images/svampgrupp/${{övrigt:"ovrigt.webp",hattsvamp:"hattsvamp.png",kantarell:"kantarell.webp",sopp:"sopp.png",taggsvamp:"taggsvamp.png",fingersvamp:"fingersvamp.webp",tryffel:"tryffel.webp",skinnsvamp:"skinnsvamp.webp",skålsvamp:"skalsvamp.webp"}[p]||"default-icon.webp"}`,Q=p=>({LC:"success",NT:"error",EN:"error",VU:"error",CR:"error",RE:"error",DD:"neutral"})[p]||"neutral",ce=p=>{if(p==="Ej bedömd")return"Ej bedömd";if(p==="Ej tillämplig")return"Ej tillämplig";const w={LC:"Livskraftig",NT:"Nära hotad",EN:"Starkt hotad",VU:"Sårbar",CR:"Akut hotad",RE:"Nationellt utdöd",DD:"Kunskapsbrist"};return p===null||p===0||String(p).toUpperCase()==="NE"?"Ej bedömd":String(p).toUpperCase()==="NA"?"Ej tillämplig":w[p]||"Ej bedömd"},Ce=l.obs.startsWith("Rank"),Se=W(Ce?[{id:l.obs,desc:!1},{id:"Commonname",desc:!1}]:[{id:l.obs,desc:!0}]),ne=$t,we=Qo,ve=Re,ke=Ki,Ae=ln,Ze=[{accessorKey:"images",header:"",sortable:!1,cell:({row:p})=>{const w=p.getValue("images")||[];return w.length?ee("img",{src:w[0],class:"h-14 w-20 object-cover -my-3 rounded-md border border-neutral-100 dark:border-neutral-800",alt:p.original?.Commonname?`${p.original.Commonname} bild`:"Species image",loading:"lazy",decoding:"async",height:300,width:450}):null},meta:{headerText:"Bild"}},{accessorKey:"Commonname",header:({column:p})=>{const w=p.getIsSorted();return ee(ve,{color:"neutral",variant:"outline",label:"Namn",icon:w?w==="asc"?"i-lucide-arrow-up-narrow-wide":"i-lucide-arrow-down-wide-narrow":"i-lucide-arrow-up-down",class:"-mx-2.5 ring-muted/50 shadow",onClick:()=>p.toggleSorting(w==="asc")})},cell:({row:p})=>ee("div",{class:"text-neutral-700 dark:text-neutral-200 font-semibold truncate text-[16px]"},z(p.getValue("Commonname"))),filterFn:(p,w,E)=>{if(!E)return!0;const M=String(E).toLowerCase(),H=String(p.getValue("Commonname")||"").toLowerCase(),ae=String(p.getValue("Scientificname")||"").toLowerCase();return H.includes(M)||ae.includes(M)},meta:{headerText:"Namn"}},{accessorKey:"Scientificname",header:({column:p})=>{const w=p.getIsSorted();return ee(ve,{color:"neutral",variant:"outline",label:"Latinskt namn",icon:w?w==="asc"?"i-lucide-arrow-up-narrow-wide":"i-lucide-arrow-down-wide-narrow":"i-lucide-arrow-up-down",class:"-mx-2.5 ring-muted/50 shadow",onClick:()=>p.toggleSorting(w==="asc")})},cell:({row:p})=>ee("div",{class:"truncate  text-[16px]"},p.getValue("Scientificname")),meta:{headerText:"Latinskt namn"}},{accessorKey:l.grupp,header:()=>ee(ke,{items:pe.value,content:{align:"start"},ui:{content:"w-48 min-w-fit"}},{default:()=>ee(ve,{label:"Grupp",variant:"outline",color:"neutral",icon:"i-lucide-list-filter",class:"-mx-2.5 ring-muted/50 shadow"})}),filterFn:(p,w,E)=>!E||E.length===0?!0:E.includes(p.getValue(w)),cell:({row:p})=>{const w=p.getValue(l.grupp);return w!=="Saknas"?ee("img",{src:G(w),alt:`${w||"Svamp"} ikon`,class:"w-6",loading:"lazy",decoding:"async"}):ee(Ae,{name:"heroicons:x-mark-20-solid",class:"size-7"})},meta:{headerText:"Grupp"}},{accessorKey:"mark",enableHiding:l.dataType!=="edna",header:()=>ee(ke,{items:m.value,content:{align:"start"},ui:{content:"w-48 min-w-fit"}},{default:()=>ee(ve,{label:"Mark",variant:"outline",color:"neutral",icon:"i-lucide-list-filter",class:"-mx-2.5 ring-muted/50 shadow"})}),filterFn:(p,w,E)=>{if(!E||E.length===0)return!0;let M=!1;return E.includes("KALKmark")&&p.original.KALKmark&&(M=!0),E.includes("ANNANmark")&&p.original.ANNANmark&&(M=!0),M},cell:({row:p})=>ee("div",{class:"flex items-center space-x-1"},[p.original.KALKmark&&ee(ne,{color:"kalkmark",variant:"subtle"},()=>"Kalkmark"),p.original.ANNANmark&&ee(ne,{color:"vanligmark",variant:"subtle"},()=>"Vanlig skogsmark")].filter(Boolean)),meta:{headerText:"Mark"}},{accessorKey:l.mat,header:()=>ee(ke,{items:me.value,content:{align:"start"},ui:{content:"w-48 min-w-fit"}},{default:()=>ee(ve,{label:"Matsvamp",variant:"outline",color:"neutral",icon:"i-lucide-list-filter",class:"-mx-2.5 ring-muted/50 shadow"})}),filterFn:(p,w,E)=>{if(!E||E.length===0)return!0;let M=!1;return E.includes("Matsvamp")&&(l.mat==="Nyasvamp-boken"?M=M||p.getValue(w)?.toLowerCase()==="x":M=M||p.getValue(w)===1),E.includes("Giftsvamp")&&(M=M||(p.original.Giftsvamp||"").toLowerCase()==="x"),M},cell:({row:p})=>ee("div",{class:"flex gap-1"},[(l.mat==="Nyasvamp-boken"?p.getValue(l.mat)?.toLowerCase()==="x":p.getValue(l.mat)===1)&&ee(ne,{color:"warning",variant:"subtle"},()=>"Matsvamp"),p.original.Giftsvamp?.toLowerCase()==="x"&&ee(ne,{color:"poison",variant:"subtle"},()=>"Giftsvamp")].filter(Boolean)),meta:{headerText:"Matsvamp"}},{accessorKey:"RL2020kat",header:()=>ee(ke,{items:P.value,content:{align:"start"},ui:{content:"w-48 min-w-fit"}},{default:()=>ee(ve,{label:"Status",variant:"outline",color:"neutral",icon:"i-lucide-list-filter",class:"-mx-2.5 ring-muted/50 shadow"})}),filterFn:(p,w,E)=>{if(!E||E.length===0)return!0;const M=p.getValue(w);return E.some(H=>H==="Ej bedömd"?M===null||M===0||M==="0"||String(M).toUpperCase()==="NE":H==="Ej tillämplig"?String(M).toUpperCase()==="NA":H==="Signalart"?p.original.SIGNAL_art==="S":H===M)},cell:({row:p})=>{const w=p.getValue("RL2020kat"),E=ee(ne,{color:Q(w),variant:"subtle"},()=>ce(w)),M=p.original.SIGNAL_art==="S"?ee(ne,{color:"signal",variant:"subtle"},"Signalart"):null;return ee("div",{class:"flex gap-1"},[E,M].filter(Boolean))},meta:{headerText:"Status"}},{accessorKey:l.obs,header:({column:p})=>{const w=p.getIsSorted();return ee(ve,{color:"neutral",variant:"outline",label:l.obsLabel,icon:w?w==="asc"?"i-lucide-arrow-up-narrow-wide":"i-lucide-arrow-down-wide-narrow":"i-lucide-arrow-up-down",class:"-mx-2.5 ring-muted/50 shadow",onClick:()=>p.toggleSorting(w==="asc")})},cell:({row:p})=>{const w=p.getValue(l.obs);return l.obs.startsWith("Rank")?w===3?ee("span",{class:"text-red-700"},"Sällsynt"):w===2?ee("span",{class:"text-yellow-600"},"Ovanlig"):null:ee(ne,{variant:"subtle",color:"secondary"},()=>`${w} skogar`)},meta:{headerText:l.obsLabel}}],ut=[{header:"Namn",cell:({row:p})=>{const w=p.original.images||[];let E=null;const M=l.filterPoison?p.original["Rank giftsvamp"]:l.filterEdible?p.original["Rank matsvamp"]:p.original.RankRed;M===3?E=ee(Ae,{name:"codicon:circle-large-filled",class:"text-red-700 ml-1 size-3.5"}):M===2&&(E=ee(Ae,{name:"codicon:color-mode",class:"text-yellow-600 ml-1 size-3.5"}));const H=w.length?ee("img",{src:w[0],alt:p.original.Commonname||"Svampbild",class:"h-20 w-26 object-cover rounded sm:rounded-md border-[0.5px] border-neutral-200 dark:border-neutral-800 md:ml-2",loading:"lazy",decoding:"async",height:300,width:450}):ee("div",{class:"h-20 w-26 rounded-sm flex items-center justify-center bg-neutral-100 dark:bg-neutral-800 md:ml-2"},[ee("img",{src:G(p.original[l.grupp]),alt:`${p.original[l.grupp]||"Svamp"} icon`,class:"w-6 h-6",loading:"lazy",decoding:"async"})]),ae=ee("div",{class:"flex items-center text-neutral-700 dark:text-neutral-200"},[ee("div",{class:"flex-1 min-w-0"},[ee("div",{class:"text-lg font-semibold whitespace-normal break-words"},[z(p.original.Commonname),E]),ee("small",{class:"text-xs text-neutral-500 dark:text-neutral-400 italic block truncate max-w-48"},p.original.Scientificname)])]),ie=p.original[l.mat];(l.mat==="Nyasvamp-boken"?ie&&String(ie).toLowerCase()==="x":ie===1)&&ee(ne,{color:"warning",variant:"subtle",size:"sm"},()=>"Matsvamp");const N=ee("div",{class:"flex flex-wrap gap-2 mt-2 "},[p.original.RL2020kat!=="LC"&&p.original.RL2020kat!=="NA"&&p.original.RL2020kat!=="NE"&&p.original.RL2020kat!=="0"?ee(ne,{color:Q(p.original.RL2020kat),variant:"subtle",size:"md"},()=>ce(p.original.RL2020kat)):null,p.original.SIGNAL_art==="S"?ee(ne,{color:"signal",variant:"subtle",size:"md"},()=>"Signalart"):null,l.dataType==="edna"?ee(we,{modelValue:p.getValue(l.obs),max:F.value,color:"secondary",size:"sm",status,indeterminate:!1,"onUpdate:modelValue":()=>{}}):null].filter(Boolean));return ee("div",{class:"flex space-x-4 items-start"},[H,ee("div",{class:"flex flex-col flex-1"},[ae,N])])},meta:{headerText:"Namn"}},...Ze.map(p=>p.accessorKey==="mark"?{...p,enableHiding:l.dataType!=="edna"}:p)],Pe=I(()=>o.value?ut:Ze),So=I(()=>({thead:o.value?"hidden":"hidden md:table-header-group",tbody:o.value?"divide-none":"divide-none md:divide-dotted",td:o.value?"px-0 pt-2 pb-3 cursor-pointer":"px-0 md:px-4 md:pt-4 md:pb-4 pt-2 pb-3"})),dt=W(0),Mt=W(0),je=W([]),Xe=W(!0),yn=W([]),wo=(p,w,E)=>{const M=(w[0]-p[0])/(E-1),H=(w[1]-p[1])/(E-1),ae=(w[2]-p[2])/(E-1),ie=[];for(let fe=0;fe<E;fe++){const N=Math.round(p[0]+M*fe),ue=Math.round(p[1]+H*fe),re=Math.round(p[2]+ae*fe);ie.push(`rgb(${N}, ${ue}, ${re})`)}return ie},ct=()=>{je.value=[],dt.value=0,Mt.value=0,yn.value=[]},ko=async()=>{if([xe.geography,xe.forestType,xe.standAge,xe.vegetationType].some(E=>!E)){ct(),Xe.value=!1;return}if(l.dataTypeFolder==="edna"&&!Et(xe.geography,xe.forestType,xe.standAge,xe.vegetationType)){ct(),Xe.value=!1;return}const w=`${l.dataType}-${xe.geography}-${xe.forestType}-${xe.standAge}-${xe.vegetationType}.json`;try{const E=await fetch(`/${l.dataTypeFolder}/${w}`);if(!E.ok){if(E.status===404){ct(),Xe.value=!1;return}throw new Error(`Failed to fetch data from ${w}`)}je.value=await E.json(),Xe.value=!1,je.value.forEach((ie,fe)=>{ie.colorIndex=fe});const M=je.value.length;dt.value=Math.floor(M*.1),Mt.value=M-dt.value;const H=wo([82,82,82],[212,212,212],dt.value),ae=Co(Mt.value);yn.value=[...H,...ae]}catch(E){console.error("Error fetching data:",E),ct(),Xe.value=!1}};function Co(p){const w=[];for(let H=0;H<p;H++){const ae=45+300/(p-1||1)*H;w.push(`hsl(${ae%360}, 70%, 50%)`)}return w}const xe=Ge();ge(()=>[xe.geography,xe.forestType,xe.standAge,xe.vegetationType],()=>{Xe.value=!0,ko()},{immediate:!0});const Sn=W(""),Je=I(()=>{let p=je.value;return Sn.value&&(p=p.filter(w=>Object.values(w).some(E=>String(E).toLowerCase().includes(Sn.value.toLowerCase())))),l.filterEdible?p=p.filter(w=>{const E=w[l.mat];return E&&String(E).toLowerCase()==="x"}):l.filterPoison&&(p=p.filter(w=>{const E=w[l.mat];return!(E&&String(E).toLowerCase()==="x")})),p}),xo=I(()=>Je.value);ge(y,p=>{let w=p==="Alla"?pt.value||je.value.length:Number(p);U.value.pageSize=w,U.value.pageIndex=0,d.value?.tableApi&&(d.value.tableApi.setPageSize(w),d.value.tableApi.setPageIndex(0))});const _o=I(()=>d.value?.tableApi?.getPaginationRowModel().rows||[]),gt=I(()=>d.value?.tableApi?.getState().pagination||{pageIndex:0,pageSize:10}),Ro=I(()=>gt.value.pageIndex*gt.value.pageSize+1),$o=I(()=>{const p=gt.value.pageIndex*gt.value.pageSize+_o.value.length;return p>pt.value?pt.value:p}),pt=I(()=>d.value?.tableApi?.getFilteredRowModel()?.rows.length||0),wn=I(()=>{const p=l.searchTerm?[{id:"Commonname",value:l.searchTerm}]:[];return k.value&&k.value.length>0&&p.push({id:l.mat,value:k.value}),L.value&&L.value.length>0&&p.push({id:"RL2020kat",value:L.value}),te.value&&te.value.length>0&&p.push({id:l.grupp,value:te.value}),c.value&&c.value.length>0&&p.push({id:"mark",value:c.value}),p}),ft=(p,w)=>{const E=d.value?.tableApi?.getFilteredRowModel()?.rows||[];if(!E.length)return!1;if(p==="mark")return w==="KALKmark"?E.some(M=>M.original.KALKmark):w==="ANNANmark"?E.some(M=>M.original.ANNANmark):!1;if(p===l.mat){if(w==="Matsvamp")return E.some(M=>{const H=M.original[l.mat];return l.mat==="Nyasvamp-boken"?H&&String(H).toLowerCase()==="x":H==1});if(w==="Giftsvamp")return E.some(M=>(M.original.Giftsvamp||"").toLowerCase()==="x")}return E.some(M=>{if(p==="RL2020kat"){if(w==="Ej bedömd"){const H=M.original.RL2020kat;return H===null||H===0||H==="0"||String(H).toUpperCase()==="NE"}return w==="Ej tillämplig"?String(M.original.RL2020kat).toUpperCase()==="NA":w==="Signalart"?M.original.SIGNAL_art==="S":M.original.RL2020kat===w}return M.getValue(p)===w})};return ge(wn,p=>{d.value?.tableApi&&d.value.tableApi.setColumnFilters(p)}),ge(wn,p=>{const E=p.find(fe=>fe.id===l.mat)?.value??[];a("update:matsvampFilter",E.includes("Matsvamp")),a("update:giftsvampFilter",E.includes("Giftsvamp"));const H=p.find(fe=>fe.id===l.grupp)?.value??[];a("update:gruppFilter",H);const ie=p.find(fe=>fe.id==="RL2020kat")?.value??[];a("update:statusFilter",ie)},{deep:!0,immediate:!0}),(p,w)=>{const E=Kn,M=Wn,H=jn,ae=el,ie=yo,fe=Hn;return h(),V("div",ol,[R("div",al,[o.value?O("",!0):(h(),V("div",il,[R("div",rl,[C(E,{"model-value":x(d)?.tableApi?.getColumn("Commonname")?.getFilterValue()||"",class:"max-w-sm min-w-[12ch] hidden md:block",placeholder:"Sök på namn",icon:"i-heroicons-magnifying-glass","onUpdate:modelValue":w[0]||(w[0]=N=>{x(d)?.tableApi?.getColumn("Commonname")?.setFilterValue(N),s(N)}),variant:"ghost"},null,8,["model-value"]),R("div",ll,[R("div",sl,[c.value.length?(h(!0),V(he,{key:0},be(c.value,N=>(h(),V("span",{key:"mark-"+N},[C(x(ne),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:N==="KALKmark"?"kalkmark":N==="ANNANmark"?"vanligmark":"neutral",class:K(["cursor-pointer mb-2 md:mb-0",ft("mark",N)?"":"opacity-50"]),onClick:ue=>c.value=c.value.filter(re=>re!==N)},{default:T(()=>[le(oe(N==="KALKmark"?"Kalkmark":N==="ANNANmark"?"Vanlig skogsmark":z(N)),1)]),_:2},1032,["color","class","onClick"])]))),128)):O("",!0),k.value.length?(h(!0),V(he,{key:1},be(k.value,N=>(h(),V("span",{key:"svamp-"+N},[C(x(ne),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:N==="Matsvamp"?"warning":N==="Giftsvamp"?"poison":"neutral",class:K(["cursor-pointer mb-2 md:mb-0",ft(l.mat,N)?"":"opacity-50"]),onClick:ue=>k.value=k.value.filter(re=>re!==N)},{default:T(()=>[le(oe(z(N)),1)]),_:2},1032,["color","class","onClick"])]))),128)):O("",!0),te.value.length?(h(!0),V(he,{key:2},be(te.value,N=>(h(),V("span",{key:"grupp-"+N},[C(x(ne),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:"neutral",class:K(["cursor-pointer mb-2 md:mb-0",ft(l.grupp,N)?"":"opacity-50"]),onClick:ue=>te.value=te.value.filter(re=>re!==N)},{default:T(()=>[le(oe(z(N)),1)]),_:2},1032,["class","onClick"])]))),128)):O("",!0),L.value.length?(h(!0),V(he,{key:3},be(L.value,N=>(h(),V("span",{key:"status-"+N},[C(x(ne),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:N==="Signalart"?"signal":Q(N),class:K(["cursor-pointer mb-2 md:mb-0",ft("RL2020kat",N)?"":"opacity-50"]),onClick:ue=>L.value=L.value.filter(re=>re!==N)},{default:T(()=>[le(oe(N==="Signalart"?"Signalart":ce(N)),1)]),_:2},1032,["color","class","onClick"])]))),128)):O("",!0)]),o.value?O("",!0):(h(),j(x(ke),{key:0,class:"flex",items:x(d)?.tableApi?.getAllColumns()?.filter(N=>N.getCanHide())?.map(N=>({label:N.columnDef.meta?.headerText||x(On)(N.id),type:"checkbox",checked:N.getIsVisible(),onUpdateChecked(ue){x(d)?.tableApi?.getColumn(N.id)?.toggleVisibility(!!ue)},onSelect(ue){ue?.preventDefault()}})),content:{align:"end"},ui:{content:"min-w-fit"}},{default:T(()=>[C(x(ve),{label:"Kolumner",color:"neutral",variant:"ghost","trailing-icon":"i-lucide-chevron-down"})]),_:1},8,["items"])),e.isNormalView?O("",!0):(h(),V("div",ul,[C(M,{modelValue:y.value,"onUpdate:modelValue":w[1]||(w[1]=N=>y.value=N),items:[{value:10,label:"10 rader"},{value:20,label:"20 rader"},{value:30,label:"30 rader"},{value:40,label:"40 rader"},{value:50,label:"50 rader"},{value:"Alla",label:"Alla"}],"item-value":"value","item-label":"label",placeholder:"Rader per sida",variant:"ghost"},null,8,["modelValue"])]))])])])),o.value?(h(),V("div",dl,[c.value.length?(h(!0),V(he,{key:0},be(c.value,N=>(h(),V("span",{key:"mark-"+N},[C(x(ne),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:N==="KALKmark"?"kalkmark":N==="ANNANmark"?"vanligmark":"neutral",class:"cursor-pointer mb-2 md:mb-0",onClick:ue=>c.value=c.value.filter(re=>re!==N)},{default:T(()=>[le(oe(N==="KALKmark"?"Kalkmark":N==="ANNANmark"?"Vanlig skogsmark":z(N)),1)]),_:2},1032,["color","onClick"])]))),128)):O("",!0),k.value.length?(h(!0),V(he,{key:1},be(k.value,N=>(h(),V("span",{key:"svamp-"+N},[C(x(ne),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:N==="Matsvamp"?"warning":N==="Giftsvamp"?"poison":"neutral",class:"cursor-pointer mb-2 md:mb-0",onClick:ue=>k.value=k.value.filter(re=>re!==N)},{default:T(()=>[le(oe(z(N)),1)]),_:2},1032,["color","onClick"])]))),128)):O("",!0),te.value.length?(h(!0),V(he,{key:2},be(te.value,N=>(h(),V("span",{key:"grupp-"+N},[C(x(ne),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:"neutral",class:"cursor-pointer mb-2 md:mb-0",onClick:ue=>te.value=te.value.filter(re=>re!==N)},{default:T(()=>[le(oe(z(N)),1)]),_:2},1032,["onClick"])]))),128)):O("",!0),L.value.length?(h(!0),V(he,{key:3},be(L.value,N=>(h(),V("span",{key:"status-"+N},[C(x(ne),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:N==="Signalart"?"signal":Q(N),class:"cursor-pointer mb-2 md:mb-0",onClick:ue=>L.value=L.value.filter(re=>re!==N)},{default:T(()=>[le(oe(N==="Signalart"?"Signalart":ce(N)),1)]),_:2},1032,["color","onClick"])]))),128)):O("",!0)])):O("",!0)]),o.value?(h(),V("div",cl,[C(x(ke),{size:x(t)?"xl":"md",items:_.value,content:{align:"start"},ui:{content:"min-w-fit"}},{default:T(()=>[C(x(ve),{variant:x(t)?"soft":"ghost",icon:"i-lucide-arrow-up-down",size:x(t)?"xl":"md",label:(x(t),null),color:"neutral",trailing:""},null,8,["variant","size","label"])]),_:1},8,["size","items"]),C(x(ke),{size:x(t)?"xl":"md",items:S.value,content:{align:"start"},ui:{content:"min-w-fit"}},{default:T(()=>[C(x(ve),{variant:x(t)?"soft":"ghost",icon:"i-lucide-list-filter",size:x(t)?"xl":"md",label:(x(t),null),color:"neutral"},null,8,["variant","size","label"])]),_:1},8,["size","items"]),C(E,{variant:x(t)?"soft":"ghost","model-value":x(d)?.tableApi?.getColumn("Commonname")?.getFilterValue()||"",class:"w-full min-w-[12ch]",placeholder:"Sök på namn",size:x(t)?"xl":"md",icon:"i-heroicons-magnifying-glass","onUpdate:modelValue":w[2]||(w[2]=N=>{x(d)?.tableApi?.getColumn("Commonname")?.setFilterValue(N),s(N)})},null,8,["variant","model-value","size"])])):O("",!0),C(H,{ui:{border:"border-muted/50"},class:"mb-2"}),Je.value?(h(),V("div",{key:1,class:K([(e.isNormalView,"")])},[R("div",gl,[C(ae,{ref_key:"table",ref:d,"column-visibility":b.value,"onUpdate:columnVisibility":w[3]||(w[3]=N=>b.value=N),pagination:U.value,"onUpdate:pagination":w[4]||(w[4]=N=>U.value=N),data:xo.value,columns:Pe.value,sticky:"",loading:Xe.value,sorting:Se.value,"onUpdate:sorting":w[5]||(w[5]=N=>Se.value=N),onSelect:D,autoResetAll:!0,"pagination-options":x(t)&&!e.isNormalView?!1:e.isNormalView?void 0:{getPaginationRowModel:x(Dr)()},class:K([{"":e.isNormalView},"rounded-sm"]),ui:So.value},null,8,["column-visibility","pagination","data","columns","loading","sorting","pagination-options","class","ui"]),o.value?O("",!0):(h(),V("div",pl,[R("div",fl,[R("h1",ml,[w[8]||(w[8]=le(" Visar ",-1)),R("span",vl,"  "+oe(Ro.value)+" till  ",1),le(" "+oe($o.value)+" av "+oe(pt.value)+" arter ",1)]),e.isNormalView?(h(),j(x(ve),{key:0,class:"md:hidden",color:"neutral",variant:"soft",label:"Visa alla",size:"md",onClick:w[6]||(w[6]=N=>a("enlarge"))})):O("",!0)]),R("div",null,[!e.isNormalView&&y.value!=="Alla"&&!x(t)?(h(),V("div",hl,[R("div",bl,[C(ie,{"active-variant":"ghost",variant:"ghost","default-page":(x(d)?.tableApi?.getState().pagination.pageIndex||0)+1,"items-per-page":x(d)?.tableApi?.getState().pagination.pageSize,total:x(d)?.tableApi?.getFilteredRowModel().rows.length,"onUpdate:page":w[7]||(w[7]=N=>x(d)?.tableApi?.setPageIndex(N-1))},null,8,["default-page","items-per-page","total"])])])):O("",!0)])]))])],2)):(h(),V("div",yl,[R("div",Sl,[C(fe,{class:"h-4 w-full rounded"}),C(fe,{class:"h-4 w-[85%] rounded"})])]))])}}},Nt=ze(wl,[["__scopeId","data-v-72e3b175"]]),kl={key:0,class:"flex justify-end gap-2 mb-2 mx-2"},Cl=$e({__name:"barChart",props:{searchTerm:{type:String,default:""},matsvampFilter:{type:Boolean,default:!1},giftsvampFilter:{type:Boolean,default:!1},gruppFilter:{type:Array,default:()=>[]},groupKey:{type:String,default:"Svamp-grupp-släkte"},statusFilter:{type:Array,default:()=>[]}},setup(e){const n=e,t=["100%","200%","400%","800%"],o=W(0),a=I(()=>t[o.value]),i=W([]),r=Ge();function s(_){return _.sort((S,$)=>$.sample_plot_count-S.sample_plot_count)}function l(_,S,$){if($<=0)return[];const Z=(S[0]-_[0])/($-1||1),U=(S[1]-_[1])/($-1||1),A=(S[2]-_[2])/($-1||1),D=[];for(let z=0;z<$;z++){const F=Math.round(_[0]+Z*z),G=Math.round(_[1]+U*z),Q=Math.round(_[2]+A*z);D.push(`rgb(${F}, ${G}, ${Q})`)}return D}function d(_){const S=[];for(let U=0;U<_;U++){const A=45+300/(_-1||1)*U;S.push(`hsl(${A%360}, 70%, 50%)`)}return S}async function f(){const _=[r.geography,r.forestType,r.standAge,r.vegetationType];if(_.some($=>!$)){i.value=[];return}if(!Et(..._)){i.value=[];return}const S=`edna-${r.geography}-${r.forestType}-${r.standAge}-${r.vegetationType}.json`;try{const $=await fetch(`/edna/${S}`);if(!$.ok){if($.status===404){i.value=[];return}throw new Error(`Failed to fetch ${S}`)}let Z=await $.json();Z=s(Z);const U=Z.length,A=Math.floor(U*.1),D=U-A,z=l([82,82,82],[212,212,212],A),F=d(D),G=[...z,...F];i.value=Z.map((Q,ce)=>({...Q,fillColor:G[ce]||"var(--ui-primary)"}))}catch($){console.error("Error fetching chart data:",$),i.value=[]}}tt(f),ge(()=>[r.geography,r.forestType,r.standAge,r.vegetationType],f,{immediate:!0});const b=(_,S)=>S,c=_=>_.sample_plot_count,u=(_,S)=>{const $=k.value[S];if(!$)return"";const Z=n.searchTerm.trim().toLowerCase(),U=String($.Commonname||"").toLowerCase(),A=String($.Scientificname||"").toLowerCase(),D=Z?U.includes(Z)||A.includes(Z):!0,z=n.statusFilter.length>0,F=n.matsvampFilter||n.giftsvampFilter,G=n.gruppFilter.length>0;if(!z&&!F&&!G&&n.searchTerm.trim()!=="")return D?g($.Commonname):"";const Q=z&&n.statusFilter.includes("Signalart")&&$.SIGNAL_art==="S",ce=n.statusFilter.filter(Ae=>Ae!=="Signalart"),Ce=z&&n.statusFilter.includes("Ej bedömd")&&($.RL2020kat===null||$.RL2020kat===0||$.RL2020kat==="0"||String($.RL2020kat).toUpperCase()==="NE"),Se=z&&n.statusFilter.includes("Ej tillämplig")&&String($.RL2020kat).toUpperCase()==="NA",ne=z?Q||ce.includes($.RL2020kat):!1,we=n.matsvampFilter?$.matsvamp==1:!1,ve=n.giftsvampFilter?($.Giftsvamp||"").toLowerCase()==="x":!1,ke=G?n.gruppFilter.includes($[n.groupKey]):!1;return z?!F&&!G?D&&(Q||ne||Ce||Se)?g($.Commonname):"":D&&(Q||ne||Ce||Se)&&(F?we||ve:!0)&&(G?ke:!0)?g($.Commonname):"":F||G?F&&!G?D&&(we||ve)?g($.Commonname):"":!F&&G?D&&ke?g($.Commonname):"":D&&(we||ve)&&ke?g($.Commonname):"":""};function g(_){return _?_.charAt(0).toUpperCase()+_.slice(1):""}const m=W(null);function v(_){if(!_)return m.value=null,'<div class="p-2 text-sm text-neutral-500">Ingen data</div>';m.value=_;const S=_.matsvamp==1?'<div class="font-md bg-yellow-50 border border-yellow-200 text-yellow-500 text-xs rounded-md py-0.5 px-1">Matsvamp</div>':"",$=_.Giftsvamp==="x"?'<div class="font-md bg-lime-50 border border-lime-200 text-lime-500 text-xs rounded-md py-0.5 px-1">Giftsvamp</div>':"",Z={NT:"Nära hotad",EN:"Starkt hotad",VU:"Sårbar",CR:"Akut hotad",DD:"Kunskapsbrist",RE:"Nationellt utdöd"},U=Z[_.RL2020kat]?`<div class="font-md bg-rose-50 border border-rose-200 text-rose-500 text-xs rounded-md py-0.5 px-1">${Z[_.RL2020kat]}</div>`:"",A=_.SIGNAL_art==="S"?'<div class="font-md bg-teal-50 border border-teal-200 text-teal-500 text-xs rounded-md py-0.5 px-1">Signalarter</div>':"";return`
    <div class="p-2">
      <img src="/images/svampgrupp/${_["Svamp-grupp-släkte"]}.png" class="h-5 mb-1" />
      <div class="text-sm flex gap-1">
        <strong>${g(_.Commonname)}</strong> <em>${g(_.Scientificname)}</em>
      </div>
      <div class="text-sm text-neutral-500">
        Påträffad i ${_.sample_plot_count} av ${_.sample_env_count} skogar
      </div>
      <div class="flex gap-1 mt-1">
        ${S} ${$} ${U} ${A}
      </div>
    </div>
  `}const y={[pn.selectors.bar]:v},k=I(()=>{const _="#d4d4d4";return i.value.map(S=>{if(pe.value&&S.Scientificname===te.selectedSpecies?.Scientificname)return{...S,barColor:"#b1835e"};const $=n.searchTerm.trim().toLowerCase(),Z=String(S.Commonname||"").toLowerCase(),U=String(S.Scientificname||"").toLowerCase(),A=$?Z.includes($)||U.includes($):!0,D=n.statusFilter.length>0,z=n.matsvampFilter||n.giftsvampFilter,F=n.gruppFilter.length>0;if(!D&&!z&&!F&&n.searchTerm.trim()!=="")return{...S,barColor:A?"#8b5cf6":_};const G=D&&n.statusFilter.includes("Signalart")&&S.SIGNAL_art==="S",Q=n.statusFilter.filter(ke=>ke!=="Signalart"),ce=D&&n.statusFilter.includes("Ej bedömd")&&(S.RL2020kat===null||S.RL2020kat===0||S.RL2020kat==="0"||String(S.RL2020kat).toUpperCase()==="NE"),Ce=D&&n.statusFilter.includes("Ej tillämplig")&&String(S.RL2020kat).toUpperCase()==="NA",Se=D?G||Q.includes(S.RL2020kat):!1,ne=n.matsvampFilter?S.matsvamp==1:!1,we=n.giftsvampFilter?(S.Giftsvamp||"").toLowerCase()==="x":!1,ve=F?n.gruppFilter.includes(S[n.groupKey]):!1;if(D){if(!z&&!F)return A&&G?{...S,barColor:"#14b8a6"}:A&&(G||Se||ce||Ce)?G?{...S,barColor:"#14b8a6"}:S.RL2020kat==="LC"?{...S,barColor:"#22c55e"}:["NT","EN","VU","CR"].includes(S.RL2020kat)?{...S,barColor:"#ef4444"}:ce||Ce?{...S,barColor:"#737373"}:{...S,barColor:"#1f2937"}:{...S,barColor:_};if(A&&(G||Se||ce||Ce)&&(z?ne||we:!0)&&(F?ve:!0)){if(G)return{...S,barColor:"#14b8a6"};if(Q.length>0)return S.RL2020kat==="LC"?{...S,barColor:"#22c55e"}:["NT","EN","VU","CR"].includes(S.RL2020kat)?{...S,barColor:"#ef4444"}:ce||Ce?{...S,barColor:"#737373"}:{...S,barColor:"#1f2937"};if(n.matsvampFilter&&ne)return{...S,barColor:"#eab308"};if(n.giftsvampFilter&&we)return{...S,barColor:"#84cc16"};if(F&&ve)return{...S,barColor:"#000000"}}return{...S,barColor:_}}if(z||F){if(z&&!F)return A&&ne?{...S,barColor:"#eab308"}:A&&we?{...S,barColor:"#84cc16"}:{...S,barColor:_};if(!z&&F)return A&&ve?{...S,barColor:"#000000"}:{...S,barColor:_};if(A&&(ne||we)&&ve){if(ne)return{...S,barColor:"#eab308"};if(we)return{...S,barColor:"#84cc16"}}return{...S,barColor:_}}return{...S,barColor:S.fillColor||"var(--ui-primary)"}})}),L=_=>_.barColor,q=I(()=>k.value.length>0);ge(k,_=>{_.length||(m.value=null)});function B(){o.value<t.length-1&&o.value++}function J(){o.value>0&&o.value--}const te=Pt(),pe=I(()=>te.selectedSpecies!==null),me=Ye("(max-width: 767px)");function P(_){m.value?te.selectSpecies(m.value,"edna"):console.log("No datum available from tooltip.")}return(_,S)=>{const $=Re;return h(),V("div",null,[x(me)?O("",!0):(h(),V("div",kl,[C($,{onClick:J,icon:"i-heroicons-magnifying-glass-minus",color:"neutral",variant:"ghost"}),C($,{onClick:B,icon:"i-heroicons-magnifying-glass-plus",color:"neutral",variant:"ghost"})])),x(me)?O("",!0):(h(),V("div",{key:1,class:K(["w-full overflow-y-auto overflow-x-scroll",{"bar-chart-container":o.value===0}]),onClick:P},[C(x(Ra),{data:k.value,width:a.value,height:"200"},{default:T(()=>[C(x(li),{data:k.value,x:b,y:c,color:L,barPadding:.1},null,8,["data"]),C(x(Rn),{gridLine:!1,type:"x",tickTextAnchor:"start",tickTextAngle:"30",numTicks:k.value.length,tickTextFitMode:"trim",tickTextWidth:150,tickTextAlign:"left","tick-format":u},null,8,["numTicks"]),C(x(Rn),{type:"y",label:"Antal skogar",gridLine:!1}),q.value?(h(),j(x(ui),{key:0,triggers:y,followCursor:!0})):O("",!0),q.value?(h(),j(x(ii),{key:1,color:L,template:v})):O("",!0)]),_:1},8,["data","width"])],2))])}}}),xl=Object.assign(ze(Cl,[["__scopeId","data-v-d920ae28"]]),{__name:"BarChart"}),Tt=ea("tabs",{state:()=>({componentTabs:{EdnaComponent:"columnChart",RedlistedComponent:"grid",FullscreenEdible:"grid",FullscreenPoison:"grid"}}),getters:{getActiveTab:e=>n=>e.componentTabs[n]||"grid"},actions:{setActiveTab(e,n){this.componentTabs[e]=n}}}),_l={class:"md:flex justify-between relative"},Rl={class:"md:flex gap-4"},$l={class:"md:mt-0 mt-1 mb-1 md:mb-2"},Fl={class:"text-3xl font-medium flex items-center text-secondary-500"},Ll={class:"flex gap-2"},Pl={class:"text-md text-neutral-500"},Vl={class:"justify-between hidden"},Al={class:"flex gap-3 items-start"},Il={key:0,class:""},El={key:1,class:""},Nl=$e({__name:"EdnaComponent",props:{isNormalView:{type:Boolean}},emits:["enlarge"],setup(e,{emit:n}){const t=W(!1),o=W(!1),a=W([]),i=W([]),r=W(""),s=W(!0),l=n,d=Tt(),f=I({get:()=>me.value?"spatialForest":d.getActiveTab("EdnaComponent"),set:S=>{me.value||d.setActiveTab("EdnaComponent",S)}}),b=[{label:"Diagram",icon:"material-symbols:bar-chart",value:"columnChart"},{label:"Tabell",icon:"material-symbols:table-outline",value:"spatialForest"}],c=Ge(),{geography:u,forestType:g,standAge:m,vegetationType:v}=ta(c),y=I(()=>u.value),k=I(()=>g.value),L=I(()=>m.value),q=I(()=>v.value),B=W([]),J=I(()=>B.value.length),te=I(()=>B.value.length>0&&B.value[0].sample_env_count||0),pe=W("100%"),me=Ye("(max-width: 767px)"),P=I(()=>({mark:!1,...me.value?{images:!1}:{}}));async function _(S,$,Z,U){if(!S||!$||!Z||!U){B.value=[];return}if(!Et(S,$,Z,U)){B.value=[];return}const A=`edna-${S}-${$}-${Z}-${U}.json`;try{const D=await fetch(`/edna/${A}`);if(!D.ok){if(D.status===404){B.value=[];return}throw new Error(`Failed to fetch ${A}`)}const z=await D.json();z.sort((F,G)=>G.sample_plot_count-F.sample_plot_count),B.value=z}catch(D){console.error("Error fetching data:",D),B.value=[]}}return ge(()=>[u.value,g.value,m.value,v.value],([S,$,Z,U])=>{S&&$&&Z&&U&&_(S,$,Z,U)},{immediate:!0}),(S,$)=>{const Z=Re,U=Ne,A=$t,D=Vt,z=Nt,F=xl,G=nt;return h(),V("div",null,[C(G,{class:"rounded-none sm:rounded-lg",variant:"ghost"},{default:T(()=>[R("div",_l,[C(Z,{color:"neutral",variant:"soft",size:"xl",onClick:$[0]||($[0]=Q=>S.$emit("enlarge")),class:K([S.isNormalView?"hidden":"md:hidden","rounded-full absolute top-0 right-0"]),icon:S.isNormalView?"":"i-heroicons-x-mark-solid"},null,8,["class","icon"]),R("div",Rl,[R("div",$l,[R("div",Fl,[C(U,{name:"solar:dna-linear",class:"mr-2"}),$[10]||($[10]=R("h1",{class:"truncate"},"Alla mykorrhizasvampar",-1))]),R("div",Ll,[R("h1",Pl,oe(J.value)+" arter baserat på "+oe(te.value)+" skogar",1),te.value<10?(h(),j(A,{key:0,icon:te.value<10?"i-cuida-warning-outline":void 0,size:"md",color:te.value<10?"warning":"secondary",variant:"subtle",class:"h-fit flex"},{default:T(()=>[le(oe(te.value<10?"Få prov":null),1)]),_:1},8,["icon","color"])):O("",!0)])]),R("div",Vl,[C(D,{modelValue:f.value,"onUpdate:modelValue":$[1]||($[1]=Q=>f.value=Q),items:b,class:"w-full",color:"neutral",variant:"link","unmount-on-hide":!1},null,8,["modelValue"])])]),R("div",Al,[C(Z,{class:"hidden md:flex h-fit ring-muted/60",color:"neutral",variant:"outline",size:"sm",onClick:$[2]||($[2]=Q=>s.value=!s.value),label:s.value?"Dölj diagram":"Visa diagram"},null,8,["label"])])]),C(Be,{name:"fade",mode:"out-in",class:"md:min-h-[550px] min-h-full"},{default:T(()=>[f.value==="spatialForest"?(h(),V("div",Il,[C(z,{onEnlarge:$[3]||($[3]=Q=>l("enlarge")),isNormalView:S.isNormalView,"column-visibility-overrides":P.value},null,8,["isNormalView","column-visibility-overrides"])])):f.value==="columnChart"?(h(),V("div",El,[s.value?(h(),j(F,{key:0,class:"mb-6",chartData:B.value,chartWidth:pe.value,geography:y.value,forestType:k.value,standAge:L.value,vegetationType:q.value,matsvampFilter:t.value,giftsvampFilter:o.value,gruppFilter:a.value,statusFilter:i.value,"search-term":r.value},null,8,["chartData","chartWidth","geography","forestType","standAge","vegetationType","matsvampFilter","giftsvampFilter","gruppFilter","statusFilter","search-term"])):O("",!0),C(z,{onEnlarge:$[4]||($[4]=Q=>l("enlarge")),"onUpdate:matsvampFilter":$[5]||($[5]=Q=>t.value=Q),"onUpdate:giftsvampFilter":$[6]||($[6]=Q=>o.value=Q),"onUpdate:gruppFilter":$[7]||($[7]=Q=>a.value=Q),"onUpdate:statusFilter":$[8]||($[8]=Q=>i.value=Q),"onUpdate:searchTerm":$[9]||($[9]=Q=>r.value=Q),isNormalView:S.isNormalView,"column-visibility-overrides":P.value,"search-term":r.value},null,8,["isNormalView","column-visibility-overrides","search-term"])])):O("",!0)]),_:1})]),_:1})])}}}),An=Object.assign(ze(Nl,[["__scopeId","data-v-d27777d3"]]),{__name:"EdnaComponent"}),Tl={class:"p-2 flex gap-2"},Ml={class:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-8 gap-4 p-2"},zl=["onClick"],Dl={class:"w-full h-24 relative"},Bl=["src"],Ol={key:1,class:"w-full h-full flex items-center justify-center bg-neutral-200 dark:bg-neutral-700"},Gl={class:"absolute bottom-1 left-1 flex gap-1"},jl={class:"p-2 pt-1"},ql={class:"text-sm font-medium text-neutral-500 dark:text-neutral-300 truncate"},Ul={class:"flex justify-between items-center px-5 py-2"},bn={__name:"SpeciesGrid",props:{isNormalView:Boolean,dataTypeFolder:{type:String,default:"edna"},dataType:{type:String,default:"data"},filterEdible:{type:Boolean,default:!1},filterPoison:{type:Boolean,default:!1},grupp:{type:String,default:"Svamp-grupp"}},setup(e){const n=W([]),t=W([]),o=[{value:"LC",label:"Livskraftig"},{value:"NT",label:"Nära hotad"},{value:"EN",label:"Starkt hotad"},{value:"VU",label:"Sårbar"},{value:"CR",label:"Akut hotad"},{value:"RE",label:"Nationellt utdöd"},{value:"DD",label:"Kunskapsbrist"},{value:"Ej bedömd",label:"Ej bedömd"},{value:"Signalart",label:"Signalart"}],a=e,i=Ge(),r=Pt(),s=W([]),l=W(!0);async function d(){const{geography:P,forestType:_,standAge:S,vegetationType:$}=i,Z=`${a.dataType}-${P}-${_}-${S}-${$}.json`;try{const U=await fetch(`/${a.dataTypeFolder}/${Z}`);if(!U.ok)throw new Error(`Failed to fetch data from ${Z}`);s.value=await U.json(),l.value=!1}catch(U){console.error("Error fetching species data:",U)}}ge(()=>[i.geography,i.forestType,i.standAge,i.vegetationType],()=>{l.value=!0,d()},{immediate:!0});const f=W({column:"",direction:"asc"}),b=I(()=>{let P=s.value.slice();if(f.value?.column){const{column:_,direction:S}=f.value;P.sort(($,Z)=>{const U=$[_],A=Z[_];if(U==null&&A!=null)return 1;if(U!=null&&A==null)return-1;if(U==null&&A==null)return 0;const D=String(U).localeCompare(String(A),"sv",{numeric:!0,sensitivity:"base"});return S==="asc"?D:-D})}else P.sort((_,S)=>{const $=_.RankRed??99999,Z=S.RankRed??99999;if($!==Z)return $-Z;const U=_.Commonname?.toString().toLowerCase()||"",A=S.Commonname?.toString().toLowerCase()||"";return U.localeCompare(A,"sv",{numeric:!0,sensitivity:"base"})});return P}),c=W(""),u=I(()=>{let P=b.value;if(c.value.trim()!==""){const _=c.value.trim().toLowerCase();P=P.filter(S=>S.Commonname&&S.Commonname.toLowerCase().includes(_)||S.Scientificname&&S.Scientificname.toLowerCase().includes(_))}return a.filterEdible?P=P.filter(_=>{const S=_["Nyasvamp-boken"];return S&&String(S).toLowerCase()==="x"}):a.filterPoison&&(P=P.filter(_=>{const S=_["Nyasvamp-boken"];return!(S&&String(S).toLowerCase()==="x")})),P}),g=I(()=>o.map(P=>{let _=0;return P.value==="Ej bedömd"?_=u.value.filter(S=>{const $=String(S.RL2020kat).trim();return["0","NA","NE","Saknas","null"].includes($)}).length:P.value==="Signalart"?_=u.value.filter(S=>S.SIGNAL_art==="S").length:_=u.value.filter(S=>String(S.RL2020kat).trim()===P.value).length,{...P,label:`${P.label} (${_})`}})),m=I(()=>{const P={};return u.value.forEach(_=>{const S=_[a.grupp];if(S!=null){const $=String(S).trim();$&&$.toLowerCase()!=="undefined"&&(P[$]=(P[$]||0)+1)}}),Object.keys(P).map(_=>({value:_,label:`${te(_)} (${P[_]})`}))}),v=I(()=>{let P=b.value;if(c.value.trim()!==""){const _=c.value.trim().toLowerCase();P=P.filter(S=>S.Commonname&&S.Commonname.toLowerCase().includes(_)||S.Scientificname&&S.Scientificname.toLowerCase().includes(_)),console.log("After search filtering, count:",P.length)}return n.value.length>0&&(console.log("Status filter values:",n.value),P=P.filter(_=>{const S=String(_.RL2020kat).trim(),$=n.value.some(Z=>{const U=Z&&Z.value?Z.value:Z;return U==="Ej bedömd"?["0","NA","NE","Saknas","null"].includes(S):U==="Signalart"?_.SIGNAL_art==="S":S===U});return console.log(`Row "${_.Commonname}" with RL2020kat "${S}" matches:`,$),$}),console.log("After status filtering, count:",P.length)),t.value.length>0&&(P=P.filter(_=>{const S=_[a.grupp],$=S!=null?String(S).trim():"";return t.value.includes($)})),a.filterEdible?(P=P.filter(_=>{const S=_["Nyasvamp-boken"];return S&&String(S).toLowerCase()==="x"}),console.log("After edible filtering, count:",P.length)):a.filterPoison&&(P=P.filter(_=>{const S=_["Nyasvamp-boken"];return!(S&&String(S).toLowerCase()==="x")}),console.log("After poison filtering, count:",P.length)),console.log("Final filteredData count:",P.length),P}),y=I(()=>a.isNormalView?24:32),k=W(1),L=I(()=>{const P=(k.value-1)*y.value;return v.value.slice(P,P+y.value)}),q=I(()=>v.value.length>0?(k.value-1)*y.value+1:0),B=I(()=>Math.min(k.value*y.value,v.value.length)),J=I(()=>v.value.length);I(()=>Math.ceil(J.value/y.value));function te(P){return P?P.charAt(0).toUpperCase()+P.slice(1).toLowerCase():""}function pe(P){return{LC:"Livskraftig",NT:"Nära hotad",EN:"Starkt hotad",VU:"Sårbar",CR:"Akut hotad",RE:"Nationellt utdöd",DD:"Kunskapsbrist"}[P]||"Ej bedömd"}function me(P){r.selectSpecies(P,a.dataTypeFolder)}return(P,_)=>{const S=Kn,$=Wn,Z=ln,U=$t,A=yo;return h(),V(he,null,[R("div",Tl,[C(S,{icon:"i-heroicons-magnifying-glass",modelValue:c.value,"onUpdate:modelValue":_[0]||(_[0]=D=>c.value=D),placeholder:"Sök på namn",variant:"soft"},null,8,["modelValue"]),C($,{modelValue:n.value,"onUpdate:modelValue":_[1]||(_[1]=D=>n.value=D),items:g.value,"item-value":"value","item-label":"label",placeholder:"Filtrera på status",multiple:"",variant:"soft"},null,8,["modelValue","items"]),C($,{modelValue:t.value,"onUpdate:modelValue":_[2]||(_[2]=D=>t.value=D),items:m.value,"item-value":"value","item-label":"label",placeholder:"Filtrera på grupp",multiple:"",variant:"soft"},null,8,["modelValue","items"])]),R("div",Ml,[(h(!0),V(he,null,be(L.value,(D,z)=>(h(),V("div",{key:D.Commonname+D.Scientificname+z,class:"bg-white dark:bg-neutral-800 rounded-lg border overflow-hidden border-muted/50 dark:border-neutral-700/40 hover:shadow-md transition-shadow cursor-pointer h-[126px]",onClick:F=>me(D)},[R("div",Dl,[D.images&&D.images.length?(h(),V("img",{key:0,src:D.images[0],class:"w-full h-full object-cover",alt:"Species image",height:"300",width:"450",loading:"lazy",decoding:"async"},null,8,Bl)):(h(),V("div",Ol,[C(Z,{name:"material-symbols:photo",class:"w-8 h-8 text-neutral-500"})])),R("div",Gl,[D.SIGNAL_art!=="S"&&!["LC","0","NA","NE","Saknas",null].includes(D.RL2020kat)?(h(),j(U,{key:0,class:"bg-error-50 dark:bg-error-950/80",color:"error",variant:"subtle",size:"sm",label:D.RL2020kat!=="Saknas"?pe(D.RL2020kat):"Ej bedömd"},null,8,["label"])):O("",!0),D.SIGNAL_art==="S"?(h(),j(U,{key:1,color:"signal",variant:"subtle",label:"Signalart",size:"sm"})):O("",!0)])]),R("div",jl,[R("div",ql,oe(te(D.Commonname)),1)])],8,zl))),128))]),R("div",Ul,[R("div",null,[R("p",null," Visar "+oe(q.value)+" till "+oe(B.value)+" av "+oe(J.value)+" arter ",1)]),R("div",null,[C(A,{"items-per-page":y.value,page:k.value,"onUpdate:page":_[3]||(_[3]=D=>k.value=D),total:J.value,"active-variant":"ghost",variant:"ghost"},null,8,["items-per-page","page","total"])])])],64)}}},Hl={class:"md:flex justify-between items-start"},Kl={class:"w-full flex justify-between items-start"},Wl={class:"text-md text-neutral-500 md:mb-2"},Xl={class:"md:flex gap-1 items-center hidden"},Yl={key:0},Zl={key:1},Jl={__name:"FullScreenEdible",props:{isNormalView:Boolean},emits:["enlarge"],setup(e,{emit:n}){const t=Ge(),o=W(0);async function a(u,g,m,v=null){if([t.geography,t.forestType,t.standAge,t.vegetationType].some(L=>!L)){m.value=0;return}const k=`${g}-${t.geography}-${t.forestType}-${t.standAge}-${t.vegetationType}.json`;try{const L=await fetch(`/${u}/${k}`);if(!L.ok)throw new Error("Network response was not ok");const q=await L.json();m.value=v?q.filter(B=>B[v]==="x").length:q.length}catch(L){console.error("Failed to fetch edible count",L),m.value=0}}ge(()=>[t.geography,t.forestType,t.standAge,t.vegetationType],()=>a("edible","edibledata",o,"Nyasvamp-boken"),{immediate:!0});const i=n,r=[{label:"Galleri",icon:"i-heroicons-squares-2x2",value:"grid"},{label:"Tabell",icon:"material-symbols:table-outline",value:"table"}],s=Tt(),l=e,d=Ye("(max-width: 767px)"),f=I(()=>d.value||l.isNormalView),b=I({get:()=>f.value?"table":s.getActiveTab("FullscreenEdible"),set:u=>{f.value||s.setActiveTab("FullscreenEdible",u)}}),c=I(()=>b.value==="table");return(u,g)=>{const m=Ne,v=Re,y=Vt,k=Nt,L=bn,q=nt;return h(),V("div",null,[C(q,{variant:"ghost",class:"rounded-none sm:rounded-lg"},{default:T(()=>[R("div",Hl,[R("div",Kl,[R("div",null,[R("div",{onClick:g[0]||(g[0]=B=>u.$emit("enlarge")),class:"group cursor-pointer dark:text-neutral-300 text-warning-500 text-4xl md:text-3xl font-medium flex items-center"},[C(m,{name:"icon-park-solid:knife-fork",class:"mr-2"}),g[4]||(g[4]=R("h1",null," Matsvampar ",-1)),C(m,{name:"i-lucide-arrow-right",class:"size-6 font-medium text-neutral transition-all opacity-0 group-hover:translate-x-1 group-hover:opacity-100"})]),R("h2",Wl,oe(o.value)+" arter",1)]),C(v,{color:"neutral",variant:"soft",size:"xl",onClick:g[1]||(g[1]=B=>u.$emit("enlarge")),class:K([e.isNormalView?"hidden":"md:hidden","rounded-full"]),icon:e.isNormalView?"":"i-heroicons-x-mark-solid"},null,8,["class","icon"])]),R("div",Xl,[f.value?O("",!0):(h(),j(y,{key:0,class:"flex mt-2",modelValue:b.value,"onUpdate:modelValue":g[2]||(g[2]=B=>b.value=B),items:r,variant:"pill",color:"neutral",size:"md",ui:{list:"bg-transparent",indicator:"bg-white dark:bg-black border border-neutral-300/80 dark:border-neutral-300/30",trigger:"data-[state=active]:text-neutral-700 dark:data-[state=active]:text-neutral-100/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-neutral"}},null,8,["modelValue"]))])]),C(Be,{name:"fade",mode:"out-in",class:"md:min-h-[260px]"},{default:T(()=>[c.value?(h(),V("div",Yl,[C(k,{onEnlarge:g[3]||(g[3]=B=>i("enlarge")),"is-normal-view":e.isNormalView,dataType:"edibledata",dataTypeFolder:"edible",grupp:"Svamp-grupp",mat:"Nyasvamp-boken",obs:"Rank matsvamp",obsLabel:"Sannolikhet",filterEdible:!0,"column-visibility-overrides":{mark:!1,"Nyasvamp-boken":!1}},null,8,["is-normal-view"])])):(h(),V("div",Zl,[C(L,{"is-normal-view":e.isNormalView,dataType:"edibledata",dataTypeFolder:"edible",filterEdible:!0},null,8,["is-normal-view"])]))]),_:1})]),_:1})])}}},In=ze(Jl,[["__scopeId","data-v-372515fe"]]),Ql={class:"md:flex justify-between items-start"},es={class:"md:flex gap-4"},ts={class:"w-full flex justify-between items-start"},ns={class:"text-md text-neutral-500 md:mb-2"},os={class:"md:flex gap-4 items-center hidden"},as={key:0},is={key:1},rs={__name:"FullScreenPoison",props:{isNormalView:Boolean},emits:["enlarge"],setup(e,{emit:n}){const t=Ge(),o=W(0);async function a(g,m,v,y=null){if([t.geography,t.forestType,t.standAge,t.vegetationType].some(q=>!q)){v.value=0;return}const L=`${m}-${t.geography}-${t.forestType}-${t.standAge}-${t.vegetationType}.json`;try{const q=await fetch(`/${g}/${L}`);if(!q.ok)throw new Error("Network response was not ok");const B=await q.json();v.value=y?B.filter(J=>J[y]==="x").length:B.length}catch{v.value=0}}ge(()=>[t.geography,t.forestType,t.standAge,t.vegetationType],()=>a("edible","edibledata",o,"Giftsvamp"),{immediate:!0});const i=n,r=[{label:"",icon:"i-heroicons-squares-2x2",value:"grid"},{label:"",icon:"material-symbols:table-outline",value:"table"}],s=Tt(),l=e,d=Ye("(max-width: 767px)"),f=I(()=>d.value||l.isNormalView),b=()=>{l.isNormalView&&i("enlarge")},c=I({get:()=>f.value?"table":s.getActiveTab("FullscreenEdible"),set:g=>{f.value||s.setActiveTab("FullscreenEdible",g)}}),u=I(()=>c.value==="table");return(g,m)=>{const v=Ne,y=Re,k=Vt,L=Nt,q=bn,B=nt;return h(),j(B,{variant:"ghost",class:"rounded-none sm:rounded-none border-muted/50"},{default:T(()=>[R("div",Ql,[R("div",es,[R("div",ts,[R("div",null,[R("div",{onClick:b,class:K(["flex items-center text-poison-500 dark:text-neutral-300 text-4xl font-medium md:text-3xl",e.isNormalView?"group cursor-pointer":"cursor-default"])},[C(v,{name:"i-hugeicons-danger",class:"mr-2"}),m[3]||(m[3]=R("h1",null," Giftsvampar ",-1)),e.isNormalView?(h(),j(v,{key:0,name:"i-lucide-arrow-right",class:"size-6 font-medium text-neutral transition-all opacity-0 group-hover:translate-x-1 group-hover:opacity-100"})):O("",!0)],2),R("h2",ns,oe(o.value)+" arter",1)]),C(y,{color:"neutral",variant:"soft",size:"xl",onClick:m[0]||(m[0]=J=>g.$emit("enlarge")),class:K([e.isNormalView?"hidden":"md:hidden","rounded-full"]),icon:e.isNormalView?"":"i-heroicons-x-mark-solid",trailing:""},null,8,["class","icon"])])]),R("div",os,[f.value?O("",!0):(h(),j(k,{key:0,class:"flex mt-2",modelValue:c.value,"onUpdate:modelValue":m[1]||(m[1]=J=>c.value=J),items:r,variant:"pill",color:"neutral",size:"md",ui:{indicator:"bg-white dark:bg-black border border-neutral-300/80 dark:border-neutral-300/30",trigger:"data-[state=active]:text-neutral-700 dark:data-[state=active]:text-neutral-100/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-neutral"}},null,8,["modelValue"]))])]),C(Be,{name:"fade",mode:"out-in",class:"md:min-h-[260px]"},{default:T(()=>[u.value?(h(),V("div",as,[C(L,{onEnlarge:m[2]||(m[2]=J=>i("enlarge")),"is-normal-view":e.isNormalView,dataType:"edibledata",dataTypeFolder:"edible",grupp:"Svamp-grupp",mat:"Nyasvamp-boken",obs:"Rank giftsvamp",obsLabel:"Sannolikhet",filterPoison:!0,"column-visibility-overrides":{mark:!1,"Nyasvamp-boken":!1}},null,8,["is-normal-view"])])):(h(),V("div",is,[C(q,{"is-normal-view":e.isNormalView,dataType:"edibledata",dataTypeFolder:"edible",filterPoison:!0},null,8,["is-normal-view"])]))]),_:1})]),_:1})}}},En=ze(rs,[["__scopeId","data-v-e06edb37"]]),ls={class:"md:flex justify-between items-start"},ss={class:"md:flex gap-4"},us={class:"w-full flex justify-between items-start"},ds={class:"text-md text-neutral-500 md:mb-2"},cs={class:"md:flex gap-4 items-center hidden"},gs={key:0},ps={key:1},fs={__name:"RedlistedComponent",props:{isNormalView:Boolean},emits:["enlarge"],setup(e,{emit:n}){const t=Ge(),o=W(0);async function a(g,m,v,y=null){if([t.geography,t.forestType,t.standAge,t.vegetationType].some(q=>!q)){v.value=0;return}const L=`${m}-${t.geography}-${t.forestType}-${t.standAge}-${t.vegetationType}.json`;try{const q=await fetch(`/${g}/${L}`);if(!q.ok)throw new Error("Network response was not ok");const B=await q.json();v.value=y?B.filter(J=>J[y]==="x").length:B.length}catch(q){console.error("Failed to fetch count for",m,q),v.value=0}}ge(()=>[t.geography,t.forestType,t.standAge,t.vegetationType],()=>a("redlisted","redlisted",o),{immediate:!0});const i=n,r=[{label:"",icon:"i-heroicons-squares-2x2",value:"grid"},{label:"",icon:"material-symbols:table-outline",value:"table"}],s=e,l=Ye("(max-width: 767px)"),d=I(()=>l.value||s.isNormalView),f=Tt(),b=I({get:()=>d.value?"table":f.getActiveTab("FullscreenEdible"),set:g=>{d.value||f.setActiveTab("FullscreenEdible",g)}}),c=()=>{s.isNormalView&&i("enlarge")},u=I(()=>b.value==="table");return(g,m)=>{const v=Ne,y=Re,k=Vt,L=Nt,q=bn,B=nt;return h(),j(B,{variant:"ghost",class:"rounded-none sm:rounded-lg"},{default:T(()=>[R("div",ls,[R("div",ss,[R("div",us,[R("div",null,[R("div",{onClick:c,class:K(["flex items-center text-signal-500 dark:text-neutral-300 text-4xl font-medium md:text-3xl",e.isNormalView?"group cursor-pointer":"cursor-default"])},[C(v,{name:"i-material-symbols-award-star-outline",class:"mr-2"}),m[3]||(m[3]=R("h1",{class:"truncate"}," Naturvårdsarter ",-1)),e.isNormalView?(h(),j(v,{key:0,name:"i-lucide-arrow-right",class:"size-6 font-medium text-neutral transition-all opacity-0 group-hover:translate-x-1 group-hover:opacity-100"})):O("",!0)],2),R("h2",ds,oe(o.value)+" arter",1)]),C(y,{color:"neutral",variant:"soft",size:"xl",onClick:m[0]||(m[0]=J=>g.$emit("enlarge")),class:K([e.isNormalView?"hidden":"md:hidden","rounded-full"]),icon:e.isNormalView?"":"i-heroicons-x-mark-solid",trailing:""},null,8,["class","icon"])])]),R("div",cs,[d.value?O("",!0):(h(),j(k,{key:0,class:"flex mt-2",modelValue:b.value,"onUpdate:modelValue":m[1]||(m[1]=J=>b.value=J),items:r,variant:"pill",color:"neutral",size:"md",ui:{indicator:"bg-white dark:bg-black border border-neutral-300/80 dark:border-neutral-300/30",trigger:"data-[state=active]:text-neutral-700 dark:data-[state=active]:text-neutral-100/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-neutral"}},null,8,["modelValue"]))])]),C(Be,{name:"fade",mode:"out-in",class:"md:min-h-[260px]"},{default:T(()=>[u.value?(h(),V("div",gs,[C(L,{onEnlarge:m[2]||(m[2]=J=>i("enlarge")),"is-normal-view":e.isNormalView,dataType:"redlisted",dataTypeFolder:"redlisted",grupp:"Svamp-grupp",mat:"Nyasvamp-boken",obs:"RankRed",obsLabel:"Sannolikhet","column-visibility-overrides":{"Nyasvamp-boken":!1}},null,8,["is-normal-view"])])):(h(),V("div",ps,[C(q,{"is-normal-view":e.isNormalView,dataType:"redlisted",dataTypeFolder:"redlisted"},null,8,["is-normal-view"])]))]),_:1})]),_:1})}}},Nn=ze(fs,[["__scopeId","data-v-0d234cbe"]]),ms={class:"grid grid-cols-12"},vs={class:"col-span-12"},hs={key:0,class:"flex justify-between p-3 border-b border-muted/50"},bs={class:"flex gap-3"},ys={class:"flex flex-col sm:flex-row gap-1.5 w-fit h-fit"},Ss={key:"dna",class:"col-span-12 sm:pt-2"},ws={class:"hidden md:block"},ks={class:"flex justify-between items-center text-secondary-500"},Cs={class:"truncate"},xs={class:"text-2xl font-semibold flex items-center"},_s={key:1,class:"text-neutral-500"},Rs={class:"flex justify-between items-center text-warning-500"},$s={class:"text-2xl font-semibold flex items-center"},Fs={key:1,class:"text-neutral-500"},Ls={class:"flex justify-between items-center text-poison-500"},Ps={class:"text-2xl font-semibold flex items-center"},Vs={key:1,class:"text-neutral-500"},As={class:"flex justify-between items-center text-signal-500"},Is={class:"text-2xl font-semibold flex items-center"},Es={key:1,class:"text-neutral-500"},Ns={class:"flex flex-col sm:flex-row gap-1.5 p-1 rounded-lg ring ring-muted/50 sm:w-fit h-fit bg-muted/30"},Ts={key:"knowledge",class:"col-span-12 sm:pt-2"},Ms={key:0,class:"space-y-4"},zs={key:1,class:"col-span-12 grid-cols-12 rounded-2xl gap-y-3 hidden md:grid gap-4"},Ds={class:"col-span-4 flex flex-col h-full"},Bs={class:"col-span-4 flex flex-col"},Os={class:"col-span-4 flex flex-col"},Gs={__name:"NormalView",props:{activeView:{type:String,default:null}},emits:["enlarge","closeView"],async setup(e,{emit:n}){let t,o;const{data:a}=([t,o]=na(()=>oa("mykorrhizasvampar",()=>aa("mykorrhizasvampar").first())),t=await t,o(),t);if(!a.value)throw ia({statusCode:404,statusMessage:"Page not found",fatal:!0});const i=W(!0);W(!1);const r=Ge(),s=qn(),l=W(null),d=W(null),f=W(null),b=W(null),c=e,u=n,g={FullScreenEdible:"knowledge",FullScreenPoison:"knowledge",RedlistedComponent:"knowledge",FullScreenEdna:"knowledge"},m={FullScreenEdible:In,FullScreenPoison:En,RedlistedComponent:Nn,FullScreenEdna:An},v=F=>{g[F]&&(y.value=g[F]),u("enlarge",F)},y=W("dna"),k=W(0),L=()=>{k.value=window.innerWidth};tt(()=>{L(),window.addEventListener("resize",L)}),Rt(()=>{window.removeEventListener("resize",L)}),I(()=>(k.value>=768,"md"));const q=I(()=>k.value<768),B=I(()=>r.geography),J=I(()=>r.forestType),te=I(()=>r.standAge),pe=I(()=>r.vegetationType),me=I(()=>m[c.activeView??""]??null),P=I(()=>c.activeView?c.activeView==="FullScreenEdible"||c.activeView==="FullScreenPoison"?{isNormalView:!1,geography:B.value,forestType:J.value,standAge:te.value,vegetationType:pe.value}:{isNormalView:!1}:{isNormalView:!1}),_=I(()=>c.activeView?`${c.activeView}-${s.fullPath}`:void 0),S={FullScreenEdible:"Matsvampar",FullScreenPoison:"Giftsvampar",RedlistedComponent:"Naturvårdsarter",FullScreenEdna:"Alla mykorrhizasvampar"},$=I(()=>c.activeView==="FullScreenEdna"),Z=I(()=>S[c.activeView??""]??"");function U(){y.value="dna",u("closeView")}I(()=>me.value?[{label:"Enligt samlad kunskap",onClick:U,class:"cursor-pointer p-1 px-2 rounded hover:bg-muted"},{label:Z.value,class:"cursor-default text-neutral"}]:[]);const A=()=>{$.value?(y.value="knowledge",u("closeView")):v("FullScreenEdna")};ge(()=>c.activeView,F=>{F&&g[F]&&(y.value=g[F])}),ge(y,F=>{c.activeView&&g[c.activeView]!==F&&u("closeView")});async function D(F,G,Q,ce=null){if([r.geography,r.forestType,r.standAge,r.vegetationType].some(ne=>!ne)){Q.value=0;return}const Se=`${G}-${r.geography}-${r.forestType}-${r.standAge}-${r.vegetationType}.json`;try{const ne=await fetch(`/${F}/${Se}`);if(!ne.ok)throw new Error("Network response was not ok");const we=await ne.json();ce?Q.value=we.filter(ve=>ve[ce]==="x").length:Q.value=we.length}catch(ne){console.error("Failed to fetch count for",G,ne),Q.value=0}}async function z(){const F=r.geography,G=r.forestType,Q=r.standAge,ce=r.vegetationType;if(!F||!G||!Q||!ce){b.value=0;return}if(!Et(F,G,Q,ce)){b.value=0;return}b.value=null;const Ce=`edna-${F}-${G}-${Q}-${ce}.json`;try{const Se=await fetch(`/edna/${Ce}`);if(!Se.ok){b.value=0;return}const ne=await Se.json();b.value=Array.isArray(ne)?ne.length:0}catch(Se){console.error("Failed to fetch DNA count",Se),b.value=0}}return ge(()=>[r.geography,r.forestType,r.standAge,r.vegetationType],()=>{D("redlisted","redlisted",l),D("edible","edibledata",d,"Nyasvamp-boken"),D("edible","edibledata",f,"Giftsvamp"),z()},{immediate:!0}),(F,G)=>{const Q=ua,ce=Re,Ce=da,Se=Ne,ne=Hn,we=nt,ve=jn,ke=ca,Ae=ra,Ze=ga,ut=Un;return h(),V("div",ms,[R("div",vs,[q.value?O("",!0):(h(),V("div",hs,[R("div",bs,[C(ce,{onClick:G[0]||(G[0]=Pe=>y.value="dna"),class:"hover:bg-neutral-100 text-start ring-muted/50 cursor-pointer p-3 px-4 rounded-lg",variant:y.value==="dna"?"subtle":"outline",color:"neutral"},{default:T(()=>[C(Q,{title:"Enligt DNA",description:"Från markinventeringens jordprover"})]),_:1},8,["variant"]),C(ce,{onClick:G[1]||(G[1]=Pe=>y.value="knowledge"),class:"hover:bg-neutral-100 text-start ring-muted/50 cursor-pointer p-3 px-4 rounded-lg",variant:y.value==="knowledge"?"subtle":"outline",color:"neutral"},{default:T(()=>[C(Q,{title:"Enligt fruktkroppar",description:"Utifrån var fruktkroppar förekommer"})]),_:1},8,["variant"])]),R("div",ys,[y.value!=="dna"?(h(),j(Ce,{key:0,color:y.value==="dna"?"secondary":"neutral",variant:"outline",ui:{close:" cursor-pointer"},title:y.value==="dna"?"Arterna är sorterade i fallande ordning baserat på hur många skogar deras DNA påträffats i.":"Arterna är sorterade i fallande ordning baserat på hur många gånger de har rapporterats i Artportalen.",class:"h-fit max-w-96 text-muted ring-muted/50","onUpdate:open":G[2]||(G[2]=Pe=>i.value=Pe)},null,8,["color","title"])):O("",!0)])])),C(Be,{name:"view-transition",mode:"out-in"},{default:T(()=>[y.value==="dna"?(h(),V("div",Ss,[R("div",ws,[C(An,{isNormalView:!$.value,onEnlarge:A},null,8,["isNormalView"])]),C(ut,{class:"md:hidden space-y-3 pt-3 bg-muted/50"},{default:T(()=>[C(Q,{title:"Enligt DNA",description:"Från markinventeringens jordprover"}),C(we,{onClick:G[3]||(G[3]=Pe=>v("FullScreenEdna")),class:"ring-muted/50"},{default:T(()=>[R("div",ks,[R("div",Cs,[R("div",xs,[C(Se,{name:"solar:dna-linear",class:"mr-2"}),G[10]||(G[10]=R("h1",{class:"truncate"},"Alla mykorrhizasvampar",-1))]),b.value===null?(h(),j(ne,{key:0,class:"h-4 w-12 mt-2"})):(h(),V("h1",_s,oe(b.value)+" arter",1))]),C(ce,{icon:"i-heroicons-chevron-right",class:"rounded-full",variant:"ghost",color:"neutral",size:"xl"})])]),_:1}),C(Q,{class:"mt-6",title:"Enligt fruktkroppar",description:"Utifrån vart fruktkroppar förekommer"}),C(we,{onClick:G[4]||(G[4]=Pe=>v("FullScreenEdible")),class:"ring-muted/50"},{default:T(()=>[R("div",Rs,[R("div",null,[R("h1",$s,[C(Se,{name:"icon-park-solid:knife-fork",class:"mr-2"}),G[11]||(G[11]=le("Matsvampar ",-1))]),d.value===null?(h(),j(ne,{key:0,class:"h-4 w-12 mt-2"})):(h(),V("h1",Fs,oe(d.value)+" arter",1))]),C(ce,{icon:"i-heroicons-chevron-right",class:"rounded-full ring-muted/50",variant:"ghost",color:"neutral",size:"xl"})])]),_:1}),C(we,{onClick:G[5]||(G[5]=Pe=>v("FullScreenPoison")),class:"ring-muted/50"},{default:T(()=>[R("div",Ls,[R("div",null,[R("h1",Ps,[C(Se,{name:"i-hugeicons-danger",class:"mr-2"}),G[12]||(G[12]=le("Giftsvampar ",-1))]),d.value===null?(h(),j(ne,{key:0,class:"h-4 w-12 mt-2"})):(h(),V("h1",Vs,oe(f.value)+" arter",1))]),C(ce,{icon:"i-heroicons-chevron-right",class:"rounded-full",variant:"ghost",color:"neutral",size:"xl"})])]),_:1}),C(we,{onClick:G[6]||(G[6]=Pe=>v("RedlistedComponent")),class:"ring-muted/50"},{default:T(()=>[R("div",As,[R("div",null,[R("h1",Is,[C(Se,{name:"i-material-symbols-award-star-outline",class:"mr-2"}),G[13]||(G[13]=le(" Naturvårdsarter ",-1))]),l.value===null?(h(),j(ne,{key:0,class:"h-4 w-12 mt-2"})):(h(),V("h1",Es,oe(l.value)+" arter",1))]),C(ce,{icon:"i-heroicons-chevron-right",class:"rounded-full",variant:"ghost",color:"neutral",size:"xl"})])]),_:1}),C(ve,{class:"my-6"}),R("div",Ns,[C(Ae,{fullscreen:!!q.value,title:x(a).ecologyintro?.title??"",description:x(a).ecologyintro?.description??"",ui:{header:"items-start gap-2 shrink-0",title:"whitespace-normal",description:"whitespace-normal leading-snug"}},{body:T(()=>[C(ke,{section:x(a).ecologyintro},null,8,["section"])]),default:T(()=>[C(Ce,{icon:"i-heroicons-newspaper",color:"neutral",variant:"outline",title:"Ekologi",class:"sm:w-fit h-fit ring-muted/50 hover:opacity-85 hover:cursor-pointer"})]),_:1},8,["fullscreen","title","description"]),C(Ae,{fullscreen:!!q.value,title:x(a).underlag,description:x(a).underlagdescription},{body:T(()=>[C(Ze,{underlag:x(a).underlag,underlagbild:x(a).underlagbild,sections:x(a).underlagSections},null,8,["underlag","underlagbild","sections"])]),default:T(()=>[C(Ce,{icon:"i-heroicons-document-magnifying-glass",color:"neutral",variant:"outline",title:"Underlag",class:"sm:w-fit h-fit ring-muted/50 hover:opacity-85 hover:cursor-pointer"})]),_:1},8,["fullscreen","title","description"])])]),_:1})])):(h(),V("div",Ts,[C(Be,{name:"fade",mode:"out-in"},{default:T(()=>[me.value?(h(),V("div",Ms,[(h(),j(Mn(me.value),ye(P.value,{key:_.value,onEnlarge:U,class:"w-full"}),null,16))])):(h(),V("div",zs,[R("div",Ds,[(h(),j(In,{geography:B.value,forestType:J.value,standAge:te.value,vegetationType:pe.value,isNormalView:!0,onEnlarge:G[7]||(G[7]=Pe=>v("FullScreenEdible")),key:x(s).fullPath},null,8,["geography","forestType","standAge","vegetationType"]))]),R("div",Bs,[(h(),j(En,{geography:B.value,forestType:J.value,standAge:te.value,vegetationType:pe.value,isNormalView:!0,onEnlarge:G[8]||(G[8]=Pe=>v("FullScreenPoison")),key:x(s).fullPath},null,8,["geography","forestType","standAge","vegetationType"]))]),R("div",Os,[C(Nn,{isNormalView:!0,onEnlarge:G[9]||(G[9]=Pe=>v("RedlistedComponent"))})])]))]),_:1})]))]),_:1})])])}}},js=ze(Gs,[["__scopeId","data-v-e54ac654"]]),qs={class:"bg-muted"},Us={class:"flex flex-col min-h-screen"},Hs={__name:"DashboardC",setup(e){Ye("(max-width: 767px)");const n=qn(),t=W(!1),o=W(!0),a=Pt(),i=Ge();ge(()=>a.selectedSpecies,u=>{u&&(t.value=!0)}),ge(t,u=>{u||a.clearSelection()});const r=W(null),s=I(()=>i.geography&&i.forestType&&i.standAge&&i.vegetationType),l=u=>{r.value=u},d=()=>{r.value=null},f=u=>{u.key==="Escape"&&a.selectedSpecies&&a.clearSelection()};function b(u){return Array.isArray(u)?u[0]??null:typeof u=="string"&&u.length>0?u:null}function c(u){const g={geography:b(u.geography),forestType:b(u.forestType),standAge:b(u.standAge),vegetationType:b(u.vegetationType)};g.geography&&g.forestType&&g.standAge&&g.vegetationType&&i.setParams(g)}return tt(()=>{window.addEventListener("keydown",f),c(n.params)}),Gn(()=>{window.removeEventListener("keydown",f)}),ge(()=>n.params,u=>{c(u)},{immediate:!0}),ge(()=>[i.geography,i.forestType,i.standAge,i.vegetationType],()=>{i.geography&&i.forestType&&i.standAge&&i.vegetationType&&`${encodeURIComponent(i.geography)}${encodeURIComponent(i.forestType)}${encodeURIComponent(i.standAge)}${encodeURIComponent(i.vegetationType)}`},{deep:!0}),ge(r,()=>{window.scrollTo({top:0,behavior:"smooth"})}),(u,g)=>{const m=Bi,v=Ui,y=sa,k=Un;return h(),V("div",qs,[C(v,{modelValue:t.value,"onUpdate:modelValue":g[0]||(g[0]=L=>t.value=L),pinned:o.value,"onUpdate:pinned":g[1]||(g[1]=L=>o.value=L)},{default:T(()=>[C(m,{species:x(a).selectedSpecies,source:x(a).sourceComponent},null,8,["species","source"])]),_:1},8,["modelValue","pinned"]),C(k,null,{default:T(()=>[C(Be,{name:"fade"},{default:T(()=>[s.value?(h(),j(y,{key:0})):O("",!0)]),_:1})]),_:1}),R("div",Us,[C(k,{class:"w-full px-0"},{default:T(()=>[C(Be,{name:"fade",mode:"out-in"},{default:T(()=>[C(js,{class:"block sm:border border-muted/50 bg-white sm:rounded-xl sm:shadow mb-4","active-view":r.value,onEnlarge:l,onCloseView:d},null,8,["active-view"])]),_:1})]),_:1})])])}}},Ks=ze(Hs,[["__scopeId","data-v-54521b5e"]]),Ws={};function Xs(e,n){const t=Ks;return h(),j(t)}const yu=ze(Ws,[["render",Xs]]);export{yu as default};
