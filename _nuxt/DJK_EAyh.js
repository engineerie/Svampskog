import{_ as $t}from"./BvJHr6d1.js";import{B as Mt,r as f,aN as jt,o as Ut,aU as ke,K as H,v as Vt,a as It,aD as J,W as m,aI as qe,aV as Ft,d as u,f as k,P as g,g as o,N as p,w as n,T as Re,aH as Dt,aW as Ht,aE as K,aF as te,aK as Lt,e as i,aT as Nt,ap as At,af as Ot,F as L,ag as W,av as Pt,h as s,t as x,aL as Bt,ae as Et,aX as me,an as qt,aC as Rt,ai as le,aY as Jt,aM as Kt,n as ve,aZ as Je,a_ as Ke,L as We,a$ as Wt,_ as Yt}from"#entry";import{_ as Qt}from"./mHuA-XIJ.js";import{_ as Xt}from"./2ZRTDmWp.js";import{_ as Zt}from"./DaJaw66A.js";import{_ as Gt}from"./CrWnOoLk.js";import{_ as el,a as tl}from"./BD59XQYS.js";import{_ as ll}from"./DyT_QZAl.js";import{_ as al}from"./CDJd4510.js";import{_ as sl}from"./CdTdkjCJ.js";import{u as ol,_ as il}from"./DwFeUdfT.js";import{_ as nl}from"./DpnrDu6v.js";import{_ as rl}from"./tctYEgSd.js";import{_ as ul}from"./Gg80N7VV.js";import{u as dl}from"./Dwh8b6RS.js";import"./0YTMIbIS.js";import"./BstbYvQo.js";import"./CiQsdgHN.js";import"./iik6CYzq.js";import"./BWDzvk3w.js";import"./CfUacBIx.js";import"./Ctl3fRoa.js";import"./BfediyCb.js";import"./Cpj98o6Y.js";const cl={key:0,class:"flex-1 transition-all"},ml={key:0,class:"fixed top-18 inset-x-3 z-50 pointer-events-auto origin-top flex gap-3"},vl={key:0,class:"space-y-3 mb-10"},pl={class:"relative rounded-lg overflow-hidden ring ring-muted/50 m-1 shadow"},fl=["src","alt"],gl={key:0,class:"text-sm text-neutral-100 absolute bottom-0 w-full bg-neutral-950/50 p-2"},hl=["src"],_l={key:4,class:"text-neutral-800"},kl={class:"mt-4"},bl={key:0,class:"space-y-3 mb-10"},xl={class:"relative rounded-lg overflow-hidden ring ring-muted/50 m-1 shadow"},yl=["src","alt"],wl={key:0,class:"text-sm text-neutral-100 absolute bottom-0 w-full bg-neutral-950/50 p-2"},zl=["src"],Sl={key:4,class:"text-neutral-800"},Tl={class:"space-y-1"},Cl={class:"space-y-1"},$l={key:0,class:"space-y-3 mb-10"},Ml={class:"relative rounded-lg overflow-hidden ring ring-muted/50 m-1 shadow"},jl=["src","alt"],Ul={key:0,class:"text-sm text-neutral-100 absolute bottom-0 w-full bg-neutral-950/50 p-2"},Vl=["src"],Il={key:4,class:"text-neutral-800"},Fl={class:"mt-4"},Dl={key:0,class:"space-y-3 mb-10"},Hl={class:"relative rounded-lg overflow-hidden ring ring-muted/50 m-1 shadow"},Ll=["src","alt"],Nl={key:0,class:"text-sm text-neutral-100 absolute bottom-0 w-full bg-neutral-950/50 p-2"},Al=["src"],Ol={key:4,class:"text-neutral-800"},Pl={class:"mt-1 flex flex-col gap-1.5 absolute bottom-0 w-full"},Bl={class:"border-b border-muted/50 px-3 py-2.5 flex flex-wrap items-center justify-between gap-3 sticky top-0 z-30"},El={class:"flex gap-3"},ql={class:"flex flex-wrap gap-2 items-center"},Rl={key:0,class:""},Jl={class:"bg-neutral-950/80 p-1 py-2 rounded-sm flex flex-col items-center gap-2 text-xs text-neutral-500 absolute bottom-4 right-4 z-20"},Kl={class:"flex flex-col cursor-help"},Wl={class:"flex flex-col gap-2 p-4"},Yl={class:"flex w-full"},Ql={class:"flex w-full justify-between"},Xl={class:"flex w-full justify-between"},Zl={class:"relative w-full h-full"},Gl=["src"],ea=["src"],ta={class:"relative w-full h-full"},la=["src"],aa=["src"],sa=["src","alt"],oa=["src","alt"],ia={class:"absolute top-2 left-2 z-20 flex flex-col items-start gap-1 pointer-events-none"},na={class:"border-b border-muted/50 px-3 py-2.5 flex flex-wrap items-center justify-between gap-3 sticky top-0 z-30"},ra={class:"flex flex-wrap gap-2 items-center"},ua={class:"space-y-0.5 p-3"},da={class:"grid grid-cols-2 gap-2"},ca={class:"flex flex-col text-center items-center w-full space-y-1"},ma={class:"flex flex-col text-center items-center w-full space-y-1"},va={key:1,class:"space-y-2 mt-3"},pa={class:"grid grid-cols-2"},fa={class:"space-y-2 p-5"},ga={class:"text-xl font-semibold text-neutral-900"},ha={class:"text-md text-muted"},_a={class:"text-md"},ka={key:1,class:"space-y-6"},ba=["src","alt"],xa={class:"w-full flex justify-center my-0 sm:my-6"},ya={class:"space-y-8 max-w-xl"},wa={class:"space-y-3 text-md md:text-lg text-neutral-800"},za={key:0,class:"flex items-center gap-2 text-md md:text-xl font-semibold text-neutral-900"},Sa={key:1,class:"flex items-center gap-2 text-md md:text-xl font-semibold text-neutral-900"},Ta={class:"grid grid-cols-2 gap-6 items-center py-10 max-w-4xl mx-auto"},Ca={key:1},Ye="modal-no-scrollbar",$a=Mt({__name:"[id]",async setup(Ma){let v,S;const Y=f(.8);f(null);const Qe=(t,e)=>{const r=t?.image??"",a=r.split("/").pop()?.split(".")[0]??"";return a?`/images/metoder/web/${a}_800x400.webp`:r},A=jt("(max-width: 767px)"),ae=f(!1);let Q=null;const pe=()=>{if(typeof window>"u")return;if(!A.value){ae.value=!1;return}const t=window.innerHeight*.5;ae.value=window.scrollY>t};Ut(()=>{typeof window>"u"||(pe(),Q=()=>pe(),window.addEventListener("scroll",Q,{passive:!0}))}),ke(()=>{Q&&typeof window<"u"&&window.removeEventListener("scroll",Q),Q=null}),H(A,()=>{A.value?pe():ae.value=!1});const Xe=f(!1),Ze=f(null),X=f("skogsskole"),be=f(null),xe=t=>{const e=document.documentElement;t?e.classList.add(Ye):e.classList.remove(Ye)};H(Xe,t=>xe(t)),ke(()=>xe(!1)),ke(()=>{E.value=!1,ht.value=!1,Ve?.closeAll?.()});const ye=dl(),O=Vt();It();const{data:y}=([v,S]=J(()=>K("skogsskotsel",()=>te("skogsskotsel").first())),v=await v,S(),v),Ge=m(()=>kt(String(O.params.id||""))),se=m(()=>`/skogsskotsel/frameworks/${Ge.value||O.params.id}`),{data:ja}=([v,S]=J(()=>K("forestry-framework-doc",()=>te("forestryFrameworks").path(se.value).first(),{watch:[se]})),v=await v,S(),v),{data:Ua}=([v,S]=J(()=>K("forestry-framework-surround",()=>Lt("forestryFrameworks",se.value,{fields:["description"]}),{watch:[se]})),v=await v,S(),v),{data:et}=([v,S]=J(()=>K("skotselmetoder",()=>te("skotselmetoder").first())),v=await v,S(),v);if(!y.value)throw qe({statusCode:404,statusMessage:"Page not found",fatal:!0});const h=m(()=>et.value?.methods??[]),tt=m(()=>h.value.map((t,e)=>({label:t.title,value:e}))),fe={id:"",title:"",image:"",shortdescription:"",description:"",descriptionsvamp:""},w=f(null),N=m(()=>O.params.id||""),we=()=>{N.value&&w.value!==N.value&&(w.value=N.value)};H(N,we,{immediate:!0}),H(h,()=>we()),Ft(()=>{if(h.value.length&&N.value&&!h.value.some(t=>t.id===N.value))throw qe({statusCode:404,statusMessage:"Method not found",fatal:!0})}),H(w,async(t,e)=>{if(t&&t!==N.value){const{entry:r,...a}=O.query;await Wt({path:`/skogsskotsel/${t}`,query:a},{replace:!0,external:!1})}});const c=m(()=>{const t=h.value;return!t.length||!w.value?fe:t.find(e=>e.id===w.value)??fe}),ze=m({get(){if(!w.value)return null;const t=h.value.findIndex(e=>e.id===w.value);return t>=0?t:null},set(t){typeof t=="number"&&h.value[t]&&(w.value=h.value[t].id)}});m(()=>{const t=c.value.title||c.value.id||N.value||"Metod",e=w.value?`/skogsskotsel/${w.value}`:void 0;return[{label:"Skogsskötsel",to:"/skogsskotsel"},{label:t,to:e}]});const Se=f(!1),I=m(()=>$.value[T.value]),lt=m(()=>{if(F.value&&b.value)return["compare",b.value.left,b.value.right,z.value,U.value,V.value].join("|");const t=I.value;return["single",t?.thumbHidden,t?.thumb,z.value,T.value].join("|")}),at=m(()=>{let t;return F.value&&b.value?t=b.value.left||b.value.leftHidden||b.value.right:I.value&&(t=I.value.thumb||I.value.thumbHidden),t?{backgroundImage:`url(${t})`,backgroundSize:"cover",backgroundPosition:"center"}:{}}),F=f(!1),U=f("beforeAfter"),V=f(null),st=[{label:"Före/Efter",value:"beforeAfter"},{label:"Metoder",value:"methods"}],P=m({get:()=>F.value,set:t=>{F.value=t,t||(U.value="beforeAfter")}}),ot=m(()=>st),Te=t=>{P.value=t},Z=f(!0),it=[{label:"Tidslinje",value:"timeline"},{label:"Om metoden",value:"about"}],oe=f("timeline"),nt=m(()=>Z.value?{root:" lg:gap-0",center:" border-x border-muted lg:col-span-8"}:{root:"lg:grid-cols-10 lg:gap-0",center:"lg:col-span-10  border-x border-muted"}),ie=m(()=>U.value!=="methods"?null:V.value&&V.value!==c.value.id?V.value:h.value.find(e=>e.id!==c.value.id)?.id??null),Ce=m(()=>F.value&&U.value==="methods"&&ie.value?[c.value.id,ie.value]:[c.value.id]),ne=t=>{const e=t?.toLowerCase?.()??"";return e==="intekalavverkad"?"naturskog":e==="produktionsskog"?"produktionsskog_":t},re=t=>(t?.toLowerCase?.()??"")==="ingenatgard"?"naturskydd":t,B=t=>{const e=String(t).trim().toLowerCase();return e.includes("efter")?"efter":e.includes("innan")||e.includes("före")||e.includes("fore")?"före":e.replace(/[^0-9]/g,"")||e},ue=(t,e,r,a="visa_visa")=>{const M=D=>D.trim().toLowerCase().replace(/[^a-z0-9_åäö]+/g,"_").replace(/_+/g,"_");return`/images/thumbnails/${`${M(t)}_${B(String(e))}_${a}_${M(r)}.webp`}`},{data:$e}=([v,S]=J(()=>K("forestry-timeline-skogsskotsel",()=>te("forestryTimelines").first())),v=await v,S(),v),ge=[{label:"Inte tidigare kalavverkad",value:"naturskog"},{label:"Tidigare kalavverkad",value:"produktionsskog_"}],G=ge.map(t=>({label:t.label,value:t.value,icon:t.value==="naturskog"?"i-material-symbols-light-forest-rounded":"i-ph-farm"})),z=f(G[ye.selectedStartskog??0]?.value||G[0].value),rt=m(()=>G.find(t=>t.value===z.value)?.icon),Me=m(()=>G.find(t=>t.value===z.value));H(()=>ye.selectedStartskog,t=>{const e=ge[t??0];e&&e.value!==z.value&&(z.value=e.value)},{immediate:!0}),m(()=>ge.find(t=>t.value===z.value)?.label??"");const $=m(()=>{const t=$e.value?.entries??[],e=c.value.id,r=re(e);return t.map(a=>({...a,startskog:ne(a.startskog),atgard:re(a.atgard)})).filter(a=>a.startskog===ne(z.value)&&a.atgard===r).map(a=>({tid:a.tid,skog:a.skog,svamp:a.svamp,thumb:ue(a.atgard,a.tid,a.startskog,"visa_visa"),thumbHidden:ue(a.atgard,a.tid,a.startskog,"visa_dölj")}))}),ut=m(()=>h.value.filter(t=>t.id!==c.value.id).map(t=>({label:t.title,value:t.id}))),dt=t=>{const e=$e.value?.entries??[],r=re(t);return e.map(a=>({...a,startskog:ne(a.startskog),atgard:re(a.atgard)})).filter(a=>a.startskog===ne(z.value)&&a.atgard===r).map(a=>({tid:a.tid,skog:a.skog,svamp:a.svamp,thumb:ue(a.atgard,a.tid,a.startskog,"visa_visa"),thumbHidden:ue(a.atgard,a.tid,a.startskog,"visa_dölj")}))},je=f(null),T=f(0);function ct(t){T.value=t,je.value?.emblaApi?.scrollTo?.(t)}H($,t=>{T.value=0,t.length&&requestAnimationFrame(()=>{je.value?.emblaApi?.scrollTo?.(0)})}),H(F,t=>{if(t&&U.value==="methods"&&!V.value){const e=h.value.find(r=>r.id!==c.value.id);V.value=e?.id??null}}),H(c,t=>{if(V.value===t.id){const e=h.value.find(r=>r.id!==t.id);V.value=e?.id??null}});const mt=t=>{if(!t)return;const e=B(t);if(!e)return;if(e==="före")return"före";if(e==="efter")return"efter";const r=Number(e);if(!Number.isNaN(r))return String(r)},Ue=m(()=>mt($.value[T.value]?.tid)),b=m(()=>{if(!F.value)return null;const t=$.value[T.value];if(!t)return null;if(U.value==="beforeAfter"){const C=$.value.find(D=>B(D.tid)==="före")??t;return{left:C.thumb,leftHidden:C.thumbHidden,right:t.thumb,rightHidden:t.thumbHidden}}const e=ie.value;if(!e)return null;const r=dt(e),a=B(t.tid),M=r.find(C=>B(C.tid)===a)??r[0];return M?{left:t.thumb,leftHidden:t.thumbHidden,right:M.thumb,rightHidden:M.thumbHidden}:null}),de=m(()=>{if(!F.value)return null;const t=c.value.title||c.value.id,e=he($.value[T.value]?.tid);if(U.value==="beforeAfter")return{leftFramework:t,leftTime:"Före avverkning",rightFramework:t,rightTime:e};const r=ie.value,M=h.value.find(C=>C.id===r)?.title||r||"";return{leftFramework:t,leftTime:e,rightFramework:M,rightTime:e}});function vt(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""}function he(t){if(!t)return"";const e=B(t);if(e==="före")return"Innan avverkning";if(e==="efter")return"Efter avverkning";const r=Number(e);return Number.isNaN(r)?t.charAt(0).toUpperCase()+t.slice(1):`${r} år efter avverkning`}const Ve=ol(),{data:pt}=([v,S]=J(()=>K("overlay-texts-skogs",()=>te("overlayTexts").all())),v=await v,S(),v),ft=m(()=>{const t=pt.value||[],e={};return t.forEach(r=>{const a=r?.key;a&&(e[a]={title:r.title??a,description:r.description??"",image:r.image,images:r.images,imageDescriptions:r.imageDescriptions,doc:r})}),e}),gt=[{key:"retention",icon:"i-pepicons-pop-tree-circle"},{key:"kanteffekt",icon:"i-healthicons-square-medium-negative"},{key:"rottacke",icon:"i-game-icons-tree-roots"},{key:"rottackeSkarmtrad",icon:"i-game-icons-tree-roots"},{key:"rottackeBladning",icon:"i-game-icons-tree-roots"},{key:"seedTree",icon:"i-teenyicons-redwoodjs-outline"},{key:"smaplantor",icon:"i-pepicons-pop-seedling-circle"},{key:"hogstubbar",icon:"i-roentgen-wood"},{key:"naturvardsarter",icon:"i-material-symbols-award-star-outline"},{key:"tradplantor",icon:"i-hugeicons-plant-02"}],_e=m(()=>{const t=c.value.id,e={naturvardsarter:"all",retention:["trakthygge","luckhuggning","skärmträd","skarmtrad","blädning","bladning"],kanteffekt:["trakthygge","luckhuggning","skärmträd","skarmtrad"],tradplantor:["trakthygge"],smaplantor:["trakthygge"],hogstubbar:["trakthygge"],rottackeBladning:["blädning","bladning"],rottackeSkarmtrad:["skärmträd","skarmtrad"],seedTree:["skärmträd","skarmtrad"]};return gt.filter(r=>{const a=e[r.key]??[];return a==="all"?!0:a.includes(t)}).map(r=>{const a=ft.value[r.key]??{title:r.key,description:""};return{...r,title:a.title,description:a.description,image:a.image,images:a.images,imageDescriptions:a.imageDescriptions,doc:a.doc}})}),E=f(!1);async function Ie(){X.value="rodlistade",Ze.value?.setSelectedChart?.("rodlistade"),E.value=!1,Ve?.closeAll?.(),await We(),be.value&&be.value.scrollIntoView({behavior:"smooth",block:"start"})}f([{label:"Intro",icon:"i-heroicons-book-open",slot:"text"},{label:"Diagram",icon:"i-heroicons-presentation-chart-line",slot:"diagram"},{label:"Tidslinje",icon:"i-heroicons-list-bullet",slot:"timeline"}]);const ht=f(O.query.entry==="1"||O.query.entry==="true"),Fe=t=>(t||"").split(/\n\s*\n/g).map(e=>e.trim()).filter(Boolean),_t=m(()=>[{label:"Introduktion",icon:"i-hugeicons-tree-06",value:"description",paragraphs:c.value.descriptionParagraphs?.length?c.value.descriptionParagraphs:Fe(c.value.description)},{label:"Påverkan på mykorrhizasvampar",icon:"i-hugeicons-mushroom",value:"svamp",paragraphs:c.value.descriptionsvampParagraphs?.length?c.value.descriptionsvampParagraphs:Fe(c.value.descriptionsvamp)}]);function kt(t){return(t||"").trim().normalize("NFD").replace(new RegExp("\\p{Diacritic}+","gu"),"").toLowerCase()}const q=m(()=>{const t=h.value,e=t.findIndex(r=>r.id===c.value.id);return{prev:e>0?t[e-1]:null,next:e>=0&&e<t.length-1?t[e+1]:null}});async function De(t){w.value=t,await We(),window.scrollTo({top:0,behavior:"smooth"})}return(t,e)=>{const r=$t,a=Ot,M=At,C=Qt,D=Xt,ee=Zt,R=Pt,ce=Nt,He=Gt,Le=Dt,Ne=Jt,Ae=Kt,bt=el,xt=tl,yt=ll,Oe=al,_=qt,wt=sl,zt=il,Pe=Rt,Be=nl,St=rl,Ee=ul,Tt=Bt,Ct=Ht;return g(y)?(i(),u("div",cl,[o(Re,{name:"fold-down"},{default:n(()=>[g(A)&&ae.value?(i(),u("div",ml,[o(r,{size:"xl",items:tt.value,modelValue:ze.value,"onUpdate:modelValue":e[0]||(e[0]=l=>ze.value=l),placeholder:c.value.title||"Välj metod","append-to-body":"",variant:"outline",class:"ring-muted w-full shadow rounded-lg",ui:{content:"min-w-fit rounded-lg z-50",viewport:"text-center"}},null,8,["items","modelValue","placeholder"]),o(ce,{ui:{content:"py-1"}},{content:n(()=>[(i(!0),u(L,null,W(_e.value,l=>(i(),u("div",{key:l.key,class:"p-1"},[l.key==="naturvardsarter"?(i(),p(R,{key:0,open:E.value,"onUpdate:open":e[1]||(e[1]=d=>E.value=d),title:l.title,description:l.description,ui:{header:"shrink-0"},fullscreen:""},{body:n(()=>[l.images?.length?(i(),u("div",vl,[o(C,{dots:"",arrows:"",items:l.images.map((d,j)=>({src:d,idx:j})),"prev-icon":"i-heroicons-chevron-left","next-icon":"i-heroicons-chevron-right",ui:{dots:"-bottom-4",dot:"w-6 h-1",prev:"start-4 sm:start-4 top-1/2 -translate-y-1/2",next:"end-4 sm:end-4 top-1/2 -translate-y-1/2"},class:"w-full"},{default:n(({item:d})=>[s("div",pl,[s("img",{src:d.src,alt:l.title,class:"h-72 w-full",loading:"lazy"},null,8,fl),l.imageDescriptions?.[d.idx]?(i(),u("div",gl,x(l.imageDescriptions[d.idx]),1)):k("",!0)])]),_:2},1032,["items"])])):l.image?(i(),u("img",{key:1,src:l.image,class:"rounded-md mb-4"},null,8,hl)):(i(),p(D,{key:2})),l.doc?.body?(i(),p(ee,{key:3,value:l.doc},null,8,["value"])):(i(),u("p",_l,x(l.description),1)),s("div",kl,[o(a,{color:"signal",variant:"subtle",icon:"i-carbon-chart-line-smooth",label:"Diagram för naturvårdssvampar",class:"",onClick:Ie})])]),default:n(()=>[s("div",null,[o(a,{label:l.title,icon:l.icon,color:"neutral",variant:"ghost",class:"ring-muted/50 w-full justify-start"},null,8,["label","icon"])])]),_:2},1032,["open","title","description"])):(i(),p(R,{key:1,fullscreen:"",title:l.title,description:l.description,ui:{header:"shrink-0"}},{body:n(()=>[l.images?.length?(i(),u("div",bl,[o(C,{dots:"",arrows:"",items:l.images.map((d,j)=>({src:d,idx:j})),"prev-icon":"i-heroicons-chevron-left","next-icon":"i-heroicons-chevron-right",ui:{dots:"-bottom-4",dot:"w-6 h-1",prev:"start-4 sm:start-4 top-1/2 -translate-y-1/2",next:"end-4 sm:end-4 top-1/2 -translate-y-1/2"},class:"w-full"},{default:n(({item:d})=>[s("div",xl,[s("img",{src:d.src,alt:l.title,class:"h-72 w-full",loading:"lazy"},null,8,yl),l.imageDescriptions?.[d.idx]?(i(),u("div",wl,x(l.imageDescriptions[d.idx]),1)):k("",!0)])]),_:2},1032,["items"])])):l.image?(i(),u("img",{key:1,src:l.image,class:"rounded-md mb-4"},null,8,zl)):(i(),p(D,{key:2})),l.doc?.body?(i(),p(ee,{key:3,value:l.doc},null,8,["value"])):(i(),u("p",Sl,x(l.description),1))]),default:n(()=>[s("div",null,[o(a,{label:l.title,icon:l.icon,color:"neutral",variant:"ghost",class:"ring-muted/50 w-full justify-start"},null,8,["label","icon"])])]),_:2},1032,["title","description"]))]))),128))]),default:n(()=>[o(M,{text:_e.value.length,size:"3xl"},{default:n(()=>[o(a,{icon:"i-hugeicons-center-focus",size:"xl",variant:"outline",class:"shadow rounded-lg ring-muted",color:"neutral"})]),_:1},8,["text"])]),_:1})])):k("",!0)]),_:1}),c.value.id?k("",!0):(i(),p(Le,{key:0,class:"w-full px-0"},{default:n(()=>[o(He,{ui:{container:"py-20 pb-16 lg:py-24",title:"sm:text-7xl",headline:"text-neutral"},description:g(y).hero.description,orientation:g(y).hero.orientation,class:""},null,8,["description","orientation"])]),_:1})),c.value.id?(i(),p(Le,{key:1,class:"w-full px-0"},{default:n(()=>[o(Tt,{class:"pt-0 min-h-screen",left:Z.value,right:!1,ui:nt.value},Et({default:n(()=>[s("div",Bl,[s("div",El,[o(a,{color:"neutral",variant:"ghost",icon:"i-f7-sidebar-left",class:"ring-muted",onClick:e[3]||(e[3]=l=>Z.value=!Z.value)})]),s("div",ql,[o(Oe,{modelValue:oe.value,"onUpdate:modelValue":e[4]||(e[4]=l=>oe.value=l),items:it,size:"sm",placeholder:"Välj",clearable:!1,class:"w-full ring-muted",ui:{root:"min-w-max flex-shrink-0",list:"flex-nowrap rounded-xl bg-muted/50 -mb-2 gap-2",indicator:"bg-white border border-muted/50 shadow ",trigger:" data-[state=active]:text-neutral-800 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary "}},null,8,["modelValue"])])]),oe.value==="timeline"?(i(),u("div",Rl,[s("div",{class:"relative w-full overflow-hidden shadow aspect-video bg-neutral-900",style:me(at.value)},[o(Re,{name:"image-fade"},{default:n(()=>[(i(),u("div",{key:lt.value,class:"absolute inset-0"},[s("div",Jl,[o(_,{name:"i-mingcute-tree-fill",class:"size-5 text-primary"}),o(wt,{modelValue:Y.value,"onUpdate:modelValue":e[5]||(e[5]=l=>Y.value=l),min:0,max:1,step:.05,class:"h-20 sm:h-32",color:"primary",orientation:"vertical",inverse:"",size:"xs"},null,8,["modelValue"]),o(ce,null,{content:n(()=>[s("div",Wl,[s("div",Yl,[o(_,{name:"i-fluent-shape-organic-16-filled",class:"size-6 text-gray-300 z-20"}),o(_,{name:"i-fluent-shape-organic-16-filled",class:"size-6 -ml-4 text-gray-400 z-10"}),o(_,{name:"i-fluent-shape-organic-16-filled",class:"size-6 -ml-4 mr-4 text-gray-500"}),e[17]||(e[17]=s("h1",{class:"font-medium"},"Mykorrhizasvampar",-1))]),s("div",Ql,[o(_,{name:"i-fluent-shape-organic-16-filled",class:"size-6 text-signal-400"}),e[18]||(e[18]=s("h1",{class:"font-medium"},"Naturvårdssvampar",-1))]),s("div",Xl,[o(_,{name:"i-fluent-shape-organic-16-filled",class:"size-6 text-yellow-400"}),e[19]||(e[19]=s("h1",{class:"font-medium"},"Matsvampar",-1))])])]),default:n(()=>[s("div",Kl,[o(_,{name:"i-fluent-shape-organic-16-filled",class:"size-4 text-gray-300 z-20"}),o(_,{name:"i-fluent-shape-organic-16-filled",class:"size-4 -mt-3 text-signal-400 z-10"}),o(_,{name:"i-fluent-shape-organic-16-filled",class:"size-4 -mt-3 text-yellow-400"})])]),_:1})]),F.value&&b.value?(i(),p(zt,{key:0,class:"w-full h-full","framework-label":de.value?.leftFramework,"time-label":de.value?.leftTime,"framework-label2":de.value?.rightFramework,"time-label2":de.value?.rightTime},{first:n(()=>[s("div",Zl,[s("img",{src:b.value.leftHidden||b.value.left,class:"w-full h-full object-cover absolute inset-0",loading:"lazy"},null,8,Gl),s("img",{src:b.value.left,class:"w-full h-full object-cover relative",loading:"lazy",style:me({opacity:Y.value})},null,12,ea)])]),second:n(()=>[s("div",ta,[s("img",{src:b.value.rightHidden||b.value.right,class:"w-full h-full object-cover absolute inset-0",loading:"lazy"},null,8,la),s("img",{src:b.value.right,class:"w-full h-full object-cover relative transition-opacity duration-500",loading:"lazy",style:me({opacity:Y.value})},null,12,aa)])]),_:1},8,["framework-label","time-label","framework-label2","time-label2"])):I.value?(i(),u(L,{key:1},[s("img",{src:I.value.thumbHidden,alt:`Foto ${I.value.tid}`,class:"w-full h-full object-cover absolute inset-0"},null,8,sa),s("img",{src:I.value.thumb,alt:`Foto ${I.value.tid}`,class:"w-full h-full object-cover relative transition-opacity duration-500",style:me({opacity:Y.value})},null,12,oa),s("div",ia,[g(A)?k("",!0):(i(),p(Pe,{key:0,size:"md",class:"backdrop-blur-xl bg-neutral-100/0 text-neutral-100 h-fit whitespace-nowrap mb-0.5"},{default:n(()=>[le(x(c.value.title||c.value.id),1)]),_:1})),o(Pe,{size:"md",class:"backdrop-blur-xl bg-neutral-950/50 text-neutral-100 h-fit whitespace-nowrap"},{default:n(()=>[le(x(he($.value[T.value]?.tid)),1)]),_:1})])],64)):(i(),p(D,{key:2}))]))]),_:1})],4),s("div",na,[s("div",ra,[o(ce,{close:!1,transition:!0,overlay:!0,ui:{content:"max-w-xs sm:max-w-xs p-4 sm:p-6 pb-2"},title:"Har skogen varit kalavverkad tidigare?",description:"Hur skogen har brukats tidigare påverkar vilka mykorrhizasvampar som finns. Valet återspeglas i tidslinjen och diagrammen."},{content:n(()=>[e[20]||(e[20]=s("h1",{class:"font-semibold mb-2"},"Har skogen varit kalavverkad tidigare? ",-1)),e[21]||(e[21]=s("p",{class:"text-muted text-sm mb-4"},"Hur skogen har brukats tidigare påverkar vilka mykorrhizasvampar som finns. Valet återspeglas i tidslinjen och diagrammen.",-1)),o(r,{items:g(G),modelValue:z.value,"onUpdate:modelValue":e[6]||(e[6]=l=>z.value=l),icon:rt.value,class:"transition-all ring-muted/50 mb-2 sm:mb-0"},null,8,["items","modelValue","icon"]),e[22]||(e[22]=s("p",{class:"text-neutral-700 text-xs"},null,-1))]),default:n(()=>[o(Ne,{text:"Skogens historik"},{default:n(()=>[o(a,{color:"neutral",variant:"outline","leading-icon":Me.value?.icon,label:Me.value?.label||"",class:"ring-muted/50"},null,8,["leading-icon","label"])]),_:1})]),_:1}),o(Ae,{orientation:"vertical",class:"h-6"}),(i(!0),u(L,null,W($.value,(l,d)=>(i(),p(a,{key:`immersive-timeline-${d}`,color:"neutral",variant:"outline",class:ve([d===T.value?"border-neutral-900 bg-neutral-900 hover:bg-neutral-900 text-white opacity-100 ring-0 shadow":"border-transparent opacity-70 hover:opacity-100","ring-muted/50 flex-none whitespace-nowrap"]),label:vt(l.tid),onClick:j=>ct(d)},null,8,["class","label","onClick"]))),128))]),o(ce,{ui:{content:"p-0 w-80"},content:{align:"end",side:"bottom",sideOffset:8}},{content:n(()=>[s("div",ua,[s("div",da,[o(a,{size:"xs",variant:"outline",color:"neutral",onClick:e[7]||(e[7]=l=>Te(!1)),class:ve(P.value?"text-muted/60 hover:text-muted ring-muted/50":"bg-neutral-100 shadow ring-muted")},{default:n(()=>[s("div",ca,[o(_,{name:"i-bx-rectangle",class:"size-4"}),e[23]||(e[23]=s("h1",null,"Enkelvy",-1))])]),_:1},8,["class"]),o(a,{size:"xs",variant:"outline",color:"neutral",onClick:e[8]||(e[8]=l=>Te(!0)),class:ve(P.value?"bg-neutral-100 shadow ring-muted":"text-muted/60 hover:text-muted ring-muted/50")},{default:n(()=>[s("div",ma,[o(_,{name:"iconamoon:compare-duotone",class:"size-4"}),e[24]||(e[24]=s("h1",null,"Jämför",-1))])]),_:1},8,["class"])]),P.value?(i(),p(Oe,{key:0,modelValue:U.value,"onUpdate:modelValue":e[9]||(e[9]=l=>U.value=l),items:ot.value,size:"sm",placeholder:"Välj",clearable:!1,class:"w-full ring-muted -mb-2 mt-2",ui:{root:"min-w-max flex-shrink-0",list:"flex-nowrap rounded-xl bg-muted/50 -mb-1.5 gap-2",indicator:"bg-white border border-muted/50 shadow ",trigger:" data-[state=active]:text-neutral-800 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary "}},null,8,["modelValue","items"])):k("",!0),P.value&&U.value==="methods"?(i(),u("div",va,[e[25]||(e[25]=s("p",{class:"text-xs text-neutral-600 pt-2"},"Välj metod att jämföra med",-1)),o(r,{items:ut.value,modelValue:V.value,"onUpdate:modelValue":e[10]||(e[10]=l=>V.value=l),placeholder:"Välj metod",class:"w-full ring-muted",popper:{placement:"bottom-start"}},null,8,["items","modelValue"])])):k("",!0)])]),default:n(()=>[o(a,{color:"neutral",variant:"outline",icon:"iconamoon:compare-duotone",label:(P.value,"Jämför"),class:"ring-muted"},null,8,["label"])]),_:1})]),s("div",pa,[s("div",fa,[s("h3",ga,x(he($.value[T.value]?.tid)),1),s("p",ha,x($.value[T.value]?.skog),1),s("p",_a,x($.value[T.value]?.svamp),1)]),o(Be,{selectedChart:X.value,class:"p-2","onUpdate:selectedChart":e[11]||(e[11]=l=>X.value=l),parentSelectedFrameworks:Ce.value,currentStartskog:z.value,currentTimeValue:Ue.value,preserveFrameworkOrder:""},null,8,["selectedChart","parentSelectedFrameworks","currentStartskog","currentTimeValue"])])])):oe.value==="about"?(i(),u("div",ka,[o(He,{title:c.value.title,ui:{container:"pt-7 pb-3 sm:py-5 md:pt-16 md:pb-10 lg:pt-16 lg:pb-10 flex flex-col justify-center",title:"text-4xl sm:text-6xl",headline:"flex justify-center items-center"}},{default:n(()=>[s("img",{src:Qe(c.value,"detail"),alt:`Bild för ${c.value.title}`,class:"rounded-lg ring ring-muted/50"},null,8,ba)]),_:1},8,["title"]),s("div",xa,[s("div",ya,[(i(!0),u(L,null,W(_t.value,l=>(i(),u("section",{key:`${l.value}-${c.value.id}`,class:"space-y-3"},[s("h2",{class:ve(["font-semibold text-neutral-900",l.value==="svamp"?"text-lg md:text-xl":"text-xl md:text-2xl"])},x(l.label),3),s("div",wa,[(i(!0),u(L,null,W(l.paragraphs,(d,j)=>(i(),u(L,null,[l.value==="svamp"?Je((i(),u("div",za,[o(_,{name:"icon-park-solid:knife-fork",class:"size-5 text-warning-500"}),e[26]||(e[26]=s("span",null,"Matsvampar",-1))],512)),[[Ke,j===l.paragraphs.length-2]]):k("",!0),l.value==="svamp"?Je((i(),u("div",Sa,[o(_,{name:"i-material-symbols-award-star",class:"size-5 text-signal-500"}),e[27]||(e[27]=s("span",null,"Naturvårdssvampar",-1))],512)),[[Ke,j===l.paragraphs.length-1]]):k("",!0),o(St,{value:d,unwrap:"p"},null,8,["value"])],64))),256))])]))),128))])]),s("div",Ta,[q.value.prev?(i(),p(Ee,{key:0,color:"neutral",variant:"outline",icon:"i-heroicons-arrow-left-20-solid",title:`${q.value.prev.title}`,class:"ring-muted/50",onClick:e[12]||(e[12]=l=>De(q.value.prev.id)),ui:{leading:"text-sm",title:"truncate whitespace-nowrap max-w-[14ch] sm:max-w-none"}},{leading:n(()=>[o(_,{name:"i-heroicons-chevron-left",class:"mr-1"}),e[28]||(e[28]=le(" Föregående ",-1))]),_:1},8,["title"])):(i(),u("div",Ca)),q.value.next?(i(),p(Ee,{key:2,color:"neutral",variant:"outline",icon:"i-heroicons-arrow-right-20-solid",title:`${q.value.next.title}`,class:"ring-muted/50",onClick:e[13]||(e[13]=l=>De(q.value.next.id)),ui:{leading:"w-full flex justify-end text-sm",body:"w-full flex justify-end",title:"truncate whitespace-nowrap max-w-[14ch] sm:max-w-none text-right"}},{leading:n(()=>[e[29]||(e[29]=le("Nästa ",-1)),o(_,{name:"i-heroicons-chevron-right",class:"ml-1"})]),_:1},8,["title"])):k("",!0)])])):k("",!0)]),_:2},[Z.value?{name:"left",fn:n(()=>[o(yt,{ui:{container:" flex flex-col flex-1 h-full",root:""}},{top:n(()=>[s("div",null,[e[16]||(e[16]=s("p",{class:"text-sm font-medium text-neutral-800 mt-4 mb-2"},"Skötselmetoder",-1)),(i(!0),u(L,null,W(h.value,l=>(i(),u("div",Tl,[o(Ne,{text:l.shortdescription||l.title,content:{side:"right"}},{default:n(()=>[o(a,{label:l.title,"leading-icon":l.icon,onClick:d=>w.value=l.id,color:w.value===l.id?"primary":"neutral",variant:"ghost",class:"ring-muted/50 w-full"},null,8,["label","leading-icon","onClick","color"])]),_:2},1032,["text"])]))),256))])]),default:n(()=>[o(Ae,{class:"mb-8"}),s("div",Cl,[(i(!0),u(L,null,W(_e.value,l=>(i(),u(L,{key:l.key},[l.key==="naturvardsarter"?(i(),p(R,{key:0,open:E.value,"onUpdate:open":e[2]||(e[2]=d=>E.value=d),title:l.title,description:l.description,ui:{header:"shrink-0"}},{body:n(()=>[l.images?.length?(i(),u("div",$l,[o(C,{dots:"",arrows:"",items:l.images.map((d,j)=>({src:d,idx:j})),"prev-icon":"i-heroicons-chevron-left","next-icon":"i-heroicons-chevron-right",ui:{dots:"-bottom-4",dot:"w-6 h-1",prev:"start-4 sm:start-4 top-1/2 -translate-y-1/2",next:"end-4 sm:end-4 top-1/2 -translate-y-1/2"},class:"w-full"},{default:n(({item:d})=>[s("div",Ml,[s("img",{src:d.src,alt:l.title,class:"h-72 w-full",loading:"lazy"},null,8,jl),l.imageDescriptions?.[d.idx]?(i(),u("div",Ul,x(l.imageDescriptions[d.idx]),1)):k("",!0)])]),_:2},1032,["items"])])):l.image?(i(),u("img",{key:1,src:l.image,class:"rounded-md mb-4"},null,8,Vl)):(i(),p(D,{key:2})),l.doc?.body?(i(),p(ee,{key:3,value:l.doc},null,8,["value"])):(i(),u("p",Il,x(l.description),1)),s("div",Fl,[o(a,{color:"signal",variant:"subtle",icon:"i-carbon-chart-line-smooth",label:"Diagram för naturvårdssvampar",class:"",onClick:Ie})])]),default:n(()=>[s("div",null,[o(a,{label:l.title,icon:l.icon,color:"neutral",variant:"ghost",class:"ring-muted/50 w-full justify-start"},null,8,["label","icon"])])]),_:2},1032,["open","title","description"])):(i(),p(R,{key:1,title:l.title,description:l.description,ui:{header:"shrink-0"}},{body:n(()=>[l.images?.length?(i(),u("div",Dl,[o(C,{dots:"",arrows:"",items:l.images.map((d,j)=>({src:d,idx:j})),"prev-icon":"i-heroicons-chevron-left","next-icon":"i-heroicons-chevron-right",ui:{dots:"-bottom-4",dot:"w-6 h-1",prev:"start-4 sm:start-4 top-1/2 -translate-y-1/2",next:"end-4 sm:end-4 top-1/2 -translate-y-1/2"},class:"w-full"},{default:n(({item:d})=>[s("div",Hl,[s("img",{src:d.src,alt:l.title,class:"h-72 w-full",loading:"lazy"},null,8,Ll),l.imageDescriptions?.[d.idx]?(i(),u("div",Nl,x(l.imageDescriptions[d.idx]),1)):k("",!0)])]),_:2},1032,["items"])])):l.image?(i(),u("img",{key:1,src:l.image,class:"rounded-md mb-4"},null,8,Al)):(i(),p(D,{key:2})),l.doc?.body?(i(),p(ee,{key:3,value:l.doc},null,8,["value"])):(i(),u("p",Ol,x(l.description),1))]),default:n(()=>[s("div",null,[o(a,{label:l.title,icon:l.icon,color:"neutral",variant:"ghost",class:"ring-muted/50 w-full justify-start"},null,8,["label","icon"])])]),_:2},1032,["title","description"]))],64))),128))])]),bottom:n(()=>[s("div",Pl,[o(R,{scrollable:"",fullscreen:!!g(A),title:g(y).ecologyintro?.title??"",description:g(y).ecologyintro?.description??"",ui:{header:"shrink-0"},class:"h-full"},{body:n(()=>[o(bt,{section:g(y).ecologyintro},null,8,["section"])]),default:n(()=>[o(a,{icon:"i-heroicons-book-open",color:"neutral",variant:"ghost",label:"Fakta i korthet",class:"sm:w-full ring-muted/50"})]),_:1},8,["fullscreen","title","description"]),o(R,{fullscreen:!!g(A),title:g(y).underlag,description:g(y).underlagdescription,ui:{header:"shrink-0"}},{body:n(()=>[o(xt,{underlag:g(y).underlag,underlagbild:g(y).underlagbild,sections:g(y).underlagSections},null,8,["underlag","underlagbild","sections"])]),default:n(()=>[o(a,{icon:"i-heroicons-document-magnifying-glass",color:"neutral",variant:"ghost",label:g(y).underlag,class:"sm:w-full ring-muted/50"},null,8,["label"])]),_:1},8,["fullscreen","title","description"])])]),_:1})]),key:"0"}:void 0]),1032,["left","ui"])]),_:1})):k("",!0),o(Ct,{modal:!1,dismissible:!1,open:Se.value,"onUpdate:open":e[15]||(e[15]=l=>Se.value=l),side:"right",ui:{body:"p-2 lg:p-2"}},{title:n(()=>[...e[30]||(e[30]=[le("Diagram",-1)])]),body:n(()=>[o(Be,{selectedChart:X.value,"onUpdate:selectedChart":e[14]||(e[14]=l=>X.value=l),parentSelectedFrameworks:Ce.value,currentStartskog:z.value,currentTimeValue:Ue.value,preserveFrameworkOrder:""},null,8,["selectedChart","parentSelectedFrameworks","currentStartskog","currentTimeValue"])]),_:1},8,["open"])])):k("",!0)}}}),ls=Yt($a,[["__scopeId","data-v-5aaf41f6"]]);export{ls as default};
