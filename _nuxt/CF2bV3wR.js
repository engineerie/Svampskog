import{B as ve,W as m,a5 as be,r as L,b3 as ke,b4 as Ce,K as ce,b5 as $e,aS as Be,d as h,f,h as r,N as B,g as a,w as v,P as x,V as te,b6 as Se,aH as _e,e as l,O as se,F as oe,t as F,U as ue,n as b,aB as he,aM as De,af as ge,L as de,_ as Te,aD as pe,aI as ze,b7 as Me,aE as me,aF as fe,ae as Ie,ap as Ue,av as je,ag as Le,aC as Fe,aL as Ne}from"#entry";import{a as Ae,_ as Ee}from"./M6FqIhNO.js";import{_ as He}from"./CrWnOoLk.js";import{M as ae,_ as we}from"./eV839XxS.js";import{_ as Re}from"./Bnqu9O1N.js";import{_ as Ve}from"./ChamUCqd.js";import{_ as Pe}from"./BryEemLf.js";import"./CFzgJ_Qc.js";import"./DQT6uneS.js";import"./C34hH_Fk.js";import"./hkhKXcQc.js";import"./iik6CYzq.js";import"./CWMBI_4e.js";import"./CudAv0bZ.js";import"./Cpj98o6Y.js";const Oe={key:0,class:"py-16 sm:py-20"},Ke={class:"px-0 mx-auto overflow-hidden"},We={key:0,class:"text-3xl font-semibold sm:text-4xl text-neutral-900"},Ye={key:1,class:"mt-2 text-neutral-600 max-w-2xl"},qe=["aria-expanded","onClick","onKeyup"],Ge={key:1,class:""},Je={key:0,class:"relative overflow-hidden"},Qe={class:"p-4 space-y-2"},Xe={key:0,class:"text-xl font-semibold text-neutral-900 text-start"},Ze={key:0,class:"fixed inset-0 z-20 flex items-center justify-center"},et={class:"h-full w-full bg-white absolute"},tt={class:"flex flex-col sm:flex-row sm:items-end sm:justify-between"},st={class:"transition-all"},ot=ve({__name:"SCarousel",props:{section:{},items:{},title:{},description:{}},setup(le){const _=le,g=m(()=>_.items??_.section?.items??[]),S=be(),w=m(()=>!!S.card),G=m(()=>!!S.details),E=m(()=>!!S.header),N=m(()=>_.section?.title??_.title??null),A=m(()=>_.section?.description??_.description??null),J=m(()=>!!(N.value||A.value||E.value)),d=L(null),k=L(!1),M={duration:.25,easing:"easeInOut"},P=ke(document.body),t=Ce({initial:null,frame:null,source:null,showBackdrop:!1,showDetails:!1,closing:!1}),C=L([]),n=L(null);ce(g,()=>{C.value=[]});const s=m(()=>t.initial),$=m(()=>t.frame),o=m(()=>t.showBackdrop),O=m(()=>t.showDetails),H=m(()=>t.closing),y=m(()=>d.value===null?null:g.value[d.value]??null);function D(e){return e?e.image??e.img??"":""}function K(e){return e?e.description??"":""}function Q(e){const c=["w-full object-cover transition-transform duration-500 group-hover:scale-[1.02]"];return(typeof e?.noBorder=="boolean"?e?.noBorder:!1)||c.push("ring ring-neutral-200 shadow"),c}function R(e){const c=window.innerWidth,i=window.innerHeight,p=Math.min(0,Math.max(32,c*.05));e.height/e.width;let I=Math.min(c-p*2,800),ee=i;return{top:42,left:(c-I)/2,width:I,height:ee}}async function T(e,c){if(k.value||!g.value[e])return;const i=c.currentTarget;if(!i)return;const p=i.getBoundingClientRect();t.source=i,t.initial={top:p.top,left:p.left,width:p.width,height:p.height},t.frame={...t.initial},t.showBackdrop=!1,t.showDetails=!1,t.closing=!1,d.value=e,k.value=!0,await de(),n.value?.emblaApi?.scrollTo(e),requestAnimationFrame(()=>{t.showBackdrop=!0,t.frame=R(p),window.setTimeout(()=>{k.value&&d.value===e&&(t.showDetails=!0)},M.duration*1e3*.6)})}function V(){if(!k.value)return;t.showDetails=!1,t.closing=!0,t.showBackdrop=!1;const e=t.source?.getBoundingClientRect();t.frame=e?{top:e.top,left:e.left,width:e.width,height:e.height}:t.initial,window.setTimeout(()=>{k.value=!1,d.value=null,t.initial=null,t.frame=null,t.source=null,t.showDetails=!1,t.showBackdrop=!1,t.closing=!1},M.duration*1e3)}ce(k,e=>{P.value=e,e||(t.showBackdrop=!1,t.showDetails=!1,t.closing=!1)}),$e(window,"keydown",e=>{e.key==="Escape"&&V()}),Be(()=>{P.value=!1});function X(e,c){e&&(C.value[c]=e)}function Z(e,c=!1){const i=C.value[e];if(!i)return;const p=i.getBoundingClientRect();t.source=i,t.initial={top:p.top,left:p.left,width:p.width,height:p.height},c&&(t.frame=R(p))}const W=m(()=>g.value.length>1);function Y(e,c){if(!W.value||d.value===null)return null;const i=g.value;if(!i.length)return null;const p=(d.value+c+i.length)%i.length,I=i[p]?.title;return I?`${e}: ${I}`:e}const u=m(()=>Y("Föregående",-1)),ne=m(()=>Y("Nästa",1));function ie(e){const c=g.value;if(!c.length)return;const i=(e+c.length)%c.length;d.value!==i&&(t.showDetails=!1,d.value=i,de(()=>{n.value?.emblaApi?.scrollTo(i),requestAnimationFrame(()=>{Z(i,!0),t.showDetails=!0})}))}function ye(){d.value!==null&&ie(d.value+1)}function xe(){d.value!==null&&ie(d.value-1)}return(e,c)=>{const i=_e,p=he,I=Pe,ee=we,re=De,q=ge;return g.value.length?(l(),h("section",Oe,[r("div",Ke,[J.value?(l(),B(i,{key:0,class:"mb-8 sm:mb-10 px-6"},{default:v(()=>[E.value?se(e.$slots,"header",{key:0,title:N.value,description:A.value},void 0,!0):(l(),h(oe,{key:1},[N.value?(l(),h("h2",We,F(N.value),1)):f("",!0),A.value?(l(),h("p",Ye,F(A.value),1)):f("",!0)],64))]),_:3})):f("",!0),a(i,{class:"overflow-visible"},{default:v(()=>[g.value.length?(l(),B(I,{key:0,ref_key:"carouselRef",ref:n,items:g.value,arrows:"",class:"pb-6 mb-12",ui:{viewport:"overflow-visible",container:"",item:"basis-8/9 sm:basis-[350px]",controls:"mt-12 flex justify-center",arrows:"flex gap-4",prev:"!static !transform-none ring-0",next:"!static !transform-none ring-0"}},{default:v(({item:U,index:z})=>[r("button",{class:"group relative w-full focus-visible:outline focus-visible:outline-offset-4 focus-visible:outline-primary transition-opacity","aria-expanded":d.value===z,onClick:j=>T(z,j),onKeyup:[ue(te(j=>T(z,j),["prevent"]),["enter"]),ue(te(j=>T(z,j),["prevent"]),["space"])],ref:j=>X(j,z)},[r("div",{class:b(["relative overflow-hidden rounded border border-muted/50 bg-white group-hover:bg-neutral-50 cursor-pointer h-full",d.value===z&&(o.value||H.value)?"opacity-0 pointer-events-none delay-25":"opacity-100"])},[w.value?se(e.$slots,"card",{key:0,item:U,index:z,active:d.value===z},void 0,!0):(l(),h("div",Ge,[D(U)?(l(),h("div",Je,[a(p,{src:D(U),alt:U.title||"",fit:"cover",width:"500",height:"300",class:b(Q(U)),loading:"lazy",decoding:"async"},null,8,["src","alt","class"])])):f("",!0),r("div",Qe,[U.title?(l(),h("h3",Xe,F(U.title),1)):f("",!0)])]))],2)],40,qe)]),_:3},8,["items"])):f("",!0)]),_:3})]),(l(),B(Se,{to:"body"},[k.value&&s.value&&$.value?(l(),h("div",Ze,[a(x(ae),{class:"absolute inset-0 bg-white",initial:{opacity:0},animate:{opacity:o.value?1:0},transition:{duration:.2,ease:"easeInOut"},onClick:V},null,8,["animate"]),a(x(ae),{class:"bg-white overflow-y-auto rounded-xl border border-muted/50 fixed will-change-transform shadow-xl overlay-scrollbar",initial:s.value,animate:$.value,transition:M,onClick:c[0]||(c[0]=te(()=>{},["stop"]))},{default:v(()=>[r("div",et,[r("div",{class:b([(O.value,"p-0"),"transition-all"])},[y.value&&D(y.value)?(l(),B(p,{key:0,fit:"cover",width:"1000",height:"600",src:D(y.value),alt:y.value?.title??"",class:"w-full",loading:"eager",decoding:"async"},null,8,["src","alt"])):f("",!0),y.value?(l(),h("div",{key:1,class:b(["pointer-events-none pb-18",o.value?"p-4 py-8 sm:p-10 sm:mx-auto sm:max-w-2xl":"mx-0 p-4 w-full"])},[G.value?se(e.$slots,"details",{key:0,item:y.value,index:d.value},void 0,!0):(l(),h(oe,{key:1},[r("div",tt,[r("div",st,[y.value?.title?(l(),h("h3",{key:0,class:b(["font-semibold text-neutral-900 transition-opacity",o.value?"text-4xl mb-4 sm:text-5xl sm:mb-8 opacity-100 delay-75":"opacity-0 text-lg mb-0"])},F(y.value.title),3)):f("",!0),K(y.value)?(l(),B(ee,{key:1,value:K(y.value),class:b(["mt-2 max-w-2xl sm:text-lg text-neutral-500 transition-opacity duration-100",o.value?"opacity-100 delay-100":"opacity-0"])},null,8,["value","class"])):f("",!0),y.value.img2?(l(),h("div",{key:2,class:b(["flex justify-center my-18",o.value?"opacity-100 delay-100":"opacity-0"])},[a(p,{src:y.value.img2,class:"rounded ring ring-muted/50"},null,8,["src"])],2)):f("",!0)])]),a(re,{class:"my-8"})],64)),W.value?(l(),h("div",{key:2,class:b(["pointer-events-auto flex flex-row sm:items-center justify-center gap-3 sm:gap-2 pb-6 my-12",o.value?"opacity-100 transition-opacity duration-300":"opacity-0"])},[u.value?(l(),B(q,{key:0,icon:"i-heroicons-chevron-left",variant:"soft",color:"neutral",class:"justify-start whitespace-normal rounded-full",onClick:xe,"aria-label":"Föregående",size:"xl"})):f("",!0),ne.value?(l(),B(q,{key:1,icon:"i-heroicons-chevron-right",variant:"soft",color:"neutral",class:"justify-end text-left whitespace-normal rounded-full",trailing:"",onClick:ye,"aria-label":"Nästa",size:"xl"})):f("",!0)],2)):f("",!0)],2)):f("",!0)],2)]),a(q,{class:b([o.value?"opacity-100":"opacity-0","fixed right-4 top-4 shadow hover:bg-white rounded-full md:m-0 transition-all"]),"aria-label":"Stäng kort",color:"neutral",variant:"soft",icon:"heroicons:x-mark",size:"xl",onClick:V},null,8,["class"])]),_:3},8,["initial","animate"])])):f("",!0)]))])):f("",!0)}}}),at=Object.assign(Te(ot,[["__scopeId","data-v-be5735b9"]]),{__name:"SCarousel"}),lt={key:0,class:"flex-1"},nt=["onClick"],it={class:"text-lg p-2 px-3 font-medium"},rt={class:"w-full ring ring-muted/50 rounded relative overflow-hidden shadow"},ct={class:"sm:grid grid-cols-2 gap-6"},ut={class:"px-6 sm:px-12 sm:border-r border-muted/50"},dt={class:"my-4 text-3xl sm:text-4xl font-medium text-neutral-900"},pt={class:"px-6 sm:px-12"},mt={class:"p-6 pb-2"},ft={class:"font-semibold"},vt={class:"lg:flex gap-4 space-y-2 lg:space-y-0"},_t=["src"],ht={class:"w-full px-6 border border-muted/50 bg-muted/50 rounded h-fit"},gt={class:"w-full bg-white px-6 border border-muted/50 rounded h-fit"},wt={class:"bg-muted border-t border-muted mt-18"},Lt=ve({__name:"index_legacy",async setup(le){let _,g;const S=L(!1),{data:w}=([_,g]=pe(()=>me("skogsskotsel",()=>fe("skogsskotsel").first())),_=await _,g(),_);if(!w.value)throw ze({statusCode:404,statusMessage:"Page not found",fatal:!0});const G=n=>{const s=n?.toLowerCase?.()??"";return s==="intekalavverkad"?"naturskog":s==="produktionsskog"?"produktionsskog_":n},E=n=>(n?.toLowerCase?.()??"")==="ingenatgard"?"naturskydd":n,N=n=>{const s=String(n).trim().toLowerCase();return s.includes("efter")?"efter":s.includes("innan")||s.includes("före")||s.includes("fore")?"fore":s.replace(/[^0-9]/g,"")||s},A=(n,s,$)=>{const o=H=>H.trim().normalize("NFD").replace(/å/gi,"a").replace(/ä/gi,"a").replace(/ö/gi,"o").replace(new RegExp("\\p{Diacritic}+","gu"),"").toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,"");return`/images/thumbnails/${`${o(n)}_${N(String(s))}_visa_visa_${o($)}.webp`}`},{data:J}=([_,g]=pe(()=>me("forestry-timeline-skogsskotsel",()=>fe("forestryTimelines").first())),_=await _,g(),_),d=m(()=>{const n=J.value?.entries??[],s=C.value.id,$=E(s);return n.map(o=>({...o,startskog:G(o.startskog),atgard:E(o.atgard)})).filter(o=>o.startskog==="naturskog"&&o.atgard===$).map(o=>({tid:o.tid,skog:o.skog,svamp:o.svamp,thumb:A(o.atgard,o.tid,o.startskog)}))}),k=L([{label:"Diagram",icon:"i-heroicons-presentation-chart-line",slot:"diagram"},{label:"Tidslinje",icon:"i-heroicons-list-bullet",slot:"timeline"},{label:"Text",icon:"i-heroicons-book-open",slot:"text"}]),M=m(()=>w.value?.methods??[]),P={id:"",title:"",image:"",shortdescription:"",description:"",descriptionsvamp:""},t=L("");Me(()=>{const n=M.value[0];n&&!t.value&&(t.value=n.id)});const C=m(()=>{const n=M.value;return n.length?n.find(s=>s.id===t.value)??n[0]:P});return(n,s)=>{const $=ge,o=Ue,O=Ae,H=je,y=He,D=_e,K=Fe,Q=he,R=ae,T=we,V=Ne,X=Ee,Z=Re,W=Ve,Y=at;return x(w)?(l(),h("div",lt,[a(D,{class:"w-full px-0"},{default:v(()=>[a(y,{ui:{container:"py-12 lg:py-24",title:"sm:text-7xl",headline:"text-neutral"},title:x(w).hero.title,description:x(w).hero.description,orientation:x(w).hero.orientation,class:""},Ie({_:2},[x(w)?.hero?.links?.[0]?{name:"links",fn:v(()=>[a(o,{color:"warning",size:"2xl"},{default:v(()=>[a($,{label:x(w).hero.links[0].label,size:x(w).hero.links[0].size,color:x(w).hero.links[0].color,icon:x(w).hero.links[0].icon,onClick:s[0]||(s[0]=u=>S.value=!0)},null,8,["label","size","color","icon"])]),_:1}),a(H,{open:S.value,"onUpdate:open":s[2]||(s[2]=u=>S.value=u),fullscreen:""},{content:v(()=>[a(O,{onClose:s[1]||(s[1]=u=>S.value=!1)})]),_:1},8,["open"])]),key:"0"}:void 0]),1032,["title","description","orientation"])]),_:1}),a(D,{class:"w-full flex justify-between py-4 gap-6 overflow-scroll lg:overflow-hidden"},{default:v(()=>[(l(!0),h(oe,null,Le(M.value,u=>(l(),B(R,{key:u.id,class:"relative",initial:{scale:1,transform:"translateY(10px)",opacity:0},animate:{scale:1,transform:"translateY(0px)",opacity:1},transition:{duration:.3,delay:.3+.05*(u.index??0)}},{default:v(()=>[r("div",{onClick:ne=>t.value=u.id,class:b(["shrink-0 lg:shrink w-58 lg:w-full bg-white transition-all hover:opacity-100 border border-muted/50 overflow-hidden rounded h-fit shadow hover:shadow-md relative cursor-pointer",t.value===u.id?"opacity-100":"opacity-30"])},[u.type?(l(),B(K,{key:0,class:"absolute top-2 left-2",label:u.type,color:"neutral",variant:"subtle"},null,8,["label"])):f("",!0),a(Q,{src:u.image,width:"300",height:"160",class:"w-full h-full"},null,8,["src"]),r("h1",it,F(u.title),1)],10,nt)]),_:2},1032,["transition"]))),128))]),_:1}),a(D,{class:"w-full pt-2 px-0 sm:px-6"},{default:v(()=>[a(R,{class:"flex justify-center w-full",initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0px)"},transition:{duration:.5,delay:1}},{default:v(()=>[r("div",rt,[a(W,{ui:{list:"p-2 justify-center sm:justify-start",root:""},items:k.value,color:"primary",size:"md",class:"w-full",variant:"link"},{text:v(()=>[a(V,{class:"pt-4 sm:p-6"},{default:v(()=>[r("div",ct,[r("div",ut,[r("h1",dt,F(C.value.title),1),a(T,{class:"text-lg text-neutral-800 mb-8",value:C.value.description},null,8,["value"])]),r("div",pt,[s[3]||(s[3]=r("h1",{class:"my-4 text-2xl font-medium text-neutral-900"},"Påverkan på mykorrhizasvampar ",-1)),a(T,{class:"text-lg text-neutral-800",value:C.value.descriptionsvamp},null,8,["value"])])])]),_:1})]),diagram:v(()=>[a(X,{parentSelectedFrameworks:[C.value.id],currentStartskog:"naturskog"},null,8,["parentSelectedFrameworks"])]),timeline:v(()=>[r("div",mt,[a(Z,{items:d.value,size:"3xs",ui:{indicator:"bg-neutral-200/50 ",separator:"bg-neutral-200/50",description:"p-0 mt-2 text-default"}},{title:v(({item:u})=>[r("span",ft,F(u.tid),1)]),description:v(({item:u})=>[r("div",vt,[r("img",{src:u.thumb,class:"w-80 h-fit rounded"},null,8,_t),r("div",ht,[a(T,{value:u.skog},null,8,["value"])]),r("div",gt,[a(T,{value:u.svamp},null,8,["value"])])])]),_:1},8,["items"])])]),_:1},8,["items"])])]),_:1})]),_:1}),r("div",wt,[a(Y,{section:x(w).carousel},null,8,["section"])])])):f("",!0)}}});export{Lt as default};
