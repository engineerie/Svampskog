import{_ as pr}from"./BkhJZV5s.js";import{B as Te,aJ as ht,W as v,r as R,d as H,o as Re,L as Ie,c as Xe,K as le,e as D,aD as nt,aE as rt,aF as it,aU as Ia,aW as mr,g as Se,ci as gr,w as $e,N as U,f as K,P as X,F as pe,ag as Ne,af as tn,h as me,aZ as ja,t as st,aN as vr,an as _r,as as yr,at as xr,av as br,_ as kr}from"#entry";import{X as dt,c as E,i as Ue,a as ft,D as Ve,f as He,b as wt,g as we,l as Ae,j as ct,s as Ye,E as Sr,k as J,O as an,d as Kt,e as wr,G as Ar,H as Cr,r as Tr,n as Br,I as Mr,J as Or,q as Dr,o as Fr,K as Nr,L as ea,M as Lr,m as $r,h as Vr,N as Rr,p as Ir,Q as ut,A as pt,y as Ke,z as Ze,S as jr,C as za}from"./BIbpS-lq.js";var ta=Math.PI,aa=2*ta,Le=1e-6,zr=aa-Le;function na(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ft(){return new na}na.prototype=Ft.prototype={constructor:na,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,a,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+a)+","+(this._y1=+n)},bezierCurveTo:function(e,t,a,n,r,i){this._+="C"+ +e+","+ +t+","+ +a+","+ +n+","+(this._x1=+r)+","+(this._y1=+i)},arcTo:function(e,t,a,n,r){e=+e,t=+t,a=+a,n=+n,r=+r;var i=this._x1,l=this._y1,s=a-e,u=n-t,x=i-e,f=l-t,d=x*x+f*f;if(r<0)throw new Error("negative radius: "+r);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>Le)if(!(Math.abs(f*s-u*x)>Le)||!r)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var _=a-i,T=n-l,B=s*s+u*u,L=_*_+T*T,A=Math.sqrt(B),C=Math.sqrt(d),S=r*Math.tan((ta-Math.acos((B+d-L)/(2*A*C)))/2),k=S/C,O=S/A;Math.abs(k-1)>Le&&(this._+="L"+(e+k*x)+","+(t+k*f)),this._+="A"+r+","+r+",0,0,"+ +(f*_>x*T)+","+(this._x1=e+O*s)+","+(this._y1=t+O*u)}},arc:function(e,t,a,n,r,i){e=+e,t=+t,a=+a,i=!!i;var l=a*Math.cos(n),s=a*Math.sin(n),u=e+l,x=t+s,f=1^i,d=i?n-r:r-n;if(a<0)throw new Error("negative radius: "+a);this._x1===null?this._+="M"+u+","+x:(Math.abs(this._x1-u)>Le||Math.abs(this._y1-x)>Le)&&(this._+="L"+u+","+x),a&&(d<0&&(d=d%aa+aa),d>zr?this._+="A"+a+","+a+",0,1,"+f+","+(e-l)+","+(t-s)+"A"+a+","+a+",0,1,"+f+","+(this._x1=u)+","+(this._y1=x):d>Le&&(this._+="A"+a+","+a+",0,"+ +(d>=ta)+","+f+","+(this._x1=e+a*Math.cos(r))+","+(this._y1=t+a*Math.sin(r))))},rect:function(e,t,a,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +a+"v"+ +n+"h"+-a+"Z"},toString:function(){return this._}};function Q(e){return function(){return e}}var Ea=1e-12,At=Math.PI,Nt=2*At;function nn(e){this._context=e}nn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ya(e){return new nn(e)}function rn(e){return e[0]}function sn(e){return e[1]}function on(){var e=rn,t=sn,a=Q(!0),n=null,r=ya,i=null;function l(s){var u,x=s.length,f,d=!1,_;for(n==null&&(i=r(_=Ft())),u=0;u<=x;++u)!(u<x&&a(f=s[u],u,s))===d&&((d=!d)?i.lineStart():i.lineEnd()),d&&i.point(+e(f,u,s),+t(f,u,s));if(_)return i=null,_+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:Q(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:Q(+s),l):t},l.defined=function(s){return arguments.length?(a=typeof s=="function"?s:Q(!!s),l):a},l.curve=function(s){return arguments.length?(r=s,n!=null&&(i=r(n)),l):r},l.context=function(s){return arguments.length?(s==null?n=i=null:i=r(n=s),l):n},l}function Er(){var e=rn,t=null,a=Q(0),n=sn,r=Q(!0),i=null,l=ya,s=null;function u(f){var d,_,T,B=f.length,L,A=!1,C,S=new Array(B),k=new Array(B);for(i==null&&(s=l(C=Ft())),d=0;d<=B;++d){if(!(d<B&&r(L=f[d],d,f))===A)if(A=!A)_=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),T=d-1;T>=_;--T)s.point(S[T],k[T]);s.lineEnd(),s.areaEnd()}A&&(S[d]=+e(L,d,f),k[d]=+a(L,d,f),s.point(t?+t(L,d,f):S[d],n?+n(L,d,f):k[d]))}if(C)return s=null,C+""||null}function x(){return on().defined(r).curve(l).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Q(+f),t=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Q(+f),u):e},u.x1=function(f){return arguments.length?(t=f==null?null:typeof f=="function"?f:Q(+f),u):t},u.y=function(f){return arguments.length?(a=typeof f=="function"?f:Q(+f),n=null,u):a},u.y0=function(f){return arguments.length?(a=typeof f=="function"?f:Q(+f),u):a},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Q(+f),u):n},u.lineX0=u.lineY0=function(){return x().x(e).y(a)},u.lineY1=function(){return x().x(e).y(n)},u.lineX1=function(){return x().x(t).y(a)},u.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Q(!!f),u):r},u.curve=function(f){return arguments.length?(l=f,i!=null&&(s=l(i)),u):l},u.context=function(f){return arguments.length?(f==null?i=s=null:s=l(i=f),u):i},u}const ln={draw:function(e,t){var a=Math.sqrt(t/At);e.moveTo(a,0),e.arc(0,0,a,0,Nt)}},Pr={draw:function(e,t){var a=Math.sqrt(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}};var cn=Math.sqrt(1/3),Wr=cn*2;const Hr={draw:function(e,t){var a=Math.sqrt(t/Wr),n=a*cn;e.moveTo(0,-a),e.lineTo(n,0),e.lineTo(0,a),e.lineTo(-n,0),e.closePath()}};var Gr=.8908130915292852,un=Math.sin(At/10)/Math.sin(7*At/10),Yr=Math.sin(Nt/10)*un,qr=-Math.cos(Nt/10)*un;const Xr={draw:function(e,t){var a=Math.sqrt(t*Gr),n=Yr*a,r=qr*a;e.moveTo(0,-a),e.lineTo(n,r);for(var i=1;i<5;++i){var l=Nt*i/5,s=Math.cos(l),u=Math.sin(l);e.lineTo(u*a,-s*a),e.lineTo(s*n-u*r,u*n+s*r)}e.closePath()}},Ur={draw:function(e,t){var a=Math.sqrt(t),n=-a/2;e.rect(n,n,a,a)}};var Zt=Math.sqrt(3);const Kr={draw:function(e,t){var a=-Math.sqrt(t/(Zt*3));e.moveTo(0,a*2),e.lineTo(-Zt*a,-a),e.lineTo(Zt*a,-a),e.closePath()}};var ue=-.5,he=Math.sqrt(3)/2,ra=1/Math.sqrt(12),Zr=(ra/2+1)*3;const Qr={draw:function(e,t){var a=Math.sqrt(t/Zr),n=a/2,r=a*ra,i=n,l=a*ra+a,s=-i,u=l;e.moveTo(n,r),e.lineTo(i,l),e.lineTo(s,u),e.lineTo(ue*n-he*r,he*n+ue*r),e.lineTo(ue*i-he*l,he*i+ue*l),e.lineTo(ue*s-he*u,he*s+ue*u),e.lineTo(ue*n+he*r,ue*r-he*n),e.lineTo(ue*i+he*l,ue*l-he*i),e.lineTo(ue*s+he*u,ue*u-he*s),e.closePath()}};function Jr(){var e=Q(ln),t=Q(64),a=null;function n(){var r;if(a||(a=r=Ft()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),r)return a=null,r+""||null}return n.type=function(r){return arguments.length?(e=typeof r=="function"?r:Q(r),n):e},n.size=function(r){return arguments.length?(t=typeof r=="function"?r:Q(+r),n):t},n.context=function(r){return arguments.length?(a=r??null,n):a},n}function Ce(){}function Ct(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function Lt(e){this._context=e}Lt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ct(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ct(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ei(e){return new Lt(e)}function hn(e){this._context=e}hn.prototype={areaStart:Ce,areaEnd:Ce,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ct(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ti(e){return new hn(e)}function dn(e){this._context=e}dn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,n):this._context.moveTo(a,n);break;case 3:this._point=4;default:Ct(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ai(e){return new dn(e)}function fn(e,t){this._basis=new Lt(e),this._beta=t}fn.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,a=e.length-1;if(a>0)for(var n=e[0],r=t[0],i=e[a]-n,l=t[a]-r,s=-1,u;++s<=a;)u=s/a,this._basis.point(this._beta*e[s]+(1-this._beta)*(n+u*i),this._beta*t[s]+(1-this._beta)*(r+u*l));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const ni=(function e(t){function a(n){return t===1?new Lt(n):new fn(n,t)}return a.beta=function(n){return e(+n)},a})(.85);function Tt(e,t,a){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-a),e._x2,e._y2)}function xa(e,t){this._context=e,this._k=(1-t)/6}xa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Tt(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Tt(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ri=(function e(t){function a(n){return new xa(n,t)}return a.tension=function(n){return e(+n)},a})(0);function ba(e,t){this._context=e,this._k=(1-t)/6}ba.prototype={areaStart:Ce,areaEnd:Ce,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Tt(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ii=(function e(t){function a(n){return new ba(n,t)}return a.tension=function(n){return e(+n)},a})(0);function ka(e,t){this._context=e,this._k=(1-t)/6}ka.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Tt(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const si=(function e(t){function a(n){return new ka(n,t)}return a.tension=function(n){return e(+n)},a})(0);function Sa(e,t,a){var n=e._x1,r=e._y1,i=e._x2,l=e._y2;if(e._l01_a>Ea){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,r=(r*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>Ea){var x=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,f=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*x+e._x1*e._l23_2a-t*e._l12_2a)/f,l=(l*x+e._y1*e._l23_2a-a*e._l12_2a)/f}e._context.bezierCurveTo(n,r,i,l,e._x2,e._y2)}function pn(e,t){this._context=e,this._alpha=t}pn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Sa(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const oi=(function e(t){function a(n){return t?new pn(n,t):new xa(n,0)}return a.alpha=function(n){return e(+n)},a})(.5);function mn(e,t){this._context=e,this._alpha=t}mn.prototype={areaStart:Ce,areaEnd:Ce,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Sa(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const li=(function e(t){function a(n){return t?new mn(n,t):new ba(n,0)}return a.alpha=function(n){return e(+n)},a})(.5);function gn(e,t){this._context=e,this._alpha=t}gn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Sa(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ci=(function e(t){function a(n){return t?new gn(n,t):new ka(n,0)}return a.alpha=function(n){return e(+n)},a})(.5);function vn(e){this._context=e}vn.prototype={areaStart:Ce,areaEnd:Ce,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ui(e){return new vn(e)}function Pa(e){return e<0?-1:1}function Wa(e,t,a){var n=e._x1-e._x0,r=t-e._x1,i=(e._y1-e._y0)/(n||r<0&&-0),l=(a-e._y1)/(r||n<0&&-0),s=(i*r+l*n)/(n+r);return(Pa(i)+Pa(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(s))||0}function Ha(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function Qt(e,t,a){var n=e._x0,r=e._y0,i=e._x1,l=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,r+s*t,i-s,l-s*a,i,l)}function Bt(e){this._context=e}Bt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qt(this,this._t0,Ha(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Qt(this,Ha(this,a=Wa(this,e,t)),a);break;default:Qt(this,this._t0,a=Wa(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function _n(e){this._context=new yn(e)}(_n.prototype=Object.create(Bt.prototype)).point=function(e,t){Bt.prototype.point.call(this,t,e)};function yn(e){this._context=e}yn.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,n,r,i){this._context.bezierCurveTo(t,e,n,a,i,r)}};function hi(e){return new Bt(e)}function di(e){return new _n(e)}function xn(e){this._context=e}xn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var n=Ga(e),r=Ga(t),i=0,l=1;l<a;++i,++l)this._context.bezierCurveTo(n[0][i],r[0][i],n[1][i],r[1][i],e[l],t[l]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ga(e){var t,a=e.length-1,n,r=new Array(a),i=new Array(a),l=new Array(a);for(r[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<a-1;++t)r[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(r[a-1]=2,i[a-1]=7,l[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)n=r[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(r[a-1]=l[a-1]/i[a-1],t=a-2;t>=0;--t)r[t]=(l[t]-r[t+1])/i[t];for(i[a-1]=(e[a]+r[a-1])/2,t=0;t<a-1;++t)i[t]=2*e[t+1]-r[t+1];return[r,i]}function fi(e){return new xn(e)}function $t(e,t){this._context=e,this._t=t}$t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function pi(e){return new $t(e,.5)}function mi(e){return new $t(e,0)}function gi(e){return new $t(e,1)}function Ya(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,n)}return a}function vi(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ya(Object(a),!0).forEach(function(n){_i(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ya(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function lt(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lt=function(t){return typeof t}:lt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(e)}function _i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Mt(){return Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Mt.apply(this,arguments)}function yi(e,t){if(e){if(typeof e=="string")return qa(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return qa(e,t)}}function qa(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function bn(e,t){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=yi(e))||t){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,s;return{s:function(){a=a.call(e)},n:function(){var u=a.next();return i=u.done,u},e:function(u){l=!0,s=u},f:function(){try{!i&&a.return!=null&&a.return()}finally{if(l)throw s}}}}function xi(e,t){var a=[],n=[];function r(i,l){if(i.length===1)a.push(i[0]),n.push(i[0]);else{for(var s=Array(i.length-1),u=0;u<s.length;u++)u===0&&a.push(i[0]),u===s.length-1&&n.push(i[u+1]),s[u]=[(1-l)*i[u][0]+l*i[u+1][0],(1-l)*i[u][1]+l*i[u+1][1]];r(s,l)}}return e.length&&r(e,t),{left:a,right:n.reverse()}}function bi(e){var t={};return e.length===4&&(t.x2=e[2][0],t.y2=e[2][1]),e.length>=3&&(t.x1=e[1][0],t.y1=e[1][1]),t.x=e[e.length-1][0],t.y=e[e.length-1][1],e.length===4?t.type="C":e.length===3?t.type="Q":t.type="L",t}function ki(e,t){t=t||2;for(var a=[],n=e,r=1/t,i=0;i<t-1;i++){var l=r/(1-r*i),s=xi(n,l);a.push(s.left),n=s.right}return a.push(n),a}function Si(e,t,a){var n=[[e.x,e.y]];return t.x1!=null&&n.push([t.x1,t.y1]),t.x2!=null&&n.push([t.x2,t.y2]),n.push([t.x,t.y]),ki(n,a).map(bi)}var wi=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,Ge={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};Object.keys(Ge).forEach(function(e){Ge[e.toLowerCase()]=Ge[e]});function ia(e,t){for(var a=Array(e),n=0;n<e;n++)a[n]=t;return a}function Ai(e){return"".concat(e.type).concat(Ge[e.type].map(function(t){return e[t]}).join(","))}function Ci(e,t){var a={x1:"x",y1:"y",x2:"x",y2:"y"},n=["xAxisRotation","largeArcFlag","sweepFlag"];if(e.type!==t.type&&t.type.toUpperCase()!=="M"){var r={};Object.keys(t).forEach(function(i){var l=t[i],s=e[i];s===void 0&&(n.includes(i)?s=l:(s===void 0&&a[i]&&(s=e[a[i]]),s===void 0&&(s=0))),r[i]=s}),r.type=t.type,e=r}return e}function Ti(e,t,a){var n=[];if(t.type==="L"||t.type==="Q"||t.type==="C")n=n.concat(Si(e,t,a));else{var r=Mt({},e);r.type==="M"&&(r.type="L"),n=n.concat(ia(a-1).map(function(){return r})),n.push(t)}return n}function Xa(e,t,a){var n=e.length-1,r=t.length-1,i=n/r,l=ia(r).reduce(function(u,x,f){var d=Math.floor(i*f);if(a&&d<e.length-1&&a(e[d],e[d+1])){var _=i*f%1<.5;u[d]&&(_?d>0?d-=1:d<e.length-1&&(d+=1):d<e.length-1?d+=1:d>0&&(d-=1))}return u[d]=(u[d]||0)+1,u},[]),s=l.reduce(function(u,x,f){if(f===e.length-1){var d=ia(x,Mt({},e[e.length-1]));return d[0].type==="M"&&d.forEach(function(_){_.type="L"}),u.concat(d)}return u.concat(Ti(e[f],e[f+1],x))},[]);return s.unshift(e[0]),s}function Ua(e){for(var t=(e||"").match(wi)||[],a=[],n,r,i=0;i<t.length;++i)if(n=Ge[t[i]],n){r={type:t[i]};for(var l=0;l<n.length;++l)r[n[l]]=+t[i+l+1];i+=n.length,a.push(r)}return a}function Bi(e,t,a){var n=e==null?[]:e.slice(),r=t==null?[]:t.slice(),i=lt(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},l=i.excludeSegment,s=i.snapEndsToInput;if(!n.length&&!r.length)return function(){return[]};var u=(n.length===0||n[n.length-1].type==="Z")&&(r.length===0||r[r.length-1].type==="Z");n.length>0&&n[n.length-1].type==="Z"&&n.pop(),r.length>0&&r[r.length-1].type==="Z"&&r.pop(),n.length?r.length||r.push(n[0]):n.push(r[0]);var x=Math.abs(r.length-n.length);x!==0&&(r.length>n.length?n=Xa(n,r,l):r.length<n.length&&(r=Xa(r,n,l))),n=n.map(function(d,_){return Ci(d,r[_])});var f=n.map(function(d){return vi({},d)});return u&&(f.push({type:"Z"}),n.push({type:"Z"})),function(_){if(_===1&&s)return t??[];if(_===0)return n;for(var T=0;T<f.length;++T){var B=n[T],L=r[T],A=f[T],C=bn(Ge[A.type]),S;try{for(C.s();!(S=C.n()).done;){var k=S.value;A[k]=(1-_)*B[k]+_*L[k],(k==="largeArcFlag"||k==="sweepFlag")&&(A[k]=Math.round(A[k]))}}catch(O){C.e(O)}finally{C.f()}}return f}}function kn(e,t,a){var n=Ua(e),r=Ua(t),i=lt(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},l=i.excludeSegment,s=i.snapEndsToInput;if(!n.length&&!r.length)return function(){return""};var u=Bi(n,r,{excludeSegment:l,snapEndsToInput:s});return function(f){if(f===1&&s)return t??"";var d=u(f),_="",T=bn(d),B;try{for(T.s();!(B=T.n()).done;){var L=B.value;_+=Ai(L)}}catch(A){T.e(A)}finally{T.f()}return _}}var W;(function(e){e.Basis="basis",e.BasisClosed="basisClosed",e.BasisOpen="basisOpen",e.Bundle="bundle",e.Cardinal="cardinal",e.CardinalClosed="cardinalClosed",e.CardinalOpen="cardinalOpen",e.CatmullRom="catmullRom",e.CatmullRomClosed="catmullRomClosed",e.CatmullRomOpen="catmullRomOpen",e.Linear="linear",e.LinearClosed="linearClosed",e.MonotoneX="monotoneX",e.MonotoneY="monotoneY",e.Natural="natural",e.Step="step",e.StepAfter="stepAfter",e.StepBefore="stepBefore"})(W||(W={}));const sa={[W.Basis]:ei,[W.BasisClosed]:ti,[W.BasisOpen]:ai,[W.Bundle]:ni,[W.Cardinal]:ri,[W.CardinalClosed]:ii,[W.CardinalOpen]:si,[W.CatmullRom]:oi,[W.CatmullRomClosed]:li,[W.CatmullRomOpen]:ci,[W.Linear]:ya,[W.LinearClosed]:ui,[W.MonotoneX]:hi,[W.MonotoneY]:di,[W.Natural]:fi,[W.Step]:pi,[W.StepAfter]:gi,[W.StepBefore]:mi},Mi=Object.assign(Object.assign({},dt),{curveType:W.MonotoneX,lineWidth:2,lineDashArray:void 0,fallbackValue:void 0,highlightOnHover:!1,cursor:null,interpolateMissingData:!1}),Oi=Ue`
  :root {
    --vis-line-cursor: default;
    --vis-line-stroke-dasharray: none;
    --vis-line-stroke-dashoffset: 0;

    --vis-line-gapfill-stroke-dasharray: 2 3;
    --vis-line-gapfill-stroke-opacity: 0.8;
    --vis-line-gapfill-stroke-dashoffset: 0;
  }
`,Di=E`
  label: line-component;
`,ot=E`
  label: line;
  transition: opacity 200ms;
  cursor: var(--vis-line-cursor);
`,oa=E`
  label: linePath;
  fill: none;
  stroke-dasharray: var(--vis-line-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-stroke-dashoffset);
`,la=E`
  label: lineSelectionHelper;
  fill: none;
  stroke: rgba(0, 0, 0, 0);
  stroke-width: 8px;
`,ca=E`
  opacity: 0.2;
`,ua=E`
  label: interpolated-path;
  fill: none;
  stroke-dasharray: var(--vis-line-gapfill-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-gapfill-stroke-dashoffset);
  stroke-opacity: var(--vis-line-gapfill-stroke-opacity);
`,Fi=Object.freeze(Object.defineProperty({__proto__:null,dim:ca,globalStyles:Oi,interpolatedPath:ua,line:ot,linePath:oa,lineSelectionHelper:la,root:Di},Symbol.toStringTag,{value:"Module"}));class Vt extends ft{constructor(t){super(),this._defaultConfig=Mi,this.config=this._defaultConfig,this.curve=sa[W.MonotoneX],this.events={[Vt.selectors.line]:{mouseover:this._highlight.bind(this),mouseleave:this._resetHighlight.bind(this)}},t&&this.setConfig(t)}get bleed(){const{config:{lineWidth:t}}=this,a=this.yScale.domain(),r=(this.yScale.range()[0]>this.yScale.range()[1]?Ve.North:Ve.South)===Ve.South,i=t>3,l=t>=10;return{top:!l&&(!r&&a[1]===0||r&&a[0]===0)?0:t/2,bottom:!l&&(!r&&a[0]===0||r&&a[1]===0)?0:t/2,left:i?t/2:0,right:i?t/2:0}}_render(t){super._render(t);const{config:a,datamodel:{data:n}}=this,r=He(t)?t:a.duration;this.curve=sa[a.curveType],this.lineGen=on().x(d=>d.x).y(d=>d.y).defined(d=>d.defined).curve(this.curve);const i=wt(a.y)?a.y:[a.y],l=n.map((d,_)=>this.xScale(we(d,a.x,_))),s=i.map(d=>{const _=n.map((C,S)=>{const k=we(C,d,S),O=(He(k)||k===null)&&isFinite(k)?k:a.fallbackValue,N=a.interpolateMissingData?(He(k)||k===null)&&isFinite(k):isFinite(O);return{x:l[S],y:this.yScale(O??0),defined:N,value:O}}),T=_.reduce((C,S)=>S.defined||C,!1);let B=!1;const L=_.reduce((C,S,k)=>{!S.defined&&isFinite(a.fallbackValue)&&C.push(Object.assign(Object.assign({},S),{defined:!0})),!S.defined&&!B&&(B=!0);const O=k>0&&!_[k-1].defined||k<_.length-1&&!_[k+1].defined;return S.defined&&O&&(B||C.push(Object.assign(Object.assign({},S),{defined:!1})),C.push(S),B=!1),C},[]),A=T&&_.some(C=>C.value!==null);return{values:_,defined:T,gaps:L,visible:A}}),u=this.g.selectAll(`.${ot}`).data(s),x=u.enter().append("g").attr("class",ot);x.append("path").attr("class",oa).attr("stroke",(d,_)=>Ae(n,a.color,_)).attr("stroke-opacity",0).attr("stroke-width",a.lineWidth),x.append("path").attr("class",la).attr("d",this._emptyPath()),x.append("path").attr("class",ua).attr("d",this._emptyPath()).style("opacity",0);const f=x.merge(u);f.style("cursor",(d,_)=>ct(n,a.cursor,_)),f.each((d,_,T)=>{var B;const L=Ye(T[_]),A=L.select(`.${oa}`),C=L.select(`.${la}`),S=L.select(`.${ua}`),k=d.visible,O=Sr(n,a.lineDashArray,_),N=J(A,r).attr("stroke",Ae(n,a.color,_)).attr("stroke-width",a.lineWidth).attr("stroke-opacity",k?1:0).style("stroke-dasharray",(B=O?.join(" "))!==null&&B!==void 0?B:null),P=d.values.some(q=>!q.defined),Z=this.lineGen(d.values);if(r&&!P){const q=A.attr("d")||this._emptyPath(),V=Z||this._emptyPath();N.attrTween("d",()=>kn(q,V))}else d.visible&&N.attr("d",Z);C.attr("d",Z).attr("visibility",k?null:"hidden"),P&&a.interpolateMissingData?J(S,r).attr("d",this.lineGen(d.gaps)).attr("stroke",Ae(n,a.color,_)).attr("stroke-width",a.lineWidth-1).style("opacity",1):S.transition().duration(r).style("opacity",0)}),J(u.exit(),r).style("opacity",0).remove()}_emptyPath(){const t=this.xScale.range(),a=this.yScale.range();return`M${t[0]},${a[0]} L${t[1]},${a[0]}`}_highlight(t){const{config:a}=this;a.highlightOnHover&&this.g.selectAll(`.${ot}`).classed(ca,n=>n!==t)}_resetHighlight(){const{config:t}=this;t.highlightOnHover&&this.g.selectAll(`.${ot}`).classed(ca,!1)}}Vt.selectors=Fi;const Ni=Object.assign(Object.assign({},dt),{color:void 0,groupMaxWidth:void 0,groupWidth:void 0,dataStep:void 0,groupPadding:.05,barPadding:0,roundedCorners:2,barMinHeight:2,cursor:null,orientation:an.Vertical}),Sn=E`
  label: grouped-bar-component;
`,Li=Ue`
  :root {
    --vis-grouped-bar-cursor: default;
    --vis-grouped-bar-fill-color: var(--vis-color-main);
    --vis-grouped-bar-stroke-color: none;
    --vis-grouped-bar-stroke-width: 0px;
    --vis-grouped-bar-hover-stroke-width: 1px;
    --vis-grouped-bar-hover-stroke-color: none;


    /* Dark Theme */
    --vis-dark-grouped-bar-stroke-color: none;
  }

  body.theme-dark ${`.${Sn}`} {
    --vis-grouped-bar-stroke-color: var(--vis-dark-grouped-bar-stroke-color);
  }
`,kt=E`
  label: bar;
  fill: var(--vis-grouped-bar-fill-color);
  stroke: var(--vis-grouped-bar-stroke-color);
  stroke-width: var(--vis-grouped-bar-stroke-width);
  cursor: var(--vis-grouped-bar-cursor);

  &:hover {
    stroke-width: var(--vis-grouped-bar-hover-stroke-width);
    stroke: var(--vis-grouped-bar-hover-stroke-color);
  }
`,ha=E`
  label: barGroup;
`,wn=E`
  label: barGroupExit;
`,$i=Object.freeze(Object.defineProperty({__proto__:null,bar:kt,barGroup:ha,barGroupExit:wn,globalStyles:Li,root:Sn},Symbol.toStringTag,{value:"Module"}));class An extends ft{constructor(t){super(),this._defaultConfig=Ni,this.config=this._defaultConfig,this.getAccessors=()=>wt(this.config.y)?this.config.y:[this.config.y],this.events={},this._barData=[],t&&this.setConfig(t)}get bleed(){if(this._barData=this._getVisibleData(),this._barData.length===0)return{top:0,bottom:0,left:0,right:0};const t=!this.isVertical()&&this.dataScale.range()[0]>this.dataScale.range()[1],a=this.dataScale.domain(),n=this._getGroupWidth()/2,r=this._barData.map((T,B)=>we(T,this.config.x,B)),i=Kt(r),l=wr(r),s=this.dataScale(i),u=this.dataScale(l),x=this.dataScale.invert(s+(t?n:-n)),f=this.dataScale.invert(u+(t?-n:n)),d=x<=a[0]?this.dataScale(a[0])-this.dataScale(x):0,_=f>a[1]?this.dataScale(f)-this.dataScale(a[1]):0;return{top:this.isVertical()?0:t?-_:d,bottom:this.isVertical()?0:t?-d:_,left:this.isVertical()?d:0,right:this.isVertical()?_:0}}get dataScale(){return this.isVertical()?this.xScale:this.yScale}get valueScale(){return this.isVertical()?this.yScale:this.xScale}isVertical(){return this.config.orientation===an.Vertical}_render(t){const{config:a}=this,n=He(t)?t:a.duration,r=this._getGroupWidth(),i=this.getAccessors(),l=[-r/2,r/2],s=Ar().domain(Cr(i.length)).range(l).paddingInner(a.barPadding).paddingOuter(a.barPadding),u=this.g.selectAll(`.${ha}`).data(this._barData,(S,k)=>{var O;return`${(O=ct(S,a.id,k))!==null&&O!==void 0?O:k}`}),x=(S,k)=>{const O=this.dataScale(we(S,a.x,k)),N=this.isVertical()?O:0,P=this.isVertical()?0:O;return`translate(${N},${P})`},d=u.enter().append("g").attr("class",ha).attr("transform",x).style("opacity",1).merge(u);J(d,n).attr("transform",x).style("opacity",1);const _=u.exit().attr("class",wn);J(_,n).style("opacity",0).remove(),J(_.selectAll(`.${kt}`),n).attr("transform",(S,k,O)=>this.isVertical()?`translate(0,${this.yScale(0)}) scale(1,0)`:`translate(${this.xScale(0)},0) scale(0,1)`);const T=s.bandwidth(),B=d.selectAll(`.${kt}`).data(S=>i.map(()=>S)),L=this._getValueAxisDirection(),C=B.enter().append("path").attr("class",kt).attr("d",(S,k)=>{const O=s(k),N=this.valueScale(0),P=T;return this._getBarPath(O,N,P,0,!1,L)}).style("fill",(S,k)=>Ae(S,a.color,k)).merge(B);J(C,n).attr("d",(S,k)=>{const O=s(k),N=T,P=we(S,i[k]),Z=P<0;let q=Z?this.valueScale(0):this.valueScale(P||0),V=Math.abs(this.valueScale(0)-this.valueScale(P))||0;if(V<a.barMinHeight){const fe=L===Ve.North?-1:1;q=this.valueScale(0)+fe*a.barMinHeight,V=a.barMinHeight}return this._getBarPath(O,q,N,V,Z,L)}).style("fill",(S,k)=>Ae(S,a.color,k)).style("cursor",(S,k)=>ct(S,a.cursor,k)),J(B.exit(),n).remove()}_getValueAxisDirection(){return this.valueScale.range()[0]>this.valueScale.range()[1]?Ve.North:Ve.South}_getVisibleData(){const{config:t,datamodel:{data:a}}=this,n=this._getGroupWidth(),r=a.length<2?0:n/2,i=this.dataScale,l=Math.abs(i.invert(r)-i.invert(0));return a?.filter((u,x)=>{const f=we(u,t.x,x),d=i.domain(),_=+d[0],T=+d[1];return f>=_-l&&f<=T+l})}_getBarPath(t,a,n,r,i,l){const{config:s}=this,u=s.roundedCorners?He(s.roundedCorners)?+s.roundedCorners:n/2:0,x=Fr(u,0,Math.min(r,n)/2),f=l===Ve.North,d=this.isVertical()&&i!==f,_=this.isVertical()&&i===f,T=!this.isVertical()&&i,B=!this.isVertical()&&!i;return Tr({x:this.isVertical()?t:a+(f?0:-r),y:this.isVertical()?a+(f?0:-r):t,w:this.isVertical()?n:r,h:this.isVertical()?r:n,tl:d||T,tr:d||B,bl:_||T,br:_||B,r:x})}_getGroupWidth(){const{config:t,datamodel:{data:a}}=this;if(Br(a))return 0;if(t.groupWidth)return Kt([t.groupWidth,t.groupMaxWidth]);const n=this.dataScale.bandwidth,r=this.dataScale.domain?this.dataScale.domain():[];let l=1+(n?r.length:r[1]-r[0])/t.dataStep||!n&&a.filter((x,f)=>{const d=we(x,t.x,f);return d>=r[0]&&d<=r[1]}).length||a.length;!n&&l>=2&&(l+=1);const u=(l<2?1:1-t.groupPadding)*(this.isVertical()?this._width:this._height)/l;return Kt([u,t.groupMaxWidth])}getValueScaleExtent(t){const{datamodel:a}=this,n=this.getAccessors(),r=t?this._getVisibleData():a.data,i=Mr(r,...n),l=Or(r,...n);return[i>0?0:i,l<0?0:l]}getDataScaleExtent(){const{config:t,datamodel:a}=this;return Dr(a.data,t.x)}getYDataExtent(t){return this.isVertical()?this.getValueScaleExtent(t):this.getDataScaleExtent()}getXDataExtent(){return this.isVertical()?this.getDataScaleExtent():this.getValueScaleExtent(!1)}}An.selectors=$i;var ge;(function(e){e.Circle="circle",e.Cross="cross",e.Diamond="diamond",e.Square="square",e.Star="star",e.Triangle="triangle",e.Wye="wye"})(ge||(ge={}));const Vi={[ge.Circle]:ln,[ge.Cross]:Pr,[ge.Diamond]:Hr,[ge.Square]:Ur,[ge.Star]:Xr,[ge.Triangle]:Kr,[ge.Wye]:Qr},oe=Object.assign(Object.assign({},ge),{Line:"line"});var Ot;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(Ot||(Ot={}));const Ri={items:[],labelClassName:"",onLegendItemClick:void 0,labelFontSize:null,labelMaxWidth:null,bulletSize:null,bulletSpacing:4,bulletShape:e=>{var t;return(t=e.shape)!==null&&t!==void 0?t:oe.Circle},orientation:Ot.Horizontal,renderIntoProvidedDomNode:!1},yt=Lr*3,Ii={[oe.Circle]:Math.PI/4,[oe.Cross]:5/9,[oe.Diamond]:Math.sqrt(3)/6,[oe.Square]:1,[oe.Star]:.3,[oe.Triangle]:Math.sqrt(3)/4,[oe.Wye]:5/11};function Cn(e,t,a){return t<1?0:e*t+a*(t-1)}function ji(e){e.each((t,a,n)=>{Ye(n[a]).append("svg").attr("width","100%").attr("height","100%").append("path")})}function zi(e,t,a){e.each((n,r,i)=>{var l;const s=ct(n,t.bulletShape,r),u=Nr((l=n.color)!==null&&l!==void 0?l:Ae(n,a,r)),x=u.length,f=yt,d=ea(getComputedStyle(i[r]).getPropertyValue("--vis-legend-bullet-size")),_=t.bulletSpacing*(yt/d),T=Cn(f,x,_),B=s===oe.Line?yt/2.5:yt,L=Ye(i[r]).select("svg").attr("viewBox",`0 0 ${T} ${B}`);L.selectAll("path").remove();const A=n.inactive?"var(--vis-legend-bullet-inactive-opacity)":1;u.forEach((C,S)=>{const k=L.append("path");if(s===oe.Line){const O=S*(f+_),N=O+f;k.attr("d",`M${O},${B/2} L${N},${B/2}`).attr("transform",null).style("opacity",A).style("stroke",C).style("stroke-width","3px").style("fill",null).style("fill-opacity",null).style("marker-start","none").style("marker-end","none")}else{const O=Jr().type(Vi[s]).size(f*B*Ii[s]),N=(f-2)/f;let P=B/2;switch(s){case oe.Triangle:P+=B/8;break;case oe.Star:P+=B/16;break;case oe.Wye:P-=B/16;break}const Z=S*(f+_)+f/2;k.attr("d",O).attr("transform",`translate(${Z}, ${Math.round(P)}) scale(${N})`).style("stroke",C).style("stroke-width","1px").style("opacity",null).style("fill",C).style("fill-opacity",A)}})})}const wa=E`
  label: bullet-legend-component;
`,Ei=Ue`
  :root {
    // Undefined by default to allow proper fallback to var(--vis-font-family)
    /* --vis-legend-font-family: */

    --vis-legend-label-color: #6c778c;
    --vis-legend-label-max-width: 300px;
    --vis-legend-label-font-size: 12px;
    --vis-legend-bullet-size: 9px;
    --vis-legend-bullet-inactive-opacity: 0.15;
    --vis-legend-item-spacing: 20px;
    --vis-legend-vertical-item-spacing: 5px;
    --vis-legend-bullet-label-spacing: 8px;

    --vis-dark-legend-label-color: #eee;
  }

  body.theme-dark ${`.${wa}`} {
    --vis-legend-label-color: var(--vis-dark-legend-label-color);
  }

  body.theme-patterns {
    --vis-legend-bullet-size: 14px;
  }
`,St=E`
  label: legendItem;
  display: inline-flex;
  align-items: center;
  font-family: var(--vis-legend-font-family, var(--vis-font-family));
  margin-right: var(--vis-legend-item-spacing);
  white-space: nowrap;
  cursor: default;
  user-select: none;
  max-width: min-content;
`,Tn=E`
  label: legendItemVertical;
  display: flex;
  margin-top: var(--vis-legend-vertical-item-spacing);
`,Bn=E`
  cursor: pointer;
`,da=E`
  label: legendItemLabel;
  font-size: var(--vis-legend-label-font-size);
  display: inline-block;
  vertical-align: middle;
  color: var(--vis-legend-label-color);
  max-width: var(--vis-legend-label-max-width);
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
`,fa=E`
  flex: 0 0 auto;
  label: legendItemBullet;
  margin-right: var(--vis-legend-bullet-label-spacing);
  height: var(--vis-legend-bullet-size);
  width: var(--vis-legend-bullet-size);

  svg {
    display: block;
  }
`,Pi=Object.freeze(Object.defineProperty({__proto__:null,bullet:fa,clickable:Bn,item:St,itemVertical:Tn,label:da,root:wa,variables:Ei},Symbol.toStringTag,{value:"Module"}));class Mn{constructor(t,a){this._defaultConfig=Ri,this.config=this._defaultConfig,this._colorAccessor=n=>n.color,this._container=t,this.div=a?.renderIntoProvidedDomNode?Ye(this._container):Ye(this._container).append("div"),this.div.classed(wa,!0),this.element=this.div.node(),a&&this.update(a)}update(t){this.prevConfig=this.config,this.config=$r(this._defaultConfig,t),this.render()}render(){const{config:t}=this,a=this.div.selectAll(`.${St}`).data(t.items),n=a.enter().append("div").on("click",this._onItemClick.bind(this)),r=n.merge(a);r.attr("class",i=>{var l;return`${St} ${(l=i.className)!==null&&l!==void 0?l:""}`}).classed(Tn,t.orientation===Ot.Vertical).classed(Bn,i=>!!t.onLegendItemClick&&this._isItemClickable(i)).attr("title",i=>i.name).style("display",i=>i.hidden?"none":null),n.append("span").attr("class",fa).call(ji),r.select(`.${fa}`).style("width",function(i){const s=(Array.isArray(i.color)?i.color:[i.color]).length,u=ea(getComputedStyle(this).getPropertyValue("--vis-legend-bullet-size"))||9,x=t.bulletSize?ea(t.bulletSize):u,f=t.bulletSpacing;return`${Cn(x,s,f)}px`}).style("height",t.bulletSize).style("box-sizing","content-box").call(zi,this.config,this._colorAccessor),n.append("span").attr("class",da).classed(t.labelClassName,!0).style("max-width",t.labelMaxWidth).style("font-size",t.labelFontSize),r.select(`.${da}`).text(i=>i.name),a.exit().remove()}_isItemClickable(t){return t.pointer===void 0?!0:t.pointer}_onItemClick(t,a){const{config:{onLegendItemClick:n}}=this,i=this.div.selectAll(`.${St}`).nodes().indexOf(t.currentTarget);n&&n(a,i)}destroy(){this.element!==this._container&&this.div.remove()}}Mn.selectors=Pi;var pa;(function(e){e.Solid="solid",e.Dash="dash",e.DashDot="dashDot",e.Dot="dot",e.LongDash="longDash",e.LongDashDot="longDashDot",e.LongDashDotDot="longDashDotDot",e.ShortDash="shortDash",e.ShortDashDot="shortDashDot",e.ShortDashDotDot="shortDashDotDot",e.ShortDot="shortDot"})(pa||(pa={}));var $;(function(e){e.TopLeft="top-left",e.Top="top",e.TopRight="top-right",e.Right="right",e.BottomRight="bottom-right",e.Bottom="bottom",e.BottomLeft="bottom-left",e.Left="left"})($||($={}));var Dt;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(Dt||(Dt={}));var b;(function(e){e.TopLeftInside="top-left-inside",e.TopLeftOutside="top-left-outside",e.TopInside="top-inside",e.TopOutside="top-outside",e.TopRightInside="top-right-inside",e.TopRightOutside="top-right-outside",e.RightInside="right-inside",e.RightOutside="right-outside",e.BottomRightInside="bottom-right-inside",e.BottomRightOutside="bottom-right-outside",e.BottomInside="bottom-inside",e.BottomOutside="bottom-outside",e.BottomLeftInside="bottom-left-inside",e.BottomLeftOutside="bottom-left-outside",e.LeftInside="left-inside",e.LeftOutside="left-outside"})(b||(b={}));var ma;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(ma||(ma={}));const Wi=Object.assign(Object.assign({},dt),{color:void 0,curveType:W.MonotoneX,baseline:()=>0,opacity:1,cursor:null,minHeight1Px:!1,minHeight:void 0}),On=E`
  label: area-component;
`,Hi=Ue`
  :root {
    --vis-area-cursor: default;
    --vis-area-fill-opacity: 1;
    --vis-area-stroke-color: none;
    --vis-area-stroke-width: 0px;
    --vis-area-stroke-dasharray: none;
    --vis-area-stroke-opacity: 1;
    --vis-area-hover-fill-opacity: none;
    --vis-area-hover-stroke-width: none;

    /* Dark Theme */
    --vis-dark-area-stroke-color: none;
  }

  body.theme-dark ${`.${On}`} {
    --vis-area-stroke-color: var(--vis-dark-area-stroke-color);
  }

`,ga=E`
  label: area;
  cursor: var(--vis-area-cursor);
  fill-opacity: var(--vis-area-fill-opacity);
  stroke-width: var(--vis-area-stroke-width);
  stroke-dasharray: var(--vis-area-stroke-dasharray);
  stroke: var(--vis-area-stroke-color);
  stroke-opacity: var(--vis-area-stroke-opacity);

  &:hover {
    fill-opacity: var(--vis-area-hover-fill-opacity);
    stroke-width: var(--vis-area-hover-stroke-width);
  }
`,Gi=Object.freeze(Object.defineProperty({__proto__:null,area:ga,globalStyles:Hi,root:On},Symbol.toStringTag,{value:"Module"}));class Rt extends ft{constructor(t){super(),this._defaultConfig=Wi,this.config=this._defaultConfig,this.stacked=!0,this.events={[Rt.selectors.area]:{}},t&&this.setConfig(t),this.stacked=Array.isArray(this.config.y)}_render(t){super._render(t);const{config:a,datamodel:{data:n}}=this,r=He(t)?t:a.duration,i=sa[a.curveType];this._areaGen=Er().x(A=>A.x).y0(A=>A.y0).y1(A=>A.y1).curve(i);const l=wt(a.y)?a.y:[a.y],s=n.map((A,C)=>this.xScale(we(A,a.x,C))),u=Vr(n,a.baseline,l,this._prevNegative);this._prevNegative=u.map(A=>!!A.isMostlyNegative);const x=[],f=u.map(A=>A.map((C,S)=>{var k,O;const N=s[S],P=this.yScale(C[0]),Z=this.yScale(C[1]),q=Z>P,V=x[S]||0,fe=q?P+V:P-V,ee=q?Z+V:Z-V;let ve=0;return(a.minHeight||a.minHeight1Px)&&Math.abs(ee-fe)<((k=a.minHeight)!==null&&k!==void 0?k:1)&&(ve=((O=a.minHeight)!==null&&O!==void 0?O:1)-Math.abs(ee-fe),x[S]=V+ve),{x:N,y0:fe,y1:q?ee+ve:ee-ve}})),d=f.length-1,_=f.reverse(),T=this.g.selectAll(`.${ga}`).data(_),B=T.enter().append("path").attr("class",ga).attr("d",A=>this._areaGen(A)||this._emptyPath()).style("opacity",0).style("fill",(A,C)=>Ae(n,a.color,d-C)),L=J(B.merge(T),r).style("opacity",(A,C)=>A.some(k=>k.y0-k.y1!==0)?we(n,a.opacity,d-C):0).style("fill",(A,C)=>Ae(n,a.color,d-C)).style("cursor",(A,C)=>ct(n,a.cursor,d-C));r?L.attrTween("d",(C,S,k)=>{const O=Ye(k[S]).attr("d"),N=this._areaGen(C)||this._emptyPath();return kn(O,N)}):L.attr("d",A=>this._areaGen(A)||this._emptyPath()),J(T.exit(),r).style("opacity",0).remove()}getYDataExtent(t){const{config:a,datamodel:n}=this,r=wt(a.y)?a.y:[a.y],i=this.xScale.domain(),l=t?Rr(n.data,i,a.x,!0):n.data;return Ir(l,a.baseline,...r)}_emptyPath(){const t=this.xScale.range(),a=this.yScale.domain(),n=this.yScale((a[0]+a[1])/2),r=n;return this._areaGen([{y0:n,y1:r,x:t[0]},{y0:n,y1:r,x:t[1]}])}}Rt.selectors=Gi;const Yi={[b.TopLeftOutside]:({startX:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[b.TopLeftInside]:({startX:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[b.TopOutside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[b.TopInside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[b.TopRightOutside]:({startX:e,width:t,offsetX:a,offsetY:n})=>({x:e+t+a,y:n,textAnchor:"start",dominantBaseline:"text-before-edge"}),[b.TopRightInside]:({startX:e,width:t,offsetX:a,offsetY:n})=>({x:e+t-a,y:n,textAnchor:"end",dominantBaseline:"text-before-edge"}),[b.RightOutside]:({startX:e,width:t,height:a,offsetX:n})=>({x:e+t+n,y:a/2,textAnchor:"start",dominantBaseline:"middle"}),[b.RightInside]:({startX:e,width:t,height:a,offsetX:n})=>({x:e+t-n,y:a/2,textAnchor:"end",dominantBaseline:"middle"}),[b.BottomRightOutside]:({startX:e,width:t,height:a,offsetX:n,offsetY:r})=>({x:e+t+n,y:a-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[b.BottomRightInside]:({startX:e,width:t,height:a,offsetX:n,offsetY:r})=>({x:e+t-n,y:a-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[b.BottomOutside]:({startX:e,width:t,height:a,offsetY:n})=>({x:e+t/2,y:a-n,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[b.BottomInside]:({startX:e,width:t,height:a,offsetY:n})=>({x:e+t/2,y:a-n,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[b.BottomLeftOutside]:({startX:e,height:t,offsetX:a,offsetY:n})=>({x:e-a,y:t-n,textAnchor:"end",dominantBaseline:"text-after-edge"}),[b.BottomLeftInside]:({startX:e,height:t,offsetX:a,offsetY:n})=>({x:e+a,y:t-n,textAnchor:"start",dominantBaseline:"text-after-edge"}),[b.LeftOutside]:({startX:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"end",dominantBaseline:"middle"}),[b.LeftInside]:({startX:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"start",dominantBaseline:"middle"})},qi={[b.TopLeftOutside]:({startX:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-after-edge"}),[b.TopLeftInside]:({startX:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[b.TopOutside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"end",dominantBaseline:"middle"}),[b.TopInside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"end",dominantBaseline:"middle"}),[b.TopRightOutside]:({startX:e,width:t,offsetX:a,offsetY:n})=>({x:e+t+a,y:n,textAnchor:"end",dominantBaseline:"text-before-edge"}),[b.TopRightInside]:({startX:e,width:t,offsetX:a,offsetY:n})=>({x:e+t-a,y:n,textAnchor:"end",dominantBaseline:"text-after-edge"}),[b.RightOutside]:({startX:e,width:t,height:a,offsetX:n})=>({x:e+t+n,y:a/2,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[b.RightInside]:({startX:e,width:t,height:a,offsetX:n})=>({x:e+t-n,y:a/2,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[b.BottomRightOutside]:({startX:e,width:t,height:a,offsetX:n,offsetY:r})=>({x:e+t+n,y:a-r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[b.BottomRightInside]:({startX:e,width:t,height:a,offsetX:n,offsetY:r})=>({x:e+t-n,y:a-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[b.BottomOutside]:({startX:e,width:t,height:a,offsetY:n})=>({x:e+t/2,y:a-n,textAnchor:"start",dominantBaseline:"middle"}),[b.BottomInside]:({startX:e,width:t,height:a,offsetY:n})=>({x:e+t/2,y:a-n,textAnchor:"start",dominantBaseline:"middle"}),[b.BottomLeftOutside]:({startX:e,height:t,offsetX:a,offsetY:n})=>({x:e-a,y:t-n,textAnchor:"start",dominantBaseline:"text-after-edge"}),[b.BottomLeftInside]:({startX:e,height:t,offsetX:a,offsetY:n})=>({x:e+a,y:t-n,textAnchor:"start",dominantBaseline:"text-before-edge"}),[b.LeftOutside]:({startX:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[b.LeftInside]:({startX:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"middle",dominantBaseline:"text-before-edge"})},Xi={[b.TopLeftOutside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e-a,textAnchor:"start",dominantBaseline:"text-after-edge"}),[b.TopLeftInside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e+a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[b.TopOutside]:({startX:e,width:t,startY:a,offsetY:n})=>({x:e+t/2,y:a-n,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[b.TopInside]:({startX:e,width:t,startY:a,offsetY:n})=>({x:e+t/2,y:a+n,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[b.TopRightOutside]:({startY:e,width:t,offsetX:a,offsetY:n})=>({x:t-a,y:e-n,textAnchor:"end",dominantBaseline:"text-after-edge"}),[b.TopRightInside]:({startY:e,width:t,offsetX:a,offsetY:n})=>({x:t-a,y:e+n,textAnchor:"end",dominantBaseline:"text-before-edge"}),[b.RightOutside]:({startY:e,height:t,width:a,offsetX:n})=>({x:a-n,y:e+t/2,textAnchor:"end",dominantBaseline:"middle"}),[b.RightInside]:({startY:e,height:t,width:a,offsetX:n})=>({x:a-n,y:e+t/2,textAnchor:"end",dominantBaseline:"middle"}),[b.BottomRightOutside]:({startY:e,height:t,width:a,offsetX:n,offsetY:r})=>({x:a-n,y:e+t+r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[b.BottomRightInside]:({startY:e,height:t,width:a,offsetX:n,offsetY:r})=>({x:a-n,y:e+t-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[b.BottomOutside]:({startX:e,width:t,startY:a,height:n,offsetY:r})=>({x:e+t/2,y:a+n+r,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[b.BottomInside]:({startX:e,width:t,startY:a,height:n,offsetY:r})=>({x:e+t/2,y:a+n-r,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[b.BottomLeftOutside]:({startY:e,height:t,offsetX:a,offsetY:n})=>({x:a,y:e+t+n,textAnchor:"start",dominantBaseline:"text-before-edge"}),[b.BottomLeftInside]:({startY:e,height:t,offsetX:a,offsetY:n})=>({x:a,y:e+t-n,textAnchor:"start",dominantBaseline:"text-after-edge"}),[b.LeftOutside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"start",dominantBaseline:"middle"}),[b.LeftInside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"start",dominantBaseline:"middle"})},Ui={[b.TopLeftOutside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e-a,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[b.TopLeftInside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e+a,textAnchor:"end",dominantBaseline:"text-before-edge",rotation:-90}),[b.TopOutside]:({startX:e,width:t,startY:a,offsetY:n})=>({x:e+t/2,y:a-n,textAnchor:"end",dominantBaseline:"middle",rotation:-90}),[b.TopInside]:({startX:e,width:t,startY:a,offsetY:n})=>({x:e+t/2,y:a+n,textAnchor:"end",dominantBaseline:"middle",rotation:-90}),[b.TopRightOutside]:({startY:e,width:t,offsetX:a,offsetY:n})=>({x:t-a,y:e-n,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[b.TopRightInside]:({startY:e,width:t,offsetX:a,offsetY:n})=>({x:t-a,y:e+n,textAnchor:"end",dominantBaseline:"text-after-edge",rotation:-90}),[b.RightOutside]:({startY:e,height:t,width:a,offsetX:n})=>({x:a-n,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-after-edge",rotation:-90}),[b.RightInside]:({startY:e,height:t,width:a,offsetX:n})=>({x:a-n,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-after-edge",rotation:-90}),[b.BottomRightOutside]:({startY:e,height:t,width:a,offsetX:n,offsetY:r})=>({x:a-n,y:e+t+r,textAnchor:"start",dominantBaseline:"text-before-edge",rotation:-90}),[b.BottomRightInside]:({startY:e,height:t,width:a,offsetX:n,offsetY:r})=>({x:a-n,y:e+t-r,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[b.BottomOutside]:({startX:e,width:t,startY:a,height:n,offsetY:r})=>({x:e+t/2,y:a+n+r,textAnchor:"start",dominantBaseline:"middle",rotation:-90}),[b.BottomInside]:({startX:e,width:t,startY:a,height:n,offsetY:r})=>({x:e+t/2,y:a+n-r,textAnchor:"start",dominantBaseline:"middle",rotation:-90}),[b.BottomLeftOutside]:({startY:e,height:t,offsetX:a,offsetY:n})=>({x:a,y:e+t+n,textAnchor:"end",dominantBaseline:"text-before-edge",rotation:-90}),[b.BottomLeftInside]:({startY:e,height:t,offsetX:a,offsetY:n})=>({x:a,y:e+t-n,textAnchor:"start",dominantBaseline:"text-before-edge",rotation:-90}),[b.LeftOutside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-before-edge",rotation:-90}),[b.LeftInside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-before-edge",rotation:-90})},Ki=Object.assign(Object.assign({},dt),{axis:ut.Y,from:0,to:0,color:void 0,duration:300,labelPosition:b.TopLeftOutside,labelOffsetX:14,labelOffsetY:14,labelOrientation:ma.Horizontal}),Zi=Ue`
  :root {
    --vis-plotband-color: rgba(255, 255, 90, 0.2);
    --vis-plotband-label-font-size: 12px;
    --vis-plotband-label-color: #000;

    --vis-dark-plotband-color: rgba(220, 220, 90, 0.2);
    --vis-dark-plotband-label-color: #e5e9f7;
  }

  body.theme-dark {
    --vis-plotband-color: var(--vis-dark-plotband-color);
    --vis-plotband-label-color: var(--vis-dark-tooltip-text-color);
  }
`,Qi=E`
  label: plotband-component;
`,Dn=E`
  label: plotband-area;
  transition: opacity 200ms;
  cursor: var(--vis-line-cursor);
  fill: var(--vis-plotband-color);
`,Fn=E`
  label: plotline-label;

  user-select: none;
  text-anchor: middle;
  pointer-events: none;
  font-size: var(--vis-plotband-label-font-size);
  fill: var(--vis-plotband-label-color);
`,Ji=Object.freeze(Object.defineProperty({__proto__:null,globalStyles:Zi,label:Fn,plotband:Dn,root:Qi},Symbol.toStringTag,{value:"Module"}));class Nn extends ft{constructor(t){super(),this._defaultConfig=Ki,t&&this.setConfig(t),this.plotband=this.g.append("rect").attr("class",Dn),this.label=this.g.append("text").attr("class",Fn)}_render(t){super._render(t);const{config:a}=this;if(this.from=a.from,this.to=a.to,this.plotband.style("fill",a.color),this.from==null||this.to==null)return;let n=0,r=0,i=0,l=0;if(a.axis==="y"){const s=this.yScale(this.from),u=this.yScale(this.to);r=Math.min(s,u),l=Math.abs(s-u),n=0,i=this._width}else{const s=this.xScale(this.from),u=this.xScale(this.to);n=Math.min(s,u),i=Math.abs(s-u),r=0,l=this._height}if(J(this.plotband,a.duration).attr("x",n).attr("y",r).attr("width",i).attr("height",l),a.labelText){const s=this.computeLabel(a.axis,n,r,i,l,a.labelPosition,a.labelOffsetX,a.labelOffsetY,a.labelOrientation);this.label.attr("dominant-baseline",s.dominantBaseline).attr("transform",s.transform).style("text-anchor",s.textAnchor).style("fill",a.labelColor).style("font-size",a.labelSize?`${a.labelSize}px`:void 0),J(this.label,a.duration).text(a.labelText).attr("x",s.x).attr("y",s.y)}J(this.plotband.exit()).style("opacity",0).remove()}computeLabel(t,a,n,r,i,l,s,u,x){const f=x==="vertical",d=f?-90:0,_={startX:a,startY:n,width:r,height:i,offsetX:s,offsetY:u};let T;t===ut.X?T=(f?qi:Yi)[l](_):T=(f?Ui:Xi)[l](_);const{x:B,y:L,textAnchor:A,dominantBaseline:C}=T,S=d!==0?`rotate(${d}, ${B}, ${L})`:"";return{x:B,y:L,rotation:d,textAnchor:A,transform:S,dominantBaseline:C}}}Nn.selectors=Ji;const es={solid:"none",shortDash:"6,2",shortDot:"2,2",shortDashDot:"6,2,2,2",shortDashDotDot:"6,2,2,2,2,2",dot:"2,6",dash:"8,6",longDash:"16,6",dashDot:"8,6,2,6",longDashDot:"16,6,2,6",longDashDotDot:"16,6,2,6,2,6"},ts={[$.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[$.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[$.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[$.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"start",dominantBaseline:"middle"}),[$.BottomRight]:({width:e,height:t,offsetX:a,offsetY:n})=>({x:e+a,y:t-n,textAnchor:"start",dominantBaseline:"text-after-edge"}),[$.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[$.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:n})=>({x:e-a,y:t-n,textAnchor:"end",dominantBaseline:"text-after-edge"}),[$.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"end",dominantBaseline:"middle"})},as={[$.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-after-edge"}),[$.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"end",dominantBaseline:"middle"}),[$.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[$.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[$.BottomRight]:({width:e,height:t,offsetX:a,offsetY:n})=>({x:e+a,y:t-n,textAnchor:"start",dominantBaseline:"text-before-edge"}),[$.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"middle"}),[$.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:n})=>({x:e-a,y:t-n,textAnchor:"start",dominantBaseline:"text-after-edge"}),[$.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"middle",dominantBaseline:"text-after-edge"})},ns={[$.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-after-edge"}),[$.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[$.TopRight]:({width:e,offsetX:t,height:a,offsetY:n})=>({x:e-t,y:a-n,textAnchor:"end",dominantBaseline:"text-after-edge"}),[$.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"middle"}),[$.BottomRight]:({width:e,offsetX:t,height:a,offsetY:n})=>({x:e-t,y:a+n,textAnchor:"end",dominantBaseline:"text-before-edge"}),[$.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[$.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[$.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"start",dominantBaseline:"middle"})},rs={[$.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[$.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"start",dominantBaseline:"central"}),[$.TopRight]:({width:e,offsetX:t,height:a,offsetY:n})=>({x:e-t,y:a-n,textAnchor:"start",dominantBaseline:"text-after-edge"}),[$.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[$.BottomRight]:({width:e,offsetX:t,height:a,offsetY:n})=>({x:e-t,y:a+n,textAnchor:"end",dominantBaseline:"text-after-edge"}),[$.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"end",dominantBaseline:"central"}),[$.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[$.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"})},is=Object.assign(Object.assign({},dt),{lineWidth:2,axis:ut.Y,value:0,duration:300,color:void 0,lineStyle:pa.Solid,labelPosition:$.TopRight,labelOffsetX:14,labelOffsetY:14,labelOrientation:Dt.Horizontal}),ss=Ue`
  :root {
    --vis-plotline-color: rgb(226, 32, 58);
    --vis-plotline-width: 2;
    --vis-plotline-dasharray: none;
    --vis-plotline-stroke-dashoffset: 0;
    --vis-plotline-label-font-size: 12px;
    --vis-plotline-label-color: #000;

    --vis-dark-plotline-label-color: #e5e9f7;
  }

  body.theme-dark {
    --vis-plotline-label-color: var(--vis-dark-tooltip-text-color);
  }
`,os=E`
  label: plotline-component;
`,Ln=E`
  label: plotline;
  transition: opacity 200ms;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke: var(--vis-plotline-color);
  stroke-width: var(--vis-plotline-width);
  stroke-dasharray: var(--vis-plotline-dasharray);
  stroke-dashoffset: var(--vis-plotline-stroke-dashoffset);
`,$n=E`
  label: plotline-label;
  text-anchor: middle;
  /* dominant-baseline: middle; */
  pointer-events: none;
  font-size: var(--vis-plotline-label-font-size);
  fill: var(--vis-plotline-label-color);
`,ls=Object.freeze(Object.defineProperty({__proto__:null,globalStyles:ss,label:$n,plotline:Ln,root:os},Symbol.toStringTag,{value:"Module"}));class Vn extends ft{constructor(t){super(),this._defaultConfig=is,t&&this.setConfig(t),this.plotline=this.g.append("line").attr("class",Ln),this.label=this.g.append("text").attr("class",$n)}_render(t){super._render(t);const{config:a}=this;this.value=a.value;let n;typeof a?.lineStyle=="string"?n=es[a.lineStyle]:Array.isArray(a.lineStyle)?n=a.lineStyle.join(","):n="none",this.value=a.value,this.plotline.attr("stroke-opacity",1).style("stroke-width",a.lineWidth).style("stroke-dasharray",n).style("stroke",a.color);let r=0,i=0,l=0,s=0;if(a.axis===ut.Y?(l=this.yScale(this.value),s=this.yScale(this.value),r=0,i=this._width):(l=0,s=this._height,r=this.xScale(this.value),i=this.xScale(this.value)),J(this.plotline,a.duration).attr("x1",r).attr("x2",i).attr("y1",l).attr("y2",s),a.labelText){const u=this.computeLabel(a.axis,i,s,a.labelPosition,a.labelOffsetX,a.labelOffsetY,a.labelOrientation);this.label.text(a.labelText).attr("transform",u.transform).attr("dominant-baseline",u.dominantBaseline).style("fill",a.labelColor).style("text-anchor",u.textAnchor).style("font-size",a.labelSize?`${a.labelSize}px`:void 0),J(this.label,a.duration).attr("x",u.x).attr("y",u.y)}J(this.plotline.exit()).style("opacity",0).remove()}computeLabel(t,a,n,r,i,l,s){const u=s===Dt.Vertical,x=u?-90:0;let f;t===ut.X?f=(u?as:ts)[r]({width:a,height:n,offsetX:i,offsetY:l}):f=(u?rs:ns)[r]({width:a,height:n,offsetX:i,offsetY:l});const d=x?`rotate(${x}, ${f.x}, ${f.y})`:"";return Object.assign(Object.assign({},f),{rotation:x,transform:d})}}Vn.selectors=ls;const cs={"data-vis-component":""},xt=Te({__name:"index",props:{color:{},curveType:{},baseline:{},opacity:{},cursor:{},minHeight1Px:{type:Boolean},minHeight:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=ht(pt),n=e,r=v(()=>a.data.value??n.data),i=Ke(n),l=R();return Re(()=>{Ie(()=>{var s;l.value=new Rt(i.value),(s=l.value)==null||s.setData(r.value),a.update(l.value)})}),Xe(()=>{var s;(s=l.value)==null||s.destroy(),a.destroy()}),le(i,(s,u)=>{var x;Ze(s,u)||(x=l.value)==null||x.setConfig(i.value)}),le(r,()=>{var s;(s=l.value)==null||s.setData(r.value)}),t({component:l}),(s,u)=>(D(),H("div",cs))}}),us={"data-vis-component":""},hs=Te({__name:"index",props:{color:{},groupWidth:{},groupMaxWidth:{},dataStep:{},groupPadding:{},barPadding:{},roundedCorners:{type:[Number,Boolean]},barMinHeight:{},cursor:{},orientation:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=ht(pt),n=e,r=v(()=>a.data.value??n.data),i=Ke(n),l=R();return Re(()=>{Ie(()=>{var s;l.value=new An(i.value),(s=l.value)==null||s.setData(r.value),a.update(l.value)})}),Xe(()=>{var s;(s=l.value)==null||s.destroy(),a.destroy()}),le(i,(s,u)=>{var x;Ze(s,u)||(x=l.value)==null||x.setConfig(i.value)}),le(r,()=>{var s;(s=l.value)==null||s.setData(r.value)}),t({component:l}),(s,u)=>(D(),H("div",us))}}),ds={"data-vis-component":""},Ka=Te({__name:"index",props:{color:{},curveType:{},lineWidth:{},lineDashArray:{},fallbackValue:{},highlightOnHover:{type:Boolean},cursor:{},interpolateMissingData:{type:Boolean},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=ht(pt),n=e,r=v(()=>a.data.value??n.data),i=Ke(n),l=R();return Re(()=>{Ie(()=>{var s;l.value=new Vt(i.value),(s=l.value)==null||s.setData(r.value),a.update(l.value)})}),Xe(()=>{var s;(s=l.value)==null||s.destroy(),a.destroy()}),le(i,(s,u)=>{var x;Ze(s,u)||(x=l.value)==null||x.setConfig(i.value)}),le(r,()=>{var s;(s=l.value)==null||s.setData(r.value)}),t({component:l}),(s,u)=>(D(),H("div",ds))}}),fs={"data-vis-component":""},Jt=Te({__name:"index",props:{color:{},axis:{},from:{},to:{},duration:{},labelText:{},labelPosition:{},labelOffsetX:{},labelOffsetY:{},labelOrientation:{},labelColor:{},labelSize:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=ht(pt),n=Ke(e),r=R();return Re(()=>{Ie(()=>{r.value=new Nn(n.value),a.update(r.value)})}),Xe(()=>{var i;(i=r.value)==null||i.destroy(),a.destroy()}),le(n,(i,l)=>{var s;Ze(i,l)||(s=r.value)==null||s.setConfig(n.value)}),t({component:r}),(i,l)=>(D(),H("div",fs))}}),ps={"data-vis-component":""},bt=Te({__name:"index",props:{color:{},lineWidth:{},axis:{},value:{},duration:{},lineStyle:{},labelText:{},labelPosition:{},labelOffsetX:{},labelOffsetY:{},labelOrientation:{},labelColor:{},labelSize:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=ht(pt),n=Ke(e),r=R();return Re(()=>{Ie(()=>{r.value=new Vn(n.value),a.update(r.value)})}),Xe(()=>{var i;(i=r.value)==null||i.destroy(),a.destroy()}),le(n,(i,l)=>{var s;Ze(i,l)||(s=r.value)==null||s.setConfig(n.value)}),t({component:r}),(i,l)=>(D(),H("div",ps))}}),ms=Te({__name:"index",props:{items:{},labelClassName:{},onLegendItemClick:{type:Function},labelFontSize:{},labelMaxWidth:{},bulletSize:{},bulletSpacing:{},bulletShape:{},orientation:{},renderIntoProvidedDomNode:{type:Boolean},data:{}},setup(e,{expose:t}){const a=e;v(()=>a.data);const n=Ke(a),r=R(),i=R();return Re(()=>{Ie(()=>{i.value&&(r.value=new Mn(i.value,{...n.value,renderIntoProvidedDomNode:!0}))})}),Xe(()=>{var l;(l=r.value)==null||l.destroy()}),le(n,(l,s)=>{var u;Ze(l,s)||(u=r.value)==null||u.update(n.value)}),t({component:r}),(l,s)=>(D(),H("div",{"data-vis-bullet-legend":"",ref_key:"elRef",ref:i},null,512))}});var gs=typeof global=="object"&&global&&global.Object===Object&&global,vs=typeof self=="object"&&self&&self.Object===Object&&self,_s=gs||vs||Function("return this")(),qe=_s.Symbol,Rn=Object.prototype,ys=Rn.hasOwnProperty,xs=Rn.toString,at=qe?qe.toStringTag:void 0;function bs(e){var t=ys.call(e,at),a=e[at];try{e[at]=void 0;var n=!0}catch{}var r=xs.call(e);return n&&(t?e[at]=a:delete e[at]),r}var ks=Object.prototype,Ss=ks.toString;function ws(e){return Ss.call(e)}var As="[object Null]",Cs="[object Undefined]",Za=qe?qe.toStringTag:void 0;function Ts(e){return e==null?e===void 0?Cs:As:Za&&Za in Object(e)?bs(e):ws(e)}function Bs(e){return e!=null&&typeof e=="object"}var Ms="[object Symbol]";function Os(e){return typeof e=="symbol"||Bs(e)&&Ts(e)==Ms}function Ds(e,t){for(var a=-1,n=e==null?0:e.length,r=Array(n);++a<n;)r[a]=t(e[a],a,e);return r}var Fs=Array.isArray,Qa=qe?qe.prototype:void 0,Ja=Qa?Qa.toString:void 0;function In(e){if(typeof e=="string")return e;if(Fs(e))return Ds(e,In)+"";if(Os(e))return Ja?Ja.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function jn(e){return e==null?"":In(e)}function Ns(e,t,a){var n=-1,r=e.length;t<0&&(t=-t>r?0:r+t),a=a>r?r:a,a<0&&(a+=r),r=t>a?0:a-t>>>0,t>>>=0;for(var i=Array(r);++n<r;)i[n]=e[n+t];return i}function Ls(e,t,a){var n=e.length;return a=a===void 0?n:a,!t&&a>=n?e:Ns(e,t,a)}var $s="\\ud800-\\udfff",Vs="\\u0300-\\u036f",Rs="\\ufe20-\\ufe2f",Is="\\u20d0-\\u20ff",js=Vs+Rs+Is,zs="\\ufe0e\\ufe0f",Es="\\u200d",Ps=RegExp("["+Es+$s+js+zs+"]");function zn(e){return Ps.test(e)}function Ws(e){return e.split("")}var En="\\ud800-\\udfff",Hs="\\u0300-\\u036f",Gs="\\ufe20-\\ufe2f",Ys="\\u20d0-\\u20ff",qs=Hs+Gs+Ys,Xs="\\ufe0e\\ufe0f",Us="["+En+"]",va="["+qs+"]",_a="\\ud83c[\\udffb-\\udfff]",Ks="(?:"+va+"|"+_a+")",Pn="[^"+En+"]",Wn="(?:\\ud83c[\\udde6-\\uddff]){2}",Hn="[\\ud800-\\udbff][\\udc00-\\udfff]",Zs="\\u200d",Gn=Ks+"?",Yn="["+Xs+"]?",Qs="(?:"+Zs+"(?:"+[Pn,Wn,Hn].join("|")+")"+Yn+Gn+")*",Js=Yn+Gn+Qs,eo="(?:"+[Pn+va+"?",va,Wn,Hn,Us].join("|")+")",to=RegExp(_a+"(?="+_a+")|"+eo+Js,"g");function ao(e){return e.match(to)||[]}function no(e){return zn(e)?ao(e):Ws(e)}function ro(e){return function(t){t=jn(t);var a=zn(t)?no(t):void 0,n=a?a[0]:t.charAt(0),r=a?Ls(a,1).join(""):t.slice(1);return n[e]()+r}}var io=ro("toUpperCase");function en(e){return io(jn(e).toLowerCase())}const so={key:1,class:"mx-1.5 flex flex-wrap gap-0 gap-y-1"},oo=Te({__name:"ForestryChartDisplay",props:{selectedFrameworks:{default:()=>[]},selectedArtkategori:{},chartType:{},currentTimeValue:{},singleFrameworkSelection:{type:Boolean,default:!1},frameworkComparisonMode:{type:Boolean,default:!1},selectedStartskog:{},redColor:{type:Boolean,default:!1},yellowColor:{type:Boolean,default:!1},maxYValue:{},matsvampVariant:{default:"standard"},relativeChart:{type:Boolean,default:!1},preserveFrameworkOrder:{type:Boolean}},async setup(e){let t,a;const n={matsvamp:"Alla matsvampar","goda matsvampar":"Goda matsvampar","rdlistade + signalarter":"Signal + rdlistade",atheliales:"Atheliales",boletales:"Boletales",cantharellales:"Cantharellales",spindlingar:"Cortinariaceae",russulales:"Russulales",thelephorales:"Thelephorales",ascomycota:"Ascomyceter",vriga:"vriga"},r={trakthygge:"trakthygge",bldning:"bldning",luckhuggning:"luckhuggning",skrm:"skrmtrd",skarm:"skrmtrd","ingen tgrd":"naturskydd"};function i(o){const c=(o||"").trim().toLowerCase();return c?r[c]||c:""}function l(o){return typeof o=="string"?o:typeof o=="number"?String(o):""}function s(o){if(typeof o=="number")return o;if(typeof o=="string"){const c=o.replace(",","."),m=Number(c);return Number.isFinite(m)?m:NaN}return NaN}const{data:u}=([t,a]=nt(()=>rt("skogsbruk-svampar",()=>it("skogsbrukSvampar").first())),t=await t,a(),t);function x(o){return o?Array.isArray(o)?o:Array.isArray(o?.entries)?o.entries:Array.isArray(o?.body)?o.body:Array.isArray(o?.data)?o.data:[]:[]}const f=v(()=>x(u.value)),d=v(()=>{const o={};for(const c of f.value){const m=i(String(c?.metod??"")),p=l(c?.startskog),h=s(c?.lder);if(!(!Number.isFinite(h)||!m))for(const[y,M]of Object.entries(n)){const F=s(c?.[M]);Number.isFinite(F)&&(o[y]||(o[y]=[]),o[y].push({artkategori:y,startskog:p,frameworks:m,lder:h,klassning:F}))}}return Object.values(o).forEach(c=>c.sort((m,p)=>m.lder-p.lder)),o}),{data:_}=([t,a]=nt(()=>rt("kg-matsvamp-skogsbruk",()=>it("kgMatsvampSkogsbruk").first())),t=await t,a(),t),{data:T}=([t,a]=nt(()=>rt("total-svampar-skogsbruk",()=>it("totalSvamparSkogsbruk").first())),t=await t,a(),t),B=v(()=>d.value.matsvamp??[]),L=v(()=>d.value["goda matsvampar"]??[]),A=v(()=>Array.isArray(_.value?.entries)?_.value.entries:[]),C=v(()=>d.value["rdlistade + signalarter"]??[]),S=v(()=>C.value),k=v(()=>d.value.atheliales??[]),O=v(()=>d.value.boletales??[]),N=v(()=>d.value.cantharellales??[]),P=v(()=>d.value.spindlingar??[]),Z=v(()=>d.value.russulales??[]),q=v(()=>d.value.ascomycota??[]),V=v(()=>d.value.thelephorales??[]),fe=v(()=>d.value.vriga??[]),ee=v(()=>Array.isArray(T.value?.entries)?T.value.entries:[]),{data:ve}=([t,a]=nt(()=>rt("svampgrupper-relative-skogsbruk",()=>it("svampgrupperRelativeSkogsbruk").first())),t=await t,a(),t),je=["atheliales","boletales","cantharellales","spindlingar","russulales","thelephorales","ascomycota","vriga"],_e=v(()=>{const o=Array.isArray(ve.value?.entries)?ve.value.entries:[],c=new Map;for(const p of o){if(!p)continue;const h=Number(p?.lder);if(!Number.isFinite(h))continue;const y=c.get(h)||{age:h};if(typeof p.artkategori=="string"&&p.klassning!==void 0){const M=Ba(p.artkategori),F=Number(p.klassning);M&&Number.isFinite(F)&&(y[M]=F)}else for(const M of je){const F=n[M],Y=p?.[F];if(Y==null)continue;const z=Number(Y);Number.isFinite(z)&&(y[M]=z)}c.set(h,y)}return Array.from(c.values()).map(p=>{for(const h of je)Number.isFinite(Number(p[h]))||(p[h]=0);return p}).sort((p,h)=>Number(p.age)-Number(h.age))}),Qe=v(()=>{const o=Number(g.maxYValue);if(zt.value){if(Number.isFinite(o))return[0,o*2];const c=Array.isArray(te.value)?te.value:[];let m=0;for(const p of c){const h=G.value[0]||(g.selectedArtkategori[0]?.toLowerCase()??"");if(!h)continue;const y=Number(p?.[h]);Number.isFinite(y)&&y>m&&(m=y)}return[0,m*2||1]}return Number.isFinite(o)?[0,o]:void 0}),te=v(()=>g.relativeChart?_e.value:g.chartType==="bar"?tt.value:g.singleFrameworkSelection&&g.frameworkComparisonMode?nr.value:tr.value),Be=v(()=>{const c=(g.relativeChart?_e.value:te.value).map(p=>Number(p?.age)).filter(p=>Number.isFinite(p));return c.length?[g.relativeChart?Math.max(0,Math.min(...c)):Math.min(...c),Math.max(...c)]:[0,1]}),mt=v(()=>{const o=_e.value.map(h=>Number(h?.age)).filter(h=>Number.isFinite(h));if(!o.length)return[0,50,100,150,200];const c=Math.max(...o);if(c<=80)return[0,20,50,80];const m=[0],p=50;for(let h=p;h<=c;h+=p)m.push(h);return m[m.length-1]!==c&&m.push(c),m}),It=v(()=>g.relativeChart?mt.value:[0,10,20,30,40,50,60,70,80,90]),jt=o=>g.relativeChart?o===0?"0 r":mt.value.includes(o)?`${o} r`:"":o===0?"Avverkning":o===10?"":o===20?(ie.value,"20 r"):o===30||o===40?"":o===50?(ie.value,"50 r"):o===60||o===70?"":o===80?(ie.value,"80 r"):"";v(()=>[(g.selectedFrameworks||[]).join(","),g.selectedStartskog||"",g.chartType||"",g.singleFrameworkSelection?"S":"M",g.currentTimeValue||""].join("|"));const ze=v(()=>Array.isArray(te.value)&&te.value.length>0),G=v(()=>{if(!g.singleFrameworkSelection)return[];if(g.frameworkComparisonMode){const p=g.selectedArtkategori?.[0];return p?[p.toLowerCase()]:[]}const o=(g.selectedArtkategori||[]).map(p=>(p||"").toLowerCase()).filter(p=>!ye.value.has(p)),c=gt.filter(p=>o.includes(p)),m=o.filter(p=>!gt.includes(p));return c.concat(m)}),Me={left:10,right:10,top:10,bottom:10},ce=R(null),Ee=R(!1);let w=null;const I=Ia({width:0,height:0}),ie=R(!1);function Je(){if(!ce.value){I.width=0,I.height=0;return}const o=ce.value.getBoundingClientRect();I.width=o.width,I.height=o.height,et()}function et(){typeof window>"u"||(ie.value=window.innerWidth<=640)}Re(async()=>{await Ie(),Ee.value=!0,Je(),et(),requestAnimationFrame(()=>{Je()}),typeof window<"u"&&"ResizeObserver"in window&&(w=new ResizeObserver(()=>{Je()}),ce.value&&w.observe(ce.value))}),mr(()=>{w&&(w.disconnect(),w=null)});const ye=R(new Set),de=R(new Set),ae=v(()=>g.frameworkComparisonMode||g.singleFrameworkSelection),g=e,Oe=v(()=>g.matsvampVariant==="goda"?"goda":g.matsvampVariant==="kg"?"kg":"standard"),qn=v(()=>Oe.value==="goda"?"goda matsvampar":Oe.value==="kg"?"kg matsvamp":"matsvamp"),zt=v(()=>(g.selectedArtkategori||[]).map(c=>(c||"").toLowerCase()).includes("matsvamp")&&Oe.value==="kg"),Et=o=>o,Xn=o=>c=>{if(!zt.value)return NaN;const m=Number(c?.[o]);return Number.isFinite(m)?m*2:NaN},Aa=(o,c)=>{const m=Number(o?.[c]);return Number.isFinite(m)?Et(m):NaN},Un=(o,c)=>{const m=Number(o?.[c]);return Number.isFinite(m)?Et(m):NaN},Ca=(o,c,m)=>{const p=c+"__compare",h=Number(o?.[p]?.[m]);return Number.isFinite(h)?Et(h):NaN};function Pe(o,c=1){const m=o.replace("#",""),p=m.length===3?m.split("").map(Y=>Y+Y).join(""):m,h=parseInt(p,16),y=h>>16&255,M=h>>8&255,F=h&255;return`rgba(${y}, ${M}, ${F}, ${c})`}v(()=>{const o={fre:-5,efter:1,10:10,20:20,50:50,80:80};return[g.currentTimeValue?o[g.currentTimeValue]??Be.value[0]:Be.value[0],Be.value[1]]});const xe=v(()=>{const o=g.currentTimeValue;if(!o)return null;const c={fre:-5,efter:1,10:10,20:20,50:50,80:80};if(o in c)return c[o];const m=Number(o);return Number.isFinite(m)?m:null});v(()=>{const o=(g.selectedFrameworks||[]).map(m=>m.toLowerCase()).join(","),c=(g.selectedArtkategori||[]).map(m=>m.toLowerCase()).join(",");return`${o}|${c}|${g.currentTimeValue||""}`});const Pt={atheliales:"#8B5CF6",boletales:"#EC4899",cantharellales:"#eab308",spindlingar:"#F97316",russulales:"#22C55E",ascomycota:"#DC2626",vriga:"#94A3B8",thelephorales:"#0EA5E9",matsvamp:"#eab308","goda matsvampar":"#eab308","kg matsvamp":"#eab308","rdlistade + signalarter":"#14b8a6",total:"#64748b"},gt=["atheliales","ascomycota","vriga","spindlingar","russulales","boletales","cantharellales","thelephorales","matsvamp","goda matsvampar","rdlistade + signalarter","total"],Kn={atheliales:"Skinnsvampar",boletales:"Soppar",cantharellales:"Kantarellslktingar",spindlingar:"Spindelskivlingar",russulales:"Kremlor & riskor",ascomycota:"Sporsckssvampar",vriga:"vriga",thelephorales:"Tagg- och tomentelloida svampar",matsvamp:"Alla matsvampar","goda matsvampar":"Goda matsvampar","rdlistade + signalarter":"Naturvrdssvampar",total:"Total"},Zn={atheliales:"/images/svampgrupp/skinnsvamp.png",boletales:"/images/svampgrupp/sopp.png",cantharellales:"/images/svampgrupp/kantarell.png",spindlingar:"/images/svampgrupp/hattsvamp.png",russulales:"/images/svampgrupp/hattsvamp.png",thelephorales:"/images/svampgrupp/taggsvamp.png",ascomycota:"/images/svampgrupp/skalsvamp.png",vriga:"/images/svampgrupp/ovrigt.png"},Qn={trakthygge:[{age:0,text:"Avverkning"}],luckhuggning:[{age:0,text:"Avverkning 3 luckor"},{age:30,text:"Avverkning 3 luckor"},{age:60,text:"Avverkning 3 luckor"},{age:90,text:"Avverkning 3 luckor"}],bldning:[{age:0,text:"Avverkning 30% av trden"},{age:30,text:"Avverkning 30% av trden"},{age:60,text:"Avverkning 30% av trden"},{age:90,text:"Avverkning 30% av trden"}],skrmtrd:[{age:0,text:"Frberedande avverkning"},{age:10,text:"Frtrdsstllning"},{age:20,text:"Avverkning av frtrden"}]},Ta=v(()=>(g.selectedArtkategori||[]).map(o=>(o||"").toLowerCase()));function Ba(o){const c=(o||"").toLowerCase();return c==="kg matsvampar"?"kg matsvamp":c==="cortinariaceae"?"spindlingar":c==="ascomyceter"?"ascomycota":c==="ovriga"||c==="vrigt"||c==="ovrigt"?"vriga":c}function vt(o){if(!o)return Pt.total;const c=Ba(o);return Pt[c]||Pt.total}const Jn=v(()=>g.singleFrameworkSelection&&!g.frameworkComparisonMode?G.value[0]||Ta.value[0]||"total":Ta.value[0]||"total"),_t=v(()=>vt(Jn.value)),er=o=>o==="matsvamp"&&Oe.value==="goda"?"Goda matsvampar":o==="matsvamp"&&Oe.value==="kg"?"Kg matsvampar":Kn[o]||en(o);function Wt(o){const c=o.toLowerCase();return c==="naturskydd"?"Ingen tgrd":c==="trakthygge"?"Trakhyggesbruk":c==="skrmtrd"?"verhllen skrm":en(o)}const be=["naturskydd","trakthygge","skrmtrd","luckhuggning","bldning"],Ht=v(()=>(g.selectedFrameworks||[]).map(o=>o.toLowerCase())),Gt=v(()=>Ht.value.filter(o=>be.includes(o)&&!de.value.has(o))),Yt=v(()=>{const o={};for(const c of Ht.value){const m=Fa(c).map(p=>({age:Number(p.age),value:Number(p.klassning)})).filter(p=>Number.isFinite(p.age)&&Number.isFinite(p.value)).sort((p,h)=>p.age-h.age);o[c]=m}return o}),Ma=v(()=>{const o=Object.values(Yt.value);if(!o.length)return[];let c=1/0,m=-1/0;const p=new Set;for(const h of o)for(const y of h){const M=Number(y.age);Number.isFinite(M)&&(p.add(M),M<c&&(c=M),M>m&&(m=M))}if(!Number.isFinite(c)||!Number.isFinite(m))return[];for(let h=Math.floor(c);h<=Math.ceil(m)+1e-9;h+=1)p.add(Number(h.toFixed(6)));return Array.from(p).sort((h,y)=>h-y)});function qt(o,c){const m=o.findIndex(y=>y.age===c);if(m!==-1)return o[m].value;let p=-1,h=-1;for(let y=0;y<o.length;y++)if(o[y].age<c&&(p=y),o[y].age>c){h=y;break}if(p!==-1&&h!==-1){const y=o[p],M=o[h],F=(c-y.age)/(M.age-y.age);return y.value+F*(M.value-y.value)}}const tr=v(()=>{const o=[];for(const c of Ma.value){const m={age:c};if(g.singleFrameworkSelection&&!g.frameworkComparisonMode){const p=G.value.length?G.value:(g.selectedArtkategori||[]).map(y=>(y||"").toLowerCase()).filter(Boolean),h=ar.value;for(const y of p){const M=h[y]||[],F=qt(M,c);typeof F=="number"&&Number.isFinite(F)&&(m[y]=F)}}else for(const p of Gt.value){const h=Yt.value[p]||[],y=qt(h,c);typeof y=="number"&&Number.isFinite(y)&&(m[p]=y)}o.push(m)}return o}),ar=v(()=>{if(!(g.singleFrameworkSelection&&!g.frameworkComparisonMode))return{};const o={},c=G.value.length?G.value:(g.selectedArtkategori||[]).map(p=>(p||"").toLowerCase()).filter(Boolean),m=Array.isArray(tt.value)?tt.value:[];for(const p of m){const h=Number(p?.age);if(Number.isFinite(h))for(const y of c){const M=Number(p?.[y]);Number.isFinite(M)&&(o[y]=o[y]||[]).push({age:h,value:M})}}for(const p of Object.keys(o))o[p].sort((h,y)=>h.age-y.age);return o}),Xt=v(()=>G.value[0]||g.selectedArtkategori?.[0]?.toLowerCase()||""),nr=v(()=>{if(!(g.singleFrameworkSelection&&g.frameworkComparisonMode&&g.chartType==="area"))return[];const o=Xt.value;if(!o)return[];const c=de.value,m=be.filter(h=>g.selectedFrameworks.map(y=>y.toLowerCase()).includes(h)&&!c.has(h)),p=[];for(const h of Ma.value){const y={age:h};let M=!1;for(const F of m){const Y=Yt.value[F]||[],z=qt(Y,h);if(typeof z=="number"&&Number.isFinite(z)){const j=F+"__compare",ne=y[j]||{};ne[o]=z,y[j]=ne,M=!0}}M&&p.push(y)}return p});v(()=>{const o={},c=Array.isArray(tt.value)?tt.value:[];for(const m of Gt.value)o[m]=c.filter(p=>Number.isFinite(Number(p?.age))&&Number.isFinite(Number(p?.[m]))).map(p=>({age:Number(p.age),value:Number(p[m]),__row:p})).sort((p,h)=>p.age-h.age);return o});const De=v(()=>{if(g.singleFrameworkSelection){if(g.frameworkComparisonMode){const j=(g.selectedFrameworks||[]).map(ke=>ke.toLowerCase()),ne=g.preserveFrameworkOrder?j.filter(ke=>be.includes(ke)):be.filter(ke=>j.includes(ke)),re=_t.value,hr=.5;return ne.map((ke,dr)=>{const Ra=Wt(ke),fr=de.value.has(ke),Ut=dr===1?"#c3a283":re;return{key:ke,name:Ra,label:Ra,color:Ut,colorArea:Pe(Ut,hr),colorLine:Ut,inactive:fr}})}const h=(g.selectedArtkategori||[]).map(j=>(j||"").toLowerCase()).filter(Boolean),y=h.length?h:G.value.concat(Array.from(ye.value)),M=new Set(y),F=gt.filter(j=>M.has(j)),Y=Array.from(M).filter(j=>!gt.includes(j)).sort();return F.concat(Y).map(j=>{const ne=vt(j),re=er(j);return{key:j,name:re,label:re,color:ne,colorArea:Pe(ne,.5),colorLine:ne,inactive:ye.value.has(j),icon:Zn[j]}})}const o=(g.selectedFrameworks||[]).map(h=>h.toLowerCase()),c=g.preserveFrameworkOrder?o.filter(h=>be.includes(h)):be.filter(h=>o.includes(h)),m=_t.value,p=.5;return c.map((h,y)=>{const M=Wt(h),F=de.value.has(h),Y=y===1?"#c3a283":m;return{key:h,name:M,label:M,color:Y,colorArea:Pe(Y,p),colorLine:Y,inactive:F}})}),se=v(()=>g.singleFrameworkSelection&&!g.frameworkComparisonMode?[]:De.value.filter(o=>!o.inactive));b.TopOutside;const rr=v(()=>{if(g.singleFrameworkSelection){if(g.frameworkComparisonMode)return se.value.map(c=>c.key);const o=(g.selectedFrameworks||[]).map(c=>(c||"").toLowerCase()).filter(c=>be.includes(c)).filter(c=>!de.value.has(c));return o.length?o:Gt.value}return se.value.map(o=>o.key)});function Oa(o){return o==="total"?ee.value:o==="matsvamp"?Oe.value==="goda"?L.value:Oe.value==="kg"?A.value:B.value:o==="goda matsvampar"?L.value:o==="rdlistade + signalarter"?S.value:o==="atheliales"?k.value:o==="boletales"?O.value:o==="cantharellales"?N.value:o==="spindlingar"?P.value:o==="russulales"?Z.value:o==="ascomycota"?q.value:o==="thelephorales"?V.value:o==="vriga"?fe.value:[]}function Da(o){const c=o.toLowerCase();return c==="matsvamp"?qn.value:c}function Fa(o){const c=g.selectedArtkategori.map(h=>h.toLowerCase()),m=g.selectedStartskog?g.selectedStartskog.toLowerCase():null,p=[];return c.forEach(h=>{const y=Da(h);(Oa(h)||[]).forEach(F=>{F.artkategori?.toLowerCase()===y&&F.frameworks?.toLowerCase()===o.toLowerCase()&&(m&&(F.startskog?.toLowerCase()??m)!==m||p.push({age:F.lder,klassning:+F.klassning}))})}),p}const tt=v(()=>{if(g.relativeChart)return _e.value;const o=new Map;if(g.singleFrameworkSelection){const c=g.frameworkComparisonMode?(g.selectedFrameworks||[]).map(m=>m.toLowerCase()).slice(0,2):[g.selectedFrameworks[0]?.toLowerCase()].filter(Boolean);g.selectedArtkategori.forEach(m=>{const p=m.toLowerCase(),h=Oa(p),y=g.selectedStartskog?g.selectedStartskog.toLowerCase():null,M=Da(p);c.forEach(F=>{(h||[]).filter(z=>{const j=z.artkategori?.toLowerCase()===M,ne=z.frameworks?.toLowerCase()===F,re=!y||(z.startskog?.toLowerCase()??y)===y;return j&&ne&&re}).map(z=>({age:z.lder,klassning:+z.klassning})).forEach(z=>{const j=o.get(z.age)||{age:z.age};if(g.frameworkComparisonMode){const ne=`${F}__compare`,re=j[ne]||{};re[p]=z.klassning,j[ne]=re}else j[p]=z.klassning;o.set(z.age,j)})})})}else Ht.value.forEach(c=>{Fa(c).forEach(p=>{const h=o.get(p.age)||{age:p.age};h[c]=p.klassning,o.set(p.age,h)})});return Array.from(o.values()).sort((c,m)=>c.age-m.age)}),Fe=o=>{const c=Number(o?.age);return Number.isFinite(c)?c:void 0},ir=v(()=>{if(g.singleFrameworkSelection){if(g.frameworkComparisonMode){const c=G.value[0]||g.selectedArtkategori[0]?.toLowerCase();return se.value.map(m=>{const p=m.key;return h=>{const M=h?.[`${p}__compare`]?.[c];return Number.isFinite(Number(M))?Number(M):NaN}})}return(G.value.length?G.value:g.selectedArtkategori.map(c=>c.toLowerCase())).filter(c=>!ye.value.has(c)).map(c=>m=>m[c])}return se.value.map(o=>c=>c[o.key])}),sr=v(()=>g.singleFrameworkSelection?g.frameworkComparisonMode?se.value.map(c=>Pe(c.colorLine||c.color,.7)||"#000000"):(G.value.length?G.value:g.selectedArtkategori.map(c=>c.toLowerCase())).filter(c=>!ye.value.has(c)).map(c=>vt(c)):se.value.map(o=>o.color||"#000000"));function Na(o){const c=(o.key||o.name||"").toLowerCase();if(c)if(g.singleFrameworkSelection)if(g.frameworkComparisonMode){const m=new Set(de.value);m.has(c)?m.delete(c):m.add(c),de.value=m}else{const m=new Set(ye.value);m.has(c)?m.delete(c):m.add(c),ye.value=m}else{const m=be.find(h=>h===c)||be.find(h=>Wt(h).toLowerCase()===c);if(!m)return;const p=new Set(de.value);p.has(m)?p.delete(m):p.add(m),de.value=p}}const or=v(()=>!g.singleFrameworkSelection||g.frameworkComparisonMode?[]:G.value.map(o=>c=>Un(c,o))),lr=v(()=>!g.singleFrameworkSelection||g.frameworkComparisonMode?[]:G.value.map(o=>vt(o))),La=Ia({age:0});function cr(o){return o?Object.keys(o).filter(m=>m!=="age"&&m!=="__markerY").some(m=>{const p=o[m];return p&&typeof p=="object"?Object.values(p).some(h=>Number.isFinite(Number(h))):Number.isFinite(Number(p))}):!1}const $a=v(()=>g.singleFrameworkSelection?g.frameworkComparisonMode?se.value.length:G.value.length:se.value.length),We=v(()=>$a.value>0),Va=v(()=>{const o=te.value;return $a.value?o.filter(c=>cr(c)):g.frameworkComparisonMode&&g.singleFrameworkSelection&&o.length?o.map(c=>{const m={age:c.age};for(const p of g.selectedFrameworks||[]){const h=p.toLowerCase();m[`${h}__compare`]={[G.value[0]||g.selectedArtkategori[0]?.toLowerCase()||""]:NaN}}return m}):o.length?o:[La]}),ur=v(()=>{if(!ze.value)return[];const o=rr.value;if(!o.length)return[];const[c,m]=Be.value;if(!Number.isFinite(c)||!Number.isFinite(m)||c===m)return[];const p=[],h=M=>{const F=De.value.find(z=>z.key===M);return F?.colorLine||F?.colorArea||F?.color||_t.value||"#64748b"},y=M=>{const F=De.value.find(Y=>Y.key===M);return F?.colorLine||F?.color||_t.value||"#1f2937"};return o.forEach(M=>{const F=Qn[M];if(!F?.length)return;const Y=h(M),z=y(M);F.forEach((j,ne)=>{const re=Number(j.age);Number.isFinite(re)&&(re<c||re>m||p.push({id:`${M}-${re}-${ne}`,value:re,color:Y,labelText:j.text,labelColor:z}))})}),p});return(o,c)=>{const m=tn,p=gr;return D(),H("div",{class:"custom-area",ref_key:"rootEl",ref:ce},[Se(p,null,{default:$e(()=>[Ee.value&&ze.value&&ae.value&&De.value.length&&!(g.singleFrameworkSelection&&!g.frameworkComparisonMode)?(D(),U(X(ms),{key:0,items:De.value,onLegendItemClick:Na,class:"mx-2 flex flex-wrap gap-2"},null,8,["items"])):K("",!0),Ee.value&&ze.value&&De.value.length&&g.singleFrameworkSelection&&!g.frameworkComparisonMode?(D(),H("div",so,[(D(!0),H(pe,null,Ne(De.value,h=>(D(),U(m,{key:h.key,type:"button",variant:"ghost",color:"neutral",size:"sm",class:"flex items-center px-2 py-1 gap-2 hover:opacity-95 transition ring-muted/50",onClick:y=>Na(h)},{default:$e(()=>[h.icon?(D(),H("div",{key:0,class:"h-5 w-5",style:ja({backgroundColor:h.color||h.colorLine||h.colorArea||"#000",WebkitMask:`url(${h.icon}) center / contain no-repeat`,mask:`url(${h.icon}) center / contain no-repeat`,opacity:h.inactive?.2:1})},null,4)):K("",!0),me("span",{style:ja({opacity:h.inactive?.2:1})},st(h.label),5)]),_:2},1032,["onClick"]))),128))])):K("",!0),Ee.value&&ze.value?(D(),U(X(jr),{key:2,data:Va.value.length?Va.value:[La],height:200,margin:Me,xDomain:Be.value,yDomain:Qe.value},{default:$e(()=>[g.chartType==="area"&&g.singleFrameworkSelection&&!g.frameworkComparisonMode?(D(),H(pe,{key:0},[Se(X(xt),{x:Fe,y:or.value,color:lr.value,interpolateMissingData:!0},null,8,["y","color"]),We.value&&xe.value!==null?(D(),U(X(Jt),{key:0,axis:"x",from:-7,to:xe.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):K("",!0),We.value?(D(),U(X(bt),{key:1,value:xe.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):K("",!0)],64)):g.chartType==="area"&&g.singleFrameworkSelection&&g.frameworkComparisonMode?(D(),H(pe,{key:1},[(D(!0),H(pe,null,Ne(se.value,h=>(D(),U(X(xt),{x:Fe,y:y=>Ca(y,h.key,Xt.value),color:()=>h.colorArea||h.color,interpolateMissingData:!0,zIndex:1},null,8,["y","color"]))),256)),(D(!0),H(pe,null,Ne(se.value,h=>(D(),U(X(Ka),{x:Fe,y:y=>Ca(y,h.key,Xt.value),color:()=>Pe(h.colorLine||h.color,.6)},null,8,["y","color"]))),256)),We.value&&xe.value!==null?(D(),U(X(Jt),{key:0,axis:"x",from:-7,to:xe.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):K("",!0),We.value?(D(),U(X(bt),{key:1,value:xe.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):K("",!0)],64)):g.chartType==="area"?(D(),H(pe,{key:2},[(D(!0),H(pe,null,Ne(se.value,h=>(D(),U(X(xt),{x:Fe,y:y=>Aa(y,h.key),color:()=>h.colorArea||h.color,interpolateMissingData:!0,zIndex:1},null,8,["y","color"]))),256)),(D(!0),H(pe,null,Ne(se.value,h=>(D(),U(X(Ka),{x:Fe,y:y=>Aa(y,h.key),color:()=>Pe(h.colorLine||h.color,.6)},null,8,["y","color"]))),256)),zt.value?(D(!0),H(pe,{key:0},Ne(se.value,h=>(D(),U(X(xt),{key:h.key+"-kg-x2",x:Fe,y:Xn(h.key),color:()=>"rgba(234,179,8,0.3)"},null,8,["y"]))),128)):K("",!0),We.value&&xe.value!==null?(D(),U(X(Jt),{key:1,axis:"x",from:-7,to:xe.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):K("",!0),We.value?(D(),U(X(bt),{key:2,value:xe.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):K("",!0)],64)):g.chartType==="bar"?(D(),U(X(hs),{key:3,color:sr.value,x:Fe,y:ir.value,groupPadding:.5,groupMaxWidth:20},null,8,["color","y"])):K("",!0),(D(!0),H(pe,null,Ne(ur.value,h=>(D(),U(X(bt),{axis:"x",value:h.value,color:"rgba(69,10,10, 0.5)",lineStyle:[2,3],label:h.labelText,labelColor:h.labelColor,zIndex:100,lineWidth:1},null,8,["value","label","labelColor"]))),256)),Se(X(za),{tickTextFontSize:"12px",gridLine:!0,type:"x",tickValues:It.value,tickFormat:jt},null,8,["tickValues"]),Se(X(za),{tickTextFontSize:"12px",type:"y"})]),_:1},8,["data","xDomain","yDomain"])):K("",!0)]),_:1})],512)}}}),lo=Object.assign(oo,{__name:"ForestryChartDisplay"}),co={class:"mt-2 mb-1 flex justify-between"},uo={class:"pr-2"},ho={class:"flex items-center gap-2"},fo=["src"],po={class:"flex items-center gap-2"},mo={class:"space-y-3"},go={key:0,class:"px-4 pb-4 text-sm text-muted"},vo={key:1,class:"mx-2"},_o={class:"flex flex-col gap-4"},yo={class:"text-sm text-muted"},xo="Den relativa frdelningen av olika grupper mykorrhizasvampar vid olika skogsldrar. Uppgifterna baseras enbart p frekomst i skogar av olika ldrar och r inte kopplade till vilken skogssktselmetod som anvnts.",bo=Te({__name:"ForestryChartMain",props:{parentSelectedFrameworks:{},currentTimeValue:{},currentStartskog:{},selectedChart:{},preserveFrameworkOrder:{type:Boolean}},emits:["update:selectedChart"],async setup(e,{expose:t,emit:a}){let n,r;const i=vr("(max-width: 767px)"),l={skogsskole:"Mngd mykorrhizasvamp i marken i frhllande till frekomsten i ldre skog/fre avverkning (%).",rodlistade:"Mngden av mykorrhizasvampar som r rdlistade/signalarter i marken i frhllande till frekomsten i ldre skog/fre avverkning (%).",grupper:"Mngden av olika grupper svampar i frhllande till frekomsten i ldre skog/fre avverkning (%)."},s={standard:"Mngden av alla matsvampar i marken frhllande till frekomsten i ldre skog/fre avverkning (%).",goda:"Mngden av alla goda matsvampar i frhllande till frekomsten i ldre skog/fre avverkning (%).",kg:"Frskvikten av alla matsvampar (kg/ha) under en ssong i frhllande till frekomsten i ldre skog/fre avverkning. Medel- samt min-maxvrde."},u=["standard","goda","kg"],{data:x}=([n,r]=nt(()=>rt("forestry-chart-texts",()=>it("forestryChartTexts").first())),n=await n,r(),n);function f(w){return w?Array.isArray(w)?w:Array.isArray(w?.entries)?w.entries:Array.isArray(w?.body)?w.body:Array.isArray(w?.data)?w.data:[]:[]}const d=v(()=>f(x.value)),_=v(()=>{const w={};for(const I of d.value)I?.id&&(w[I.id]=I);return w}),T=v(()=>_.value.skogsskole?.description??l.skogsskole),B=v(()=>_.value.rodlistade?.description??l.rodlistade),L=v(()=>_.value.grupper?.description??l.grupper),A=v(()=>_.value.grupper?.modalDescription??xo),C=v(()=>{const w=N.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","bldning","skrmtrd"];return V.value==="rodlistade"?{selectedFrameworks:w,selectedArtkategori:["rdlistade + signalarter"],chartType:_e.value,selectedStartskog:N.currentStartskog,redColor:!0,maxYValue:.65,currentTimeValue:N.currentTimeValue,frameworkComparisonMode:ee.value,preserveFrameworkOrder:N.preserveFrameworkOrder}:V.value==="matsvampar"?{selectedFrameworks:w,selectedArtkategori:[Be.value],chartType:_e.value,selectedStartskog:N.currentStartskog,yellowColor:!0,maxYValue:ze.value,currentTimeValue:N.currentTimeValue,matsvampVariant:te.value,frameworkComparisonMode:ee.value,preserveFrameworkOrder:N.preserveFrameworkOrder}:V.value==="grupper"?{selectedFrameworks:N.parentSelectedFrameworks??[Z.value],selectedArtkategori:ee.value?[ce.value]:G.value,frameworkComparisonMode:ee.value,chartType:_e.value,singleFrameworkSelection:!0,selectedStartskog:N.currentStartskog,currentTimeValue:N.currentTimeValue,preserveFrameworkOrder:N.preserveFrameworkOrder}:{selectedFrameworks:w,selectedArtkategori:["total"],chartType:_e.value,maxYValue:130,currentTimeValue:N.currentTimeValue,frameworkComparisonMode:ee.value,preserveFrameworkOrder:N.preserveFrameworkOrder}}),S=v(()=>V.value==="rodlistade"?B.value:V.value==="matsvampar"?jt.value:V.value==="grupper"?L.value:T.value),k=v(()=>{const w={...s},I=_.value.matsvampar;if(I?.variants?.length)for(const ie of I.variants)O(ie?.id)&&ie.description&&(w[ie.id]=ie.description);else I?.description&&(w.standard=I.description);return w});function O(w){return w?u.includes(w):!1}const N=e,P=a;R("naturskog"),R("naturskog"),R("naturskog");const Z=R("trakthygge");R(!0),R(!1),R(!1),R(!1),R(!1),R(!1);const q=[{label:"Mngd mykorrhizasvamp",value:"skogsskole",icon:"i-lineicons-mushroom-1"},{label:"Svampgrupper",value:"grupper",icon:"i-material-symbols-category-rounded"},{label:"Naturvrdssvampar",value:"rodlistade",icon:"i-material-symbols-award-star"},{label:"Matsvampar",value:"matsvampar",icon:"icon-park-solid:knife-fork"}],V=R(q.some(w=>w.value===N.selectedChart)?N.selectedChart:q[0].value),fe=v(()=>q.find(w=>w.value===V.value)?.icon),ee=v(()=>(N.parentSelectedFrameworks?.length??0)===2);function ve(w){q.some(I=>I.value===w)&&(V.value=w)}t({setSelectedChart:ve}),le(()=>N.selectedChart,w=>{typeof w=="string"&&q.some(I=>I.value===w)&&V.value!==w&&(V.value=w)}),le(V,w=>{P("update:selectedChart",w)});const je=["atheliales","boletales","cantharellales","spindlingar","russulales","thelephorales","ascomycota","vriga"],_e=R("area");R("area");const Qe=[{label:"Alla matsvampar",value:"standard",icon:"i-lineicons-mushroom-1"},{label:"Goda matsvampar",value:"goda",icon:"i-heroicons-star-16-solid"},{label:"Kg matsvampar",value:"kg",icon:"i-material-symbols-scale-outline-rounded"}],te=R("standard"),Be=v(()=>te.value==="goda"?"goda matsvampar":"matsvamp"),mt=v(()=>Qe.find(w=>w.value===te.value)?.icon),It=v(()=>Qe.find(w=>w.value===te.value)?.label??"Vlj dataset"),jt=v(()=>k.value[te.value]),ze=v(()=>te.value==="kg"?55:28),G=R([...je]),Me=[{label:"Skinnsvampar",value:"atheliales",icon:"/images/svampgrupp/skinnsvamp.png",avatar:{src:"/images/svampgrupp/skinnsvamp.png",alt:"Skinnsvampar"}},{label:"Soppar",value:"boletales",icon:"/images/svampgrupp/sopp.png",avatar:{src:"/images/svampgrupp/sopp.png",alt:"Soppar"}},{label:"Kantarellslktingar",value:"cantharellales",icon:"/images/svampgrupp/kantarell.png",avatar:{src:"/images/svampgrupp/kantarell.png",alt:"Kantarellslktingar"}},{label:"Spindelskivlingar",value:"spindlingar",icon:"/images/svampgrupp/hattsvamp.png",avatar:{src:"/images/svampgrupp/hattsvamp.png",alt:"Spindelskivlingar"}},{label:"Kremlor & riskor",value:"russulales",icon:"/images/svampgrupp/hattsvamp.png",avatar:{src:"/images/svampgrupp/hattsvamp.png",alt:"Kremlor & riskor"}},{label:"Tagg- och tomentelloida svampar",value:"thelephorales",icon:"/images/svampgrupp/taggsvamp.png",avatar:{src:"/images/svampgrupp/taggsvamp.png",alt:"Tagg- och tomentelloida svampar"}},{label:"Sporsckssvampar",value:"ascomycota",icon:"/images/svampgrupp/skalsvamp.png",avatar:{src:"/images/svampgrupp/skalsvamp.png",alt:"Sporsckssvampar"}},{label:"vriga svampar",value:"vriga",icon:"/images/svampgrupp/ovrigt.png",avatar:{src:"/images/svampgrupp/ovrigt.png",alt:"vriga svampar"}}],ce=R(Me[0].value),Ee=v(()=>Me.find(w=>w.value===ce.value)?.avatar);return le([V,ee],([w,I])=>{w==="grupper"&&I||(ce.value=Me[0].value),w==="grupper"&&!I&&(G.value=[...je])}),le(()=>N.parentSelectedFrameworks?.length,()=>{V.value==="grupper"&&ee.value&&(ce.value=Me[0].value)}),(w,I)=>{const ie=pr,Je=_r,et=lo,ye=tn,de=br;return D(),H("div",null,[me("div",co,[Se(ie,{modelValue:V.value,"onUpdate:modelValue":I[0]||(I[0]=ae=>V.value=ae),items:q,"value-key":"value","option-attribute":"label",size:"xl",variant:"none",class:"hover:cursor-pointer",icon:fe.value,ui:{content:"min-w-fit",value:"sm:text-lg sm:font-medium text-neutral-700"}},null,8,["modelValue","icon"]),me("div",uo,[V.value==="grupper"&&ee.value?(D(),U(ie,{key:0,modelValue:ce.value,"onUpdate:modelValue":I[1]||(I[1]=ae=>ce.value=ae),items:Me,"option-attribute":"label","value-key":"value",size:"lg",variant:"soft",placeholder:"Vlj svampgrupp",class:"hover:cursor-pointer rounded-full",ui:{content:"min-w-fit",value:"hidden sm:flex",base:"min-h-8"},avatar:Ee.value},{item:$e(({item:ae})=>[me("div",ho,[ae.icon?(D(),H("img",{key:0,src:ae.icon,alt:"",class:"size-5 rounded-sm object-contain"},null,8,fo)):K("",!0),me("span",null,st(ae.label),1)])]),_:1},8,["modelValue","avatar"])):K("",!0),V.value==="matsvampar"?(D(),U(ie,{key:1,modelValue:te.value,"onUpdate:modelValue":I[2]||(I[2]=ae=>te.value=ae),items:Qe,content:{align:"end",side:"bottom",sideOffset:8},"option-attribute":"label","value-key":"value",placeholder:"Vlj dataset",class:"hover:cursor-pointer rounded-full",size:"lg",variant:"soft",ui:{content:"w-fit shrink-0",value:"hidden",base:"min-h-8",item:"gap-0"},icon:mt.value,"aria-label":It.value},{item:$e(({item:ae})=>[me("div",po,[ae.icon?(D(),U(Je,{key:0,name:ae.icon,class:"size-4"},null,8,["name"])):K("",!0),me("span",null,st(ae.label),1)])]),_:1},8,["modelValue","icon","aria-label"])):K("",!0)])]),me("div",mo,[Se(et,yr(xr(C.value)),null,16),S.value?(D(),H("div",go,st(S.value),1)):K("",!0),V.value==="grupper"?(D(),H("div",vo,[Se(de,{fullscreen:!!X(i),title:"Relativ mngd",description:""},{body:$e(()=>[me("div",_o,[Se(et,{selectedFrameworks:["trakthygge"],selectedArtkategori:je,chartType:"area",singleFrameworkSelection:!0,relativeChart:!0}),me("p",yo,st(A.value),1)])]),default:$e(()=>[Se(ye,{size:"lg",variant:"outline",class:"px-3 flex justify-center ring-muted/50",color:"neutral",icon:"i-carbon-diagram-reference",label:"Relativ mngd vid olika ldrar"})]),_:1},8,["fullscreen"])])):K("",!0)])])}}}),Ao=Object.assign(kr(bo,[["__scopeId","data-v-c61e4a5a"]]),{__name:"ForestryChartMain"});export{Ao as _};
