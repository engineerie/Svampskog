const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BMeOfb4I.js","./C51Rxmkt.js","./entry.Ro5fbJw7.css","./Cpj98o6Y.js","./hnHILanV.js","./DamHLLUC.js","./B0VoygWj.js","./CnF27t5J.js","./BWuJ0jvd.js","./Cd6yKlyt.js","./CcbwAkLh.js","./hg6Rz1vw.js","./i07SFb3v.js","./BzE5W9MJ.js","./Brz0f4_4.js","./iik6CYzq.js","./B9i8ASNm.js","./C4GnrOYX.js","./SCarousel.DbZX_4vZ.css","./OpenSeadragonViewer.DSXzglBR.css"])))=>i.map(i=>d[i]);
import{A as Re,C as ts,I as as,Z as Rr,V as b,B as rs,M as I,e as h,w as L,N as Ge,f as $,O as S,Y as Ur,S as ns,U as bt,P as Va,aI as Aa,r as C,d as V,o as ft,K as Xt,c as yt,J as X,aC as xt,aD as wt,aE as St,aQ as Nr,aR as ma,g,aS as ss,F as he,af as Ae,h as c,t as P,ae as Ma,ah as Be,aT as Pr,_ as Ir,a3 as br,a4 as is,a5 as ls,y as os,a9 as us,a8 as cs,aU as ds,aV as fs,aa as kr,n as ae,am as Pt,aM as Hr,aB as za,aW as Oa,aX as vs,p as ms,aY as yr,aL as hs,aZ as ps,a_ as gs,a$ as _s,b0 as bs,T as ks,b as ys,aH as xs,b1 as ws,aG as Ss,ad as Ts,au as Cs,ao as Ls,aA as Vs,aK as As}from"#entry";import{_ as qr}from"./hnHILanV.js";import{L as Ms,_ as zs,a as Os,b as Fs}from"./CnF27t5J.js";import{X as Fa,O as Yr,c as Ue,i as Da,a as $a,b as ha,g as tt,m as fa,d as Ds,e as pa,f as $s,r as js,h as ga,s as je,j as Ht,D as Ut,k as Es,l as Bs,n as Rs,o as Us,p as Ns,q as Ps,t as Is,u as Hs,v as qs,w as Ys,A as _a,x as ja,y as Ea,z as Ba,S as Gs,B as xr,C as wr,E as Sr}from"./Cd6yKlyt.js";import{u as Zs,V as Ws}from"./BWuJ0jvd.js";import{d as Xs}from"./CcbwAkLh.js";import{_ as Ks}from"./hg6Rz1vw.js";import{M as Qs}from"./i07SFb3v.js";import{_ as Js}from"./BzE5W9MJ.js";import{_ as ei}from"./B9i8ASNm.js";import{_ as ti}from"./C4GnrOYX.js";const[ai,ri]=rs("SwitchRoot");var ni=Re({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,r=t,{disabled:i}=ts(a),l=as(a,"modelValue",r,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function f(){i.value||(l.value=!l.value)}const{forwardRef:u,currentElement:d}=Rr(),A=Zs(d),v=b(()=>a.id&&d.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return ri({modelValue:l,toggleCheck:f,disabled:i}),(m,j)=>(h(),I(S(Va),Ur(m.$attrs,{id:m.id,ref:S(u),role:"switch",type:m.as==="button"?"button":void 0,value:m.value,"aria-label":m.$attrs["aria-label"]||v.value,"aria-checked":S(l),"aria-required":m.required,"data-state":S(l)?"checked":"unchecked","data-disabled":S(i)?"":void 0,"as-child":m.asChild,as:m.as,disabled:S(i),onClick:f,onKeydown:ns(bt(f,["prevent"]),["enter"])}),{default:L(()=>[Ge(m.$slots,"default",{modelValue:S(l)}),S(A)&&m.name?(h(),I(S(Ws),{key:0,type:"checkbox",name:m.name,disabled:S(i),required:m.required,value:m.value,checked:!!S(l)},null,8,["name","disabled","required","value","checked"])):$("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),si=ni,ii=Re({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=ai();return Rr(),(a,r)=>(h(),I(S(Va),{"data-state":S(t).modelValue?.value?"checked":"unchecked","data-disabled":S(t).disabled.value?"":void 0,"as-child":a.asChild,as:a.as},{default:L(()=>[Ge(a.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"]))}}),li=ii,ba=Math.PI,ka=2*ba,et=1e-6,oi=ka-et;function ya(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ra(){return new ya}ya.prototype=Ra.prototype={constructor:ya,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,a,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+a)+","+(this._y1=+r)},bezierCurveTo:function(e,t,a,r,i,l){this._+="C"+ +e+","+ +t+","+ +a+","+ +r+","+(this._x1=+i)+","+(this._y1=+l)},arcTo:function(e,t,a,r,i){e=+e,t=+t,a=+a,r=+r,i=+i;var l=this._x1,f=this._y1,u=a-e,d=r-t,A=l-e,v=f-t,m=A*A+v*v;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(m>et)if(!(Math.abs(v*u-d*A)>et)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var j=a-l,E=r-f,F=u*u+d*d,O=j*j+E*E,x=Math.sqrt(F),M=Math.sqrt(m),p=i*Math.tan((ba-Math.acos((F+m-O)/(2*x*M)))/2),T=p/M,D=p/x;Math.abs(T-1)>et&&(this._+="L"+(e+T*A)+","+(t+T*v)),this._+="A"+i+","+i+",0,0,"+ +(v*j>A*E)+","+(this._x1=e+D*u)+","+(this._y1=t+D*d)}},arc:function(e,t,a,r,i,l){e=+e,t=+t,a=+a,l=!!l;var f=a*Math.cos(r),u=a*Math.sin(r),d=e+f,A=t+u,v=1^l,m=l?r-i:i-r;if(a<0)throw new Error("negative radius: "+a);this._x1===null?this._+="M"+d+","+A:(Math.abs(this._x1-d)>et||Math.abs(this._y1-A)>et)&&(this._+="L"+d+","+A),a&&(m<0&&(m=m%ka+ka),m>oi?this._+="A"+a+","+a+",0,1,"+v+","+(e-f)+","+(t-u)+"A"+a+","+a+",0,1,"+v+","+(this._x1=d)+","+(this._y1=A):m>et&&(this._+="A"+a+","+a+",0,"+ +(m>=ba)+","+v+","+(this._x1=e+a*Math.cos(i))+","+(this._y1=t+a*Math.sin(i))))},rect:function(e,t,a,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +a+"v"+ +r+"h"+-a+"Z"},toString:function(){return this._}};function ye(e){return function(){return e}}var Tr=1e-12;function Gr(e){this._context=e}Gr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ua(e){return new Gr(e)}function Zr(e){return e[0]}function Wr(e){return e[1]}function ui(){var e=Zr,t=Wr,a=ye(!0),r=null,i=Ua,l=null;function f(u){var d,A=u.length,v,m=!1,j;for(r==null&&(l=i(j=Ra())),d=0;d<=A;++d)!(d<A&&a(v=u[d],d,u))===m&&((m=!m)?l.lineStart():l.lineEnd()),m&&l.point(+e(v,d,u),+t(v,d,u));if(j)return l=null,j+""||null}return f.x=function(u){return arguments.length?(e=typeof u=="function"?u:ye(+u),f):e},f.y=function(u){return arguments.length?(t=typeof u=="function"?u:ye(+u),f):t},f.defined=function(u){return arguments.length?(a=typeof u=="function"?u:ye(!!u),f):a},f.curve=function(u){return arguments.length?(i=u,r!=null&&(l=i(r)),f):i},f.context=function(u){return arguments.length?(u==null?r=l=null:l=i(r=u),f):r},f}function ci(){var e=Zr,t=null,a=ye(0),r=Wr,i=ye(!0),l=null,f=Ua,u=null;function d(v){var m,j,E,F=v.length,O,x=!1,M,p=new Array(F),T=new Array(F);for(l==null&&(u=f(M=Ra())),m=0;m<=F;++m){if(!(m<F&&i(O=v[m],m,v))===x)if(x=!x)j=m,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),E=m-1;E>=j;--E)u.point(p[E],T[E]);u.lineEnd(),u.areaEnd()}x&&(p[m]=+e(O,m,v),T[m]=+a(O,m,v),u.point(t?+t(O,m,v):p[m],r?+r(O,m,v):T[m]))}if(M)return u=null,M+""||null}function A(){return ui().defined(i).curve(f).context(l)}return d.x=function(v){return arguments.length?(e=typeof v=="function"?v:ye(+v),t=null,d):e},d.x0=function(v){return arguments.length?(e=typeof v=="function"?v:ye(+v),d):e},d.x1=function(v){return arguments.length?(t=v==null?null:typeof v=="function"?v:ye(+v),d):t},d.y=function(v){return arguments.length?(a=typeof v=="function"?v:ye(+v),r=null,d):a},d.y0=function(v){return arguments.length?(a=typeof v=="function"?v:ye(+v),d):a},d.y1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:ye(+v),d):r},d.lineX0=d.lineY0=function(){return A().x(e).y(a)},d.lineY1=function(){return A().x(e).y(r)},d.lineX1=function(){return A().x(t).y(a)},d.defined=function(v){return arguments.length?(i=typeof v=="function"?v:ye(!!v),d):i},d.curve=function(v){return arguments.length?(f=v,l!=null&&(u=f(l)),d):f},d.context=function(v){return arguments.length?(v==null?l=u=null:u=f(l=v),d):l},d}function Ze(){}function qt(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function Kt(e){this._context=e}Kt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qt(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qt(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function di(e){return new Kt(e)}function Xr(e){this._context=e}Xr.prototype={areaStart:Ze,areaEnd:Ze,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:qt(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fi(e){return new Xr(e)}function Kr(e){this._context=e}Kr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:qt(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vi(e){return new Kr(e)}function Qr(e,t){this._basis=new Kt(e),this._beta=t}Qr.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,a=e.length-1;if(a>0)for(var r=e[0],i=t[0],l=e[a]-r,f=t[a]-i,u=-1,d;++u<=a;)d=u/a,this._basis.point(this._beta*e[u]+(1-this._beta)*(r+d*l),this._beta*t[u]+(1-this._beta)*(i+d*f));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const mi=(function e(t){function a(r){return t===1?new Kt(r):new Qr(r,t)}return a.beta=function(r){return e(+r)},a})(.85);function Yt(e,t,a){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-a),e._x2,e._y2)}function Na(e,t){this._context=e,this._k=(1-t)/6}Na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Yt(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Yt(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const hi=(function e(t){function a(r){return new Na(r,t)}return a.tension=function(r){return e(+r)},a})(0);function Pa(e,t){this._context=e,this._k=(1-t)/6}Pa.prototype={areaStart:Ze,areaEnd:Ze,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Yt(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const pi=(function e(t){function a(r){return new Pa(r,t)}return a.tension=function(r){return e(+r)},a})(0);function Ia(e,t){this._context=e,this._k=(1-t)/6}Ia.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yt(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const gi=(function e(t){function a(r){return new Ia(r,t)}return a.tension=function(r){return e(+r)},a})(0);function Ha(e,t,a){var r=e._x1,i=e._y1,l=e._x2,f=e._y2;if(e._l01_a>Tr){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,d=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/d,i=(i*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/d}if(e._l23_a>Tr){var A=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,v=3*e._l23_a*(e._l23_a+e._l12_a);l=(l*A+e._x1*e._l23_2a-t*e._l12_2a)/v,f=(f*A+e._y1*e._l23_2a-a*e._l12_2a)/v}e._context.bezierCurveTo(r,i,l,f,e._x2,e._y2)}function Jr(e,t){this._context=e,this._alpha=t}Jr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Ha(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const _i=(function e(t){function a(r){return t?new Jr(r,t):new Na(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function en(e,t){this._context=e,this._alpha=t}en.prototype={areaStart:Ze,areaEnd:Ze,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ha(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const bi=(function e(t){function a(r){return t?new en(r,t):new Pa(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function tn(e,t){this._context=e,this._alpha=t}tn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ha(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ki=(function e(t){function a(r){return t?new tn(r,t):new Ia(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function an(e){this._context=e}an.prototype={areaStart:Ze,areaEnd:Ze,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function yi(e){return new an(e)}function Cr(e){return e<0?-1:1}function Lr(e,t,a){var r=e._x1-e._x0,i=t-e._x1,l=(e._y1-e._y0)/(r||i<0&&-0),f=(a-e._y1)/(i||r<0&&-0),u=(l*i+f*r)/(r+i);return(Cr(l)+Cr(f))*Math.min(Math.abs(l),Math.abs(f),.5*Math.abs(u))||0}function Vr(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function va(e,t,a){var r=e._x0,i=e._y0,l=e._x1,f=e._y1,u=(l-r)/3;e._context.bezierCurveTo(r+u,i+u*t,l-u,f-u*a,l,f)}function Gt(e){this._context=e}Gt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:va(this,this._t0,Vr(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,va(this,Vr(this,a=Lr(this,e,t)),a);break;default:va(this,this._t0,a=Lr(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function rn(e){this._context=new nn(e)}(rn.prototype=Object.create(Gt.prototype)).point=function(e,t){Gt.prototype.point.call(this,t,e)};function nn(e){this._context=e}nn.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,r,i,l){this._context.bezierCurveTo(t,e,r,a,l,i)}};function xi(e){return new Gt(e)}function wi(e){return new rn(e)}function sn(e){this._context=e}sn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var r=Ar(e),i=Ar(t),l=0,f=1;f<a;++l,++f)this._context.bezierCurveTo(r[0][l],i[0][l],r[1][l],i[1][l],e[f],t[f]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ar(e){var t,a=e.length-1,r,i=new Array(a),l=new Array(a),f=new Array(a);for(i[0]=0,l[0]=2,f[0]=e[0]+2*e[1],t=1;t<a-1;++t)i[t]=1,l[t]=4,f[t]=4*e[t]+2*e[t+1];for(i[a-1]=2,l[a-1]=7,f[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=i[t]/l[t-1],l[t]-=r,f[t]-=r*f[t-1];for(i[a-1]=f[a-1]/l[a-1],t=a-2;t>=0;--t)i[t]=(f[t]-i[t+1])/l[t];for(l[a-1]=(e[a]+i[a-1])/2,t=0;t<a-1;++t)l[t]=2*e[t+1]-i[t+1];return[i,l]}function Si(e){return new sn(e)}function Qt(e,t){this._context=e,this._t=t}Qt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function Ti(e){return new Qt(e,.5)}function Ci(e){return new Qt(e,0)}function Li(e){return new Qt(e,1)}function Mr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function Vi(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Mr(Object(a),!0).forEach(function(r){Ai(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Mr(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function kt(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kt=function(t){return typeof t}:kt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(e)}function Ai(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Zt(){return Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Zt.apply(this,arguments)}function Mi(e,t){if(e){if(typeof e=="string")return zr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return zr(e,t)}}function zr(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function ln(e,t){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=Mi(e))||t){a&&(e=a);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,f=!1,u;return{s:function(){a=a.call(e)},n:function(){var d=a.next();return l=d.done,d},e:function(d){f=!0,u=d},f:function(){try{!l&&a.return!=null&&a.return()}finally{if(f)throw u}}}}function zi(e,t){var a=[],r=[];function i(l,f){if(l.length===1)a.push(l[0]),r.push(l[0]);else{for(var u=Array(l.length-1),d=0;d<u.length;d++)d===0&&a.push(l[0]),d===u.length-1&&r.push(l[d+1]),u[d]=[(1-f)*l[d][0]+f*l[d+1][0],(1-f)*l[d][1]+f*l[d+1][1]];i(u,f)}}return e.length&&i(e,t),{left:a,right:r.reverse()}}function Oi(e){var t={};return e.length===4&&(t.x2=e[2][0],t.y2=e[2][1]),e.length>=3&&(t.x1=e[1][0],t.y1=e[1][1]),t.x=e[e.length-1][0],t.y=e[e.length-1][1],e.length===4?t.type="C":e.length===3?t.type="Q":t.type="L",t}function Fi(e,t){t=t||2;for(var a=[],r=e,i=1/t,l=0;l<t-1;l++){var f=i/(1-i*l),u=zi(r,f);a.push(u.left),r=u.right}return a.push(r),a}function Di(e,t,a){var r=[[e.x,e.y]];return t.x1!=null&&r.push([t.x1,t.y1]),t.x2!=null&&r.push([t.x2,t.y2]),r.push([t.x,t.y]),Fi(r,a).map(Oi)}var $i=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,ct={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};Object.keys(ct).forEach(function(e){ct[e.toLowerCase()]=ct[e]});function xa(e,t){for(var a=Array(e),r=0;r<e;r++)a[r]=t;return a}function ji(e){return"".concat(e.type).concat(ct[e.type].map(function(t){return e[t]}).join(","))}function Ei(e,t){var a={x1:"x",y1:"y",x2:"x",y2:"y"},r=["xAxisRotation","largeArcFlag","sweepFlag"];if(e.type!==t.type&&t.type.toUpperCase()!=="M"){var i={};Object.keys(t).forEach(function(l){var f=t[l],u=e[l];u===void 0&&(r.includes(l)?u=f:(u===void 0&&a[l]&&(u=e[a[l]]),u===void 0&&(u=0))),i[l]=u}),i.type=t.type,e=i}return e}function Bi(e,t,a){var r=[];if(t.type==="L"||t.type==="Q"||t.type==="C")r=r.concat(Di(e,t,a));else{var i=Zt({},e);i.type==="M"&&(i.type="L"),r=r.concat(xa(a-1).map(function(){return i})),r.push(t)}return r}function Or(e,t,a){var r=e.length-1,i=t.length-1,l=r/i,f=xa(i).reduce(function(d,A,v){var m=Math.floor(l*v);if(a&&m<e.length-1&&a(e[m],e[m+1])){var j=l*v%1<.5;d[m]&&(j?m>0?m-=1:m<e.length-1&&(m+=1):m<e.length-1?m+=1:m>0&&(m-=1))}return d[m]=(d[m]||0)+1,d},[]),u=f.reduce(function(d,A,v){if(v===e.length-1){var m=xa(A,Zt({},e[e.length-1]));return m[0].type==="M"&&m.forEach(function(j){j.type="L"}),d.concat(m)}return d.concat(Bi(e[v],e[v+1],A))},[]);return u.unshift(e[0]),u}function Fr(e){for(var t=(e||"").match($i)||[],a=[],r,i,l=0;l<t.length;++l)if(r=ct[t[l]],r){i={type:t[l]};for(var f=0;f<r.length;++f)i[r[f]]=+t[l+f+1];l+=r.length,a.push(i)}return a}function Ri(e,t,a){var r=e==null?[]:e.slice(),i=t==null?[]:t.slice(),l=kt(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},f=l.excludeSegment,u=l.snapEndsToInput;if(!r.length&&!i.length)return function(){return[]};var d=(r.length===0||r[r.length-1].type==="Z")&&(i.length===0||i[i.length-1].type==="Z");r.length>0&&r[r.length-1].type==="Z"&&r.pop(),i.length>0&&i[i.length-1].type==="Z"&&i.pop(),r.length?i.length||i.push(r[0]):r.push(i[0]);var A=Math.abs(i.length-r.length);A!==0&&(i.length>r.length?r=Or(r,i,f):i.length<r.length&&(i=Or(i,r,f))),r=r.map(function(m,j){return Ei(m,i[j])});var v=r.map(function(m){return Vi({},m)});return d&&(v.push({type:"Z"}),r.push({type:"Z"})),function(j){if(j===1&&u)return t??[];if(j===0)return r;for(var E=0;E<v.length;++E){var F=r[E],O=i[E],x=v[E],M=ln(ct[x.type]),p;try{for(M.s();!(p=M.n()).done;){var T=p.value;x[T]=(1-j)*F[T]+j*O[T],(T==="largeArcFlag"||T==="sweepFlag")&&(x[T]=Math.round(x[T]))}}catch(D){M.e(D)}finally{M.f()}}return v}}function Ui(e,t,a){var r=Fr(e),i=Fr(t),l=kt(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},f=l.excludeSegment,u=l.snapEndsToInput;if(!r.length&&!i.length)return function(){return""};var d=Ri(r,i,{excludeSegment:f,snapEndsToInput:u});return function(v){if(v===1&&u)return t??"";var m=d(v),j="",E=ln(m),F;try{for(E.s();!(F=E.n()).done;){var O=F.value;j+=ji(O)}}catch(x){E.e(x)}finally{E.f()}return j}}var ie;(function(e){e.Basis="basis",e.BasisClosed="basisClosed",e.BasisOpen="basisOpen",e.Bundle="bundle",e.Cardinal="cardinal",e.CardinalClosed="cardinalClosed",e.CardinalOpen="cardinalOpen",e.CatmullRom="catmullRom",e.CatmullRomClosed="catmullRomClosed",e.CatmullRomOpen="catmullRomOpen",e.Linear="linear",e.LinearClosed="linearClosed",e.MonotoneX="monotoneX",e.MonotoneY="monotoneY",e.Natural="natural",e.Step="step",e.StepAfter="stepAfter",e.StepBefore="stepBefore"})(ie||(ie={}));const Ni={[ie.Basis]:di,[ie.BasisClosed]:fi,[ie.BasisOpen]:vi,[ie.Bundle]:mi,[ie.Cardinal]:hi,[ie.CardinalClosed]:pi,[ie.CardinalOpen]:gi,[ie.CatmullRom]:_i,[ie.CatmullRomClosed]:bi,[ie.CatmullRomOpen]:ki,[ie.Linear]:Ua,[ie.LinearClosed]:yi,[ie.MonotoneX]:xi,[ie.MonotoneY]:wi,[ie.Natural]:Si,[ie.Step]:Ti,[ie.StepAfter]:Li,[ie.StepBefore]:Ci},Pi=Object.assign(Object.assign({},Fa),{color:void 0,groupMaxWidth:void 0,groupWidth:void 0,dataStep:void 0,groupPadding:.05,barPadding:0,roundedCorners:2,barMinHeight:2,cursor:null,orientation:Yr.Vertical}),on=Ue`
  label: grouped-bar-component;
`,Ii=Da`
  :root {
    --vis-grouped-bar-cursor: default;
    --vis-grouped-bar-fill-color: var(--vis-color-main);
    --vis-grouped-bar-stroke-color: none;
    --vis-grouped-bar-stroke-width: 0px;
    --vis-grouped-bar-hover-stroke-width: 1px;
    --vis-grouped-bar-hover-stroke-color: none;


    /* Dark Theme */
    --vis-dark-grouped-bar-stroke-color: none;
  }

  body.theme-dark ${`.${on}`} {
    --vis-grouped-bar-stroke-color: var(--vis-dark-grouped-bar-stroke-color);
  }
`,It=Ue`
  label: bar;
  fill: var(--vis-grouped-bar-fill-color);
  stroke: var(--vis-grouped-bar-stroke-color);
  stroke-width: var(--vis-grouped-bar-stroke-width);
  cursor: var(--vis-grouped-bar-cursor);

  &:hover {
    stroke-width: var(--vis-grouped-bar-hover-stroke-width);
    stroke: var(--vis-grouped-bar-hover-stroke-color);
  }
`,wa=Ue`
  label: barGroup;
`,un=Ue`
  label: barGroupExit;
`,Hi=Object.freeze(Object.defineProperty({__proto__:null,bar:It,barGroup:wa,barGroupExit:un,globalStyles:Ii,root:on},Symbol.toStringTag,{value:"Module"}));class cn extends $a{constructor(t){super(),this._defaultConfig=Pi,this.config=this._defaultConfig,this.getAccessors=()=>ha(this.config.y)?this.config.y:[this.config.y],this.events={},this._barData=[],t&&this.setConfig(t)}get bleed(){if(this._barData=this._getVisibleData(),this._barData.length===0)return{top:0,bottom:0,left:0,right:0};const t=!this.isVertical()&&this.dataScale.range()[0]>this.dataScale.range()[1],a=this.dataScale.domain(),r=this._getGroupWidth()/2,i=this._barData.map((E,F)=>tt(E,this.config.x,F)),l=fa(i),f=Ds(i),u=this.dataScale(l),d=this.dataScale(f),A=this.dataScale.invert(u+(t?r:-r)),v=this.dataScale.invert(d+(t?-r:r)),m=A<=a[0]?this.dataScale(a[0])-this.dataScale(A):0,j=v>a[1]?this.dataScale(v)-this.dataScale(a[1]):0;return{top:this.isVertical()?0:t?-j:m,bottom:this.isVertical()?0:t?-m:j,left:this.isVertical()?m:0,right:this.isVertical()?j:0}}get dataScale(){return this.isVertical()?this.xScale:this.yScale}get valueScale(){return this.isVertical()?this.yScale:this.xScale}isVertical(){return this.config.orientation===Yr.Vertical}_render(t){const{config:a}=this,r=pa(t)?t:a.duration,i=this._getGroupWidth(),l=this.getAccessors(),f=[-i/2,i/2],u=$s().domain(js(l.length)).range(f).paddingInner(a.barPadding).paddingOuter(a.barPadding),d=this.g.selectAll(`.${wa}`).data(this._barData,(p,T)=>{var D;return`${(D=ga(p,a.id,T))!==null&&D!==void 0?D:T}`}),A=(p,T)=>{const D=this.dataScale(tt(p,a.x,T)),re=this.isVertical()?D:0,G=this.isVertical()?0:D;return`translate(${re},${G})`},m=d.enter().append("g").attr("class",wa).attr("transform",A).style("opacity",1).merge(d);je(m,r).attr("transform",A).style("opacity",1);const j=d.exit().attr("class",un);je(j,r).style("opacity",0).remove(),je(j.selectAll(`.${It}`),r).attr("transform",(p,T,D)=>this.isVertical()?`translate(0,${this.yScale(0)}) scale(1,0)`:`translate(${this.xScale(0)},0) scale(0,1)`);const E=u.bandwidth(),F=m.selectAll(`.${It}`).data(p=>l.map(()=>p)),O=this._getValueAxisDirection(),M=F.enter().append("path").attr("class",It).attr("d",(p,T)=>{const D=u(T),re=this.valueScale(0),G=E;return this._getBarPath(D,re,G,0,!1,O)}).style("fill",(p,T)=>Ht(p,a.color,T)).merge(F);je(M,r).attr("d",(p,T)=>{const D=u(T),re=E,G=tt(p,l[T]),J=G<0;let le=J?this.valueScale(0):this.valueScale(G||0),Z=Math.abs(this.valueScale(0)-this.valueScale(G))||0;if(Z<a.barMinHeight){const ee=O===Ut.North?-1:1;le=this.valueScale(0)+ee*a.barMinHeight,Z=a.barMinHeight}return this._getBarPath(D,le,re,Z,J,O)}).style("fill",(p,T)=>Ht(p,a.color,T)).style("cursor",(p,T)=>ga(p,a.cursor,T)),je(F.exit(),r).remove()}_getValueAxisDirection(){return this.valueScale.range()[0]>this.valueScale.range()[1]?Ut.North:Ut.South}_getVisibleData(){const{config:t,datamodel:{data:a}}=this,r=this._getGroupWidth(),i=a.length<2?0:r/2,l=this.dataScale,f=Math.abs(l.invert(i)-l.invert(0));return a?.filter((d,A)=>{const v=tt(d,t.x,A),m=l.domain(),j=+m[0],E=+m[1];return v>=j-f&&v<=E+f})}_getBarPath(t,a,r,i,l,f){const{config:u}=this,d=u.roundedCorners?pa(u.roundedCorners)?+u.roundedCorners:r/2:0,A=Ps(d,0,Math.min(i,r)/2),v=f===Ut.North,m=this.isVertical()&&l!==v,j=this.isVertical()&&l===v,E=!this.isVertical()&&l,F=!this.isVertical()&&!l;return Es({x:this.isVertical()?t:a+(v?0:-i),y:this.isVertical()?a+(v?0:-i):t,w:this.isVertical()?r:i,h:this.isVertical()?i:r,tl:m||E,tr:m||F,bl:j||E,br:j||F,r:A})}_getGroupWidth(){const{config:t,datamodel:{data:a}}=this;if(Bs(a))return 0;if(t.groupWidth)return fa([t.groupWidth,t.groupMaxWidth]);const r=this.dataScale.bandwidth,i=this.dataScale.domain?this.dataScale.domain():[];let f=1+(r?i.length:i[1]-i[0])/t.dataStep||!r&&a.filter((A,v)=>{const m=tt(A,t.x,v);return m>=i[0]&&m<=i[1]}).length||a.length;!r&&f>=2&&(f+=1);const d=(f<2?1:1-t.groupPadding)*(this.isVertical()?this._width:this._height)/f;return fa([d,t.groupMaxWidth])}getValueScaleExtent(t){const{datamodel:a}=this,r=this.getAccessors(),i=t?this._getVisibleData():a.data,l=Rs(i,...r),f=Us(i,...r);return[l>0?0:l,f<0?0:f]}getDataScaleExtent(){const{config:t,datamodel:a}=this;return Ns(a.data,t.x)}getYDataExtent(t){return this.isVertical()?this.getValueScaleExtent(t):this.getDataScaleExtent()}getXDataExtent(){return this.isVertical()?this.getDataScaleExtent():this.getValueScaleExtent(!1)}}cn.selectors=Hi;var Sa;(function(e){e.Solid="solid",e.Dash="dash",e.DashDot="dashDot",e.Dot="dot",e.LongDash="longDash",e.LongDashDot="longDashDot",e.LongDashDotDot="longDashDotDot",e.ShortDash="shortDash",e.ShortDashDot="shortDashDot",e.ShortDashDotDot="shortDashDotDot",e.ShortDot="shortDot"})(Sa||(Sa={}));var Y;(function(e){e.TopLeft="top-left",e.Top="top",e.TopRight="top-right",e.Right="right",e.BottomRight="bottom-right",e.Bottom="bottom",e.BottomLeft="bottom-left",e.Left="left"})(Y||(Y={}));var Wt;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(Wt||(Wt={}));const qi=Object.assign(Object.assign({},Fa),{color:void 0,curveType:ie.MonotoneX,baseline:()=>0,opacity:1,cursor:null,minHeight1Px:!1,minHeight:void 0}),dn=Ue`
  label: area-component;
`,Yi=Da`
  :root {
    --vis-area-cursor: default;
    --vis-area-fill-opacity: 1;
    --vis-area-stroke-color: none;
    --vis-area-stroke-width: 0px;
    --vis-area-stroke-dasharray: none;
    --vis-area-stroke-opacity: 1;
    --vis-area-hover-fill-opacity: none;
    --vis-area-hover-stroke-width: none;

    /* Dark Theme */
    --vis-dark-area-stroke-color: none;
  }

  body.theme-dark ${`.${dn}`} {
    --vis-area-stroke-color: var(--vis-dark-area-stroke-color);
  }

`,Ta=Ue`
  label: area;
  cursor: var(--vis-area-cursor);
  fill-opacity: var(--vis-area-fill-opacity);
  stroke-width: var(--vis-area-stroke-width);
  stroke-dasharray: var(--vis-area-stroke-dasharray);
  stroke: var(--vis-area-stroke-color);
  stroke-opacity: var(--vis-area-stroke-opacity);

  &:hover {
    fill-opacity: var(--vis-area-hover-fill-opacity);
    stroke-width: var(--vis-area-hover-stroke-width);
  }
`,Gi=Object.freeze(Object.defineProperty({__proto__:null,area:Ta,globalStyles:Yi,root:dn},Symbol.toStringTag,{value:"Module"}));class Jt extends $a{constructor(t){super(),this._defaultConfig=qi,this.config=this._defaultConfig,this.stacked=!0,this.events={[Jt.selectors.area]:{}},t&&this.setConfig(t),this.stacked=Array.isArray(this.config.y)}_render(t){super._render(t);const{config:a,datamodel:{data:r}}=this,i=pa(t)?t:a.duration,l=Ni[a.curveType];this._areaGen=ci().x(x=>x.x).y0(x=>x.y0).y1(x=>x.y1).curve(l);const f=ha(a.y)?a.y:[a.y],u=r.map((x,M)=>this.xScale(tt(x,a.x,M))),d=Is(r,a.baseline,f,this._prevNegative);this._prevNegative=d.map(x=>!!x.isMostlyNegative);const A=[],v=d.map(x=>x.map((M,p)=>{var T,D;const re=u[p],G=this.yScale(M[0]),J=this.yScale(M[1]),le=J>G,Z=A[p]||0,ee=le?G+Z:G-Z,ue=le?J+Z:J-Z;let ce=0;return(a.minHeight||a.minHeight1Px)&&Math.abs(ue-ee)<((T=a.minHeight)!==null&&T!==void 0?T:1)&&(ce=((D=a.minHeight)!==null&&D!==void 0?D:1)-Math.abs(ue-ee),A[p]=Z+ce),{x:re,y0:ee,y1:le?ue+ce:ue-ce}})),m=v.length-1,j=v.reverse(),E=this.g.selectAll(`.${Ta}`).data(j),F=E.enter().append("path").attr("class",Ta).attr("d",x=>this._areaGen(x)||this._emptyPath()).style("opacity",0).style("fill",(x,M)=>Ht(r,a.color,m-M)),O=je(F.merge(E),i).style("opacity",(x,M)=>x.some(T=>T.y0-T.y1!==0)?tt(r,a.opacity,m-M):0).style("fill",(x,M)=>Ht(r,a.color,m-M)).style("cursor",(x,M)=>ga(r,a.cursor,m-M));i?O.attrTween("d",(M,p,T)=>{const D=Hs(T[p]).attr("d"),re=this._areaGen(M)||this._emptyPath();return Ui(D,re)}):O.attr("d",x=>this._areaGen(x)||this._emptyPath()),je(E.exit(),i).style("opacity",0).remove()}getYDataExtent(t){const{config:a,datamodel:r}=this,i=ha(a.y)?a.y:[a.y],l=this.xScale.domain(),f=t?qs(r.data,l,a.x,!0):r.data;return Ys(f,a.baseline,...i)}_emptyPath(){const t=this.xScale.range(),a=this.yScale.domain(),r=this.yScale((a[0]+a[1])/2),i=r;return this._areaGen([{y0:r,y1:i,x:t[0]},{y0:r,y1:i,x:t[1]}])}}Jt.selectors=Gi;const Zi={solid:"none",shortDash:"6,2",shortDot:"2,2",shortDashDot:"6,2,2,2",shortDashDotDot:"6,2,2,2,2,2",dot:"2,6",dash:"8,6",longDash:"16,6",dashDot:"8,6,2,6",longDashDot:"16,6,2,6",longDashDotDot:"16,6,2,6,2,6"},Wi={[Y.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[Y.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[Y.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[Y.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"start",dominantBaseline:"middle"}),[Y.BottomRight]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[Y.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[Y.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[Y.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"end",dominantBaseline:"middle"})},Xi={[Y.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-after-edge"}),[Y.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"end",dominantBaseline:"middle"}),[Y.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[Y.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[Y.BottomRight]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[Y.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"middle"}),[Y.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[Y.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"middle",dominantBaseline:"text-after-edge"})},Ki={[Y.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-after-edge"}),[Y.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[Y.TopRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[Y.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"middle"}),[Y.BottomRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a+r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[Y.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[Y.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[Y.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"start",dominantBaseline:"middle"})},Qi={[Y.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[Y.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"start",dominantBaseline:"central"}),[Y.TopRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[Y.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[Y.BottomRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a+r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[Y.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"end",dominantBaseline:"central"}),[Y.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[Y.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"})},Ji=Object.assign(Object.assign({},Fa),{lineWidth:2,axis:_a.Y,value:0,duration:300,color:void 0,lineStyle:Sa.Solid,labelPosition:Y.TopRight,labelOffsetX:14,labelOffsetY:14,labelOrientation:Wt.Horizontal}),el=Da`
  :root {
    --vis-plotline-color: rgb(226, 32, 58);
    --vis-plotline-width: 2;
    --vis-plotline-dasharray: none;
    --vis-plotline-stroke-dashoffset: 0;
    --vis-plotline-label-font-size: 12px;
    --vis-plotline-label-color: #000;

    --vis-dark-plotline-label-color: #e5e9f7;
  }

  body.theme-dark {
    --vis-plotline-label-color: var(--vis-dark-tooltip-text-color);
  }
`,tl=Ue`
  label: plotline-component;
`,fn=Ue`
  label: plotline;
  transition: opacity 200ms;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke: var(--vis-plotline-color);
  stroke-width: var(--vis-plotline-width);
  stroke-dasharray: var(--vis-plotline-dasharray);
  stroke-dashoffset: var(--vis-plotline-stroke-dashoffset);
`,vn=Ue`
  label: plotline-label;
  text-anchor: middle;
  /* dominant-baseline: middle; */
  pointer-events: none;
  font-size: var(--vis-plotline-label-font-size);
  fill: var(--vis-plotline-label-color);
`,al=Object.freeze(Object.defineProperty({__proto__:null,globalStyles:el,label:vn,plotline:fn,root:tl},Symbol.toStringTag,{value:"Module"}));class mn extends $a{constructor(t){super(),this._defaultConfig=Ji,t&&this.setConfig(t),this.plotline=this.g.append("line").attr("class",fn),this.label=this.g.append("text").attr("class",vn)}_render(t){super._render(t);const{config:a}=this;this.value=a.value;let r;typeof a?.lineStyle=="string"?r=Zi[a.lineStyle]:Array.isArray(a.lineStyle)?r=a.lineStyle.join(","):r="none",this.value=a.value,this.plotline.attr("stroke-opacity",1).style("stroke-width",a.lineWidth).style("stroke-dasharray",r).style("stroke",a.color);let i=0,l=0,f=0,u=0;if(a.axis===_a.Y?(f=this.yScale(this.value),u=this.yScale(this.value),i=0,l=this._width):(f=0,u=this._height,i=this.xScale(this.value),l=this.xScale(this.value)),je(this.plotline,a.duration).attr("x1",i).attr("x2",l).attr("y1",f).attr("y2",u),a.labelText){const d=this.computeLabel(a.axis,l,u,a.labelPosition,a.labelOffsetX,a.labelOffsetY,a.labelOrientation);this.label.text(a.labelText).attr("transform",d.transform).attr("dominant-baseline",d.dominantBaseline).style("fill",a.labelColor).style("text-anchor",d.textAnchor).style("font-size",a.labelSize?`${a.labelSize}px`:void 0),je(this.label,a.duration).attr("x",d.x).attr("y",d.y)}je(this.plotline.exit()).style("opacity",0).remove()}computeLabel(t,a,r,i,l,f,u){const d=u===Wt.Vertical,A=d?-90:0;let v;t===_a.X?v=(d?Xi:Wi)[i]({width:a,height:r,offsetX:l,offsetY:f}):v=(d?Qi:Ki)[i]({width:a,height:r,offsetX:l,offsetY:f});const m=A?`rotate(${A}, ${v.x}, ${v.y})`:"";return Object.assign(Object.assign({},v),{rotation:A,transform:m})}}mn.selectors=al;const rl={"data-vis-component":""},Dr=Re({__name:"index",props:{color:{},curveType:{},baseline:{},opacity:{},cursor:{},minHeight1Px:{type:Boolean},minHeight:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=Aa(ja),r=e,i=b(()=>a.data.value??r.data),l=Ea(r),f=C();return ft(()=>{Xt(()=>{var u;f.value=new Jt(l.value),(u=f.value)==null||u.setData(i.value),a.update(f.value)})}),yt(()=>{var u;(u=f.value)==null||u.destroy(),a.destroy()}),X(l,(u,d)=>{var A;Ba(u,d)||(A=f.value)==null||A.setConfig(l.value)}),X(i,()=>{var u;(u=f.value)==null||u.setData(i.value)}),t({component:f}),(u,d)=>(h(),V("div",rl))}}),nl={"data-vis-component":""},sl=Re({__name:"index",props:{color:{},groupWidth:{},groupMaxWidth:{},dataStep:{},groupPadding:{},barPadding:{},roundedCorners:{type:[Number,Boolean]},barMinHeight:{},cursor:{},orientation:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=Aa(ja),r=e,i=b(()=>a.data.value??r.data),l=Ea(r),f=C();return ft(()=>{Xt(()=>{var u;f.value=new cn(l.value),(u=f.value)==null||u.setData(i.value),a.update(f.value)})}),yt(()=>{var u;(u=f.value)==null||u.destroy(),a.destroy()}),X(l,(u,d)=>{var A;Ba(u,d)||(A=f.value)==null||A.setConfig(l.value)}),X(i,()=>{var u;(u=f.value)==null||u.setData(i.value)}),t({component:f}),(u,d)=>(h(),V("div",nl))}}),il={"data-vis-component":""},ll=Re({__name:"index",props:{color:{},lineWidth:{},axis:{},value:{},duration:{},lineStyle:{},labelText:{},labelPosition:{},labelOffsetX:{},labelOffsetY:{},labelOrientation:{},labelColor:{},labelSize:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=Aa(ja),r=Ea(e),i=C();return ft(()=>{Xt(()=>{i.value=new mn(r.value),a.update(i.value)})}),yt(()=>{var l;(l=i.value)==null||l.destroy(),a.destroy()}),X(r,(l,f)=>{var u;Ba(l,f)||(u=i.value)==null||u.setConfig(r.value)}),t({component:i}),(l,f)=>(h(),V("div",il))}});var ol=typeof global=="object"&&global&&global.Object===Object&&global,ul=typeof self=="object"&&self&&self.Object===Object&&self,cl=ol||ul||Function("return this")(),dt=cl.Symbol,hn=Object.prototype,dl=hn.hasOwnProperty,fl=hn.toString,_t=dt?dt.toStringTag:void 0;function vl(e){var t=dl.call(e,_t),a=e[_t];try{e[_t]=void 0;var r=!0}catch{}var i=fl.call(e);return r&&(t?e[_t]=a:delete e[_t]),i}var ml=Object.prototype,hl=ml.toString;function pl(e){return hl.call(e)}var gl="[object Null]",_l="[object Undefined]",$r=dt?dt.toStringTag:void 0;function bl(e){return e==null?e===void 0?_l:gl:$r&&$r in Object(e)?vl(e):pl(e)}function kl(e){return e!=null&&typeof e=="object"}var yl="[object Symbol]";function xl(e){return typeof e=="symbol"||kl(e)&&bl(e)==yl}function wl(e,t){for(var a=-1,r=e==null?0:e.length,i=Array(r);++a<r;)i[a]=t(e[a],a,e);return i}var Sl=Array.isArray,jr=dt?dt.prototype:void 0,Er=jr?jr.toString:void 0;function pn(e){if(typeof e=="string")return e;if(Sl(e))return wl(e,pn)+"";if(xl(e))return Er?Er.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function gn(e){return e==null?"":pn(e)}function Tl(e,t,a){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),a=a>i?i:a,a<0&&(a+=i),i=t>a?0:a-t>>>0,t>>>=0;for(var l=Array(i);++r<i;)l[r]=e[r+t];return l}function Cl(e,t,a){var r=e.length;return a=a===void 0?r:a,!t&&a>=r?e:Tl(e,t,a)}var Ll="\\ud800-\\udfff",Vl="\\u0300-\\u036f",Al="\\ufe20-\\ufe2f",Ml="\\u20d0-\\u20ff",zl=Vl+Al+Ml,Ol="\\ufe0e\\ufe0f",Fl="\\u200d",Dl=RegExp("["+Fl+Ll+zl+Ol+"]");function _n(e){return Dl.test(e)}function $l(e){return e.split("")}var bn="\\ud800-\\udfff",jl="\\u0300-\\u036f",El="\\ufe20-\\ufe2f",Bl="\\u20d0-\\u20ff",Rl=jl+El+Bl,Ul="\\ufe0e\\ufe0f",Nl="["+bn+"]",Ca="["+Rl+"]",La="\\ud83c[\\udffb-\\udfff]",Pl="(?:"+Ca+"|"+La+")",kn="[^"+bn+"]",yn="(?:\\ud83c[\\udde6-\\uddff]){2}",xn="[\\ud800-\\udbff][\\udc00-\\udfff]",Il="\\u200d",wn=Pl+"?",Sn="["+Ul+"]?",Hl="(?:"+Il+"(?:"+[kn,yn,xn].join("|")+")"+Sn+wn+")*",ql=Sn+wn+Hl,Yl="(?:"+[kn+Ca+"?",Ca,yn,xn,Nl].join("|")+")",Gl=RegExp(La+"(?="+La+")|"+Yl+ql,"g");function Zl(e){return e.match(Gl)||[]}function Wl(e){return _n(e)?Zl(e):$l(e)}function Xl(e){return function(t){t=gn(t);var a=_n(t)?Wl(t):void 0,r=a?a[0]:t.charAt(0),i=a?Cl(a,1).join(""):t.slice(1);return r[e]()+i}}var Kl=Xl("toUpperCase");function Nt(e){return Kl(gn(e).toLowerCase())}const Ql=Re({__name:"ForestryChartDisplay",props:{selectedFrameworks:{default:()=>[]},selectedArtkategori:{},chartType:{},currentTimeValue:{},singleFrameworkSelection:{type:Boolean,default:!1},selectedStartskog:{},redColor:{type:Boolean,default:!1},yellowColor:{type:Boolean,default:!1},maxYValue:{}},async setup(e){let t,a;const{data:r}=([t,a]=xt(()=>wt("svampar-skogsbruk",()=>St("svamparSkogsbruk").first())),t=await t,a(),t),{data:i}=([t,a]=xt(()=>wt("total-svampar-skogsbruk",()=>St("totalSvamparSkogsbruk").first())),t=await t,a(),t),l=b(()=>Array.isArray(r.value?.entries)?r.value.entries:[]),f=b(()=>Array.isArray(i.value?.entries)?i.value.entries:[]),u=b(()=>{const _=Number(p.maxYValue);return Number.isFinite(_)?[0,_]:void 0}),d=b(()=>{const _=Xe.value.map(z=>Number(z?.age)).filter(z=>Number.isFinite(z));return _.length?[Math.min(..._),Math.max(..._)]:[0,1]});b(()=>[(p.selectedFrameworks||[]).join(","),p.selectedStartskog||"",p.chartType||"",p.singleFrameworkSelection?"S":"M",p.currentTimeValue||""].join("|"));const A=b(()=>Array.isArray(Xe.value)&&Xe.value.length>0),v=b(()=>p.singleFrameworkSelection?(p.selectedArtkategori||[]).map(_=>(_||"").toLowerCase()).filter(_=>!x.value.has(_)):[]),m=b(()=>ve.value.length===1?ve.value[0].color:"#000000"),j={left:10,right:10,top:10,bottom:10},E=C(null),F=C(!1);let O=null;ft(async()=>{await Xt(),F.value=!0,requestAnimationFrame(()=>{E.value?.offsetWidth}),typeof window<"u"&&"ResizeObserver"in window&&(O=new ResizeObserver(()=>{E.value?.offsetWidth}),E.value&&O.observe(E.value))}),Nr(()=>{O&&(O.disconnect(),O=null)});const x=C(new Set),M=C(new Set),p=e,T=b(()=>p.redColor?{naturskydd:"#808080",trakthygge:"#7f1d1d",skrmtrd:"#b91c1c",luckhuggning:"#f87171",bldning:"#fca5a5"}:p.yellowColor?{naturskydd:"#808080",trakthygge:"#713f12",skrmtrd:"#a16207",luckhuggning:"#eab308",bldning:"#fde047"}:{naturskydd:"#808080",trakthygge:"#a855f7",luckhuggning:"#3b82f6",skrmtrd:"#eab308",bldning:"#22c55e"});function D(_,z=1){const W=_.replace("#",""),w=W.length===3?W.split("").map(oe=>oe+oe).join(""):W,N=parseInt(w,16),B=N>>16&255,q=N>>8&255,U=N&255;return`rgba(${B}, ${q}, ${U}, ${z})`}b(()=>{const _={fre:-5,efter:1,10:10,20:20,50:50,80:80};return[p.currentTimeValue?_[p.currentTimeValue]??d.value[0]:d.value[0],d.value[1]]});const re={skinnsvampar:"#8B5CF6",spindelskivlingar:"#EC4899","kremlor och riskor":"#0EA5E9","vriga svampar":"#5eead4",matsvamp:"#eab308","rdlistade + signalarter":"#5eead4",total:"#808080"};function G(_){const z=_.toLowerCase();return z==="naturskydd"?"Ingen tgrd":z==="trakthygge"?"Trakhyggesbruk":z==="skrmtrd"?"verhllen skrm":Nt(_)}const J=["naturskydd","trakthygge","skrmtrd","luckhuggning","bldning"],le=b(()=>(p.selectedFrameworks||[]).map(z=>z.toLowerCase()).filter(z=>J.includes(z)&&!M.value.has(z))),Z=b(()=>{const _={};for(const z of le.value){const W=K(z).map(w=>({age:Number(w.age),value:Number(w.klassning)})).filter(w=>Number.isFinite(w.age)&&Number.isFinite(w.value)).sort((w,N)=>w.age-N.age);_[z]=W}return _}),ee=b(()=>{const _=Object.values(Z.value);if(!_.length)return[];const z=_.map(U=>U.length?U[0].age:1/0),W=_.map(U=>U.length?U[U.length-1].age:-1/0),w=Math.min(...z),N=Math.max(...W);if(!Number.isFinite(w)||!Number.isFinite(N))return[];const B=[],q=1;for(let U=w;U<=N+1e-9;U+=q){const oe=Math.round(U);B.push(oe)}return B});function ue(_,z){const W=_.findIndex(B=>B.age===z);if(W!==-1)return _[W].value;let w=-1,N=-1;for(let B=0;B<_.length;B++)if(_[B].age<z&&(w=B),_[B].age>z){N=B;break}if(w!==-1&&N!==-1){const B=_[w],q=_[N],U=(z-B.age)/(q.age-B.age);return B.value+U*(q.value-B.value)}}const ce=b(()=>{const _=[];for(const z of ee.value){const W={age:z};for(const w of le.value){const N=Z.value[w]||[],B=ue(N,z);typeof B=="number"&&Number.isFinite(B)&&(W[w]=B)}_.push(W)}return _});b(()=>{const _={},z=Array.isArray(Ce.value)?Ce.value:[];for(const W of le.value)_[W]=z.filter(w=>Number.isFinite(Number(w?.age))&&Number.isFinite(Number(w?.[W]))).map(w=>({age:Number(w.age),value:Number(w[W]),__row:w})).sort((w,N)=>w.age-N.age);return _});const fe=b(()=>{if(p.singleFrameworkSelection||le.value.length!==1)return null;const _=(p.selectedArtkategori?.[0]||"").toLowerCase();return _==="total"?"#808080":_==="matsvamp"?"#eab308":_==="rdlistade + signalarter"?"#5eead4":null}),pe=b(()=>{if(p.singleFrameworkSelection)return p.selectedArtkategori.map(_=>{const z=_.toLowerCase();return{key:z,name:Nt(_),label:Nt(_),color:re[z]||"#000000",inactive:x.value.has(z)}});{const _=le.value,z=(p.selectedArtkategori?.[0]||"").toLowerCase(),W=z==="total"?"#808080":z==="matsvamp"?"#eab308":z==="rdlistade + signalarter"?"#5eead4":null;if(_.length===2){const[w,N]=_,B=W||T.value[w]||"#000000",q="#0a0a0a";return[{key:w,name:G(w),label:G(w),color:B,colorArea:D(B,.5),colorLine:D(B,.5),inactive:M.value.has(w),isSecondary:!0},{key:N,name:G(N),label:G(N),color:q,colorArea:D(q,.5),colorLine:D(q,.5),lineDashArray:[5],inactive:M.value.has(N),isSecondary:!1}]}return J.filter(w=>p.selectedFrameworks.map(N=>N.toLowerCase()).includes(w)).map(w=>({key:w,name:G(w),label:G(w),color:fe.value||T.value[w]||"#000000",colorArea:fe.value||T.value[w]||"#000000",colorLine:fe.value||T.value[w]||"#000000",inactive:M.value.has(w)}))}}),ve=b(()=>p.singleFrameworkSelection?[]:pe.value.filter(_=>!_.inactive));function K(_){const z=p.selectedArtkategori.map(N=>N.toLowerCase()),W=z.includes("total")?f.value:l.value,w=p.selectedStartskog?p.selectedStartskog.toLowerCase():null;return W.filter(N=>{const B=z.includes(N.artkategori?.toLowerCase()),q=N.frameworks?.toLowerCase()===_.toLowerCase(),U=!w||(N.startskog?.toLowerCase()??w)===w;return B&&q&&U}).map(N=>({age:N.lder,klassning:+N.klassning}))}const Ce=b(()=>{const _=new Map;if(p.singleFrameworkSelection){const z=p.selectedFrameworks[0];p.selectedArtkategori.forEach(W=>{const w=W.toLowerCase(),N=w==="total"?f.value:l.value,B=p.selectedStartskog?p.selectedStartskog.toLowerCase():null;N.filter(U=>{const oe=U.artkategori?.toLowerCase()===w,at=U.frameworks?.toLowerCase()===z,xe=!B||(U.startskog?.toLowerCase()??B)===B;return oe&&at&&xe}).map(U=>({age:U.lder,klassning:+U.klassning})).forEach(U=>{const oe=_.get(U.age)||{age:U.age};oe[w]=U.klassning,_.set(U.age,oe)})})}else ve.value.forEach(z=>{K(z.key).forEach(w=>{const N=_.get(w.age)||{age:w.age};N[z.key]=w.klassning,_.set(w.age,N)})});return Array.from(_.values()).sort((z,W)=>z.age-W.age)}),We=_=>{const z=Number(_?.age);return Number.isFinite(z)?z:void 0},Tt=b(()=>p.singleFrameworkSelection?p.selectedArtkategori.filter(_=>!x.value.has(_.toLowerCase())).map(_=>z=>z[_.toLowerCase()]):ve.value.map(_=>z=>z[_.key])),Ct=b(()=>p.singleFrameworkSelection?pe.value.filter(_=>!_.inactive).map(_=>_.color||"#000000"):ve.value.map(_=>_.color||"#000000")),Me=b(()=>p.singleFrameworkSelection?v.value.map(_=>z=>Number(z?.[_]??0)):[]),Lt=b(()=>p.singleFrameworkSelection?v.value.map(_=>re[_]||"#999"):[]),Xe=b(()=>p.singleFrameworkSelection&&p.chartType==="area"?[...Ce.value]:[...ce.value]),Vt=_=>{if(!_)return"";const z=_.age;if(!Number.isFinite(Number(z)))return"";const w=z===-5?"fre":z===1?"1 r":`${(q=>Number.isInteger(q)?`${q}`:`${q}`.replace(".5",",5"))(z)} r`,B=(p.singleFrameworkSelection?p.selectedArtkategori.map(q=>({key:q.toLowerCase(),label:Nt(q),color:re[q.toLowerCase()]||"#999"})):ve.value.map(q=>({key:q.key,label:G(q.key),color:q.color||"#999"}))).map(q=>{const U=_[q.key];if(U==null)return"";const oe=typeof U=="number"?U>=10?Math.round(U).toString():U.toFixed(2):String(U);return`
        <div style="display:flex;align-items:center;gap:0.5rem;line-height:1.2;">
          <span style="display:inline-block;width:8px;height:8px;border-radius:50%;background:${q.color};"></span>
          <span>${q.label}: <strong>${oe}</strong></span>
        </div>`}).filter(Boolean).join("");return`
    <div style="min-width:120px">
      <div style="font-weight:600;margin-bottom:4px">${w}</div>
      ${B}
    </div>`};return(_,z)=>{const W=ss;return h(),V("div",{class:"custom-area",ref_key:"rootEl",ref:E,style:ma({"--vis-area-stroke-color":m.value})},[g(W,null,{default:L(()=>[F.value&&A.value?(h(),I(S(Gs),{key:0,data:Xe.value,height:170,margin:j,xDomain:d.value,yDomain:u.value},{default:L(()=>[p.chartType==="area"&&p.singleFrameworkSelection?(h(),V(he,{key:0},[g(S(Dr),{x:We,y:Me.value,color:Lt.value,interpolateMissingData:!0},null,8,["y","color"]),g(S(xr),{template:Vt}),g(S(wr),{horizontalShift:30})],64)):p.chartType==="area"?(h(),V(he,{key:1},[(h(!0),V(he,null,Ae(ve.value,w=>(h(),I(S(Dr),{key:w.key+"-area",x:We,y:N=>{const B=Number(N?.[w.key]);return Number.isFinite(B)?B:NaN},color:()=>w.colorArea||w.color,interpolateMissingData:!0},null,8,["y","color"]))),128)),g(S(xr),{template:Vt}),g(S(ll),{value:_.currentTimeValue,color:"rgba(220, 114, 0, 1)",axis:"x",labelOrientation:"vertical"},null,8,["value"]),g(S(wr),{horizontalShift:30})],64)):p.chartType==="bar"?(h(),I(S(sl),{key:2,color:Ct.value,x:We,y:Tt.value,groupPadding:.5,groupMaxWidth:20},null,8,["color","y"])):$("",!0),g(S(Sr),{tickTextFontSize:"12px",gridLine:!0,type:"x",tickValues:[-5,0,10,20,30,40,50,60,70,80,90],tickFormat:w=>w===-5||w===0||w===10||w===30||w===40||w===60||w===70||w===90?"":w},null,8,["tickFormat"]),g(S(Sr),{tickTextFontSize:"12px",type:"y"})]),_:1},8,["data","xDomain","yDomain"])):$("",!0)]),_:1})],4)}}}),Jl=Object.assign(Ql,{__name:"ForestryChartDisplay"}),eo={class:"mt-2 ml-4 flex justify-between"},to={class:"flex items-center cursor-pointer w-fit"},ao={class:"text-neutral-800 text-lg font-semibold leading-loose hover:bg-neutral-500/20 px-2 rounded-sm -mx-2"},ro={class:"p-2 flex flex-col gap-2"},no={key:0},so={key:0,class:"text-base/7"},io={key:1},lo={key:0,class:"text-base/7"},oo={key:2},uo={key:0,class:"text-base/7"},co={key:3},fo={key:0,class:"text-base/7"},vo=Re({__name:"ForestryChartMain",props:{parentSelectedFrameworks:{},currentTimeValue:{},currentStartskog:{}},setup(e){const t=e;C("naturskog"),C("naturskog"),C("naturskog");const a=C("trakthygge");C(!0),C(!1);const r=C(!1),i=C(!1),l=C(!1),f=C(!1),u=[{label:"Total mngd mykorrhizasvamp",value:"skogsskole"},{label:"Naturvrdsarter",value:"rodlistade"},{label:"Matsvampar",value:"matsvampar"},{label:"Olika svampgrupper",value:"grupper"}],d=C(u[0].value),A=[{label:"Naturskydd",value:"naturskydd"},{label:"Bldning",value:"bldning"},{label:"Trakthygge",value:"trakthygge"},{label:"Skrmtrd",value:"skrmtrd"},{label:"Luckhuggning",value:"luckhuggning"}],v=C("area");C("area"),C(A.map(j=>j.value));const m=C(["skinnsvampar","kremlor och riskor","spindelskivlingar","vriga svampar"]);return(j,E)=>{const F=Ma,O=Pr,x=Jl;return h(),V("div",null,[c("div",eo,[g(O,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},content:{align:"start",side:"bottom",sideOffset:8}},{content:L(()=>[c("div",ro,[(h(),V(he,null,Ae(u,M=>g(F,{size:"xl",key:M.value,color:"neutral",class:"text-white hover:bg-neutral-500/20",variant:"ghost",onClick:p=>d.value=M.value},{default:L(()=>[Be(P(M.label),1)]),_:2},1032,["onClick"])),64))])]),default:L(()=>[c("div",to,[c("h1",ao,P(u.find(M=>M.value===d.value)?.label||"Vlj diagram"),1)])]),_:1})]),c("div",null,[d.value==="skogsskole"?(h(),V("div",no,[r.value?(h(),V("p",so," Vid trakthyggesbruk minskar mngden mykorrhizasvamp nstan till noll direkt efter avverkning. I takt med att trden vxer upp etableras ett nytt svampsamhlle. Nr trden r mellan 40-70 r, r fotosyntesen som mest effektiv  vilket kan leda till att mngden mykorrhiza blir strre n innan avverkningen. verhllen skrm fljer ett liknande mnster, men eftersom marken aldrig blir helt kal minskar svampmngden inte lika mycket. Bldning och luckhuggning innebr terkommande mindre ingrepp, dr svampmngden sjunker ngot ungefr vart trettionde r men i vrigt hlls relativt stabil ver tid. ")):$("",!0),g(x,{selectedFrameworks:t.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","bldning","skrmtrd"],selectedArtkategori:["total"],chartType:v.value,maxYValue:130,currentTimeValue:t.currentTimeValue},null,8,["selectedFrameworks","chartType","currentTimeValue"])])):$("",!0),d.value==="rodlistade"?(h(),V("div",io,[i.value?(h(),V("p",lo," Praesent elementum ut lacus a pharetra. Sed a malesuada mauris. Morbi et convallis libero. Aliquam vestibulum, felis eu fringilla elementum, nibh nunc tincidunt ex, quis vulputate nunc erat eu quam. Phasellus rutrum bibendum lacinia. Fusce aliquam aliquet lectus, eget gravida purus lobortis id. Curabitur viverra quam a risus sagittis maximus. ")):$("",!0),g(x,{selectedFrameworks:t.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","bldning","skrmtrd"],selectedArtkategori:["rdlistade + signalarter"],chartType:v.value,selectedStartskog:t.currentStartskog,redColor:!0,maxYValue:.65,currentTimeValue:t.currentTimeValue},null,8,["selectedFrameworks","chartType","selectedStartskog","currentTimeValue"])])):$("",!0),d.value==="matsvampar"?(h(),V("div",oo,[l.value?(h(),V("p",uo," Praesent elementum ut lacus a pharetra. Sed a malesuada mauris. Morbi et convallis libero. Aliquam vestibulum, felis eu fringilla elementum, nibh nunc tincidunt ex, quis vulputate nunc erat eu quam. Phasellus rutrum bibendum lacinia. Fusce aliquam aliquet lectus, eget gravida purus lobortis id. Curabitur viverra quam a risus sagittis maximus. ")):$("",!0),g(x,{selectedFrameworks:t.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","bldning","skrmtrd"],selectedArtkategori:["matsvamp"],chartType:v.value,selectedStartskog:t.currentStartskog,yellowColor:!0,maxYValue:28,currentTimeValue:t.currentTimeValue},null,8,["selectedFrameworks","chartType","selectedStartskog","currentTimeValue"])])):$("",!0),d.value==="grupper"?(h(),V("div",co,[f.value?(h(),V("p",fo," Praesent elementum ut lacus a pharetra. Sed a malesuada mauris. Morbi et convallis libero. Aliquam vestibulum, felis eu fringilla elementum, nibh nunc tincidunt ex, quis vulputate nunc erat eu quam. Phasellus rutrum bibendum lacinia. Fusce aliquam aliquet lectus, eget gravida purus lobortis id. Curabitur viverra quam a risus sagittis maximus. ")):$("",!0),g(x,{selectedFrameworks:t.parentSelectedFrameworks??[a.value],selectedArtkategori:m.value,chartType:v.value,singleFrameworkSelection:!0,selectedStartskog:t.currentStartskog,maxYValue:100,currentTimeValue:t.currentTimeValue},null,8,["selectedFrameworks","selectedArtkategori","chartType","selectedStartskog","currentTimeValue"])])):$("",!0)])])}}}),Tn=Object.assign(Ir(vo,[["__scopeId","data-v-607112a8"]]),{__name:"ForestryChartMain"}),mo={slots:{root:"relative flex items-start",base:["inline-flex items-center shrink-0 rounded-full border-2 border-transparent focus-visible:outline-2 focus-visible:outline-offset-2 data-[state=unchecked]:bg-accented","transition-[background] duration-200"],container:"flex items-center",thumb:"group pointer-events-none rounded-full bg-default shadow-lg ring-0 transition-transform duration-200 data-[state=unchecked]:translate-x-0 data-[state=unchecked]:rtl:-translate-x-0 flex items-center justify-center",icon:["absolute shrink-0 group-data-[state=unchecked]:text-dimmed opacity-0 size-10/12","transition-[color,opacity] duration-200"],wrapper:"ms-2",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"data-[state=checked]:bg-primary focus-visible:outline-primary",icon:"group-data-[state=checked]:text-primary"},secondary:{base:"data-[state=checked]:bg-secondary focus-visible:outline-secondary",icon:"group-data-[state=checked]:text-secondary"},tertiary:{base:"data-[state=checked]:bg-tertiary focus-visible:outline-tertiary",icon:"group-data-[state=checked]:text-tertiary"},rodeodust:{base:"data-[state=checked]:bg-rodeodust focus-visible:outline-rodeodust",icon:"group-data-[state=checked]:text-rodeodust"},poison:{base:"data-[state=checked]:bg-poison focus-visible:outline-poison",icon:"group-data-[state=checked]:text-poison"},signal:{base:"data-[state=checked]:bg-signal focus-visible:outline-signal",icon:"group-data-[state=checked]:text-signal"},info:{base:"data-[state=checked]:bg-info focus-visible:outline-info",icon:"group-data-[state=checked]:text-info"},success:{base:"data-[state=checked]:bg-success focus-visible:outline-success",icon:"group-data-[state=checked]:text-success"},warning:{base:"data-[state=checked]:bg-warning focus-visible:outline-warning",icon:"group-data-[state=checked]:text-warning"},error:{base:"data-[state=checked]:bg-error focus-visible:outline-error",icon:"group-data-[state=checked]:text-error"},kalkmark:{base:"data-[state=checked]:bg-kalkmark focus-visible:outline-kalkmark",icon:"group-data-[state=checked]:text-kalkmark"},vanligmark:{base:"data-[state=checked]:bg-vanligmark focus-visible:outline-vanligmark",icon:"group-data-[state=checked]:text-vanligmark"},time:{base:"data-[state=checked]:bg-time focus-visible:outline-time",icon:"group-data-[state=checked]:text-time"},neutral:{base:"data-[state=checked]:bg-inverted focus-visible:outline-inverted",icon:"group-data-[state=checked]:text-highlighted"}},size:{xs:{base:"w-7",container:"h-4",thumb:"size-3 data-[state=checked]:translate-x-3 data-[state=checked]:rtl:-translate-x-3",wrapper:"text-xs"},sm:{base:"w-8",container:"h-4",thumb:"size-3.5 data-[state=checked]:translate-x-3.5 data-[state=checked]:rtl:-translate-x-3.5",wrapper:"text-xs"},md:{base:"w-9",container:"h-5",thumb:"size-4 data-[state=checked]:translate-x-4 data-[state=checked]:rtl:-translate-x-4",wrapper:"text-sm"},lg:{base:"w-10",container:"h-5",thumb:"size-4.5 data-[state=checked]:translate-x-4.5 data-[state=checked]:rtl:-translate-x-4.5",wrapper:"text-sm"},xl:{base:"w-11",container:"h-6",thumb:"size-5 data-[state=checked]:translate-x-5 data-[state=checked]:rtl:-translate-x-5",wrapper:"text-base"}},checked:{true:{icon:"group-data-[state=checked]:opacity-100"}},unchecked:{true:{icon:"group-data-[state=unchecked]:opacity-100"}},loading:{true:{icon:"animate-spin"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75",description:"cursor-not-allowed opacity-75"}}},defaultVariants:{color:"primary",size:"md"}},ho=Object.assign({inheritAttrs:!1},{__name:"USwitch",props:br({as:{type:null,required:!1},color:{type:null,required:!1},size:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1},checkedIcon:{type:[String,Object],required:!1},uncheckedIcon:{type:[String,Object],required:!1},label:{type:String,required:!1},description:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},value:{type:String,required:!1},defaultValue:{type:Boolean,required:!1}},{modelValue:{type:Boolean,default:void 0},modelModifiers:{}}),emits:br(["change"],["update:modelValue"]),setup(e,{emit:t}){const a=e,r=is(),i=t,l=ls(e,"modelValue",{type:Boolean,default:void 0}),f=os(),u=us(cs(a,"required","value","defaultValue")),{id:d,emitFormChange:A,emitFormInput:v,size:m,color:j,name:E,disabled:F,ariaAttrs:O}=ds(a),x=d.value??fs(),M=b(()=>kr({extend:kr(mo),...f.ui?.switch||{}})({size:m.value,color:j.value,required:a.required,loading:a.loading,disabled:F.value||a.loading}));function p(T){const D=new Event("change",{target:{value:T}});i("change",D),A(),v()}return(T,D)=>(h(),I(S(Va),{as:e.as,class:ae(M.value.root({class:[a.ui?.root,a.class]}))},{default:L(()=>[c("div",{class:ae(M.value.container({class:a.ui?.container}))},[g(S(si),Ur({id:S(x)},{...S(u),...T.$attrs,...S(O)},{modelValue:l.value,"onUpdate:modelValue":[D[0]||(D[0]=re=>l.value=re),p],name:S(E),disabled:S(F)||e.loading,class:M.value.base({class:a.ui?.base})}),{default:L(()=>[g(S(li),{class:ae(M.value.thumb({class:a.ui?.thumb}))},{default:L(()=>[e.loading?(h(),I(Pt,{key:0,name:e.loadingIcon||S(f).ui.icons.loading,class:ae(M.value.icon({class:a.ui?.icon,checked:!0,unchecked:!0}))},null,8,["name","class"])):(h(),V(he,{key:1},[e.checkedIcon?(h(),I(Pt,{key:0,name:e.checkedIcon,class:ae(M.value.icon({class:a.ui?.icon,checked:!0}))},null,8,["name","class"])):$("",!0),e.uncheckedIcon?(h(),I(Pt,{key:1,name:e.uncheckedIcon,class:ae(M.value.icon({class:a.ui?.icon,unchecked:!0}))},null,8,["name","class"])):$("",!0)],64))]),_:1},8,["class"])]),_:1},16,["id","modelValue","name","disabled","class"])],2),e.label||r.label||e.description||r.description?(h(),V("div",{key:0,class:ae(M.value.wrapper({class:a.ui?.wrapper}))},[e.label||r.label?(h(),I(S(Ms),{key:0,for:S(x),class:ae(M.value.label({class:a.ui?.label}))},{default:L(()=>[Ge(T.$slots,"label",{label:e.label},()=>[Be(P(e.label),1)])]),_:3},8,["for","class"])):$("",!0),e.description||r.description?(h(),V("p",{key:1,class:ae(M.value.description({class:a.ui?.description}))},[Ge(T.$slots,"description",{description:e.description},()=>[Be(P(e.description),1)])],2)):$("",!0)],2)):$("",!0)]),_:3},8,["as","class"]))}}),po={class:"absolute inset-0"},go={class:"flex h-full relative"},_o={class:"absolute text-end right-3 top-2"},bo={class:"absolute top-2 left-3"},ko={key:1,class:"flex w-full h-full gap-1"},yo={class:"w-1/2 h-full"},xo={class:"w-1/2 h-full"},wo={__name:"CustomImageComparisonSlider",props:{frameworkLabel:{type:String,default:""},timeLabel:{type:String,default:""},frameworkLabel2:{type:String,default:""},timeLabel2:{type:String,default:""},layoutMode:{type:String,default:"slider"}},setup(e,{expose:t}){const a=Hr("(max-width: 767px)"),r=e,i=C(r.layoutMode);X(()=>r.layoutMode,F=>{(F==="slider"||F==="side-by-side"||F==="sideBySide")&&(i.value=F)});const l=C(null),f=C(.5);let u=!1;function d(F){if(!l.value)return;const O=l.value.getBoundingClientRect();let M=((F.touches?F.touches[0].clientX:F.clientX)-O.left)/O.width;M=Math.max(0,Math.min(M,1)),f.value=M}function A(F){i.value==="slider"&&(u=!0,d(F),window.addEventListener("mousemove",v),window.addEventListener("mouseup",m),window.addEventListener("touchmove",v),window.addEventListener("touchend",m))}function v(F){u&&d(F)}function m(){u=!1,window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",m),window.removeEventListener("touchmove",v),window.removeEventListener("touchend",m)}function j(){i.value=i.value==="slider"?"sideBySide":"slider"}function E(F){(F==="slider"||F==="sideBySide")&&(i.value=F)}return t({toggleLayoutMode:j,setLayoutMode:E}),ft(()=>{f.value=.5}),(F,O)=>{const x=za;return i.value==="slider"?(h(),V("div",{key:0,ref_key:"container",ref:l,class:"relative w-full h-full overflow-hidden select-none"},[c("div",po,[Ge(F.$slots,"second")]),c("div",{class:"absolute inset-0 overflow-hidden",style:ma({clipPath:"inset(0 calc(100% - "+f.value*100+"%) 0 0)"})},[Ge(F.$slots,"first")],4),c("div",{class:"absolute top-0 flex items-center justify-center h-full w-10 cursor-ew-resize",style:ma({left:f.value*100+"%",transform:"translateX(-50%)"}),onMousedown:A,onTouchstart:A},[c("div",go,[c("div",_o,[S(a)?$("",!0):(h(),I(x,{key:0,size:"lg",class:"backdrop-blur-xl bg-neutral-100/0 text-neutral-100 h-fit whitespace-nowrap mb-0.5"},{default:L(()=>[Be(P(e.frameworkLabel),1)]),_:1})),g(x,{size:"lg",class:"backdrop-blur-xl bg-neutral-100/00 text-neutral-100 h-fit whitespace-nowrap"},{default:L(()=>[Be(P(e.timeLabel),1)]),_:1})]),O[0]||(O[0]=c("div",{class:"h-full w-1.5 bg-neutral-100/90 backdrop-blur-md inset-shadow-sm inset-shadow-neutral-400"},null,-1)),c("div",bo,[S(a)?$("",!0):(h(),I(x,{key:0,size:"lg",class:"backdrop-blur-xl bg-neutral-100/0 text-neutral-100 h-fit whitespace-nowrap mb-0.5"},{default:L(()=>[Be(P(e.frameworkLabel2),1)]),_:1})),g(x,{size:"lg",class:"backdrop-blur-xl bg-neutral-100/0 text-neutral-100 h-fit whitespace-nowrap"},{default:L(()=>[Be(P(e.timeLabel2),1)]),_:1})])])],36)],512)):i.value==="sideBySide"?(h(),V("div",ko,[c("div",yo,[Ge(F.$slots,"first")]),c("div",xo,[Ge(F.$slots,"second")])])):$("",!0)}}},So=Oa("onboardingStore",{state:()=>({selectedStartskog:0,selectedFramework:0})}),To=[{id:"manga_arter_pa_trad",title:"Mnga arter p ett trd",text:"P rtterna av ldre trd kan det finnas mycel av 50-100 olika arter mykorrhizasvampar.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",iconOutline:"",color:"neutral-300",positions:[{framework:["naturskydd"],times:["fre"],placement:"LEFT"},{framework:["trakthygge"],times:["fre"],placement:"LEFT"},{framework:["bldning"],times:["frr"],placement:"LEFT"},{framework:["skrmtrd"],times:["fre"],placement:"LEFT"},{framework:["luckhuggning"],times:["fre"],placement:"LEFT"}]},{id:"mykorrhiza_dar_det_finns_rotter",title:"Mykorrhiza dr det finns rtter",text:"Mykorrhizasvamparnas mycel finns lika djupt ner i marken som rtter nr, och s lngt trds rtter breder ut sig, 10-15 meter frn stammen. Men det r rikligast med mykorrhiza nrmast trdet och i de versta 10 cm av skogsmarken.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",iconOutline:"",color:"neutral-300",positions:[{framework:["naturskydd"],times:["fre"],placement:"LEFT"},{framework:["trakthygge"],times:["fre"],placement:"LEFT"},{framework:["bldning"],times:["frr"],placement:"LEFT"},{framework:["skrmtrd"],times:["fre"],placement:"LEFT"},{framework:["luckhuggning"],times:["fre"],placement:"LEFT"}]},{id:"matsvampsmycel_kort_tid",title:"Matsvamp efter avverkning",text:"Nstan alla matsvampar r mykorrhizasvampar och frsvinner efter avverkning. De verlever om dess mycel vxer med hnsynstrd som lmnats eller nra en skogskant. Annars behver de teretableras i ungskog frn sporer som sprids in frn nraliggande skogar.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",iconOutline:"",color:"neutral-300",positions:[{framework:["trakthygge"],times:["efter"],placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],placement:"LEFT"}]},{id:"matsvampsmycel_i_aldrre_skog",title:"Mer matsvamp i ldre skog",text:"Mngden matsvampar r strre i ldre skog eftersom strre trd har hgre fotosyntes och kan skicka ner mer socker till sina rtter.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",iconOutline:"",color:"neutral-300",positions:[{framework:["naturskydd"],times:["fre","efter","10","20","50","80"],placement:"LEFT"},{framework:["trakthygge"],times:["fre","50","80"],placement:"LEFT"},{framework:["bldning"],times:["fre","efter","10","20","50","80"],placement:"LEFT"},{framework:["skrmtrd"],times:["fre","50","80"],placement:"LEFT"},{framework:["luckhuggning"],times:["fre","50","80"],placement:"LEFT"}]},{id:"mycel_av_rodlistade_svampar",title:"Rdlistade svampar",text:"Rdlistade mykorrhizasvampar har ofta speciella miljkrav, och frekommer frmst i ldre skog. Generellt kan mycel av mykorrhizasvampar leva vidare p en plast s lnge det finns levande trd. Svampindividers mycel kan bli mnga decennier till potentiellt sekler gamla.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",iconOutline:"",color:"neutral-300",positions:[{framework:["naturskydd"],times:["fre","efter","10","20","50","80"],placement:"LEFT"},{framework:["trakthygge"],times:["fre"],placement:"LEFT"},{framework:["bldning"],times:["fre"],placement:"LEFT"},{framework:["skrmtrd"],times:["fre"],placement:"LEFT"},{framework:["luckhuggning"],times:["fre"],placement:"LEFT"}]},{id:"hogstubbe",title:"Hgstubbe",text:"Hr finns inga levande mykorrhizamycel. Trdets rtter r dda.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter"],x:.51,y:.26,placement:"LEFT"},{framework:["trakthygge"],times:["efter"],x:.621,y:.3,placement:"LEFT"}]},{id:"stubbe",title:"Stubbe",text:"Trdets fotosyntes och flde av energi till sina rtter har upphrt. Efter avverkning tynar mykorrhizasvamparna bort och dr efter ett par mnader - ett r.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter"],x:.422,y:.185,placement:"LEFT"},{framework:["trakthygge"],times:["efter"],x:.573,y:.32,placement:"LEFT"}]},{id:"hansynstrad",title:"Hnsynstrd",text:"De flesta mykorrhizasvamparna som vxte med trdets rtter i skogen fre avverkningen finns kvar och lever vidare. Dessa mycel kan vxa in i och spridas till uppvxande trdplantor.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter","20","50","80"],x:.335,y:.38,placement:"LEFT"},{framework:["trakthygge"],times:["efter","20","50","80"],x:.4502,y:.2228,placement:"LEFT"},{framework:["skrmtrd"],times:["20","50","80"],x:.469,y:.2577,placement:"LEFT"}]},{id:"grupp_av_hansynstrad",title:"Grupp av hnsynstrd",text:"De flesta mykorrhizasvampar som vxte i denna trdgrupps rtter fre avverkningen finns kvar och lever vidare. Fanns det mat- och naturvrdssvampar, kan de fortleva.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter","20","50","80"],x:.3736,y:.2832,placement:"LEFT"}]},{id:"sjalforyngrade_sma_tradplantor",title:"Sjlvfryngrade trdplantor",text:"Sm mycel av mykorrhizasvampar vxer i plantornas rtter. Om de vxer nra hnsynstrd kan mycel vuxint in frn dessas rtter. Annars etableras mycel frn svampsporer som sprid in frn nraliggande skogar. Vissa svamparter har ocks en sporbank i marken.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.4344,y:.1971,placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],x:.4344,y:.1971,placement:"LEFT"}]},{id:"planterade_sma_tradplantor",title:"Planterade sm trdplantor",text:"Har med sig spontant etablerad mykorrhiza frn plantskolan dr de odlades upp. Det r dock f arter. Dessa erstts succesivt med bttre anpassade och svamparter som finns p platsen.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["trakthygge"],times:["20"],x:.45,y:.32,placement:"LEFT"}]},{id:"yngre_trad_vid_avverkningen",title:"Yngre trd som lmnats",text:"Undviks underrjning fre avverkning, kommer mykorrhizasvampar att verleva p dessa plantor och trd p samma stt som de gr p rtterna av hnsynstrd.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.33,y:.37,placement:"LEFT"}]},{id:"tradkant_mot_avverkning",title:"Trdkant mot avverkning",text:"Mykorrhizasvampars mycel vxer med i skogskantstrdens rtter s lngt de strcker sig in p avverkningen. Mest nrmast skogskanten, men nr 1015 meter in p hygget.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter","20"],x:.46,y:.409,placement:"LEFT"},{framework:["luckhuggning"],times:["efter","20"],x:.64,y:.352,placement:"LEFT"},{framework:["luckhuggning"],times:["50"],x:.511,y:.3245,placement:"LEFT"},{framework:["luckhuggning"],times:["80"],x:.3278,y:.2383,placement:"LEFT"}]},{id:"tomma_omraden_avverkning",title:"Tomma omrden ",text:"Vid omrden utan nra trd och smplantor direkt efter avverkning finns inte mykorrhizasvampar. I mark dr det saknas trdrtter finns inte mykorrhizasvampar. Ngra, men f mykorrhizasvampar har en sporbank.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.6095,y:.2081,placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],x:.485,y:.292,placement:"LEFT"}]}],Co={annotations:To},Lo=Oa("selectedAnnotation",{state:()=>({selectedAnnotation:null}),actions:{setSelectedAnnotation(e){this.selectedAnnotation=e},clearSelectedAnnotation(){this.selectedAnnotation=null}}}),Vo=Oa("overlay",{state:()=>({staticOverlayVisible:!1}),actions:{toggleStaticOverlay(){this.staticOverlayVisible=!this.staticOverlayVisible},setStaticOverlayVisible(e){this.staticOverlayVisible=e}}}),Ao={class:"relative flex flex-col w-full h-dvh"},Mo={class:"space-y-0.5 p-3"},zo={class:"grid grid-cols-2 gap-2"},Oo={class:"flex flex-col text-center items-center w-full space-y-1"},Fo={class:"flex flex-col text-center items-center w-full space-y-1"},Do={class:"p-3 flex flex-col gap-3"},$o={class:"flex items-center justify-between gap-3"},jo={class:"flex flex-wrap gap-1"},Eo={class:"w-full sm:flex items-center bg-muted border-muted p-1 shadow-xl"},Bo={class:"flex w-full sm:w-fit h-fit justify-center p-0 pb-0 sm:pb-0"},Ro={class:"flex sm:justify-center items-center overflow-x-scroll md:overflow-hidden px-2 my-1 gap-4"},Uo={class:"p-1 flex flex-col gap-1"},No={class:"ui-zoom-reapply relative flex flex-col flex-1 w-full"},Po={class:"flex flex-1"},Io={class:"absolute bottom-0 right-0 sm:top-0 sm:left-0 z-50 p-4 space-y-2 pointer-events-none"},Ho={class:"pointer-events-auto"},qo={class:"pointer-events-auto"},Yo={key:0,class:"sm:hidden"},Go={class:"flex items-center justify-between gap-3"},Zo={class:"text-sm font-medium text-neutral-700"},Wo={key:0,class:"space-y-4"},Xo={class:"space-y-2"},Ko=["innerHTML"],Qo={class:"space-y-2"},Jo=["innerHTML"],eu={key:1,class:"text-sm text-neutral-400"},tu={key:1,class:"sm:grid sm:grid-cols-2 divide-y sm:divide-y-0 sm:divide-x divide-muted/70"},au={key:0,class:""},ru={class:"space-y-2"},nu=["innerHTML"],su={class:"space-y-2"},iu=["innerHTML"],lu={key:1,class:"text-sm text-neutral-400"},ou={class:"pointer-events-auto"},uu={class:"space-y-1.5 sm:p-4 p-2 pt-3 max-w-sm z-50 absolute top-0 right-0 transform-all text-end"},cu={key:0,class:"flex flex-col sm:flex sm:flex-wrap gap-1 items-end"},du={class:"flex items-start justify-between gap-4"},fu={class:"font-medium"},vu={class:"flex gap-1"},mu={class:"text-sm text-neutral-500 mt-1"},hu={key:0,class:"absolute p-2 w-full"},pu={class:"flex justify-between p-2 items-center mb-2"},gu={class:"flex items-center justify-between gap-2"},_u={class:"flex items-center gap-1"},bu={class:"min-w-[3ch] text-sm text-neutral-700 dark:text-neutral-200 text-center"},ku={key:0,class:"space-y-2 w-full"},yu={class:"flex flex-col"},xu={class:"text-md font-medium"},wu={key:0,class:"text-sm text-neutral-500"},Su={class:"flex flex-col"},Tu={class:"text-md font-medium"},Cu={key:0,class:"text-sm text-neutral-500"},Lu={class:"flex flex-col"},Vu={class:"text-md font-medium"},Au={key:0,class:"text-sm text-neutral-500"},Mu={class:"w-full mt-1 relative"},zu={class:""},Ou={class:"space-y-2"},Fu={class:"relative flex-1"},Du={key:0,class:"w-full h-full"},$u={key:0,class:"absolute inset-y-0 right-0 w-68 bg-white dark:bg-neutral-950/70 backdrop-blur-2xl overflow-auto z-10 pointer-events-auto border-neutral-300 dark:border-neutral-700 border-l"},ju={class:"px-4 py-2"},Eu={class:"text-lg font-semibold text-neutral-800 dark:text-neutral-200"},Bu={class:"text-neutral-400"},Ru={key:0,class:ae(["absolute max-h-screen z-50 top-0 w-sm left-0 overflow-auto transition-all shadow-2xl border-r bg-white border-neutral-100/10 rounded-br-sm duration-300 ease-in-out backdrop-blur-2xl hide-scrollbar"])},Uu={class:"p-4"},Nu={key:0},Pu={class:"text-xl font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},Iu={class:"p-2 flex flex-col gap-2"},Hu=["onClick"],qu={class:"font-medium"},Yu={class:"text-sm text-neutral-300"},Gu={class:"flex justify-between"},Zu={class:"text-md text-neutral-200"},Wu={key:0,class:"my-4"},Xu=["innerHTML"],Ku=["innerHTML"],Qu={key:1,class:"my-4 text-neutral-300 text-sm"},Ju={key:1,class:"space-y-2"},ec={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},tc={class:"p-2 flex flex-col gap-2"},ac=["onClick"],rc={class:"font-medium"},nc={class:"text-sm text-neutral-300"},sc={class:"flex justify-between"},ic={key:0,class:"my-4"},lc=["innerHTML"],oc=["innerHTML"],uc={class:"flex justify-between"},cc={class:"text-md text-neutral-200"},dc={key:0,class:"my-4"},fc=["innerHTML"],vc=["innerHTML"],mc={key:2,class:"space-y-2"},hc={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},pc={class:"p-2 flex flex-col gap-2"},gc=["onClick"],_c={class:"font-medium"},bc={class:"text-sm text-neutral-300"},kc={class:"flex justify-between"},yc={class:"text-md text-neutral-200"},xc={key:0,class:"my-4"},wc=["innerHTML"],Sc=["innerHTML"],Tc={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},Cc={class:"p-2 flex flex-col gap-2"},Lc=["onClick"],Vc={class:"font-medium"},Ac={class:"text-sm text-neutral-300"},Mc={class:"flex justify-between"},zc={class:"text-md text-neutral-200"},Oc={key:0,class:"my-4"},Fc=["innerHTML"],Dc=["innerHTML"],$c={class:"grid grid-cols-2 gap-4"},jc={class:"w-full"},Ec={class:"w-full"},Br="Ingen tidslinjeinformation hittades fr den hr kombinationen.",Bc=Re({__name:"Model",emits:["close"],async setup(e,{emit:t}){let a,r;const i=bs(()=>ys(()=>import("./BMeOfb4I.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url));let l;const[f,u]=vs(),d=Hr("(max-width: 767px)"),{public:{dziBaseUrl:A="https://assets.svampskog.se/dzi_v2",dziVersionSuffix:v=""}={}}=ms(),m=A,j=v;function E(s){return s?s.toString().toLowerCase().replace(//g,"a").replace(//g,"a").replace(//g,"o").replace(/[^a-z0-9_-]/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,""):""}function F({framework:s,timeLabel:n,fungiVisibility:y,treeVisibility:k,startskog:H}){const $e=[s,n,y,k,H].map(Ye=>E(Ye)).filter(Boolean).join("_"),qe=E(j);return qe?`${$e}_${qe}`:$e}function O(s){return`${m}/${F(s)}.dzi`}const{data:x}=([a,r]=xt(()=>wt("forestry-timeline-modelc",()=>St("forestryTimelines").first())),a=await a,r(),a),M=b(()=>{const s=x.value;if(!s)return[];if(Array.isArray(s)){const n=s.find(y=>y?.id==="skogsskotsel")||s[0];return Array.isArray(n?.entries)?n.entries:[]}return Array.isArray(s.entries)?s.entries:[]}),p=C(!1),T=C("beforeAfterCompare"),D=C("slider"),re=C(!1),G=C(!1),J=C(!1),le=C(!1),Z=C(!1),ee=C(!1),ue=C(!1),ce=C(!1),fe=C(!1),pe=C(!1),ve=C(1),K=C(!1),Ce=C(!1);function We(){K.value=!K.value}function Tt(){Ce.value=!Ce.value}const Ct=C([]);function Me(s,n){const y=Ct.value,k=y.indexOf(s);n?(k!==-1&&y.splice(k,1),y.push(s)):k!==-1&&y.splice(k,1)}X(G,s=>Me("retention",s),{immediate:!0}),X(J,s=>Me("kanteffekt",s),{immediate:!0}),X(ee,s=>Me("rottacke",s),{immediate:!0}),X(ue,s=>Me("seedTree",s),{immediate:!0}),X(ce,s=>Me("smaplantor",s),{immediate:!0}),X(fe,s=>Me("hogstubbar",s),{immediate:!0}),X(Z,s=>Me("naturvardsarter",s),{immediate:!0}),X(pe,s=>Me("tradplantor",s),{immediate:!0});const Lt=Vo(),Xe=b({get:()=>Lt.staticOverlayVisible,set:s=>Lt.setStaticOverlayVisible(s)}),Vt=b(()=>{const s=[],n=(k,H,se,$e)=>{k!=="staticOverlay"&&s.push({key:k,title:H,desc:se,close:()=>{_[k]=!1,$e?.()}})},y=Ct.value.slice().reverse();for(const k of y)switch(k){case"smaplantor":ce?.value&&n("smaplantor","Yngre trd och smplantor som lmnats","Undviks underrjning fre avverkning, kommer mykorrhizasvampar att verleva p dessa plantor och trd p samma stt som de gr p rtterna av hnsynstrd.",()=>ce.value=!1);break;case"hogstubbar":fe?.value&&n("hogstubbar","Hgstubbar","Hr finns inga levande mykorrhizamycel. Trdets rtter r dda.",()=>fe.value=!1);break;case"retention":G?.value&&(U||oe||xe)&&n("retention","Hnsynstrd","De flesta mykorrhizasvamparna som vxte med trdens rtter fre avverkningen finns kvar och lever vidare. Mycel kan vxa in i och spridas till uppvxande trdplantor.",()=>G.value=!1);break;case"kanteffekt":J?.value&&(U||oe||xe)&&n("kanteffekt","Kanteffekt","Mykorrhizasvamp p trdens rtter i skogskanten kan strcka sig 1015 meter in p hygget; starkast nrmast kanten.",()=>J.value=!1);break;case"rottacke":ee?.value&&(at||xe)&&n("rottacke","Kontinuerligt rottcke","I princip r hela omrdet tckt av rtter dr mykorrhizasvampar kan verleva.",()=>ee.value=!1);break;case"naturvardsarter":Z?.value&&(U||oe||at||xe)&&n("naturvardsarter","Naturvrdsarter","Naturvrdsarter har ofta speciella miljkrav, och frekommer frmst i ldre skog. Generellt kan mycel av mykorrhizasvampar leva vidare p en plats s lnge det finns levande trd. Svampindividers mycel kan likt trd bli mnga decennier till potentiellt sekler gamla.",()=>Z.value=!1);break;case"seedTree":ue?.value&&xe&&n("seedTree","Frtrd","Mycel fortstter leva p frtrdens rtter och kan koppla till nya plantor.",()=>ue.value=!1);break;case"tradplantor":pe?.value&&U&&n("tradplantor","Planterade sm trdplantor","Har med sig spontant etablerad mykorrhiza frn plantskolan dr de odlades upp. Det r dock f arter. Dessa erstts succesivt med bttre anpassade och svamparter som finns p platsen.",()=>pe.value=!1);break}return s}),_=yr({staticOverlay:!1,retention:!1,kanteffekt:!1,rottacke:!1,seedTree:!1,smaplantor:!1,hogstubbar:!1,naturvardsarter:!1,tradplantor:!1});function z(s){_[s]=!_[s]}const W={staticOverlay:Xe,retention:G,kanteffekt:J,rottacke:ee,seedTree:ue,smaplantor:ce,hogstubbar:fe,naturvardsarter:Z,tradplantor:pe},w=b(()=>[{key:"staticOverlay",label:"Bestndsgrns"},{key:"retention",label:"Hnsynstrd"},{key:"kanteffekt",label:"Kanteffekt"},{key:"rottacke",label:"Rottcke"},{key:"seedTree",label:"Frtrd"},{key:"smaplantor",label:"Smplantor"},{key:"hogstubbar",label:"Hgstubbar"},{key:"naturvardsarter",label:"Naturvrdsarter"},{key:"tradplantor",label:"Trdplantor"}]);function N(s){const n=W[s];n&&(_[s]?(_[s]=!1,n.value&&(n.value=!1)):(_[s]=!0,n.value||(n.value=!0)))}function B(s){Object.keys(W).forEach(n=>{n!==s&&(_[n]||W[n]?.value&&(W[n].value=!1))})}X(G,s=>{s&&B("retention")}),X(J,s=>{s&&B("kanteffekt")}),X(ee,s=>{s&&B("rottacke")}),X(ue,s=>{s&&B("seedTree")}),X(ce,s=>{s&&B("smaplantor")}),X(fe,s=>{s&&B("hogstubbar")}),X(Z,s=>{s&&B("naturvardsarter")}),X(pe,s=>{s&&B("tradplantor")}),X(Xe,s=>{s&&B("staticOverlay")});const q=b(()=>R.value?.value),U=b(()=>q.value==="trakthygge"),oe=b(()=>q.value==="luckhuggning"),at=b(()=>q.value==="bldning"||q.value==="bladning"),xe=b(()=>q.value==="skrmtrd"||q.value==="skarmtrad"),qa=C([]);function Ya(s){const n=Array.isArray(Je?.value)?Je.value:[];if(!n.length)return;const y=n.map(se=>String(se.value)),k=String(ut.value);let H=y.indexOf(k);if(H===-1&&(H=0),s<0){for(let se=H-1;se>=0;se--)if(!n[se]?.disabled){ut.value=String(n[se].value);return}return}else{for(let se=H+1;se<n.length;se++)if(!n[se]?.disabled){ut.value=String(n[se].value);return}return}}function Ga(s){return(s||"").toString().trim().toLowerCase()}const rt=b(()=>Array.isArray(Je?.value)?Je.value:Array.isArray(Je)?Je:[]),Za=b(()=>{const n=rt.value.map(y=>String(y.value)).indexOf(String(ut.value));return n===-1?0:n}),nt=b(()=>{for(let s=Za.value-1;s>=0;s--)if(!rt.value[s]?.disabled)return rt.value[s];return null}),st=b(()=>{for(let s=Za.value+1;s<rt.value.length;s++)if(!rt.value[s]?.disabled)return rt.value[s];return null}),Cn=b(()=>!!nt.value),Ln=b(()=>!!st.value);function Wa(s){try{const n=R.value&&R.value.value,y=Q.value&&Q.value.value;return M.value.find(H=>H.atgard===n&&H.startskog===y&&Ga(H.tid)===Ga(s))?.skog||""}catch{return""}}const Vn=b(()=>nt.value?String(nt.value.label??nt.value.value):""),An=b(()=>st.value?String(st.value.label??st.value.value):""),Mn=b(()=>nt.value?Dt(Number(nt.value.value)):null),zn=b(()=>st.value?Dt(Number(st.value.value)):null);b(()=>Wa(Mn.value)),b(()=>Wa(zn.value));function On(){Ya(-1)}function Fn(){Ya(1)}const Dn=[{re:/hnsynstrd/gi,overlay:"retention"},{re:/evighetstrd/gi,overlay:"retention"},{re:/hyggeskanterna/gi,overlay:"kanteffekt"},{re:/luckorna/gi,overlay:"kanteffekt"},{re:/frtrdens rtter/gi,overlay:"seedTree"},{re:/frtrd/gi,overlay:"seedTree"},{re:/skrmtrdens rtter/gi,overlay:"rottacke"},{re:/smplantor/gi,overlay:"smaplantor"},{re:/hgstubbar/gi,overlay:"hogstubbar"},{re:/rdlistade svampar/gi,overlay:"naturvardsarter"},{re:/rdlistad art/gi,overlay:"naturvardsarter"},{re:/Trdplantor/gi,overlay:"tradplantor"}];function $n(s=""){return String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function be(s=""){let n=$n(s);for(const y of Dn)n=n.replace(y.re,k=>`<span class=" py-0.5 px-1 rounded-md border bg-white border-muted/50 text-neutral-800 cursor-pointer hover:opacity-80" data-overlay="${y.overlay}">${k}</span>`);return n}function Ke(s){const n=s.target.closest("[data-overlay]");if(!n)return;const y=n.getAttribute("data-overlay");y==="retention"?G.value=!G.value:y==="kanteffekt"?J.value=!J.value:y==="seedTree"?ue.value=!ue.value:y==="rottacke"?ee.value=!ee.value:y==="smaplantor"?ce.value=!ce.value:y==="hogstubbar"?fe.value=!fe.value:y==="naturvardsarter"?Z.value=!Z.value:y==="tradplantor"&&(pe.value=!pe.value)}C(!1),b(()=>[{value:"sideBySide",label:"Sida vid sida"},{value:"slider",label:"Skjutreglage"}]);const it=b(()=>Pe.map((s,n)=>({value:n,label:s.label,description:s.text}))),jn=C(!0),vt=C(!1),En=C(!1),Xa=C(85);let Bn=0,Rn=Xa.value;function Ka(s){if(!At)return;const y=(s.clientX-Bn)/16;Xa.value=Rn+y}function Qa(){At=!1,window.removeEventListener("pointermove",Ka),window.removeEventListener("pointerup",Qa)}yt(()=>{window.removeEventListener("pointermove",Ka),window.removeEventListener("pointerup",Qa)});const Ja=C(600);let At=!1,Un=0,Nn=Ja.value;function er(s){if(!At)return;const n=s.clientY-Un;Ja.value=Nn+n}function tr(){At=!1,window.removeEventListener("pointermove",er),window.removeEventListener("pointerup",tr)}yt(()=>{window.removeEventListener("pointermove",er),window.removeEventListener("pointerup",tr)}),C(!1),C(!1);const Mt=C(!0),we=C(0),Pn=b(()=>{const s=R.value.value,n=Qe(me.value),y="visa",k=Ne.value?"visa":"dlj",H=Q.value.value;return O({framework:s,timeLabel:n,fungiVisibility:k,treeVisibility:y,startskog:H})}),ar=b(()=>{const s=R.value.value,n="fre",y="visa",k=Ne.value?"visa":"dlj",H=Q.value.value;return O({framework:s,timeLabel:n,fungiVisibility:k,treeVisibility:y,startskog:H})}),rr=b(()=>{const s=R.value.value,n=Qe(me.value),y="visa",k=Ne.value?"visa":"dlj",H=Q.value.value;return O({framework:s,timeLabel:n,fungiVisibility:k,treeVisibility:y,startskog:H})}),nr=b(()=>{const s=R.value.value,n=Qe(me.value),y="visa",k=Ne.value?"visa":"dlj",H=Q.value.value;return O({framework:s,timeLabel:n,fungiVisibility:k,treeVisibility:y,startskog:H})}),sr=b(()=>{const s=ge.value.value,n=Qe(me.value),y="visa",k=Ne.value?"visa":"dlj",H=Q.value.value;return O({framework:s,timeLabel:n,fungiVisibility:k,treeVisibility:y,startskog:H})}),ea=Lo(),zt=b(()=>ea.selectedAnnotation);function In(s){if(ea.setSelectedAnnotation(s),s.position&&pt.value){const n=pt.value.getZoom();pt.value.setZoomAndCenter(n,s.position)}}function Hn(){ea.clearSelectedAnnotation()}const ke=C(null);C("line");const Ot=So();C(!1);const Ne=C(!0),ne=b(()=>p.value&&T.value==="beforeAfterCompare"),te=b(()=>p.value&&T.value==="frameworkCompare"),Se=b({get:()=>Ot.selectedFramework,set:s=>Ot.selectedFramework=s}),ir=b({get:()=>Ot.selectedStartskog??0,set:s=>{Ot.selectedStartskog=s}}),lt=C(Se.value),ge=b(()=>Pe[lt.value]||Pe[0]);X([te,ne],([s,n])=>{(!s||!n)&&(Xn.value="framework1")});const Ft=C(!1),ta=C(!1),lr=C(!1);ft(()=>{l=Xs({o:()=>Ft.value=!Ft.value})}),Nr(()=>{typeof l=="function"&&l()});const qn=s=>{const n=aa.findIndex(y=>y.value===s.value);n!==-1&&(ir.value=n),ta.value=!1},Pe=[{id:0,label:"Ingen tgrd",value:"naturskydd",text:"Orrd skog",icon:"pepicons-pop:tree-circle",iconColor:"text-green-500"},{id:1,label:"Trakthygge",value:"trakthygge",text:"Kalavverkning med hnsyn",icon:"material-symbols:resize",iconColor:"text-violet-500"},{id:2,label:"Luckhuggning",value:"luckhuggning",text:"Mindre ytor kalavverkas",icon:"pixelarticons:chess",iconColor:"text-sky-500"},{id:3,label:"verhllen skrm",value:"skrmtrd",text:"Avverkning i tre steg under 20 r",icon:"catppuccin:redwood",iconColor:"text-orange-500"},{id:4,label:"Bldning",value:"bldning",text:"Enstaka trd gallras",icon:"lineicons:trees",iconColor:"text-teal-500"}],aa=[{label:"Inte tidigare kalavverkad",value:"naturskog"},{label:"Tidigare kalavverkad",value:"produktionsskog_"}],R=b(()=>Pe[Se.value!==void 0?Se.value:0]),Q=b(()=>aa[ir.value]),me=C(3);function Yn(s){ne.value&&s.value===3||(me.value=s.value)}function Dt(s){return{3:"innan",15:"efter",30:"10 r",45:"20 r",70:"50 r",99:"80 r"}[s]||"innan"}function Qe(s){const n=ot.value.find(y=>y.value===s);return n?n.timeLabel:"fre"}const ot=b(()=>{const s=[{value:3,label:"Fre avverkning",timeLabel:"fre"},{value:15,label:"1 r efter ",timeLabel:"efter"}];return R.value?.value==="skrmtrd"&&!te.value&&s.push({value:30,label:"10 r efter",timeLabel:"10"}),s.push({value:45,label:"20 r efter ",timeLabel:"20"},{value:70,label:"50 r efter ",timeLabel:"50"},{value:99,label:"+ 80 r efter ",timeLabel:"80"}),s}),Je=b(()=>ot.value.map(s=>({value:String(s.value),label:s.label,disabled:ne.value&&s.value===3}))),ut=b({get(){return String(me.value)},set(s){const n=ot.value.find(y=>String(y.value)===s);n&&Yn(n)}}),_e=b(()=>{const s=ot.value.find(n=>n.value===me.value);return s?s.label:""}),or=b(()=>ne.value?3:null);b(()=>or.value!==null?Dt(or.value):null);const Le=b(()=>Dt(me.value)),Te=b(()=>!R.value?.value||!Le.value||!Q.value?.value?null:M.value.find(s=>s.atgard===R.value.value&&s.tid===Le.value&&s.startskog===Q.value.value)),$t=b(()=>!ge.value?.value||!Le.value||!Q.value?.value?null:M.value.find(s=>s.atgard===ge.value.value&&s.tid===Le.value&&s.startskog===Q.value.value)),jt=b(()=>!R.value?.value||!Q.value?.value?null:M.value.find(s=>s.atgard===R.value.value&&s.tid==="innan"&&s.startskog===Q.value.value)),Et=b(()=>{const s=[],n=R.value?.label??"",y=ge.value?.label??"",k=_e.value??"";return ne.value?(s.push({key:"before",left:n,right:"Fre avverkning",info:jt.value??null}),s.push({key:"after",left:n,right:k,info:Te.value??null})):te.value?(s.push({key:"framework1",left:n,right:k,info:Te.value??null}),s.push({key:"framework2",left:y,right:k,info:$t.value??null})):s.push({key:"single",left:n,right:k,info:Te.value??null}),s}),Gn=b(()=>{const s=Et.value.filter(n=>!!n.info).length;return d.value&&s>1&&(ne.value||te.value)}),mt=yr({});function ra(s){mt[s]||(mt[s]={skog:!1,svamp:!1})}function Ie(s,n){return ra(s),mt[s][n]}function Bt(s,n){ra(s),mt[s][n]=!mt[s][n]}X(Et,s=>{s.forEach(n=>ra(n.key))},{immediate:!0});function ur(s){p.value=s,s&&T.value||(T.value="beforeAfterCompare")}const cr=b(()=>{const s=R.value.value,n="fre",y="dlj",k=Ne.value?"visa":"dlj",H=Q.value.value;return O({framework:s,timeLabel:n,fungiVisibility:k,treeVisibility:y,startskog:H})}),dr=b(()=>{const s=ge.value.value,n=Qe(me.value),y="dlj",k=Ne.value?"visa":"dlj",H=Q.value.value;return O({framework:s,timeLabel:n,fungiVisibility:k,treeVisibility:y,startskog:H})});b(()=>{const s=R.value.value.toLowerCase(),n=Qe(me.value);return`${s}_${n}`});const ht=b(()=>{const s=R.value.value,n=Qe(me.value),y="dlj",k=Ne.value?"visa":"dlj",H=Q.value.value;return O({framework:s,timeLabel:n,fungiVisibility:k,treeVisibility:y,startskog:H})});X([R,ne,te],()=>{ot.value.map(n=>n.value).includes(me.value)||(me.value=15)});const pt=C(null),ze=C(null),Oe=C(null);let na=!1,sa=!1;function fr(){if(sa)return;na=!0;const s=ze.value?.getZoom(),n=ze.value?.getCenter();s&&n&&Oe.value&&Oe.value.setZoomAndCenter(s,n),na=!1}function vr(){if(na)return;sa=!0;const s=Oe.value?.getZoom(),n=Oe.value?.getCenter();s&&n&&ze.value&&ze.value.setZoomAndCenter(s,n),sa=!1}function He(s){s==="before"&&ze.value?(ze.value.addSyncHandler("zoom",fr),ze.value.addSyncHandler("pan",fr)):s==="after"&&Oe.value?(Oe.value.addSyncHandler("zoom",vr),Oe.value.addSyncHandler("pan",vr)):s==="framework1"&&Fe.value?(Fe.value.addSyncHandler("zoom",mr),Fe.value.addSyncHandler("pan",mr)):s==="framework2"&&De.value&&(De.value.addSyncHandler("zoom",hr),De.value.addSyncHandler("pan",hr))}let ia=!1,la=!1;function mr(){if(la)return;ia=!0;const s=Fe.value?.getZoom(),n=Fe.value?.getCenter();s&&n&&De.value&&De.value.setZoomAndCenter(s,n),ia=!1}function hr(){if(ia)return;la=!0;const s=De.value?.getZoom(),n=De.value?.getCenter();s&&n&&Fe.value&&Fe.value.setZoomAndCenter(s,n),la=!1}const Fe=C(null),De=C(null);let oa=null;const pr=C({zoom:1,center:null});function Rt(s,{zoom:n,center:y}={}){!n||!y||oa!==s&&(oa=s,pr.value={zoom:n,center:y})}function Zn(){return!ne.value&&!te.value?{single:pt.value}:ne.value?{before:ze.value,after:Oe.value}:te.value?{framework1:Fe.value,framework2:De.value}:{}}X(pr,({zoom:s,center:n})=>{const y=Zn();Object.entries(y).forEach(([k,H])=>{k!==oa&&H&&H.setZoomAndCenter&&H.setZoomAndCenter(s,n)})});const Ee=C("single");b(()=>[{key:"framework1",label:R.value.label},{key:"framework2",label:ge.value.label}]);const Wn=C(0);X(te,s=>{s||(Wn.value=0)});const Xn=C("none"),ua=[{label:"Fre / efter",value:"beforeAfterCompare"},{label:"Tv metoder",value:"frameworkCompare"}];function Kn(){ke.value&&ke.value.toggleLayoutMode&&ke.value.toggleLayoutMode(),console.log("Current layout:",D.value)}b(()=>({label:D.value==="sideBySide"?"Sida vid sida":"Skjutreglage",type:"button",onSelect(s){s.preventDefault(),Kn()},icon:D.value==="sideBySide"?"i-circum-grid-2-v":"iconamoon:compare-duotone"})),b(()=>[{label:ua[0].label,type:"checkbox",checked:T.value==="frameworkCompare",onUpdateChecked(s){s?T.value="frameworkCompare":T.value==="frameworkCompare"&&(T.value=null)},onSelect(s){s.preventDefault()}},{label:ua[1].label,type:"checkbox",checked:T.value==="beforeAfterCompare",onUpdateChecked(s){s?T.value="beforeAfterCompare":T.value==="beforeAfterCompare"&&(T.value=null)},onSelect(s){s.preventDefault()}},{type:"separator"},{label:"Sida vid sida",type:"checkbox",checked:D.value==="sideBySide",onUpdateChecked(s){s&&(D.value="sideBySide",ke.value&&ke.value.setLayoutMode&&ke.value.setLayoutMode("sideBySide"))},onSelect(s){s.preventDefault()},icon:"i-circum-grid-2-v"},{label:"Skjutreglage",type:"checkbox",checked:D.value==="slider",onUpdateChecked(s){s&&(D.value="slider",ke.value&&ke.value.setLayoutMode&&ke.value.setLayoutMode("slider"))},onSelect(s){s.preventDefault()},icon:"iconamoon:compare-duotone"}]),b(()=>D.value==="sideBySide"?"i-circum-grid-2-v":"iconamoon:compare-duotone"),b(()=>T.value==="frameworkCompare"?"Tv metoder":T.value==="beforeAfterCompare"?"Fre / efter":"Jmfr"),X(T,s=>{s==="frameworkCompare"?(ne.value=!1,te.value=!0):s==="beforeAfterCompare"?(ne.value=!0,te.value=!1):(ne.value=!1,te.value=!1)}),X(D,s=>{ke.value&&ke.value.setLayoutMode&&ke.value.setLayoutMode(s)}),X(ne,s=>{s&&me.value===3&&(me.value=15)});const gr=b(()=>{const s=ot.value.find(n=>n.value===me.value);return s?s.timeLabel:""}),Qn=b(()=>{const s=R.value.value,n=gr.value.toLowerCase();return Co.annotations.flatMap(y=>{if(y.positions&&Array.isArray(y.positions))return y.positions.filter(k=>{const H=Array.isArray(k.framework)?k.framework.includes(s):k.framework===s,se=Array.isArray(k.times)?k.times.map($e=>$e.toLowerCase()).includes(n):k.times.toLowerCase()===n;return H&&se}).map(k=>({...y,position:{x:k.x,y:k.y,placement:k.placement}}));{const k=Array.isArray(y.frameworks)?y.frameworks.includes(s):y.framework===s,H=Array.isArray(y.times)?y.times.map(se=>se.toLowerCase()).includes(n):y.time.toLowerCase()===n;return k&&H?[y]:[]}})});return X(Ee,s=>{console.log("activeViewer updated to:",s)}),(s,n)=>{const y=Pt,k=Ma,H=qr,se=hs,$e=za,qe=zs,Ye=Pr,ca=_s,gt=Fs,Jn=Os,es=Tn,Ve=ho,_r=wo;return h(),V("div",Ao,[g(S(f),null,{default:L(()=>[c("div",Mo,[c("div",zo,[g(k,{size:"xs",variant:"outline",color:"neutral",onClick:n[0]||(n[0]=o=>ur(!1)),class:ae(p.value?"text-muted/60 hover:text-muted ring-muted/50":"bg-neutral-100 shadow ring-muted")},{default:L(()=>[c("div",Oo,[g(y,{name:"i-bx-rectangle",class:"size-4"}),n[54]||(n[54]=c("h1",null,"Enkelvy",-1))])]),_:1},8,["class"]),g(k,{size:"xs",variant:"outline",color:"neutral",onClick:n[1]||(n[1]=o=>ur(!0)),class:ae(p.value?"bg-neutral-100 shadow ring-muted":"text-muted/60 hover:text-muted ring-muted/50")},{default:L(()=>[c("div",Fo,[g(y,{name:"iconamoon:compare-duotone",class:"size-4"}),n[55]||(n[55]=c("h1",null,"Jmfr",-1))])]),_:1},8,["class"])]),p.value?(h(),I(H,{key:0,modelValue:T.value,"onUpdate:modelValue":n[2]||(n[2]=o=>T.value=o),items:ua,size:"xs",placeholder:"Vlj",clearable:!0,class:"w-full ring-muted -mb-2 mt-2",ui:{root:"min-w-max flex-shrink-0",list:"flex-nowrap rounded-xl bg-muted/50 -mb-1.5 gap-2",indicator:"bg-white border border-muted/50 shadow ",trigger:" data-[state=active]:text-neutral-800 dark:data-[state=active]:text-violet-400/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary "}},null,8,["modelValue"])):$("",!0)]),g(se,{ui:{border:"border-muted/50"}}),c("div",Do,[c("div",$o,[n[56]||(n[56]=c("span",{class:"text-sm tracking-wide text-neutral-400"},"Trdens synlighet",-1)),ps(c("input",{type:"range",min:"0",max:"1",step:"0.01","onUpdate:modelValue":n[3]||(n[3]=o=>we.value=o),class:"accent-primary-500 h-[5px] w-32"},null,512),[[gs,we.value]])]),c("div",jo,[(h(!0),V(he,null,Ae(w.value,o=>(h(),I($e,{key:o.key,label:o.label,color:_[o.key]?"primary":"neutral",variant:_[o.key]?"solid":"subtle",class:ae(["cursor-pointer",_[o.key]?"shadow-sm":"opacity-70 hover:opacity-100"]),onClick:de=>N(o.key)},null,8,["label","color","variant","class","onClick"]))),128))])])]),_:1}),c("div",Eo,[c("div",Bo,[it.value.length?(h(),V("div",{key:0,class:ae(["grid sm:gap-4 gap-2 p-2 sm:py-1 sm:flex-row sm:items-center sm:justify-start h-fit w-full sm:w-fit",te.value?"grid-cols-2":"grid-cols-1"])},[g(qe,{size:"xl",items:it.value,modelValue:Se.value,"onUpdate:modelValue":n[4]||(n[4]=o=>Se.value=o),placeholder:R.value.label,"append-to-body":"",variant:"outline",class:"ring-muted rounded-2xl w-full",ui:{content:"min-w-fit",viewport:"text-center"}},null,8,["items","modelValue","placeholder"]),te.value?(h(),I(qe,{key:0,size:"xl",items:it.value,modelValue:lt.value,"onUpdate:modelValue":n[5]||(n[5]=o=>lt.value=o),placeholder:ge.value.label,"append-to-body":"",variant:"outline",class:"ring-muted rounded-2xl"},null,8,["items","modelValue","placeholder"])):$("",!0)],2)):$("",!0)]),S(d)?$("",!0):(h(),I(se,{key:0,orientation:"vertical",class:"mx-3 h-8"})),c("div",Ro,[g(Ye,{class:"shrink-0 cursor-pointer h-fit z-50",open:ta.value,"onUpdate:open":n[6]||(n[6]=o=>ta.value=o),popper:{placement:"bottom-start"}},{content:L(()=>[n[57]||(n[57]=c("div",{class:"text-sm w-64 p-3 text-neutral-500 border-b border-neutral-200"}," Kort beskriving av betydelsen fr skogens historik ",-1)),c("div",Uo,[(h(),V(he,null,Ae(aa,o=>c("div",{key:o.value},[g(k,{onClick:de=>qn(o),size:"lg",color:"white",variant:"ghost",class:ae(["hover:bg-neutral-100 w-full cursor-pointer",{"w-full  text-secondary-500":Q.value.value===o.value}])},{default:L(()=>[Be(P(o.label),1)]),_:2},1032,["onClick","class"])])),64))])]),default:L(()=>[g(k,{variant:(S(d),"outline"),color:"neutral",icon:"i-heroicons-clock",size:"lg",label:(S(d),null),class:"rounded-full ring-muted"},null,8,["variant","label"])]),_:1},8,["open"]),g(H,{modelValue:ut.value,"onUpdate:modelValue":n[7]||(n[7]=o=>ut.value=o),items:Je.value,ui:{root:"min-w-max flex-shrink-0",list:"flex-nowrap rounded-xl bg-muted/50 -mb-1.5 gap-2",indicator:"bg-white border border-muted/50 shadow rounded-2xl",trigger:"rounded-2xl data-[state=active]:text-neutral-800 dark:data-[state=active]:text-violet-400/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary "}},null,8,["modelValue","items"])])]),c("div",No,[c("div",Po,[c("div",Io,[c("div",Ho,[S(d)?(h(),I(ca,{key:0,modal:!1,ui:{content:"p-0",body:"p-0",container:"p-0 gap-0"}},{body:L(()=>[g(S(u))]),default:L(()=>[g(k,{size:"xl",color:"neutral",variant:"outline",icon:"i-heroicons-adjustments-horizontal",class:"ring-muted rounded-2xl"})]),_:1})):(h(),I(Ye,{key:1,ui:{content:"p-0 w-80"},content:{side:"right",sideOffset:8,collisionPadding:8,align:"start"}},{content:L(()=>[g(S(u))]),default:L(()=>[g(k,{size:"lg",color:"neutral",variant:"outline",label:"Vyinstllningar",icon:"i-heroicons-adjustments-horizontal",class:"ring-muted rounded-2xl"})]),_:1}))]),c("div",qo,[g(ca,{direction:(S(d),"bottom"),inset:(S(d),!1),"handle-only":"",dismissible:!!S(d),overlay:!1,handle:!!S(d),modal:!1,open:Ft.value,"onUpdate:open":n[8]||(n[8]=o=>Ft.value=o),ui:{header:"flex items-center justify-between",body:"p-0",container:"p-0 gap-0",content:"max-w-[85rem] mx-auto",footer:"gap-0"}},{body:L(()=>[Gn.value?(h(),V("div",Yo,[g(Jn,{items:Et.value,ui:{item:"basis-12/13",viewport:"p-3"}},{default:L(({item:o})=>[g(gt,{ui:{body:"p-4 space-y-4"},class:"min-h-[18rem]",variant:"soft",onClick:Ke},{default:L(()=>[c("div",Go,[c("h2",Zo,P(o.left),1),g($e,{label:o.right,class:"ring-muted/50 py-1",variant:"outline",color:"neutral"},null,8,["label"])]),o.info?(h(),V("div",Wo,[c("div",Xo,[g(k,{type:"button",variant:"ghost",color:"neutral",class:"flex w-full items-center font-semibold gap-2 tracking-wide text-neutral-500 transition",onClick:bt(de=>Bt(o.key,"skog"),["stop"])},{default:L(()=>[n[58]||(n[58]=c("span",null,"Utveckling i skogen",-1)),g(y,{name:"i-heroicons-chevron-down",class:ae(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!Ie(o.key,"skog")}])},null,8,["class"])]),_:2},1032,["onClick"]),Ie(o.key,"skog")?(h(),V("p",{key:0,class:"text-sm text-neutral-800 leading-relaxed p-2 mb-2 bg-muted rounded",innerHTML:be(o.info.skog)},null,8,Ko)):$("",!0)]),c("div",Qo,[g(k,{type:"button",variant:"ghost",color:"neutral",class:"flex w-full items-center gap-2 font-semibold tracking-wide text-neutral-500 transition",onClick:bt(de=>Bt(o.key,"svamp"),["stop"])},{default:L(()=>[n[59]||(n[59]=c("span",null,"Pverkan p mykorrhizasvampar",-1)),g(y,{name:"i-heroicons-chevron-down",class:ae(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!Ie(o.key,"svamp")}])},null,8,["class"])]),_:2},1032,["onClick"]),Ie(o.key,"svamp")?(h(),V("span",{key:0,class:"block text-sm text-neutral-800 leading-relaxed p-2 bg-muted rounded",innerHTML:be(o.info.svamp)},null,8,Jo)):$("",!0)])])):(h(),V("div",eu,P(o.emptyMessage||Br),1))]),_:2},1024)]),_:1},8,["items"])])):(h(),V("div",tu,[(h(!0),V(he,null,Ae(Et.value,o=>(h(),V("div",{key:o.key,class:"p-3 sm:p-6 sm:pb-8 group",onClick:Ke},[o.info?(h(),V("div",au,[c("div",ru,[g(k,{type:"button",variant:"ghost",color:"neutral",class:"flex w-full items-center font-semibold gap-2 tracking-wide text-neutral-500 transition",onClick:bt(de=>Bt(o.key,"skog"),["stop"])},{default:L(()=>[n[60]||(n[60]=c("span",null,"Utveckling i skogen",-1)),g(y,{name:"i-heroicons-chevron-down",class:ae(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!Ie(o.key,"skog")}])},null,8,["class"])]),_:2},1032,["onClick"]),Ie(o.key,"skog")?(h(),V("p",{key:0,class:"text-sm text-neutral-800 leading-relaxed p-2 mb-2 bg-muted rounded",innerHTML:be(o.info.skog)},null,8,nu)):$("",!0)]),c("div",su,[g(k,{type:"button",variant:"ghost",color:"neutral",class:"flex w-full items-center gap-2 font-semibold tracking-wide text-neutral-500 transition",onClick:bt(de=>Bt(o.key,"svamp"),["stop"])},{default:L(()=>[n[61]||(n[61]=c("span",null,"Pverkan p mykorrhizasvampar",-1)),g(y,{name:"i-heroicons-chevron-down",class:ae(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!Ie(o.key,"svamp")}])},null,8,["class"])]),_:2},1032,["onClick"]),Ie(o.key,"svamp")?(h(),V("span",{key:0,class:"block text-sm text-neutral-800 leading-relaxed p-2 bg-muted rounded",innerHTML:be(o.info.svamp)},null,8,iu)):$("",!0)])])):(h(),V("div",lu,P(o.emptyMessage||Br),1))]))),128))]))]),default:L(()=>[g(k,{size:S(d)?"xl":"lg",label:S(d)?null:"Text",variant:"outline",color:"neutral",icon:"i-heroicons-book-open",class:"rounded-2xl"},null,8,["size","label"])]),_:1},8,["direction","inset","dismissible","handle","open"])]),c("div",ou,[g(ca,{direction:(S(d),"bottom"),inset:(S(d),!1),"handle-only":"",dismissible:!!S(d),overlay:!1,handle:!!S(d),modal:!1,open:lr.value,"onUpdate:open":n[9]||(n[9]=o=>lr.value=o),ui:{header:"flex items-center justify-between",body:"p-0",container:"p-0 gap-0",content:"max-w-[85rem] mx-auto",footer:"gap-0"}},{body:L(()=>[g(es,{parentSelectedFrameworks:te.value?[R.value.value,ge.value.value]:[R.value.value],currentTimeValue:gr.value,currentStartskog:Q.value.value},null,8,["parentSelectedFrameworks","currentTimeValue","currentStartskog"])]),default:L(()=>[g(k,{size:S(d)?"xl":"lg",label:S(d)?null:"Diagram",variant:"outline",color:"neutral",class:"rounded-2xl",icon:"i-carbon-chart-line-smooth"},null,8,["size","label"])]),_:1},8,["direction","inset","dismissible","handle","open"])])]),c("div",uu,[(h(!0),V(he,null,Ae(Vt.value,o=>(h(),V(he,{key:o.key},[_[o.key]?(h(),V("div",cu,[g($e,{label:o.title,color:"neutral",variant:"outline",class:"cursor-pointer shadow-sm sm:ml-1.5 w-fit",onClick:de=>z(o.key)},null,8,["label","onClick"])])):(h(),I(gt,{key:1,ui:{body:"p-3 sm:p-4"},class:"z-50 transform-all text-start"},{default:L(()=>[c("div",null,[c("div",null,[c("div",du,[c("div",fu,P(o.title),1),c("div",vu,[g(k,{color:"neutral",variant:"ghost",ui:{rounded:"rounded-full"},onClick:de=>z(o.key),icon:"i-solar-minimize-square-3-linear",size:"xs",class:ae(_[o.key]?"text-primary-500":"text-neutral-500 hover:text-neutral-900")},null,8,["onClick","class"]),g(k,{class:"text-neutral-500 hover:text-neutral-900",icon:"i-heroicons-x-mark",variant:"ghost",color:"neutral",size:"xs",onClick:de=>o.close()},null,8,["onClick"])])]),c("p",mu,P(o.desc),1)])]),o.key==="kanteffekt"&&oe.value?(h(),I(gt,{key:0,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"},class:"mt-2 backdrop-blur-xl bg-neutral-900/50 border border-white/10"},{default:L(()=>[g(Ve,{ui:{root:"flex-row-reverse justify-between",label:"text-white",description:"text-neutral-200",base:"data-[state=unchecked]:bg-neutral-600"},size:"xs",color:"primary",modelValue:le.value,"onUpdate:modelValue":n[10]||(n[10]=de=>le.value=de),label:"Tidigare kanteffekt",description:"Visa spr frn tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):$("",!0)]),_:2},1024))],64))),128))]),c("div",{class:ae(["relative overflow-auto transition-all duration-300 ease-in-out ",vt.value?"w-72 border-r border-neutral-300":"w-0"])},[vt.value?(h(),V("div",hu,[c("div",pu,[n[62]||(n[62]=c("h1",{class:"font-semibold text-lg"},"Instllningar",-1)),g(k,{icon:vt.value?"i-heroicons-chevron-left":"i-heroicons-chevron-right",variant:"outline",color:"neutral",class:"rounded-full left-4 z-10",onClick:n[11]||(n[11]=o=>vt.value=!vt.value)},null,8,["icon"])]),g(gt,{variant:"soft",ui:{body:"p-2 sm:p-3"},class:"mb-2"},{default:L(()=>[c("div",gu,[n[64]||(n[64]=c("div",{class:"text-xs text-neutral-500"},"UIzoom",-1)),c("div",_u,[g(k,{color:"neutral",variant:"soft",size:"xs",icon:"i-heroicons-minus",onClick:n[12]||(n[12]=o=>ve.value=Math.max(.75,+(ve.value-.1).toFixed(2)))}),c("div",bu,P(Math.round(ve.value*100))+"% ",1),g(k,{color:"neutral",variant:"soft",size:"xs",icon:"i-heroicons-plus",onClick:n[13]||(n[13]=o=>ve.value=Math.min(2,+(ve.value+.1).toFixed(2)))}),g(k,{color:"neutral",variant:"ghost",size:"xs",title:"terstll (100%)",onClick:n[14]||(n[14]=o=>ve.value=1)},{default:L(()=>[...n[63]||(n[63]=[Be(" Reset ",-1)])]),_:1})])])]),_:1}),te.value?(h(),V("div",ku,[g(qe,{size:"lg",items:it.value,modelValue:Se.value,"onUpdate:modelValue":n[15]||(n[15]=o=>Se.value=o),placeholder:R.value.label,"append-to-body":"",variant:"outline",class:"w-full"},{item:L(({item:o})=>[c("div",yu,[c("div",xu,P(o.label),1),o.description?(h(),V("div",wu,P(o.description),1)):$("",!0)])]),_:1},8,["items","modelValue","placeholder"]),g(qe,{size:"lg",items:it.value,modelValue:lt.value,"onUpdate:modelValue":n[16]||(n[16]=o=>lt.value=o),placeholder:ge.value.label,"append-to-body":"",variant:"outline",class:"w-full"},{item:L(({item:o})=>[c("div",Su,[c("div",Tu,P(o.label),1),o.description?(h(),V("div",Cu,P(o.description),1)):$("",!0)])]),_:1},8,["items","modelValue","placeholder"])])):(h(),V(he,{key:1},[n[65]||(n[65]=c("h1",{class:"text-xs text-neutral-400"},"Skogsbruksmetod",-1)),g(qe,{size:"xl",items:it.value,modelValue:Se.value,"onUpdate:modelValue":n[17]||(n[17]=o=>Se.value=o),placeholder:R.value.label,"append-to-body":"",variant:"subtle",class:"w-full"},{item:L(({item:o})=>[c("div",Lu,[c("div",Vu,P(o.label),1),o.description?(h(),V("div",Au,P(o.description),1)):$("",!0)])]),_:1},8,["items","modelValue","placeholder"])],64)),c("div",Mu,[c("div",zu,[c("div",Ou,[U.value||oe.value||xe.value?(h(),I(Ve,{key:0,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:G.value,"onUpdate:modelValue":n[18]||(n[18]=o=>G.value=o),label:"Hnsynstrd"},null,8,["modelValue"])):$("",!0),U.value||oe.value||xe.value?(h(),I(Ve,{key:1,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:J.value,"onUpdate:modelValue":n[19]||(n[19]=o=>J.value=o),label:"Kanteffekt"},null,8,["modelValue"])):$("",!0),g(Ve,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ce.value,"onUpdate:modelValue":n[20]||(n[20]=o=>ce.value=o),label:"Smplantor"},null,8,["modelValue"]),oe.value&&J.value?(h(),I(gt,{key:2,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"}},{default:L(()=>[g(Ve,{ui:{root:"flex-row-reverse justify-between"},size:"xs",color:"neutral",modelValue:le.value,"onUpdate:modelValue":n[21]||(n[21]=o=>le.value=o),label:"Tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):$("",!0),at.value||xe.value?(h(),I(Ve,{key:3,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ee.value,"onUpdate:modelValue":n[22]||(n[22]=o=>ee.value=o),label:"Kontinuerligt rottcke"},null,8,["modelValue"])):$("",!0),g(Ve,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:fe.value,"onUpdate:modelValue":n[23]||(n[23]=o=>fe.value=o),label:"Hgstubbar"},null,8,["modelValue"]),U.value||oe.value||at.value||xe.value?(h(),I(Ve,{key:4,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Z.value,"onUpdate:modelValue":n[24]||(n[24]=o=>Z.value=o),label:"Naturvrdsarter"},null,8,["modelValue"])):$("",!0),xe.value?(h(),I(Ve,{key:5,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ue.value,"onUpdate:modelValue":n[25]||(n[25]=o=>ue.value=o),label:"Frtrd"},null,8,["modelValue"])):$("",!0),g(Ve,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:pe.value,"onUpdate:modelValue":n[26]||(n[26]=o=>pe.value=o),label:"Trdplantor"},null,8,["modelValue"]),g(Ve,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:re.value,"onUpdate:modelValue":n[27]||(n[27]=o=>re.value=o),label:"Spara klick (dev)"},null,8,["modelValue"])])])])])):$("",!0)],2),c("div",Fu,[!ne.value&&!te.value?(h(),V("div",Du,[g(S(i),{"tradplantor-visible":pe.value,"naturvardsarter-visible":Z.value,"hogstubbar-visible":fe.value,"smaplantor-visible":ce.value,"dev-save-clicks":re.value,"seedTree-visible":ue.value,"rottacke-visible":ee.value,"retention-visible":G.value,"old-kanteffekt-visible":le.value,"kanteffekt-visible":J.value,"retention-trees":qa.value,onRetentionTreeAdded:n[28]||(n[28]=o=>qa.value.push(o)),fullscreenLayout:!0,currentFramework:R.value,currentTime:Le.value,currentStartskog:Q.value,layoutMode:D.value,ref_key:"singleViewerRef",ref:pt,frameworkLabel:R.value.label,timeLabel:_e.value,dziUrl:Pn.value,overlayDziUrl:ht.value,allowPan:!0,annotations:En.value?Qn.value:[],selectedAnnotation:zt.value,globalOpacity:we.value,"onUpdate:globalOpacity":n[29]||(n[29]=o=>we.value=o),onAnnotationClicked:In,class:"w-full h-full ui-zoom-exempt"},null,8,["tradplantor-visible","naturvardsarter-visible","hogstubbar-visible","smaplantor-visible","dev-save-clicks","seedTree-visible","rottacke-visible","retention-visible","old-kanteffekt-visible","kanteffekt-visible","retention-trees","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","annotations","selectedAnnotation","globalOpacity"]),g(ks,{name:"slide-out"},{default:L(()=>[zt.value?(h(),V("div",$u,[n[66]||(n[66]=c("div",{class:"h-64 flex items-center justify-center text-neutral-300"}," Bild kommer snart ",-1)),g(k,{color:"white",ui:{rounded:"rounded-full"},icon:"heroicons:x-mark",onClick:Hn,class:"absolute top-2 right-2"}),c("div",ju,[c("h3",Eu,P(zt.value.title),1),c("p",Bu,P(zt.value.text),1)])])):$("",!0)]),_:1})])):ne.value?(h(),I(_r,{key:1,class:"w-full",ref_key:"comparisonSliderRef",ref:ke,frameworkLabel:R.value.label,timeLabel:"Fre avverkning",frameworkLabel2:R.value.label,timeLabel2:_e.value,layoutMode:D.value},{first:L(()=>[Mt.value?(h(),I(S(i),{key:1,"naturvardsarter-visible":Z.value,fullscreenLayout:!0,currentFramework:R.value,currentTime:"innan",currentStartskog:Q.value,layoutMode:D.value,ref_key:"beforeViewerRef",ref:ze,comparisonMode:!0,frameworkLabel:R.value.label,timeLabel:"Fre avverkning",dziUrl:ar.value,overlayDziUrl:cr.value,allowPan:!0,onOpened:n[32]||(n[32]=o=>He("before")),onActivated:n[33]||(n[33]=o=>Ee.value.valueOf="before"),globalOpacity:we.value,"onUpdate:globalOpacity":n[34]||(n[34]=o=>we.value=o),class:"w-full h-full"},null,8,["naturvardsarter-visible","currentFramework","currentStartskog","layoutMode","frameworkLabel","dziUrl","overlayDziUrl","globalOpacity"])):(h(),I(S(i),{key:0,"naturvardsarter-visible":Z.value,fullscreenLayout:!0,currentFramework:R.value,currentTime:"innan",currentStartskog:Q.value,layoutMode:D.value,ref_key:"beforeViewerRef",ref:ze,comparisonMode:!0,frameworkLabel:R.value.label,timeLabel:"Fre avverkning",dziUrl:ar.value,overlayDziUrl:cr.value,allowPan:!0,onOpened:n[30]||(n[30]=o=>He("before")),onActivated:n[31]||(n[31]=o=>Ee.value.valueOf="before"),class:"w-full h-full"},null,8,["naturvardsarter-visible","currentFramework","currentStartskog","layoutMode","frameworkLabel","dziUrl","overlayDziUrl"]))]),second:L(()=>[Mt.value?(h(),I(S(i),{key:1,"naturvardsarter-visible":Z.value,fullscreenLayout:!0,currentFramework:R.value,currentTime:Le.value,currentStartskog:Q.value,layoutMode:D.value,ref_key:"afterViewerRef",ref:Oe,comparisonMode:!0,frameworkLabel:R.value.label,timeLabel:_e.value,dziUrl:rr.value,overlayDziUrl:ht.value,allowPan:!0,sliderPosition:"right",onOpened:n[37]||(n[37]=o=>He("after")),onActivated:n[38]||(n[38]=o=>Ee.value.valueOf="after"),globalOpacity:we.value,"onUpdate:globalOpacity":n[39]||(n[39]=o=>we.value=o),class:"w-full h-full"},null,8,["naturvardsarter-visible","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","globalOpacity"])):(h(),I(S(i),{key:0,"naturvardsarter-visible":Z.value,fullscreenLayout:!0,currentFramework:R.value,currentTime:Le.value,currentStartskog:Q.value,layoutMode:D.value,ref_key:"afterViewerRef",ref:Oe,comparisonMode:!0,frameworkLabel:R.value.label,timeLabel:_e.value,dziUrl:rr.value,overlayDziUrl:ht.value,allowPan:!0,sliderPosition:"right",onOpened:n[35]||(n[35]=o=>He("after")),onActivated:n[36]||(n[36]=o=>Ee.value.valueOf="after"),class:"w-full h-full"},null,8,["naturvardsarter-visible","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl"]))]),_:1},8,["frameworkLabel","frameworkLabel2","timeLabel2","layoutMode"])):te.value?(h(),I(_r,{key:2,ref_key:"comparisonSliderRef",ref:ke,frameworkLabel:R.value.label,timeLabel:_e.value,frameworkLabel2:ge.value.label,timeLabel2:_e.value,layoutMode:D.value,class:"w-full"},{first:L(()=>[Mt.value?(h(),I(S(i),{key:1,"naturvardsarter-visible":Z.value,fullscreenLayout:!0,currentFramework:R.value,currentTime:Le.value,currentStartskog:Q.value,layoutMode:D.value,ref_key:"framework1ViewerRef",ref:Fe,comparisonMode:!0,frameworkLabel:R.value.label,timeLabel:_e.value,dziUrl:nr.value,overlayDziUrl:ht.value,allowPan:!ne.value&&!te.value,globalOpacity:we.value,"onUpdate:globalOpacity":n[43]||(n[43]=o=>we.value=o),onViewportChanged:n[44]||(n[44]=o=>Rt("framework1",o)),onOpened:n[45]||(n[45]=o=>He("framework1")),onActivated:n[46]||(n[46]=o=>Ee.value.valueOf="framework1"),class:"w-full h-full"},null,8,["naturvardsarter-visible","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan","globalOpacity"])):(h(),I(S(i),{key:0,"naturvardsarter-visible":Z.value,fullscreenLayout:!0,currentFramework:R.value,currentTime:Le.value,currentStartskog:Q.value,layoutMode:D.value,ref_key:"framework1ViewerRef",ref:Fe,comparisonMode:!0,frameworkLabel:R.value.label,timeLabel:_e.value,dziUrl:nr.value,overlayDziUrl:ht.value,allowPan:!ne.value&&!te.value,onViewportChanged:n[40]||(n[40]=o=>Rt("framework1",o)),onOpened:n[41]||(n[41]=o=>He("framework1")),onActivated:n[42]||(n[42]=o=>Ee.value.valueOf="framework1"),class:"w-full h-full"},null,8,["naturvardsarter-visible","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan"]))]),second:L(()=>[Mt.value?(h(),I(S(i),{key:1,"naturvardsarter-visible":Z.value,fullscreenLayout:!0,currentFramework:ge.value,currentTime:Le.value,currentStartskog:Q.value,layoutMode:D.value,ref_key:"framework2ViewerRef",ref:De,comparisonMode:!0,frameworkLabel:ge.value.label,timeLabel:_e.value,dziUrl:sr.value,overlayDziUrl:dr.value,globalOpacity:we.value,"onUpdate:globalOpacity":n[50]||(n[50]=o=>we.value=o),allowPan:!ne.value&&!te.value,sliderPosition:"right",onViewportChanged:n[51]||(n[51]=o=>Rt("framework2",o)),onOpened:n[52]||(n[52]=o=>He("framework2")),onActivated:n[53]||(n[53]=o=>Ee.value.valueOf="framework2"),class:"w-full h-full"},null,8,["naturvardsarter-visible","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","globalOpacity","allowPan"])):(h(),I(S(i),{key:0,"naturvardsarter-visible":Z.value,fullscreenLayout:!0,currentFramework:ge.value,currentTime:Le.value,currentStartskog:Q.value,layoutMode:D.value,ref_key:"framework2ViewerRef",ref:De,comparisonMode:!0,frameworkLabel:ge.value.label,timeLabel:_e.value,dziUrl:sr.value,overlayDziUrl:dr.value,allowPan:!ne.value&&!te.value,sliderPosition:"right",onViewportChanged:n[47]||(n[47]=o=>Rt("framework2",o)),onOpened:n[48]||(n[48]=o=>He("framework2")),onActivated:n[49]||(n[49]=o=>Ee.value.valueOf="framework2"),class:"w-full h-full"},null,8,["naturvardsarter-visible","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan"]))]),_:1},8,["frameworkLabel","timeLabel","frameworkLabel2","timeLabel2","layoutMode"])):$("",!0)]),jn.value?$("",!0):(h(),V("div",Ru,[c("div",Uu,[!ne.value&&!te.value?(h(),V("div",Nu,[c("div",{class:"p-3 group text-base/7",onClick:Ke},[g(Ye,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:L(()=>[c("div",Iu,[(h(),V(he,null,Ae(Pe,(o,de)=>c("div",{key:o.id,onClick:da=>Se.value=de,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[c("div",null,[c("div",qu,P(o.label),1),c("div",Yu,P(o.text),1)])],8,Hu)),64))])]),default:L(()=>[c("h2",Pu,P(R.value.label),1)]),_:1}),c("div",Gu,[c("h3",Zu,P(_e.value),1),g(k,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",color:"neutral",variant:"soft",size:"xs",label:K.value?"Dlj info":"Visa info",onClick:We},null,8,["label"])]),K.value&&Te.value?(h(),V("div",Wu,[c("p",{class:"mb-4 text-neutral-50",innerHTML:be(Te.value.skog)},null,8,Xu),c("div",null,[n[67]||(n[67]=c("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),c("span",{class:"text-neutral-50",innerHTML:be(Te.value.svamp)},null,8,Ku)])])):K.value?(h(),V("div",Qu," Ingen tidslinjeinformation hittades fr den hr kombinationen. ")):$("",!0)])])):ne.value?(h(),V("div",Ju,[jt.value?(h(),V("div",{key:0,class:"p-3 group text-base/7",onClick:Ke},[g(Ye,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:L(()=>[c("div",tc,[(h(),V(he,null,Ae(Pe,(o,de)=>c("div",{key:o.id,onClick:da=>Se.value=de,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[c("div",null,[c("div",rc,P(o.label),1),c("div",nc,P(o.text),1)])],8,ac)),64))])]),default:L(()=>[c("h2",ec,P(R.value.label),1)]),_:1}),c("div",sc,[n[68]||(n[68]=c("h3",{class:"text-md text-neutral-200"}," Fre avverkning ",-1)),g(k,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:K.value?"Dlj info":"Visa info",onClick:We},null,8,["label"])]),K.value?(h(),V("div",ic,[c("p",{class:"mb-2 text-neutral-50",innerHTML:be(jt.value.skog)},null,8,lc),c("div",null,[n[69]||(n[69]=c("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),c("span",{class:"text-neutral-50",innerHTML:be(jt.value.svamp)},null,8,oc)])])):$("",!0)])):$("",!0),Te.value?(h(),V("div",{key:1,class:"p-4 group border border-neutral-200/10 rounded-sm shadow bg-neutral-950/20",onClick:Ke},[c("div",uc,[c("h3",cc,P(_e.value),1),g(k,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:Ce.value?"Dlj info":"Visa info",onClick:Tt},null,8,["label"])]),Ce.value?(h(),V("div",dc,[c("p",{class:"mb-2 text-neutral-50",innerHTML:be(Te.value.skog)},null,8,fc),c("div",null,[n[70]||(n[70]=c("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),c("span",{class:"text-neutral-50",innerHTML:be(Te.value.svamp)},null,8,vc)])])):$("",!0)])):$("",!0)])):te.value?(h(),V("div",mc,[Te.value?(h(),V("div",{key:0,class:"p-3 group text-base/7",onClick:Ke},[g(Ye,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:L(()=>[c("div",pc,[(h(),V(he,null,Ae(Pe,(o,de)=>c("div",{key:o.id,onClick:da=>Se.value=de,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[c("div",null,[c("div",_c,P(o.label),1),c("div",bc,P(o.text),1)])],8,gc)),64))])]),default:L(()=>[c("h2",hc,P(R.value.label),1)]),_:1}),c("div",kc,[c("h3",yc,P(_e.value),1),g(k,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:K.value?"Dlj info":"Visa info",onClick:We},null,8,["label"])]),K.value?(h(),V("div",xc,[c("p",{class:"mb-2 text-neutral-50",innerHTML:be(Te.value.skog)},null,8,wc),c("div",null,[n[71]||(n[71]=c("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),c("span",{class:"text-neutral-50",innerHTML:be(Te.value.svamp)},null,8,Sc)])])):$("",!0)])):$("",!0),$t.value?(h(),V("div",{key:1,class:"p-4 group border border-neutral-200/10 rounded-sm shadow bg-neutral-950/20",onClick:Ke},[g(Ye,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:L(()=>[c("div",Cc,[(h(),V(he,null,Ae(Pe,(o,de)=>c("div",{key:"framework2-"+o.id,onClick:da=>lt.value=de,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[c("div",null,[c("div",Vc,P(o.label),1),c("div",Ac,P(o.text),1)])],8,Lc)),64))])]),default:L(()=>[c("h2",Tc,P(ge.value.label),1)]),_:1}),c("div",Mc,[c("h3",zc,P(_e.value),1),g(k,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:Ce.value?"Dlj info":"Visa info",onClick:Tt},null,8,["label"])]),Ce.value?(h(),V("div",Oc,[c("p",{class:"mb-2 text-neutral-50",innerHTML:be($t.value.skog)},null,8,Fc),c("div",null,[n[72]||(n[72]=c("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),c("span",{class:"text-neutral-50",innerHTML:be($t.value.svamp)},null,8,Dc)])])):$("",!0)])):$("",!0)])):$("",!0),c("div",$c,[c("div",jc,[Cn.value?(h(),I(k,{key:0,size:"xl",onClick:On,variant:"ghost",class:"text-white hover:bg-neutral-500/20 w-full",label:Vn.value,icon:"i-heroicons-arrow-left-circle"},null,8,["label"])):$("",!0)]),c("div",Ec,[Ln.value?(h(),I(k,{key:0,size:"xl",onClick:Fn,variant:"ghost",class:"w-full text-white hover:bg-neutral-500/20 flex justify-end",trailing:"",label:An.value,icon:"i-heroicons-arrow-right-circle"},null,8,["label"])):$("",!0)])])])]))])])])}}}),Rc=Object.assign(Ir(Bc,[["__scopeId","data-v-e1e05222"]]),{__name:"Model"}),Uc={key:0,class:"flex-1"},Nc=["onClick"],Pc={class:"text-lg p-2 px-3 font-medium"},Ic={class:"w-full ring ring-muted/50 rounded relative overflow-hidden shadow"},Hc={class:"sm:grid grid-cols-2"},qc={class:"px-6 sm:px-12 sm:border-r border-muted/50"},Yc={class:"my-4 text-3xl sm:text-4xl font-medium text-neutral-900"},Gc={class:"px-6 sm:px-12"},Zc={class:"p-6 pb-2"},Wc={class:"font-semibold"},Xc={class:"lg:flex gap-4 space-y-2 lg:space-y-0"},Kc=["src"],Qc={class:"w-full px-6 border border-muted/50 bg-muted/50 rounded h-fit"},Jc={class:"w-full bg-white px-6 border border-muted/50 rounded h-fit"},ed={class:"bg-muted border-t border-muted mt-18"},td=Re({__name:"index",async setup(e){let t,a;const{data:r}=([t,a]=xt(()=>wt("skogsskotsel",()=>St("skogsskotsel").first())),t=await t,a(),t);if(!r.value)throw xs({statusCode:404,statusMessage:"Page not found",fatal:!0});const i=O=>{const x=O?.toLowerCase?.()??"";return x==="intekalavverkad"?"naturskog":x==="produktionsskog"?"produktionsskog_":O},l=O=>(O?.toLowerCase?.()??"")==="ingenatgard"?"naturskydd":O,f=O=>{const x=String(O).trim().toLowerCase();return x.includes("efter")?"efter":x.includes("innan")||x.includes("fre")||x.includes("fore")?"fore":x.replace(/[^0-9]/g,"")||x},u=(O,x,M)=>{const p=D=>D.trim().normalize("NFD").replace(//gi,"a").replace(//gi,"a").replace(//gi,"o").replace(new RegExp("\\p{Diacritic}+","gu"),"").toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,"");return`/images/thumbnails/${`${p(O)}_${f(String(x))}_visa_visa_${p(M)}.webp`}`},{data:d}=([t,a]=xt(()=>wt("forestry-timeline-skogsskotsel",()=>St("forestryTimelines").first())),t=await t,a(),t),A=b(()=>{const O=d.value?.entries??[],x=F.value.id,M=l(x);return O.map(p=>({...p,startskog:i(p.startskog),atgard:l(p.atgard)})).filter(p=>p.startskog==="naturskog"&&p.atgard===M).map(p=>({tid:p.tid,skog:p.skog,svamp:p.svamp,thumb:u(p.atgard,p.tid,p.startskog)}))}),v=C([{label:"Diagram",icon:"i-heroicons-presentation-chart-line",slot:"diagram"},{label:"Tidslinje",icon:"i-heroicons-list-bullet",slot:"timeline"},{label:"Text",icon:"i-heroicons-book-open",slot:"text"}]),m=b(()=>r.value?.methods??[]),j={id:"",title:"",image:"",shortdescription:"",description:"",descriptionsvamp:""},E=C("");ws(()=>{const O=m.value[0];O&&!E.value&&(E.value=O.id)});const F=b(()=>{const O=m.value;return O.length?O.find(x=>x.id===E.value)??O[0]:j});return(O,x)=>{const M=Ma,p=Ls,T=Rc,D=Cs,re=Ks,G=Ss,J=za,le=Vs,Z=Qs,ee=Js,ue=As,ce=Tn,fe=ei,pe=qr,ve=ti;return S(r)?(h(),V("div",Uc,[g(G,{class:"w-full px-0"},{default:L(()=>[g(re,{ui:{container:"py-12 lg:py-24",title:"sm:text-7xl",headline:"text-neutral"},title:S(r).hero.title,description:S(r).hero.description,orientation:S(r).hero.orientation,class:""},Ts({_:2},[S(r)?.hero?.links?.[0]?{name:"links",fn:L(()=>[g(D,{fullscreen:""},{content:L(()=>[g(T)]),default:L(()=>[g(p,{color:"warning",size:"2xl"},{default:L(()=>[g(M,{label:S(r).hero.links[0].label,size:S(r).hero.links[0].size,color:S(r).hero.links[0].color,icon:S(r).hero.links[0].icon},null,8,["label","size","color","icon"])]),_:1})]),_:1})]),key:"0"}:void 0]),1032,["title","description","orientation"])]),_:1}),g(G,{class:"w-full flex justify-between py-4 gap-6 overflow-scroll lg:overflow-hidden"},{default:L(()=>[(h(!0),V(he,null,Ae(m.value,K=>(h(),I(Z,{key:K.id,class:"relative",initial:{scale:1,transform:"translateY(10px)",opacity:0},animate:{scale:1,transform:"translateY(0px)",opacity:1},transition:{duration:.3,delay:.3+.05*(K.index??0)}},{default:L(()=>[c("div",{onClick:Ce=>E.value=K.id,class:ae(["shrink-0 lg:shrink w-58 lg:w-full bg-white transition-all hover:opacity-100 border border-muted/50 overflow-hidden rounded h-fit shadow hover:shadow-md relative cursor-pointer",E.value===K.id?"opacity-100":"opacity-30"])},[K.type?(h(),I(J,{key:0,class:"absolute top-2 left-2",label:K.type,color:"neutral",variant:"subtle"},null,8,["label"])):$("",!0),g(le,{src:K.image,width:"300",height:"160",class:"w-full h-full"},null,8,["src"]),c("h1",Pc,P(K.title),1)],10,Nc)]),_:2},1032,["transition"]))),128))]),_:1}),g(G,{class:"w-full pt-2 px-0 sm:px-6"},{default:L(()=>[g(Z,{class:"flex justify-center w-full",initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0px)"},transition:{duration:.5,delay:1}},{default:L(()=>[c("div",Ic,[g(pe,{ui:{list:"p-2 justify-center sm:justify-start",root:""},items:v.value,color:"primary",size:"md",class:"w-full",variant:"link"},{text:L(()=>[g(ue,{class:"pt-4 sm:p-6"},{default:L(()=>[c("div",Hc,[c("div",qc,[c("h1",Yc,P(F.value.title),1),g(ee,{class:"text-lg text-neutral-800 mb-8",value:F.value.description},null,8,["value"])]),c("div",Gc,[x[0]||(x[0]=c("h1",{class:"my-4 text-2xl font-medium text-neutral-900"},"Pverkan p mykorrhizasvampar ",-1)),g(ee,{class:"text-lg text-neutral-800",value:F.value.descriptionsvamp},null,8,["value"])])])]),_:1})]),diagram:L(()=>[g(ce,{parentSelectedFrameworks:[F.value.id],currentStartskog:"naturskog"},null,8,["parentSelectedFrameworks"])]),timeline:L(()=>[c("div",Zc,[g(fe,{items:A.value,size:"3xs",ui:{indicator:"bg-neutral-200/50 ",separator:"bg-neutral-200/50",description:"p-0 mt-2 text-default"}},{title:L(({item:K})=>[c("span",Wc,P(K.tid),1)]),description:L(({item:K})=>[c("div",Xc,[c("img",{src:K.thumb,class:"w-80 h-fit rounded"},null,8,Kc),c("div",Qc,[g(ee,{value:K.skog},null,8,["value"])]),c("div",Jc,[g(ee,{value:K.svamp},null,8,["value"])])])]),_:1},8,["items"])])]),_:1},8,["items"])])]),_:1})]),_:1}),c("div",ed,[g(ve,{section:S(r).carousel},null,8,["section"])])])):$("",!0)}}}),vd=Object.freeze(Object.defineProperty({__proto__:null,default:td},Symbol.toStringTag,{value:"Module"}));export{Vo as a,vd as i,Lo as u};
