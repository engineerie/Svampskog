import{H as re,c as Le,i as Qt,I as hn,s as At,x as wo,X as Vn,O as Ln,a as In,d as An,g as Ee,m as Et,k as ko,b as rt,y as _o,f as bn,j as qe,e as Je,o as xo,n as Co,u as Ut,A as Ro,t as $o,J as yn,K as Fo,L as Po,M as Vo,N as Lo,E as en,F as tn,C as Io,Q as Ao,_ as Eo,S as To,G as Sn}from"./DKEXpoYC.js";import{B as $e,$ as Ke,N as G,e as h,w as E,O as ae,ai as oe,Z as he,P as k,Q as Be,C as No,D as Mo,J as zo,W as A,as as yt,at as St,t as ne,aJ as nn,r as W,d as V,o as et,L as on,c as kt,K as ue,_ as Me,h as R,g as w,aP as an,f as O,an as Te,aC as _t,n as Y,af as Ce,aR as Do,V as Bo,T as De,a5 as xt,a7 as rn,z as Ct,bm as Oo,bn as Ht,a8 as ln,bo as En,a$ as Go,bp as jo,ao as qo,ah as ot,F as pe,ag as ve,aq as Uo,bq as Ae,az as Tn,ae as Nn,aj as Mn,ak as Ho,al as Ko,am as Wo,a9 as zn,ac as Xo,ab as Qe,br as Yo,bs as Zo,bt as Jo,au as Qo,bu as ea,b9 as ta,bv as ee,a4 as na,bw as Dn,a6 as Pe,aU as Tt,aN as Xe,aT as Bn,ad as oa,bx as aa,aM as On,bh as ia,by as ra,aD as la,aE as sa,aF as ua,aI as da,bz as Gn,av as ca,aH as jn}from"#entry";import{_ as ga}from"./CLXvnhB8.js";import{a as tt,_ as qn}from"./CQsjKb-3.js";import{c as Un,b as pa}from"./4db8GiB7.js";import{u as Rt,_ as fa}from"./Co6vMiaO.js";import{_ as ma,a as va,b as ha}from"./0p_Ai30S.js";import{_ as $t}from"./CCgS_u6R.js";import{_ as Hn}from"./BcvR5Ofh.js";import{u as Oe}from"./Dm3SEL7P.js";import"./Cpj98o6Y.js";import"./DBzJlu46.js";import"./wHDpdQR8.js";import"./CJNWtRw5.js";import"./cnMxw3XX.js";import"./iik6CYzq.js";import"./CGRtDSyY.js";var ba=$e({__name:"PaginationEllipsis",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return Ke(),(t,o)=>(h(),G(k(Be),he(n,{"data-type":"ellipsis"}),{default:E(()=>[ae(t.$slots,"default",{},()=>[o[0]||(o[0]=oe("…"))])]),_:3},16))}}),ya=ba;const[nt,Sa]=No("PaginationRoot");var wa=$e({__name:"PaginationRoot",props:{page:{type:Number,required:!1},defaultPage:{type:Number,required:!1,default:1},itemsPerPage:{type:Number,required:!0},total:{type:Number,required:!1,default:0},siblingCount:{type:Number,required:!1,default:2},disabled:{type:Boolean,required:!1},showEdges:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"nav"}},emits:["update:page"],setup(e,{emit:n}){const t=e,o=n,{siblingCount:a,disabled:i,showEdges:r}=Mo(t);Ke();const s=zo(t,"page",o,{defaultValue:t.defaultPage,passive:t.page===void 0}),l=A(()=>Math.max(1,Math.ceil(t.total/(t.itemsPerPage||1))));return Sa({page:s,onPageChange(d){s.value=d},pageCount:l,siblingCount:a,disabled:i,showEdges:r}),(d,p)=>(h(),G(k(Be),{as:d.as,"as-child":d.asChild},{default:E(()=>[ae(d.$slots,"default",{page:k(s),pageCount:l.value})]),_:3},8,["as","as-child"]))}}),ka=wa,_a=$e({__name:"PaginationFirst",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e,t=nt();Ke();const o=A(()=>t.page.value===1||t.disabled.value);return(a,i)=>(h(),G(k(Be),he(n,{"aria-label":"First Page",type:a.as==="button"?"button":void 0,disabled:o.value,onClick:i[0]||(i[0]=r=>!o.value&&k(t).onPageChange(1))}),{default:E(()=>[ae(a.$slots,"default",{},()=>[i[1]||(i[1]=oe("First page"))])]),_:3},16,["type","disabled"]))}}),xa=_a,Ca=$e({__name:"PaginationLast",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e,t=nt();Ke();const o=A(()=>t.page.value===t.pageCount.value||t.disabled.value);return(a,i)=>(h(),G(k(Be),he(n,{"aria-label":"Last Page",type:a.as==="button"?"button":void 0,disabled:o.value,onClick:i[0]||(i[0]=r=>!o.value&&k(t).onPageChange(k(t).pageCount.value))}),{default:E(()=>[ae(a.$slots,"default",{},()=>[i[1]||(i[1]=oe("Last page"))])]),_:3},16,["type","disabled"]))}}),Ra=Ca;function je(e,n){const t=n-e+1;return Array.from({length:t},(o,a)=>a+e)}function $a(e){return e.map(n=>typeof n=="number"?{type:"page",value:n}:{type:"ellipsis"})}const ct="ellipsis";function Fa(e,n,t,o){const i=n,r=Math.max(e-t,1),s=Math.min(e+t,i);if(o){const d=Math.min(2*t+5,n)-2,p=r>3&&Math.abs(i-d-1+1)>2&&Math.abs(r-1)>2,y=s<i-2&&Math.abs(i-d)>2&&Math.abs(i-s)>2;if(!p&&y)return[...je(1,d),ct,i];if(p&&!y){const u=je(i-d+1,i);return[1,ct,...u]}if(p&&y){const u=je(r,s);return[1,ct,...u,ct,i]}return je(1,i)}else{const l=t*2+1;return n<l?je(1,i):e<=t+1?je(1,l):n-e<=t?je(n-l+1,i):je(r,s)}}var Pa=$e({__name:"PaginationList",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;Ke();const t=nt(),o=A(()=>$a(Fa(t.page.value,t.pageCount.value,t.siblingCount.value,t.showEdges.value)));return(a,i)=>(h(),G(k(Be),yt(St(n)),{default:E(()=>[ae(a.$slots,"default",{items:o.value})]),_:3},16))}}),Va=Pa,La=$e({__name:"PaginationListItem",props:{value:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e;Ke();const t=nt(),o=A(()=>t.page.value===n.value),a=A(()=>t.disabled.value);return(i,r)=>(h(),G(k(Be),he(n,{"data-type":"page","aria-label":`Page ${i.value}`,"aria-current":o.value?"page":void 0,"data-selected":o.value?"true":void 0,disabled:a.value,type:i.as==="button"?"button":void 0,onClick:r[0]||(r[0]=s=>!a.value&&k(t).onPageChange(i.value))}),{default:E(()=>[ae(i.$slots,"default",{},()=>[oe(ne(i.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),Ia=La,Aa=$e({__name:"PaginationNext",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e;Ke();const t=nt(),o=A(()=>t.page.value===t.pageCount.value||t.disabled.value);return(a,i)=>(h(),G(k(Be),he(n,{"aria-label":"Next Page",type:a.as==="button"?"button":void 0,disabled:o.value,onClick:i[0]||(i[0]=r=>!o.value&&k(t).onPageChange(k(t).page.value+1))}),{default:E(()=>[ae(a.$slots,"default",{},()=>[i[1]||(i[1]=oe("Next page"))])]),_:3},16,["type","disabled"]))}}),Ea=Aa,Ta=$e({__name:"PaginationPrev",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e;Ke();const t=nt(),o=A(()=>t.page.value===1||t.disabled.value);return(a,i)=>(h(),G(k(Be),he(n,{"aria-label":"Previous Page",type:a.as==="button"?"button":void 0,disabled:o.value,onClick:i[0]||(i[0]=r=>!o.value&&k(t).onPageChange(k(t).page.value-1))}),{default:E(()=>[ae(a.$slots,"default",{},()=>[i[1]||(i[1]=oe("Prev page"))])]),_:3},16,["type","disabled"]))}}),Na=Ta;function Ma(e){let n;for(;n=e.sourceEvent;)e=n;return e}function wt(e,n){if(e=Ma(e),n===void 0&&(n=e.currentTarget),n){var t=n.ownerSVGElement||n;if(t.createSVGPoint){var o=t.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(n.getScreenCTM().inverse()),[o.x,o.y]}if(n.getBoundingClientRect){var a=n.getBoundingClientRect();return[e.clientX-a.left-n.clientLeft,e.clientY-a.top-n.clientTop]}}return[e.pageX,e.pageY]}const wn=e=>+e,za={components:[],container:void 0,followCursor:!0,allowHover:!1,horizontalPlacement:re.Auto,horizontalShift:0,verticalPlacement:re.Top,verticalShift:0,attributes:{},triggers:{},className:void 0,showDelay:void 0,hideDelay:void 0},Ft=Le`
  label: tooltip;
  display: inline-block;
  left: 0;
  bottom: 0;
  min-width: max-content;
  position: absolute;
  opacity: 0;
  transition: opacity;
  transition-duration: var(--vis-tooltip-transition-duration);
  z-index: 999999;
  padding: var(--vis-tooltip-padding);
  color: var(--vis-tooltip-text-color);
  border-radius: var(--vis-tooltip-border-radius);
  box-shadow: var(--vis-tooltip-box-shadow);
  border: solid 1px var(--vis-tooltip-border-color);
  background-color: var(--vis-tooltip-background-color);
  backdrop-filter: var(--vis-tooltip-backdrop-filter);
`,Da=Ft,Ba=Qt`
  :root {
    --vis-tooltip-background-color: rgba(255, 255, 255, 0.95);
    --vis-tooltip-border-color: #e5e9f7;
    --vis-tooltip-text-color: #000;
    --vis-tooltip-shadow-color: rgba(172, 179, 184, 0.35);
    --vis-tooltip-backdrop-filter: none;
    --vis-tooltip-padding: 10px 15px;
    --vis-tooltip-border-radius: 5px;
    --vis-tooltip-transition-duration: 300ms;
    --vis-tooltip-box-shadow: none;

    --vis-dark-tooltip-background-color: rgba(30,30,30, 0.95);
    --vis-dark-tooltip-text-color: #e5e9f7;
    --vis-dark-tooltip-border-color: var(--vis-color-grey);
    --vis-dark-tooltip-shadow-color: rgba(0,0,0, 0.95);
  }

  body.theme-dark ${`.${Ft}`} {
    --vis-tooltip-background-color: var(--vis-dark-tooltip-background-color);
    --vis-tooltip-text-color: var(--vis-dark-tooltip-text-color);
    --vis-tooltip-border-color: var(--vis-dark-tooltip-border-color);
    --vis-tooltip-shadow-color: var(--vis-dark-tooltip-shadow-color);
  }

  body.theme-dark {
    --vis-tooltip-background-color: rgba(30,30,30, 0.95);
    --vis-tooltip-text-color: #e5e9f7;
    --vis-tooltip-border-color: var(--vis-color-grey);
    --vis-tooltip-shadow-color: rgba(0,0,0, 0.95);
  }
`,Kn=Le`
  bottom: unset;
  position: fixed;
`,vt=Le`
  opacity: 1;
`,ht=Le`
  display: none;
`,Wn=Le`
  label: non-interactive;
  pointer-events: none;
  user-select: none;
`,Oa=Object.freeze(Object.defineProperty({__proto__:null,hidden:ht,nonInteractive:Wn,positionFixed:Kn,root:Ft,show:vt,tooltip:Da,variables:Ba},Symbol.toStringTag,{value:"Module"}));class Xn{constructor(n={}){this._defaultConfig=za,this.config=this._defaultConfig,this._setUpEventsThrottled=hn(this._setUpEvents,500),this._setContainerPositionThrottled=hn(this._setContainerPosition,500),this._isShown=!1,this.element=document.createElement("div"),this.div=At(this.element).attr("class",Ft).classed(vt,!1).classed(ht,!0),this.setConfig(n),this.components=this.config.components,this._mutationObserver=new MutationObserver(()=>{this._isShown&&(!this.config.followCursor&&this._hoveredElement?this.placeByElement(this._hoveredElement):this._position&&this.place({x:this._position[0],y:this._position[1]}))}),this._mutationObserver.observe(this.div.node(),{childList:!0,subtree:!0})}setConfig(n){var t;this.prevConfig=this.config,this.config=wo(this._defaultConfig,n),this.prevConfig.horizontalPlacement!==this.config.horizontalPlacement&&this.overrideHorizontalPlacement(void 0),this.config.container&&this.config.container!==((t=this.prevConfig)===null||t===void 0?void 0:t.container)&&this.setContainer(this.config.container),this._setUpAttributes()}setContainer(n){var t;(t=this.element.parentNode)===null||t===void 0||t.removeChild(this.element),this._container=n,this._container.appendChild(this.element),this._setContainerPositionThrottled()}getContainer(){return this._container}hasContainer(){return!!this._container&&this._container.isConnected}setComponents(n){this.components=n}update(){this._container&&this._setUpEventsThrottled()}show(n,t){this.render(n),this.place(t)}_hide(){this.div.classed(vt,!1).on("transitionend",()=>{this.div.classed(ht,!this._isShown)}),this._isShown=!1}hide(){window.clearTimeout(this._showDelayTimeoutId),this.config.hideDelay?(window.clearTimeout(this._hideDelayTimeoutId),this._hideDelayTimeoutId=setTimeout(()=>this._hide(),this.config.hideDelay)):this._hide()}_display(){window.clearTimeout(this._hideDelayTimeoutId),this.div.classed(ht,!1).classed(vt,!0),this._isShown=!0}display(){this._isShown||(this.config.showDelay?(window.clearTimeout(this._showDelayTimeoutId),this._showDelayTimeoutId=setTimeout(()=>{this._display(),this.place({x:this._position[0],y:this._position[1]})},this.config.showDelay)):this._display())}place(n){if(this._position=[n.x,n.y],!this.hasContainer()){console.warn("Unovis | Tooltip: Container was not set or is not initialized yet");return}const{config:t}=this,o=this.element.offsetWidth,a=this.element.offsetHeight,i=this._overriddenHorizontalPlacement||(t.horizontalPlacement===re.Auto?re.Center:t.horizontalPlacement),r=t.verticalPlacement===re.Auto?n.y-a<0?re.Bottom:re.Top:t.verticalPlacement,s=5,l=i===re.Left?-o-s-t.horizontalShift:i===re.Center?-o/2:s+t.horizontalShift,d=r===re.Bottom?s+t.verticalShift:r===re.Center?-a/2:-s-t.verticalShift-a,[p,y]=this._constraintPosToContainer(n.x+l,n.y+d,o,a);this._applyPosition(p,y,a)}placeByElement(n){const{config:t}=this;this._hoveredElement=n;const o=5,a=this.element.offsetWidth,i=this.element.offsetHeight,r=this.isContainerBody(),s=r?window.innerWidth:this._container.scrollWidth,l=n.getBoundingClientRect(),d=r?[l.x,l.y]:wt({clientX:l.x,clientY:l.y,pageX:l.x,pageY:l.y},this._container),p=this._overriddenHorizontalPlacement||(t.horizontalPlacement===re.Auto?d[0]-a<0?re.Right:d[0]+a>s?re.Left:re.Center:t.horizontalPlacement);let y=0;switch(p){case re.Left:y=-a-o-t.horizontalShift;break;case re.Right:y=l.width+o+t.horizontalShift;break;case re.Center:default:y=(-a+l.width)/2;break}const c=t.verticalPlacement===re.Auto?p!==re.Center?re.Center:d[1]-i<0?re.Bottom:re.Top:t.verticalPlacement;let u=-i;switch(c){case re.Center:u+=(i+l.height)/2;break;case re.Bottom:u+=i+l.height+o+t.verticalShift;break;case re.Top:default:u+=-o-t.verticalShift;break}const[g,v]=this._constraintPosToContainer(d[0]+y,d[1]+u,a,i);this._applyPosition(g,v,i)}isContainerBody(){return this._container===document.body}overrideHorizontalPlacement(n){this._overriddenHorizontalPlacement=n}render(n){var t;const{config:o,prevConfig:a}=this;n instanceof HTMLElement?this.div.select(":first-child").node()!==n&&this.div.html("").append(()=>n):n&&this.div.html(n),this.div.classed((t=o.className)!==null&&t!==void 0?t:"",!!o.className).classed(Wn,!o.allowHover),a?.className&&a.className!==o.className&&this.div.classed(a.className,!1),this.display()}_applyPosition(n,t,o){const a=this.isContainerBody(),i=a?window.innerHeight:this._container.scrollHeight;this.div.classed(Kn,a).style("top",a?`${t}px`:"unset").style("bottom",a?"unset":`${i-t-o}px`).style("left",`${n}px`)}_constraintPosToContainer(n,t,o,a){const i=this.isContainerBody(),r=i?window.innerHeight:this._container.scrollHeight,s=i?window.innerWidth:this._container.scrollWidth,l=10,d=n>s-o-l,p=n<l,y=d?s-o-l:p?l:n,c=10,u=t>r-a-c,g=t<c,v=u?r-a-c:g?c:t;return[s<o?0:y,r<a?0:v]}_setContainerPosition(){var n;this._container!==document.body&&((n=getComputedStyle(this._container))===null||n===void 0?void 0:n.position)==="static"&&(this._container.style.position="relative")}_setUpEvents(){const{config:n}=this;this.components.forEach(t=>{const o=At(t.element);o.on("mousemove.tooltip",a=>{const{config:i}=this,r=a.composedPath&&a.composedPath()||a.path||[a.target];for(const s of Object.keys(i.triggers)){const l=i.triggers[s];if(!l)continue;const d=o.selectAll(`.${s}`).nodes();for(const p of r){if(p===o.node())break;if(p.classList.contains(s)){const y=d.indexOf(p),c=At(p).datum(),u=l(c,y,d),[g,v]=this.isContainerBody()?[a.clientX,a.clientY]:wt(a,this._container);u===null?this.hide():(this.render(u),i.followCursor?this.place({x:g,y:v}):this.placeByElement(p)),a.stopPropagation();return}}}this._isShown&&this.hide()}).on("mouseleave.tooltip",a=>{a.stopPropagation(),this.hide()})}),n.allowHover?this.div.on("mouseenter.tooltip",this._display.bind(this)).on("mouseleave.tooltip",this.hide.bind(this)):this.div.on("mouseenter.tooltip",null).on("mouseleave.tooltip",null)}_setUpAttributes(){const n=this.config.attributes;n&&Object.keys(n).forEach(t=>{this.div.attr(t,n[t])})}destroy(){var n;this._mutationObserver.disconnect(),window.clearTimeout(this._hideDelayTimeoutId),window.clearTimeout(this._showDelayTimeoutId),(n=this.div)===null||n===void 0||n.remove()}}Xn.selectors=Oa;const Ga=Object.assign(Object.assign({},Vn),{color:void 0,barMaxWidth:void 0,barWidth:void 0,dataStep:void 0,barPadding:0,roundedCorners:2,cursor:null,barMinHeight1Px:!1,barMinHeightZeroValue:null,orientation:Ln.Vertical}),Yn=Le`
  label: stacked-bar-component;
`,ja=Qt`
  :root {
    --vis-stacked-bar-cursor: default;
    --vis-stacked-bar-fill-color: var(--vis-color-main);
    --vis-stacked-bar-stroke-color: none;
    --vis-stacked-bar-stroke-width: 0px;
    --vis-stacked-bar-hover-stroke-width: none;
    --vis-stacked-bar-hover-stroke-color: none;

    /* Dark Theme */
    --vis-dark-stacked-bar-stroke-color: none;
  }

  body.theme-dark ${`.${Yn}`} {
    --vis-stacked-bar-stroke-color: var(--vis-dark-stacked-bar-stroke-color);
  }
`,bt=Le`
  label: bar;
  fill: var(--vis-stacked-bar-fill-color);
  stroke: var(--vis-stacked-bar-stroke-color);
  stroke-width: var(--vis-stacked-bar-stroke-width);
  cursor: var(--vis-stacked-bar-cursor);

  &:hover {
    stroke-width: var(--vis-stacked-bar-hover-stroke-width);
    stroke: var(--vis-stacked-bar-hover-stroke-color);
  }
`,Kt=Le`
  label: barGroup;
`,Zn=Le`
  label: barGroupExit;
`,qa=Object.freeze(Object.defineProperty({__proto__:null,bar:bt,barGroup:Kt,barGroupExit:Zn,globalStyles:ja,root:Yn},Symbol.toStringTag,{value:"Module"}));class sn extends In{constructor(n){super(),this._defaultConfig=Ga,this.config=this._defaultConfig,this.getAccessors=()=>An(this.config.y)?this.config.y:[this.config.y],this.stacked=!0,this.events={},this._barData=[],n&&this.setConfig(n)}get bleed(){if(this._barData=this._getVisibleData(),this._barData.length===0)return{top:0,bottom:0,left:0,right:0};const n=!this.isVertical()&&this.dataScale.range()[0]>this.dataScale.range()[1],t=this.dataScale.domain(),o=this._getBarWidth()/2,a=this._barData.map((u,g)=>Ee(u,this.config.x,g)),i=Et(a),r=ko(a),s=this.dataScale(i),l=this.dataScale(r),d=this.dataScale.invert(s+(n?o:-o)),p=this.dataScale.invert(l+(n?-o:o)),y=d<=t[0]?this.dataScale(t[0])-this.dataScale(d):0,c=p>t[1]?this.dataScale(p)-this.dataScale(t[1]):0;return{top:this.isVertical()?0:n?-c:y,bottom:this.isVertical()?0:n?-y:c,left:this.isVertical()?y:0,right:this.isVertical()?c:0}}get dataScale(){return this.isVertical()?this.xScale:this.yScale}get valueScale(){return this.isVertical()?this.yScale:this.xScale}isVertical(){return this.config.orientation===Ln.Vertical}_render(n){const{config:t}=this,o=rt(n)?n:t.duration,a=this.getAccessors(),i=_o(this._barData,0,a,this._prevNegative);this._prevNegative=i.map(g=>!!g.isMostlyNegative);const r=this.g.selectAll(`.${Kt}`).data(this._barData,(g,v)=>{var m;return`${(m=bn(g,t.id,v))!==null&&m!==void 0?m:v}`}),s=(g,v)=>{const m=this.dataScale(Ee(g,t.x,v)),b=this.isVertical()?m:0,_=this.isVertical()?0:m;return`translate(${b},${_})`},d=r.enter().append("g").attr("class",Kt).attr("transform",s).style("opacity",1).merge(r);qe(d,o).attr("transform",s).style("opacity",1);const p=r.exit().attr("class",Zn);qe(p,o).style("opacity",0).remove(),qe(p.selectAll(`.${bt}`),o).attr("transform",this.isVertical()?`translate(0,${this._height/3})`:`translate(${this._width/6},0)`);const y=d.selectAll(`.${bt}`).data((g,v)=>i.map((m,b)=>Object.assign(Object.assign({},g),{_index:v,_stacked:m[v],_ending:b===i.length-1||b<=i.length-1&&i[b+1][v][0]!==m[v][1]}))),u=y.enter().append("path").attr("class",bt).attr("d",(g,v)=>this._getBarPath(g,v,!0)).style("fill",(g,v)=>Je(g,t.color,v)).merge(y);qe(u,o).attr("d",(g,v)=>this._getBarPath(g,v)).style("fill",(g,v)=>Je(g,t.color,v)).style("cursor",(g,v)=>bn(g,t.cursor,v)),qe(y.exit(),o).style("opacity",0).remove()}_getBarWidth(){const{config:n,datamodel:{data:t}}=this;if(xo(t))return 0;if(n.barWidth)return Et([n.barWidth,n.barMaxWidth]);const o=this.dataScale.bandwidth,a=this.dataScale.domain?this.dataScale.domain():[];let r=1+(o?a.length:a[1]-a[0])/n.dataStep||!o&&t.filter((d,p)=>{const y=Ee(d,n.x,p);return y>=a[0]&&y<=a[1]}).length||t.length;!o&&r>=2&&(r+=1);const l=(r<2?1:1-n.barPadding)*(this.isVertical()?this._width:this._height)/r;return Et([l,n.barMaxWidth])}_getVisibleData(){const{config:n,datamodel:{data:t}}=this,o=this._getBarWidth(),a=t.length<2?0:o/2,i=this.dataScale,r=Math.abs(i.invert(a)-i.invert(0));return t?.filter((l,d)=>{const p=Ee(l,n.x,d),y=i.domain(),c=+y[0],u=+y[1];return p>=c-r&&p<=u+r})}_getBarPath(n,t,o=!1){const{config:a}=this,i=this.getAccessors(),r=this._getBarWidth(),s=n._stacked[1]<0,l=n._ending,d=Ee(n,i[t],n._index),p=o?0:Math.abs(this.valueScale(n._stacked[0])-this.valueScale(n._stacked[1])),y=!o&&a.barMinHeight1Px&&p<1&&isFinite(d)&&d!==a.barMinHeightZeroValue?1:p,c=o?this.valueScale(0):this.valueScale(s?n._stacked[0]:n._stacked[1])-(p<1&&a.barMinHeight1Px?1:0),u=-r/2,g=r,v=a.roundedCorners?rt(a.roundedCorners)?+a.roundedCorners:g/2:0,m=Ut(v,0,Math.min(p,g)/2),b=this.yScale.range()[0]>this.yScale.range()[1];return Co({x:this.isVertical()?u:c-y,y:this.isVertical()?c+(b?0:-y):u,w:this.isVertical()?g:y,h:this.isVertical()?y:g,tl:l&&(this.isVertical()?!s&&b||s&&!b:s),tr:l&&(this.isVertical()?!s&&b||s&&!b:!s),br:l&&(this.isVertical()?s&&b||!s&&!b:!s),bl:l&&(this.isVertical()?s&&b||!s&&!b:s),r:m})}getValueScaleExtent(n){const{datamodel:t}=this,o=this.getAccessors(),a=n?this._getVisibleData():t.data;return Ro(a,...o)}getDataScaleExtent(){const{config:n,datamodel:t}=this;return $o(t.data,n.x)}getYDataExtent(n){return this.isVertical()?this.getValueScaleExtent(n):this.getDataScaleExtent()}getXDataExtent(){return this.isVertical()?this.getDataScaleExtent():this.getValueScaleExtent(!1)}}sn.selectors=qa;const Ua=Object.assign(Object.assign({},Vn),{yStacked:void 0,baseline:null,duration:100,tooltip:void 0,template:(e,n,t,o)=>"",hideWhenFarFromPointer:!0,hideWhenFarFromPointerDistance:100,snapToData:!0,getCircles:void 0,color:void 0,strokeColor:void 0,strokeWidth:void 0,onCrosshairMove:void 0,forceShowAt:void 0}),Ha=Qt`
  :root {
    --vis-crosshair-line-stroke-color: #888;
    --vis-crosshair-line-stroke-width: 1px;
    --vis-crosshair-line-stroke-opacity: 1;
    --vis-crosshair-circle-stroke-color: #fff;
    --vis-crosshair-circle-stroke-width: 1px;
    --vis-crosshair-circle-stroke-opacity: 0.75;
  }
`,Ka=Le`
  label: crosshair-component;
`,Jn=Le`
  stroke: var(--vis-crosshair-line-stroke-color);
  stroke-width: var(--vis-crosshair-line-stroke-width);
  stroke-opacity: var(--vis-crosshair-line-stroke-opacity);
  pointer-events: none;
`,Qn=Le`
  stroke: var(--vis-crosshair-circle-stroke-color);
  stroke-width: var(--vis-crosshair-circle-stroke-width);
  stroke-opacity: var(--vis-crosshair-circle-stroke-opacity);
  pointer-events: none;
`,Wa=Object.freeze(Object.defineProperty({__proto__:null,circle:Qn,globalStyles:Ha,line:Jn,root:Ka},Symbol.toStringTag,{value:"Module"}));class eo extends In{constructor(n){super(),this.clippable=!0,this._defaultConfig=Ua,this.config=this._defaultConfig,this._xPx=void 0,this._yPx=void 0,this._mouseEvent=void 0,this._animFrameId=null,this._accessors={x:void 0,y:void 0,yStacked:void 0,baseline:void 0},n&&this.setConfig(n),this.g.style("opacity",0),this.line=this.g.append("line").attr("class",Jn)}set accessors(n){this._accessors=n}get accessors(){var n;const{config:t}=this,o=!!(t.x||t.y||t.yStacked),a=o?t.x:this._accessors.x,i=o?t.y:this._accessors.y,r=i?An(i)?i:[i]:void 0,s=o?t.yStacked:this._accessors.yStacked,l=(n=t.baseline)!==null&&n!==void 0?n:this._accessors.baseline;return{x:a,y:r,yStacked:s,baseline:l}}_isContainerInViewport(){var n;if(!(!((n=this.container)===null||n===void 0)&&n.node()))return!1;const t=this.container.node().getBoundingClientRect(),o=window.innerWidth||document.documentElement.clientWidth,a=window.innerHeight||document.documentElement.clientHeight,i=Math.max(0,Math.min(t.right,o)-Math.max(t.left,0)),r=Math.max(0,Math.min(t.bottom,a)-Math.max(t.top,0)),s=t.width*t.height,l=i*r;return s>0&&l/s>=.35}setContainer(n){this.container!==n&&(this.container=n,this.container.on("mousemove.crosshair",this._onMouseMove.bind(this)),this.container.on("mouseout.crosshair",this._onMouseOut.bind(this)),this.container.on("wheel.crosshair",this._onWheel.bind(this)))}_render(n){var t,o,a,i,r;const{config:s,datamodel:l}=this,d=rt(n)?n:s.duration,p=s.forceShowAt!==void 0,y=p?this.xScale(s.forceShowAt):this._xPx,c=this.xScale.invert(y),u=!((t=l.data)===null||t===void 0)&&t.length&&this.accessors.x?l.data.indexOf(yn(l.data,c,this.accessors.x,Fo.Left)):void 0;let g,v;s.snapToData&&(!this.accessors.y&&!this.accessors.yStacked&&(!((o=l.data)===null||o===void 0)&&o.length)&&console.warn("Unovis | Crosshair: Y accessors have not been configured. Please check if they're present in the configuration object"),!(!((a=l.data)===null||a===void 0)&&a.length)&&this._mouseEvent&&console.warn("Unovis | Crosshair: No data to snap to. Make sure the data has been passed to the container or to the crosshair itself"),g=yn(l.data,c,this.accessors.x),v=l.data.indexOf(g));const m=this.xScale.range(),b=this.yScale.range(),_=s.snapToData&&g?Ut(Math.round(this.xScale(Ee(g,this.accessors.x,v))),0,this._width):Ut(y,m[0],m[1]),I=y>=m[0]&&y<=m[1],q=this._yPx>=b[1]&&this._yPx<=b[0];let D=this._xPx?I&&q:I;s.hideWhenFarFromPointer&&Math.abs(_-+y)>=s.hideWhenFarFromPointerDistance&&(D=!1);const Q=(i=s.tooltip)!==null&&i!==void 0?i:this.tooltip;if(D&&Q&&this._isContainerInViewport()){const P=Q.getContainer()||this.container.node(),x=Q.isContainerBody();if(p){const S=this.container.node().getBoundingClientRect(),$=(x?y+S.left:y)+this._containerMargin.left,K=this._height/2+(x?S.top:0),U=[$,K];this._showTooltip(g,c,U,u)}else if(this._mouseEvent){const S=x?[this._mouseEvent.clientX,this._mouseEvent.clientY]:wt(this._mouseEvent,P);this._showTooltip(g,c,S,u)}}else this._hideTooltip();if(this._mouseEvent&&((r=s.onCrosshairMove)===null||r===void 0||r.call(s,D?this.xScale.invert(this._xPx):void 0,g,v,this._mouseEvent),this._mouseEvent=void 0),qe(this.g,d).style("opacity",D?1:0),!isFinite(y))return;this.line.attr("y1",0).attr("y2",this._height),qe(this.line,d,wn).attr("x1",_).attr("x2",_);const le=Po(s.getCircles)?s.getCircles(c,l.data,this.yScale,u):this.getCircleData(g,v),ce=this.g.selectAll("circle").data(le,(P,x)=>{var S;return(S=P.id)!==null&&S!==void 0?S:x}),fe=ce.enter().append("circle").attr("class",Qn).attr("r",0).attr("cx",_).attr("cy",P=>P.y).style("fill",P=>P.color).style("stroke",P=>P.strokeColor).style("stroke-width",P=>P.strokeWidth);qe(fe.merge(ce),d,wn).attr("cx",_).attr("cy",P=>P.y).attr("r",4).style("opacity",P=>P.opacity).style("fill",P=>P.color).style("stroke",P=>P.strokeColor).style("stroke-width",P=>P.strokeWidth),ce.exit().remove()}hide(n){window.cancelAnimationFrame(this._animFrameId),this._animFrameId=window.requestAnimationFrame(()=>{var t,o;this._xPx=void 0,this._yPx=void 0,this._mouseEvent=void 0,(o=(t=this.config).onCrosshairMove)===null||o===void 0||o.call(t,void 0,void 0,void 0,n),this._render()})}_onMouseMove(n){var t;const{datamodel:o,element:a}=this;!this.accessors.x&&(!((t=o.data)===null||t===void 0)&&t.length)&&console.warn("Unovis | Crosshair: X accessor function has not been configured. Please check if it's present in the configuration object");const[i,r]=wt(n,a);this._xPx=i,this._yPx=r,this._mouseEvent=n,window.cancelAnimationFrame(this._animFrameId),this._animFrameId=window.requestAnimationFrame(()=>{this._render()})}_onMouseOut(n){var t;(!n||!(!((t=this.container)===null||t===void 0)&&t.node().contains(n.relatedTarget)))&&this.hide(n)}_onWheel(n){this.hide(n)}_showTooltip(n,t,o,a){var i;const{config:r,datamodel:s}=this,l=(i=r.tooltip)!==null&&i!==void 0?i:this.tooltip;if(!l||!o)return;const[d,p]=o,y=r.template(n,t,s.data,a);if(l.config.followCursor=!0,!l.config.horizontalPlacement||l.config.horizontalPlacement===re.Auto){const c=l.isContainerBody()?d-this.container.node().getBoundingClientRect().left:d;l.overrideHorizontalPlacement(c>this._containerWidth/2?re.Left:re.Right)}y&&l.show(y,{x:d,y:p})}_hideTooltip(){var n;const{config:t}=this,o=(n=t.tooltip)!==null&&n!==void 0?n:this.tooltip;o?.hide()}getYDataExtent(){return[void 0,void 0]}getCircleData(n,t){var o,a;const{config:i}=this;if(i.snapToData&&n){const r=(o=this.accessors.y)!==null&&o!==void 0?o:[],s=(a=this.accessors.yStacked)!==null&&a!==void 0?a:[],l=Ee(n,this.accessors.baseline,t)||0,d=Vo(n,t,...s).map((y,c)=>({y:this.yScale(y+l),opacity:rt(Ee(n,s[c],c))?1:0,color:Je(n,i.color,c),strokeColor:i.strokeColor?Je(n,i.strokeColor,c):void 0,strokeWidth:i.strokeWidth?Ee(n,i.strokeWidth,c):void 0})),p=r.map((y,c)=>{const u=Ee(n,y,t);return{y:this.yScale(u),opacity:rt(u)?1:0,color:Je(n,i.color,d.length+c),strokeColor:i.strokeColor?Je(n,i.strokeColor,c):void 0,strokeWidth:i.strokeWidth?Ee(n,i.strokeWidth,c):void 0}});return d.concat(p)}return[]}}eo.selectors=Wa;const Xa={"data-vis-crosshair":""},Ya=$e({__name:"index",props:{data:{}},setup(e,{expose:n}){const t=nn(Lo),o=e,a=A(()=>t.data.value??o.data),i=en(o),r=W();return et(()=>{on(()=>{var s;r.value=new eo(i.value),(s=r.value)==null||s.setData(a.value),t.update(r.value)})}),kt(()=>{var s;(s=r.value)==null||s.destroy(),t.destroy()}),ue(i,(s,l)=>{var d;tn(s,l)||(d=r.value)==null||d.setConfig(i.value)}),ue(a,()=>{var s;(s=r.value)==null||s.setData(a.value)}),n({component:r}),(s,l)=>(h(),V("div",Xa))}}),Za={"data-vis-component":""},Ja=$e({__name:"index",props:{color:{},barWidth:{},barMaxWidth:{},dataStep:{},barPadding:{},roundedCorners:{type:[Number,Boolean]},cursor:{},barMinHeight1Px:{type:Boolean},barMinHeightZeroValue:{},orientation:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:n}){const t=nn(Io),o=e,a=A(()=>t.data.value??o.data),i=en(o),r=W();return et(()=>{on(()=>{var s;r.value=new sn(i.value),(s=r.value)==null||s.setData(a.value),t.update(r.value)})}),kt(()=>{var s;(s=r.value)==null||s.destroy(),t.destroy()}),ue(i,(s,l)=>{var d;tn(s,l)||(d=r.value)==null||d.setConfig(i.value)}),ue(a,()=>{var s;(s=r.value)==null||s.setData(a.value)}),n({component:r}),(s,l)=>(h(),V("div",Za))}}),Qa={"data-vis-tooltip":""},ei=$e({__name:"index",props:{components:{},container:{},followCursor:{type:Boolean},allowHover:{type:Boolean},horizontalPlacement:{},horizontalShift:{},verticalPlacement:{},verticalShift:{},triggers:{},attributes:{},className:{},hideDelay:{},showDelay:{},data:{}},setup(e,{expose:n}){const t=nn(Ao),o=en(e),a=W();return et(()=>{on(()=>{a.value=new Xn(o.value),t.update(a.value)})}),kt(()=>{var i;(i=a.value)==null||i.destroy(),t.destroy()}),ue(o,(i,r)=>{var s;tn(i,r)||(s=a.value)==null||s.setConfig(o.value)}),n({component:a}),(i,r)=>(h(),V("div",Qa))}}),ti={},ni={class:"relative overflow-hidden rounded-(--ui-radius) border border-dashed border-(--ui-border-accented) opacity-75 px-4 flex items-center justify-center aspect-video"};function oi(e,n){const t=ga;return h(),G(t,{variant:"subtle"},{default:E(()=>[R("div",ni,[n[0]||(n[0]=R("svg",{class:"absolute inset-0 h-full w-full stroke-(--ui-border-inverted)/10",fill:"none"},[R("defs",null,[R("pattern",{id:"pattern-5c1e4f0e-62d5-498b-8ff0-cf77bb448c8e",x:"0",y:"0",width:"10",height:"10",patternUnits:"userSpaceOnUse"},[R("path",{d:"M-3 13 15-5M-5 5l18-18M-1 21 17 3"})])]),R("rect",{stroke:"none",fill:"url(#pattern-5c1e4f0e-62d5-498b-8ff0-cf77bb448c8e)",width:"100%",height:"100%"})],-1)),ae(e.$slots,"default")])]),_:3})}const ai=Object.assign(Me(ti,[["render",oi]]),{__name:"ImagePlaceholder"}),ii={class:"w-full relative overflow-visible"},ri={key:0,class:"group overflow-hidden"},li=["src"],si={class:"flex w-full bg-neutral-50 p-1 px-3 justify-between"},ui={class:"flex"},di={key:1,class:"overflow-hidden relative group"},ci=["src"],gi={class:"flex w-full bg-neutral-50 p-1 px-3 justify-between"},pi={class:"flex"},fi={class:"px-5 pb-3 mt-4"},mi={class:"text-2xl font-medium"},vi={class:"text-neutral-500"},hi={class:"my-1"},bi={key:0,class:"text-sm text-red-700 shrink-0 flex gap-1 items-center"},yi={key:1,class:"text-sm text-yellow-600 shrink-0 flex gap-1 items-center"},Si={key:2,class:"text-sm shrink-0 text-red-700 flex gap-1 items-center"},wi={key:3,class:"text-sm text-yellow-600 shrink-0 flex gap-1 items-center"},ki={key:4,class:"text-sm text-red-700 shrink-0 flex gap-1 items-center"},_i={key:5,class:"text-sm text-yellow-600 shrink-0 flex gap-1 items-center"},xi={class:"mt-3 text-lg"},Ci={class:"-mx-1 mt-4"},Ri={key:0,class:"inline-flex m-1 h-fit align-bottom"},$i=["src"],Fi={key:1,class:"shrink-0 inline-flex m-1 align-bottom"},Pi={key:2,class:"shrink-0 inline-flex m-1 align-bottom"},Vi={key:3,class:"shrink-0 inline-flex m-1 align-bottom"},Li={class:"text-lg font-semibold mb-2 flex"},Ii={key:0,class:"flex items-center space-x-2"},Ai={size:"md",weight:"light"},Ei={size:"md",weight:"light"},kn=50,Ti={__name:"SpeciesInfo",props:{species:Object},setup(e){const n=W(0),t=e,o=A(()=>t.species.images||[]);ue(o,()=>{n.value=0});const a=W(!1),i=W(!0),r=()=>{a.value=!a.value},s=A(()=>t.species.Kriteriedokumentation?a.value?t.species.Kriteriedokumentation:t.species.Kriteriedokumentation.slice(0,kn)+"...":""),l=A(()=>t.species.ekologi?i.value?t.species.ekologi:t.species.ekologi.slice(0,kn)+"...":""),d=m=>m?m.charAt(0).toUpperCase()+m.slice(1).toLowerCase():"",p=m=>m?m.replace("/detaljer","").replace("/artinformation",""):"",y=m=>({LC:"LC",NT:"NT",EN:"EN",VU:"VU",CR:"CR",RE:"RE",DD:"DD"})[m]||"NE",c=m=>({LC:"bg-green-500",NT:"bg-[#D7838E]",EN:"bg-[#C4004F]",VU:"bg-[#D7838E]",CR:"bg-[#C4004F]",RE:"bg-[#421A31]",DD:"bg-[#E8E9E7]"})[m]||"bg-neutral-300",u=m=>({LC:"Livskraftig",NT:"Nära hotad",EN:"Starkt hotad",VU:"Sårbar",CR:"Akut hotad",RE:"Nationellt utdöd",DD:"Kunskapsbrist"})[m]||"Ej bedömd",g=(m,b)=>`/images/svampgrupp/${{övrigt:"ovrigt.webp",hattsvamp:"hattsvamp.png",kantarell:"kantarell.webp",sopp:"sopp.png",taggsvamp:"taggsvamp.png",fingersvamp:"fingersvamp.webp",tryffel:"tryffel.webp",skinnsvamp:"skinnsvamp.webp",skålsvamp:"skalsvamp.webp"}[m==="0"&&b?b:m]||"default-icon.webp"}`,v=A(()=>t.species["Svamp-grupp"]==="0"&&t.species["Svamp-grupp-släkte"]?t.species["Svamp-grupp-släkte"]:t.species["Svamp-grupp"]);return(m,b)=>{const _=Eo,I=an,q=ai,D=Te,Q=_t,le=tt,ce=Ce,fe=Do;return h(),V("div",ii,[o.value.length>1?(h(),V("div",ri,[w(_,{onSelect:b[0]||(b[0]=P=>n.value=P),items:o.value,ui:{item:"basis-full"}},{default:E(({item:P})=>[(h(),V("div",{class:"w-full relative",key:P},[R("img",{src:P,class:"w-full",draggable:"false",height:"300",width:"450",loading:"lazy",decoding:"async",alt:"Artbild"},null,8,li)]))]),_:1},8,["items"]),R("div",si,[R("div",ui,[w(I,{name:"i-mingcute-copyright-line",class:"h-4 w-4 my-1 mr-1"}),b[1]||(b[1]=R("h1",{weight:"light",class:""}," Michael Krikorev ",-1))]),R("h1",null,ne(n.value+1)+" av "+ne(o.value.length),1)])])):o.value.length===1?(h(),V("div",di,[R("img",{src:o.value[0],class:"w-full",draggable:"false",height:"300",width:"450",loading:"lazy",decoding:"async",alt:"Artbild"},null,8,ci),R("div",gi,[R("div",pi,[w(I,{name:"i-mingcute-copyright-line",class:"h-4 w-4 my-1 mr-1"}),b[2]||(b[2]=R("h1",{weight:"light",class:""}," Michael Krikorev ",-1))]),R("h1",null,ne(n.value+1)+" av "+ne(o.value.length),1)])])):(h(),G(q,{key:2,class:"rounded-none"})),R("div",fi,[R("h1",mi,ne(d(e.species.Commonname)),1),R("h1",vi,ne(e.species.Scientificname),1),R("div",hi,[e.species["Rank matsvamp"]===3?(h(),V("div",bi,[w(D,{name:"codicon:circle-large-filled",class:"size-3"}),b[3]||(b[3]=oe(" Sällsynt matsvamp ",-1))])):O("",!0),e.species["Rank matsvamp"]===2?(h(),V("div",yi,[w(D,{name:"codicon:color-mode",class:"size-3"}),b[4]||(b[4]=oe(" Ovanlig matsvamp ",-1))])):O("",!0),e.species["Rank giftsvamp"]===3?(h(),V("div",Si,[w(D,{name:"codicon:circle-large-filled",class:"size-3"}),b[5]||(b[5]=oe(" Sällsynt giftsvamp ",-1))])):O("",!0),e.species["Rank giftsvamp"]===2?(h(),V("div",wi,[w(D,{name:"codicon:color-mode",class:"size-3"}),b[6]||(b[6]=oe(" Ovanlig giftsvamp ",-1))])):O("",!0),e.species.RankRed===3?(h(),V("div",ki,[w(D,{name:"codicon:circle-large-filled",class:"size-3"}),b[7]||(b[7]=oe(" Sällsynt naturvårdsart ",-1))])):O("",!0),e.species.RankRed===2?(h(),V("div",_i,[w(D,{name:"codicon:color-mode",class:"size-3"}),b[8]||(b[8]=oe(" Ovanlig naturvårdsart ",-1))])):O("",!0)]),R("h1",xi,ne(l.value),1),R("div",Ci,[e.species["Svamp-grupp"]?(h(),V("div",Ri,[w(Q,{color:"neutral",variant:"subtle",size:"xl"},{default:E(()=>[R("img",{src:g(e.species["Svamp-grupp"],e.species["Svamp-grupp-släkte"]),class:"w-4.5",alt:"Svamp ikon",loading:"lazy",decoding:"async"},null,8,$i),oe(" "+ne(d(v.value)),1)]),_:1})])):O("",!0),e.species["Nyasvamp-boken"]==="x"?(h(),V("div",Fi,[w(Q,{color:"warning",size:"xl",variant:"subtle",class:""},{default:E(()=>[w(I,{name:"icon-park-solid:knife-fork"}),b[9]||(b[9]=oe("Matsvamp ",-1))]),_:1})])):O("",!0),e.species.Giftsvamp==="x"?(h(),V("div",Pi,[w(Q,{color:"poison",size:"xl",variant:"subtle",class:""},{default:E(()=>[w(I,{name:"hugeicons:danger"}),b[10]||(b[10]=oe("Giftsvamp ",-1))]),_:1})])):O("",!0),e.species.SIGNAL_art==="S"?(h(),V("div",Vi,[w(Q,{color:"signal",size:"xl",variant:"subtle",class:""},{default:E(()=>[...b[11]||(b[11]=[oe("Signalart",-1)])]),_:1})])):O("",!0),e.species.KALKmark?(h(),G(Q,{key:4,size:"xl",color:"kalkmark",variant:"subtle",class:"shrink-0 inline-flex m-1 align-bottom"},{default:E(()=>[...b[12]||(b[12]=[oe(" Kalkmark ",-1)])]),_:1})):O("",!0),e.species.ANNANmark?(h(),G(Q,{key:5,size:"xl",color:"vanligmark",variant:"subtle",class:"shrink-0 inline-flex m-1 align-bottom"},{default:E(()=>[...b[13]||(b[13]=[oe(" Vanlig skogsmark ",-1)])]),_:1})):O("",!0)]),e.species.Kriteriedokumentation?(h(),G(le,{key:0,class:"my-4"},{default:E(()=>[R("div",{class:"flex justify-between cursor-pointer",onClick:r},[R("h1",Li,[e.species.RL2020kat?(h(),V("div",Ii,[R("div",{class:Y([c(e.species.RL2020kat),"h-8 w-8 rounded-full flex items-center justify-center text-white"])},ne(y(e.species.RL2020kat)),3),R("h1",Ai,ne(u(e.species.RL2020kat)),1)])):O("",!0)]),w(I,{name:"mdi:chevron-down",class:Y(["h-6 w-6 transition-transform duration-300 ease-in-out",a.value?"rotate-180":"rotate-0"])},null,8,["class"])]),e.species.Kriteriedokumentation?(h(),V("div",{key:0,class:Y(["relative overflow-hidden transition-transform duration-300 ease-in-out",[a.value?"max-h-auto":"max-h-20"]]),onClick:r},[R("h1",Ei,ne(s.value),1)],2)):O("",!0)]),_:1})):O("",!0),b[14]||(b[14]=R("h1",{class:"text-md font-medium mx-2 mt-4"},"Läs mer på",-1)),e.species.Artfakta!="Information saknas"?(h(),G(ce,{key:1,to:p(e.species.Artfakta),variant:"ghost",target:"_blank",class:"text-primary-500 w-full",size:"xl",icon:"i-heroicons-arrow-up-right-20-solid",label:"Artfakta.se",trailing:""},null,8,["to"])):O("",!0),b[15]||(b[15]=R("br",null,null,-1)),e.species.Svampguiden&&e.species.Svampguiden!=="0"?(h(),G(ce,{key:2,to:p(e.species.Svampguiden),trailing:"",label:"Svampguiden.com",icon:"i-heroicons-arrow-up-right-20-solid",target:"_blank",variant:"ghost",class:"text-primary-500 w-full",size:"xl"},null,8,["to"])):O("",!0),w(fe)])])}}},Ni={key:0,class:"fixed inset-0 z-50 flex pointer-events-none group"},Mi={class:"absolute top-3 left-3 items-end w-full gap-2 z-10 flex"},zi={class:"h-full relative overflow-auto pb-16 no-scrollbar"},Di={__name:"MySlideover",props:{modelValue:{type:Boolean,default:!1},pinned:{type:Boolean,default:!0},expanded:{type:Boolean,default:!1}},emits:["update:modelValue","update:pinned"],setup(e,{emit:n}){const t=e,o=n,a=W(t.pinned);ue(()=>t.pinned,r=>{a.value=r});function i(){a.value=!a.value,o("update:pinned",a.value)}return(r,s)=>{const l=Ce;return h(),G(De,{name:"slide-in-right"},{default:E(()=>[e.modelValue?(h(),V("div",Ni,[a.value?O("",!0):(h(),V("div",{key:0,class:"fixed inset-0 pointer-events-auto",onClick:s[0]||(s[0]=d=>o("update:modelValue",!1))})),R("div",{ref:"panelRef",class:Y(["ml-auto bg-white shadow-lg z-50 relative pointer-events-auto ring-1 ring-neutral-200 transition-all overflow-hidden",[a.value?"":"sm:ml-auto sm:m-2 sm:rounded",e.expanded?"w-[744px]":"w-screen sm:w-96"]]),onClick:s[2]||(s[2]=Bo(()=>{},["stop"]))},[R("div",Mi,[w(l,{class:"shadow hover:bg-white rounded-full mt-2 ml-1 md:m-0",color:"neutral",variant:"soft",ui:{rounded:"rounded-full"},icon:"heroicons:x-mark",size:"lg",onClick:s[1]||(s[1]=d=>o("update:modelValue",!1))}),w(l,{class:Y(["shadow hover:bg-white hidden md:flex rounded-full",a.value?"text-primary-500":"text-neutral-700"]),color:"neutral",variant:"soft",ui:{rounded:"rounded-full"},onClick:i,icon:"codicon:pinned",size:"lg"},null,8,["class"])]),R("div",zi,[ae(r.$slots,"default",{},void 0,!0)])],2)])):O("",!0)]),_:3})}}},Bi=Me(Di,[["__scopeId","data-v-fb1058c4"]]),to={__name:"UDropdownMenuContent",props:{items:{type:null,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0},sub:{type:Boolean,required:!1},labelKey:{type:null,required:!0},checkedIcon:{type:[String,Object],required:!1},loadingIcon:{type:[String,Object],required:!1},externalIcon:{type:[Boolean,String,Object],required:!1},class:{type:null,required:!1},ui:{type:null,required:!0},uiOverride:{type:null,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=xt(),{dir:i}=rn(),r=Ct(),s=Oo(Ht(()=>t.portal)),l=ln(En(t,"sub","items","portal","labelKey","checkedIcon","loadingIcon","externalIcon","class","ui","uiOverride"),o),d=()=>Mn(a,["default"]),[p,y]=Go(),c=A(()=>i.value==="rtl"?r.ui.icons.chevronLeft:r.ui.icons.chevronRight),u=A(()=>t.items?.length?jo(t.items)?t.items:[t.items]:[]);return(g,v)=>(h(),V(pe,null,[w(k(p),null,{default:E(({item:m,active:b,index:_})=>[ae(g.$slots,m.slot||"item",{item:m,index:_},()=>[ae(g.$slots,m.slot?`${m.slot}-leading`:"item-leading",{item:m,active:b,index:_},()=>[m.loading?(h(),G(Te,{key:0,name:e.loadingIcon||k(r).ui.icons.loading,class:Y(e.ui.itemLeadingIcon({class:[e.uiOverride?.itemLeadingIcon,m.ui?.itemLeadingIcon],color:m?.color,loading:!0}))},null,8,["name","class"])):m.icon?(h(),G(Te,{key:1,name:m.icon,class:Y(e.ui.itemLeadingIcon({class:[e.uiOverride?.itemLeadingIcon,m.ui?.itemLeadingIcon],color:m?.color,active:b}))},null,8,["name","class"])):m.avatar?(h(),G(qo,he({key:2,size:m.ui?.itemLeadingAvatarSize||e.uiOverride?.itemLeadingAvatarSize||e.ui.itemLeadingAvatarSize()},m.avatar,{class:e.ui.itemLeadingAvatar({class:[e.uiOverride?.itemLeadingAvatar,m.ui?.itemLeadingAvatar],active:b})}),null,16,["size","class"])):O("",!0)]),k(ot)(m,t.labelKey)||a[m.slot?`${m.slot}-label`:"item-label"]?(h(),V("span",{key:0,class:Y(e.ui.itemLabel({class:[e.uiOverride?.itemLabel,m.ui?.itemLabel],active:b}))},[ae(g.$slots,m.slot?`${m.slot}-label`:"item-label",{item:m,active:b,index:_},()=>[oe(ne(k(ot)(m,t.labelKey)),1)]),m.target==="_blank"&&e.externalIcon!==!1?(h(),G(Te,{key:0,name:typeof e.externalIcon=="string"?e.externalIcon:k(r).ui.icons.external,class:Y(e.ui.itemLabelExternalIcon({class:[e.uiOverride?.itemLabelExternalIcon,m.ui?.itemLabelExternalIcon],color:m?.color,active:b}))},null,8,["name","class"])):O("",!0)],2)):O("",!0),R("span",{class:Y(e.ui.itemTrailing({class:[e.uiOverride?.itemTrailing,m.ui?.itemTrailing]}))},[ae(g.$slots,m.slot?`${m.slot}-trailing`:"item-trailing",{item:m,active:b,index:_},()=>[m.children?.length?(h(),G(Te,{key:0,name:c.value,class:Y(e.ui.itemTrailingIcon({class:[e.uiOverride?.itemTrailingIcon,m.ui?.itemTrailingIcon],color:m?.color,active:b}))},null,8,["name","class"])):m.kbds?.length?(h(),V("span",{key:1,class:Y(e.ui.itemTrailingKbds({class:[e.uiOverride?.itemTrailingKbds,m.ui?.itemTrailingKbds]}))},[(h(!0),V(pe,null,ve(m.kbds,(I,q)=>(h(),G(Uo,he({key:q,size:m.ui?.itemTrailingKbdsSize||e.uiOverride?.itemTrailingKbdsSize||e.ui.itemTrailingKbdsSize()},{ref_for:!0},typeof I=="string"?{value:I}:I),null,16,["size"]))),128))],2)):O("",!0)]),w(k(Ae).ItemIndicator,{"as-child":""},{default:E(()=>[w(Te,{name:e.checkedIcon||k(r).ui.icons.check,class:Y(e.ui.itemTrailingIcon({class:[e.uiOverride?.itemTrailingIcon,m.ui?.itemTrailingIcon],color:m?.color}))},null,8,["name","class"])]),_:2},1024)],2)])]),_:3}),w(k(Ae).Portal,yt(St(k(s))),{default:E(()=>[(h(),G(Tn(e.sub?k(Ae).SubContent:k(Ae).Content),he({class:t.class},k(l)),{default:E(()=>[ae(g.$slots,"content-top"),R("div",{role:"presentation",class:Y(e.ui.viewport({class:e.uiOverride?.viewport}))},[(h(!0),V(pe,null,ve(u.value,(m,b)=>(h(),G(k(Ae).Group,{key:`group-${b}`,class:Y(e.ui.group({class:e.uiOverride?.group}))},{default:E(()=>[(h(!0),V(pe,null,ve(m,(_,I)=>(h(),V(pe,{key:`group-${b}-${I}`},[_.type==="label"?(h(),G(k(Ae).Label,{key:0,class:Y(e.ui.label({class:[e.uiOverride?.label,_.ui?.label,_.class]}))},{default:E(()=>[w(k(y),{item:_,index:I},null,8,["item","index"])]),_:2},1032,["class"])):_.type==="separator"?(h(),G(k(Ae).Separator,{key:1,class:Y(e.ui.separator({class:[e.uiOverride?.separator,_.ui?.separator,_.class]}))},null,8,["class"])):_?.children?.length?(h(),G(k(Ae).Sub,{key:2,open:_.open,"default-open":_.defaultOpen},{default:E(()=>[w(k(Ae).SubTrigger,{as:"button",type:"button",disabled:_.disabled,"text-value":k(ot)(_,t.labelKey),class:Y(e.ui.item({class:[e.uiOverride?.item,_.ui?.item,_.class],color:_?.color}))},{default:E(()=>[w(k(y),{item:_,index:I},null,8,["item","index"])]),_:2},1032,["disabled","text-value","class"]),w(to,he({sub:"",class:t.class,ui:e.ui,"ui-override":e.uiOverride,portal:e.portal,items:_.children,align:"start","align-offset":-4,"side-offset":3,"label-key":e.labelKey,"checked-icon":e.checkedIcon,"loading-icon":e.loadingIcon,"external-icon":e.externalIcon},{ref_for:!0},_.content),Nn({_:2},[ve(d(),(q,D)=>({name:D,fn:E(Q=>[ae(g.$slots,D,he({ref_for:!0},Q))])}))]),1040,["class","ui","ui-override","portal","items","label-key","checked-icon","loading-icon","external-icon"])]),_:2},1032,["open","default-open"])):_.type==="checkbox"?(h(),G(k(Ae).CheckboxItem,{key:3,"model-value":_.checked,disabled:_.disabled,"text-value":k(ot)(_,t.labelKey),class:Y(e.ui.item({class:[e.uiOverride?.item,_.ui?.item,_.class],color:_?.color})),"onUpdate:modelValue":_.onUpdateChecked,onSelect:_.onSelect},{default:E(()=>[w(k(y),{item:_,index:I},null,8,["item","index"])]),_:2},1032,["model-value","disabled","text-value","class","onUpdate:modelValue","onSelect"])):(h(),G(k(Ae).Item,{key:4,"as-child":"",disabled:_.disabled,"text-value":k(ot)(_,t.labelKey),onSelect:_.onSelect},{default:E(()=>[w(Ho,he({ref_for:!0},k(Ko)(_),{custom:""}),{default:E(({active:q,...D})=>[w(Wo,he({ref_for:!0},D,{class:e.ui.item({class:[e.uiOverride?.item,_.ui?.item,_.class],color:_?.color,active:q})}),{default:E(()=>[w(k(y),{item:_,active:q,index:I},null,8,["item","active","index"])]),_:2},1040,["class"])]),_:2},1040)]),_:2},1032,["disabled","text-value","onSelect"]))],64))),128))]),_:2},1032,["class"]))),128))],2),ae(g.$slots,"default"),ae(g.$slots,"content-bottom")]),_:3},16,["class"]))]),_:3},16)],64))}},Oi={slots:{content:"min-w-32 bg-default shadow-lg rounded-md ring ring-default overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-dropdown-menu-content-transform-origin) flex flex-col",viewport:"relative divide-y divide-default scroll-py-1 overflow-y-auto flex-1",arrow:"fill-default",group:"p-1 isolate",label:"w-full flex items-center font-semibold text-highlighted",separator:"-mx-1 my-1 h-px bg-border",item:"group relative w-full flex items-center select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0",itemTrailingKbdsSize:"",itemLabel:"truncate",itemLabelExternalIcon:"inline-block size-3 align-top text-dimmed"},variants:{color:{primary:"",secondary:"",tertiary:"",rodeodust:"",poison:"",signal:"",info:"",success:"",warning:"",error:"",kalkmark:"",vanligmark:"",time:"",neutral:""},active:{true:{item:"text-highlighted before:bg-elevated",itemLeadingIcon:"text-default"},false:{item:["text-default data-highlighted:text-highlighted data-[state=open]:text-highlighted data-highlighted:before:bg-elevated/50 data-[state=open]:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-dimmed group-data-highlighted:text-default group-data-[state=open]:text-default","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}},size:{xs:{label:"p-1 text-xs gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemTrailingIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},sm:{label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemTrailingIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},md:{label:"p-1.5 text-sm gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemTrailingIcon:"size-5",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"md"},lg:{label:"p-2 text-sm gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemTrailingIcon:"size-5",itemTrailingKbds:"gap-1",itemTrailingKbdsSize:"md"},xl:{label:"p-2 text-base gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemTrailingIcon:"size-6",itemTrailingKbds:"gap-1",itemTrailingKbdsSize:"lg"}}},compoundVariants:[{color:"primary",active:!1,class:{item:"text-primary data-highlighted:text-primary data-highlighted:before:bg-primary/10 data-[state=open]:before:bg-primary/10",itemLeadingIcon:"text-primary/75 group-data-highlighted:text-primary group-data-[state=open]:text-primary"}},{color:"secondary",active:!1,class:{item:"text-secondary data-highlighted:text-secondary data-highlighted:before:bg-secondary/10 data-[state=open]:before:bg-secondary/10",itemLeadingIcon:"text-secondary/75 group-data-highlighted:text-secondary group-data-[state=open]:text-secondary"}},{color:"tertiary",active:!1,class:{item:"text-tertiary data-highlighted:text-tertiary data-highlighted:before:bg-tertiary/10 data-[state=open]:before:bg-tertiary/10",itemLeadingIcon:"text-tertiary/75 group-data-highlighted:text-tertiary group-data-[state=open]:text-tertiary"}},{color:"rodeodust",active:!1,class:{item:"text-rodeodust data-highlighted:text-rodeodust data-highlighted:before:bg-rodeodust/10 data-[state=open]:before:bg-rodeodust/10",itemLeadingIcon:"text-rodeodust/75 group-data-highlighted:text-rodeodust group-data-[state=open]:text-rodeodust"}},{color:"poison",active:!1,class:{item:"text-poison data-highlighted:text-poison data-highlighted:before:bg-poison/10 data-[state=open]:before:bg-poison/10",itemLeadingIcon:"text-poison/75 group-data-highlighted:text-poison group-data-[state=open]:text-poison"}},{color:"signal",active:!1,class:{item:"text-signal data-highlighted:text-signal data-highlighted:before:bg-signal/10 data-[state=open]:before:bg-signal/10",itemLeadingIcon:"text-signal/75 group-data-highlighted:text-signal group-data-[state=open]:text-signal"}},{color:"info",active:!1,class:{item:"text-info data-highlighted:text-info data-highlighted:before:bg-info/10 data-[state=open]:before:bg-info/10",itemLeadingIcon:"text-info/75 group-data-highlighted:text-info group-data-[state=open]:text-info"}},{color:"success",active:!1,class:{item:"text-success data-highlighted:text-success data-highlighted:before:bg-success/10 data-[state=open]:before:bg-success/10",itemLeadingIcon:"text-success/75 group-data-highlighted:text-success group-data-[state=open]:text-success"}},{color:"warning",active:!1,class:{item:"text-warning data-highlighted:text-warning data-highlighted:before:bg-warning/10 data-[state=open]:before:bg-warning/10",itemLeadingIcon:"text-warning/75 group-data-highlighted:text-warning group-data-[state=open]:text-warning"}},{color:"error",active:!1,class:{item:"text-error data-highlighted:text-error data-highlighted:before:bg-error/10 data-[state=open]:before:bg-error/10",itemLeadingIcon:"text-error/75 group-data-highlighted:text-error group-data-[state=open]:text-error"}},{color:"kalkmark",active:!1,class:{item:"text-kalkmark data-highlighted:text-kalkmark data-highlighted:before:bg-kalkmark/10 data-[state=open]:before:bg-kalkmark/10",itemLeadingIcon:"text-kalkmark/75 group-data-highlighted:text-kalkmark group-data-[state=open]:text-kalkmark"}},{color:"vanligmark",active:!1,class:{item:"text-vanligmark data-highlighted:text-vanligmark data-highlighted:before:bg-vanligmark/10 data-[state=open]:before:bg-vanligmark/10",itemLeadingIcon:"text-vanligmark/75 group-data-highlighted:text-vanligmark group-data-[state=open]:text-vanligmark"}},{color:"time",active:!1,class:{item:"text-time data-highlighted:text-time data-highlighted:before:bg-time/10 data-[state=open]:before:bg-time/10",itemLeadingIcon:"text-time/75 group-data-highlighted:text-time group-data-[state=open]:text-time"}},{color:"primary",active:!0,class:{item:"text-primary before:bg-primary/10",itemLeadingIcon:"text-primary"}},{color:"secondary",active:!0,class:{item:"text-secondary before:bg-secondary/10",itemLeadingIcon:"text-secondary"}},{color:"tertiary",active:!0,class:{item:"text-tertiary before:bg-tertiary/10",itemLeadingIcon:"text-tertiary"}},{color:"rodeodust",active:!0,class:{item:"text-rodeodust before:bg-rodeodust/10",itemLeadingIcon:"text-rodeodust"}},{color:"poison",active:!0,class:{item:"text-poison before:bg-poison/10",itemLeadingIcon:"text-poison"}},{color:"signal",active:!0,class:{item:"text-signal before:bg-signal/10",itemLeadingIcon:"text-signal"}},{color:"info",active:!0,class:{item:"text-info before:bg-info/10",itemLeadingIcon:"text-info"}},{color:"success",active:!0,class:{item:"text-success before:bg-success/10",itemLeadingIcon:"text-success"}},{color:"warning",active:!0,class:{item:"text-warning before:bg-warning/10",itemLeadingIcon:"text-warning"}},{color:"error",active:!0,class:{item:"text-error before:bg-error/10",itemLeadingIcon:"text-error"}},{color:"kalkmark",active:!0,class:{item:"text-kalkmark before:bg-kalkmark/10",itemLeadingIcon:"text-kalkmark"}},{color:"vanligmark",active:!0,class:{item:"text-vanligmark before:bg-vanligmark/10",itemLeadingIcon:"text-vanligmark"}},{color:"time",active:!0,class:{item:"text-time before:bg-time/10",itemLeadingIcon:"text-time"}}],defaultVariants:{size:"md"}},Gi={__name:"UDropdownMenu",props:{size:{type:null,required:!1},items:{type:null,required:!1},checkedIcon:{type:[String,Object],required:!1},loadingIcon:{type:[String,Object],required:!1},externalIcon:{type:[Boolean,String,Object],required:!1,default:!0},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},labelKey:{type:null,required:!1,default:"label"},disabled:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:n}){const t=e,o=n,a=xt(),i=Ct(),r=ln(zn(t,"defaultOpen","open","modal"),o),s=Ht(()=>Xo(t.content,{side:"bottom",sideOffset:8,collisionPadding:8})),l=Ht(()=>t.arrow),d=()=>Mn(a,["default"]),p=A(()=>Qe({extend:Qe(Oi),...i.ui?.dropdownMenu||{}})({size:t.size}));return(y,c)=>(h(),G(k(Jo),yt(St(k(r))),{default:E(({open:u})=>[a.default?(h(),G(k(Yo),{key:0,"as-child":"",class:Y(t.class),disabled:e.disabled},{default:E(()=>[ae(y.$slots,"default",{open:u})]),_:2},1032,["class","disabled"])):O("",!0),w(to,he({class:p.value.content({class:[!a.default&&t.class,t.ui?.content]}),ui:p.value,"ui-override":t.ui},s.value,{items:e.items,portal:e.portal,"label-key":e.labelKey,"checked-icon":e.checkedIcon,"loading-icon":e.loadingIcon,"external-icon":e.externalIcon}),Nn({default:E(()=>[e.arrow?(h(),G(k(Zo),he({key:0},l.value,{class:p.value.arrow({class:t.ui?.arrow})}),null,16,["class"])):O("",!0)]),_:2},[ve(d(),(g,v)=>({name:v,fn:E(m=>[ae(y.$slots,v,yt(St(m)))])}))]),1040,["class","ui","ui-override","items","portal","label-key","checked-icon","loading-icon","external-icon"])]),_:3},16))}};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Ue(e,n){return typeof e=="function"?e(n):e}function Ve(e,n){return t=>{n.setState(o=>({...o,[e]:Ue(t,o[e])}))}}function Pt(e){return e instanceof Function}function ji(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function qi(e,n){const t=[],o=a=>{a.forEach(i=>{t.push(i);const r=n(i);r!=null&&r.length&&o(r)})};return o(e),t}function Z(e,n,t){let o=[],a;return i=>{let r;t.key&&t.debug&&(r=Date.now());const s=e(i);if(!(s.length!==o.length||s.some((p,y)=>o[y]!==p)))return a;o=s;let d;if(t.key&&t.debug&&(d=Date.now()),a=n(...s),t==null||t.onChange==null||t.onChange(a),t.key&&t.debug&&t!=null&&t.debug()){const p=Math.round((Date.now()-r)*100)/100,y=Math.round((Date.now()-d)*100)/100,c=y/16,u=(g,v)=>{for(g=String(g);g.length<v;)g=" "+g;return g};console.info(`%c⏱ ${u(y,5)} /${u(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*c,120))}deg 100% 31%);`,t?.key)}return a}}function J(e,n,t,o){return{debug:()=>{var a;return(a=e?.debugAll)!=null?a:e[n]},key:!1,onChange:o}}function Ui(e,n,t,o){const a=()=>{var r;return(r=i.getValue())!=null?r:e.options.renderFallbackValue},i={id:`${n.id}_${t.id}`,row:n,column:t,getValue:()=>n.getValue(o),renderValue:a,getContext:Z(()=>[e,t,n,i],(r,s,l,d)=>({table:r,column:s,row:l,cell:d,getValue:d.getValue,renderValue:d.renderValue}),J(e.options,"debugCells"))};return e._features.forEach(r=>{r.createCell==null||r.createCell(i,t,n,e)},{}),i}function Hi(e,n,t,o){var a,i;const s={...e._getDefaultColumnDef(),...n},l=s.accessorKey;let d=(a=(i=s.id)!=null?i:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?a:typeof s.header=="string"?s.header:void 0,p;if(s.accessorFn?p=s.accessorFn:l&&(l.includes(".")?p=c=>{let u=c;for(const v of l.split(".")){var g;u=(g=u)==null?void 0:g[v]}return u}:p=c=>c[s.accessorKey]),!d)throw new Error;let y={id:`${String(d)}`,accessorFn:p,parent:o,depth:t,columnDef:s,columns:[],getFlatColumns:Z(()=>[!0],()=>{var c;return[y,...(c=y.columns)==null?void 0:c.flatMap(u=>u.getFlatColumns())]},J(e.options,"debugColumns")),getLeafColumns:Z(()=>[e._getOrderColumnsFn()],c=>{var u;if((u=y.columns)!=null&&u.length){let g=y.columns.flatMap(v=>v.getLeafColumns());return c(g)}return[y]},J(e.options,"debugColumns"))};for(const c of e._features)c.createColumn==null||c.createColumn(y,e);return y}const xe="debugHeaders";function _n(e,n,t){var o;let i={id:(o=t.id)!=null?o:n.id,column:n,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const r=[],s=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(s),r.push(l)};return s(i),r},getContext:()=>({table:e,header:i,column:n})};return e._features.forEach(r=>{r.createHeader==null||r.createHeader(i,e)}),i}const Ki={createTable:e=>{e.getHeaderGroups=Z(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o,a)=>{var i,r;const s=(i=o?.map(y=>t.find(c=>c.id===y)).filter(Boolean))!=null?i:[],l=(r=a?.map(y=>t.find(c=>c.id===y)).filter(Boolean))!=null?r:[],d=t.filter(y=>!(o!=null&&o.includes(y.id))&&!(a!=null&&a.includes(y.id)));return gt(n,[...s,...d,...l],e)},J(e.options,xe)),e.getCenterHeaderGroups=Z(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o,a)=>(t=t.filter(i=>!(o!=null&&o.includes(i.id))&&!(a!=null&&a.includes(i.id))),gt(n,t,e,"center")),J(e.options,xe)),e.getLeftHeaderGroups=Z(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,t,o)=>{var a;const i=(a=o?.map(r=>t.find(s=>s.id===r)).filter(Boolean))!=null?a:[];return gt(n,i,e,"left")},J(e.options,xe)),e.getRightHeaderGroups=Z(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,t,o)=>{var a;const i=(a=o?.map(r=>t.find(s=>s.id===r)).filter(Boolean))!=null?a:[];return gt(n,i,e,"right")},J(e.options,xe)),e.getFooterGroups=Z(()=>[e.getHeaderGroups()],n=>[...n].reverse(),J(e.options,xe)),e.getLeftFooterGroups=Z(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),J(e.options,xe)),e.getCenterFooterGroups=Z(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),J(e.options,xe)),e.getRightFooterGroups=Z(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),J(e.options,xe)),e.getFlatHeaders=Z(()=>[e.getHeaderGroups()],n=>n.map(t=>t.headers).flat(),J(e.options,xe)),e.getLeftFlatHeaders=Z(()=>[e.getLeftHeaderGroups()],n=>n.map(t=>t.headers).flat(),J(e.options,xe)),e.getCenterFlatHeaders=Z(()=>[e.getCenterHeaderGroups()],n=>n.map(t=>t.headers).flat(),J(e.options,xe)),e.getRightFlatHeaders=Z(()=>[e.getRightHeaderGroups()],n=>n.map(t=>t.headers).flat(),J(e.options,xe)),e.getCenterLeafHeaders=Z(()=>[e.getCenterFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),J(e.options,xe)),e.getLeftLeafHeaders=Z(()=>[e.getLeftFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),J(e.options,xe)),e.getRightLeafHeaders=Z(()=>[e.getRightFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),J(e.options,xe)),e.getLeafHeaders=Z(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,t,o)=>{var a,i,r,s,l,d;return[...(a=(i=n[0])==null?void 0:i.headers)!=null?a:[],...(r=(s=t[0])==null?void 0:s.headers)!=null?r:[],...(l=(d=o[0])==null?void 0:d.headers)!=null?l:[]].map(p=>p.getLeafHeaders()).flat()},J(e.options,xe))}};function gt(e,n,t,o){var a,i;let r=0;const s=function(c,u){u===void 0&&(u=1),r=Math.max(r,u),c.filter(g=>g.getIsVisible()).forEach(g=>{var v;(v=g.columns)!=null&&v.length&&s(g.columns,u+1)},0)};s(e);let l=[];const d=(c,u)=>{const g={depth:u,id:[o,`${u}`].filter(Boolean).join("_"),headers:[]},v=[];c.forEach(m=>{const b=[...v].reverse()[0],_=m.column.depth===g.depth;let I,q=!1;if(_&&m.column.parent?I=m.column.parent:(I=m.column,q=!0),b&&b?.column===I)b.subHeaders.push(m);else{const D=_n(t,I,{id:[o,u,I.id,m?.id].filter(Boolean).join("_"),isPlaceholder:q,placeholderId:q?`${v.filter(Q=>Q.column===I).length}`:void 0,depth:u,index:v.length});D.subHeaders.push(m),v.push(D)}g.headers.push(m),m.headerGroup=g}),l.push(g),u>0&&d(v,u-1)},p=n.map((c,u)=>_n(t,c,{depth:r,index:u}));d(p,r-1),l.reverse();const y=c=>c.filter(g=>g.column.getIsVisible()).map(g=>{let v=0,m=0,b=[0];g.subHeaders&&g.subHeaders.length?(b=[],y(g.subHeaders).forEach(I=>{let{colSpan:q,rowSpan:D}=I;v+=q,b.push(D)})):v=1;const _=Math.min(...b);return m=m+_,g.colSpan=v,g.rowSpan=m,{colSpan:v,rowSpan:m}});return y((a=(i=l[0])==null?void 0:i.headers)!=null?a:[]),l}const un=(e,n,t,o,a,i,r)=>{let s={id:n,index:o,original:t,depth:a,parentId:r,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(s._valuesCache.hasOwnProperty(l))return s._valuesCache[l];const d=e.getColumn(l);if(d!=null&&d.accessorFn)return s._valuesCache[l]=d.accessorFn(s.original,o),s._valuesCache[l]},getUniqueValues:l=>{if(s._uniqueValuesCache.hasOwnProperty(l))return s._uniqueValuesCache[l];const d=e.getColumn(l);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(s._uniqueValuesCache[l]=d.columnDef.getUniqueValues(s.original,o),s._uniqueValuesCache[l]):(s._uniqueValuesCache[l]=[s.getValue(l)],s._uniqueValuesCache[l])},renderValue:l=>{var d;return(d=s.getValue(l))!=null?d:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>qi(s.subRows,l=>l.subRows),getParentRow:()=>s.parentId?e.getRow(s.parentId,!0):void 0,getParentRows:()=>{let l=[],d=s;for(;;){const p=d.getParentRow();if(!p)break;l.push(p),d=p}return l.reverse()},getAllCells:Z(()=>[e.getAllLeafColumns()],l=>l.map(d=>Ui(e,s,d,d.id)),J(e.options,"debugRows")),_getAllCellsByColumnId:Z(()=>[s.getAllCells()],l=>l.reduce((d,p)=>(d[p.column.id]=p,d),{}),J(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const d=e._features[l];d==null||d.createRow==null||d.createRow(s,e)}return s},Wi={createColumn:(e,n)=>{e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},no=(e,n,t)=>{var o,a;const i=t==null||(o=t.toString())==null?void 0:o.toLowerCase();return!!(!((a=e.getValue(n))==null||(a=a.toString())==null||(a=a.toLowerCase())==null)&&a.includes(i))};no.autoRemove=e=>Ne(e);const oo=(e,n,t)=>{var o;return!!(!((o=e.getValue(n))==null||(o=o.toString())==null)&&o.includes(t))};oo.autoRemove=e=>Ne(e);const ao=(e,n,t)=>{var o;return((o=e.getValue(n))==null||(o=o.toString())==null?void 0:o.toLowerCase())===t?.toLowerCase()};ao.autoRemove=e=>Ne(e);const io=(e,n,t)=>{var o;return(o=e.getValue(n))==null?void 0:o.includes(t)};io.autoRemove=e=>Ne(e);const ro=(e,n,t)=>!t.some(o=>{var a;return!((a=e.getValue(n))!=null&&a.includes(o))});ro.autoRemove=e=>Ne(e)||!(e!=null&&e.length);const lo=(e,n,t)=>t.some(o=>{var a;return(a=e.getValue(n))==null?void 0:a.includes(o)});lo.autoRemove=e=>Ne(e)||!(e!=null&&e.length);const so=(e,n,t)=>e.getValue(n)===t;so.autoRemove=e=>Ne(e);const uo=(e,n,t)=>e.getValue(n)==t;uo.autoRemove=e=>Ne(e);const dn=(e,n,t)=>{let[o,a]=t;const i=e.getValue(n);return i>=o&&i<=a};dn.resolveFilterValue=e=>{let[n,t]=e,o=typeof n!="number"?parseFloat(n):n,a=typeof t!="number"?parseFloat(t):t,i=n===null||Number.isNaN(o)?-1/0:o,r=t===null||Number.isNaN(a)?1/0:a;if(i>r){const s=i;i=r,r=s}return[i,r]};dn.autoRemove=e=>Ne(e)||Ne(e[0])&&Ne(e[1]);const ze={includesString:no,includesStringSensitive:oo,equalsString:ao,arrIncludes:io,arrIncludesAll:ro,arrIncludesSome:lo,equals:so,weakEquals:uo,inNumberRange:dn};function Ne(e){return e==null||e===""}const Xi={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Ve("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const t=n.getCoreRowModel().flatRows[0],o=t?.getValue(e.id);return typeof o=="string"?ze.includesString:typeof o=="number"?ze.inNumberRange:typeof o=="boolean"||o!==null&&typeof o=="object"?ze.equals:Array.isArray(o)?ze.arrIncludes:ze.weakEquals},e.getFilterFn=()=>{var t,o;return Pt(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(o=n.options.filterFns)==null?void 0:o[e.columnDef.filterFn])!=null?t:ze[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,o,a;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((o=n.options.enableColumnFilters)!=null?o:!0)&&((a=n.options.enableFilters)!=null?a:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=n.getState().columnFilters)==null||(t=t.find(o=>o.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,o;return(t=(o=n.getState().columnFilters)==null?void 0:o.findIndex(a=>a.id===e.id))!=null?t:-1},e.setFilterValue=t=>{n.setColumnFilters(o=>{const a=e.getFilterFn(),i=o?.find(p=>p.id===e.id),r=Ue(t,i?i.value:void 0);if(xn(a,r,e)){var s;return(s=o?.filter(p=>p.id!==e.id))!=null?s:[]}const l={id:e.id,value:r};if(i){var d;return(d=o?.map(p=>p.id===e.id?l:p))!=null?d:[]}return o!=null&&o.length?[...o,l]:[l]})}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=n=>{const t=e.getAllLeafColumns(),o=a=>{var i;return(i=Ue(n,a))==null?void 0:i.filter(r=>{const s=t.find(l=>l.id===r.id);if(s){const l=s.getFilterFn();if(xn(l,r.value,s))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(o)},e.resetColumnFilters=n=>{var t,o;e.setColumnFilters(n?[]:(t=(o=e.initialState)==null?void 0:o.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function xn(e,n,t){return(e&&e.autoRemove?e.autoRemove(n,t):!1)||typeof n>"u"||typeof n=="string"&&!n}const Yi=(e,n,t)=>t.reduce((o,a)=>{const i=a.getValue(e);return o+(typeof i=="number"?i:0)},0),Zi=(e,n,t)=>{let o;return t.forEach(a=>{const i=a.getValue(e);i!=null&&(o>i||o===void 0&&i>=i)&&(o=i)}),o},Ji=(e,n,t)=>{let o;return t.forEach(a=>{const i=a.getValue(e);i!=null&&(o<i||o===void 0&&i>=i)&&(o=i)}),o},Qi=(e,n,t)=>{let o,a;return t.forEach(i=>{const r=i.getValue(e);r!=null&&(o===void 0?r>=r&&(o=a=r):(o>r&&(o=r),a<r&&(a=r)))}),[o,a]},er=(e,n)=>{let t=0,o=0;if(n.forEach(a=>{let i=a.getValue(e);i!=null&&(i=+i)>=i&&(++t,o+=i)}),t)return o/t},tr=(e,n)=>{if(!n.length)return;const t=n.map(i=>i.getValue(e));if(!ji(t))return;if(t.length===1)return t[0];const o=Math.floor(t.length/2),a=t.sort((i,r)=>i-r);return t.length%2!==0?a[o]:(a[o-1]+a[o])/2},nr=(e,n)=>Array.from(new Set(n.map(t=>t.getValue(e))).values()),or=(e,n)=>new Set(n.map(t=>t.getValue(e))).size,ar=(e,n)=>n.length,Nt={sum:Yi,min:Zi,max:Ji,extent:Qi,mean:er,median:tr,unique:nr,uniqueCount:or,count:ar},ir={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,t;return(n=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Ve("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(o=>o!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,o;return((t=e.columnDef.enableGrouping)!=null?t:!0)&&((o=n.options.enableGrouping)!=null?o:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=n.getCoreRowModel().flatRows[0],o=t?.getValue(e.id);if(typeof o=="number")return Nt.sum;if(Object.prototype.toString.call(o)==="[object Date]")return Nt.extent},e.getAggregationFn=()=>{var t,o;if(!e)throw new Error;return Pt(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(o=n.options.aggregationFns)==null?void 0:o[e.columnDef.aggregationFn])!=null?t:Nt[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var t,o;e.setGrouping(n?[]:(t=(o=e.initialState)==null?void 0:o.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const o=n.getColumn(t);return o!=null&&o.columnDef.getGroupingValue?(e._groupingValuesCache[t]=o.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,n,t,o)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var a;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((a=t.subRows)!=null&&a.length)}}};function rr(e,n,t){if(!(n!=null&&n.length)||!t)return e;const o=e.filter(i=>!n.includes(i.id));return t==="remove"?o:[...n.map(i=>e.find(r=>r.id===i)).filter(Boolean),...o]}const lr={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Ve("columnOrder",e)}),createColumn:(e,n)=>{e.getIndex=Z(t=>[lt(n,t)],t=>t.findIndex(o=>o.id===e.id),J(n.options,"debugColumns")),e.getIsFirstColumn=t=>{var o;return((o=lt(n,t)[0])==null?void 0:o.id)===e.id},e.getIsLastColumn=t=>{var o;const a=lt(n,t);return((o=a[a.length-1])==null?void 0:o.id)===e.id}},createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var t;e.setColumnOrder(n?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=Z(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,t,o)=>a=>{let i=[];if(!(n!=null&&n.length))i=a;else{const r=[...n],s=[...a];for(;s.length&&r.length;){const l=r.shift(),d=s.findIndex(p=>p.id===l);d>-1&&i.push(s.splice(d,1)[0])}i=[...i,...s]}return rr(i,t,o)},J(e.options,"debugTable"))}},Mt=()=>({left:[],right:[]}),sr={getInitialState:e=>({columnPinning:Mt(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Ve("columnPinning",e)}),createColumn:(e,n)=>{e.pin=t=>{const o=e.getLeafColumns().map(a=>a.id).filter(Boolean);n.setColumnPinning(a=>{var i,r;if(t==="right"){var s,l;return{left:((s=a?.left)!=null?s:[]).filter(y=>!(o!=null&&o.includes(y))),right:[...((l=a?.right)!=null?l:[]).filter(y=>!(o!=null&&o.includes(y))),...o]}}if(t==="left"){var d,p;return{left:[...((d=a?.left)!=null?d:[]).filter(y=>!(o!=null&&o.includes(y))),...o],right:((p=a?.right)!=null?p:[]).filter(y=>!(o!=null&&o.includes(y)))}}return{left:((i=a?.left)!=null?i:[]).filter(y=>!(o!=null&&o.includes(y))),right:((r=a?.right)!=null?r:[]).filter(y=>!(o!=null&&o.includes(y)))}})},e.getCanPin=()=>e.getLeafColumns().some(o=>{var a,i,r;return((a=o.columnDef.enablePinning)!=null?a:!0)&&((i=(r=n.options.enableColumnPinning)!=null?r:n.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(s=>s.id),{left:o,right:a}=n.getState().columnPinning,i=t.some(s=>o?.includes(s)),r=t.some(s=>a?.includes(s));return i?"left":r?"right":!1},e.getPinnedIndex=()=>{var t,o;const a=e.getIsPinned();return a?(t=(o=n.getState().columnPinning)==null||(o=o[a])==null?void 0:o.indexOf(e.id))!=null?t:-1:0}},createRow:(e,n)=>{e.getCenterVisibleCells=Z(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(t,o,a)=>{const i=[...o??[],...a??[]];return t.filter(r=>!i.includes(r.column.id))},J(n.options,"debugRows")),e.getLeftVisibleCells=Z(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(t,o)=>(o??[]).map(i=>t.find(r=>r.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),J(n.options,"debugRows")),e.getRightVisibleCells=Z(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(t,o)=>(o??[]).map(i=>t.find(r=>r.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),J(n.options,"debugRows"))},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var t,o;return e.setColumnPinning(n?Mt():(t=(o=e.initialState)==null?void 0:o.columnPinning)!=null?t:Mt())},e.getIsSomeColumnsPinned=n=>{var t;const o=e.getState().columnPinning;if(!n){var a,i;return!!((a=o.left)!=null&&a.length||(i=o.right)!=null&&i.length)}return!!((t=o[n])!=null&&t.length)},e.getLeftLeafColumns=Z(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,t)=>(t??[]).map(o=>n.find(a=>a.id===o)).filter(Boolean),J(e.options,"debugColumns")),e.getRightLeafColumns=Z(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,t)=>(t??[]).map(o=>n.find(a=>a.id===o)).filter(Boolean),J(e.options,"debugColumns")),e.getCenterLeafColumns=Z(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o)=>{const a=[...t??[],...o??[]];return n.filter(i=>!a.includes(i.id))},J(e.options,"debugColumns"))}};function ur(e){return e||(typeof document<"u"?document:null)}const pt={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},zt=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),dr={getDefaultColumnDef:()=>pt,getInitialState:e=>({columnSizing:{},columnSizingInfo:zt(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ve("columnSizing",e),onColumnSizingInfoChange:Ve("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var t,o,a;const i=n.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:pt.minSize,(o=i??e.columnDef.size)!=null?o:pt.size),(a=e.columnDef.maxSize)!=null?a:pt.maxSize)},e.getStart=Z(t=>[t,lt(n,t),n.getState().columnSizing],(t,o)=>o.slice(0,e.getIndex(t)).reduce((a,i)=>a+i.getSize(),0),J(n.options,"debugColumns")),e.getAfter=Z(t=>[t,lt(n,t),n.getState().columnSizing],(t,o)=>o.slice(e.getIndex(t)+1).reduce((a,i)=>a+i.getSize(),0),J(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(t=>{let{[e.id]:o,...a}=t;return a})},e.getCanResize=()=>{var t,o;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((o=n.options.enableColumnResizing)!=null?o:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let t=0;const o=a=>{if(a.subHeaders.length)a.subHeaders.forEach(o);else{var i;t+=(i=a.column.getSize())!=null?i:0}};return o(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const o=n.getColumn(e.column.id),a=o?.getCanResize();return i=>{if(!o||!a||(i.persist==null||i.persist(),Dt(i)&&i.touches&&i.touches.length>1))return;const r=e.getSize(),s=e?e.getLeafHeaders().map(b=>[b.column.id,b.column.getSize()]):[[o.id,o.getSize()]],l=Dt(i)?Math.round(i.touches[0].clientX):i.clientX,d={},p=(b,_)=>{typeof _=="number"&&(n.setColumnSizingInfo(I=>{var q,D;const Q=n.options.columnResizeDirection==="rtl"?-1:1,le=(_-((q=I?.startOffset)!=null?q:0))*Q,ce=Math.max(le/((D=I?.startSize)!=null?D:0),-.999999);return I.columnSizingStart.forEach(fe=>{let[P,x]=fe;d[P]=Math.round(Math.max(x+x*ce,0)*100)/100}),{...I,deltaOffset:le,deltaPercentage:ce}}),(n.options.columnResizeMode==="onChange"||b==="end")&&n.setColumnSizing(I=>({...I,...d})))},y=b=>p("move",b),c=b=>{p("end",b),n.setColumnSizingInfo(_=>({..._,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},u=ur(t),g={moveHandler:b=>y(b.clientX),upHandler:b=>{u?.removeEventListener("mousemove",g.moveHandler),u?.removeEventListener("mouseup",g.upHandler),c(b.clientX)}},v={moveHandler:b=>(b.cancelable&&(b.preventDefault(),b.stopPropagation()),y(b.touches[0].clientX),!1),upHandler:b=>{var _;u?.removeEventListener("touchmove",v.moveHandler),u?.removeEventListener("touchend",v.upHandler),b.cancelable&&(b.preventDefault(),b.stopPropagation()),c((_=b.touches[0])==null?void 0:_.clientX)}},m=cr()?{passive:!1}:!1;Dt(i)?(u?.addEventListener("touchmove",v.moveHandler,m),u?.addEventListener("touchend",v.upHandler,m)):(u?.addEventListener("mousemove",g.moveHandler,m),u?.addEventListener("mouseup",g.upHandler,m)),n.setColumnSizingInfo(b=>({...b,startOffset:l,startSize:r,deltaOffset:0,deltaPercentage:0,columnSizingStart:s,isResizingColumn:o.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var t;e.setColumnSizing(n?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=n=>{var t;e.setColumnSizingInfo(n?zt():(t=e.initialState.columnSizingInfo)!=null?t:zt())},e.getTotalSize=()=>{var n,t;return(n=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((o,a)=>o+a.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,t;return(n=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((o,a)=>o+a.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,t;return(n=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((o,a)=>o+a.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,t;return(n=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((o,a)=>o+a.getSize(),0))!=null?n:0}}};let ft=null;function cr(){if(typeof ft=="boolean")return ft;let e=!1;try{const n={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,n),window.removeEventListener("test",t)}catch{e=!1}return ft=e,ft}function Dt(e){return e.type==="touchstart"}const gr={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Ve("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=t=>{e.getCanHide()&&n.setColumnVisibility(o=>({...o,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,o;const a=e.columns;return(t=a.length?a.some(i=>i.getIsVisible()):(o=n.getState().columnVisibility)==null?void 0:o[e.id])!=null?t:!0},e.getCanHide=()=>{var t,o;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((o=n.options.enableHiding)!=null?o:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=Z(()=>[e.getAllCells(),n.getState().columnVisibility],t=>t.filter(o=>o.column.getIsVisible()),J(n.options,"debugRows")),e.getVisibleCells=Z(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,o,a)=>[...t,...o,...a],J(n.options,"debugRows"))},createTable:e=>{const n=(t,o)=>Z(()=>[o(),o().filter(a=>a.getIsVisible()).map(a=>a.id).join("_")],a=>a.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),J(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var o;e.setColumnVisibility(t?{}:(o=e.initialState.columnVisibility)!=null?o:{})},e.toggleAllColumnsVisible=t=>{var o;t=(o=t)!=null?o:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((a,i)=>({...a,[i.id]:t||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var o;e.toggleAllColumnsVisible((o=t.target)==null?void 0:o.checked)}}};function lt(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const pr={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},fr={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Ve("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var t;const o=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[n.id])==null?void 0:t.getValue();return typeof o=="string"||typeof o=="number"}}),createColumn:(e,n)=>{e.getCanGlobalFilter=()=>{var t,o,a,i;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((o=n.options.enableGlobalFilter)!=null?o:!0)&&((a=n.options.enableFilters)!=null?a:!0)&&((i=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>ze.includesString,e.getGlobalFilterFn=()=>{var n,t;const{globalFilterFn:o}=e.options;return Pt(o)?o:o==="auto"?e.getGlobalAutoFilterFn():(n=(t=e.options.filterFns)==null?void 0:t[o])!=null?n:ze[o]},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)}}},mr={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Ve("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,t=!1;e._autoResetExpanded=()=>{var o,a;if(!n){e._queue(()=>{n=!0});return}if((o=(a=e.options.autoResetAll)!=null?a:e.options.autoResetExpanded)!=null?o:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=o=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(o),e.toggleAllRowsExpanded=o=>{o??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=o=>{var a,i;e.setExpanded(o?{}:(a=(i=e.initialState)==null?void 0:i.expanded)!=null?a:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(o=>o.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>o=>{o.persist==null||o.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const o=e.getState().expanded;return o===!0||Object.values(o).some(Boolean)},e.getIsAllRowsExpanded=()=>{const o=e.getState().expanded;return typeof o=="boolean"?o===!0:!(!Object.keys(o).length||e.getRowModel().flatRows.some(a=>!a.getIsExpanded()))},e.getExpandedDepth=()=>{let o=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const r=i.split(".");o=Math.max(o,r.length)}),o},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=t=>{n.setExpanded(o=>{var a;const i=o===!0?!0:!!(o!=null&&o[e.id]);let r={};if(o===!0?Object.keys(n.getRowModel().rowsById).forEach(s=>{r[s]=!0}):r=o,t=(a=t)!=null?a:!i,!i&&t)return{...r,[e.id]:!0};if(i&&!t){const{[e.id]:s,...l}=r;return l}return o})},e.getIsExpanded=()=>{var t;const o=n.getState().expanded;return!!((t=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?t:o===!0||o?.[e.id])},e.getCanExpand=()=>{var t,o,a;return(t=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?t:((o=n.options.enableExpanding)!=null?o:!0)&&!!((a=e.subRows)!=null&&a.length)},e.getIsAllParentsExpanded=()=>{let t=!0,o=e;for(;t&&o.parentId;)o=n.getRow(o.parentId,!0),t=o.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},Wt=0,Xt=10,Bt=()=>({pageIndex:Wt,pageSize:Xt}),vr={getInitialState:e=>({...e,pagination:{...Bt(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:Ve("pagination",e)}),createTable:e=>{let n=!1,t=!1;e._autoResetPageIndex=()=>{var o,a;if(!n){e._queue(()=>{n=!0});return}if((o=(a=e.options.autoResetAll)!=null?a:e.options.autoResetPageIndex)!=null?o:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=o=>{const a=i=>Ue(o,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(a)},e.resetPagination=o=>{var a;e.setPagination(o?Bt():(a=e.initialState.pagination)!=null?a:Bt())},e.setPageIndex=o=>{e.setPagination(a=>{let i=Ue(o,a.pageIndex);const r=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,r)),{...a,pageIndex:i}})},e.resetPageIndex=o=>{var a,i;e.setPageIndex(o?Wt:(a=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?a:Wt)},e.resetPageSize=o=>{var a,i;e.setPageSize(o?Xt:(a=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?a:Xt)},e.setPageSize=o=>{e.setPagination(a=>{const i=Math.max(1,Ue(o,a.pageSize)),r=a.pageSize*a.pageIndex,s=Math.floor(r/i);return{...a,pageIndex:s,pageSize:i}})},e.setPageCount=o=>e.setPagination(a=>{var i;let r=Ue(o,(i=e.options.pageCount)!=null?i:-1);return typeof r=="number"&&(r=Math.max(-1,r)),{...a,pageCount:r}}),e.getPageOptions=Z(()=>[e.getPageCount()],o=>{let a=[];return o&&o>0&&(a=[...new Array(o)].fill(null).map((i,r)=>r)),a},J(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:o}=e.getState().pagination,a=e.getPageCount();return a===-1?!0:a===0?!1:o<a-1},e.previousPage=()=>e.setPageIndex(o=>o-1),e.nextPage=()=>e.setPageIndex(o=>o+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var o;return(o=e.options.pageCount)!=null?o:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var o;return(o=e.options.rowCount)!=null?o:e.getPrePaginationRowModel().rows.length}}},Ot=()=>({top:[],bottom:[]}),hr={getInitialState:e=>({rowPinning:Ot(),...e}),getDefaultOptions:e=>({onRowPinningChange:Ve("rowPinning",e)}),createRow:(e,n)=>{e.pin=(t,o,a)=>{const i=o?e.getLeafRows().map(l=>{let{id:d}=l;return d}):[],r=a?e.getParentRows().map(l=>{let{id:d}=l;return d}):[],s=new Set([...r,e.id,...i]);n.setRowPinning(l=>{var d,p;if(t==="bottom"){var y,c;return{top:((y=l?.top)!=null?y:[]).filter(v=>!(s!=null&&s.has(v))),bottom:[...((c=l?.bottom)!=null?c:[]).filter(v=>!(s!=null&&s.has(v))),...Array.from(s)]}}if(t==="top"){var u,g;return{top:[...((u=l?.top)!=null?u:[]).filter(v=>!(s!=null&&s.has(v))),...Array.from(s)],bottom:((g=l?.bottom)!=null?g:[]).filter(v=>!(s!=null&&s.has(v)))}}return{top:((d=l?.top)!=null?d:[]).filter(v=>!(s!=null&&s.has(v))),bottom:((p=l?.bottom)!=null?p:[]).filter(v=>!(s!=null&&s.has(v)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:o,enablePinning:a}=n.options;return typeof o=="function"?o(e):(t=o??a)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:o,bottom:a}=n.getState().rowPinning,i=t.some(s=>o?.includes(s)),r=t.some(s=>a?.includes(s));return i?"top":r?"bottom":!1},e.getPinnedIndex=()=>{var t,o;const a=e.getIsPinned();if(!a)return-1;const i=(t=a==="top"?n.getTopRows():n.getBottomRows())==null?void 0:t.map(r=>{let{id:s}=r;return s});return(o=i?.indexOf(e.id))!=null?o:-1}},createTable:e=>{e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var t,o;return e.setRowPinning(n?Ot():(t=(o=e.initialState)==null?void 0:o.rowPinning)!=null?t:Ot())},e.getIsSomeRowsPinned=n=>{var t;const o=e.getState().rowPinning;if(!n){var a,i;return!!((a=o.top)!=null&&a.length||(i=o.bottom)!=null&&i.length)}return!!((t=o[n])!=null&&t.length)},e._getPinnedRows=(n,t,o)=>{var a;return((a=e.options.keepPinnedRows)==null||a?(t??[]).map(r=>{const s=e.getRow(r,!0);return s.getIsAllParentsExpanded()?s:null}):(t??[]).map(r=>n.find(s=>s.id===r))).filter(Boolean).map(r=>({...r,position:o}))},e.getTopRows=Z(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(n,t)=>e._getPinnedRows(n,t,"top"),J(e.options,"debugRows")),e.getBottomRows=Z(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(n,t)=>e._getPinnedRows(n,t,"bottom"),J(e.options,"debugRows")),e.getCenterRows=Z(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,t,o)=>{const a=new Set([...t??[],...o??[]]);return n.filter(i=>!a.has(i.id))},J(e.options,"debugRows"))}},br={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Ve("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var t;return e.setRowSelection(n?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(t=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const o={...t},a=e.getPreGroupedRowModel().flatRows;return n?a.forEach(i=>{i.getCanSelect()&&(o[i.id]=!0)}):a.forEach(i=>{delete o[i.id]}),o})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(t=>{const o=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),a={...t};return e.getRowModel().rows.forEach(i=>{Yt(a,i.id,o,!0,e)}),a}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Z(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,t)=>Object.keys(n).length?Gt(e,t):{rows:[],flatRows:[],rowsById:{}},J(e.options,"debugTable")),e.getFilteredSelectedRowModel=Z(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,t)=>Object.keys(n).length?Gt(e,t):{rows:[],flatRows:[],rowsById:{}},J(e.options,"debugTable")),e.getGroupedSelectedRowModel=Z(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,t)=>Object.keys(n).length?Gt(e,t):{rows:[],flatRows:[],rowsById:{}},J(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let o=!!(n.length&&Object.keys(t).length);return o&&n.some(a=>a.getCanSelect()&&!t[a.id])&&(o=!1),o},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(a=>a.getCanSelect()),{rowSelection:t}=e.getState();let o=!!n.length;return o&&n.some(a=>!t[a.id])&&(o=!1),o},e.getIsSomeRowsSelected=()=>{var n;const t=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(t,o)=>{const a=e.getIsSelected();n.setRowSelection(i=>{var r;if(t=typeof t<"u"?t:!a,e.getCanSelect()&&a===t)return i;const s={...i};return Yt(s,e.id,t,(r=o?.selectChildren)!=null?r:!0,n),s})},e.getIsSelected=()=>{const{rowSelection:t}=n.getState();return cn(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=n.getState();return Zt(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=n.getState();return Zt(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(t=n.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(t=n.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(t=n.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return o=>{var a;t&&e.toggleSelected((a=o.target)==null?void 0:a.checked)}}}},Yt=(e,n,t,o,a)=>{var i;const r=a.getRow(n,!0);t?(r.getCanMultiSelect()||Object.keys(e).forEach(s=>delete e[s]),r.getCanSelect()&&(e[n]=!0)):delete e[n],o&&(i=r.subRows)!=null&&i.length&&r.getCanSelectSubRows()&&r.subRows.forEach(s=>Yt(e,s.id,t,o,a))};function Gt(e,n){const t=e.getState().rowSelection,o=[],a={},i=function(r,s){return r.map(l=>{var d;const p=cn(l,t);if(p&&(o.push(l),a[l.id]=l),(d=l.subRows)!=null&&d.length&&(l={...l,subRows:i(l.subRows)}),p)return l}).filter(Boolean)};return{rows:i(n.rows),flatRows:o,rowsById:a}}function cn(e,n){var t;return(t=n[e.id])!=null?t:!1}function Zt(e,n,t){var o;if(!((o=e.subRows)!=null&&o.length))return!1;let a=!0,i=!1;return e.subRows.forEach(r=>{if(!(i&&!a)&&(r.getCanSelect()&&(cn(r,n)?i=!0:a=!1),r.subRows&&r.subRows.length)){const s=Zt(r,n);s==="all"?i=!0:(s==="some"&&(i=!0),a=!1)}}),a?"all":i?"some":!1}const Jt=/([0-9]+)/gm,yr=(e,n,t)=>co(He(e.getValue(t)).toLowerCase(),He(n.getValue(t)).toLowerCase()),Sr=(e,n,t)=>co(He(e.getValue(t)),He(n.getValue(t))),wr=(e,n,t)=>gn(He(e.getValue(t)).toLowerCase(),He(n.getValue(t)).toLowerCase()),kr=(e,n,t)=>gn(He(e.getValue(t)),He(n.getValue(t))),_r=(e,n,t)=>{const o=e.getValue(t),a=n.getValue(t);return o>a?1:o<a?-1:0},xr=(e,n,t)=>gn(e.getValue(t),n.getValue(t));function gn(e,n){return e===n?0:e>n?1:-1}function He(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function co(e,n){const t=e.split(Jt).filter(Boolean),o=n.split(Jt).filter(Boolean);for(;t.length&&o.length;){const a=t.shift(),i=o.shift(),r=parseInt(a,10),s=parseInt(i,10),l=[r,s].sort();if(isNaN(l[0])){if(a>i)return 1;if(i>a)return-1;continue}if(isNaN(l[1]))return isNaN(r)?-1:1;if(r>s)return 1;if(s>r)return-1}return t.length-o.length}const at={alphanumeric:yr,alphanumericCaseSensitive:Sr,text:wr,textCaseSensitive:kr,datetime:_r,basic:xr},Cr={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Ve("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const t=n.getFilteredRowModel().flatRows.slice(10);let o=!1;for(const a of t){const i=a?.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return at.datetime;if(typeof i=="string"&&(o=!0,i.split(Jt).length>1))return at.alphanumeric}return o?at.text:at.basic},e.getAutoSortDir=()=>{const t=n.getFilteredRowModel().flatRows[0];return typeof t?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,o;if(!e)throw new Error;return Pt(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(o=n.options.sortingFns)==null?void 0:o[e.columnDef.sortingFn])!=null?t:at[e.columnDef.sortingFn]},e.toggleSorting=(t,o)=>{const a=e.getNextSortingOrder(),i=typeof t<"u"&&t!==null;n.setSorting(r=>{const s=r?.find(u=>u.id===e.id),l=r?.findIndex(u=>u.id===e.id);let d=[],p,y=i?t:a==="desc";if(r!=null&&r.length&&e.getCanMultiSort()&&o?s?p="toggle":p="add":r!=null&&r.length&&l!==r.length-1?p="replace":s?p="toggle":p="replace",p==="toggle"&&(i||a||(p="remove")),p==="add"){var c;d=[...r,{id:e.id,desc:y}],d.splice(0,d.length-((c=n.options.maxMultiSortColCount)!=null?c:Number.MAX_SAFE_INTEGER))}else p==="toggle"?d=r.map(u=>u.id===e.id?{...u,desc:y}:u):p==="remove"?d=r.filter(u=>u.id!==e.id):d=[{id:e.id,desc:y}];return d})},e.getFirstSortDir=()=>{var t,o;return((t=(o=e.columnDef.sortDescFirst)!=null?o:n.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var o,a;const i=e.getFirstSortDir(),r=e.getIsSorted();return r?r!==i&&((o=n.options.enableSortingRemoval)==null||o)&&(!(t&&(a=n.options.enableMultiRemove)!=null)||a)?!1:r==="desc"?"asc":"desc":i},e.getCanSort=()=>{var t,o;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((o=n.options.enableSorting)!=null?o:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,o;return(t=(o=e.columnDef.enableMultiSort)!=null?o:n.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const o=(t=n.getState().sorting)==null?void 0:t.find(a=>a.id===e.id);return o?o.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,o;return(t=(o=n.getState().sorting)==null?void 0:o.findIndex(a=>a.id===e.id))!=null?t:-1},e.clearSorting=()=>{n.setSorting(t=>t!=null&&t.length?t.filter(o=>o.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return o=>{t&&(o.persist==null||o.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(o):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var t,o;e.setSorting(n?[]:(t=(o=e.initialState)==null?void 0:o.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Rr=[Ki,gr,lr,sr,Wi,Xi,pr,fr,Cr,ir,mr,vr,hr,br,dr];function $r(e){var n,t;const o=[...Rr,...(n=e._features)!=null?n:[]];let a={_features:o};const i=a._features.reduce((c,u)=>Object.assign(c,u.getDefaultOptions==null?void 0:u.getDefaultOptions(a)),{}),r=c=>a.options.mergeOptions?a.options.mergeOptions(i,c):{...i,...c};let l={...{},...(t=e.initialState)!=null?t:{}};a._features.forEach(c=>{var u;l=(u=c.getInitialState==null?void 0:c.getInitialState(l))!=null?u:l});const d=[];let p=!1;const y={_features:o,options:{...i,...e},initialState:l,_queue:c=>{d.push(c),p||(p=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();p=!1}).catch(u=>setTimeout(()=>{throw u})))},reset:()=>{a.setState(a.initialState)},setOptions:c=>{const u=Ue(c,a.options);a.options=r(u)},getState:()=>a.options.state,setState:c=>{a.options.onStateChange==null||a.options.onStateChange(c)},_getRowId:(c,u,g)=>{var v;return(v=a.options.getRowId==null?void 0:a.options.getRowId(c,u,g))!=null?v:`${g?[g.id,u].join("."):u}`},getCoreRowModel:()=>(a._getCoreRowModel||(a._getCoreRowModel=a.options.getCoreRowModel(a)),a._getCoreRowModel()),getRowModel:()=>a.getPaginationRowModel(),getRow:(c,u)=>{let g=(u?a.getPrePaginationRowModel():a.getRowModel()).rowsById[c];if(!g&&(g=a.getCoreRowModel().rowsById[c],!g))throw new Error;return g},_getDefaultColumnDef:Z(()=>[a.options.defaultColumn],c=>{var u;return c=(u=c)!=null?u:{},{header:g=>{const v=g.header.column.columnDef;return v.accessorKey?v.accessorKey:v.accessorFn?v.id:null},cell:g=>{var v,m;return(v=(m=g.renderValue())==null||m.toString==null?void 0:m.toString())!=null?v:null},...a._features.reduce((g,v)=>Object.assign(g,v.getDefaultColumnDef==null?void 0:v.getDefaultColumnDef()),{}),...c}},J(e,"debugColumns")),_getColumnDefs:()=>a.options.columns,getAllColumns:Z(()=>[a._getColumnDefs()],c=>{const u=function(g,v,m){return m===void 0&&(m=0),g.map(b=>{const _=Hi(a,b,m,v),I=b;return _.columns=I.columns?u(I.columns,_,m+1):[],_})};return u(c)},J(e,"debugColumns")),getAllFlatColumns:Z(()=>[a.getAllColumns()],c=>c.flatMap(u=>u.getFlatColumns()),J(e,"debugColumns")),_getAllFlatColumnsById:Z(()=>[a.getAllFlatColumns()],c=>c.reduce((u,g)=>(u[g.id]=g,u),{}),J(e,"debugColumns")),getAllLeafColumns:Z(()=>[a.getAllColumns(),a._getOrderColumnsFn()],(c,u)=>{let g=c.flatMap(v=>v.getLeafColumns());return u(g)},J(e,"debugColumns")),getColumn:c=>a._getAllFlatColumnsById()[c]};Object.assign(a,y);for(let c=0;c<a._features.length;c++){const u=a._features[c];u==null||u.createTable==null||u.createTable(a)}return a}function Fr(){return e=>Z(()=>[e.options.data],n=>{const t={rows:[],flatRows:[],rowsById:{}},o=function(a,i,r){i===void 0&&(i=0);const s=[];for(let d=0;d<a.length;d++){const p=un(e,e._getRowId(a[d],d,r),a[d],d,i,void 0,r?.id);if(t.flatRows.push(p),t.rowsById[p.id]=p,s.push(p),e.options.getSubRows){var l;p.originalSubRows=e.options.getSubRows(a[d],d),(l=p.originalSubRows)!=null&&l.length&&(p.subRows=o(p.originalSubRows,i+1,p))}}return s};return t.rows=o(n),t},J(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Pr(){return e=>Z(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(n,t,o)=>!t.rows.length||n!==!0&&!Object.keys(n??{}).length||!o?t:go(t),J(e.options,"debugTable"))}function go(e){const n=[],t=o=>{var a;n.push(o),(a=o.subRows)!=null&&a.length&&o.getIsExpanded()&&o.subRows.forEach(t)};return e.rows.forEach(t),{rows:n,flatRows:e.flatRows,rowsById:e.rowsById}}function Vr(e,n,t){return t.options.filterFromLeafRows?Lr(e,n,t):Ir(e,n,t)}function Lr(e,n,t){var o;const a=[],i={},r=(o=t.options.maxLeafRowFilterDepth)!=null?o:100,s=function(l,d){d===void 0&&(d=0);const p=[];for(let c=0;c<l.length;c++){var y;let u=l[c];const g=un(t,u.id,u.original,u.index,u.depth,void 0,u.parentId);if(g.columnFilters=u.columnFilters,(y=u.subRows)!=null&&y.length&&d<r){if(g.subRows=s(u.subRows,d+1),u=g,n(u)&&!g.subRows.length){p.push(u),i[u.id]=u,a.push(u);continue}if(n(u)||g.subRows.length){p.push(u),i[u.id]=u,a.push(u);continue}}else u=g,n(u)&&(p.push(u),i[u.id]=u,a.push(u))}return p};return{rows:s(e),flatRows:a,rowsById:i}}function Ir(e,n,t){var o;const a=[],i={},r=(o=t.options.maxLeafRowFilterDepth)!=null?o:100,s=function(l,d){d===void 0&&(d=0);const p=[];for(let c=0;c<l.length;c++){let u=l[c];if(n(u)){var y;if((y=u.subRows)!=null&&y.length&&d<r){const v=un(t,u.id,u.original,u.index,u.depth,void 0,u.parentId);v.subRows=s(u.subRows,d+1),u=v}p.push(u),a.push(u),i[u.id]=u}}return p};return{rows:s(e),flatRows:a,rowsById:i}}function Ar(){return e=>Z(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(n,t,o)=>{if(!n.rows.length||!(t!=null&&t.length)&&!o){for(let c=0;c<n.flatRows.length;c++)n.flatRows[c].columnFilters={},n.flatRows[c].columnFiltersMeta={};return n}const a=[],i=[];(t??[]).forEach(c=>{var u;const g=e.getColumn(c.id);if(!g)return;const v=g.getFilterFn();v&&a.push({id:c.id,filterFn:v,resolvedValue:(u=v.resolveFilterValue==null?void 0:v.resolveFilterValue(c.value))!=null?u:c.value})});const r=(t??[]).map(c=>c.id),s=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(c=>c.getCanGlobalFilter());o&&s&&l.length&&(r.push("__global__"),l.forEach(c=>{var u;i.push({id:c.id,filterFn:s,resolvedValue:(u=s.resolveFilterValue==null?void 0:s.resolveFilterValue(o))!=null?u:o})}));let d,p;for(let c=0;c<n.flatRows.length;c++){const u=n.flatRows[c];if(u.columnFilters={},a.length)for(let g=0;g<a.length;g++){d=a[g];const v=d.id;u.columnFilters[v]=d.filterFn(u,v,d.resolvedValue,m=>{u.columnFiltersMeta[v]=m})}if(i.length){for(let g=0;g<i.length;g++){p=i[g];const v=p.id;if(p.filterFn(u,v,p.resolvedValue,m=>{u.columnFiltersMeta[v]=m})){u.columnFilters.__global__=!0;break}}u.columnFilters.__global__!==!0&&(u.columnFilters.__global__=!1)}}const y=c=>{for(let u=0;u<r.length;u++)if(c.columnFilters[r[u]]===!1)return!1;return!0};return Vr(n.rows,y,e)},J(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Er(e){return n=>Z(()=>[n.getState().pagination,n.getPrePaginationRowModel(),n.options.paginateExpandedRows?void 0:n.getState().expanded],(t,o)=>{if(!o.rows.length)return o;const{pageSize:a,pageIndex:i}=t;let{rows:r,flatRows:s,rowsById:l}=o;const d=a*i,p=d+a;r=r.slice(d,p);let y;n.options.paginateExpandedRows?y={rows:r,flatRows:s,rowsById:l}:y=go({rows:r,flatRows:s,rowsById:l}),y.flatRows=[];const c=u=>{y.flatRows.push(u),u.subRows.length&&u.subRows.forEach(c)};return y.rows.forEach(c),y},J(n.options,"debugTable"))}function Tr(){return e=>Z(()=>[e.getState().sorting,e.getPreSortedRowModel()],(n,t)=>{if(!t.rows.length||!(n!=null&&n.length))return t;const o=e.getState().sorting,a=[],i=o.filter(l=>{var d;return(d=e.getColumn(l.id))==null?void 0:d.getCanSort()}),r={};i.forEach(l=>{const d=e.getColumn(l.id);d&&(r[l.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const s=l=>{const d=l.map(p=>({...p}));return d.sort((p,y)=>{for(let u=0;u<i.length;u+=1){var c;const g=i[u],v=r[g.id],m=v.sortUndefined,b=(c=g?.desc)!=null?c:!1;let _=0;if(m){const I=p.getValue(g.id),q=y.getValue(g.id),D=I===void 0,Q=q===void 0;if(D||Q){if(m==="first")return D?-1:1;if(m==="last")return D?1:-1;_=D&&Q?0:D?m:-m}}if(_===0&&(_=v.sortingFn(p,y,g.id)),_!==0)return b&&(_*=-1),v.invertSorting&&(_*=-1),_}return p.index-y.index}),d.forEach(p=>{var y;a.push(p),(y=p.subRows)!=null&&y.length&&(p.subRows=s(p.subRows))}),d};return{rows:s(t.rows),flatRows:a,rowsById:t.rowsById}},J(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * vue-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function mt(){return!0}const Nr=Symbol("merge-proxy"),Mr={get(e,n,t){return n===Nr?t:e.get(n)},has(e,n){return e.has(n)},set:mt,deleteProperty:mt,getOwnPropertyDescriptor(e,n){return{configurable:!0,enumerable:!0,get(){return e.get(n)},set:mt,deleteProperty:mt}},ownKeys(e){return e.keys()}};function jt(e){return"value"in e?e.value:e}function it(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return new Proxy({get(o){for(let a=n.length-1;a>=0;a--){const i=jt(n[a])[o];if(i!==void 0)return i}},has(o){for(let a=n.length-1;a>=0;a--)if(o in jt(n[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<n.length;a++)o.push(...Object.keys(jt(n[a])));return[...Array.from(new Set(o))]}},Mr)}const qt=$e({props:["render","props"],setup:e=>()=>typeof e.render=="function"||typeof e.render=="object"?ee(e.render,e.props):e.render});function Cn(e){return it(e,{data:k(e.data)})}function zr(e){const n=Qo(e.data),t=it({state:{},onStateChange:()=>{},renderFallbackValue:null,mergeOptions(i,r){return n?{...i,...r}:it(i,r)}},n?Cn(e):e),o=$r(t);if(n){const i=ea(e.data);ue(i,()=>{o.setState(r=>({...r,data:i.value}))},{immediate:!0})}const a=W(o.initialState);return ta(()=>{o.setOptions(i=>{var r;const s=new Proxy({},{get:(l,d)=>a.value[d]});return it(i,n?Cn(e):e,{state:it(s,(r=e.state)!=null?r:{}),onStateChange:l=>{l instanceof Function?a.value=l(a.value):a.value=l,e.onStateChange==null||e.onStateChange(l)}})})}),o}const Dr={slots:{root:"relative overflow-auto",base:"min-w-full overflow-clip",caption:"sr-only",thead:"relative",tbody:"divide-y divide-default [&>tr]:data-[selectable=true]:hover:bg-elevated/50 [&>tr]:data-[selectable=true]:focus-visible:outline-primary",tfoot:"relative",tr:"data-[selected=true]:bg-elevated/50",th:"px-4 py-3.5 text-sm text-highlighted text-left rtl:text-right font-semibold [&:has([role=checkbox])]:pe-0",td:"p-4 text-sm text-muted whitespace-nowrap [&:has([role=checkbox])]:pe-0",separator:"absolute z-[1] left-0 w-full h-px bg-(--ui-border-accented)",empty:"py-6 text-center text-sm text-muted",loading:"py-6 text-center"},variants:{pinned:{true:{th:"sticky bg-default/75 data-[pinned=left]:left-0 data-[pinned=right]:right-0",td:"sticky bg-default/75 data-[pinned=left]:left-0 data-[pinned=right]:right-0"}},sticky:{true:{thead:"sticky top-0 inset-x-0 bg-default/75 z-[1] backdrop-blur",tfoot:"sticky bottom-0 inset-x-0 bg-default/75 z-[1] backdrop-blur"},header:{thead:"sticky top-0 inset-x-0 bg-default/75 z-[1] backdrop-blur"},footer:{tfoot:"sticky bottom-0 inset-x-0 bg-default/75 z-[1] backdrop-blur"}},loading:{true:{thead:"after:absolute after:z-[1] after:h-px"}},loadingAnimation:{carousel:"","carousel-inverse":"",swing:"",elastic:""},loadingColor:{primary:"",secondary:"",tertiary:"",rodeodust:"",poison:"",signal:"",info:"",success:"",warning:"",error:"",kalkmark:"",vanligmark:"",time:"",neutral:""}},compoundVariants:[{loading:!0,loadingColor:"primary",class:{thead:"after:bg-primary"}},{loading:!0,loadingColor:"secondary",class:{thead:"after:bg-secondary"}},{loading:!0,loadingColor:"tertiary",class:{thead:"after:bg-tertiary"}},{loading:!0,loadingColor:"rodeodust",class:{thead:"after:bg-rodeodust"}},{loading:!0,loadingColor:"poison",class:{thead:"after:bg-poison"}},{loading:!0,loadingColor:"signal",class:{thead:"after:bg-signal"}},{loading:!0,loadingColor:"info",class:{thead:"after:bg-info"}},{loading:!0,loadingColor:"success",class:{thead:"after:bg-success"}},{loading:!0,loadingColor:"warning",class:{thead:"after:bg-warning"}},{loading:!0,loadingColor:"error",class:{thead:"after:bg-error"}},{loading:!0,loadingColor:"kalkmark",class:{thead:"after:bg-kalkmark"}},{loading:!0,loadingColor:"vanligmark",class:{thead:"after:bg-vanligmark"}},{loading:!0,loadingColor:"time",class:{thead:"after:bg-time"}},{loading:!0,loadingColor:"neutral",class:{thead:"after:bg-inverted"}},{loading:!0,loadingAnimation:"carousel",class:{thead:"after:animate-[carousel_2s_ease-in-out_infinite] rtl:after:animate-[carousel-rtl_2s_ease-in-out_infinite]"}},{loading:!0,loadingAnimation:"carousel-inverse",class:{thead:"after:animate-[carousel-inverse_2s_ease-in-out_infinite] rtl:after:animate-[carousel-inverse-rtl_2s_ease-in-out_infinite]"}},{loading:!0,loadingAnimation:"swing",class:{thead:"after:animate-[swing_2s_ease-in-out_infinite]"}},{loading:!0,loadingAnimation:"elastic",class:{thead:"after:animate-[elastic_2s_ease-in-out_infinite]"}}],defaultVariants:{loadingColor:"primary",loadingAnimation:"carousel"}},Br=["data-pinned","scope","colspan","rowspan"],Or=["data-selected","data-selectable","data-expanded","role","tabindex","onClick","onPointerenter","onContextmenu"],Gr=["data-pinned","colspan","rowspan"],jr=["colspan"],qr={key:1},Ur=["colspan"],Hr={key:2},Kr=["colspan"],Wr=["data-pinned","colspan","rowspan"],Xr={__name:"UTable",props:na({as:{type:null,required:!1},data:{type:Array,required:!1},columns:{type:Array,required:!1},caption:{type:String,required:!1},meta:{type:Object,required:!1},empty:{type:String,required:!1},sticky:{type:[Boolean,String],required:!1},loading:{type:Boolean,required:!1},loadingColor:{type:null,required:!1},loadingAnimation:{type:null,required:!1},watchOptions:{type:Object,required:!1,default:()=>({deep:!0})},globalFilterOptions:{type:Object,required:!1},columnFiltersOptions:{type:Object,required:!1},columnPinningOptions:{type:Object,required:!1},columnSizingOptions:{type:Object,required:!1},visibilityOptions:{type:Object,required:!1},sortingOptions:{type:Object,required:!1},groupingOptions:{type:Object,required:!1},expandedOptions:{type:Object,required:!1},rowSelectionOptions:{type:Object,required:!1},rowPinningOptions:{type:Object,required:!1},paginationOptions:{type:Object,required:!1},facetedOptions:{type:Object,required:!1},onSelect:{type:Function,required:!1},onHover:{type:Function,required:!1},onContextmenu:{type:[Function,Array],required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},state:{type:Object,required:!1},onStateChange:{type:Function,required:!1},renderFallbackValue:{type:null,required:!1},_features:{type:Array,required:!1},autoResetAll:{type:Boolean,required:!1},debugAll:{type:Boolean,required:!1},debugCells:{type:Boolean,required:!1},debugColumns:{type:Boolean,required:!1},debugHeaders:{type:Boolean,required:!1},debugRows:{type:Boolean,required:!1},debugTable:{type:Boolean,required:!1},defaultColumn:{type:Object,required:!1},getRowId:{type:Function,required:!1},getSubRows:{type:Function,required:!1},initialState:{type:Object,required:!1},mergeOptions:{type:Function,required:!1}},{globalFilter:{type:String,default:void 0},globalFilterModifiers:{},columnFilters:{type:Array,default:[]},columnFiltersModifiers:{},columnOrder:{type:Array,default:[]},columnOrderModifiers:{},columnVisibility:{type:Object,default:{}},columnVisibilityModifiers:{},columnPinning:{type:Object,default:{}},columnPinningModifiers:{},columnSizing:{type:Object,default:{}},columnSizingModifiers:{},columnSizingInfo:{type:Object,default:{}},columnSizingInfoModifiers:{},rowSelection:{type:Object,default:{}},rowSelectionModifiers:{},rowPinning:{type:Object,default:{}},rowPinningModifiers:{},sorting:{type:Array,default:[]},sortingModifiers:{},grouping:{type:Array,default:[]},groupingModifiers:{},expanded:{type:[Boolean,Object],default:{}},expandedModifiers:{},pagination:{type:Object,default:{}},paginationModifiers:{}}),emits:["update:globalFilter","update:columnFilters","update:columnOrder","update:columnVisibility","update:columnPinning","update:columnSizing","update:columnSizingInfo","update:rowSelection","update:rowPinning","update:sorting","update:grouping","update:expanded","update:pagination"],setup(e,{expose:n}){const t=e,o=xt(),{t:a}=rn(),i=Ct(),r=W(t.data??[]),s=A(()=>t.meta??{}),l=A(()=>d(t.columns??Object.keys(r.value[0]??{}).map(L=>({accessorKey:L,header:Dn(L)}))));function d(L){return L.map(T=>{const z={...T};return"columns"in z&&z.columns&&(z.columns=d(z.columns)),z.cell||(z.cell=({getValue:F})=>{const j=F();return j===""||j===null||j===void 0?" ":String(j)}),z})}const p=A(()=>Qe({extend:Qe(Dr),...i.ui?.table||{}})({sticky:t.sticky,loading:t.loading,loadingColor:t.loadingColor,loadingAnimation:t.loadingAnimation})),y=A(()=>{function L(T){for(const z of T)if("footer"in z||"columns"in z&&L(z.columns))return!0;return!1}return L(l.value)}),c=Pe(e,"globalFilter",{type:String,default:void 0}),u=Pe(e,"columnFilters",{type:Array,default:[]}),g=Pe(e,"columnOrder",{type:Array,default:[]}),v=Pe(e,"columnVisibility",{type:Object,default:{}}),m=Pe(e,"columnPinning",{type:Object,default:{}}),b=Pe(e,"columnSizing",{type:Object,default:{}}),_=Pe(e,"columnSizingInfo",{type:Object,default:{}}),I=Pe(e,"rowSelection",{type:Object,default:{}}),q=Pe(e,"rowPinning",{type:Object,default:{}}),D=Pe(e,"sorting",{type:Array,default:[]}),Q=Pe(e,"grouping",{type:Array,default:[]}),le=Pe(e,"expanded",{type:[Boolean,Object],default:{}}),ce=Pe(e,"pagination",{type:Object,default:{}}),fe=W(null),P=zr({...En(t,"as","data","columns","caption","sticky","loading","loadingColor","loadingAnimation","class","ui"),data:r,get columns(){return l.value},meta:s.value,getCoreRowModel:Fr(),...t.globalFilterOptions||{},onGlobalFilterChange:L=>x(L,c),...t.columnFiltersOptions||{},getFilteredRowModel:Ar(),onColumnFiltersChange:L=>x(L,u),onColumnOrderChange:L=>x(L,g),...t.visibilityOptions||{},onColumnVisibilityChange:L=>x(L,v),...t.columnPinningOptions||{},onColumnPinningChange:L=>x(L,m),...t.columnSizingOptions||{},onColumnSizingChange:L=>x(L,b),onColumnSizingInfoChange:L=>x(L,_),...t.rowSelectionOptions||{},onRowSelectionChange:L=>x(L,I),...t.rowPinningOptions||{},onRowPinningChange:L=>x(L,q),...t.sortingOptions||{},getSortedRowModel:Tr(),onSortingChange:L=>x(L,D),...t.groupingOptions||{},onGroupingChange:L=>x(L,Q),...t.expandedOptions||{},getExpandedRowModel:Pr(),onExpandedChange:L=>x(L,le),...t.paginationOptions||{},onPaginationChange:L=>x(L,ce),...t.facetedOptions||{},state:{get globalFilter(){return c.value},get columnFilters(){return u.value},get columnOrder(){return g.value},get columnVisibility(){return v.value},get columnPinning(){return m.value},get expanded(){return le.value},get rowSelection(){return I.value},get sorting(){return D.value},get grouping(){return Q.value},get rowPinning(){return q.value},get columnSizing(){return b.value},get columnSizingInfo(){return _.value},get pagination(){return ce.value}}});function x(L,T){T.value=typeof L=="function"?L(T.value):L}function S(L,T){if(!t.onSelect)return;const z=L.target;z.closest("button")||z.closest("a")||(L.preventDefault(),L.stopPropagation(),t.onSelect(T,L))}function $(L,T){t.onHover&&t.onHover(L,T)}function K(L,T){t.onContextmenu&&(Array.isArray(t.onContextmenu)?t.onContextmenu.forEach(z=>z(L,T)):t.onContextmenu(L,T))}function U(L,T){return typeof L=="function"?L(T):L}return ue(()=>t.data,()=>{r.value=t.data?[...t.data]:[]},t.watchOptions),n({tableRef:fe,tableApi:P}),(L,T)=>(h(),G(k(Be),{as:e.as,class:Y(p.value.root({class:[t.ui?.root,t.class]}))},{default:E(()=>[R("table",{ref_key:"tableRef",ref:fe,class:Y(p.value.base({class:[t.ui?.base]}))},[e.caption||o.caption?(h(),V("caption",{key:0,class:Y(p.value.caption({class:[t.ui?.caption]}))},[ae(L.$slots,"caption",{},()=>[oe(ne(e.caption),1)])],2)):O("",!0),R("thead",{class:Y(p.value.thead({class:[t.ui?.thead]}))},[(h(!0),V(pe,null,ve(k(P).getHeaderGroups(),z=>(h(),V("tr",{key:z.id,class:Y(p.value.tr({class:[t.ui?.tr]}))},[(h(!0),V(pe,null,ve(z.headers,F=>(h(),V("th",{key:F.id,"data-pinned":F.column.getIsPinned(),scope:F.colSpan>1?"colgroup":"col",colspan:F.colSpan>1?F.colSpan:void 0,rowspan:F.rowSpan>1?F.rowSpan:void 0,class:Y(p.value.th({class:[t.ui?.th,U(F.column.columnDef.meta?.class?.th,F)],pinned:!!F.column.getIsPinned()}))},[ae(L.$slots,`${F.id}-header`,he({ref_for:!0},F.getContext()),()=>[F.isPlaceholder?O("",!0):(h(),G(k(qt),{key:0,render:F.column.columnDef.header,props:F.getContext()},null,8,["render","props"]))])],10,Br))),128))],2))),128)),R("tr",{class:Y(p.value.separator({class:[t.ui?.separator]}))},null,2)],2),R("tbody",{class:Y(p.value.tbody({class:[t.ui?.tbody]}))},[ae(L.$slots,"body-top"),k(P).getRowModel().rows?.length?(h(!0),V(pe,{key:0},ve(k(P).getRowModel().rows,z=>(h(),V(pe,{key:z.id},[R("tr",{"data-selected":z.getIsSelected(),"data-selectable":!!t.onSelect||!!t.onHover||!!t.onContextmenu,"data-expanded":z.getIsExpanded(),role:t.onSelect?"button":void 0,tabindex:t.onSelect?0:void 0,class:Y(p.value.tr({class:[t.ui?.tr,U(k(P).options.meta?.class?.tr,z)]})),style:Tt(U(k(P).options.meta?.style?.tr,z)),onClick:F=>S(F,z),onPointerenter:F=>$(F,z),onPointerleave:T[0]||(T[0]=F=>$(F,null)),onContextmenu:F=>K(F,z)},[(h(!0),V(pe,null,ve(z.getVisibleCells(),F=>(h(),V("td",{key:F.id,"data-pinned":F.column.getIsPinned(),colspan:U(F.column.columnDef.meta?.colspan?.td,F),rowspan:U(F.column.columnDef.meta?.rowspan?.td,F),class:Y(p.value.td({class:[t.ui?.td,U(F.column.columnDef.meta?.class?.td,F)],pinned:!!F.column.getIsPinned()})),style:Tt(U(F.column.columnDef.meta?.style?.td,F))},[ae(L.$slots,`${F.column.id}-cell`,he({ref_for:!0},F.getContext()),()=>[w(k(qt),{render:F.column.columnDef.cell,props:F.getContext()},null,8,["render","props"])])],14,Gr))),128))],46,Or),z.getIsExpanded()?(h(),V("tr",{key:0,class:Y(p.value.tr({class:[t.ui?.tr]}))},[R("td",{colspan:z.getAllCells().length,class:Y(p.value.td({class:[t.ui?.td]}))},[ae(L.$slots,"expanded",{row:z})],10,jr)],2)):O("",!0)],64))),128)):e.loading&&o.loading?(h(),V("tr",qr,[R("td",{colspan:k(P).getAllLeafColumns().length,class:Y(p.value.loading({class:t.ui?.loading}))},[ae(L.$slots,"loading")],10,Ur)])):(h(),V("tr",Hr,[R("td",{colspan:k(P).getAllLeafColumns().length,class:Y(p.value.empty({class:t.ui?.empty}))},[ae(L.$slots,"empty",{},()=>[oe(ne(e.empty||k(a)("table.noData")),1)])],10,Kr)])),ae(L.$slots,"body-bottom")],2),y.value?(h(),V("tfoot",{key:1,class:Y(p.value.tfoot({class:[t.ui?.tfoot]}))},[R("tr",{class:Y(p.value.separator({class:[t.ui?.separator]}))},null,2),(h(!0),V(pe,null,ve(k(P).getFooterGroups(),z=>(h(),V("tr",{key:z.id,class:Y(p.value.tr({class:[t.ui?.tr]}))},[(h(!0),V(pe,null,ve(z.headers,F=>(h(),V("th",{key:F.id,"data-pinned":F.column.getIsPinned(),colspan:F.colSpan>1?F.colSpan:void 0,rowspan:F.rowSpan>1?F.rowSpan:void 0,class:Y(p.value.th({class:[t.ui?.th,U(F.column.columnDef.meta?.class?.th,F)],pinned:!!F.column.getIsPinned()})),style:Tt(U(F.column.columnDef.meta?.style?.th,F))},[ae(L.$slots,`${F.id}-footer`,he({ref_for:!0},F.getContext()),()=>[F.isPlaceholder?O("",!0):(h(),G(k(qt),{key:0,render:F.column.columnDef.footer,props:F.getContext()},null,8,["render","props"]))])],14,Wr))),128))],2))),128))],2)):O("",!0)],2)]),_:3},8,["as","class"]))}},Yr={slots:{root:"",list:"flex items-center gap-1",ellipsis:"pointer-events-none",label:"min-w-5 text-center",first:"",prev:"",item:"",next:"",last:""}},po={__name:"UPagination",props:{as:{type:null,required:!1},firstIcon:{type:[String,Object],required:!1},prevIcon:{type:[String,Object],required:!1},nextIcon:{type:[String,Object],required:!1},lastIcon:{type:[String,Object],required:!1},ellipsisIcon:{type:[String,Object],required:!1},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"outline"},activeColor:{type:null,required:!1,default:"primary"},activeVariant:{type:null,required:!1,default:"solid"},showControls:{type:Boolean,required:!1,default:!0},size:{type:null,required:!1},to:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultPage:{type:Number,required:!1},disabled:{type:Boolean,required:!1},itemsPerPage:{type:Number,required:!1,default:10},page:{type:Number,required:!1},showEdges:{type:Boolean,required:!1,default:!1},siblingCount:{type:Number,required:!1,default:2},total:{type:Number,required:!1,default:0}},emits:["update:page"],setup(e,{emit:n}){const t=e,o=n,a=xt(),{dir:i}=rn(),r=Ct(),s=ln(zn(t,"as","defaultPage","disabled","itemsPerPage","page","showEdges","siblingCount","total"),o),l=A(()=>t.firstIcon||(i.value==="rtl"?r.ui.icons.chevronDoubleRight:r.ui.icons.chevronDoubleLeft)),d=A(()=>t.prevIcon||(i.value==="rtl"?r.ui.icons.chevronRight:r.ui.icons.chevronLeft)),p=A(()=>t.nextIcon||(i.value==="rtl"?r.ui.icons.chevronLeft:r.ui.icons.chevronRight)),y=A(()=>t.lastIcon||(i.value==="rtl"?r.ui.icons.chevronDoubleLeft:r.ui.icons.chevronDoubleRight)),c=A(()=>Qe({extend:Qe(Yr),...r.ui?.pagination||{}})());return(u,g)=>(h(),G(k(ka),he(k(s),{class:c.value.root({class:[t.ui?.root,t.class]})}),{default:E(({page:v,pageCount:m})=>[w(k(Va),{class:Y(c.value.list({class:t.ui?.list}))},{default:E(({items:b})=>[e.showControls||a.first?(h(),G(k(xa),{key:0,"as-child":"",class:Y(c.value.first({class:t.ui?.first}))},{default:E(()=>[ae(u.$slots,"first",{},()=>[w(Ce,{color:e.color,variant:e.variant,size:e.size,icon:l.value,to:e.to?.(1)},null,8,["color","variant","size","icon","to"])])]),_:3},8,["class"])):O("",!0),e.showControls||a.prev?(h(),G(k(Na),{key:1,"as-child":"",class:Y(c.value.prev({class:t.ui?.prev}))},{default:E(()=>[ae(u.$slots,"prev",{},()=>[w(Ce,{color:e.color,variant:e.variant,size:e.size,icon:d.value,to:v>1?e.to?.(v-1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):O("",!0),(h(!0),V(pe,null,ve(b,(_,I)=>(h(),V(pe,{key:I},[_.type==="page"?(h(),G(k(Ia),{key:0,"as-child":"",value:_.value,class:Y(c.value.item({class:t.ui?.item}))},{default:E(()=>[ae(u.$slots,"item",he({ref_for:!0},{item:_,index:I,page:v,pageCount:m}),()=>[w(Ce,{color:v===_.value?e.activeColor:e.color,variant:v===_.value?e.activeVariant:e.variant,size:e.size,label:String(_.value),ui:{label:c.value.label()},to:e.to?.(_.value),square:""},null,8,["color","variant","size","label","ui","to"])])]),_:2},1032,["value","class"])):(h(),G(k(ya),{key:1,"as-child":"",class:Y(c.value.ellipsis({class:t.ui?.ellipsis}))},{default:E(()=>[ae(u.$slots,"ellipsis",{},()=>[w(Ce,{as:"div",color:e.color,variant:e.variant,size:e.size,icon:e.ellipsisIcon||k(r).ui.icons.ellipsis},null,8,["color","variant","size","icon"])])]),_:3},8,["class"]))],64))),128)),e.showControls||a.next?(h(),G(k(Ea),{key:2,"as-child":"",class:Y(c.value.next({class:t.ui?.next}))},{default:E(()=>[ae(u.$slots,"next",{},()=>[w(Ce,{color:e.color,variant:e.variant,size:e.size,icon:p.value,to:v<m?e.to?.(v+1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):O("",!0),e.showControls||a.last?(h(),G(k(Ra),{key:3,"as-child":"",class:Y(c.value.last({class:t.ui?.last}))},{default:E(()=>[ae(u.$slots,"last",{},()=>[w(Ce,{color:e.color,variant:e.variant,size:e.size,icon:y.value,to:e.to?.(m)},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):O("",!0)]),_:2},1032,["class"])]),_:3},16,["class"]))}},Zr=JSON.parse('[{"geo":"Norr","forest":"Granskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Norr","forest":"Granskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Norr","forest":"Granskog","veg":"Örter_grupp","age":"91"},{"geo":"Norr","forest":"Granskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Granskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Norr","forest":"Granskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Norr","forest":"Granskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Norr","forest":"Granskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Granskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Norr","forest":"Granskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Norr","forest":"Granskog","veg":"Lingon_grupp","age":"91"},{"geo":"Norr","forest":"Granskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Tallskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Norr","forest":"Tallskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Norr","forest":"Tallskog","veg":"Örter_grupp","age":"91"},{"geo":"Norr","forest":"Tallskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Tallskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Norr","forest":"Tallskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Norr","forest":"Tallskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Norr","forest":"Tallskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Tallskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Norr","forest":"Tallskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Norr","forest":"Tallskog","veg":"Lingon_grupp","age":"91"},{"geo":"Norr","forest":"Tallskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Barrblandskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Norr","forest":"Barrblandskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Norr","forest":"Barrblandskog","veg":"Örter_grupp","age":"91"},{"geo":"Norr","forest":"Barrblandskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Norr","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Norr","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Norr","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Barrblandskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Norr","forest":"Barrblandskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Norr","forest":"Barrblandskog","veg":"Lingon_grupp","age":"91"},{"geo":"Norr","forest":"Barrblandskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Lövblandskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Norr","forest":"Lövblandskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Norr","forest":"Lövblandskog","veg":"Örter_grupp","age":"91"},{"geo":"Norr","forest":"Lövblandskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Norr","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Norr","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Norr","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Lövblandskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Norr","forest":"Lövblandskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Norr","forest":"Lövblandskog","veg":"Lingon_grupp","age":"91"},{"geo":"Norr","forest":"Lövblandskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Lövskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Norr","forest":"Lövskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Norr","forest":"Lövskog","veg":"Örter_grupp","age":"91"},{"geo":"Norr","forest":"Lövskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Lövskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Norr","forest":"Lövskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Norr","forest":"Lövskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Lövskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Norr","forest":"Lövskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Norr","forest":"Lövskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Naturbete","veg":"Örter_grupp","age":"1-40"},{"geo":"Norr","forest":"Naturbete","veg":"Örter_grupp","age":"41-90"},{"geo":"Norr","forest":"Naturbete","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Granskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"Granskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"Granskog","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"Granskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Granskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"Granskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"Granskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Söder","forest":"Granskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Granskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Söder","forest":"Granskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Tallskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"Tallskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"Tallskog","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"Tallskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Tallskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"Tallskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"Tallskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Söder","forest":"Tallskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Tallskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Söder","forest":"Tallskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Söder","forest":"Tallskog","veg":"Lingon_grupp","age":"91"},{"geo":"Söder","forest":"Tallskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Barrblandskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"Barrblandskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"Barrblandskog","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"Barrblandskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Söder","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Barrblandskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Söder","forest":"Barrblandskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Söder","forest":"Barrblandskog","veg":"Lingon_grupp","age":"91"},{"geo":"Söder","forest":"Barrblandskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Lövblandskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"Lövblandskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"Lövblandskog","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"Lövblandskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Söder","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Lövblandskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Söder","forest":"Lövblandskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Lövskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"Lövskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"Lövskog","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"Lövskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Lövskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"Lövskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"Lövskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Lövskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Söder","forest":"Lövskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Naturbete","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"Naturbete","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"Naturbete","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"Naturbete","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Naturbete","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"Naturbete","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"Naturbete","veg":"Blåbär_grupp","age":"91"},{"geo":"Söder","forest":"Naturbete","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"EkBokskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"EkBokskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"EkBokskog","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"EkBokskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"EkBokskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"EkBokskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"EkBokskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Söder","forest":"EkBokskog","veg":"Blåbär_grupp","age":"allaåldrar"}]');function Vt(e,n,t,o){return!e||!n||!t||!o?!1:Zr.some(a=>a.geo===e&&a.forest===n&&a.age===t&&a.veg===o)}const Jr={class:""},Qr={class:""},el={key:0,class:"flex md:gap-2 mt-2 justify-between z-30"},tl={class:"flex gap-2 items-end justify-between w-full mb-2"},nl={class:"flex gap-2"},ol={class:"flex my-1 gap-2 overflow-scroll",id:"scrollbar"},al={key:1,class:"hidden md:flex"},il={key:1,class:"flex my-1 gap-2 overflow-scroll",id:"scrollbar"},rl={key:0,class:"flex gap-2 w-full mb-2"},ll={class:""},sl={key:0,class:"md:flex justify-between items-center pb-2 md:pt-5 md:p-5 md:border-t-[1px] border-neutral-200 dark:border-neutral-700"},ul={class:"flex h-fit shrink-0 gap-1 items-center justify-between"},dl={class:"flex"},cl={class:"hidden md:flex"},gl={key:0},pl={class:"flex justify-center"},fl={key:2},ml={class:"max-w-sm space-y-2 mt-2"},vl={__name:"SpeciesTable",props:{isNormalView:{type:Boolean,default:!1},dataTypeFolder:{type:String,default:"edna"},dataType:{type:String,default:"edna"},grupp:{type:String,default:"Svamp-grupp-släkte"},mat:{type:String,default:"matsvamp"},obs:{type:String,default:"sample_plot_count"},obsLabel:{type:String,default:"Förekomst"},columnVisibilityOverrides:{type:Object,default:()=>({})},filterEdible:{type:Boolean,default:!1},filterPoison:{type:Boolean,default:!1},searchTerm:{type:String,default:""}},emits:["enlarge","update:matsvampFilter","update:giftsvampFilter","update:gruppFilter","update:statusFilter","update:searchTerm"],setup(e,{emit:n}){const t=Xe("(max-width: 767px)"),o=A(()=>t.value||l.isNormalView&&l.dataTypeFolder!=="edna"),a=n,i=W("");let r=null;function s(f){i.value=f,r&&clearTimeout(r),r=setTimeout(()=>{a("update:searchTerm",i.value)},300)}Bn(()=>{r&&clearTimeout(r)});const l=e,d=oa("table"),p=o.value?{RankRed:!1,"Rank matsvamp":!1,"Rank giftsvamp":!1,[l.grupp]:!1,mark:!1,[l.mat]:!1,RL2020kat:!1,Commonname:!1,Scientificname:!1,images:!1,[l.obs]:!1}:{RankRed:!1,"Rank matsvamp":!1,"Rank giftsvamp":!1};l.dataType==="edna"&&(p.mark=!1);const y=W({...p,...l.columnVisibilityOverrides}),c=W([]),u=A(()=>{const f={};Ze.value.forEach(B=>{B.KALKmark&&(f.KALKmark=(f.KALKmark||0)+1),B.ANNANmark&&(f.ANNANmark=(f.ANNANmark||0)+1)});const C=d.value?.tableApi?.getFilteredRowModel()?.rows||[],N={};return C.forEach(B=>{const X=B.original;X.KALKmark&&(N.KALKmark=(N.KALKmark||0)+1),X.ANNANmark&&(N.ANNANmark=(N.ANNANmark||0)+1)}),[{label:`Kalkmark (${N.KALKmark||0}/${f.KALKmark||0})`,value:"KALKmark"},{label:`Vanlig skogsmark (${N.ANNANmark||0}/${f.ANNANmark||0})`,value:"ANNANmark"}]}),g=A(()=>u.value.map(f=>({label:f.label,type:"checkbox",checked:c.value.includes(f.value),onUpdateChecked(C){C?c.value.includes(f.value)||c.value.push(f.value):c.value=c.value.filter(N=>N!==f.value)},onSelect(C){C.preventDefault()}}))),v=A(()=>{const f=["Matsvamp","Giftsvamp"],C={};Ze.value.forEach(X=>{const te=X[l.mat];l.mat==="Nyasvamp-boken"?te&&String(te).toLowerCase()==="x"&&(C.Matsvamp=(C.Matsvamp||0)+1):te==1&&(C.Matsvamp=(C.Matsvamp||0)+1),(X.Giftsvamp||"").toLowerCase()==="x"&&(C.Giftsvamp=(C.Giftsvamp||0)+1)});const N=d.value?.tableApi?.getFilteredRowModel()?.rows||[],B={};return N.forEach(X=>{const te=X.original,ie=te[l.mat];(l.mat==="Nyasvamp-boken"?ie&&String(ie).toLowerCase()==="x":ie==1)&&(B.Matsvamp=(B.Matsvamp||0)+1),(te.Giftsvamp||"").toLowerCase()==="x"&&(B.Giftsvamp=(B.Giftsvamp||0)+1)}),f.map(X=>{const te=C[X]||0,ie=B[X]||0;return{label:`${X} (${ie}/${te})`,value:X}})}),m=W(l.isNormalView?500:10),b=W([]),_=W([]),I=W([]),q=A(()=>fe.value.map(f=>({label:f.label,type:"checkbox",checked:I.value.includes(f.value),onUpdateChecked(C){C?I.value.includes(f.value)||I.value.push(f.value):I.value=I.value.filter(N=>N!==f.value)},onSelect(C){C.preventDefault()}}))),D=A(()=>v.value.map(f=>({label:f.label,type:"checkbox",checked:b.value.includes(f.value),onUpdateChecked(C){C?b.value.includes(f.value)||b.value.push(f.value):b.value=b.value.filter(N=>N!==f.value)},onSelect(C){C.preventDefault()}}))),Q=A(()=>P.value.map(f=>({label:f.label,type:"checkbox",checked:_.value.includes(f.value),onUpdateChecked(C){C?_.value.includes(f.value)||_.value.push(f.value):_.value=_.value.filter(N=>N!==f.value)},onSelect(C){C.preventDefault()}}))),le=A(()=>[{label:"Namn",children:[{label:"A → Ö",onSelect(f){f.preventDefault(),d.value?.tableApi?.setSorting([{id:"Commonname",desc:!1}])}},{label:"Ö → A",onSelect(f){f.preventDefault(),d.value?.tableApi?.setSorting([{id:"Commonname",desc:!0}])}}]},{label:"Vetenskapligt namn",children:[{label:"A → Ö",onSelect(f){f.preventDefault(),d.value?.tableApi?.setSorting([{id:"Scientificname",desc:!1}])}},{label:"Ö → A",onSelect(f){f.preventDefault(),d.value?.tableApi?.setSorting([{id:"Scientificname",desc:!0}])}}]},{label:l.obsLabel||"Förekomst",children:[{label:"Högst → Lägst",onSelect(f){f.preventDefault(),d.value?.tableApi?.setSorting([{id:l.obs,desc:!1}])}},{label:"Lägst → Högst",onSelect(f){f.preventDefault(),d.value?.tableApi?.setSorting([{id:l.obs,desc:!0}])}}]}]),ce=A(()=>[{label:"Grupp",children:q.value},{label:"Matsvamp",children:D.value},{label:"Status",children:Q.value},{label:"Mark",children:g.value}]),fe=A(()=>{const f={};Ze.value.forEach(B=>{const X=B[l.grupp];X&&(f[X]=(f[X]||0)+1)});const C=d.value?.tableApi?.getFilteredRowModel()?.rows||[],N={};return C.forEach(B=>{const te=B.original[l.grupp];te&&(N[te]=(N[te]||0)+1)}),Object.keys(f).map(B=>{const X=f[B]||0,te=N[B]||0;return{label:`${K(B)} (${te}/${X})`,value:B}})}),P=A(()=>{const f=["LC","NT","EN","VU","CR","RE","DD"],C={};Ze.value.forEach(X=>{const te=X.RL2020kat;f.includes(te)?C[te]=(C[te]||0)+1:te===null||te==="0"||te===0||String(te).toUpperCase()==="NE"?C["Ej bedömd"]=(C["Ej bedömd"]||0)+1:String(te).toUpperCase()==="NA"&&(C["Ej tillämplig"]=(C["Ej tillämplig"]||0)+1),X.SIGNAL_art==="S"&&(C.Signalart=(C.Signalart||0)+1)});const N=d.value?.tableApi?.getFilteredRowModel()?.rows||[],B={};return N.forEach(X=>{const te=X.original,ie=te.RL2020kat;f.includes(ie)?B[ie]=(B[ie]||0)+1:ie===null||ie==="0"||ie===0||String(ie).toUpperCase()==="NE"?B["Ej bedömd"]=(B["Ej bedömd"]||0)+1:String(ie).toUpperCase()==="NA"&&(B["Ej tillämplig"]=(B["Ej tillämplig"]||0)+1),te.SIGNAL_art==="S"&&(B.Signalart=(B.Signalart||0)+1)}),[...f.map(X=>{const te=C[X]||0,ie=B[X]||0;return{label:`${z(X)} (${ie}/${te})`,value:X}}),(()=>{const X=C["Ej bedömd"]||0;return{label:`Ej bedömd (${B["Ej bedömd"]||0}/${X})`,value:"Ej bedömd"}})(),(()=>{const X=C["Ej tillämplig"]||0;return{label:`Ej tillämplig (${B["Ej tillämplig"]||0}/${X})`,value:"Ej tillämplig"}})(),(()=>{const X=C.Signalart||0;return{label:`Signalart (${B.Signalart||0}/${X})`,value:"Signalart"}})()]}),x=W({pageIndex:0,pageSize:10}),S=Rt();function $(f,C){S.selectSpecies(f.original,"edna")}const K=f=>f?f.charAt(0).toUpperCase()+f.slice(1).toLowerCase():"",U=A(()=>be.value.length>0?be.value[0].sample_env_count:0),L=f=>`/images/svampgrupp/${{övrigt:"ovrigt.webp",hattsvamp:"hattsvamp.png",kantarell:"kantarell.webp",sopp:"sopp.png",taggsvamp:"taggsvamp.png",fingersvamp:"fingersvamp.webp",tryffel:"tryffel.webp",skinnsvamp:"skinnsvamp.webp",skålsvamp:"skalsvamp.webp"}[f]||"default-icon.webp"}`,T=f=>({LC:"success",NT:"error",EN:"error",VU:"error",CR:"error",RE:"error",DD:"neutral"})[f]||"neutral",z=f=>{const C={LC:"Livskraftig",NT:"Nära hotad",EN:"Starkt hotad",VU:"Sårbar",CR:"Akut hotad",RE:"Nationellt utdöd",DD:"Kunskapsbrist"};return f===null||f===0||String(f).toUpperCase()==="NE"?"Ej bedömd":String(f).toUpperCase()==="NA"?"Ej tillämplig":C[f]||"Ej bedömd"},F=l.obs.startsWith("Rank"),j=W(F?[{id:l.obs,desc:!1},{id:"Commonname",desc:!1}]:[{id:l.obs,desc:!0}]),H=_t,ge=aa,se=Ce,me=Gi,de=an,ye=[{accessorKey:"images",header:"",sortable:!1,cell:({row:f})=>{const C=f.getValue("images")||[];return C.length?ee("img",{src:C[0],class:"h-14 w-20 object-cover -my-3 rounded-md border border-neutral-100 dark:border-neutral-800",alt:f.original?.Commonname?`${f.original.Commonname} bild`:"Species image",loading:"lazy",decoding:"async",height:300,width:450}):null},meta:{headerText:"Bild"}},{accessorKey:"Commonname",header:({column:f})=>{const C=f.getIsSorted();return ee(se,{color:"neutral",variant:"outline",label:"Namn",icon:C?C==="asc"?"i-lucide-arrow-up-narrow-wide":"i-lucide-arrow-down-wide-narrow":"i-lucide-arrow-up-down",class:"-mx-2.5 ring-muted/50 shadow",onClick:()=>f.toggleSorting(C==="asc")})},cell:({row:f})=>ee("div",{class:"text-neutral-700 dark:text-neutral-200 font-semibold truncate text-[16px]"},K(f.getValue("Commonname"))),filterFn:(f,C,N)=>{if(!N)return!0;const B=String(N).toLowerCase(),X=String(f.getValue("Commonname")||"").toLowerCase(),te=String(f.getValue("Scientificname")||"").toLowerCase();return X.includes(B)||te.includes(B)},meta:{headerText:"Namn"}},{accessorKey:"Scientificname",header:({column:f})=>{const C=f.getIsSorted();return ee(se,{color:"neutral",variant:"outline",label:"Latinskt namn",icon:C?C==="asc"?"i-lucide-arrow-up-narrow-wide":"i-lucide-arrow-down-wide-narrow":"i-lucide-arrow-up-down",class:"-mx-2.5 ring-muted/50 shadow",onClick:()=>f.toggleSorting(C==="asc")})},cell:({row:f})=>ee("div",{class:"truncate  text-[16px]"},f.getValue("Scientificname")),meta:{headerText:"Latinskt namn"}},{accessorKey:l.grupp,header:()=>ee(me,{items:q.value,content:{align:"start"},ui:{content:"w-48"}},{default:()=>ee(se,{label:"Grupp",variant:"outline",color:"neutral",icon:"i-lucide-list-filter",class:"-mx-2.5 ring-muted/50 shadow"})}),filterFn:(f,C,N)=>!N||N.length===0?!0:N.includes(f.getValue(C)),cell:({row:f})=>{const C=f.getValue(l.grupp);return C!=="Saknas"?ee("img",{src:L(C),alt:`${C||"Svamp"} ikon`,class:"w-6",loading:"lazy",decoding:"async"}):ee(de,{name:"heroicons:x-mark-20-solid",class:"size-7"})},meta:{headerText:"Grupp"}},{accessorKey:"mark",enableHiding:l.dataType!=="edna",header:()=>ee(me,{items:g.value,content:{align:"start"},ui:{content:"w-48"}},{default:()=>ee(se,{label:"Mark",variant:"outline",color:"neutral",icon:"i-lucide-list-filter",class:"-mx-2.5 ring-muted/50 shadow"})}),filterFn:(f,C,N)=>{if(!N||N.length===0)return!0;let B=!1;return N.includes("KALKmark")&&f.original.KALKmark&&(B=!0),N.includes("ANNANmark")&&f.original.ANNANmark&&(B=!0),B},cell:({row:f})=>ee("div",{class:"flex items-center space-x-1"},[f.original.KALKmark&&ee(H,{color:"kalkmark",variant:"subtle"},()=>"Kalkmark"),f.original.ANNANmark&&ee(H,{color:"vanligmark",variant:"subtle"},()=>"Vanlig skogsmark")].filter(Boolean)),meta:{headerText:"Mark"}},{accessorKey:l.mat,header:()=>ee(me,{items:D.value,content:{align:"start"},ui:{content:"w-48"}},{default:()=>ee(se,{label:"Matsvamp",variant:"outline",color:"neutral",icon:"i-lucide-list-filter",class:"-mx-2.5 ring-muted/50 shadow"})}),filterFn:(f,C,N)=>{if(!N||N.length===0)return!0;let B=!1;return N.includes("Matsvamp")&&(l.mat==="Nyasvamp-boken"?B=B||f.getValue(C)?.toLowerCase()==="x":B=B||f.getValue(C)===1),N.includes("Giftsvamp")&&(B=B||(f.original.Giftsvamp||"").toLowerCase()==="x"),B},cell:({row:f})=>ee("div",{class:"flex gap-1"},[(l.mat==="Nyasvamp-boken"?f.getValue(l.mat)?.toLowerCase()==="x":f.getValue(l.mat)===1)&&ee(H,{color:"warning",variant:"subtle"},()=>"Matsvamp"),f.original.Giftsvamp?.toLowerCase()==="x"&&ee(H,{color:"poison",variant:"subtle"},()=>"Giftsvamp")].filter(Boolean)),meta:{headerText:"Matsvamp"}},{accessorKey:"RL2020kat",header:()=>ee(me,{items:Q.value,content:{align:"start"},ui:{content:"w-48"}},{default:()=>ee(se,{label:"Status",variant:"outline",color:"neutral",icon:"i-lucide-list-filter",class:"-mx-2.5 ring-muted/50 shadow"})}),filterFn:(f,C,N)=>{if(!N||N.length===0)return!0;const B=f.getValue(C);return N.some(X=>X==="Ej bedömd"?B===null||B===0||B==="0"||String(B).toUpperCase()==="NE":X==="Ej tillämplig"?String(B).toUpperCase()==="NA":X==="Signalart"?f.original.SIGNAL_art==="S":X===B)},cell:({row:f})=>{const C=f.getValue("RL2020kat"),N=ee(H,{color:T(C),variant:"subtle"},()=>z(C)),B=f.original.SIGNAL_art==="S"?ee(H,{color:"signal",variant:"subtle"},"Signalart"):null;return ee("div",{class:"flex gap-1"},[N,B].filter(Boolean))},meta:{headerText:"Status"}},{accessorKey:l.obs,header:({column:f})=>{const C=f.getIsSorted();return ee(se,{color:"neutral",variant:"outline",label:l.obsLabel,icon:C?C==="asc"?"i-lucide-arrow-up-narrow-wide":"i-lucide-arrow-down-wide-narrow":"i-lucide-arrow-up-down",class:"-mx-2.5 ring-muted/50 shadow",onClick:()=>f.toggleSorting(C==="asc")})},cell:({row:f})=>{const C=f.getValue(l.obs);return l.obs.startsWith("Rank")?C===3?ee("span",{class:"text-red-700"},"Sällsynt"):C===2?ee("span",{class:"text-yellow-600"},"Ovanlig"):null:ee(H,{variant:"subtle",color:"secondary"},()=>`${C} skogar`)},meta:{headerText:l.obsLabel}}],Se=[{header:"Namn",cell:({row:f})=>{const C=f.original.images||[];let N=null;const B=l.filterPoison?f.original["Rank giftsvamp"]:l.filterEdible?f.original["Rank matsvamp"]:f.original.RankRed;B===3?N=ee(de,{name:"codicon:circle-large-filled",class:"text-red-700 ml-1 size-3.5"}):B===2&&(N=ee(de,{name:"codicon:color-mode",class:"text-yellow-600 ml-1 size-3.5"}));const X=C.length?ee("img",{src:C[0],alt:f.original.Commonname||"Svampbild",class:"h-20 w-26 object-cover rounded sm:rounded-md border-[0.5px] border-neutral-200 dark:border-neutral-800 md:ml-2",loading:"lazy",decoding:"async",height:300,width:450}):ee("div",{class:"h-20 w-26 rounded-sm flex items-center justify-center bg-neutral-100 dark:bg-neutral-800 md:ml-2"},[ee("img",{src:L(f.original[l.grupp]),alt:`${f.original[l.grupp]||"Svamp"} icon`,class:"w-6 h-6",loading:"lazy",decoding:"async"})]),te=ee("div",{class:"flex items-center text-neutral-700 dark:text-neutral-200"},[ee("div",{class:"flex-1 min-w-0"},[ee("div",{class:"text-lg font-semibold whitespace-normal break-words"},[K(f.original.Commonname),N]),ee("small",{class:"text-xs text-neutral-500 dark:text-neutral-400 italic block truncate max-w-48"},f.original.Scientificname)])]),ie=f.original[l.mat];(l.mat==="Nyasvamp-boken"?ie&&String(ie).toLowerCase()==="x":ie===1)&&ee(H,{color:"warning",variant:"subtle",size:"sm"},()=>"Matsvamp");const M=ee("div",{class:"flex flex-wrap gap-2 mt-2 "},[f.original.RL2020kat!=="LC"&&f.original.RL2020kat!=="NA"&&f.original.RL2020kat!=="NE"&&f.original.RL2020kat!=="0"?ee(H,{color:T(f.original.RL2020kat),variant:"subtle",size:"md"},()=>z(f.original.RL2020kat)):null,f.original.SIGNAL_art==="S"?ee(H,{color:"signal",variant:"subtle",size:"md"},()=>"Signalart"):null,l.dataType==="edna"?ee(ge,{modelValue:f.getValue(l.obs),max:U.value,color:"secondary",size:"sm",status,indeterminate:!1,"onUpdate:modelValue":()=>{}}):null].filter(Boolean));return ee("div",{class:"flex space-x-4 items-start"},[X,ee("div",{class:"flex flex-col flex-1"},[te,M])])},meta:{headerText:"Namn"}},...ye.map(f=>f.accessorKey==="mark"?{...f,enableHiding:l.dataType!=="edna"}:f)],Re=A(()=>o.value?Se:ye),Ie=A(()=>({thead:o.value?"hidden":"hidden md:table-header-group",tbody:o.value?"divide-none":"divide-none md:divide-dotted",td:o.value?"px-0 pt-2 pb-3 cursor-pointer":"px-0 md:px-4 md:pt-4 md:pb-4 pt-2 pb-3"})),Ge=W(0),Ye=W(0),be=W([]),We=W(!0),fn=W([]),fo=(f,C,N)=>{const B=(C[0]-f[0])/(N-1),X=(C[1]-f[1])/(N-1),te=(C[2]-f[2])/(N-1),ie=[];for(let we=0;we<N;we++){const M=Math.round(f[0]+B*we),Fe=Math.round(f[1]+X*we),ke=Math.round(f[2]+te*we);ie.push(`rgb(${M}, ${Fe}, ${ke})`)}return ie},st=()=>{be.value=[],Ge.value=0,Ye.value=0,fn.value=[]},mo=async()=>{if([_e.geography,_e.forestType,_e.standAge,_e.vegetationType].some(N=>!N)){st(),We.value=!1;return}if(l.dataTypeFolder==="edna"&&!Vt(_e.geography,_e.forestType,_e.standAge,_e.vegetationType)){st(),We.value=!1;return}const C=`${l.dataType}-${_e.geography}-${_e.forestType}-${_e.standAge}-${_e.vegetationType}.json`;try{const N=await fetch(`/${l.dataTypeFolder}/${C}`);if(!N.ok){if(N.status===404){st(),We.value=!1;return}throw new Error(`Failed to fetch data from ${C}`)}be.value=await N.json(),We.value=!1,be.value.forEach((ie,we)=>{ie.colorIndex=we});const B=be.value.length;Ge.value=Math.floor(B*.1),Ye.value=B-Ge.value;const X=fo([82,82,82],[212,212,212],Ge.value),te=vo(Ye.value);fn.value=[...X,...te]}catch(N){console.error("Error fetching data:",N),st(),We.value=!1}};function vo(f){const C=[];for(let X=0;X<f;X++){const te=45+300/(f-1||1)*X;C.push(`hsl(${te%360}, 70%, 50%)`)}return C}const _e=Oe();ue(()=>[_e.geography,_e.forestType,_e.standAge,_e.vegetationType],()=>{We.value=!0,mo()},{immediate:!0});const mn=W(""),Ze=A(()=>{let f=be.value;return mn.value&&(f=f.filter(C=>Object.values(C).some(N=>String(N).toLowerCase().includes(mn.value.toLowerCase())))),l.filterEdible?f=f.filter(C=>{const N=C[l.mat];return N&&String(N).toLowerCase()==="x"}):l.filterPoison&&(f=f.filter(C=>{const N=C[l.mat];return!(N&&String(N).toLowerCase()==="x")})),f}),ho=A(()=>Ze.value);ue(m,f=>{let C=f==="Alla"?dt.value||be.value.length:Number(f);x.value.pageSize=C,x.value.pageIndex=0,d.value?.tableApi&&(d.value.tableApi.setPageSize(C),d.value.tableApi.setPageIndex(0))});const bo=A(()=>d.value?.tableApi?.getPaginationRowModel().rows||[]),ut=A(()=>d.value?.tableApi?.getState().pagination||{pageIndex:0,pageSize:10}),yo=A(()=>ut.value.pageIndex*ut.value.pageSize+1),So=A(()=>{const f=ut.value.pageIndex*ut.value.pageSize+bo.value.length;return f>dt.value?dt.value:f}),dt=A(()=>d.value?.tableApi?.getFilteredRowModel()?.rows.length||0),vn=A(()=>{const f=l.searchTerm?[{id:"Commonname",value:l.searchTerm}]:[];return b.value&&b.value.length>0&&f.push({id:l.mat,value:b.value}),_.value&&_.value.length>0&&f.push({id:"RL2020kat",value:_.value}),I.value&&I.value.length>0&&f.push({id:l.grupp,value:I.value}),c.value&&c.value.length>0&&f.push({id:"mark",value:c.value}),f});return ue(vn,f=>{d.value?.tableApi&&d.value.tableApi.setColumnFilters(f)}),ue(vn,f=>{const N=f.find(we=>we.id===l.mat)?.value??[];a("update:matsvampFilter",N.includes("Matsvamp")),a("update:giftsvampFilter",N.includes("Giftsvamp"));const X=f.find(we=>we.id===l.grupp)?.value??[];a("update:gruppFilter",X);const ie=f.find(we=>we.id==="RL2020kat")?.value??[];a("update:statusFilter",ie)},{deep:!0,immediate:!0}),(f,C)=>{const N=Hn,B=qn,X=On,te=Xr,ie=po,we=Un;return h(),V("div",Jr,[R("div",Qr,[o.value?O("",!0):(h(),V("div",el,[R("div",tl,[w(N,{"model-value":k(d)?.tableApi?.getColumn("Commonname")?.getFilterValue()||"",class:"max-w-sm min-w-[12ch] hidden md:block",placeholder:"Sök på namn",icon:"i-heroicons-magnifying-glass","onUpdate:modelValue":C[0]||(C[0]=M=>{k(d)?.tableApi?.getColumn("Commonname")?.setFilterValue(M),s(M)}),variant:"ghost"},null,8,["model-value"]),R("div",nl,[R("div",ol,[c.value.length?(h(!0),V(pe,{key:0},ve(c.value,M=>(h(),V("span",{key:"mark-"+M},[w(k(H),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:M==="KALKmark"?"kalkmark":M==="ANNANmark"?"vanligmark":"neutral",class:"cursor-pointer mb-2 md:mb-0",onClick:Fe=>c.value=c.value.filter(ke=>ke!==M)},{default:E(()=>[oe(ne(M==="KALKmark"?"Kalkmark":M==="ANNANmark"?"Vanlig skogsmark":K(M)),1)]),_:2},1032,["color","onClick"])]))),128)):O("",!0),b.value.length?(h(!0),V(pe,{key:1},ve(b.value,M=>(h(),V("span",{key:"svamp-"+M},[w(k(H),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:M==="Matsvamp"?"warning":M==="Giftsvamp"?"poison":"neutral",class:"cursor-pointer mb-2 md:mb-0",onClick:Fe=>b.value=b.value.filter(ke=>ke!==M)},{default:E(()=>[oe(ne(K(M)),1)]),_:2},1032,["color","onClick"])]))),128)):O("",!0),I.value.length?(h(!0),V(pe,{key:2},ve(I.value,M=>(h(),V("span",{key:"grupp-"+M},[w(k(H),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:"neutral",class:"cursor-pointer mb-2 md:mb-0",onClick:Fe=>I.value=I.value.filter(ke=>ke!==M)},{default:E(()=>[oe(ne(K(M)),1)]),_:2},1032,["onClick"])]))),128)):O("",!0),_.value.length?(h(!0),V(pe,{key:3},ve(_.value,M=>(h(),V("span",{key:"status-"+M},[w(k(H),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:M==="Signalart"?"signal":T(M),class:"cursor-pointer mb-2 md:mb-0",onClick:Fe=>_.value=_.value.filter(ke=>ke!==M)},{default:E(()=>[oe(ne(M==="Signalart"?"Signalart":z(M)),1)]),_:2},1032,["color","onClick"])]))),128)):O("",!0)]),o.value?O("",!0):(h(),G(k(me),{key:0,class:"flex",items:k(d)?.tableApi?.getAllColumns()?.filter(M=>M.getCanHide())?.map(M=>({label:M.columnDef.meta?.headerText||k(Dn)(M.id),type:"checkbox",checked:M.getIsVisible(),onUpdateChecked(Fe){k(d)?.tableApi?.getColumn(M.id)?.toggleVisibility(!!Fe)},onSelect(Fe){Fe?.preventDefault()}})),content:{align:"end"}},{default:E(()=>[w(k(se),{label:"Kolumner",color:"neutral",variant:"ghost","trailing-icon":"i-lucide-chevron-down"})]),_:1},8,["items"])),e.isNormalView?O("",!0):(h(),V("div",al,[w(B,{modelValue:m.value,"onUpdate:modelValue":C[1]||(C[1]=M=>m.value=M),items:[{value:10,label:"10 rader"},{value:20,label:"20 rader"},{value:30,label:"30 rader"},{value:40,label:"40 rader"},{value:50,label:"50 rader"},{value:"Alla",label:"Alla"}],"item-value":"value","item-label":"label",placeholder:"Rader per sida",variant:"ghost"},null,8,["modelValue"])]))])])])),o.value?(h(),V("div",il,[c.value.length?(h(!0),V(pe,{key:0},ve(c.value,M=>(h(),V("span",{key:"mark-"+M},[w(k(H),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:M==="KALKmark"?"kalkmark":M==="ANNANmark"?"vanligmark":"neutral",class:"cursor-pointer mb-2 md:mb-0",onClick:Fe=>c.value=c.value.filter(ke=>ke!==M)},{default:E(()=>[oe(ne(M==="KALKmark"?"Kalkmark":M==="ANNANmark"?"Vanlig skogsmark":K(M)),1)]),_:2},1032,["color","onClick"])]))),128)):O("",!0),b.value.length?(h(!0),V(pe,{key:1},ve(b.value,M=>(h(),V("span",{key:"svamp-"+M},[w(k(H),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:M==="Matsvamp"?"warning":M==="Giftsvamp"?"poison":"neutral",class:"cursor-pointer mb-2 md:mb-0",onClick:Fe=>b.value=b.value.filter(ke=>ke!==M)},{default:E(()=>[oe(ne(K(M)),1)]),_:2},1032,["color","onClick"])]))),128)):O("",!0),I.value.length?(h(!0),V(pe,{key:2},ve(I.value,M=>(h(),V("span",{key:"grupp-"+M},[w(k(H),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:"neutral",class:"cursor-pointer mb-2 md:mb-0",onClick:Fe=>I.value=I.value.filter(ke=>ke!==M)},{default:E(()=>[oe(ne(K(M)),1)]),_:2},1032,["onClick"])]))),128)):O("",!0),_.value.length?(h(!0),V(pe,{key:3},ve(_.value,M=>(h(),V("span",{key:"status-"+M},[w(k(H),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:M==="Signalart"?"signal":T(M),class:"cursor-pointer mb-2 md:mb-0",onClick:Fe=>_.value=_.value.filter(ke=>ke!==M)},{default:E(()=>[oe(ne(M==="Signalart"?"Signalart":z(M)),1)]),_:2},1032,["color","onClick"])]))),128)):O("",!0)])):O("",!0)]),o.value?(h(),V("div",rl,[w(k(me),{size:k(t)?"xl":"md",items:le.value,content:{align:"start"}},{default:E(()=>[w(k(se),{variant:k(t)?"soft":"ghost",icon:"i-lucide-arrow-up-down",size:k(t)?"xl":"md",label:(k(t),null),color:"neutral",trailing:""},null,8,["variant","size","label"])]),_:1},8,["size","items"]),w(k(me),{size:k(t)?"xl":"md",items:ce.value,content:{align:"start"}},{default:E(()=>[w(k(se),{variant:k(t)?"soft":"ghost",icon:"i-lucide-list-filter",size:k(t)?"xl":"md",label:(k(t),null),color:"neutral"},null,8,["variant","size","label"])]),_:1},8,["size","items"]),w(N,{variant:k(t)?"soft":"ghost","model-value":k(d)?.tableApi?.getColumn("Commonname")?.getFilterValue()||"",class:"w-full min-w-[12ch]",placeholder:"Sök på namn",size:k(t)?"xl":"md",icon:"i-heroicons-magnifying-glass","onUpdate:modelValue":C[2]||(C[2]=M=>{k(d)?.tableApi?.getColumn("Commonname")?.setFilterValue(M),s(M)})},null,8,["variant","model-value","size"])])):O("",!0),w(X,{ui:{border:"border-muted/50"},class:"mb-2"}),Ze.value?(h(),V("div",{key:1,class:Y([(e.isNormalView,"")])},[R("div",ll,[w(te,{ref_key:"table",ref:d,"column-visibility":y.value,"onUpdate:columnVisibility":C[3]||(C[3]=M=>y.value=M),pagination:x.value,"onUpdate:pagination":C[4]||(C[4]=M=>x.value=M),data:ho.value,columns:Re.value,sticky:"",loading:We.value,sorting:j.value,"onUpdate:sorting":C[5]||(C[5]=M=>j.value=M),onSelect:$,autoResetAll:!0,"pagination-options":k(t)&&!e.isNormalView?!1:e.isNormalView?void 0:{getPaginationRowModel:k(Er)()},class:Y([{"":e.isNormalView},"rounded-sm"]),ui:Ie.value},null,8,["column-visibility","pagination","data","columns","loading","sorting","pagination-options","class","ui"]),o.value?O("",!0):(h(),V("div",sl,[R("div",ul,[R("h1",dl,[C[8]||(C[8]=oe(" Visar ",-1)),R("span",cl,"  "+ne(yo.value)+" till  ",1),oe(" "+ne(So.value)+" av "+ne(dt.value)+" arter ",1)]),e.isNormalView?(h(),G(k(se),{key:0,class:"md:hidden",color:"neutral",variant:"soft",label:"Visa alla",size:"md",onClick:C[6]||(C[6]=M=>a("enlarge"))})):O("",!0)]),R("div",null,[!e.isNormalView&&m.value!=="Alla"&&!k(t)?(h(),V("div",gl,[R("div",pl,[w(ie,{"active-variant":"ghost",variant:"ghost","default-page":(k(d)?.tableApi?.getState().pagination.pageIndex||0)+1,"items-per-page":k(d)?.tableApi?.getState().pagination.pageSize,total:k(d)?.tableApi?.getFilteredRowModel().rows.length,"onUpdate:page":C[7]||(C[7]=M=>k(d)?.tableApi?.setPageIndex(M-1))},null,8,["default-page","items-per-page","total"])])])):O("",!0)])]))])],2)):(h(),V("div",fl,[R("div",ml,[w(we,{class:"h-4 w-full rounded"}),w(we,{class:"h-4 w-[85%] rounded"})])]))])}}},Lt=Me(vl,[["__scopeId","data-v-3e072827"]]),hl={key:0,class:"flex justify-end gap-2 mb-2 mx-2"},bl=$e({__name:"barChart",props:{searchTerm:{type:String,default:""},matsvampFilter:{type:Boolean,default:!1},giftsvampFilter:{type:Boolean,default:!1},gruppFilter:{type:Array,default:()=>[]},groupKey:{type:String,default:"Svamp-grupp-släkte"},statusFilter:{type:Array,default:()=>[]}},setup(e){const n=e,t=["100%","200%","400%","800%"],o=W(0),a=A(()=>t[o.value]),i=W([]),r=Oe();function s(x){return x.sort((S,$)=>$.sample_plot_count-S.sample_plot_count)}function l(x,S,$){if($<=0)return[];const K=(S[0]-x[0])/($-1||1),U=(S[1]-x[1])/($-1||1),L=(S[2]-x[2])/($-1||1),T=[];for(let z=0;z<$;z++){const F=Math.round(x[0]+K*z),j=Math.round(x[1]+U*z),H=Math.round(x[2]+L*z);T.push(`rgb(${F}, ${j}, ${H})`)}return T}function d(x){const S=[];for(let U=0;U<x;U++){const L=45+300/(x-1||1)*U;S.push(`hsl(${L%360}, 70%, 50%)`)}return S}async function p(){const x=[r.geography,r.forestType,r.standAge,r.vegetationType];if(x.some($=>!$)){i.value=[];return}if(!Vt(...x)){i.value=[];return}const S=`edna-${r.geography}-${r.forestType}-${r.standAge}-${r.vegetationType}.json`;try{const $=await fetch(`/edna/${S}`);if(!$.ok){if($.status===404){i.value=[];return}throw new Error(`Failed to fetch ${S}`)}let K=await $.json();K=s(K);const U=K.length,L=Math.floor(U*.1),T=U-L,z=l([82,82,82],[212,212,212],L),F=d(T),j=[...z,...F];i.value=K.map((H,ge)=>({...H,fillColor:j[ge]||"var(--ui-primary)"}))}catch($){console.error("Error fetching chart data:",$),i.value=[]}}et(p),ue(()=>[r.geography,r.forestType,r.standAge,r.vegetationType],p,{immediate:!0});const y=(x,S)=>S,c=x=>x.sample_plot_count,u=(x,S)=>{const $=_.value[S];if(!$)return"";const K=n.searchTerm.trim().toLowerCase(),U=String($.Commonname||"").toLowerCase(),L=String($.Scientificname||"").toLowerCase(),T=K?U.includes(K)||L.includes(K):!0,z=n.statusFilter.length>0,F=n.matsvampFilter||n.giftsvampFilter,j=n.gruppFilter.length>0;if(!z&&!F&&!j&&n.searchTerm.trim()!=="")return T?g($.Commonname):"";const H=z&&n.statusFilter.includes("Signalart")&&$.SIGNAL_art==="S",ge=n.statusFilter.filter(Ie=>Ie!=="Signalart"),se=z&&n.statusFilter.includes("Ej bedömd")&&($.RL2020kat===null||$.RL2020kat===0||$.RL2020kat==="0"||String($.RL2020kat).toUpperCase()==="NE"),me=z&&n.statusFilter.includes("Ej tillämplig")&&String($.RL2020kat).toUpperCase()==="NA",de=z?H||ge.includes($.RL2020kat):!1,ye=n.matsvampFilter?$.matsvamp==1:!1,Se=n.giftsvampFilter?($.Giftsvamp||"").toLowerCase()==="x":!1,Re=j?n.gruppFilter.includes($[n.groupKey]):!1;return z?!F&&!j?T&&(H||de||se||me)?g($.Commonname):"":T&&(H||de||se||me)&&(F?ye||Se:!0)&&(j?Re:!0)?g($.Commonname):"":F||j?F&&!j?T&&(ye||Se)?g($.Commonname):"":!F&&j?T&&Re?g($.Commonname):"":T&&(ye||Se)&&Re?g($.Commonname):"":""};function g(x){return x?x.charAt(0).toUpperCase()+x.slice(1):""}const v=W(null);function m(x){if(!x)return v.value=null,'<div class="p-2 text-sm text-neutral-500">Ingen data</div>';v.value=x;const S=x.matsvamp==1?'<div class="font-md bg-yellow-50 border border-yellow-200 text-yellow-500 text-xs rounded-md py-0.5 px-1">Matsvamp</div>':"",$=x.Giftsvamp==="x"?'<div class="font-md bg-lime-50 border border-lime-200 text-lime-500 text-xs rounded-md py-0.5 px-1">Giftsvamp</div>':"",K={NT:"Nära hotad",EN:"Starkt hotad",VU:"Sårbar",CR:"Akut hotad",DD:"Kunskapsbrist",RE:"Nationellt utdöd"},U=K[x.RL2020kat]?`<div class="font-md bg-rose-50 border border-rose-200 text-rose-500 text-xs rounded-md py-0.5 px-1">${K[x.RL2020kat]}</div>`:"",L=x.SIGNAL_art==="S"?'<div class="font-md bg-teal-50 border border-teal-200 text-teal-500 text-xs rounded-md py-0.5 px-1">Signalarter</div>':"";return`
    <div class="p-2">
      <img src="/images/svampgrupp/${x["Svamp-grupp-släkte"]}.png" class="h-5 mb-1" />
      <div class="text-sm flex gap-1">
        <strong>${g(x.Commonname)}</strong> <em>${g(x.Scientificname)}</em>
      </div>
      <div class="text-sm text-neutral-500">
        Påträffad i ${x.sample_plot_count} av ${x.sample_env_count} skogar
      </div>
      <div class="flex gap-1 mt-1">
        ${S} ${$} ${U} ${L}
      </div>
    </div>
  `}const b={[sn.selectors.bar]:m},_=A(()=>{const x="#d4d4d4";return i.value.map(S=>{if(ce.value&&S.Scientificname===le.selectedSpecies?.Scientificname)return{...S,barColor:"#b1835e"};const $=n.searchTerm.trim().toLowerCase(),K=String(S.Commonname||"").toLowerCase(),U=String(S.Scientificname||"").toLowerCase(),L=$?K.includes($)||U.includes($):!0,T=n.statusFilter.length>0,z=n.matsvampFilter||n.giftsvampFilter,F=n.gruppFilter.length>0;if(!T&&!z&&!F&&n.searchTerm.trim()!=="")return{...S,barColor:L?"#8b5cf6":x};const j=T&&n.statusFilter.includes("Signalart")&&S.SIGNAL_art==="S",H=n.statusFilter.filter(Re=>Re!=="Signalart"),ge=T&&n.statusFilter.includes("Ej bedömd")&&(S.RL2020kat===null||S.RL2020kat===0||S.RL2020kat==="0"||String(S.RL2020kat).toUpperCase()==="NE"),se=T&&n.statusFilter.includes("Ej tillämplig")&&String(S.RL2020kat).toUpperCase()==="NA",me=T?j||H.includes(S.RL2020kat):!1,de=n.matsvampFilter?S.matsvamp==1:!1,ye=n.giftsvampFilter?(S.Giftsvamp||"").toLowerCase()==="x":!1,Se=F?n.gruppFilter.includes(S[n.groupKey]):!1;if(T){if(!z&&!F)return L&&j?{...S,barColor:"#14b8a6"}:L&&(j||me||ge||se)?j?{...S,barColor:"#14b8a6"}:S.RL2020kat==="LC"?{...S,barColor:"#22c55e"}:["NT","EN","VU","CR"].includes(S.RL2020kat)?{...S,barColor:"#ef4444"}:ge||se?{...S,barColor:"#737373"}:{...S,barColor:"#1f2937"}:{...S,barColor:x};if(L&&(j||me||ge||se)&&(z?de||ye:!0)&&(F?Se:!0)){if(j)return{...S,barColor:"#14b8a6"};if(H.length>0)return S.RL2020kat==="LC"?{...S,barColor:"#22c55e"}:["NT","EN","VU","CR"].includes(S.RL2020kat)?{...S,barColor:"#ef4444"}:ge||se?{...S,barColor:"#737373"}:{...S,barColor:"#1f2937"};if(n.matsvampFilter&&de)return{...S,barColor:"#eab308"};if(n.giftsvampFilter&&ye)return{...S,barColor:"#84cc16"};if(F&&Se)return{...S,barColor:"#000000"}}return{...S,barColor:x}}if(z||F){if(z&&!F)return L&&de?{...S,barColor:"#eab308"}:L&&ye?{...S,barColor:"#84cc16"}:{...S,barColor:x};if(!z&&F)return L&&Se?{...S,barColor:"#000000"}:{...S,barColor:x};if(L&&(de||ye)&&Se){if(de)return{...S,barColor:"#eab308"};if(ye)return{...S,barColor:"#84cc16"}}return{...S,barColor:x}}return{...S,barColor:S.fillColor||"var(--ui-primary)"}})}),I=x=>x.barColor,q=A(()=>_.value.length>0);ue(_,x=>{x.length||(v.value=null)});function D(){o.value<t.length-1&&o.value++}function Q(){o.value>0&&o.value--}const le=Rt(),ce=A(()=>le.selectedSpecies!==null),fe=Xe("(max-width: 767px)");function P(x){v.value?le.selectSpecies(v.value,"edna"):console.log("No datum available from tooltip.")}return(x,S)=>{const $=Ce;return h(),V("div",null,[k(fe)?O("",!0):(h(),V("div",hl,[w($,{onClick:Q,icon:"i-heroicons-magnifying-glass-minus",color:"neutral",variant:"ghost"}),w($,{onClick:D,icon:"i-heroicons-magnifying-glass-plus",color:"neutral",variant:"ghost"})])),k(fe)?O("",!0):(h(),V("div",{key:1,class:Y(["w-full overflow-y-auto overflow-x-scroll",{"bar-chart-container":o.value===0}]),onClick:P},[w(k(To),{data:_.value,width:a.value,height:"200"},{default:E(()=>[w(k(Ja),{data:_.value,x:y,y:c,color:I,barPadding:.1},null,8,["data"]),w(k(Sn),{gridLine:!1,type:"x",tickTextAnchor:"start",tickTextAngle:"30",numTicks:_.value.length,tickTextFitMode:"trim",tickTextWidth:150,tickTextAlign:"left","tick-format":u},null,8,["numTicks"]),w(k(Sn),{type:"y",label:"Antal skogar",gridLine:!1}),q.value?(h(),G(k(ei),{key:0,triggers:b,followCursor:!0})):O("",!0),q.value?(h(),G(k(Ya),{key:1,color:I,template:m})):O("",!0)]),_:1},8,["data","width"])],2))])}}}),yl=Object.assign(Me(bl,[["__scopeId","data-v-d920ae28"]]),{__name:"BarChart"}),It=ia("tabs",{state:()=>({componentTabs:{EdnaComponent:"columnChart",RedlistedComponent:"grid",FullscreenEdible:"grid",FullscreenPoison:"grid"}}),getters:{getActiveTab:e=>n=>e.componentTabs[n]||"grid"},actions:{setActiveTab(e,n){this.componentTabs[e]=n}}}),Sl={class:"md:flex justify-between relative"},wl={class:"md:flex gap-4"},kl={class:"md:mt-0 mt-1 mb-1 md:mb-2"},_l={class:"text-3xl font-medium flex items-center text-secondary-500"},xl={class:"flex gap-2"},Cl={class:"text-md text-neutral-500"},Rl={class:"justify-between hidden"},$l={class:"flex gap-3 items-start"},Fl={key:0,class:""},Pl={key:1,class:""},Vl=$e({__name:"EdnaComponent",props:{isNormalView:{type:Boolean}},emits:["enlarge"],setup(e,{emit:n}){const t=W(!1),o=W(!1),a=W([]),i=W([]),r=W(""),s=W(!0),l=n,d=It(),p=A({get:()=>fe.value?"spatialForest":d.getActiveTab("EdnaComponent"),set:S=>{fe.value||d.setActiveTab("EdnaComponent",S)}}),y=[{label:"Diagram",icon:"material-symbols:bar-chart",value:"columnChart"},{label:"Tabell",icon:"material-symbols:table-outline",value:"spatialForest"}],c=Oe(),{geography:u,forestType:g,standAge:v,vegetationType:m}=ra(c),b=A(()=>u.value),_=A(()=>g.value),I=A(()=>v.value),q=A(()=>m.value),D=W([]),Q=A(()=>D.value.length),le=A(()=>D.value.length>0&&D.value[0].sample_env_count||0),ce=W("100%"),fe=Xe("(max-width: 767px)"),P=A(()=>({mark:!1,...fe.value?{images:!1}:{}}));async function x(S,$,K,U){if(!S||!$||!K||!U){D.value=[];return}if(!Vt(S,$,K,U)){D.value=[];return}const L=`edna-${S}-${$}-${K}-${U}.json`;try{const T=await fetch(`/edna/${L}`);if(!T.ok){if(T.status===404){D.value=[];return}throw new Error(`Failed to fetch ${L}`)}const z=await T.json();z.sort((F,j)=>j.sample_plot_count-F.sample_plot_count),D.value=z}catch(T){console.error("Error fetching data:",T),D.value=[]}}return ue(()=>[u.value,g.value,v.value,m.value],([S,$,K,U])=>{S&&$&&K&&U&&x(S,$,K,U)},{immediate:!0}),(S,$)=>{const K=Ce,U=Te,L=_t,T=$t,z=Lt,F=yl,j=tt;return h(),V("div",null,[w(j,{class:"rounded-none sm:rounded-lg",variant:"ghost"},{default:E(()=>[R("div",Sl,[w(K,{color:"neutral",variant:"soft",size:"xl",onClick:$[0]||($[0]=H=>S.$emit("enlarge")),class:Y([S.isNormalView?"hidden":"md:hidden","rounded-full absolute top-0 right-0"]),icon:S.isNormalView?"":"i-heroicons-x-mark-solid"},null,8,["class","icon"]),R("div",wl,[R("div",kl,[R("div",_l,[w(U,{name:"solar:dna-linear",class:"mr-2"}),$[10]||($[10]=R("h1",{class:"truncate"},"Alla mykorrhizasvampar",-1))]),R("div",xl,[R("h1",Cl,ne(Q.value)+" arter baserat på "+ne(le.value)+" skogar",1),le.value<10?(h(),G(L,{key:0,icon:le.value<10?"i-cuida-warning-outline":void 0,size:"md",color:le.value<10?"warning":"secondary",variant:"subtle",class:"h-fit flex"},{default:E(()=>[oe(ne(le.value<10?"Få prov":null),1)]),_:1},8,["icon","color"])):O("",!0)])]),R("div",Rl,[w(T,{modelValue:p.value,"onUpdate:modelValue":$[1]||($[1]=H=>p.value=H),items:y,class:"w-full",color:"neutral",variant:"link","unmount-on-hide":!1},null,8,["modelValue"])])]),R("div",$l,[w(K,{class:"hidden md:flex h-fit ring-muted/60",color:"neutral",variant:"outline",size:"sm",onClick:$[2]||($[2]=H=>s.value=!s.value),label:s.value?"Dölj diagram":"Visa diagram"},null,8,["label"])])]),w(De,{name:"fade",mode:"out-in",class:"md:min-h-[550px] min-h-full"},{default:E(()=>[p.value==="spatialForest"?(h(),V("div",Fl,[w(z,{onEnlarge:$[3]||($[3]=H=>l("enlarge")),isNormalView:S.isNormalView,"column-visibility-overrides":P.value},null,8,["isNormalView","column-visibility-overrides"])])):p.value==="columnChart"?(h(),V("div",Pl,[s.value?(h(),G(F,{key:0,class:"mb-6",chartData:D.value,chartWidth:ce.value,geography:b.value,forestType:_.value,standAge:I.value,vegetationType:q.value,matsvampFilter:t.value,giftsvampFilter:o.value,gruppFilter:a.value,statusFilter:i.value,"search-term":r.value},null,8,["chartData","chartWidth","geography","forestType","standAge","vegetationType","matsvampFilter","giftsvampFilter","gruppFilter","statusFilter","search-term"])):O("",!0),w(z,{onEnlarge:$[4]||($[4]=H=>l("enlarge")),"onUpdate:matsvampFilter":$[5]||($[5]=H=>t.value=H),"onUpdate:giftsvampFilter":$[6]||($[6]=H=>o.value=H),"onUpdate:gruppFilter":$[7]||($[7]=H=>a.value=H),"onUpdate:statusFilter":$[8]||($[8]=H=>i.value=H),"onUpdate:searchTerm":$[9]||($[9]=H=>r.value=H),isNormalView:S.isNormalView,"column-visibility-overrides":P.value,"search-term":r.value},null,8,["isNormalView","column-visibility-overrides","search-term"])])):O("",!0)]),_:1})]),_:1})])}}}),Rn=Object.assign(Me(Vl,[["__scopeId","data-v-d27777d3"]]),{__name:"EdnaComponent"}),Ll={class:"p-2 flex gap-2"},Il={class:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-8 gap-4 p-2"},Al=["onClick"],El={class:"w-full h-24 relative"},Tl=["src"],Nl={key:1,class:"w-full h-full flex items-center justify-center bg-neutral-200 dark:bg-neutral-700"},Ml={class:"absolute bottom-1 left-1 flex gap-1"},zl={class:"p-2 pt-1"},Dl={class:"text-sm font-medium text-neutral-500 dark:text-neutral-300 truncate"},Bl={class:"flex justify-between items-center px-5 py-2"},pn={__name:"SpeciesGrid",props:{isNormalView:Boolean,dataTypeFolder:{type:String,default:"edna"},dataType:{type:String,default:"data"},filterEdible:{type:Boolean,default:!1},filterPoison:{type:Boolean,default:!1},grupp:{type:String,default:"Svamp-grupp"}},setup(e){const n=W([]),t=W([]),o=[{value:"LC",label:"Livskraftig"},{value:"NT",label:"Nära hotad"},{value:"EN",label:"Starkt hotad"},{value:"VU",label:"Sårbar"},{value:"CR",label:"Akut hotad"},{value:"RE",label:"Nationellt utdöd"},{value:"DD",label:"Kunskapsbrist"},{value:"Ej bedömd",label:"Ej bedömd"},{value:"Signalart",label:"Signalart"}],a=e,i=Oe(),r=Rt(),s=W([]),l=W(!0);async function d(){const{geography:P,forestType:x,standAge:S,vegetationType:$}=i,K=`${a.dataType}-${P}-${x}-${S}-${$}.json`;try{const U=await fetch(`/${a.dataTypeFolder}/${K}`);if(!U.ok)throw new Error(`Failed to fetch data from ${K}`);s.value=await U.json(),l.value=!1}catch(U){console.error("Error fetching species data:",U)}}ue(()=>[i.geography,i.forestType,i.standAge,i.vegetationType],()=>{l.value=!0,d()},{immediate:!0});const p=W({column:"",direction:"asc"}),y=A(()=>{let P=s.value.slice();if(p.value?.column){const{column:x,direction:S}=p.value;P.sort(($,K)=>{const U=$[x],L=K[x];if(U==null&&L!=null)return 1;if(U!=null&&L==null)return-1;if(U==null&&L==null)return 0;const T=String(U).localeCompare(String(L),"sv",{numeric:!0,sensitivity:"base"});return S==="asc"?T:-T})}else P.sort((x,S)=>{const $=x.RankRed??99999,K=S.RankRed??99999;if($!==K)return $-K;const U=x.Commonname?.toString().toLowerCase()||"",L=S.Commonname?.toString().toLowerCase()||"";return U.localeCompare(L,"sv",{numeric:!0,sensitivity:"base"})});return P}),c=W(""),u=A(()=>{let P=y.value;if(c.value.trim()!==""){const x=c.value.trim().toLowerCase();P=P.filter(S=>S.Commonname&&S.Commonname.toLowerCase().includes(x)||S.Scientificname&&S.Scientificname.toLowerCase().includes(x))}return a.filterEdible?P=P.filter(x=>{const S=x["Nyasvamp-boken"];return S&&String(S).toLowerCase()==="x"}):a.filterPoison&&(P=P.filter(x=>{const S=x["Nyasvamp-boken"];return!(S&&String(S).toLowerCase()==="x")})),P}),g=A(()=>o.map(P=>{let x=0;return P.value==="Ej bedömd"?x=u.value.filter(S=>{const $=String(S.RL2020kat).trim();return["0","NA","NE","Saknas","null"].includes($)}).length:P.value==="Signalart"?x=u.value.filter(S=>S.SIGNAL_art==="S").length:x=u.value.filter(S=>String(S.RL2020kat).trim()===P.value).length,{...P,label:`${P.label} (${x})`}})),v=A(()=>{const P={};return u.value.forEach(x=>{const S=x[a.grupp];if(S!=null){const $=String(S).trim();$&&$.toLowerCase()!=="undefined"&&(P[$]=(P[$]||0)+1)}}),Object.keys(P).map(x=>({value:x,label:`${le(x)} (${P[x]})`}))}),m=A(()=>{let P=y.value;if(c.value.trim()!==""){const x=c.value.trim().toLowerCase();P=P.filter(S=>S.Commonname&&S.Commonname.toLowerCase().includes(x)||S.Scientificname&&S.Scientificname.toLowerCase().includes(x)),console.log("After search filtering, count:",P.length)}return n.value.length>0&&(console.log("Status filter values:",n.value),P=P.filter(x=>{const S=String(x.RL2020kat).trim(),$=n.value.some(K=>{const U=K&&K.value?K.value:K;return U==="Ej bedömd"?["0","NA","NE","Saknas","null"].includes(S):U==="Signalart"?x.SIGNAL_art==="S":S===U});return console.log(`Row "${x.Commonname}" with RL2020kat "${S}" matches:`,$),$}),console.log("After status filtering, count:",P.length)),t.value.length>0&&(P=P.filter(x=>{const S=x[a.grupp],$=S!=null?String(S).trim():"";return t.value.includes($)})),a.filterEdible?(P=P.filter(x=>{const S=x["Nyasvamp-boken"];return S&&String(S).toLowerCase()==="x"}),console.log("After edible filtering, count:",P.length)):a.filterPoison&&(P=P.filter(x=>{const S=x["Nyasvamp-boken"];return!(S&&String(S).toLowerCase()==="x")}),console.log("After poison filtering, count:",P.length)),console.log("Final filteredData count:",P.length),P}),b=A(()=>a.isNormalView?24:32),_=W(1),I=A(()=>{const P=(_.value-1)*b.value;return m.value.slice(P,P+b.value)}),q=A(()=>m.value.length>0?(_.value-1)*b.value+1:0),D=A(()=>Math.min(_.value*b.value,m.value.length)),Q=A(()=>m.value.length);A(()=>Math.ceil(Q.value/b.value));function le(P){return P?P.charAt(0).toUpperCase()+P.slice(1).toLowerCase():""}function ce(P){return{LC:"Livskraftig",NT:"Nära hotad",EN:"Starkt hotad",VU:"Sårbar",CR:"Akut hotad",RE:"Nationellt utdöd",DD:"Kunskapsbrist"}[P]||"Ej bedömd"}function fe(P){r.selectSpecies(P,a.dataTypeFolder)}return(P,x)=>{const S=Hn,$=qn,K=an,U=_t,L=po;return h(),V(pe,null,[R("div",Ll,[w(S,{icon:"i-heroicons-magnifying-glass",modelValue:c.value,"onUpdate:modelValue":x[0]||(x[0]=T=>c.value=T),placeholder:"Sök på namn",variant:"soft"},null,8,["modelValue"]),w($,{modelValue:n.value,"onUpdate:modelValue":x[1]||(x[1]=T=>n.value=T),items:g.value,"item-value":"value","item-label":"label",placeholder:"Filtrera på status",multiple:"",variant:"soft"},null,8,["modelValue","items"]),w($,{modelValue:t.value,"onUpdate:modelValue":x[2]||(x[2]=T=>t.value=T),items:v.value,"item-value":"value","item-label":"label",placeholder:"Filtrera på grupp",multiple:"",variant:"soft"},null,8,["modelValue","items"])]),R("div",Il,[(h(!0),V(pe,null,ve(I.value,(T,z)=>(h(),V("div",{key:T.Commonname+T.Scientificname+z,class:"bg-white dark:bg-neutral-800 rounded-lg border overflow-hidden border-muted/50 dark:border-neutral-700/40 hover:shadow-md transition-shadow cursor-pointer h-[126px]",onClick:F=>fe(T)},[R("div",El,[T.images&&T.images.length?(h(),V("img",{key:0,src:T.images[0],class:"w-full h-full object-cover",alt:"Species image",height:"300",width:"450",loading:"lazy",decoding:"async"},null,8,Tl)):(h(),V("div",Nl,[w(K,{name:"material-symbols:photo",class:"w-8 h-8 text-neutral-500"})])),R("div",Ml,[T.SIGNAL_art!=="S"&&!["LC","0","NA","NE","Saknas",null].includes(T.RL2020kat)?(h(),G(U,{key:0,class:"bg-error-50 dark:bg-error-950/80",color:"error",variant:"subtle",size:"sm",label:T.RL2020kat!=="Saknas"?ce(T.RL2020kat):"Ej bedömd"},null,8,["label"])):O("",!0),T.SIGNAL_art==="S"?(h(),G(U,{key:1,color:"signal",variant:"subtle",label:"Signalart",size:"sm"})):O("",!0)])]),R("div",zl,[R("div",Dl,ne(le(T.Commonname)),1)])],8,Al))),128))]),R("div",Bl,[R("div",null,[R("p",null," Visar "+ne(q.value)+" till "+ne(D.value)+" av "+ne(Q.value)+" arter ",1)]),R("div",null,[w(L,{"items-per-page":b.value,page:_.value,"onUpdate:page":x[3]||(x[3]=T=>_.value=T),total:Q.value,"active-variant":"ghost",variant:"ghost"},null,8,["items-per-page","page","total"])])])],64)}}},Ol={class:"md:flex justify-between items-start"},Gl={class:"w-full flex justify-between items-start"},jl={class:"text-md text-neutral-500 md:mb-2"},ql={class:"md:flex gap-1 items-center hidden"},Ul={key:0},Hl={key:1},Kl={__name:"FullScreenEdible",props:{isNormalView:Boolean},emits:["enlarge"],setup(e,{emit:n}){const t=Oe(),o=W(0);async function a(u,g,v,m=null){if([t.geography,t.forestType,t.standAge,t.vegetationType].some(I=>!I)){v.value=0;return}const _=`${g}-${t.geography}-${t.forestType}-${t.standAge}-${t.vegetationType}.json`;try{const I=await fetch(`/${u}/${_}`);if(!I.ok)throw new Error("Network response was not ok");const q=await I.json();v.value=m?q.filter(D=>D[m]==="x").length:q.length}catch(I){console.error("Failed to fetch edible count",I),v.value=0}}ue(()=>[t.geography,t.forestType,t.standAge,t.vegetationType],()=>a("edible","edibledata",o,"Nyasvamp-boken"),{immediate:!0});const i=n,r=[{label:"Galleri",icon:"i-heroicons-squares-2x2",value:"grid"},{label:"Tabell",icon:"material-symbols:table-outline",value:"table"}],s=It(),l=e,d=Xe("(max-width: 767px)"),p=A(()=>d.value||l.isNormalView),y=A({get:()=>p.value?"table":s.getActiveTab("FullscreenEdible"),set:u=>{p.value||s.setActiveTab("FullscreenEdible",u)}}),c=A(()=>y.value==="table");return(u,g)=>{const v=Te,m=Ce,b=$t,_=Lt,I=pn,q=tt;return h(),V("div",null,[w(q,{variant:"ghost",class:"rounded-none sm:rounded-lg"},{default:E(()=>[R("div",Ol,[R("div",Gl,[R("div",null,[R("div",{onClick:g[0]||(g[0]=D=>u.$emit("enlarge")),class:"group cursor-pointer dark:text-neutral-300 text-warning-500 text-4xl md:text-3xl font-medium flex items-center"},[w(v,{name:"icon-park-solid:knife-fork",class:"mr-2"}),g[4]||(g[4]=R("h1",null," Matsvampar ",-1)),w(v,{name:"i-lucide-arrow-right",class:"size-6 font-medium text-neutral transition-all opacity-0 group-hover:translate-x-1 group-hover:opacity-100"})]),R("h2",jl,ne(o.value)+" arter",1)]),w(m,{color:"neutral",variant:"soft",size:"xl",onClick:g[1]||(g[1]=D=>u.$emit("enlarge")),class:Y([e.isNormalView?"hidden":"md:hidden","rounded-full"]),icon:e.isNormalView?"":"i-heroicons-x-mark-solid"},null,8,["class","icon"])]),R("div",ql,[p.value?O("",!0):(h(),G(b,{key:0,class:"flex mt-2",modelValue:y.value,"onUpdate:modelValue":g[2]||(g[2]=D=>y.value=D),items:r,variant:"pill",color:"neutral",size:"md",ui:{list:"bg-transparent",indicator:"bg-white dark:bg-black border border-neutral-300/80 dark:border-neutral-300/30",trigger:"data-[state=active]:text-neutral-700 dark:data-[state=active]:text-neutral-100/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-neutral"}},null,8,["modelValue"]))])]),w(De,{name:"fade",mode:"out-in",class:"md:min-h-[260px]"},{default:E(()=>[c.value?(h(),V("div",Ul,[w(_,{onEnlarge:g[3]||(g[3]=D=>i("enlarge")),"is-normal-view":e.isNormalView,dataType:"edibledata",dataTypeFolder:"edible",grupp:"Svamp-grupp",mat:"Nyasvamp-boken",obs:"Rank matsvamp",obsLabel:"Sannolikhet",filterEdible:!0,"column-visibility-overrides":{mark:!1,"Nyasvamp-boken":!1}},null,8,["is-normal-view"])])):(h(),V("div",Hl,[w(I,{"is-normal-view":e.isNormalView,dataType:"edibledata",dataTypeFolder:"edible",filterEdible:!0},null,8,["is-normal-view"])]))]),_:1})]),_:1})])}}},$n=Me(Kl,[["__scopeId","data-v-372515fe"]]),Wl={class:"md:flex justify-between items-start"},Xl={class:"md:flex gap-4"},Yl={class:"w-full flex justify-between items-start"},Zl={class:"text-md text-neutral-500 md:mb-2"},Jl={class:"md:flex gap-4 items-center hidden"},Ql={key:0},es={key:1},ts={__name:"FullScreenPoison",props:{isNormalView:Boolean},emits:["enlarge"],setup(e,{emit:n}){const t=Oe(),o=W(0);async function a(g,v,m,b=null){if([t.geography,t.forestType,t.standAge,t.vegetationType].some(q=>!q)){m.value=0;return}const I=`${v}-${t.geography}-${t.forestType}-${t.standAge}-${t.vegetationType}.json`;try{const q=await fetch(`/${g}/${I}`);if(!q.ok)throw new Error("Network response was not ok");const D=await q.json();m.value=b?D.filter(Q=>Q[b]==="x").length:D.length}catch{m.value=0}}ue(()=>[t.geography,t.forestType,t.standAge,t.vegetationType],()=>a("edible","edibledata",o,"Giftsvamp"),{immediate:!0});const i=n,r=[{label:"",icon:"i-heroicons-squares-2x2",value:"grid"},{label:"",icon:"material-symbols:table-outline",value:"table"}],s=It(),l=e,d=Xe("(max-width: 767px)"),p=A(()=>d.value||l.isNormalView),y=()=>{l.isNormalView&&i("enlarge")},c=A({get:()=>p.value?"table":s.getActiveTab("FullscreenEdible"),set:g=>{p.value||s.setActiveTab("FullscreenEdible",g)}}),u=A(()=>c.value==="table");return(g,v)=>{const m=Te,b=Ce,_=$t,I=Lt,q=pn,D=tt;return h(),G(D,{variant:"ghost",class:"rounded-none sm:rounded-none border-muted/50"},{default:E(()=>[R("div",Wl,[R("div",Xl,[R("div",Yl,[R("div",null,[R("div",{onClick:y,class:Y(["flex items-center text-poison-500 dark:text-neutral-300 text-4xl font-medium md:text-3xl",e.isNormalView?"group cursor-pointer":"cursor-default"])},[w(m,{name:"i-hugeicons-danger",class:"mr-2"}),v[3]||(v[3]=R("h1",null," Giftsvampar ",-1)),e.isNormalView?(h(),G(m,{key:0,name:"i-lucide-arrow-right",class:"size-6 font-medium text-neutral transition-all opacity-0 group-hover:translate-x-1 group-hover:opacity-100"})):O("",!0)],2),R("h2",Zl,ne(o.value)+" arter",1)]),w(b,{color:"neutral",variant:"soft",size:"xl",onClick:v[0]||(v[0]=Q=>g.$emit("enlarge")),class:Y([e.isNormalView?"hidden":"md:hidden","rounded-full"]),icon:e.isNormalView?"":"i-heroicons-x-mark-solid",trailing:""},null,8,["class","icon"])])]),R("div",Jl,[p.value?O("",!0):(h(),G(_,{key:0,class:"flex mt-2",modelValue:c.value,"onUpdate:modelValue":v[1]||(v[1]=Q=>c.value=Q),items:r,variant:"pill",color:"neutral",size:"md",ui:{indicator:"bg-white dark:bg-black border border-neutral-300/80 dark:border-neutral-300/30",trigger:"data-[state=active]:text-neutral-700 dark:data-[state=active]:text-neutral-100/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-neutral"}},null,8,["modelValue"]))])]),w(De,{name:"fade",mode:"out-in",class:"md:min-h-[260px]"},{default:E(()=>[u.value?(h(),V("div",Ql,[w(I,{onEnlarge:v[2]||(v[2]=Q=>i("enlarge")),"is-normal-view":e.isNormalView,dataType:"edibledata",dataTypeFolder:"edible",grupp:"Svamp-grupp",mat:"Nyasvamp-boken",obs:"Rank giftsvamp",obsLabel:"Sannolikhet",filterPoison:!0,"column-visibility-overrides":{mark:!1,"Nyasvamp-boken":!1}},null,8,["is-normal-view"])])):(h(),V("div",es,[w(q,{"is-normal-view":e.isNormalView,dataType:"edibledata",dataTypeFolder:"edible",filterPoison:!0},null,8,["is-normal-view"])]))]),_:1})]),_:1})}}},Fn=Me(ts,[["__scopeId","data-v-e06edb37"]]),ns={class:"md:flex justify-between items-start"},os={class:"md:flex gap-4"},as={class:"w-full flex justify-between items-start"},is={class:"text-md text-neutral-500 md:mb-2"},rs={class:"md:flex gap-4 items-center hidden"},ls={key:0},ss={key:1},us={__name:"RedlistedComponent",props:{isNormalView:Boolean},emits:["enlarge"],setup(e,{emit:n}){const t=Oe(),o=W(0);async function a(g,v,m,b=null){if([t.geography,t.forestType,t.standAge,t.vegetationType].some(q=>!q)){m.value=0;return}const I=`${v}-${t.geography}-${t.forestType}-${t.standAge}-${t.vegetationType}.json`;try{const q=await fetch(`/${g}/${I}`);if(!q.ok)throw new Error("Network response was not ok");const D=await q.json();m.value=b?D.filter(Q=>Q[b]==="x").length:D.length}catch(q){console.error("Failed to fetch count for",v,q),m.value=0}}ue(()=>[t.geography,t.forestType,t.standAge,t.vegetationType],()=>a("redlisted","redlisted",o),{immediate:!0});const i=n,r=[{label:"",icon:"i-heroicons-squares-2x2",value:"grid"},{label:"",icon:"material-symbols:table-outline",value:"table"}],s=e,l=Xe("(max-width: 767px)"),d=A(()=>l.value||s.isNormalView),p=It(),y=A({get:()=>d.value?"table":p.getActiveTab("FullscreenEdible"),set:g=>{d.value||p.setActiveTab("FullscreenEdible",g)}}),c=()=>{s.isNormalView&&i("enlarge")},u=A(()=>y.value==="table");return(g,v)=>{const m=Te,b=Ce,_=$t,I=Lt,q=pn,D=tt;return h(),G(D,{variant:"ghost",class:"rounded-none sm:rounded-lg"},{default:E(()=>[R("div",ns,[R("div",os,[R("div",as,[R("div",null,[R("div",{onClick:c,class:Y(["flex items-center text-signal-500 dark:text-neutral-300 text-4xl font-medium md:text-3xl",e.isNormalView?"group cursor-pointer":"cursor-default"])},[w(m,{name:"i-material-symbols-award-star-outline",class:"mr-2"}),v[3]||(v[3]=R("h1",{class:"truncate"}," Naturvårdsarter ",-1)),e.isNormalView?(h(),G(m,{key:0,name:"i-lucide-arrow-right",class:"size-6 font-medium text-neutral transition-all opacity-0 group-hover:translate-x-1 group-hover:opacity-100"})):O("",!0)],2),R("h2",is,ne(o.value)+" arter",1)]),w(b,{color:"neutral",variant:"soft",size:"xl",onClick:v[0]||(v[0]=Q=>g.$emit("enlarge")),class:Y([e.isNormalView?"hidden":"md:hidden","rounded-full"]),icon:e.isNormalView?"":"i-heroicons-x-mark-solid",trailing:""},null,8,["class","icon"])])]),R("div",rs,[d.value?O("",!0):(h(),G(_,{key:0,class:"flex mt-2",modelValue:y.value,"onUpdate:modelValue":v[1]||(v[1]=Q=>y.value=Q),items:r,variant:"pill",color:"neutral",size:"md",ui:{indicator:"bg-white dark:bg-black border border-neutral-300/80 dark:border-neutral-300/30",trigger:"data-[state=active]:text-neutral-700 dark:data-[state=active]:text-neutral-100/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-neutral"}},null,8,["modelValue"]))])]),w(De,{name:"fade",mode:"out-in",class:"md:min-h-[260px]"},{default:E(()=>[u.value?(h(),V("div",ls,[w(I,{onEnlarge:v[2]||(v[2]=Q=>i("enlarge")),"is-normal-view":e.isNormalView,dataType:"redlisted",dataTypeFolder:"redlisted",grupp:"Svamp-grupp",mat:"Nyasvamp-boken",obs:"RankRed",obsLabel:"Sannolikhet","column-visibility-overrides":{"Nyasvamp-boken":!1}},null,8,["is-normal-view"])])):(h(),V("div",ss,[w(q,{"is-normal-view":e.isNormalView,dataType:"redlisted",dataTypeFolder:"redlisted"},null,8,["is-normal-view"])]))]),_:1})]),_:1})}}},Pn=Me(us,[["__scopeId","data-v-0d234cbe"]]),ds={class:"grid grid-cols-12"},cs={class:"col-span-12"},gs={key:0,class:"flex justify-between p-3 border-b border-muted/50"},ps={class:"flex gap-3"},fs={class:"flex flex-col sm:flex-row gap-1.5 w-fit h-fit"},ms={key:"dna",class:"col-span-12 sm:pt-2"},vs={class:"hidden md:block"},hs={class:"flex justify-between items-center text-secondary-500"},bs={class:"truncate"},ys={class:"text-2xl font-semibold flex items-center"},Ss={key:1,class:"text-neutral-500"},ws={class:"flex justify-between items-center text-warning-500"},ks={class:"text-2xl font-semibold flex items-center"},_s={key:1,class:"text-neutral-500"},xs={class:"flex justify-between items-center text-poison-500"},Cs={class:"text-2xl font-semibold flex items-center"},Rs={key:1,class:"text-neutral-500"},$s={class:"flex justify-between items-center text-signal-500"},Fs={class:"text-2xl font-semibold flex items-center"},Ps={key:1,class:"text-neutral-500"},Vs={class:"flex flex-col sm:flex-row gap-1.5 p-1 rounded-lg ring ring-muted/50 sm:w-fit h-fit bg-muted/30"},Ls={key:"knowledge",class:"col-span-12 sm:pt-2"},Is={key:0,class:"space-y-4"},As={key:1,class:"col-span-12 grid-cols-12 rounded-2xl gap-y-3 hidden md:grid gap-4"},Es={class:"col-span-4 flex flex-col h-full"},Ts={class:"col-span-4 flex flex-col"},Ns={class:"col-span-4 flex flex-col"},Ms={__name:"NormalView",props:{activeView:{type:String,default:null}},emits:["enlarge","closeView"],async setup(e,{emit:n}){let t,o;const{data:a}=([t,o]=la(()=>sa("mykorrhizasvampar",()=>ua("mykorrhizasvampar").first())),t=await t,o(),t);if(!a.value)throw da({statusCode:404,statusMessage:"Page not found",fatal:!0});const i=W(!0);W(!1);const r=Oe(),s=Gn(),l=W(null),d=W(null),p=W(null),y=W(null),c=e,u=n,g={FullScreenEdible:"knowledge",FullScreenPoison:"knowledge",RedlistedComponent:"knowledge",FullScreenEdna:"knowledge"},v={FullScreenEdible:$n,FullScreenPoison:Fn,RedlistedComponent:Pn,FullScreenEdna:Rn},m=F=>{g[F]&&(b.value=g[F]),u("enlarge",F)},b=W("dna"),_=W(0),I=()=>{_.value=window.innerWidth};et(()=>{I(),window.addEventListener("resize",I)}),kt(()=>{window.removeEventListener("resize",I)}),A(()=>(_.value>=768,"md"));const q=A(()=>_.value<768),D=A(()=>r.geography),Q=A(()=>r.forestType),le=A(()=>r.standAge),ce=A(()=>r.vegetationType),fe=A(()=>v[c.activeView??""]??null),P=A(()=>c.activeView?c.activeView==="FullScreenEdible"||c.activeView==="FullScreenPoison"?{isNormalView:!1,geography:D.value,forestType:Q.value,standAge:le.value,vegetationType:ce.value}:{isNormalView:!1}:{isNormalView:!1}),x=A(()=>c.activeView?`${c.activeView}-${s.fullPath}`:void 0),S={FullScreenEdible:"Matsvampar",FullScreenPoison:"Giftsvampar",RedlistedComponent:"Naturvårdsarter",FullScreenEdna:"Alla mykorrhizasvampar"},$=A(()=>c.activeView==="FullScreenEdna"),K=A(()=>S[c.activeView??""]??"");function U(){b.value="dna",u("closeView")}A(()=>fe.value?[{label:"Enligt samlad kunskap",onClick:U,class:"cursor-pointer p-1 px-2 rounded hover:bg-muted"},{label:K.value,class:"cursor-default text-neutral"}]:[]);const L=()=>{$.value?(b.value="knowledge",u("closeView")):m("FullScreenEdna")};ue(()=>c.activeView,F=>{F&&g[F]&&(b.value=g[F])}),ue(b,F=>{c.activeView&&g[c.activeView]!==F&&u("closeView")});async function T(F,j,H,ge=null){if([r.geography,r.forestType,r.standAge,r.vegetationType].some(de=>!de)){H.value=0;return}const me=`${j}-${r.geography}-${r.forestType}-${r.standAge}-${r.vegetationType}.json`;try{const de=await fetch(`/${F}/${me}`);if(!de.ok)throw new Error("Network response was not ok");const ye=await de.json();ge?H.value=ye.filter(Se=>Se[ge]==="x").length:H.value=ye.length}catch(de){console.error("Failed to fetch count for",j,de),H.value=0}}async function z(){const F=r.geography,j=r.forestType,H=r.standAge,ge=r.vegetationType;if(!F||!j||!H||!ge){y.value=0;return}if(!Vt(F,j,H,ge)){y.value=0;return}y.value=null;const se=`edna-${F}-${j}-${H}-${ge}.json`;try{const me=await fetch(`/edna/${se}`);if(!me.ok){y.value=0;return}const de=await me.json();y.value=Array.isArray(de)?de.length:0}catch(me){console.error("Failed to fetch DNA count",me),y.value=0}}return ue(()=>[r.geography,r.forestType,r.standAge,r.vegetationType],()=>{T("redlisted","redlisted",l),T("edible","edibledata",d,"Nyasvamp-boken"),T("edible","edibledata",p,"Giftsvamp"),z()},{immediate:!0}),(F,j)=>{const H=fa,ge=Ce,se=ma,me=va,de=ca,ye=ha,Se=Te,Re=Un,Ie=tt,Ge=On,Ye=jn;return h(),V("div",ds,[R("div",cs,[q.value?O("",!0):(h(),V("div",gs,[R("div",ps,[w(ge,{onClick:j[0]||(j[0]=be=>b.value="dna"),class:"hover:bg-neutral-100 text-start ring-muted/50 cursor-pointer p-3 px-4 rounded-lg",variant:b.value==="dna"?"subtle":"outline",color:"neutral"},{default:E(()=>[w(H,{title:"Enligt DNA",description:"Från markinventeringens jordprover"})]),_:1},8,["variant"]),w(ge,{onClick:j[1]||(j[1]=be=>b.value="knowledge"),class:"hover:bg-neutral-100 text-start ring-muted/50 cursor-pointer p-3 px-4 rounded-lg",variant:b.value==="knowledge"?"subtle":"outline",color:"neutral"},{default:E(()=>[w(H,{title:"Enligt fruktkroppar",description:"Utifrån var fruktkroppar förekommer"})]),_:1},8,["variant"])]),R("div",fs,[i.value?(h(),G(se,{key:0,color:"info",variant:"subtle",icon:"i-heroicons-photo",ui:{close:"text-info hover:text-info cursor-pointer"},title:"Fler artbilder kommer snart",class:"h-fit w-fit",close:"","onUpdate:open":j[2]||(j[2]=be=>i.value=be)})):O("",!0),w(de,{fullscreen:!!q.value,title:k(a).ecologyintro?.title??"",description:k(a).ecologyintro?.description??"",ui:{header:"shrink-0"}},{body:E(()=>[w(me,{section:k(a).ecologyintro},null,8,["section"])]),default:E(()=>[w(se,{icon:"i-heroicons-book-open",color:"neutral",variant:"outline",title:"Fakta i korthet",class:"sm:w-fit h-fit ring-muted/50 hover:opacity-85 hover:cursor-pointer"})]),_:1},8,["fullscreen","title","description"]),w(de,{fullscreen:!!q.value,title:k(a).underlag,description:k(a).underlagdescription,ui:{header:"shrink-0"}},{body:E(()=>[w(ye,{underlag:k(a).underlag,underlagbild:k(a).underlagbild,sections:k(a).underlagSections},null,8,["underlag","underlagbild","sections"])]),default:E(()=>[w(se,{icon:"i-heroicons-document-magnifying-glass",color:"neutral",variant:"outline",title:"Underlag",class:"sm:w-fit h-fit ring-muted/50 hover:opacity-85 hover:cursor-pointer"})]),_:1},8,["fullscreen","title","description"])])])),w(De,{name:"view-transition",mode:"out-in"},{default:E(()=>[b.value==="dna"?(h(),V("div",ms,[R("div",vs,[w(Rn,{isNormalView:!$.value,onEnlarge:L},null,8,["isNormalView"])]),w(Ye,{class:"md:hidden space-y-3 pt-3 bg-muted/50"},{default:E(()=>[w(H,{title:"Enligt DNA",description:"Från markinventeringens jordprover"}),w(Ie,{onClick:j[3]||(j[3]=be=>m("FullScreenEdna")),class:"ring-muted/50"},{default:E(()=>[R("div",hs,[R("div",bs,[R("div",ys,[w(Se,{name:"solar:dna-linear",class:"mr-2"}),j[10]||(j[10]=R("h1",{class:"truncate"},"Alla mykorrhizasvampar",-1))]),y.value===null?(h(),G(Re,{key:0,class:"h-4 w-12 mt-2"})):(h(),V("h1",Ss,ne(y.value)+" arter",1))]),w(ge,{icon:"i-heroicons-chevron-right",class:"rounded-full",variant:"ghost",color:"neutral",size:"xl"})])]),_:1}),w(H,{class:"mt-6",title:"Enligt fruktkroppar",description:"Utifrån vart fruktkroppar förekommer"}),w(Ie,{onClick:j[4]||(j[4]=be=>m("FullScreenEdible")),class:"ring-muted/50"},{default:E(()=>[R("div",ws,[R("div",null,[R("h1",ks,[w(Se,{name:"icon-park-solid:knife-fork",class:"mr-2"}),j[11]||(j[11]=oe("Matsvampar ",-1))]),d.value===null?(h(),G(Re,{key:0,class:"h-4 w-12 mt-2"})):(h(),V("h1",_s,ne(d.value)+" arter",1))]),w(ge,{icon:"i-heroicons-chevron-right",class:"rounded-full ring-muted/50",variant:"ghost",color:"neutral",size:"xl"})])]),_:1}),w(Ie,{onClick:j[5]||(j[5]=be=>m("FullScreenPoison")),class:"ring-muted/50"},{default:E(()=>[R("div",xs,[R("div",null,[R("h1",Cs,[w(Se,{name:"i-hugeicons-danger",class:"mr-2"}),j[12]||(j[12]=oe("Giftsvampar ",-1))]),d.value===null?(h(),G(Re,{key:0,class:"h-4 w-12 mt-2"})):(h(),V("h1",Rs,ne(p.value)+" arter",1))]),w(ge,{icon:"i-heroicons-chevron-right",class:"rounded-full",variant:"ghost",color:"neutral",size:"xl"})])]),_:1}),w(Ie,{onClick:j[6]||(j[6]=be=>m("RedlistedComponent")),class:"ring-muted/50"},{default:E(()=>[R("div",$s,[R("div",null,[R("h1",Fs,[w(Se,{name:"i-material-symbols-award-star-outline",class:"mr-2"}),j[13]||(j[13]=oe(" Naturvårdsarter ",-1))]),l.value===null?(h(),G(Re,{key:0,class:"h-4 w-12 mt-2"})):(h(),V("h1",Ps,ne(l.value)+" arter",1))]),w(ge,{icon:"i-heroicons-chevron-right",class:"rounded-full",variant:"ghost",color:"neutral",size:"xl"})])]),_:1}),w(Ge,{class:"my-6"}),R("div",Vs,[w(de,{fullscreen:!!q.value,title:k(a).ecologyintro?.title??"",description:k(a).ecologyintro?.description??"",ui:{header:"items-start gap-2 shrink-0",title:"whitespace-normal",description:"whitespace-normal leading-snug"}},{body:E(()=>[w(me,{section:k(a).ecologyintro},null,8,["section"])]),default:E(()=>[w(se,{icon:"i-heroicons-newspaper",color:"neutral",variant:"outline",title:"Ekologi",class:"sm:w-fit h-fit ring-muted/50 hover:opacity-85 hover:cursor-pointer"})]),_:1},8,["fullscreen","title","description"]),w(de,{fullscreen:!!q.value,title:k(a).underlag,description:k(a).underlagdescription},{body:E(()=>[w(ye,{underlag:k(a).underlag,underlagbild:k(a).underlagbild,sections:k(a).underlagSections},null,8,["underlag","underlagbild","sections"])]),default:E(()=>[w(se,{icon:"i-heroicons-document-magnifying-glass",color:"neutral",variant:"outline",title:"Underlag",class:"sm:w-fit h-fit ring-muted/50 hover:opacity-85 hover:cursor-pointer"})]),_:1},8,["fullscreen","title","description"])])]),_:1})])):(h(),V("div",Ls,[w(De,{name:"fade",mode:"out-in"},{default:E(()=>[fe.value?(h(),V("div",Is,[(h(),G(Tn(fe.value),he(P.value,{key:x.value,onEnlarge:U,class:"w-full"}),null,16))])):(h(),V("div",As,[R("div",Es,[(h(),G($n,{geography:D.value,forestType:Q.value,standAge:le.value,vegetationType:ce.value,isNormalView:!0,onEnlarge:j[7]||(j[7]=be=>m("FullScreenEdible")),key:k(s).fullPath},null,8,["geography","forestType","standAge","vegetationType"]))]),R("div",Ts,[(h(),G(Fn,{geography:D.value,forestType:Q.value,standAge:le.value,vegetationType:ce.value,isNormalView:!0,onEnlarge:j[8]||(j[8]=be=>m("FullScreenPoison")),key:k(s).fullPath},null,8,["geography","forestType","standAge","vegetationType"]))]),R("div",Ns,[w(Pn,{isNormalView:!0,onEnlarge:j[9]||(j[9]=be=>m("RedlistedComponent"))})])]))]),_:1})]))]),_:1})])])}}},zs=Me(Ms,[["__scopeId","data-v-09afcfa5"]]),Ds={class:"bg-muted"},Bs={class:"flex flex-col min-h-screen"},Os={__name:"DashboardC",setup(e){Xe("(max-width: 767px)");const n=Gn(),t=W(!1),o=W(!0),a=Rt(),i=Oe();ue(()=>a.selectedSpecies,u=>{u&&(t.value=!0)}),ue(t,u=>{u||a.clearSelection()});const r=W(null),s=A(()=>i.geography&&i.forestType&&i.standAge&&i.vegetationType),l=u=>{r.value=u},d=()=>{r.value=null},p=u=>{u.key==="Escape"&&a.selectedSpecies&&a.clearSelection()};function y(u){return Array.isArray(u)?u[0]??null:typeof u=="string"&&u.length>0?u:null}function c(u){const g={geography:y(u.geography),forestType:y(u.forestType),standAge:y(u.standAge),vegetationType:y(u.vegetationType)};g.geography&&g.forestType&&g.standAge&&g.vegetationType&&i.setParams(g)}return et(()=>{window.addEventListener("keydown",p),c(n.params)}),Bn(()=>{window.removeEventListener("keydown",p)}),ue(()=>n.params,u=>{c(u)},{immediate:!0}),ue(()=>[i.geography,i.forestType,i.standAge,i.vegetationType],()=>{i.geography&&i.forestType&&i.standAge&&i.vegetationType&&`${encodeURIComponent(i.geography)}${encodeURIComponent(i.forestType)}${encodeURIComponent(i.standAge)}${encodeURIComponent(i.vegetationType)}`},{deep:!0}),ue(r,()=>{window.scrollTo({top:0,behavior:"smooth"})}),(u,g)=>{const v=Ti,m=Bi,b=pa,_=jn;return h(),V("div",Ds,[w(m,{modelValue:t.value,"onUpdate:modelValue":g[0]||(g[0]=I=>t.value=I),pinned:o.value,"onUpdate:pinned":g[1]||(g[1]=I=>o.value=I)},{default:E(()=>[w(v,{species:k(a).selectedSpecies,source:k(a).sourceComponent},null,8,["species","source"])]),_:1},8,["modelValue","pinned"]),w(_,null,{default:E(()=>[w(De,{name:"fade"},{default:E(()=>[s.value?(h(),G(b,{key:0})):O("",!0)]),_:1})]),_:1}),R("div",Bs,[w(_,{class:"w-full px-0"},{default:E(()=>[w(De,{name:"fade",mode:"out-in"},{default:E(()=>[w(zs,{class:"block sm:border border-muted/50 bg-white sm:rounded-xl sm:shadow mb-4","active-view":r.value,onEnlarge:l,onCloseView:d},null,8,["active-view"])]),_:1})]),_:1})])])}}},Gs=Me(Os,[["__scopeId","data-v-54521b5e"]]),js={};function qs(e,n){const t=Gs;return h(),G(t)}const su=Me(js,[["render",qs]]);export{su as default};
