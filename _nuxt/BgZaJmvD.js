import{H as le,c as Le,i as Jt,I as hn,s as At,x as wo,X as Vn,O as Ln,a as In,d as An,g as Ae,m as Et,k as ko,b as rt,y as _o,f as bn,j as Ue,e as Qe,o as Co,n as xo,u as Ut,A as Ro,t as $o,J as yn,K as Fo,L as Po,M as Vo,N as Lo,E as en,F as tn,C as Io,Q as Ao,_ as Eo,S as To,G as Sn}from"./BryEemLf.js";import{B as Re,$ as We,N as G,e as b,w as E,O as ae,ai as oe,Z as me,P as k,Q as De,C as No,D as Mo,J as zo,W as A,as as yt,at as St,t as ne,aJ as nn,r as W,d as V,o as et,L as on,c as kt,K as de,_ as Ne,h as $,g as w,aP as an,f as O,an as Ee,aC as _t,n as X,aQ as Do,V as Bo,af as xe,T as ze,a5 as Ct,a7 as rn,z as xt,bl as Oo,bm as Ht,a8 as ln,bn as En,aZ as Go,bo as jo,ao as qo,ah as ot,F as pe,ag as fe,aq as Uo,bp as Ie,az as Tn,ae as Nn,aj as Mn,ak as Ho,al as Ko,am as Wo,a9 as zn,ac as Xo,ab as Je,bq as Yo,br as Zo,bs as Qo,au as Jo,bt as ea,b7 as ta,bu as J,a4 as na,bv as Dn,a6 as Pe,aR as Tt,aN as Ye,aS as Bn,ad as oa,bw as aa,aM as On,bf as ia,bx as ra,aD as la,aE as sa,aF as ua,aI as da,by as Gn,av as ca,aH as jn}from"#entry";import{_ as ga}from"./umnyVEvQ.js";import{a as tt,_ as qn}from"./CFzgJ_Qc.js";import{c as Un,b as pa}from"./CYe2A53S.js";import{u as Rt,_ as fa}from"./ClHhc6PR.js";import{_ as ma,a as va,b as ha}from"./CuUwalNN.js";import{_ as $t}from"./ChamUCqd.js";import{_ as Hn}from"./B8EAY7is.js";import{u as Be}from"./CkM89MRv.js";import"./Cpj98o6Y.js";import"./DQT6uneS.js";import"./CudAv0bZ.js";import"./eV839XxS.js";import"./hkhKXcQc.js";import"./iik6CYzq.js";import"./CWMBI_4e.js";var ba=Re({__name:"PaginationEllipsis",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return We(),(t,o)=>(b(),G(k(De),me(n,{"data-type":"ellipsis"}),{default:E(()=>[ae(t.$slots,"default",{},()=>[o[0]||(o[0]=oe("…"))])]),_:3},16))}}),ya=ba;const[nt,Sa]=No("PaginationRoot");var wa=Re({__name:"PaginationRoot",props:{page:{type:Number,required:!1},defaultPage:{type:Number,required:!1,default:1},itemsPerPage:{type:Number,required:!0},total:{type:Number,required:!1,default:0},siblingCount:{type:Number,required:!1,default:2},disabled:{type:Boolean,required:!1},showEdges:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"nav"}},emits:["update:page"],setup(e,{emit:n}){const t=e,o=n,{siblingCount:a,disabled:i,showEdges:r}=Mo(t);We();const s=zo(t,"page",o,{defaultValue:t.defaultPage,passive:t.page===void 0}),l=A(()=>Math.max(1,Math.ceil(t.total/(t.itemsPerPage||1))));return Sa({page:s,onPageChange(d){s.value=d},pageCount:l,siblingCount:a,disabled:i,showEdges:r}),(d,g)=>(b(),G(k(De),{as:d.as,"as-child":d.asChild},{default:E(()=>[ae(d.$slots,"default",{page:k(s),pageCount:l.value})]),_:3},8,["as","as-child"]))}}),ka=wa,_a=Re({__name:"PaginationFirst",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e,t=nt();We();const o=A(()=>t.page.value===1||t.disabled.value);return(a,i)=>(b(),G(k(De),me(n,{"aria-label":"First Page",type:a.as==="button"?"button":void 0,disabled:o.value,onClick:i[0]||(i[0]=r=>!o.value&&k(t).onPageChange(1))}),{default:E(()=>[ae(a.$slots,"default",{},()=>[i[1]||(i[1]=oe("First page"))])]),_:3},16,["type","disabled"]))}}),Ca=_a,xa=Re({__name:"PaginationLast",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e,t=nt();We();const o=A(()=>t.page.value===t.pageCount.value||t.disabled.value);return(a,i)=>(b(),G(k(De),me(n,{"aria-label":"Last Page",type:a.as==="button"?"button":void 0,disabled:o.value,onClick:i[0]||(i[0]=r=>!o.value&&k(t).onPageChange(k(t).pageCount.value))}),{default:E(()=>[ae(a.$slots,"default",{},()=>[i[1]||(i[1]=oe("Last page"))])]),_:3},16,["type","disabled"]))}}),Ra=xa;function qe(e,n){const t=n-e+1;return Array.from({length:t},(o,a)=>a+e)}function $a(e){return e.map(n=>typeof n=="number"?{type:"page",value:n}:{type:"ellipsis"})}const ct="ellipsis";function Fa(e,n,t,o){const i=n,r=Math.max(e-t,1),s=Math.min(e+t,i);if(o){const d=Math.min(2*t+5,n)-2,g=r>3&&Math.abs(i-d-1+1)>2&&Math.abs(r-1)>2,h=s<i-2&&Math.abs(i-d)>2&&Math.abs(i-s)>2;if(!g&&h)return[...qe(1,d),ct,i];if(g&&!h){const u=qe(i-d+1,i);return[1,ct,...u]}if(g&&h){const u=qe(r,s);return[1,ct,...u,ct,i]}return qe(1,i)}else{const l=t*2+1;return n<l?qe(1,i):e<=t+1?qe(1,l):n-e<=t?qe(n-l+1,i):qe(r,s)}}var Pa=Re({__name:"PaginationList",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;We();const t=nt(),o=A(()=>$a(Fa(t.page.value,t.pageCount.value,t.siblingCount.value,t.showEdges.value)));return(a,i)=>(b(),G(k(De),yt(St(n)),{default:E(()=>[ae(a.$slots,"default",{items:o.value})]),_:3},16))}}),Va=Pa,La=Re({__name:"PaginationListItem",props:{value:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e;We();const t=nt(),o=A(()=>t.page.value===n.value),a=A(()=>t.disabled.value);return(i,r)=>(b(),G(k(De),me(n,{"data-type":"page","aria-label":`Page ${i.value}`,"aria-current":o.value?"page":void 0,"data-selected":o.value?"true":void 0,disabled:a.value,type:i.as==="button"?"button":void 0,onClick:r[0]||(r[0]=s=>!a.value&&k(t).onPageChange(i.value))}),{default:E(()=>[ae(i.$slots,"default",{},()=>[oe(ne(i.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),Ia=La,Aa=Re({__name:"PaginationNext",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e;We();const t=nt(),o=A(()=>t.page.value===t.pageCount.value||t.disabled.value);return(a,i)=>(b(),G(k(De),me(n,{"aria-label":"Next Page",type:a.as==="button"?"button":void 0,disabled:o.value,onClick:i[0]||(i[0]=r=>!o.value&&k(t).onPageChange(k(t).page.value+1))}),{default:E(()=>[ae(a.$slots,"default",{},()=>[i[1]||(i[1]=oe("Next page"))])]),_:3},16,["type","disabled"]))}}),Ea=Aa,Ta=Re({__name:"PaginationPrev",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e;We();const t=nt(),o=A(()=>t.page.value===1||t.disabled.value);return(a,i)=>(b(),G(k(De),me(n,{"aria-label":"Previous Page",type:a.as==="button"?"button":void 0,disabled:o.value,onClick:i[0]||(i[0]=r=>!o.value&&k(t).onPageChange(k(t).page.value-1))}),{default:E(()=>[ae(a.$slots,"default",{},()=>[i[1]||(i[1]=oe("Prev page"))])]),_:3},16,["type","disabled"]))}}),Na=Ta;function Ma(e){let n;for(;n=e.sourceEvent;)e=n;return e}function wt(e,n){if(e=Ma(e),n===void 0&&(n=e.currentTarget),n){var t=n.ownerSVGElement||n;if(t.createSVGPoint){var o=t.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(n.getScreenCTM().inverse()),[o.x,o.y]}if(n.getBoundingClientRect){var a=n.getBoundingClientRect();return[e.clientX-a.left-n.clientLeft,e.clientY-a.top-n.clientTop]}}return[e.pageX,e.pageY]}const wn=e=>+e,za={components:[],container:void 0,followCursor:!0,allowHover:!1,horizontalPlacement:le.Auto,horizontalShift:0,verticalPlacement:le.Top,verticalShift:0,attributes:{},triggers:{},className:void 0,showDelay:void 0,hideDelay:void 0},Ft=Le`
  label: tooltip;
  display: inline-block;
  left: 0;
  bottom: 0;
  min-width: max-content;
  position: absolute;
  opacity: 0;
  transition: opacity;
  transition-duration: var(--vis-tooltip-transition-duration);
  z-index: 999999;
  padding: var(--vis-tooltip-padding);
  color: var(--vis-tooltip-text-color);
  border-radius: var(--vis-tooltip-border-radius);
  box-shadow: var(--vis-tooltip-box-shadow);
  border: solid 1px var(--vis-tooltip-border-color);
  background-color: var(--vis-tooltip-background-color);
  backdrop-filter: var(--vis-tooltip-backdrop-filter);
`,Da=Ft,Ba=Jt`
  :root {
    --vis-tooltip-background-color: rgba(255, 255, 255, 0.95);
    --vis-tooltip-border-color: #e5e9f7;
    --vis-tooltip-text-color: #000;
    --vis-tooltip-shadow-color: rgba(172, 179, 184, 0.35);
    --vis-tooltip-backdrop-filter: none;
    --vis-tooltip-padding: 10px 15px;
    --vis-tooltip-border-radius: 5px;
    --vis-tooltip-transition-duration: 300ms;
    --vis-tooltip-box-shadow: none;

    --vis-dark-tooltip-background-color: rgba(30,30,30, 0.95);
    --vis-dark-tooltip-text-color: #e5e9f7;
    --vis-dark-tooltip-border-color: var(--vis-color-grey);
    --vis-dark-tooltip-shadow-color: rgba(0,0,0, 0.95);
  }

  body.theme-dark ${`.${Ft}`} {
    --vis-tooltip-background-color: var(--vis-dark-tooltip-background-color);
    --vis-tooltip-text-color: var(--vis-dark-tooltip-text-color);
    --vis-tooltip-border-color: var(--vis-dark-tooltip-border-color);
    --vis-tooltip-shadow-color: var(--vis-dark-tooltip-shadow-color);
  }

  body.theme-dark {
    --vis-tooltip-background-color: rgba(30,30,30, 0.95);
    --vis-tooltip-text-color: #e5e9f7;
    --vis-tooltip-border-color: var(--vis-color-grey);
    --vis-tooltip-shadow-color: rgba(0,0,0, 0.95);
  }
`,Kn=Le`
  bottom: unset;
  position: fixed;
`,vt=Le`
  opacity: 1;
`,ht=Le`
  display: none;
`,Wn=Le`
  label: non-interactive;
  pointer-events: none;
  user-select: none;
`,Oa=Object.freeze(Object.defineProperty({__proto__:null,hidden:ht,nonInteractive:Wn,positionFixed:Kn,root:Ft,show:vt,tooltip:Da,variables:Ba},Symbol.toStringTag,{value:"Module"}));class Xn{constructor(n={}){this._defaultConfig=za,this.config=this._defaultConfig,this._setUpEventsThrottled=hn(this._setUpEvents,500),this._setContainerPositionThrottled=hn(this._setContainerPosition,500),this._isShown=!1,this.element=document.createElement("div"),this.div=At(this.element).attr("class",Ft).classed(vt,!1).classed(ht,!0),this.setConfig(n),this.components=this.config.components,this._mutationObserver=new MutationObserver(()=>{this._isShown&&(!this.config.followCursor&&this._hoveredElement?this.placeByElement(this._hoveredElement):this._position&&this.place({x:this._position[0],y:this._position[1]}))}),this._mutationObserver.observe(this.div.node(),{childList:!0,subtree:!0})}setConfig(n){var t;this.prevConfig=this.config,this.config=wo(this._defaultConfig,n),this.prevConfig.horizontalPlacement!==this.config.horizontalPlacement&&this.overrideHorizontalPlacement(void 0),this.config.container&&this.config.container!==((t=this.prevConfig)===null||t===void 0?void 0:t.container)&&this.setContainer(this.config.container),this._setUpAttributes()}setContainer(n){var t;(t=this.element.parentNode)===null||t===void 0||t.removeChild(this.element),this._container=n,this._container.appendChild(this.element),this._setContainerPositionThrottled()}getContainer(){return this._container}hasContainer(){return!!this._container&&this._container.isConnected}setComponents(n){this.components=n}update(){this._container&&this._setUpEventsThrottled()}show(n,t){this.render(n),this.place(t)}_hide(){this.div.classed(vt,!1).on("transitionend",()=>{this.div.classed(ht,!this._isShown)}),this._isShown=!1}hide(){window.clearTimeout(this._showDelayTimeoutId),this.config.hideDelay?(window.clearTimeout(this._hideDelayTimeoutId),this._hideDelayTimeoutId=setTimeout(()=>this._hide(),this.config.hideDelay)):this._hide()}_display(){window.clearTimeout(this._hideDelayTimeoutId),this.div.classed(ht,!1).classed(vt,!0),this._isShown=!0}display(){this._isShown||(this.config.showDelay?(window.clearTimeout(this._showDelayTimeoutId),this._showDelayTimeoutId=setTimeout(()=>{this._display(),this.place({x:this._position[0],y:this._position[1]})},this.config.showDelay)):this._display())}place(n){if(this._position=[n.x,n.y],!this.hasContainer()){console.warn("Unovis | Tooltip: Container was not set or is not initialized yet");return}const{config:t}=this,o=this.element.offsetWidth,a=this.element.offsetHeight,i=this._overriddenHorizontalPlacement||(t.horizontalPlacement===le.Auto?le.Center:t.horizontalPlacement),r=t.verticalPlacement===le.Auto?n.y-a<0?le.Bottom:le.Top:t.verticalPlacement,s=5,l=i===le.Left?-o-s-t.horizontalShift:i===le.Center?-o/2:s+t.horizontalShift,d=r===le.Bottom?s+t.verticalShift:r===le.Center?-a/2:-s-t.verticalShift-a,[g,h]=this._constraintPosToContainer(n.x+l,n.y+d,o,a);this._applyPosition(g,h,a)}placeByElement(n){const{config:t}=this;this._hoveredElement=n;const o=5,a=this.element.offsetWidth,i=this.element.offsetHeight,r=this.isContainerBody(),s=r?window.innerWidth:this._container.scrollWidth,l=n.getBoundingClientRect(),d=r?[l.x,l.y]:wt({clientX:l.x,clientY:l.y,pageX:l.x,pageY:l.y},this._container),g=this._overriddenHorizontalPlacement||(t.horizontalPlacement===le.Auto?d[0]-a<0?le.Right:d[0]+a>s?le.Left:le.Center:t.horizontalPlacement);let h=0;switch(g){case le.Left:h=-a-o-t.horizontalShift;break;case le.Right:h=l.width+o+t.horizontalShift;break;case le.Center:default:h=(-a+l.width)/2;break}const c=t.verticalPlacement===le.Auto?g!==le.Center?le.Center:d[1]-i<0?le.Bottom:le.Top:t.verticalPlacement;let u=-i;switch(c){case le.Center:u+=(i+l.height)/2;break;case le.Bottom:u+=i+l.height+o+t.verticalShift;break;case le.Top:default:u+=-o-t.verticalShift;break}const[p,m]=this._constraintPosToContainer(d[0]+h,d[1]+u,a,i);this._applyPosition(p,m,i)}isContainerBody(){return this._container===document.body}overrideHorizontalPlacement(n){this._overriddenHorizontalPlacement=n}render(n){var t;const{config:o,prevConfig:a}=this;n instanceof HTMLElement?this.div.select(":first-child").node()!==n&&this.div.html("").append(()=>n):n&&this.div.html(n),this.div.classed((t=o.className)!==null&&t!==void 0?t:"",!!o.className).classed(Wn,!o.allowHover),a?.className&&a.className!==o.className&&this.div.classed(a.className,!1),this.display()}_applyPosition(n,t,o){const a=this.isContainerBody(),i=a?window.innerHeight:this._container.scrollHeight;this.div.classed(Kn,a).style("top",a?`${t}px`:"unset").style("bottom",a?"unset":`${i-t-o}px`).style("left",`${n}px`)}_constraintPosToContainer(n,t,o,a){const i=this.isContainerBody(),r=i?window.innerHeight:this._container.scrollHeight,s=i?window.innerWidth:this._container.scrollWidth,l=10,d=n>s-o-l,g=n<l,h=d?s-o-l:g?l:n,c=10,u=t>r-a-c,p=t<c,m=u?r-a-c:p?c:t;return[s<o?0:h,r<a?0:m]}_setContainerPosition(){var n;this._container!==document.body&&((n=getComputedStyle(this._container))===null||n===void 0?void 0:n.position)==="static"&&(this._container.style.position="relative")}_setUpEvents(){const{config:n}=this;this.components.forEach(t=>{const o=At(t.element);o.on("mousemove.tooltip",a=>{const{config:i}=this,r=a.composedPath&&a.composedPath()||a.path||[a.target];for(const s of Object.keys(i.triggers)){const l=i.triggers[s];if(!l)continue;const d=o.selectAll(`.${s}`).nodes();for(const g of r){if(g===o.node())break;if(g.classList.contains(s)){const h=d.indexOf(g),c=At(g).datum(),u=l(c,h,d),[p,m]=this.isContainerBody()?[a.clientX,a.clientY]:wt(a,this._container);u===null?this.hide():(this.render(u),i.followCursor?this.place({x:p,y:m}):this.placeByElement(g)),a.stopPropagation();return}}}this._isShown&&this.hide()}).on("mouseleave.tooltip",a=>{a.stopPropagation(),this.hide()})}),n.allowHover?this.div.on("mouseenter.tooltip",this._display.bind(this)).on("mouseleave.tooltip",this.hide.bind(this)):this.div.on("mouseenter.tooltip",null).on("mouseleave.tooltip",null)}_setUpAttributes(){const n=this.config.attributes;n&&Object.keys(n).forEach(t=>{this.div.attr(t,n[t])})}destroy(){var n;this._mutationObserver.disconnect(),window.clearTimeout(this._hideDelayTimeoutId),window.clearTimeout(this._showDelayTimeoutId),(n=this.div)===null||n===void 0||n.remove()}}Xn.selectors=Oa;const Ga=Object.assign(Object.assign({},Vn),{color:void 0,barMaxWidth:void 0,barWidth:void 0,dataStep:void 0,barPadding:0,roundedCorners:2,cursor:null,barMinHeight1Px:!1,barMinHeightZeroValue:null,orientation:Ln.Vertical}),Yn=Le`
  label: stacked-bar-component;
`,ja=Jt`
  :root {
    --vis-stacked-bar-cursor: default;
    --vis-stacked-bar-fill-color: var(--vis-color-main);
    --vis-stacked-bar-stroke-color: none;
    --vis-stacked-bar-stroke-width: 0px;
    --vis-stacked-bar-hover-stroke-width: none;
    --vis-stacked-bar-hover-stroke-color: none;

    /* Dark Theme */
    --vis-dark-stacked-bar-stroke-color: none;
  }

  body.theme-dark ${`.${Yn}`} {
    --vis-stacked-bar-stroke-color: var(--vis-dark-stacked-bar-stroke-color);
  }
`,bt=Le`
  label: bar;
  fill: var(--vis-stacked-bar-fill-color);
  stroke: var(--vis-stacked-bar-stroke-color);
  stroke-width: var(--vis-stacked-bar-stroke-width);
  cursor: var(--vis-stacked-bar-cursor);

  &:hover {
    stroke-width: var(--vis-stacked-bar-hover-stroke-width);
    stroke: var(--vis-stacked-bar-hover-stroke-color);
  }
`,Kt=Le`
  label: barGroup;
`,Zn=Le`
  label: barGroupExit;
`,qa=Object.freeze(Object.defineProperty({__proto__:null,bar:bt,barGroup:Kt,barGroupExit:Zn,globalStyles:ja,root:Yn},Symbol.toStringTag,{value:"Module"}));class sn extends In{constructor(n){super(),this._defaultConfig=Ga,this.config=this._defaultConfig,this.getAccessors=()=>An(this.config.y)?this.config.y:[this.config.y],this.stacked=!0,this.events={},this._barData=[],n&&this.setConfig(n)}get bleed(){if(this._barData=this._getVisibleData(),this._barData.length===0)return{top:0,bottom:0,left:0,right:0};const n=!this.isVertical()&&this.dataScale.range()[0]>this.dataScale.range()[1],t=this.dataScale.domain(),o=this._getBarWidth()/2,a=this._barData.map((u,p)=>Ae(u,this.config.x,p)),i=Et(a),r=ko(a),s=this.dataScale(i),l=this.dataScale(r),d=this.dataScale.invert(s+(n?o:-o)),g=this.dataScale.invert(l+(n?-o:o)),h=d<=t[0]?this.dataScale(t[0])-this.dataScale(d):0,c=g>t[1]?this.dataScale(g)-this.dataScale(t[1]):0;return{top:this.isVertical()?0:n?-c:h,bottom:this.isVertical()?0:n?-h:c,left:this.isVertical()?h:0,right:this.isVertical()?c:0}}get dataScale(){return this.isVertical()?this.xScale:this.yScale}get valueScale(){return this.isVertical()?this.yScale:this.xScale}isVertical(){return this.config.orientation===Ln.Vertical}_render(n){const{config:t}=this,o=rt(n)?n:t.duration,a=this.getAccessors(),i=_o(this._barData,0,a,this._prevNegative);this._prevNegative=i.map(p=>!!p.isMostlyNegative);const r=this.g.selectAll(`.${Kt}`).data(this._barData,(p,m)=>{var v;return`${(v=bn(p,t.id,m))!==null&&v!==void 0?v:m}`}),s=(p,m)=>{const v=this.dataScale(Ae(p,t.x,m)),y=this.isVertical()?v:0,_=this.isVertical()?0:v;return`translate(${y},${_})`},d=r.enter().append("g").attr("class",Kt).attr("transform",s).style("opacity",1).merge(r);Ue(d,o).attr("transform",s).style("opacity",1);const g=r.exit().attr("class",Zn);Ue(g,o).style("opacity",0).remove(),Ue(g.selectAll(`.${bt}`),o).attr("transform",this.isVertical()?`translate(0,${this._height/3})`:`translate(${this._width/6},0)`);const h=d.selectAll(`.${bt}`).data((p,m)=>i.map((v,y)=>Object.assign(Object.assign({},p),{_index:m,_stacked:v[m],_ending:y===i.length-1||y<=i.length-1&&i[y+1][m][0]!==v[m][1]}))),u=h.enter().append("path").attr("class",bt).attr("d",(p,m)=>this._getBarPath(p,m,!0)).style("fill",(p,m)=>Qe(p,t.color,m)).merge(h);Ue(u,o).attr("d",(p,m)=>this._getBarPath(p,m)).style("fill",(p,m)=>Qe(p,t.color,m)).style("cursor",(p,m)=>bn(p,t.cursor,m)),Ue(h.exit(),o).style("opacity",0).remove()}_getBarWidth(){const{config:n,datamodel:{data:t}}=this;if(Co(t))return 0;if(n.barWidth)return Et([n.barWidth,n.barMaxWidth]);const o=this.dataScale.bandwidth,a=this.dataScale.domain?this.dataScale.domain():[];let r=1+(o?a.length:a[1]-a[0])/n.dataStep||!o&&t.filter((d,g)=>{const h=Ae(d,n.x,g);return h>=a[0]&&h<=a[1]}).length||t.length;!o&&r>=2&&(r+=1);const l=(r<2?1:1-n.barPadding)*(this.isVertical()?this._width:this._height)/r;return Et([l,n.barMaxWidth])}_getVisibleData(){const{config:n,datamodel:{data:t}}=this,o=this._getBarWidth(),a=t.length<2?0:o/2,i=this.dataScale,r=Math.abs(i.invert(a)-i.invert(0));return t?.filter((l,d)=>{const g=Ae(l,n.x,d),h=i.domain(),c=+h[0],u=+h[1];return g>=c-r&&g<=u+r})}_getBarPath(n,t,o=!1){const{config:a}=this,i=this.getAccessors(),r=this._getBarWidth(),s=n._stacked[1]<0,l=n._ending,d=Ae(n,i[t],n._index),g=o?0:Math.abs(this.valueScale(n._stacked[0])-this.valueScale(n._stacked[1])),h=!o&&a.barMinHeight1Px&&g<1&&isFinite(d)&&d!==a.barMinHeightZeroValue?1:g,c=o?this.valueScale(0):this.valueScale(s?n._stacked[0]:n._stacked[1])-(g<1&&a.barMinHeight1Px?1:0),u=-r/2,p=r,m=a.roundedCorners?rt(a.roundedCorners)?+a.roundedCorners:p/2:0,v=Ut(m,0,Math.min(g,p)/2),y=this.yScale.range()[0]>this.yScale.range()[1];return xo({x:this.isVertical()?u:c-h,y:this.isVertical()?c+(y?0:-h):u,w:this.isVertical()?p:h,h:this.isVertical()?h:p,tl:l&&(this.isVertical()?!s&&y||s&&!y:s),tr:l&&(this.isVertical()?!s&&y||s&&!y:!s),br:l&&(this.isVertical()?s&&y||!s&&!y:!s),bl:l&&(this.isVertical()?s&&y||!s&&!y:s),r:v})}getValueScaleExtent(n){const{datamodel:t}=this,o=this.getAccessors(),a=n?this._getVisibleData():t.data;return Ro(a,...o)}getDataScaleExtent(){const{config:n,datamodel:t}=this;return $o(t.data,n.x)}getYDataExtent(n){return this.isVertical()?this.getValueScaleExtent(n):this.getDataScaleExtent()}getXDataExtent(){return this.isVertical()?this.getDataScaleExtent():this.getValueScaleExtent(!1)}}sn.selectors=qa;const Ua=Object.assign(Object.assign({},Vn),{yStacked:void 0,baseline:null,duration:100,tooltip:void 0,template:(e,n,t,o)=>"",hideWhenFarFromPointer:!0,hideWhenFarFromPointerDistance:100,snapToData:!0,getCircles:void 0,color:void 0,strokeColor:void 0,strokeWidth:void 0,onCrosshairMove:void 0,forceShowAt:void 0}),Ha=Jt`
  :root {
    --vis-crosshair-line-stroke-color: #888;
    --vis-crosshair-line-stroke-width: 1px;
    --vis-crosshair-line-stroke-opacity: 1;
    --vis-crosshair-circle-stroke-color: #fff;
    --vis-crosshair-circle-stroke-width: 1px;
    --vis-crosshair-circle-stroke-opacity: 0.75;
  }
`,Ka=Le`
  label: crosshair-component;
`,Qn=Le`
  stroke: var(--vis-crosshair-line-stroke-color);
  stroke-width: var(--vis-crosshair-line-stroke-width);
  stroke-opacity: var(--vis-crosshair-line-stroke-opacity);
  pointer-events: none;
`,Jn=Le`
  stroke: var(--vis-crosshair-circle-stroke-color);
  stroke-width: var(--vis-crosshair-circle-stroke-width);
  stroke-opacity: var(--vis-crosshair-circle-stroke-opacity);
  pointer-events: none;
`,Wa=Object.freeze(Object.defineProperty({__proto__:null,circle:Jn,globalStyles:Ha,line:Qn,root:Ka},Symbol.toStringTag,{value:"Module"}));class eo extends In{constructor(n){super(),this.clippable=!0,this._defaultConfig=Ua,this.config=this._defaultConfig,this._xPx=void 0,this._yPx=void 0,this._mouseEvent=void 0,this._animFrameId=null,this._accessors={x:void 0,y:void 0,yStacked:void 0,baseline:void 0},n&&this.setConfig(n),this.g.style("opacity",0),this.line=this.g.append("line").attr("class",Qn)}set accessors(n){this._accessors=n}get accessors(){var n;const{config:t}=this,o=!!(t.x||t.y||t.yStacked),a=o?t.x:this._accessors.x,i=o?t.y:this._accessors.y,r=i?An(i)?i:[i]:void 0,s=o?t.yStacked:this._accessors.yStacked,l=(n=t.baseline)!==null&&n!==void 0?n:this._accessors.baseline;return{x:a,y:r,yStacked:s,baseline:l}}_isContainerInViewport(){var n;if(!(!((n=this.container)===null||n===void 0)&&n.node()))return!1;const t=this.container.node().getBoundingClientRect(),o=window.innerWidth||document.documentElement.clientWidth,a=window.innerHeight||document.documentElement.clientHeight,i=Math.max(0,Math.min(t.right,o)-Math.max(t.left,0)),r=Math.max(0,Math.min(t.bottom,a)-Math.max(t.top,0)),s=t.width*t.height,l=i*r;return s>0&&l/s>=.35}setContainer(n){this.container!==n&&(this.container=n,this.container.on("mousemove.crosshair",this._onMouseMove.bind(this)),this.container.on("mouseout.crosshair",this._onMouseOut.bind(this)),this.container.on("wheel.crosshair",this._onWheel.bind(this)))}_render(n){var t,o,a,i,r;const{config:s,datamodel:l}=this,d=rt(n)?n:s.duration,g=s.forceShowAt!==void 0,h=g?this.xScale(s.forceShowAt):this._xPx,c=this.xScale.invert(h),u=!((t=l.data)===null||t===void 0)&&t.length&&this.accessors.x?l.data.indexOf(yn(l.data,c,this.accessors.x,Fo.Left)):void 0;let p,m;s.snapToData&&(!this.accessors.y&&!this.accessors.yStacked&&(!((o=l.data)===null||o===void 0)&&o.length)&&console.warn("Unovis | Crosshair: Y accessors have not been configured. Please check if they're present in the configuration object"),!(!((a=l.data)===null||a===void 0)&&a.length)&&this._mouseEvent&&console.warn("Unovis | Crosshair: No data to snap to. Make sure the data has been passed to the container or to the crosshair itself"),p=yn(l.data,c,this.accessors.x),m=l.data.indexOf(p));const v=this.xScale.range(),y=this.yScale.range(),_=s.snapToData&&p?Ut(Math.round(this.xScale(Ae(p,this.accessors.x,m))),0,this._width):Ut(h,v[0],v[1]),L=h>=v[0]&&h<=v[1],q=this._yPx>=y[1]&&this._yPx<=y[0];let D=this._xPx?L&&q:L;s.hideWhenFarFromPointer&&Math.abs(_-+h)>=s.hideWhenFarFromPointerDistance&&(D=!1);const Q=(i=s.tooltip)!==null&&i!==void 0?i:this.tooltip;if(D&&Q&&this._isContainerInViewport()){const I=Q.getContainer()||this.container.node(),C=Q.isContainerBody();if(g){const S=this.container.node().getBoundingClientRect(),F=(C?h+S.left:h)+this._containerMargin.left,U=this._height/2+(C?S.top:0),H=[F,U];this._showTooltip(p,c,H,u)}else if(this._mouseEvent){const S=C?[this._mouseEvent.clientX,this._mouseEvent.clientY]:wt(this._mouseEvent,I);this._showTooltip(p,c,S,u)}}else this._hideTooltip();if(this._mouseEvent&&((r=s.onCrosshairMove)===null||r===void 0||r.call(s,D?this.xScale.invert(this._xPx):void 0,p,m,this._mouseEvent),this._mouseEvent=void 0),Ue(this.g,d).style("opacity",D?1:0),!isFinite(h))return;this.line.attr("y1",0).attr("y2",this._height),Ue(this.line,d,wn).attr("x1",_).attr("x2",_);const se=Po(s.getCircles)?s.getCircles(c,l.data,this.yScale,u):this.getCircleData(p,m),ce=this.g.selectAll("circle").data(se,(I,C)=>{var S;return(S=I.id)!==null&&S!==void 0?S:C}),ge=ce.enter().append("circle").attr("class",Jn).attr("r",0).attr("cx",_).attr("cy",I=>I.y).style("fill",I=>I.color).style("stroke",I=>I.strokeColor).style("stroke-width",I=>I.strokeWidth);Ue(ge.merge(ce),d,wn).attr("cx",_).attr("cy",I=>I.y).attr("r",4).style("opacity",I=>I.opacity).style("fill",I=>I.color).style("stroke",I=>I.strokeColor).style("stroke-width",I=>I.strokeWidth),ce.exit().remove()}hide(n){window.cancelAnimationFrame(this._animFrameId),this._animFrameId=window.requestAnimationFrame(()=>{var t,o;this._xPx=void 0,this._yPx=void 0,this._mouseEvent=void 0,(o=(t=this.config).onCrosshairMove)===null||o===void 0||o.call(t,void 0,void 0,void 0,n),this._render()})}_onMouseMove(n){var t;const{datamodel:o,element:a}=this;!this.accessors.x&&(!((t=o.data)===null||t===void 0)&&t.length)&&console.warn("Unovis | Crosshair: X accessor function has not been configured. Please check if it's present in the configuration object");const[i,r]=wt(n,a);this._xPx=i,this._yPx=r,this._mouseEvent=n,window.cancelAnimationFrame(this._animFrameId),this._animFrameId=window.requestAnimationFrame(()=>{this._render()})}_onMouseOut(n){var t;(!n||!(!((t=this.container)===null||t===void 0)&&t.node().contains(n.relatedTarget)))&&this.hide(n)}_onWheel(n){this.hide(n)}_showTooltip(n,t,o,a){var i;const{config:r,datamodel:s}=this,l=(i=r.tooltip)!==null&&i!==void 0?i:this.tooltip;if(!l||!o)return;const[d,g]=o,h=r.template(n,t,s.data,a);if(l.config.followCursor=!0,!l.config.horizontalPlacement||l.config.horizontalPlacement===le.Auto){const c=l.isContainerBody()?d-this.container.node().getBoundingClientRect().left:d;l.overrideHorizontalPlacement(c>this._containerWidth/2?le.Left:le.Right)}h&&l.show(h,{x:d,y:g})}_hideTooltip(){var n;const{config:t}=this,o=(n=t.tooltip)!==null&&n!==void 0?n:this.tooltip;o?.hide()}getYDataExtent(){return[void 0,void 0]}getCircleData(n,t){var o,a;const{config:i}=this;if(i.snapToData&&n){const r=(o=this.accessors.y)!==null&&o!==void 0?o:[],s=(a=this.accessors.yStacked)!==null&&a!==void 0?a:[],l=Ae(n,this.accessors.baseline,t)||0,d=Vo(n,t,...s).map((h,c)=>({y:this.yScale(h+l),opacity:rt(Ae(n,s[c],c))?1:0,color:Qe(n,i.color,c),strokeColor:i.strokeColor?Qe(n,i.strokeColor,c):void 0,strokeWidth:i.strokeWidth?Ae(n,i.strokeWidth,c):void 0})),g=r.map((h,c)=>{const u=Ae(n,h,t);return{y:this.yScale(u),opacity:rt(u)?1:0,color:Qe(n,i.color,d.length+c),strokeColor:i.strokeColor?Qe(n,i.strokeColor,c):void 0,strokeWidth:i.strokeWidth?Ae(n,i.strokeWidth,c):void 0}});return d.concat(g)}return[]}}eo.selectors=Wa;const Xa={"data-vis-crosshair":""},Ya=Re({__name:"index",props:{data:{}},setup(e,{expose:n}){const t=nn(Lo),o=e,a=A(()=>t.data.value??o.data),i=en(o),r=W();return et(()=>{on(()=>{var s;r.value=new eo(i.value),(s=r.value)==null||s.setData(a.value),t.update(r.value)})}),kt(()=>{var s;(s=r.value)==null||s.destroy(),t.destroy()}),de(i,(s,l)=>{var d;tn(s,l)||(d=r.value)==null||d.setConfig(i.value)}),de(a,()=>{var s;(s=r.value)==null||s.setData(a.value)}),n({component:r}),(s,l)=>(b(),V("div",Xa))}}),Za={"data-vis-component":""},Qa=Re({__name:"index",props:{color:{},barWidth:{},barMaxWidth:{},dataStep:{},barPadding:{},roundedCorners:{type:[Number,Boolean]},cursor:{},barMinHeight1Px:{type:Boolean},barMinHeightZeroValue:{},orientation:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:n}){const t=nn(Io),o=e,a=A(()=>t.data.value??o.data),i=en(o),r=W();return et(()=>{on(()=>{var s;r.value=new sn(i.value),(s=r.value)==null||s.setData(a.value),t.update(r.value)})}),kt(()=>{var s;(s=r.value)==null||s.destroy(),t.destroy()}),de(i,(s,l)=>{var d;tn(s,l)||(d=r.value)==null||d.setConfig(i.value)}),de(a,()=>{var s;(s=r.value)==null||s.setData(a.value)}),n({component:r}),(s,l)=>(b(),V("div",Za))}}),Ja={"data-vis-tooltip":""},ei=Re({__name:"index",props:{components:{},container:{},followCursor:{type:Boolean},allowHover:{type:Boolean},horizontalPlacement:{},horizontalShift:{},verticalPlacement:{},verticalShift:{},triggers:{},attributes:{},className:{},hideDelay:{},showDelay:{},data:{}},setup(e,{expose:n}){const t=nn(Ao),o=en(e),a=W();return et(()=>{on(()=>{a.value=new Xn(o.value),t.update(a.value)})}),kt(()=>{var i;(i=a.value)==null||i.destroy(),t.destroy()}),de(o,(i,r)=>{var s;tn(i,r)||(s=a.value)==null||s.setConfig(o.value)}),n({component:a}),(i,r)=>(b(),V("div",Ja))}}),ti={},ni={class:"relative overflow-hidden rounded-(--ui-radius) border border-dashed border-(--ui-border-accented) opacity-75 px-4 flex items-center justify-center aspect-video"};function oi(e,n){const t=ga;return b(),G(t,{variant:"subtle"},{default:E(()=>[$("div",ni,[n[0]||(n[0]=$("svg",{class:"absolute inset-0 h-full w-full stroke-(--ui-border-inverted)/10",fill:"none"},[$("defs",null,[$("pattern",{id:"pattern-5c1e4f0e-62d5-498b-8ff0-cf77bb448c8e",x:"0",y:"0",width:"10",height:"10",patternUnits:"userSpaceOnUse"},[$("path",{d:"M-3 13 15-5M-5 5l18-18M-1 21 17 3"})])]),$("rect",{stroke:"none",fill:"url(#pattern-5c1e4f0e-62d5-498b-8ff0-cf77bb448c8e)",width:"100%",height:"100%"})],-1)),ae(e.$slots,"default")])]),_:3})}const ai=Object.assign(Ne(ti,[["render",oi]]),{__name:"ImagePlaceholder"}),ii={class:"w-full relative overflow-visible"},ri={key:0,class:"group overflow-hidden"},li=["src"],si={class:"flex w-full bg-neutral-50 p-1 px-3 justify-between"},ui={class:"flex"},di={key:1,class:"overflow-hidden relative group"},ci=["src"],gi={class:"flex w-full bg-neutral-50 p-1 px-3 justify-between"},pi={class:"flex"},fi={class:"px-5 pb-3 mt-4"},mi={class:"text-2xl font-medium"},vi={class:"text-neutral-500"},hi={class:"my-1"},bi={key:0,class:"text-sm text-red-700 shrink-0 flex gap-1 items-center"},yi={key:1,class:"text-sm text-yellow-600 shrink-0 flex gap-1 items-center"},Si={key:2,class:"text-sm shrink-0 text-red-700 flex gap-1 items-center"},wi={key:3,class:"text-sm text-yellow-600 shrink-0 flex gap-1 items-center"},ki={key:4,class:"text-sm text-red-700 shrink-0 flex gap-1 items-center"},_i={key:5,class:"text-sm text-yellow-600 shrink-0 flex gap-1 items-center"},Ci={class:"mt-3 text-lg"},xi={class:"-mx-1 mt-4"},Ri={key:0,class:"inline-flex m-1 h-fit align-bottom"},$i=["src"],Fi={key:1,class:"shrink-0 inline-flex m-1 align-bottom"},Pi={key:2,class:"shrink-0 inline-flex m-1 align-bottom"},Vi={key:3,class:"shrink-0 inline-flex m-1 align-bottom"},Li={class:"text-lg font-semibold mb-2 flex"},Ii={key:0,class:"flex items-center space-x-2"},Ai={size:"md",weight:"light"},Ei={size:"md",weight:"light"},kn=50,Ti={__name:"SpeciesInfo",props:{species:Object},setup(e){const n=W(0),t=e,o=A(()=>t.species.images||[]);de(o,()=>{n.value=0});const a=W(!1),i=W(!0),r=()=>{a.value=!a.value},s=A(()=>t.species.Kriteriedokumentation?a.value?t.species.Kriteriedokumentation:t.species.Kriteriedokumentation.slice(0,kn)+"...":""),l=A(()=>t.species.ekologi?i.value?t.species.ekologi:t.species.ekologi.slice(0,kn)+"...":""),d=v=>v?v.charAt(0).toUpperCase()+v.slice(1).toLowerCase():"",g=v=>v?v.replace("/detaljer","").replace("/artinformation",""):"",h=v=>({LC:"LC",NT:"NT",EN:"EN",VU:"VU",CR:"CR",RE:"RE",DD:"DD"})[v]||"NE",c=v=>({LC:"bg-green-500",NT:"bg-[#D7838E]",EN:"bg-[#C4004F]",VU:"bg-[#D7838E]",CR:"bg-[#C4004F]",RE:"bg-[#421A31]",DD:"bg-[#E8E9E7]"})[v]||"bg-neutral-300",u=v=>({LC:"Livskraftig",NT:"Nära hotad",EN:"Starkt hotad",VU:"Sårbar",CR:"Akut hotad",RE:"Nationellt utdöd",DD:"Kunskapsbrist"})[v]||"Ej bedömd",p=(v,y)=>`/images/svampgrupp/${{övrigt:"ovrigt.webp",hattsvamp:"hattsvamp.png",kantarell:"kantarell.webp",sopp:"sopp.png",taggsvamp:"taggsvamp.png",fingersvamp:"fingersvamp.webp",tryffel:"tryffel.webp",skinnsvamp:"skinnsvamp.webp",skålsvamp:"skalsvamp.webp"}[v==="0"&&y?y:v]||"default-icon.webp"}`,m=A(()=>t.species["Svamp-grupp"]==="0"&&t.species["Svamp-grupp-släkte"]?t.species["Svamp-grupp-släkte"]:t.species["Svamp-grupp"]);return(v,y)=>{const _=Eo,L=an,q=ai,D=Ee,Q=_t,se=tt,ce=Do;return b(),V("div",ii,[o.value.length>1?(b(),V("div",ri,[w(_,{onSelect:y[0]||(y[0]=ge=>n.value=ge),items:o.value,ui:{item:"basis-full"}},{default:E(({item:ge})=>[(b(),V("div",{class:"w-full relative",key:ge},[$("img",{src:ge,class:"w-full",draggable:"false",height:"300",width:"450",loading:"lazy",decoding:"async",alt:"Artbild"},null,8,li)]))]),_:1},8,["items"]),$("div",si,[$("div",ui,[w(L,{name:"i-mingcute-copyright-line",class:"h-4 w-4 my-1 mr-1"}),y[1]||(y[1]=$("h1",{weight:"light",class:""}," Michael Krikorev ",-1))]),$("h1",null,ne(n.value+1)+" av "+ne(o.value.length),1)])])):o.value.length===1?(b(),V("div",di,[$("img",{src:o.value[0],class:"w-full",draggable:"false",height:"300",width:"450",loading:"lazy",decoding:"async",alt:"Artbild"},null,8,ci),$("div",gi,[$("div",pi,[w(L,{name:"i-mingcute-copyright-line",class:"h-4 w-4 my-1 mr-1"}),y[2]||(y[2]=$("h1",{weight:"light",class:""}," Michael Krikorev ",-1))]),$("h1",null,ne(n.value+1)+" av "+ne(o.value.length),1)])])):(b(),G(q,{key:2,class:"rounded-none"})),$("div",fi,[$("h1",mi,ne(d(e.species.Commonname)),1),$("h1",vi,ne(e.species.Scientificname),1),$("div",hi,[e.species["Rank matsvamp"]===3?(b(),V("div",bi,[w(D,{name:"codicon:circle-large-filled",class:"size-3"}),y[3]||(y[3]=oe(" Sällsynt matsvamp ",-1))])):O("",!0),e.species["Rank matsvamp"]===2?(b(),V("div",yi,[w(D,{name:"codicon:color-mode",class:"size-3"}),y[4]||(y[4]=oe(" Ovanlig matsvamp ",-1))])):O("",!0),e.species["Rank giftsvamp"]===3?(b(),V("div",Si,[w(D,{name:"codicon:circle-large-filled",class:"size-3"}),y[5]||(y[5]=oe(" Sällsynt giftsvamp ",-1))])):O("",!0),e.species["Rank giftsvamp"]===2?(b(),V("div",wi,[w(D,{name:"codicon:color-mode",class:"size-3"}),y[6]||(y[6]=oe(" Ovanlig giftsvamp ",-1))])):O("",!0),e.species.RankRed===3?(b(),V("div",ki,[w(D,{name:"codicon:circle-large-filled",class:"size-3"}),y[7]||(y[7]=oe(" Sällsynt naturvårdsart ",-1))])):O("",!0),e.species.RankRed===2?(b(),V("div",_i,[w(D,{name:"codicon:color-mode",class:"size-3"}),y[8]||(y[8]=oe(" Ovanlig naturvårdsart ",-1))])):O("",!0)]),$("h1",Ci,ne(l.value),1),$("div",xi,[e.species["Svamp-grupp"]?(b(),V("div",Ri,[w(Q,{color:"neutral",variant:"subtle",size:"xl"},{default:E(()=>[$("img",{src:p(e.species["Svamp-grupp"],e.species["Svamp-grupp-släkte"]),class:"w-4.5",alt:"Svamp ikon",loading:"lazy",decoding:"async"},null,8,$i),oe(" "+ne(d(m.value)),1)]),_:1})])):O("",!0),e.species["Nyasvamp-boken"]==="x"?(b(),V("div",Fi,[w(Q,{color:"warning",size:"xl",variant:"subtle",class:""},{default:E(()=>[w(L,{name:"icon-park-solid:knife-fork"}),y[9]||(y[9]=oe("Matsvamp ",-1))]),_:1})])):O("",!0),e.species.Giftsvamp==="x"?(b(),V("div",Pi,[w(Q,{color:"poison",size:"xl",variant:"subtle",class:""},{default:E(()=>[w(L,{name:"hugeicons:danger"}),y[10]||(y[10]=oe("Giftsvamp ",-1))]),_:1})])):O("",!0),e.species.SIGNAL_art==="S"?(b(),V("div",Vi,[w(Q,{color:"signal",size:"xl",variant:"subtle",class:""},{default:E(()=>[...y[11]||(y[11]=[oe("Signalart",-1)])]),_:1})])):O("",!0),e.species.KALKmark?(b(),G(Q,{key:4,size:"xl",color:"kalkmark",variant:"subtle",class:"shrink-0 inline-flex m-1 align-bottom"},{default:E(()=>[...y[12]||(y[12]=[oe(" Kalkmark ",-1)])]),_:1})):O("",!0),e.species.ANNANmark?(b(),G(Q,{key:5,size:"xl",color:"vanligmark",variant:"subtle",class:"shrink-0 inline-flex m-1 align-bottom"},{default:E(()=>[...y[13]||(y[13]=[oe(" Vanlig skogsmark ",-1)])]),_:1})):O("",!0)]),e.species.Kriteriedokumentation?(b(),G(se,{key:0,class:"my-4"},{default:E(()=>[$("div",{class:"flex justify-between cursor-pointer",onClick:r},[$("h1",Li,[e.species.RL2020kat?(b(),V("div",Ii,[$("div",{class:X([c(e.species.RL2020kat),"h-8 w-8 rounded-full flex items-center justify-center text-white"])},ne(h(e.species.RL2020kat)),3),$("h1",Ai,ne(u(e.species.RL2020kat)),1)])):O("",!0)]),w(L,{name:"mdi:chevron-down",class:X(["h-6 w-6 transition-transform duration-300 ease-in-out",a.value?"rotate-180":"rotate-0"])},null,8,["class"])]),e.species.Kriteriedokumentation?(b(),V("div",{key:0,class:X(["relative overflow-hidden transition-transform duration-300 ease-in-out",[a.value?"max-h-auto":"max-h-20"]]),onClick:r},[$("h1",Ei,ne(s.value),1)],2)):O("",!0)]),_:1})):O("",!0),y[16]||(y[16]=$("h1",{class:"text-lg font-medium mt-4"},"Läs mer på",-1)),e.species.Artfakta!="Information saknas"?(b(),G(ce,{key:1,to:g(e.species.Artfakta),target:"_blank",class:"text-lg mb-3 underline text-primary-500"},{default:E(()=>[...y[14]||(y[14]=[oe(" Artfakta.se ",-1)])]),_:1},8,["to"])):O("",!0),y[17]||(y[17]=$("br",null,null,-1)),e.species.Svampguiden&&e.species.Svampguiden!=="0"?(b(),G(ce,{key:2,to:g(e.species.Svampguiden),target:"_blank",class:"text-lg mb-3 underline text-primary-500"},{default:E(()=>[...y[15]||(y[15]=[oe(" Svampguiden.com ",-1)])]),_:1},8,["to"])):O("",!0)])])}}},Ni={key:0,class:"fixed inset-0 z-50 flex pointer-events-none group"},Mi={class:"absolute top-3 left-3 items-end w-full gap-2 z-10 flex"},zi={class:"h-full relative overflow-auto pb-16 no-scrollbar"},Di={__name:"MySlideover",props:{modelValue:{type:Boolean,default:!1},pinned:{type:Boolean,default:!0},expanded:{type:Boolean,default:!1}},emits:["update:modelValue","update:pinned"],setup(e,{emit:n}){const t=e,o=n,a=W(t.pinned);de(()=>t.pinned,r=>{a.value=r});function i(){a.value=!a.value,o("update:pinned",a.value)}return(r,s)=>{const l=xe;return b(),G(ze,{name:"slide-in-right"},{default:E(()=>[e.modelValue?(b(),V("div",Ni,[a.value?O("",!0):(b(),V("div",{key:0,class:"fixed inset-0 pointer-events-auto",onClick:s[0]||(s[0]=d=>o("update:modelValue",!1))})),$("div",{ref:"panelRef",class:X(["ml-auto bg-white shadow-lg z-50 relative pointer-events-auto ring-1 ring-neutral-200 transition-all overflow-hidden",[a.value?"":"sm:ml-auto sm:m-2 sm:rounded",e.expanded?"w-[744px]":"w-screen sm:w-96"]]),onClick:s[2]||(s[2]=Bo(()=>{},["stop"]))},[$("div",Mi,[w(l,{class:"shadow hover:bg-white rounded-full mt-2 ml-1 md:m-0",color:"neutral",variant:"soft",ui:{rounded:"rounded-full"},icon:"heroicons:x-mark",size:"lg",onClick:s[1]||(s[1]=d=>o("update:modelValue",!1))}),w(l,{class:X(["shadow hover:bg-white hidden md:flex rounded-full",a.value?"text-primary-500":"text-neutral-700"]),color:"neutral",variant:"soft",ui:{rounded:"rounded-full"},onClick:i,icon:"codicon:pinned",size:"lg"},null,8,["class"])]),$("div",zi,[ae(r.$slots,"default",{},void 0,!0)])],2)])):O("",!0)]),_:3})}}},Bi=Ne(Di,[["__scopeId","data-v-fb1058c4"]]),to={__name:"UDropdownMenuContent",props:{items:{type:null,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0},sub:{type:Boolean,required:!1},labelKey:{type:null,required:!0},checkedIcon:{type:[String,Object],required:!1},loadingIcon:{type:[String,Object],required:!1},externalIcon:{type:[Boolean,String,Object],required:!1},class:{type:null,required:!1},ui:{type:null,required:!0},uiOverride:{type:null,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=Ct(),{dir:i}=rn(),r=xt(),s=Oo(Ht(()=>t.portal)),l=ln(En(t,"sub","items","portal","labelKey","checkedIcon","loadingIcon","externalIcon","class","ui","uiOverride"),o),d=()=>Mn(a,["default"]),[g,h]=Go(),c=A(()=>i.value==="rtl"?r.ui.icons.chevronLeft:r.ui.icons.chevronRight),u=A(()=>t.items?.length?jo(t.items)?t.items:[t.items]:[]);return(p,m)=>(b(),V(pe,null,[w(k(g),null,{default:E(({item:v,active:y,index:_})=>[ae(p.$slots,v.slot||"item",{item:v,index:_},()=>[ae(p.$slots,v.slot?`${v.slot}-leading`:"item-leading",{item:v,active:y,index:_},()=>[v.loading?(b(),G(Ee,{key:0,name:e.loadingIcon||k(r).ui.icons.loading,class:X(e.ui.itemLeadingIcon({class:[e.uiOverride?.itemLeadingIcon,v.ui?.itemLeadingIcon],color:v?.color,loading:!0}))},null,8,["name","class"])):v.icon?(b(),G(Ee,{key:1,name:v.icon,class:X(e.ui.itemLeadingIcon({class:[e.uiOverride?.itemLeadingIcon,v.ui?.itemLeadingIcon],color:v?.color,active:y}))},null,8,["name","class"])):v.avatar?(b(),G(qo,me({key:2,size:v.ui?.itemLeadingAvatarSize||e.uiOverride?.itemLeadingAvatarSize||e.ui.itemLeadingAvatarSize()},v.avatar,{class:e.ui.itemLeadingAvatar({class:[e.uiOverride?.itemLeadingAvatar,v.ui?.itemLeadingAvatar],active:y})}),null,16,["size","class"])):O("",!0)]),k(ot)(v,t.labelKey)||a[v.slot?`${v.slot}-label`:"item-label"]?(b(),V("span",{key:0,class:X(e.ui.itemLabel({class:[e.uiOverride?.itemLabel,v.ui?.itemLabel],active:y}))},[ae(p.$slots,v.slot?`${v.slot}-label`:"item-label",{item:v,active:y,index:_},()=>[oe(ne(k(ot)(v,t.labelKey)),1)]),v.target==="_blank"&&e.externalIcon!==!1?(b(),G(Ee,{key:0,name:typeof e.externalIcon=="string"?e.externalIcon:k(r).ui.icons.external,class:X(e.ui.itemLabelExternalIcon({class:[e.uiOverride?.itemLabelExternalIcon,v.ui?.itemLabelExternalIcon],color:v?.color,active:y}))},null,8,["name","class"])):O("",!0)],2)):O("",!0),$("span",{class:X(e.ui.itemTrailing({class:[e.uiOverride?.itemTrailing,v.ui?.itemTrailing]}))},[ae(p.$slots,v.slot?`${v.slot}-trailing`:"item-trailing",{item:v,active:y,index:_},()=>[v.children?.length?(b(),G(Ee,{key:0,name:c.value,class:X(e.ui.itemTrailingIcon({class:[e.uiOverride?.itemTrailingIcon,v.ui?.itemTrailingIcon],color:v?.color,active:y}))},null,8,["name","class"])):v.kbds?.length?(b(),V("span",{key:1,class:X(e.ui.itemTrailingKbds({class:[e.uiOverride?.itemTrailingKbds,v.ui?.itemTrailingKbds]}))},[(b(!0),V(pe,null,fe(v.kbds,(L,q)=>(b(),G(Uo,me({key:q,size:v.ui?.itemTrailingKbdsSize||e.uiOverride?.itemTrailingKbdsSize||e.ui.itemTrailingKbdsSize()},{ref_for:!0},typeof L=="string"?{value:L}:L),null,16,["size"]))),128))],2)):O("",!0)]),w(k(Ie).ItemIndicator,{"as-child":""},{default:E(()=>[w(Ee,{name:e.checkedIcon||k(r).ui.icons.check,class:X(e.ui.itemTrailingIcon({class:[e.uiOverride?.itemTrailingIcon,v.ui?.itemTrailingIcon],color:v?.color}))},null,8,["name","class"])]),_:2},1024)],2)])]),_:3}),w(k(Ie).Portal,yt(St(k(s))),{default:E(()=>[(b(),G(Tn(e.sub?k(Ie).SubContent:k(Ie).Content),me({class:t.class},k(l)),{default:E(()=>[ae(p.$slots,"content-top"),$("div",{role:"presentation",class:X(e.ui.viewport({class:e.uiOverride?.viewport}))},[(b(!0),V(pe,null,fe(u.value,(v,y)=>(b(),G(k(Ie).Group,{key:`group-${y}`,class:X(e.ui.group({class:e.uiOverride?.group}))},{default:E(()=>[(b(!0),V(pe,null,fe(v,(_,L)=>(b(),V(pe,{key:`group-${y}-${L}`},[_.type==="label"?(b(),G(k(Ie).Label,{key:0,class:X(e.ui.label({class:[e.uiOverride?.label,_.ui?.label,_.class]}))},{default:E(()=>[w(k(h),{item:_,index:L},null,8,["item","index"])]),_:2},1032,["class"])):_.type==="separator"?(b(),G(k(Ie).Separator,{key:1,class:X(e.ui.separator({class:[e.uiOverride?.separator,_.ui?.separator,_.class]}))},null,8,["class"])):_?.children?.length?(b(),G(k(Ie).Sub,{key:2,open:_.open,"default-open":_.defaultOpen},{default:E(()=>[w(k(Ie).SubTrigger,{as:"button",type:"button",disabled:_.disabled,"text-value":k(ot)(_,t.labelKey),class:X(e.ui.item({class:[e.uiOverride?.item,_.ui?.item,_.class],color:_?.color}))},{default:E(()=>[w(k(h),{item:_,index:L},null,8,["item","index"])]),_:2},1032,["disabled","text-value","class"]),w(to,me({sub:"",class:t.class,ui:e.ui,"ui-override":e.uiOverride,portal:e.portal,items:_.children,align:"start","align-offset":-4,"side-offset":3,"label-key":e.labelKey,"checked-icon":e.checkedIcon,"loading-icon":e.loadingIcon,"external-icon":e.externalIcon},{ref_for:!0},_.content),Nn({_:2},[fe(d(),(q,D)=>({name:D,fn:E(Q=>[ae(p.$slots,D,me({ref_for:!0},Q))])}))]),1040,["class","ui","ui-override","portal","items","label-key","checked-icon","loading-icon","external-icon"])]),_:2},1032,["open","default-open"])):_.type==="checkbox"?(b(),G(k(Ie).CheckboxItem,{key:3,"model-value":_.checked,disabled:_.disabled,"text-value":k(ot)(_,t.labelKey),class:X(e.ui.item({class:[e.uiOverride?.item,_.ui?.item,_.class],color:_?.color})),"onUpdate:modelValue":_.onUpdateChecked,onSelect:_.onSelect},{default:E(()=>[w(k(h),{item:_,index:L},null,8,["item","index"])]),_:2},1032,["model-value","disabled","text-value","class","onUpdate:modelValue","onSelect"])):(b(),G(k(Ie).Item,{key:4,"as-child":"",disabled:_.disabled,"text-value":k(ot)(_,t.labelKey),onSelect:_.onSelect},{default:E(()=>[w(Ho,me({ref_for:!0},k(Ko)(_),{custom:""}),{default:E(({active:q,...D})=>[w(Wo,me({ref_for:!0},D,{class:e.ui.item({class:[e.uiOverride?.item,_.ui?.item,_.class],color:_?.color,active:q})}),{default:E(()=>[w(k(h),{item:_,active:q,index:L},null,8,["item","active","index"])]),_:2},1040,["class"])]),_:2},1040)]),_:2},1032,["disabled","text-value","onSelect"]))],64))),128))]),_:2},1032,["class"]))),128))],2),ae(p.$slots,"default"),ae(p.$slots,"content-bottom")]),_:3},16,["class"]))]),_:3},16)],64))}},Oi={slots:{content:"min-w-32 bg-default shadow-lg rounded-md ring ring-default overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-dropdown-menu-content-transform-origin) flex flex-col",viewport:"relative divide-y divide-default scroll-py-1 overflow-y-auto flex-1",arrow:"fill-default",group:"p-1 isolate",label:"w-full flex items-center font-semibold text-highlighted",separator:"-mx-1 my-1 h-px bg-border",item:"group relative w-full flex items-center select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0",itemTrailingKbdsSize:"",itemLabel:"truncate",itemLabelExternalIcon:"inline-block size-3 align-top text-dimmed"},variants:{color:{primary:"",secondary:"",tertiary:"",rodeodust:"",poison:"",signal:"",info:"",success:"",warning:"",error:"",kalkmark:"",vanligmark:"",time:"",neutral:""},active:{true:{item:"text-highlighted before:bg-elevated",itemLeadingIcon:"text-default"},false:{item:["text-default data-highlighted:text-highlighted data-[state=open]:text-highlighted data-highlighted:before:bg-elevated/50 data-[state=open]:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-dimmed group-data-highlighted:text-default group-data-[state=open]:text-default","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}},size:{xs:{label:"p-1 text-xs gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemTrailingIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},sm:{label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemTrailingIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},md:{label:"p-1.5 text-sm gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemTrailingIcon:"size-5",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"md"},lg:{label:"p-2 text-sm gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemTrailingIcon:"size-5",itemTrailingKbds:"gap-1",itemTrailingKbdsSize:"md"},xl:{label:"p-2 text-base gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemTrailingIcon:"size-6",itemTrailingKbds:"gap-1",itemTrailingKbdsSize:"lg"}}},compoundVariants:[{color:"primary",active:!1,class:{item:"text-primary data-highlighted:text-primary data-highlighted:before:bg-primary/10 data-[state=open]:before:bg-primary/10",itemLeadingIcon:"text-primary/75 group-data-highlighted:text-primary group-data-[state=open]:text-primary"}},{color:"secondary",active:!1,class:{item:"text-secondary data-highlighted:text-secondary data-highlighted:before:bg-secondary/10 data-[state=open]:before:bg-secondary/10",itemLeadingIcon:"text-secondary/75 group-data-highlighted:text-secondary group-data-[state=open]:text-secondary"}},{color:"tertiary",active:!1,class:{item:"text-tertiary data-highlighted:text-tertiary data-highlighted:before:bg-tertiary/10 data-[state=open]:before:bg-tertiary/10",itemLeadingIcon:"text-tertiary/75 group-data-highlighted:text-tertiary group-data-[state=open]:text-tertiary"}},{color:"rodeodust",active:!1,class:{item:"text-rodeodust data-highlighted:text-rodeodust data-highlighted:before:bg-rodeodust/10 data-[state=open]:before:bg-rodeodust/10",itemLeadingIcon:"text-rodeodust/75 group-data-highlighted:text-rodeodust group-data-[state=open]:text-rodeodust"}},{color:"poison",active:!1,class:{item:"text-poison data-highlighted:text-poison data-highlighted:before:bg-poison/10 data-[state=open]:before:bg-poison/10",itemLeadingIcon:"text-poison/75 group-data-highlighted:text-poison group-data-[state=open]:text-poison"}},{color:"signal",active:!1,class:{item:"text-signal data-highlighted:text-signal data-highlighted:before:bg-signal/10 data-[state=open]:before:bg-signal/10",itemLeadingIcon:"text-signal/75 group-data-highlighted:text-signal group-data-[state=open]:text-signal"}},{color:"info",active:!1,class:{item:"text-info data-highlighted:text-info data-highlighted:before:bg-info/10 data-[state=open]:before:bg-info/10",itemLeadingIcon:"text-info/75 group-data-highlighted:text-info group-data-[state=open]:text-info"}},{color:"success",active:!1,class:{item:"text-success data-highlighted:text-success data-highlighted:before:bg-success/10 data-[state=open]:before:bg-success/10",itemLeadingIcon:"text-success/75 group-data-highlighted:text-success group-data-[state=open]:text-success"}},{color:"warning",active:!1,class:{item:"text-warning data-highlighted:text-warning data-highlighted:before:bg-warning/10 data-[state=open]:before:bg-warning/10",itemLeadingIcon:"text-warning/75 group-data-highlighted:text-warning group-data-[state=open]:text-warning"}},{color:"error",active:!1,class:{item:"text-error data-highlighted:text-error data-highlighted:before:bg-error/10 data-[state=open]:before:bg-error/10",itemLeadingIcon:"text-error/75 group-data-highlighted:text-error group-data-[state=open]:text-error"}},{color:"kalkmark",active:!1,class:{item:"text-kalkmark data-highlighted:text-kalkmark data-highlighted:before:bg-kalkmark/10 data-[state=open]:before:bg-kalkmark/10",itemLeadingIcon:"text-kalkmark/75 group-data-highlighted:text-kalkmark group-data-[state=open]:text-kalkmark"}},{color:"vanligmark",active:!1,class:{item:"text-vanligmark data-highlighted:text-vanligmark data-highlighted:before:bg-vanligmark/10 data-[state=open]:before:bg-vanligmark/10",itemLeadingIcon:"text-vanligmark/75 group-data-highlighted:text-vanligmark group-data-[state=open]:text-vanligmark"}},{color:"time",active:!1,class:{item:"text-time data-highlighted:text-time data-highlighted:before:bg-time/10 data-[state=open]:before:bg-time/10",itemLeadingIcon:"text-time/75 group-data-highlighted:text-time group-data-[state=open]:text-time"}},{color:"primary",active:!0,class:{item:"text-primary before:bg-primary/10",itemLeadingIcon:"text-primary"}},{color:"secondary",active:!0,class:{item:"text-secondary before:bg-secondary/10",itemLeadingIcon:"text-secondary"}},{color:"tertiary",active:!0,class:{item:"text-tertiary before:bg-tertiary/10",itemLeadingIcon:"text-tertiary"}},{color:"rodeodust",active:!0,class:{item:"text-rodeodust before:bg-rodeodust/10",itemLeadingIcon:"text-rodeodust"}},{color:"poison",active:!0,class:{item:"text-poison before:bg-poison/10",itemLeadingIcon:"text-poison"}},{color:"signal",active:!0,class:{item:"text-signal before:bg-signal/10",itemLeadingIcon:"text-signal"}},{color:"info",active:!0,class:{item:"text-info before:bg-info/10",itemLeadingIcon:"text-info"}},{color:"success",active:!0,class:{item:"text-success before:bg-success/10",itemLeadingIcon:"text-success"}},{color:"warning",active:!0,class:{item:"text-warning before:bg-warning/10",itemLeadingIcon:"text-warning"}},{color:"error",active:!0,class:{item:"text-error before:bg-error/10",itemLeadingIcon:"text-error"}},{color:"kalkmark",active:!0,class:{item:"text-kalkmark before:bg-kalkmark/10",itemLeadingIcon:"text-kalkmark"}},{color:"vanligmark",active:!0,class:{item:"text-vanligmark before:bg-vanligmark/10",itemLeadingIcon:"text-vanligmark"}},{color:"time",active:!0,class:{item:"text-time before:bg-time/10",itemLeadingIcon:"text-time"}}],defaultVariants:{size:"md"}},Gi={__name:"UDropdownMenu",props:{size:{type:null,required:!1},items:{type:null,required:!1},checkedIcon:{type:[String,Object],required:!1},loadingIcon:{type:[String,Object],required:!1},externalIcon:{type:[Boolean,String,Object],required:!1,default:!0},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},labelKey:{type:null,required:!1,default:"label"},disabled:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:n}){const t=e,o=n,a=Ct(),i=xt(),r=ln(zn(t,"defaultOpen","open","modal"),o),s=Ht(()=>Xo(t.content,{side:"bottom",sideOffset:8,collisionPadding:8})),l=Ht(()=>t.arrow),d=()=>Mn(a,["default"]),g=A(()=>Je({extend:Je(Oi),...i.ui?.dropdownMenu||{}})({size:t.size}));return(h,c)=>(b(),G(k(Qo),yt(St(k(r))),{default:E(({open:u})=>[a.default?(b(),G(k(Yo),{key:0,"as-child":"",class:X(t.class),disabled:e.disabled},{default:E(()=>[ae(h.$slots,"default",{open:u})]),_:2},1032,["class","disabled"])):O("",!0),w(to,me({class:g.value.content({class:[!a.default&&t.class,t.ui?.content]}),ui:g.value,"ui-override":t.ui},s.value,{items:e.items,portal:e.portal,"label-key":e.labelKey,"checked-icon":e.checkedIcon,"loading-icon":e.loadingIcon,"external-icon":e.externalIcon}),Nn({default:E(()=>[e.arrow?(b(),G(k(Zo),me({key:0},l.value,{class:g.value.arrow({class:t.ui?.arrow})}),null,16,["class"])):O("",!0)]),_:2},[fe(d(),(p,m)=>({name:m,fn:E(v=>[ae(h.$slots,m,yt(St(v)))])}))]),1040,["class","ui","ui-override","items","portal","label-key","checked-icon","loading-icon","external-icon"])]),_:3},16))}};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function He(e,n){return typeof e=="function"?e(n):e}function Ve(e,n){return t=>{n.setState(o=>({...o,[e]:He(t,o[e])}))}}function Pt(e){return e instanceof Function}function ji(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function qi(e,n){const t=[],o=a=>{a.forEach(i=>{t.push(i);const r=n(i);r!=null&&r.length&&o(r)})};return o(e),t}function Y(e,n,t){let o=[],a;return i=>{let r;t.key&&t.debug&&(r=Date.now());const s=e(i);if(!(s.length!==o.length||s.some((g,h)=>o[h]!==g)))return a;o=s;let d;if(t.key&&t.debug&&(d=Date.now()),a=n(...s),t==null||t.onChange==null||t.onChange(a),t.key&&t.debug&&t!=null&&t.debug()){const g=Math.round((Date.now()-r)*100)/100,h=Math.round((Date.now()-d)*100)/100,c=h/16,u=(p,m)=>{for(p=String(p);p.length<m;)p=" "+p;return p};console.info(`%c⏱ ${u(h,5)} /${u(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*c,120))}deg 100% 31%);`,t?.key)}return a}}function Z(e,n,t,o){return{debug:()=>{var a;return(a=e?.debugAll)!=null?a:e[n]},key:!1,onChange:o}}function Ui(e,n,t,o){const a=()=>{var r;return(r=i.getValue())!=null?r:e.options.renderFallbackValue},i={id:`${n.id}_${t.id}`,row:n,column:t,getValue:()=>n.getValue(o),renderValue:a,getContext:Y(()=>[e,t,n,i],(r,s,l,d)=>({table:r,column:s,row:l,cell:d,getValue:d.getValue,renderValue:d.renderValue}),Z(e.options,"debugCells"))};return e._features.forEach(r=>{r.createCell==null||r.createCell(i,t,n,e)},{}),i}function Hi(e,n,t,o){var a,i;const s={...e._getDefaultColumnDef(),...n},l=s.accessorKey;let d=(a=(i=s.id)!=null?i:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?a:typeof s.header=="string"?s.header:void 0,g;if(s.accessorFn?g=s.accessorFn:l&&(l.includes(".")?g=c=>{let u=c;for(const m of l.split(".")){var p;u=(p=u)==null?void 0:p[m]}return u}:g=c=>c[s.accessorKey]),!d)throw new Error;let h={id:`${String(d)}`,accessorFn:g,parent:o,depth:t,columnDef:s,columns:[],getFlatColumns:Y(()=>[!0],()=>{var c;return[h,...(c=h.columns)==null?void 0:c.flatMap(u=>u.getFlatColumns())]},Z(e.options,"debugColumns")),getLeafColumns:Y(()=>[e._getOrderColumnsFn()],c=>{var u;if((u=h.columns)!=null&&u.length){let p=h.columns.flatMap(m=>m.getLeafColumns());return c(p)}return[h]},Z(e.options,"debugColumns"))};for(const c of e._features)c.createColumn==null||c.createColumn(h,e);return h}const ke="debugHeaders";function _n(e,n,t){var o;let i={id:(o=t.id)!=null?o:n.id,column:n,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const r=[],s=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(s),r.push(l)};return s(i),r},getContext:()=>({table:e,header:i,column:n})};return e._features.forEach(r=>{r.createHeader==null||r.createHeader(i,e)}),i}const Ki={createTable:e=>{e.getHeaderGroups=Y(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o,a)=>{var i,r;const s=(i=o?.map(h=>t.find(c=>c.id===h)).filter(Boolean))!=null?i:[],l=(r=a?.map(h=>t.find(c=>c.id===h)).filter(Boolean))!=null?r:[],d=t.filter(h=>!(o!=null&&o.includes(h.id))&&!(a!=null&&a.includes(h.id)));return gt(n,[...s,...d,...l],e)},Z(e.options,ke)),e.getCenterHeaderGroups=Y(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o,a)=>(t=t.filter(i=>!(o!=null&&o.includes(i.id))&&!(a!=null&&a.includes(i.id))),gt(n,t,e,"center")),Z(e.options,ke)),e.getLeftHeaderGroups=Y(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,t,o)=>{var a;const i=(a=o?.map(r=>t.find(s=>s.id===r)).filter(Boolean))!=null?a:[];return gt(n,i,e,"left")},Z(e.options,ke)),e.getRightHeaderGroups=Y(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,t,o)=>{var a;const i=(a=o?.map(r=>t.find(s=>s.id===r)).filter(Boolean))!=null?a:[];return gt(n,i,e,"right")},Z(e.options,ke)),e.getFooterGroups=Y(()=>[e.getHeaderGroups()],n=>[...n].reverse(),Z(e.options,ke)),e.getLeftFooterGroups=Y(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),Z(e.options,ke)),e.getCenterFooterGroups=Y(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),Z(e.options,ke)),e.getRightFooterGroups=Y(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),Z(e.options,ke)),e.getFlatHeaders=Y(()=>[e.getHeaderGroups()],n=>n.map(t=>t.headers).flat(),Z(e.options,ke)),e.getLeftFlatHeaders=Y(()=>[e.getLeftHeaderGroups()],n=>n.map(t=>t.headers).flat(),Z(e.options,ke)),e.getCenterFlatHeaders=Y(()=>[e.getCenterHeaderGroups()],n=>n.map(t=>t.headers).flat(),Z(e.options,ke)),e.getRightFlatHeaders=Y(()=>[e.getRightHeaderGroups()],n=>n.map(t=>t.headers).flat(),Z(e.options,ke)),e.getCenterLeafHeaders=Y(()=>[e.getCenterFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),Z(e.options,ke)),e.getLeftLeafHeaders=Y(()=>[e.getLeftFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),Z(e.options,ke)),e.getRightLeafHeaders=Y(()=>[e.getRightFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),Z(e.options,ke)),e.getLeafHeaders=Y(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,t,o)=>{var a,i,r,s,l,d;return[...(a=(i=n[0])==null?void 0:i.headers)!=null?a:[],...(r=(s=t[0])==null?void 0:s.headers)!=null?r:[],...(l=(d=o[0])==null?void 0:d.headers)!=null?l:[]].map(g=>g.getLeafHeaders()).flat()},Z(e.options,ke))}};function gt(e,n,t,o){var a,i;let r=0;const s=function(c,u){u===void 0&&(u=1),r=Math.max(r,u),c.filter(p=>p.getIsVisible()).forEach(p=>{var m;(m=p.columns)!=null&&m.length&&s(p.columns,u+1)},0)};s(e);let l=[];const d=(c,u)=>{const p={depth:u,id:[o,`${u}`].filter(Boolean).join("_"),headers:[]},m=[];c.forEach(v=>{const y=[...m].reverse()[0],_=v.column.depth===p.depth;let L,q=!1;if(_&&v.column.parent?L=v.column.parent:(L=v.column,q=!0),y&&y?.column===L)y.subHeaders.push(v);else{const D=_n(t,L,{id:[o,u,L.id,v?.id].filter(Boolean).join("_"),isPlaceholder:q,placeholderId:q?`${m.filter(Q=>Q.column===L).length}`:void 0,depth:u,index:m.length});D.subHeaders.push(v),m.push(D)}p.headers.push(v),v.headerGroup=p}),l.push(p),u>0&&d(m,u-1)},g=n.map((c,u)=>_n(t,c,{depth:r,index:u}));d(g,r-1),l.reverse();const h=c=>c.filter(p=>p.column.getIsVisible()).map(p=>{let m=0,v=0,y=[0];p.subHeaders&&p.subHeaders.length?(y=[],h(p.subHeaders).forEach(L=>{let{colSpan:q,rowSpan:D}=L;m+=q,y.push(D)})):m=1;const _=Math.min(...y);return v=v+_,p.colSpan=m,p.rowSpan=v,{colSpan:m,rowSpan:v}});return h((a=(i=l[0])==null?void 0:i.headers)!=null?a:[]),l}const un=(e,n,t,o,a,i,r)=>{let s={id:n,index:o,original:t,depth:a,parentId:r,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(s._valuesCache.hasOwnProperty(l))return s._valuesCache[l];const d=e.getColumn(l);if(d!=null&&d.accessorFn)return s._valuesCache[l]=d.accessorFn(s.original,o),s._valuesCache[l]},getUniqueValues:l=>{if(s._uniqueValuesCache.hasOwnProperty(l))return s._uniqueValuesCache[l];const d=e.getColumn(l);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(s._uniqueValuesCache[l]=d.columnDef.getUniqueValues(s.original,o),s._uniqueValuesCache[l]):(s._uniqueValuesCache[l]=[s.getValue(l)],s._uniqueValuesCache[l])},renderValue:l=>{var d;return(d=s.getValue(l))!=null?d:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>qi(s.subRows,l=>l.subRows),getParentRow:()=>s.parentId?e.getRow(s.parentId,!0):void 0,getParentRows:()=>{let l=[],d=s;for(;;){const g=d.getParentRow();if(!g)break;l.push(g),d=g}return l.reverse()},getAllCells:Y(()=>[e.getAllLeafColumns()],l=>l.map(d=>Ui(e,s,d,d.id)),Z(e.options,"debugRows")),_getAllCellsByColumnId:Y(()=>[s.getAllCells()],l=>l.reduce((d,g)=>(d[g.column.id]=g,d),{}),Z(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const d=e._features[l];d==null||d.createRow==null||d.createRow(s,e)}return s},Wi={createColumn:(e,n)=>{e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},no=(e,n,t)=>{var o,a;const i=t==null||(o=t.toString())==null?void 0:o.toLowerCase();return!!(!((a=e.getValue(n))==null||(a=a.toString())==null||(a=a.toLowerCase())==null)&&a.includes(i))};no.autoRemove=e=>Te(e);const oo=(e,n,t)=>{var o;return!!(!((o=e.getValue(n))==null||(o=o.toString())==null)&&o.includes(t))};oo.autoRemove=e=>Te(e);const ao=(e,n,t)=>{var o;return((o=e.getValue(n))==null||(o=o.toString())==null?void 0:o.toLowerCase())===t?.toLowerCase()};ao.autoRemove=e=>Te(e);const io=(e,n,t)=>{var o;return(o=e.getValue(n))==null?void 0:o.includes(t)};io.autoRemove=e=>Te(e);const ro=(e,n,t)=>!t.some(o=>{var a;return!((a=e.getValue(n))!=null&&a.includes(o))});ro.autoRemove=e=>Te(e)||!(e!=null&&e.length);const lo=(e,n,t)=>t.some(o=>{var a;return(a=e.getValue(n))==null?void 0:a.includes(o)});lo.autoRemove=e=>Te(e)||!(e!=null&&e.length);const so=(e,n,t)=>e.getValue(n)===t;so.autoRemove=e=>Te(e);const uo=(e,n,t)=>e.getValue(n)==t;uo.autoRemove=e=>Te(e);const dn=(e,n,t)=>{let[o,a]=t;const i=e.getValue(n);return i>=o&&i<=a};dn.resolveFilterValue=e=>{let[n,t]=e,o=typeof n!="number"?parseFloat(n):n,a=typeof t!="number"?parseFloat(t):t,i=n===null||Number.isNaN(o)?-1/0:o,r=t===null||Number.isNaN(a)?1/0:a;if(i>r){const s=i;i=r,r=s}return[i,r]};dn.autoRemove=e=>Te(e)||Te(e[0])&&Te(e[1]);const Me={includesString:no,includesStringSensitive:oo,equalsString:ao,arrIncludes:io,arrIncludesAll:ro,arrIncludesSome:lo,equals:so,weakEquals:uo,inNumberRange:dn};function Te(e){return e==null||e===""}const Xi={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Ve("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const t=n.getCoreRowModel().flatRows[0],o=t?.getValue(e.id);return typeof o=="string"?Me.includesString:typeof o=="number"?Me.inNumberRange:typeof o=="boolean"||o!==null&&typeof o=="object"?Me.equals:Array.isArray(o)?Me.arrIncludes:Me.weakEquals},e.getFilterFn=()=>{var t,o;return Pt(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(o=n.options.filterFns)==null?void 0:o[e.columnDef.filterFn])!=null?t:Me[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,o,a;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((o=n.options.enableColumnFilters)!=null?o:!0)&&((a=n.options.enableFilters)!=null?a:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=n.getState().columnFilters)==null||(t=t.find(o=>o.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,o;return(t=(o=n.getState().columnFilters)==null?void 0:o.findIndex(a=>a.id===e.id))!=null?t:-1},e.setFilterValue=t=>{n.setColumnFilters(o=>{const a=e.getFilterFn(),i=o?.find(g=>g.id===e.id),r=He(t,i?i.value:void 0);if(Cn(a,r,e)){var s;return(s=o?.filter(g=>g.id!==e.id))!=null?s:[]}const l={id:e.id,value:r};if(i){var d;return(d=o?.map(g=>g.id===e.id?l:g))!=null?d:[]}return o!=null&&o.length?[...o,l]:[l]})}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=n=>{const t=e.getAllLeafColumns(),o=a=>{var i;return(i=He(n,a))==null?void 0:i.filter(r=>{const s=t.find(l=>l.id===r.id);if(s){const l=s.getFilterFn();if(Cn(l,r.value,s))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(o)},e.resetColumnFilters=n=>{var t,o;e.setColumnFilters(n?[]:(t=(o=e.initialState)==null?void 0:o.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Cn(e,n,t){return(e&&e.autoRemove?e.autoRemove(n,t):!1)||typeof n>"u"||typeof n=="string"&&!n}const Yi=(e,n,t)=>t.reduce((o,a)=>{const i=a.getValue(e);return o+(typeof i=="number"?i:0)},0),Zi=(e,n,t)=>{let o;return t.forEach(a=>{const i=a.getValue(e);i!=null&&(o>i||o===void 0&&i>=i)&&(o=i)}),o},Qi=(e,n,t)=>{let o;return t.forEach(a=>{const i=a.getValue(e);i!=null&&(o<i||o===void 0&&i>=i)&&(o=i)}),o},Ji=(e,n,t)=>{let o,a;return t.forEach(i=>{const r=i.getValue(e);r!=null&&(o===void 0?r>=r&&(o=a=r):(o>r&&(o=r),a<r&&(a=r)))}),[o,a]},er=(e,n)=>{let t=0,o=0;if(n.forEach(a=>{let i=a.getValue(e);i!=null&&(i=+i)>=i&&(++t,o+=i)}),t)return o/t},tr=(e,n)=>{if(!n.length)return;const t=n.map(i=>i.getValue(e));if(!ji(t))return;if(t.length===1)return t[0];const o=Math.floor(t.length/2),a=t.sort((i,r)=>i-r);return t.length%2!==0?a[o]:(a[o-1]+a[o])/2},nr=(e,n)=>Array.from(new Set(n.map(t=>t.getValue(e))).values()),or=(e,n)=>new Set(n.map(t=>t.getValue(e))).size,ar=(e,n)=>n.length,Nt={sum:Yi,min:Zi,max:Qi,extent:Ji,mean:er,median:tr,unique:nr,uniqueCount:or,count:ar},ir={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,t;return(n=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Ve("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(o=>o!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,o;return((t=e.columnDef.enableGrouping)!=null?t:!0)&&((o=n.options.enableGrouping)!=null?o:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=n.getCoreRowModel().flatRows[0],o=t?.getValue(e.id);if(typeof o=="number")return Nt.sum;if(Object.prototype.toString.call(o)==="[object Date]")return Nt.extent},e.getAggregationFn=()=>{var t,o;if(!e)throw new Error;return Pt(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(o=n.options.aggregationFns)==null?void 0:o[e.columnDef.aggregationFn])!=null?t:Nt[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var t,o;e.setGrouping(n?[]:(t=(o=e.initialState)==null?void 0:o.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const o=n.getColumn(t);return o!=null&&o.columnDef.getGroupingValue?(e._groupingValuesCache[t]=o.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,n,t,o)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var a;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((a=t.subRows)!=null&&a.length)}}};function rr(e,n,t){if(!(n!=null&&n.length)||!t)return e;const o=e.filter(i=>!n.includes(i.id));return t==="remove"?o:[...n.map(i=>e.find(r=>r.id===i)).filter(Boolean),...o]}const lr={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Ve("columnOrder",e)}),createColumn:(e,n)=>{e.getIndex=Y(t=>[lt(n,t)],t=>t.findIndex(o=>o.id===e.id),Z(n.options,"debugColumns")),e.getIsFirstColumn=t=>{var o;return((o=lt(n,t)[0])==null?void 0:o.id)===e.id},e.getIsLastColumn=t=>{var o;const a=lt(n,t);return((o=a[a.length-1])==null?void 0:o.id)===e.id}},createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var t;e.setColumnOrder(n?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=Y(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,t,o)=>a=>{let i=[];if(!(n!=null&&n.length))i=a;else{const r=[...n],s=[...a];for(;s.length&&r.length;){const l=r.shift(),d=s.findIndex(g=>g.id===l);d>-1&&i.push(s.splice(d,1)[0])}i=[...i,...s]}return rr(i,t,o)},Z(e.options,"debugTable"))}},Mt=()=>({left:[],right:[]}),sr={getInitialState:e=>({columnPinning:Mt(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Ve("columnPinning",e)}),createColumn:(e,n)=>{e.pin=t=>{const o=e.getLeafColumns().map(a=>a.id).filter(Boolean);n.setColumnPinning(a=>{var i,r;if(t==="right"){var s,l;return{left:((s=a?.left)!=null?s:[]).filter(h=>!(o!=null&&o.includes(h))),right:[...((l=a?.right)!=null?l:[]).filter(h=>!(o!=null&&o.includes(h))),...o]}}if(t==="left"){var d,g;return{left:[...((d=a?.left)!=null?d:[]).filter(h=>!(o!=null&&o.includes(h))),...o],right:((g=a?.right)!=null?g:[]).filter(h=>!(o!=null&&o.includes(h)))}}return{left:((i=a?.left)!=null?i:[]).filter(h=>!(o!=null&&o.includes(h))),right:((r=a?.right)!=null?r:[]).filter(h=>!(o!=null&&o.includes(h)))}})},e.getCanPin=()=>e.getLeafColumns().some(o=>{var a,i,r;return((a=o.columnDef.enablePinning)!=null?a:!0)&&((i=(r=n.options.enableColumnPinning)!=null?r:n.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(s=>s.id),{left:o,right:a}=n.getState().columnPinning,i=t.some(s=>o?.includes(s)),r=t.some(s=>a?.includes(s));return i?"left":r?"right":!1},e.getPinnedIndex=()=>{var t,o;const a=e.getIsPinned();return a?(t=(o=n.getState().columnPinning)==null||(o=o[a])==null?void 0:o.indexOf(e.id))!=null?t:-1:0}},createRow:(e,n)=>{e.getCenterVisibleCells=Y(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(t,o,a)=>{const i=[...o??[],...a??[]];return t.filter(r=>!i.includes(r.column.id))},Z(n.options,"debugRows")),e.getLeftVisibleCells=Y(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(t,o)=>(o??[]).map(i=>t.find(r=>r.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),Z(n.options,"debugRows")),e.getRightVisibleCells=Y(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(t,o)=>(o??[]).map(i=>t.find(r=>r.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),Z(n.options,"debugRows"))},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var t,o;return e.setColumnPinning(n?Mt():(t=(o=e.initialState)==null?void 0:o.columnPinning)!=null?t:Mt())},e.getIsSomeColumnsPinned=n=>{var t;const o=e.getState().columnPinning;if(!n){var a,i;return!!((a=o.left)!=null&&a.length||(i=o.right)!=null&&i.length)}return!!((t=o[n])!=null&&t.length)},e.getLeftLeafColumns=Y(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,t)=>(t??[]).map(o=>n.find(a=>a.id===o)).filter(Boolean),Z(e.options,"debugColumns")),e.getRightLeafColumns=Y(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,t)=>(t??[]).map(o=>n.find(a=>a.id===o)).filter(Boolean),Z(e.options,"debugColumns")),e.getCenterLeafColumns=Y(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o)=>{const a=[...t??[],...o??[]];return n.filter(i=>!a.includes(i.id))},Z(e.options,"debugColumns"))}};function ur(e){return e||(typeof document<"u"?document:null)}const pt={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},zt=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),dr={getDefaultColumnDef:()=>pt,getInitialState:e=>({columnSizing:{},columnSizingInfo:zt(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ve("columnSizing",e),onColumnSizingInfoChange:Ve("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var t,o,a;const i=n.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:pt.minSize,(o=i??e.columnDef.size)!=null?o:pt.size),(a=e.columnDef.maxSize)!=null?a:pt.maxSize)},e.getStart=Y(t=>[t,lt(n,t),n.getState().columnSizing],(t,o)=>o.slice(0,e.getIndex(t)).reduce((a,i)=>a+i.getSize(),0),Z(n.options,"debugColumns")),e.getAfter=Y(t=>[t,lt(n,t),n.getState().columnSizing],(t,o)=>o.slice(e.getIndex(t)+1).reduce((a,i)=>a+i.getSize(),0),Z(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(t=>{let{[e.id]:o,...a}=t;return a})},e.getCanResize=()=>{var t,o;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((o=n.options.enableColumnResizing)!=null?o:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let t=0;const o=a=>{if(a.subHeaders.length)a.subHeaders.forEach(o);else{var i;t+=(i=a.column.getSize())!=null?i:0}};return o(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const o=n.getColumn(e.column.id),a=o?.getCanResize();return i=>{if(!o||!a||(i.persist==null||i.persist(),Dt(i)&&i.touches&&i.touches.length>1))return;const r=e.getSize(),s=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[o.id,o.getSize()]],l=Dt(i)?Math.round(i.touches[0].clientX):i.clientX,d={},g=(y,_)=>{typeof _=="number"&&(n.setColumnSizingInfo(L=>{var q,D;const Q=n.options.columnResizeDirection==="rtl"?-1:1,se=(_-((q=L?.startOffset)!=null?q:0))*Q,ce=Math.max(se/((D=L?.startSize)!=null?D:0),-.999999);return L.columnSizingStart.forEach(ge=>{let[I,C]=ge;d[I]=Math.round(Math.max(C+C*ce,0)*100)/100}),{...L,deltaOffset:se,deltaPercentage:ce}}),(n.options.columnResizeMode==="onChange"||y==="end")&&n.setColumnSizing(L=>({...L,...d})))},h=y=>g("move",y),c=y=>{g("end",y),n.setColumnSizingInfo(_=>({..._,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},u=ur(t),p={moveHandler:y=>h(y.clientX),upHandler:y=>{u?.removeEventListener("mousemove",p.moveHandler),u?.removeEventListener("mouseup",p.upHandler),c(y.clientX)}},m={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),h(y.touches[0].clientX),!1),upHandler:y=>{var _;u?.removeEventListener("touchmove",m.moveHandler),u?.removeEventListener("touchend",m.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),c((_=y.touches[0])==null?void 0:_.clientX)}},v=cr()?{passive:!1}:!1;Dt(i)?(u?.addEventListener("touchmove",m.moveHandler,v),u?.addEventListener("touchend",m.upHandler,v)):(u?.addEventListener("mousemove",p.moveHandler,v),u?.addEventListener("mouseup",p.upHandler,v)),n.setColumnSizingInfo(y=>({...y,startOffset:l,startSize:r,deltaOffset:0,deltaPercentage:0,columnSizingStart:s,isResizingColumn:o.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var t;e.setColumnSizing(n?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=n=>{var t;e.setColumnSizingInfo(n?zt():(t=e.initialState.columnSizingInfo)!=null?t:zt())},e.getTotalSize=()=>{var n,t;return(n=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((o,a)=>o+a.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,t;return(n=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((o,a)=>o+a.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,t;return(n=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((o,a)=>o+a.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,t;return(n=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((o,a)=>o+a.getSize(),0))!=null?n:0}}};let ft=null;function cr(){if(typeof ft=="boolean")return ft;let e=!1;try{const n={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,n),window.removeEventListener("test",t)}catch{e=!1}return ft=e,ft}function Dt(e){return e.type==="touchstart"}const gr={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Ve("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=t=>{e.getCanHide()&&n.setColumnVisibility(o=>({...o,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,o;const a=e.columns;return(t=a.length?a.some(i=>i.getIsVisible()):(o=n.getState().columnVisibility)==null?void 0:o[e.id])!=null?t:!0},e.getCanHide=()=>{var t,o;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((o=n.options.enableHiding)!=null?o:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=Y(()=>[e.getAllCells(),n.getState().columnVisibility],t=>t.filter(o=>o.column.getIsVisible()),Z(n.options,"debugRows")),e.getVisibleCells=Y(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,o,a)=>[...t,...o,...a],Z(n.options,"debugRows"))},createTable:e=>{const n=(t,o)=>Y(()=>[o(),o().filter(a=>a.getIsVisible()).map(a=>a.id).join("_")],a=>a.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),Z(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var o;e.setColumnVisibility(t?{}:(o=e.initialState.columnVisibility)!=null?o:{})},e.toggleAllColumnsVisible=t=>{var o;t=(o=t)!=null?o:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((a,i)=>({...a,[i.id]:t||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var o;e.toggleAllColumnsVisible((o=t.target)==null?void 0:o.checked)}}};function lt(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const pr={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},fr={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Ve("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var t;const o=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[n.id])==null?void 0:t.getValue();return typeof o=="string"||typeof o=="number"}}),createColumn:(e,n)=>{e.getCanGlobalFilter=()=>{var t,o,a,i;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((o=n.options.enableGlobalFilter)!=null?o:!0)&&((a=n.options.enableFilters)!=null?a:!0)&&((i=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Me.includesString,e.getGlobalFilterFn=()=>{var n,t;const{globalFilterFn:o}=e.options;return Pt(o)?o:o==="auto"?e.getGlobalAutoFilterFn():(n=(t=e.options.filterFns)==null?void 0:t[o])!=null?n:Me[o]},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)}}},mr={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Ve("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,t=!1;e._autoResetExpanded=()=>{var o,a;if(!n){e._queue(()=>{n=!0});return}if((o=(a=e.options.autoResetAll)!=null?a:e.options.autoResetExpanded)!=null?o:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=o=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(o),e.toggleAllRowsExpanded=o=>{o??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=o=>{var a,i;e.setExpanded(o?{}:(a=(i=e.initialState)==null?void 0:i.expanded)!=null?a:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(o=>o.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>o=>{o.persist==null||o.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const o=e.getState().expanded;return o===!0||Object.values(o).some(Boolean)},e.getIsAllRowsExpanded=()=>{const o=e.getState().expanded;return typeof o=="boolean"?o===!0:!(!Object.keys(o).length||e.getRowModel().flatRows.some(a=>!a.getIsExpanded()))},e.getExpandedDepth=()=>{let o=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const r=i.split(".");o=Math.max(o,r.length)}),o},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=t=>{n.setExpanded(o=>{var a;const i=o===!0?!0:!!(o!=null&&o[e.id]);let r={};if(o===!0?Object.keys(n.getRowModel().rowsById).forEach(s=>{r[s]=!0}):r=o,t=(a=t)!=null?a:!i,!i&&t)return{...r,[e.id]:!0};if(i&&!t){const{[e.id]:s,...l}=r;return l}return o})},e.getIsExpanded=()=>{var t;const o=n.getState().expanded;return!!((t=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?t:o===!0||o?.[e.id])},e.getCanExpand=()=>{var t,o,a;return(t=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?t:((o=n.options.enableExpanding)!=null?o:!0)&&!!((a=e.subRows)!=null&&a.length)},e.getIsAllParentsExpanded=()=>{let t=!0,o=e;for(;t&&o.parentId;)o=n.getRow(o.parentId,!0),t=o.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},Wt=0,Xt=10,Bt=()=>({pageIndex:Wt,pageSize:Xt}),vr={getInitialState:e=>({...e,pagination:{...Bt(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:Ve("pagination",e)}),createTable:e=>{let n=!1,t=!1;e._autoResetPageIndex=()=>{var o,a;if(!n){e._queue(()=>{n=!0});return}if((o=(a=e.options.autoResetAll)!=null?a:e.options.autoResetPageIndex)!=null?o:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=o=>{const a=i=>He(o,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(a)},e.resetPagination=o=>{var a;e.setPagination(o?Bt():(a=e.initialState.pagination)!=null?a:Bt())},e.setPageIndex=o=>{e.setPagination(a=>{let i=He(o,a.pageIndex);const r=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,r)),{...a,pageIndex:i}})},e.resetPageIndex=o=>{var a,i;e.setPageIndex(o?Wt:(a=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?a:Wt)},e.resetPageSize=o=>{var a,i;e.setPageSize(o?Xt:(a=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?a:Xt)},e.setPageSize=o=>{e.setPagination(a=>{const i=Math.max(1,He(o,a.pageSize)),r=a.pageSize*a.pageIndex,s=Math.floor(r/i);return{...a,pageIndex:s,pageSize:i}})},e.setPageCount=o=>e.setPagination(a=>{var i;let r=He(o,(i=e.options.pageCount)!=null?i:-1);return typeof r=="number"&&(r=Math.max(-1,r)),{...a,pageCount:r}}),e.getPageOptions=Y(()=>[e.getPageCount()],o=>{let a=[];return o&&o>0&&(a=[...new Array(o)].fill(null).map((i,r)=>r)),a},Z(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:o}=e.getState().pagination,a=e.getPageCount();return a===-1?!0:a===0?!1:o<a-1},e.previousPage=()=>e.setPageIndex(o=>o-1),e.nextPage=()=>e.setPageIndex(o=>o+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var o;return(o=e.options.pageCount)!=null?o:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var o;return(o=e.options.rowCount)!=null?o:e.getPrePaginationRowModel().rows.length}}},Ot=()=>({top:[],bottom:[]}),hr={getInitialState:e=>({rowPinning:Ot(),...e}),getDefaultOptions:e=>({onRowPinningChange:Ve("rowPinning",e)}),createRow:(e,n)=>{e.pin=(t,o,a)=>{const i=o?e.getLeafRows().map(l=>{let{id:d}=l;return d}):[],r=a?e.getParentRows().map(l=>{let{id:d}=l;return d}):[],s=new Set([...r,e.id,...i]);n.setRowPinning(l=>{var d,g;if(t==="bottom"){var h,c;return{top:((h=l?.top)!=null?h:[]).filter(m=>!(s!=null&&s.has(m))),bottom:[...((c=l?.bottom)!=null?c:[]).filter(m=>!(s!=null&&s.has(m))),...Array.from(s)]}}if(t==="top"){var u,p;return{top:[...((u=l?.top)!=null?u:[]).filter(m=>!(s!=null&&s.has(m))),...Array.from(s)],bottom:((p=l?.bottom)!=null?p:[]).filter(m=>!(s!=null&&s.has(m)))}}return{top:((d=l?.top)!=null?d:[]).filter(m=>!(s!=null&&s.has(m))),bottom:((g=l?.bottom)!=null?g:[]).filter(m=>!(s!=null&&s.has(m)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:o,enablePinning:a}=n.options;return typeof o=="function"?o(e):(t=o??a)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:o,bottom:a}=n.getState().rowPinning,i=t.some(s=>o?.includes(s)),r=t.some(s=>a?.includes(s));return i?"top":r?"bottom":!1},e.getPinnedIndex=()=>{var t,o;const a=e.getIsPinned();if(!a)return-1;const i=(t=a==="top"?n.getTopRows():n.getBottomRows())==null?void 0:t.map(r=>{let{id:s}=r;return s});return(o=i?.indexOf(e.id))!=null?o:-1}},createTable:e=>{e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var t,o;return e.setRowPinning(n?Ot():(t=(o=e.initialState)==null?void 0:o.rowPinning)!=null?t:Ot())},e.getIsSomeRowsPinned=n=>{var t;const o=e.getState().rowPinning;if(!n){var a,i;return!!((a=o.top)!=null&&a.length||(i=o.bottom)!=null&&i.length)}return!!((t=o[n])!=null&&t.length)},e._getPinnedRows=(n,t,o)=>{var a;return((a=e.options.keepPinnedRows)==null||a?(t??[]).map(r=>{const s=e.getRow(r,!0);return s.getIsAllParentsExpanded()?s:null}):(t??[]).map(r=>n.find(s=>s.id===r))).filter(Boolean).map(r=>({...r,position:o}))},e.getTopRows=Y(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(n,t)=>e._getPinnedRows(n,t,"top"),Z(e.options,"debugRows")),e.getBottomRows=Y(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(n,t)=>e._getPinnedRows(n,t,"bottom"),Z(e.options,"debugRows")),e.getCenterRows=Y(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,t,o)=>{const a=new Set([...t??[],...o??[]]);return n.filter(i=>!a.has(i.id))},Z(e.options,"debugRows"))}},br={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Ve("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var t;return e.setRowSelection(n?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(t=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const o={...t},a=e.getPreGroupedRowModel().flatRows;return n?a.forEach(i=>{i.getCanSelect()&&(o[i.id]=!0)}):a.forEach(i=>{delete o[i.id]}),o})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(t=>{const o=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),a={...t};return e.getRowModel().rows.forEach(i=>{Yt(a,i.id,o,!0,e)}),a}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Y(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,t)=>Object.keys(n).length?Gt(e,t):{rows:[],flatRows:[],rowsById:{}},Z(e.options,"debugTable")),e.getFilteredSelectedRowModel=Y(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,t)=>Object.keys(n).length?Gt(e,t):{rows:[],flatRows:[],rowsById:{}},Z(e.options,"debugTable")),e.getGroupedSelectedRowModel=Y(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,t)=>Object.keys(n).length?Gt(e,t):{rows:[],flatRows:[],rowsById:{}},Z(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let o=!!(n.length&&Object.keys(t).length);return o&&n.some(a=>a.getCanSelect()&&!t[a.id])&&(o=!1),o},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(a=>a.getCanSelect()),{rowSelection:t}=e.getState();let o=!!n.length;return o&&n.some(a=>!t[a.id])&&(o=!1),o},e.getIsSomeRowsSelected=()=>{var n;const t=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(t,o)=>{const a=e.getIsSelected();n.setRowSelection(i=>{var r;if(t=typeof t<"u"?t:!a,e.getCanSelect()&&a===t)return i;const s={...i};return Yt(s,e.id,t,(r=o?.selectChildren)!=null?r:!0,n),s})},e.getIsSelected=()=>{const{rowSelection:t}=n.getState();return cn(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=n.getState();return Zt(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=n.getState();return Zt(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(t=n.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(t=n.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(t=n.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return o=>{var a;t&&e.toggleSelected((a=o.target)==null?void 0:a.checked)}}}},Yt=(e,n,t,o,a)=>{var i;const r=a.getRow(n,!0);t?(r.getCanMultiSelect()||Object.keys(e).forEach(s=>delete e[s]),r.getCanSelect()&&(e[n]=!0)):delete e[n],o&&(i=r.subRows)!=null&&i.length&&r.getCanSelectSubRows()&&r.subRows.forEach(s=>Yt(e,s.id,t,o,a))};function Gt(e,n){const t=e.getState().rowSelection,o=[],a={},i=function(r,s){return r.map(l=>{var d;const g=cn(l,t);if(g&&(o.push(l),a[l.id]=l),(d=l.subRows)!=null&&d.length&&(l={...l,subRows:i(l.subRows)}),g)return l}).filter(Boolean)};return{rows:i(n.rows),flatRows:o,rowsById:a}}function cn(e,n){var t;return(t=n[e.id])!=null?t:!1}function Zt(e,n,t){var o;if(!((o=e.subRows)!=null&&o.length))return!1;let a=!0,i=!1;return e.subRows.forEach(r=>{if(!(i&&!a)&&(r.getCanSelect()&&(cn(r,n)?i=!0:a=!1),r.subRows&&r.subRows.length)){const s=Zt(r,n);s==="all"?i=!0:(s==="some"&&(i=!0),a=!1)}}),a?"all":i?"some":!1}const Qt=/([0-9]+)/gm,yr=(e,n,t)=>co(Ke(e.getValue(t)).toLowerCase(),Ke(n.getValue(t)).toLowerCase()),Sr=(e,n,t)=>co(Ke(e.getValue(t)),Ke(n.getValue(t))),wr=(e,n,t)=>gn(Ke(e.getValue(t)).toLowerCase(),Ke(n.getValue(t)).toLowerCase()),kr=(e,n,t)=>gn(Ke(e.getValue(t)),Ke(n.getValue(t))),_r=(e,n,t)=>{const o=e.getValue(t),a=n.getValue(t);return o>a?1:o<a?-1:0},Cr=(e,n,t)=>gn(e.getValue(t),n.getValue(t));function gn(e,n){return e===n?0:e>n?1:-1}function Ke(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function co(e,n){const t=e.split(Qt).filter(Boolean),o=n.split(Qt).filter(Boolean);for(;t.length&&o.length;){const a=t.shift(),i=o.shift(),r=parseInt(a,10),s=parseInt(i,10),l=[r,s].sort();if(isNaN(l[0])){if(a>i)return 1;if(i>a)return-1;continue}if(isNaN(l[1]))return isNaN(r)?-1:1;if(r>s)return 1;if(s>r)return-1}return t.length-o.length}const at={alphanumeric:yr,alphanumericCaseSensitive:Sr,text:wr,textCaseSensitive:kr,datetime:_r,basic:Cr},xr={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Ve("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const t=n.getFilteredRowModel().flatRows.slice(10);let o=!1;for(const a of t){const i=a?.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return at.datetime;if(typeof i=="string"&&(o=!0,i.split(Qt).length>1))return at.alphanumeric}return o?at.text:at.basic},e.getAutoSortDir=()=>{const t=n.getFilteredRowModel().flatRows[0];return typeof t?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,o;if(!e)throw new Error;return Pt(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(o=n.options.sortingFns)==null?void 0:o[e.columnDef.sortingFn])!=null?t:at[e.columnDef.sortingFn]},e.toggleSorting=(t,o)=>{const a=e.getNextSortingOrder(),i=typeof t<"u"&&t!==null;n.setSorting(r=>{const s=r?.find(u=>u.id===e.id),l=r?.findIndex(u=>u.id===e.id);let d=[],g,h=i?t:a==="desc";if(r!=null&&r.length&&e.getCanMultiSort()&&o?s?g="toggle":g="add":r!=null&&r.length&&l!==r.length-1?g="replace":s?g="toggle":g="replace",g==="toggle"&&(i||a||(g="remove")),g==="add"){var c;d=[...r,{id:e.id,desc:h}],d.splice(0,d.length-((c=n.options.maxMultiSortColCount)!=null?c:Number.MAX_SAFE_INTEGER))}else g==="toggle"?d=r.map(u=>u.id===e.id?{...u,desc:h}:u):g==="remove"?d=r.filter(u=>u.id!==e.id):d=[{id:e.id,desc:h}];return d})},e.getFirstSortDir=()=>{var t,o;return((t=(o=e.columnDef.sortDescFirst)!=null?o:n.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var o,a;const i=e.getFirstSortDir(),r=e.getIsSorted();return r?r!==i&&((o=n.options.enableSortingRemoval)==null||o)&&(!(t&&(a=n.options.enableMultiRemove)!=null)||a)?!1:r==="desc"?"asc":"desc":i},e.getCanSort=()=>{var t,o;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((o=n.options.enableSorting)!=null?o:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,o;return(t=(o=e.columnDef.enableMultiSort)!=null?o:n.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const o=(t=n.getState().sorting)==null?void 0:t.find(a=>a.id===e.id);return o?o.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,o;return(t=(o=n.getState().sorting)==null?void 0:o.findIndex(a=>a.id===e.id))!=null?t:-1},e.clearSorting=()=>{n.setSorting(t=>t!=null&&t.length?t.filter(o=>o.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return o=>{t&&(o.persist==null||o.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(o):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var t,o;e.setSorting(n?[]:(t=(o=e.initialState)==null?void 0:o.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Rr=[Ki,gr,lr,sr,Wi,Xi,pr,fr,xr,ir,mr,vr,hr,br,dr];function $r(e){var n,t;const o=[...Rr,...(n=e._features)!=null?n:[]];let a={_features:o};const i=a._features.reduce((c,u)=>Object.assign(c,u.getDefaultOptions==null?void 0:u.getDefaultOptions(a)),{}),r=c=>a.options.mergeOptions?a.options.mergeOptions(i,c):{...i,...c};let l={...{},...(t=e.initialState)!=null?t:{}};a._features.forEach(c=>{var u;l=(u=c.getInitialState==null?void 0:c.getInitialState(l))!=null?u:l});const d=[];let g=!1;const h={_features:o,options:{...i,...e},initialState:l,_queue:c=>{d.push(c),g||(g=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();g=!1}).catch(u=>setTimeout(()=>{throw u})))},reset:()=>{a.setState(a.initialState)},setOptions:c=>{const u=He(c,a.options);a.options=r(u)},getState:()=>a.options.state,setState:c=>{a.options.onStateChange==null||a.options.onStateChange(c)},_getRowId:(c,u,p)=>{var m;return(m=a.options.getRowId==null?void 0:a.options.getRowId(c,u,p))!=null?m:`${p?[p.id,u].join("."):u}`},getCoreRowModel:()=>(a._getCoreRowModel||(a._getCoreRowModel=a.options.getCoreRowModel(a)),a._getCoreRowModel()),getRowModel:()=>a.getPaginationRowModel(),getRow:(c,u)=>{let p=(u?a.getPrePaginationRowModel():a.getRowModel()).rowsById[c];if(!p&&(p=a.getCoreRowModel().rowsById[c],!p))throw new Error;return p},_getDefaultColumnDef:Y(()=>[a.options.defaultColumn],c=>{var u;return c=(u=c)!=null?u:{},{header:p=>{const m=p.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:p=>{var m,v;return(m=(v=p.renderValue())==null||v.toString==null?void 0:v.toString())!=null?m:null},...a._features.reduce((p,m)=>Object.assign(p,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...c}},Z(e,"debugColumns")),_getColumnDefs:()=>a.options.columns,getAllColumns:Y(()=>[a._getColumnDefs()],c=>{const u=function(p,m,v){return v===void 0&&(v=0),p.map(y=>{const _=Hi(a,y,v,m),L=y;return _.columns=L.columns?u(L.columns,_,v+1):[],_})};return u(c)},Z(e,"debugColumns")),getAllFlatColumns:Y(()=>[a.getAllColumns()],c=>c.flatMap(u=>u.getFlatColumns()),Z(e,"debugColumns")),_getAllFlatColumnsById:Y(()=>[a.getAllFlatColumns()],c=>c.reduce((u,p)=>(u[p.id]=p,u),{}),Z(e,"debugColumns")),getAllLeafColumns:Y(()=>[a.getAllColumns(),a._getOrderColumnsFn()],(c,u)=>{let p=c.flatMap(m=>m.getLeafColumns());return u(p)},Z(e,"debugColumns")),getColumn:c=>a._getAllFlatColumnsById()[c]};Object.assign(a,h);for(let c=0;c<a._features.length;c++){const u=a._features[c];u==null||u.createTable==null||u.createTable(a)}return a}function Fr(){return e=>Y(()=>[e.options.data],n=>{const t={rows:[],flatRows:[],rowsById:{}},o=function(a,i,r){i===void 0&&(i=0);const s=[];for(let d=0;d<a.length;d++){const g=un(e,e._getRowId(a[d],d,r),a[d],d,i,void 0,r?.id);if(t.flatRows.push(g),t.rowsById[g.id]=g,s.push(g),e.options.getSubRows){var l;g.originalSubRows=e.options.getSubRows(a[d],d),(l=g.originalSubRows)!=null&&l.length&&(g.subRows=o(g.originalSubRows,i+1,g))}}return s};return t.rows=o(n),t},Z(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Pr(){return e=>Y(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(n,t,o)=>!t.rows.length||n!==!0&&!Object.keys(n??{}).length||!o?t:go(t),Z(e.options,"debugTable"))}function go(e){const n=[],t=o=>{var a;n.push(o),(a=o.subRows)!=null&&a.length&&o.getIsExpanded()&&o.subRows.forEach(t)};return e.rows.forEach(t),{rows:n,flatRows:e.flatRows,rowsById:e.rowsById}}function Vr(e,n,t){return t.options.filterFromLeafRows?Lr(e,n,t):Ir(e,n,t)}function Lr(e,n,t){var o;const a=[],i={},r=(o=t.options.maxLeafRowFilterDepth)!=null?o:100,s=function(l,d){d===void 0&&(d=0);const g=[];for(let c=0;c<l.length;c++){var h;let u=l[c];const p=un(t,u.id,u.original,u.index,u.depth,void 0,u.parentId);if(p.columnFilters=u.columnFilters,(h=u.subRows)!=null&&h.length&&d<r){if(p.subRows=s(u.subRows,d+1),u=p,n(u)&&!p.subRows.length){g.push(u),i[u.id]=u,a.push(u);continue}if(n(u)||p.subRows.length){g.push(u),i[u.id]=u,a.push(u);continue}}else u=p,n(u)&&(g.push(u),i[u.id]=u,a.push(u))}return g};return{rows:s(e),flatRows:a,rowsById:i}}function Ir(e,n,t){var o;const a=[],i={},r=(o=t.options.maxLeafRowFilterDepth)!=null?o:100,s=function(l,d){d===void 0&&(d=0);const g=[];for(let c=0;c<l.length;c++){let u=l[c];if(n(u)){var h;if((h=u.subRows)!=null&&h.length&&d<r){const m=un(t,u.id,u.original,u.index,u.depth,void 0,u.parentId);m.subRows=s(u.subRows,d+1),u=m}g.push(u),a.push(u),i[u.id]=u}}return g};return{rows:s(e),flatRows:a,rowsById:i}}function Ar(){return e=>Y(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(n,t,o)=>{if(!n.rows.length||!(t!=null&&t.length)&&!o){for(let c=0;c<n.flatRows.length;c++)n.flatRows[c].columnFilters={},n.flatRows[c].columnFiltersMeta={};return n}const a=[],i=[];(t??[]).forEach(c=>{var u;const p=e.getColumn(c.id);if(!p)return;const m=p.getFilterFn();m&&a.push({id:c.id,filterFn:m,resolvedValue:(u=m.resolveFilterValue==null?void 0:m.resolveFilterValue(c.value))!=null?u:c.value})});const r=(t??[]).map(c=>c.id),s=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(c=>c.getCanGlobalFilter());o&&s&&l.length&&(r.push("__global__"),l.forEach(c=>{var u;i.push({id:c.id,filterFn:s,resolvedValue:(u=s.resolveFilterValue==null?void 0:s.resolveFilterValue(o))!=null?u:o})}));let d,g;for(let c=0;c<n.flatRows.length;c++){const u=n.flatRows[c];if(u.columnFilters={},a.length)for(let p=0;p<a.length;p++){d=a[p];const m=d.id;u.columnFilters[m]=d.filterFn(u,m,d.resolvedValue,v=>{u.columnFiltersMeta[m]=v})}if(i.length){for(let p=0;p<i.length;p++){g=i[p];const m=g.id;if(g.filterFn(u,m,g.resolvedValue,v=>{u.columnFiltersMeta[m]=v})){u.columnFilters.__global__=!0;break}}u.columnFilters.__global__!==!0&&(u.columnFilters.__global__=!1)}}const h=c=>{for(let u=0;u<r.length;u++)if(c.columnFilters[r[u]]===!1)return!1;return!0};return Vr(n.rows,h,e)},Z(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Er(e){return n=>Y(()=>[n.getState().pagination,n.getPrePaginationRowModel(),n.options.paginateExpandedRows?void 0:n.getState().expanded],(t,o)=>{if(!o.rows.length)return o;const{pageSize:a,pageIndex:i}=t;let{rows:r,flatRows:s,rowsById:l}=o;const d=a*i,g=d+a;r=r.slice(d,g);let h;n.options.paginateExpandedRows?h={rows:r,flatRows:s,rowsById:l}:h=go({rows:r,flatRows:s,rowsById:l}),h.flatRows=[];const c=u=>{h.flatRows.push(u),u.subRows.length&&u.subRows.forEach(c)};return h.rows.forEach(c),h},Z(n.options,"debugTable"))}function Tr(){return e=>Y(()=>[e.getState().sorting,e.getPreSortedRowModel()],(n,t)=>{if(!t.rows.length||!(n!=null&&n.length))return t;const o=e.getState().sorting,a=[],i=o.filter(l=>{var d;return(d=e.getColumn(l.id))==null?void 0:d.getCanSort()}),r={};i.forEach(l=>{const d=e.getColumn(l.id);d&&(r[l.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const s=l=>{const d=l.map(g=>({...g}));return d.sort((g,h)=>{for(let u=0;u<i.length;u+=1){var c;const p=i[u],m=r[p.id],v=m.sortUndefined,y=(c=p?.desc)!=null?c:!1;let _=0;if(v){const L=g.getValue(p.id),q=h.getValue(p.id),D=L===void 0,Q=q===void 0;if(D||Q){if(v==="first")return D?-1:1;if(v==="last")return D?1:-1;_=D&&Q?0:D?v:-v}}if(_===0&&(_=m.sortingFn(g,h,p.id)),_!==0)return y&&(_*=-1),m.invertSorting&&(_*=-1),_}return g.index-h.index}),d.forEach(g=>{var h;a.push(g),(h=g.subRows)!=null&&h.length&&(g.subRows=s(g.subRows))}),d};return{rows:s(t.rows),flatRows:a,rowsById:t.rowsById}},Z(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * vue-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function mt(){return!0}const Nr=Symbol("merge-proxy"),Mr={get(e,n,t){return n===Nr?t:e.get(n)},has(e,n){return e.has(n)},set:mt,deleteProperty:mt,getOwnPropertyDescriptor(e,n){return{configurable:!0,enumerable:!0,get(){return e.get(n)},set:mt,deleteProperty:mt}},ownKeys(e){return e.keys()}};function jt(e){return"value"in e?e.value:e}function it(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return new Proxy({get(o){for(let a=n.length-1;a>=0;a--){const i=jt(n[a])[o];if(i!==void 0)return i}},has(o){for(let a=n.length-1;a>=0;a--)if(o in jt(n[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<n.length;a++)o.push(...Object.keys(jt(n[a])));return[...Array.from(new Set(o))]}},Mr)}const qt=Re({props:["render","props"],setup:e=>()=>typeof e.render=="function"||typeof e.render=="object"?J(e.render,e.props):e.render});function xn(e){return it(e,{data:k(e.data)})}function zr(e){const n=Jo(e.data),t=it({state:{},onStateChange:()=>{},renderFallbackValue:null,mergeOptions(i,r){return n?{...i,...r}:it(i,r)}},n?xn(e):e),o=$r(t);if(n){const i=ea(e.data);de(i,()=>{o.setState(r=>({...r,data:i.value}))},{immediate:!0})}const a=W(o.initialState);return ta(()=>{o.setOptions(i=>{var r;const s=new Proxy({},{get:(l,d)=>a.value[d]});return it(i,n?xn(e):e,{state:it(s,(r=e.state)!=null?r:{}),onStateChange:l=>{l instanceof Function?a.value=l(a.value):a.value=l,e.onStateChange==null||e.onStateChange(l)}})})}),o}const Dr={slots:{root:"relative overflow-auto",base:"min-w-full overflow-clip",caption:"sr-only",thead:"relative",tbody:"divide-y divide-default [&>tr]:data-[selectable=true]:hover:bg-elevated/50 [&>tr]:data-[selectable=true]:focus-visible:outline-primary",tfoot:"relative",tr:"data-[selected=true]:bg-elevated/50",th:"px-4 py-3.5 text-sm text-highlighted text-left rtl:text-right font-semibold [&:has([role=checkbox])]:pe-0",td:"p-4 text-sm text-muted whitespace-nowrap [&:has([role=checkbox])]:pe-0",separator:"absolute z-[1] left-0 w-full h-px bg-(--ui-border-accented)",empty:"py-6 text-center text-sm text-muted",loading:"py-6 text-center"},variants:{pinned:{true:{th:"sticky bg-default/75 data-[pinned=left]:left-0 data-[pinned=right]:right-0",td:"sticky bg-default/75 data-[pinned=left]:left-0 data-[pinned=right]:right-0"}},sticky:{true:{thead:"sticky top-0 inset-x-0 bg-default/75 z-[1] backdrop-blur",tfoot:"sticky bottom-0 inset-x-0 bg-default/75 z-[1] backdrop-blur"},header:{thead:"sticky top-0 inset-x-0 bg-default/75 z-[1] backdrop-blur"},footer:{tfoot:"sticky bottom-0 inset-x-0 bg-default/75 z-[1] backdrop-blur"}},loading:{true:{thead:"after:absolute after:z-[1] after:h-px"}},loadingAnimation:{carousel:"","carousel-inverse":"",swing:"",elastic:""},loadingColor:{primary:"",secondary:"",tertiary:"",rodeodust:"",poison:"",signal:"",info:"",success:"",warning:"",error:"",kalkmark:"",vanligmark:"",time:"",neutral:""}},compoundVariants:[{loading:!0,loadingColor:"primary",class:{thead:"after:bg-primary"}},{loading:!0,loadingColor:"secondary",class:{thead:"after:bg-secondary"}},{loading:!0,loadingColor:"tertiary",class:{thead:"after:bg-tertiary"}},{loading:!0,loadingColor:"rodeodust",class:{thead:"after:bg-rodeodust"}},{loading:!0,loadingColor:"poison",class:{thead:"after:bg-poison"}},{loading:!0,loadingColor:"signal",class:{thead:"after:bg-signal"}},{loading:!0,loadingColor:"info",class:{thead:"after:bg-info"}},{loading:!0,loadingColor:"success",class:{thead:"after:bg-success"}},{loading:!0,loadingColor:"warning",class:{thead:"after:bg-warning"}},{loading:!0,loadingColor:"error",class:{thead:"after:bg-error"}},{loading:!0,loadingColor:"kalkmark",class:{thead:"after:bg-kalkmark"}},{loading:!0,loadingColor:"vanligmark",class:{thead:"after:bg-vanligmark"}},{loading:!0,loadingColor:"time",class:{thead:"after:bg-time"}},{loading:!0,loadingColor:"neutral",class:{thead:"after:bg-inverted"}},{loading:!0,loadingAnimation:"carousel",class:{thead:"after:animate-[carousel_2s_ease-in-out_infinite] rtl:after:animate-[carousel-rtl_2s_ease-in-out_infinite]"}},{loading:!0,loadingAnimation:"carousel-inverse",class:{thead:"after:animate-[carousel-inverse_2s_ease-in-out_infinite] rtl:after:animate-[carousel-inverse-rtl_2s_ease-in-out_infinite]"}},{loading:!0,loadingAnimation:"swing",class:{thead:"after:animate-[swing_2s_ease-in-out_infinite]"}},{loading:!0,loadingAnimation:"elastic",class:{thead:"after:animate-[elastic_2s_ease-in-out_infinite]"}}],defaultVariants:{loadingColor:"primary",loadingAnimation:"carousel"}},Br=["data-pinned","scope","colspan","rowspan"],Or=["data-selected","data-selectable","data-expanded","role","tabindex","onClick","onPointerenter","onContextmenu"],Gr=["data-pinned","colspan","rowspan"],jr=["colspan"],qr={key:1},Ur=["colspan"],Hr={key:2},Kr=["colspan"],Wr=["data-pinned","colspan","rowspan"],Xr={__name:"UTable",props:na({as:{type:null,required:!1},data:{type:Array,required:!1},columns:{type:Array,required:!1},caption:{type:String,required:!1},meta:{type:Object,required:!1},empty:{type:String,required:!1},sticky:{type:[Boolean,String],required:!1},loading:{type:Boolean,required:!1},loadingColor:{type:null,required:!1},loadingAnimation:{type:null,required:!1},watchOptions:{type:Object,required:!1,default:()=>({deep:!0})},globalFilterOptions:{type:Object,required:!1},columnFiltersOptions:{type:Object,required:!1},columnPinningOptions:{type:Object,required:!1},columnSizingOptions:{type:Object,required:!1},visibilityOptions:{type:Object,required:!1},sortingOptions:{type:Object,required:!1},groupingOptions:{type:Object,required:!1},expandedOptions:{type:Object,required:!1},rowSelectionOptions:{type:Object,required:!1},rowPinningOptions:{type:Object,required:!1},paginationOptions:{type:Object,required:!1},facetedOptions:{type:Object,required:!1},onSelect:{type:Function,required:!1},onHover:{type:Function,required:!1},onContextmenu:{type:[Function,Array],required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},state:{type:Object,required:!1},onStateChange:{type:Function,required:!1},renderFallbackValue:{type:null,required:!1},_features:{type:Array,required:!1},autoResetAll:{type:Boolean,required:!1},debugAll:{type:Boolean,required:!1},debugCells:{type:Boolean,required:!1},debugColumns:{type:Boolean,required:!1},debugHeaders:{type:Boolean,required:!1},debugRows:{type:Boolean,required:!1},debugTable:{type:Boolean,required:!1},defaultColumn:{type:Object,required:!1},getRowId:{type:Function,required:!1},getSubRows:{type:Function,required:!1},initialState:{type:Object,required:!1},mergeOptions:{type:Function,required:!1}},{globalFilter:{type:String,default:void 0},globalFilterModifiers:{},columnFilters:{type:Array,default:[]},columnFiltersModifiers:{},columnOrder:{type:Array,default:[]},columnOrderModifiers:{},columnVisibility:{type:Object,default:{}},columnVisibilityModifiers:{},columnPinning:{type:Object,default:{}},columnPinningModifiers:{},columnSizing:{type:Object,default:{}},columnSizingModifiers:{},columnSizingInfo:{type:Object,default:{}},columnSizingInfoModifiers:{},rowSelection:{type:Object,default:{}},rowSelectionModifiers:{},rowPinning:{type:Object,default:{}},rowPinningModifiers:{},sorting:{type:Array,default:[]},sortingModifiers:{},grouping:{type:Array,default:[]},groupingModifiers:{},expanded:{type:[Boolean,Object],default:{}},expandedModifiers:{},pagination:{type:Object,default:{}},paginationModifiers:{}}),emits:["update:globalFilter","update:columnFilters","update:columnOrder","update:columnVisibility","update:columnPinning","update:columnSizing","update:columnSizingInfo","update:rowSelection","update:rowPinning","update:sorting","update:grouping","update:expanded","update:pagination"],setup(e,{expose:n}){const t=e,o=Ct(),{t:a}=rn(),i=xt(),r=W(t.data??[]),s=A(()=>t.meta??{}),l=A(()=>d(t.columns??Object.keys(r.value[0]??{}).map(P=>({accessorKey:P,header:Dn(P)}))));function d(P){return P.map(z=>{const T={...z};return"columns"in T&&T.columns&&(T.columns=d(T.columns)),T.cell||(T.cell=({getValue:R})=>{const ee=R();return ee===""||ee===null||ee===void 0?" ":String(ee)}),T})}const g=A(()=>Je({extend:Je(Dr),...i.ui?.table||{}})({sticky:t.sticky,loading:t.loading,loadingColor:t.loadingColor,loadingAnimation:t.loadingAnimation})),h=A(()=>{function P(z){for(const T of z)if("footer"in T||"columns"in T&&P(T.columns))return!0;return!1}return P(l.value)}),c=Pe(e,"globalFilter",{type:String,default:void 0}),u=Pe(e,"columnFilters",{type:Array,default:[]}),p=Pe(e,"columnOrder",{type:Array,default:[]}),m=Pe(e,"columnVisibility",{type:Object,default:{}}),v=Pe(e,"columnPinning",{type:Object,default:{}}),y=Pe(e,"columnSizing",{type:Object,default:{}}),_=Pe(e,"columnSizingInfo",{type:Object,default:{}}),L=Pe(e,"rowSelection",{type:Object,default:{}}),q=Pe(e,"rowPinning",{type:Object,default:{}}),D=Pe(e,"sorting",{type:Array,default:[]}),Q=Pe(e,"grouping",{type:Array,default:[]}),se=Pe(e,"expanded",{type:[Boolean,Object],default:{}}),ce=Pe(e,"pagination",{type:Object,default:{}}),ge=W(null),I=zr({...En(t,"as","data","columns","caption","sticky","loading","loadingColor","loadingAnimation","class","ui"),data:r,get columns(){return l.value},meta:s.value,getCoreRowModel:Fr(),...t.globalFilterOptions||{},onGlobalFilterChange:P=>C(P,c),...t.columnFiltersOptions||{},getFilteredRowModel:Ar(),onColumnFiltersChange:P=>C(P,u),onColumnOrderChange:P=>C(P,p),...t.visibilityOptions||{},onColumnVisibilityChange:P=>C(P,m),...t.columnPinningOptions||{},onColumnPinningChange:P=>C(P,v),...t.columnSizingOptions||{},onColumnSizingChange:P=>C(P,y),onColumnSizingInfoChange:P=>C(P,_),...t.rowSelectionOptions||{},onRowSelectionChange:P=>C(P,L),...t.rowPinningOptions||{},onRowPinningChange:P=>C(P,q),...t.sortingOptions||{},getSortedRowModel:Tr(),onSortingChange:P=>C(P,D),...t.groupingOptions||{},onGroupingChange:P=>C(P,Q),...t.expandedOptions||{},getExpandedRowModel:Pr(),onExpandedChange:P=>C(P,se),...t.paginationOptions||{},onPaginationChange:P=>C(P,ce),...t.facetedOptions||{},state:{get globalFilter(){return c.value},get columnFilters(){return u.value},get columnOrder(){return p.value},get columnVisibility(){return m.value},get columnPinning(){return v.value},get expanded(){return se.value},get rowSelection(){return L.value},get sorting(){return D.value},get grouping(){return Q.value},get rowPinning(){return q.value},get columnSizing(){return y.value},get columnSizingInfo(){return _.value},get pagination(){return ce.value}}});function C(P,z){z.value=typeof P=="function"?P(z.value):P}function S(P,z){if(!t.onSelect)return;const T=P.target;T.closest("button")||T.closest("a")||(P.preventDefault(),P.stopPropagation(),t.onSelect(z,P))}function F(P,z){t.onHover&&t.onHover(P,z)}function U(P,z){t.onContextmenu&&(Array.isArray(t.onContextmenu)?t.onContextmenu.forEach(T=>T(P,z)):t.onContextmenu(P,z))}function H(P,z){return typeof P=="function"?P(z):P}return de(()=>t.data,()=>{r.value=t.data?[...t.data]:[]},t.watchOptions),n({tableRef:ge,tableApi:I}),(P,z)=>(b(),G(k(De),{as:e.as,class:X(g.value.root({class:[t.ui?.root,t.class]}))},{default:E(()=>[$("table",{ref_key:"tableRef",ref:ge,class:X(g.value.base({class:[t.ui?.base]}))},[e.caption||o.caption?(b(),V("caption",{key:0,class:X(g.value.caption({class:[t.ui?.caption]}))},[ae(P.$slots,"caption",{},()=>[oe(ne(e.caption),1)])],2)):O("",!0),$("thead",{class:X(g.value.thead({class:[t.ui?.thead]}))},[(b(!0),V(pe,null,fe(k(I).getHeaderGroups(),T=>(b(),V("tr",{key:T.id,class:X(g.value.tr({class:[t.ui?.tr]}))},[(b(!0),V(pe,null,fe(T.headers,R=>(b(),V("th",{key:R.id,"data-pinned":R.column.getIsPinned(),scope:R.colSpan>1?"colgroup":"col",colspan:R.colSpan>1?R.colSpan:void 0,rowspan:R.rowSpan>1?R.rowSpan:void 0,class:X(g.value.th({class:[t.ui?.th,H(R.column.columnDef.meta?.class?.th,R)],pinned:!!R.column.getIsPinned()}))},[ae(P.$slots,`${R.id}-header`,me({ref_for:!0},R.getContext()),()=>[R.isPlaceholder?O("",!0):(b(),G(k(qt),{key:0,render:R.column.columnDef.header,props:R.getContext()},null,8,["render","props"]))])],10,Br))),128))],2))),128)),$("tr",{class:X(g.value.separator({class:[t.ui?.separator]}))},null,2)],2),$("tbody",{class:X(g.value.tbody({class:[t.ui?.tbody]}))},[ae(P.$slots,"body-top"),k(I).getRowModel().rows?.length?(b(!0),V(pe,{key:0},fe(k(I).getRowModel().rows,T=>(b(),V(pe,{key:T.id},[$("tr",{"data-selected":T.getIsSelected(),"data-selectable":!!t.onSelect||!!t.onHover||!!t.onContextmenu,"data-expanded":T.getIsExpanded(),role:t.onSelect?"button":void 0,tabindex:t.onSelect?0:void 0,class:X(g.value.tr({class:[t.ui?.tr,H(k(I).options.meta?.class?.tr,T)]})),style:Tt(H(k(I).options.meta?.style?.tr,T)),onClick:R=>S(R,T),onPointerenter:R=>F(R,T),onPointerleave:z[0]||(z[0]=R=>F(R,null)),onContextmenu:R=>U(R,T)},[(b(!0),V(pe,null,fe(T.getVisibleCells(),R=>(b(),V("td",{key:R.id,"data-pinned":R.column.getIsPinned(),colspan:H(R.column.columnDef.meta?.colspan?.td,R),rowspan:H(R.column.columnDef.meta?.rowspan?.td,R),class:X(g.value.td({class:[t.ui?.td,H(R.column.columnDef.meta?.class?.td,R)],pinned:!!R.column.getIsPinned()})),style:Tt(H(R.column.columnDef.meta?.style?.td,R))},[ae(P.$slots,`${R.column.id}-cell`,me({ref_for:!0},R.getContext()),()=>[w(k(qt),{render:R.column.columnDef.cell,props:R.getContext()},null,8,["render","props"])])],14,Gr))),128))],46,Or),T.getIsExpanded()?(b(),V("tr",{key:0,class:X(g.value.tr({class:[t.ui?.tr]}))},[$("td",{colspan:T.getAllCells().length,class:X(g.value.td({class:[t.ui?.td]}))},[ae(P.$slots,"expanded",{row:T})],10,jr)],2)):O("",!0)],64))),128)):e.loading&&o.loading?(b(),V("tr",qr,[$("td",{colspan:k(I).getAllLeafColumns().length,class:X(g.value.loading({class:t.ui?.loading}))},[ae(P.$slots,"loading")],10,Ur)])):(b(),V("tr",Hr,[$("td",{colspan:k(I).getAllLeafColumns().length,class:X(g.value.empty({class:t.ui?.empty}))},[ae(P.$slots,"empty",{},()=>[oe(ne(e.empty||k(a)("table.noData")),1)])],10,Kr)])),ae(P.$slots,"body-bottom")],2),h.value?(b(),V("tfoot",{key:1,class:X(g.value.tfoot({class:[t.ui?.tfoot]}))},[$("tr",{class:X(g.value.separator({class:[t.ui?.separator]}))},null,2),(b(!0),V(pe,null,fe(k(I).getFooterGroups(),T=>(b(),V("tr",{key:T.id,class:X(g.value.tr({class:[t.ui?.tr]}))},[(b(!0),V(pe,null,fe(T.headers,R=>(b(),V("th",{key:R.id,"data-pinned":R.column.getIsPinned(),colspan:R.colSpan>1?R.colSpan:void 0,rowspan:R.rowSpan>1?R.rowSpan:void 0,class:X(g.value.th({class:[t.ui?.th,H(R.column.columnDef.meta?.class?.th,R)],pinned:!!R.column.getIsPinned()})),style:Tt(H(R.column.columnDef.meta?.style?.th,R))},[ae(P.$slots,`${R.id}-footer`,me({ref_for:!0},R.getContext()),()=>[R.isPlaceholder?O("",!0):(b(),G(k(qt),{key:0,render:R.column.columnDef.footer,props:R.getContext()},null,8,["render","props"]))])],14,Wr))),128))],2))),128))],2)):O("",!0)],2)]),_:3},8,["as","class"]))}},Yr={slots:{root:"",list:"flex items-center gap-1",ellipsis:"pointer-events-none",label:"min-w-5 text-center",first:"",prev:"",item:"",next:"",last:""}},po={__name:"UPagination",props:{as:{type:null,required:!1},firstIcon:{type:[String,Object],required:!1},prevIcon:{type:[String,Object],required:!1},nextIcon:{type:[String,Object],required:!1},lastIcon:{type:[String,Object],required:!1},ellipsisIcon:{type:[String,Object],required:!1},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"outline"},activeColor:{type:null,required:!1,default:"primary"},activeVariant:{type:null,required:!1,default:"solid"},showControls:{type:Boolean,required:!1,default:!0},size:{type:null,required:!1},to:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultPage:{type:Number,required:!1},disabled:{type:Boolean,required:!1},itemsPerPage:{type:Number,required:!1,default:10},page:{type:Number,required:!1},showEdges:{type:Boolean,required:!1,default:!1},siblingCount:{type:Number,required:!1,default:2},total:{type:Number,required:!1,default:0}},emits:["update:page"],setup(e,{emit:n}){const t=e,o=n,a=Ct(),{dir:i}=rn(),r=xt(),s=ln(zn(t,"as","defaultPage","disabled","itemsPerPage","page","showEdges","siblingCount","total"),o),l=A(()=>t.firstIcon||(i.value==="rtl"?r.ui.icons.chevronDoubleRight:r.ui.icons.chevronDoubleLeft)),d=A(()=>t.prevIcon||(i.value==="rtl"?r.ui.icons.chevronRight:r.ui.icons.chevronLeft)),g=A(()=>t.nextIcon||(i.value==="rtl"?r.ui.icons.chevronLeft:r.ui.icons.chevronRight)),h=A(()=>t.lastIcon||(i.value==="rtl"?r.ui.icons.chevronDoubleLeft:r.ui.icons.chevronDoubleRight)),c=A(()=>Je({extend:Je(Yr),...r.ui?.pagination||{}})());return(u,p)=>(b(),G(k(ka),me(k(s),{class:c.value.root({class:[t.ui?.root,t.class]})}),{default:E(({page:m,pageCount:v})=>[w(k(Va),{class:X(c.value.list({class:t.ui?.list}))},{default:E(({items:y})=>[e.showControls||a.first?(b(),G(k(Ca),{key:0,"as-child":"",class:X(c.value.first({class:t.ui?.first}))},{default:E(()=>[ae(u.$slots,"first",{},()=>[w(xe,{color:e.color,variant:e.variant,size:e.size,icon:l.value,to:e.to?.(1)},null,8,["color","variant","size","icon","to"])])]),_:3},8,["class"])):O("",!0),e.showControls||a.prev?(b(),G(k(Na),{key:1,"as-child":"",class:X(c.value.prev({class:t.ui?.prev}))},{default:E(()=>[ae(u.$slots,"prev",{},()=>[w(xe,{color:e.color,variant:e.variant,size:e.size,icon:d.value,to:m>1?e.to?.(m-1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):O("",!0),(b(!0),V(pe,null,fe(y,(_,L)=>(b(),V(pe,{key:L},[_.type==="page"?(b(),G(k(Ia),{key:0,"as-child":"",value:_.value,class:X(c.value.item({class:t.ui?.item}))},{default:E(()=>[ae(u.$slots,"item",me({ref_for:!0},{item:_,index:L,page:m,pageCount:v}),()=>[w(xe,{color:m===_.value?e.activeColor:e.color,variant:m===_.value?e.activeVariant:e.variant,size:e.size,label:String(_.value),ui:{label:c.value.label()},to:e.to?.(_.value),square:""},null,8,["color","variant","size","label","ui","to"])])]),_:2},1032,["value","class"])):(b(),G(k(ya),{key:1,"as-child":"",class:X(c.value.ellipsis({class:t.ui?.ellipsis}))},{default:E(()=>[ae(u.$slots,"ellipsis",{},()=>[w(xe,{as:"div",color:e.color,variant:e.variant,size:e.size,icon:e.ellipsisIcon||k(r).ui.icons.ellipsis},null,8,["color","variant","size","icon"])])]),_:3},8,["class"]))],64))),128)),e.showControls||a.next?(b(),G(k(Ea),{key:2,"as-child":"",class:X(c.value.next({class:t.ui?.next}))},{default:E(()=>[ae(u.$slots,"next",{},()=>[w(xe,{color:e.color,variant:e.variant,size:e.size,icon:g.value,to:m<v?e.to?.(m+1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):O("",!0),e.showControls||a.last?(b(),G(k(Ra),{key:3,"as-child":"",class:X(c.value.last({class:t.ui?.last}))},{default:E(()=>[ae(u.$slots,"last",{},()=>[w(xe,{color:e.color,variant:e.variant,size:e.size,icon:h.value,to:e.to?.(v)},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):O("",!0)]),_:2},1032,["class"])]),_:3},16,["class"]))}},Zr=JSON.parse('[{"geo":"Norr","forest":"Granskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Norr","forest":"Granskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Norr","forest":"Granskog","veg":"Örter_grupp","age":"91"},{"geo":"Norr","forest":"Granskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Granskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Norr","forest":"Granskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Norr","forest":"Granskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Norr","forest":"Granskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Granskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Norr","forest":"Granskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Norr","forest":"Granskog","veg":"Lingon_grupp","age":"91"},{"geo":"Norr","forest":"Granskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Tallskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Norr","forest":"Tallskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Norr","forest":"Tallskog","veg":"Örter_grupp","age":"91"},{"geo":"Norr","forest":"Tallskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Tallskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Norr","forest":"Tallskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Norr","forest":"Tallskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Norr","forest":"Tallskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Tallskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Norr","forest":"Tallskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Norr","forest":"Tallskog","veg":"Lingon_grupp","age":"91"},{"geo":"Norr","forest":"Tallskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Barrblandskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Norr","forest":"Barrblandskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Norr","forest":"Barrblandskog","veg":"Örter_grupp","age":"91"},{"geo":"Norr","forest":"Barrblandskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Norr","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Norr","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Norr","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Barrblandskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Norr","forest":"Barrblandskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Norr","forest":"Barrblandskog","veg":"Lingon_grupp","age":"91"},{"geo":"Norr","forest":"Barrblandskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Lövblandskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Norr","forest":"Lövblandskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Norr","forest":"Lövblandskog","veg":"Örter_grupp","age":"91"},{"geo":"Norr","forest":"Lövblandskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Norr","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Norr","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Norr","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Lövblandskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Norr","forest":"Lövblandskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Norr","forest":"Lövblandskog","veg":"Lingon_grupp","age":"91"},{"geo":"Norr","forest":"Lövblandskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Lövskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Norr","forest":"Lövskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Norr","forest":"Lövskog","veg":"Örter_grupp","age":"91"},{"geo":"Norr","forest":"Lövskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Lövskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Norr","forest":"Lövskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Norr","forest":"Lövskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Lövskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Norr","forest":"Lövskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Norr","forest":"Lövskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Norr","forest":"Naturbete","veg":"Örter_grupp","age":"1-40"},{"geo":"Norr","forest":"Naturbete","veg":"Örter_grupp","age":"41-90"},{"geo":"Norr","forest":"Naturbete","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Granskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"Granskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"Granskog","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"Granskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Granskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"Granskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"Granskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Söder","forest":"Granskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Granskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Söder","forest":"Granskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Tallskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"Tallskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"Tallskog","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"Tallskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Tallskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"Tallskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"Tallskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Söder","forest":"Tallskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Tallskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Söder","forest":"Tallskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Söder","forest":"Tallskog","veg":"Lingon_grupp","age":"91"},{"geo":"Söder","forest":"Tallskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Barrblandskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"Barrblandskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"Barrblandskog","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"Barrblandskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Söder","forest":"Barrblandskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Barrblandskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Söder","forest":"Barrblandskog","veg":"Lingon_grupp","age":"41-90"},{"geo":"Söder","forest":"Barrblandskog","veg":"Lingon_grupp","age":"91"},{"geo":"Söder","forest":"Barrblandskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Lövblandskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"Lövblandskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"Lövblandskog","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"Lövblandskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Söder","forest":"Lövblandskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Lövblandskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Söder","forest":"Lövblandskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Lövskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"Lövskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"Lövskog","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"Lövskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Lövskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"Lövskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"Lövskog","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Lövskog","veg":"Lingon_grupp","age":"1-40"},{"geo":"Söder","forest":"Lövskog","veg":"Lingon_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Naturbete","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"Naturbete","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"Naturbete","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"Naturbete","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"Naturbete","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"Naturbete","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"Naturbete","veg":"Blåbär_grupp","age":"91"},{"geo":"Söder","forest":"Naturbete","veg":"Blåbär_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"EkBokskog","veg":"Örter_grupp","age":"1-40"},{"geo":"Söder","forest":"EkBokskog","veg":"Örter_grupp","age":"41-90"},{"geo":"Söder","forest":"EkBokskog","veg":"Örter_grupp","age":"91"},{"geo":"Söder","forest":"EkBokskog","veg":"Örter_grupp","age":"allaåldrar"},{"geo":"Söder","forest":"EkBokskog","veg":"Blåbär_grupp","age":"1-40"},{"geo":"Söder","forest":"EkBokskog","veg":"Blåbär_grupp","age":"41-90"},{"geo":"Söder","forest":"EkBokskog","veg":"Blåbär_grupp","age":"91"},{"geo":"Söder","forest":"EkBokskog","veg":"Blåbär_grupp","age":"allaåldrar"}]');function Vt(e,n,t,o){return!e||!n||!t||!o?!1:Zr.some(a=>a.geo===e&&a.forest===n&&a.age===t&&a.veg===o)}const Qr={class:""},Jr={class:""},el={key:0,class:"flex md:gap-2 mt-2 justify-between z-30"},tl={class:"flex gap-2 items-end justify-between w-full mb-2"},nl={class:"flex gap-2"},ol={class:"flex my-1 gap-2 overflow-scroll",id:"scrollbar"},al={key:1,class:"hidden md:flex"},il={key:1,class:"flex my-1 gap-2 overflow-scroll",id:"scrollbar"},rl={key:0,class:"flex gap-2 w-full mb-2"},ll={class:""},sl={key:0,class:"md:flex justify-between items-center pb-2 md:pt-5 md:p-5 md:border-t-[1px] border-neutral-200 dark:border-neutral-700"},ul={class:"flex h-fit shrink-0 gap-1 items-center justify-between"},dl={class:"flex"},cl={class:"hidden md:flex"},gl={key:0},pl={class:"flex justify-center"},fl={key:2},ml={class:"max-w-sm space-y-2 mt-2"},vl={__name:"SpeciesTable",props:{isNormalView:{type:Boolean,default:!1},dataTypeFolder:{type:String,default:"edna"},dataType:{type:String,default:"edna"},grupp:{type:String,default:"Svamp-grupp-släkte"},mat:{type:String,default:"matsvamp"},obs:{type:String,default:"sample_plot_count"},obsLabel:{type:String,default:"Förekomst"},columnVisibilityOverrides:{type:Object,default:()=>({})},filterEdible:{type:Boolean,default:!1},filterPoison:{type:Boolean,default:!1},searchTerm:{type:String,default:""}},emits:["enlarge","update:matsvampFilter","update:giftsvampFilter","update:gruppFilter","update:statusFilter","update:searchTerm"],setup(e,{emit:n}){const t=Ye("(max-width: 767px)"),o=A(()=>t.value||l.isNormalView&&l.dataTypeFolder!=="edna"),a=n,i=W("");let r=null;function s(f){i.value=f,r&&clearTimeout(r),r=setTimeout(()=>{a("update:searchTerm",i.value)},300)}Bn(()=>{r&&clearTimeout(r)});const l=e,d=oa("table"),g=o.value?{RankRed:!1,"Rank matsvamp":!1,"Rank giftsvamp":!1,[l.grupp]:!1,mark:!1,[l.mat]:!1,RL2020kat:!1,Commonname:!1,Scientificname:!1,images:!1,[l.obs]:!1}:{RankRed:!1,"Rank matsvamp":!1,"Rank giftsvamp":!1};l.dataType==="edna"&&(g.mark=!1);const h=W({...g,...l.columnVisibilityOverrides}),c=W([]),u=A(()=>{const f={};Ze.value.forEach(B=>{B.KALKmark&&(f.KALKmark=(f.KALKmark||0)+1),B.ANNANmark&&(f.ANNANmark=(f.ANNANmark||0)+1)});const x=d.value?.tableApi?.getFilteredRowModel()?.rows||[],N={};return x.forEach(B=>{const K=B.original;K.KALKmark&&(N.KALKmark=(N.KALKmark||0)+1),K.ANNANmark&&(N.ANNANmark=(N.ANNANmark||0)+1)}),[{label:`Kalkmark (${N.KALKmark||0}/${f.KALKmark||0})`,value:"KALKmark"},{label:`Vanlig skogsmark (${N.ANNANmark||0}/${f.ANNANmark||0})`,value:"ANNANmark"}]}),p=A(()=>u.value.map(f=>({label:f.label,type:"checkbox",checked:c.value.includes(f.value),onUpdateChecked(x){x?c.value.includes(f.value)||c.value.push(f.value):c.value=c.value.filter(N=>N!==f.value)},onSelect(x){x.preventDefault()}}))),m=A(()=>{const f=["Matsvamp","Giftsvamp"],x={};Ze.value.forEach(K=>{const te=K[l.mat];l.mat==="Nyasvamp-boken"?te&&String(te).toLowerCase()==="x"&&(x.Matsvamp=(x.Matsvamp||0)+1):te==1&&(x.Matsvamp=(x.Matsvamp||0)+1),(K.Giftsvamp||"").toLowerCase()==="x"&&(x.Giftsvamp=(x.Giftsvamp||0)+1)});const N=d.value?.tableApi?.getFilteredRowModel()?.rows||[],B={};return N.forEach(K=>{const te=K.original,re=te[l.mat];(l.mat==="Nyasvamp-boken"?re&&String(re).toLowerCase()==="x":re==1)&&(B.Matsvamp=(B.Matsvamp||0)+1),(te.Giftsvamp||"").toLowerCase()==="x"&&(B.Giftsvamp=(B.Giftsvamp||0)+1)}),f.map(K=>{const te=x[K]||0,re=B[K]||0;return{label:`${K} (${re}/${te})`,value:K}})}),v=W(l.isNormalView?500:10),y=W([]),_=W([]),L=W([]),q=A(()=>ge.value.map(f=>({label:f.label,type:"checkbox",checked:L.value.includes(f.value),onUpdateChecked(x){x?L.value.includes(f.value)||L.value.push(f.value):L.value=L.value.filter(N=>N!==f.value)},onSelect(x){x.preventDefault()}}))),D=A(()=>m.value.map(f=>({label:f.label,type:"checkbox",checked:y.value.includes(f.value),onUpdateChecked(x){x?y.value.includes(f.value)||y.value.push(f.value):y.value=y.value.filter(N=>N!==f.value)},onSelect(x){x.preventDefault()}}))),Q=A(()=>I.value.map(f=>({label:f.label,type:"checkbox",checked:_.value.includes(f.value),onUpdateChecked(x){x?_.value.includes(f.value)||_.value.push(f.value):_.value=_.value.filter(N=>N!==f.value)},onSelect(x){x.preventDefault()}}))),se=A(()=>[{label:"Namn",children:[{label:"A → Ö",onSelect(f){f.preventDefault(),d.value?.tableApi?.setSorting([{id:"Commonname",desc:!1}])}},{label:"Ö → A",onSelect(f){f.preventDefault(),d.value?.tableApi?.setSorting([{id:"Commonname",desc:!0}])}}]},{label:"Vetenskapligt namn",children:[{label:"A → Ö",onSelect(f){f.preventDefault(),d.value?.tableApi?.setSorting([{id:"Scientificname",desc:!1}])}},{label:"Ö → A",onSelect(f){f.preventDefault(),d.value?.tableApi?.setSorting([{id:"Scientificname",desc:!0}])}}]},{label:l.obsLabel||"Förekomst",children:[{label:"Högst → Lägst",onSelect(f){f.preventDefault(),d.value?.tableApi?.setSorting([{id:l.obs,desc:!1}])}},{label:"Lägst → Högst",onSelect(f){f.preventDefault(),d.value?.tableApi?.setSorting([{id:l.obs,desc:!0}])}}]}]),ce=A(()=>[{label:"Grupp",children:q.value},{label:"Matsvamp",children:D.value},{label:"Status",children:Q.value},{label:"Mark",children:p.value}]),ge=A(()=>{const f={};Ze.value.forEach(B=>{const K=B[l.grupp];K&&(f[K]=(f[K]||0)+1)});const x=d.value?.tableApi?.getFilteredRowModel()?.rows||[],N={};return x.forEach(B=>{const te=B.original[l.grupp];te&&(N[te]=(N[te]||0)+1)}),Object.keys(f).map(B=>{const K=f[B]||0,te=N[B]||0;return{label:`${U(B)} (${te}/${K})`,value:B}})}),I=A(()=>{const f=["LC","NT","EN","VU","CR","RE","DD"],x={};Ze.value.forEach(K=>{const te=K.RL2020kat;f.includes(te)?x[te]=(x[te]||0)+1:te===null||te==="0"||te===0||String(te).toUpperCase()==="NE"?x["Ej bedömd"]=(x["Ej bedömd"]||0)+1:String(te).toUpperCase()==="NA"&&(x["Ej tillämplig"]=(x["Ej tillämplig"]||0)+1),K.SIGNAL_art==="S"&&(x.Signalart=(x.Signalart||0)+1)});const N=d.value?.tableApi?.getFilteredRowModel()?.rows||[],B={};return N.forEach(K=>{const te=K.original,re=te.RL2020kat;f.includes(re)?B[re]=(B[re]||0)+1:re===null||re==="0"||re===0||String(re).toUpperCase()==="NE"?B["Ej bedömd"]=(B["Ej bedömd"]||0)+1:String(re).toUpperCase()==="NA"&&(B["Ej tillämplig"]=(B["Ej tillämplig"]||0)+1),te.SIGNAL_art==="S"&&(B.Signalart=(B.Signalart||0)+1)}),[...f.map(K=>{const te=x[K]||0,re=B[K]||0;return{label:`${T(K)} (${re}/${te})`,value:K}}),(()=>{const K=x["Ej bedömd"]||0;return{label:`Ej bedömd (${B["Ej bedömd"]||0}/${K})`,value:"Ej bedömd"}})(),(()=>{const K=x["Ej tillämplig"]||0;return{label:`Ej tillämplig (${B["Ej tillämplig"]||0}/${K})`,value:"Ej tillämplig"}})(),(()=>{const K=x.Signalart||0;return{label:`Signalart (${B.Signalart||0}/${K})`,value:"Signalart"}})()]}),C=W({pageIndex:0,pageSize:10}),S=Rt();function F(f,x){S.selectSpecies(f.original,"edna")}const U=f=>f?f.charAt(0).toUpperCase()+f.slice(1).toLowerCase():"",H=A(()=>je.value.length>0?je.value[0].sample_env_count:0),P=f=>`/images/svampgrupp/${{övrigt:"ovrigt.webp",hattsvamp:"hattsvamp.png",kantarell:"kantarell.webp",sopp:"sopp.png",taggsvamp:"taggsvamp.png",fingersvamp:"fingersvamp.webp",tryffel:"tryffel.webp",skinnsvamp:"skinnsvamp.webp",skålsvamp:"skalsvamp.webp"}[f]||"default-icon.webp"}`,z=f=>({LC:"success",NT:"error",EN:"error",VU:"error",CR:"error",RE:"error",DD:"neutral"})[f]||"neutral",T=f=>{const x={LC:"Livskraftig",NT:"Nära hotad",EN:"Starkt hotad",VU:"Sårbar",CR:"Akut hotad",RE:"Nationellt utdöd",DD:"Kunskapsbrist"};return f===null||f===0||String(f).toUpperCase()==="NE"?"Ej bedömd":String(f).toUpperCase()==="NA"?"Ej tillämplig":x[f]||"Ej bedömd"},R=l.obs.startsWith("Rank"),ee=W(R?[{id:l.obs,desc:!1},{id:"Commonname",desc:!1}]:[{id:l.obs,desc:!0}]),j=_t,he=aa,ie=xe,ue=Gi,be=an,ve=[{accessorKey:"images",header:"",sortable:!1,cell:({row:f})=>{const x=f.getValue("images")||[];return x.length?J("img",{src:x[0],class:"h-14 w-20 object-cover -my-3 rounded-md border border-neutral-100 dark:border-neutral-800",alt:f.original?.Commonname?`${f.original.Commonname} bild`:"Species image",loading:"lazy",decoding:"async",height:300,width:450}):null},meta:{headerText:"Bild"}},{accessorKey:"Commonname",header:({column:f})=>{const x=f.getIsSorted();return J(ie,{color:"neutral",variant:"outline",label:"Namn",icon:x?x==="asc"?"i-lucide-arrow-up-narrow-wide":"i-lucide-arrow-down-wide-narrow":"i-lucide-arrow-up-down",class:"-mx-2.5 ring-muted/50 shadow",onClick:()=>f.toggleSorting(x==="asc")})},cell:({row:f})=>J("div",{class:"text-neutral-700 dark:text-neutral-200 font-semibold truncate text-[16px]"},U(f.getValue("Commonname"))),filterFn:(f,x,N)=>{if(!N)return!0;const B=String(N).toLowerCase(),K=String(f.getValue("Commonname")||"").toLowerCase(),te=String(f.getValue("Scientificname")||"").toLowerCase();return K.includes(B)||te.includes(B)},meta:{headerText:"Namn"}},{accessorKey:"Scientificname",header:({column:f})=>{const x=f.getIsSorted();return J(ie,{color:"neutral",variant:"outline",label:"Latinskt namn",icon:x?x==="asc"?"i-lucide-arrow-up-narrow-wide":"i-lucide-arrow-down-wide-narrow":"i-lucide-arrow-up-down",class:"-mx-2.5 ring-muted/50 shadow",onClick:()=>f.toggleSorting(x==="asc")})},cell:({row:f})=>J("div",{class:"truncate  text-[16px]"},f.getValue("Scientificname")),meta:{headerText:"Latinskt namn"}},{accessorKey:l.grupp,header:()=>J(ue,{items:q.value,content:{align:"start"},ui:{content:"w-48"}},{default:()=>J(ie,{label:"Grupp",variant:"outline",color:"neutral",icon:"i-lucide-list-filter",class:"-mx-2.5 ring-muted/50 shadow"})}),filterFn:(f,x,N)=>!N||N.length===0?!0:N.includes(f.getValue(x)),cell:({row:f})=>{const x=f.getValue(l.grupp);return x!=="Saknas"?J("img",{src:P(x),alt:`${x||"Svamp"} ikon`,class:"w-6",loading:"lazy",decoding:"async"}):J(be,{name:"heroicons:x-mark-20-solid",class:"size-7"})},meta:{headerText:"Grupp"}},{accessorKey:"mark",enableHiding:l.dataType!=="edna",header:()=>J(ue,{items:p.value,content:{align:"start"},ui:{content:"w-48"}},{default:()=>J(ie,{label:"Mark",variant:"outline",color:"neutral",icon:"i-lucide-list-filter",class:"-mx-2.5 ring-muted/50 shadow"})}),filterFn:(f,x,N)=>{if(!N||N.length===0)return!0;let B=!1;return N.includes("KALKmark")&&f.original.KALKmark&&(B=!0),N.includes("ANNANmark")&&f.original.ANNANmark&&(B=!0),B},cell:({row:f})=>J("div",{class:"flex items-center space-x-1"},[f.original.KALKmark&&J(j,{color:"kalkmark",variant:"subtle"},()=>"Kalkmark"),f.original.ANNANmark&&J(j,{color:"vanligmark",variant:"subtle"},()=>"Vanlig skogsmark")].filter(Boolean)),meta:{headerText:"Mark"}},{accessorKey:l.mat,header:()=>J(ue,{items:D.value,content:{align:"start"},ui:{content:"w-48"}},{default:()=>J(ie,{label:"Matsvamp",variant:"outline",color:"neutral",icon:"i-lucide-list-filter",class:"-mx-2.5 ring-muted/50 shadow"})}),filterFn:(f,x,N)=>{if(!N||N.length===0)return!0;let B=!1;return N.includes("Matsvamp")&&(l.mat==="Nyasvamp-boken"?B=B||f.getValue(x)?.toLowerCase()==="x":B=B||f.getValue(x)===1),N.includes("Giftsvamp")&&(B=B||(f.original.Giftsvamp||"").toLowerCase()==="x"),B},cell:({row:f})=>J("div",{class:"flex gap-1"},[(l.mat==="Nyasvamp-boken"?f.getValue(l.mat)?.toLowerCase()==="x":f.getValue(l.mat)===1)&&J(j,{color:"warning",variant:"subtle"},()=>"Matsvamp"),f.original.Giftsvamp?.toLowerCase()==="x"&&J(j,{color:"poison",variant:"subtle"},()=>"Giftsvamp")].filter(Boolean)),meta:{headerText:"Matsvamp"}},{accessorKey:"RL2020kat",header:()=>J(ue,{items:Q.value,content:{align:"start"},ui:{content:"w-48"}},{default:()=>J(ie,{label:"Status",variant:"outline",color:"neutral",icon:"i-lucide-list-filter",class:"-mx-2.5 ring-muted/50 shadow"})}),filterFn:(f,x,N)=>{if(!N||N.length===0)return!0;const B=f.getValue(x);return N.some(K=>K==="Ej bedömd"?B===null||B===0||B==="0"||String(B).toUpperCase()==="NE":K==="Ej tillämplig"?String(B).toUpperCase()==="NA":K==="Signalart"?f.original.SIGNAL_art==="S":K===B)},cell:({row:f})=>{const x=f.getValue("RL2020kat"),N=J(j,{color:z(x),variant:"subtle"},()=>T(x)),B=f.original.SIGNAL_art==="S"?J(j,{color:"signal",variant:"subtle"},"Signalart"):null;return J("div",{class:"flex gap-1"},[N,B].filter(Boolean))},meta:{headerText:"Status"}},{accessorKey:l.obs,header:({column:f})=>{const x=f.getIsSorted();return J(ie,{color:"neutral",variant:"outline",label:l.obsLabel,icon:x?x==="asc"?"i-lucide-arrow-up-narrow-wide":"i-lucide-arrow-down-wide-narrow":"i-lucide-arrow-up-down",class:"-mx-2.5 ring-muted/50 shadow",onClick:()=>f.toggleSorting(x==="asc")})},cell:({row:f})=>{const x=f.getValue(l.obs);return l.obs.startsWith("Rank")?x===3?J("span",{class:"text-red-700"},"Sällsynt"):x===2?J("span",{class:"text-yellow-600"},"Ovanlig"):null:J(j,{variant:"subtle",color:"secondary"},()=>`${x} skogar`)},meta:{headerText:l.obsLabel}}],_e=[{header:"Namn",cell:({row:f})=>{const x=f.original.images||[];let N=null;const B=l.filterPoison?f.original["Rank giftsvamp"]:l.filterEdible?f.original["Rank matsvamp"]:f.original.RankRed;B===3?N=J(be,{name:"codicon:circle-large-filled",class:"text-red-700 ml-1 size-3.5"}):B===2&&(N=J(be,{name:"codicon:color-mode",class:"text-yellow-600 ml-1 size-3.5"}));const K=x.length?J("img",{src:x[0],alt:f.original.Commonname||"Svampbild",class:"h-20 w-26 object-cover rounded border-[0.5px] border-neutral-200 dark:border-neutral-800 md:ml-2",loading:"lazy",decoding:"async",height:300,width:450}):J("div",{class:"h-20 w-26 rounded-sm flex items-center justify-center bg-neutral-100 dark:bg-neutral-800 md:ml-2"},[J("img",{src:P(f.original[l.grupp]),alt:`${f.original[l.grupp]||"Svamp"} icon`,class:"w-6 h-6",loading:"lazy",decoding:"async"})]),te=J("div",{class:"flex items-center text-neutral-700 dark:text-neutral-200"},[J("div",{class:"flex-1 min-w-0"},[J("div",{class:"text-lg font-semibold whitespace-normal break-words"},[U(f.original.Commonname),N]),J("small",{class:"text-xs text-neutral-500 dark:text-neutral-400 italic block truncate max-w-48"},f.original.Scientificname)])]),re=f.original[l.mat];(l.mat==="Nyasvamp-boken"?re&&String(re).toLowerCase()==="x":re===1)&&J(j,{color:"warning",variant:"subtle",size:"sm"},()=>"Matsvamp");const M=J("div",{class:"flex flex-wrap gap-2 mt-2 "},[f.original.RL2020kat!=="LC"&&f.original.RL2020kat!=="NA"&&f.original.RL2020kat!=="NE"&&f.original.RL2020kat!=="0"?J(j,{color:z(f.original.RL2020kat),variant:"subtle",size:"md"},()=>T(f.original.RL2020kat)):null,f.original.SIGNAL_art==="S"?J(j,{color:"signal",variant:"subtle",size:"md"},()=>"Signalart"):null,l.dataType==="edna"?J(he,{modelValue:f.getValue(l.obs),max:H.value,color:"secondary",size:"sm",status,indeterminate:!1,"onUpdate:modelValue":()=>{}}):null].filter(Boolean));return J("div",{class:"flex space-x-4 items-start"},[K,J("div",{class:"flex flex-col flex-1"},[te,M])])},meta:{headerText:"Namn"}},...ve.map(f=>f.accessorKey==="mark"?{...f,enableHiding:l.dataType!=="edna"}:f)],Ce=A(()=>o.value?_e:ve),Oe=A(()=>({thead:o.value?"hidden":"hidden md:table-header-group",tbody:o.value?"divide-none":"divide-none md:divide-dotted",td:o.value?"px-0 pt-2 pb-3 cursor-pointer":"px-0 md:px-4 md:pt-4 md:pb-4 pt-2 pb-3"})),Ge=W(0),$e=W(0),je=W([]),Xe=W(!0),fn=W([]),fo=(f,x,N)=>{const B=(x[0]-f[0])/(N-1),K=(x[1]-f[1])/(N-1),te=(x[2]-f[2])/(N-1),re=[];for(let ye=0;ye<N;ye++){const M=Math.round(f[0]+B*ye),Fe=Math.round(f[1]+K*ye),Se=Math.round(f[2]+te*ye);re.push(`rgb(${M}, ${Fe}, ${Se})`)}return re},st=()=>{je.value=[],Ge.value=0,$e.value=0,fn.value=[]},mo=async()=>{if([we.geography,we.forestType,we.standAge,we.vegetationType].some(N=>!N)){st(),Xe.value=!1;return}if(l.dataTypeFolder==="edna"&&!Vt(we.geography,we.forestType,we.standAge,we.vegetationType)){st(),Xe.value=!1;return}const x=`${l.dataType}-${we.geography}-${we.forestType}-${we.standAge}-${we.vegetationType}.json`;try{const N=await fetch(`/${l.dataTypeFolder}/${x}`);if(!N.ok){if(N.status===404){st(),Xe.value=!1;return}throw new Error(`Failed to fetch data from ${x}`)}je.value=await N.json(),Xe.value=!1,je.value.forEach((re,ye)=>{re.colorIndex=ye});const B=je.value.length;Ge.value=Math.floor(B*.1),$e.value=B-Ge.value;const K=fo([82,82,82],[212,212,212],Ge.value),te=vo($e.value);fn.value=[...K,...te]}catch(N){console.error("Error fetching data:",N),st(),Xe.value=!1}};function vo(f){const x=[];for(let K=0;K<f;K++){const te=45+300/(f-1||1)*K;x.push(`hsl(${te%360}, 70%, 50%)`)}return x}const we=Be();de(()=>[we.geography,we.forestType,we.standAge,we.vegetationType],()=>{Xe.value=!0,mo()},{immediate:!0});const mn=W(""),Ze=A(()=>{let f=je.value;return mn.value&&(f=f.filter(x=>Object.values(x).some(N=>String(N).toLowerCase().includes(mn.value.toLowerCase())))),l.filterEdible?f=f.filter(x=>{const N=x[l.mat];return N&&String(N).toLowerCase()==="x"}):l.filterPoison&&(f=f.filter(x=>{const N=x[l.mat];return!(N&&String(N).toLowerCase()==="x")})),f}),ho=A(()=>Ze.value);de(v,f=>{let x=f==="Alla"?dt.value||je.value.length:Number(f);C.value.pageSize=x,C.value.pageIndex=0,d.value?.tableApi&&(d.value.tableApi.setPageSize(x),d.value.tableApi.setPageIndex(0))});const bo=A(()=>d.value?.tableApi?.getPaginationRowModel().rows||[]),ut=A(()=>d.value?.tableApi?.getState().pagination||{pageIndex:0,pageSize:10}),yo=A(()=>ut.value.pageIndex*ut.value.pageSize+1),So=A(()=>{const f=ut.value.pageIndex*ut.value.pageSize+bo.value.length;return f>dt.value?dt.value:f}),dt=A(()=>d.value?.tableApi?.getFilteredRowModel()?.rows.length||0),vn=A(()=>{const f=l.searchTerm?[{id:"Commonname",value:l.searchTerm}]:[];return y.value&&y.value.length>0&&f.push({id:l.mat,value:y.value}),_.value&&_.value.length>0&&f.push({id:"RL2020kat",value:_.value}),L.value&&L.value.length>0&&f.push({id:l.grupp,value:L.value}),c.value&&c.value.length>0&&f.push({id:"mark",value:c.value}),f});return de(vn,f=>{d.value?.tableApi&&d.value.tableApi.setColumnFilters(f)}),de(vn,f=>{const N=f.find(ye=>ye.id===l.mat)?.value??[];a("update:matsvampFilter",N.includes("Matsvamp")),a("update:giftsvampFilter",N.includes("Giftsvamp"));const K=f.find(ye=>ye.id===l.grupp)?.value??[];a("update:gruppFilter",K);const re=f.find(ye=>ye.id==="RL2020kat")?.value??[];a("update:statusFilter",re)},{deep:!0,immediate:!0}),(f,x)=>{const N=Hn,B=qn,K=On,te=Xr,re=po,ye=Un;return b(),V("div",Qr,[$("div",Jr,[o.value?O("",!0):(b(),V("div",el,[$("div",tl,[w(N,{"model-value":k(d)?.tableApi?.getColumn("Commonname")?.getFilterValue()||"",class:"max-w-sm min-w-[12ch] hidden md:block",placeholder:"Sök på namn",icon:"i-heroicons-magnifying-glass","onUpdate:modelValue":x[0]||(x[0]=M=>{k(d)?.tableApi?.getColumn("Commonname")?.setFilterValue(M),s(M)}),variant:"ghost"},null,8,["model-value"]),$("div",nl,[$("div",ol,[c.value.length?(b(!0),V(pe,{key:0},fe(c.value,M=>(b(),V("span",{key:"mark-"+M},[w(k(j),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:M==="KALKmark"?"kalkmark":M==="ANNANmark"?"vanligmark":"neutral",class:"cursor-pointer mb-2 md:mb-0",onClick:Fe=>c.value=c.value.filter(Se=>Se!==M)},{default:E(()=>[oe(ne(M==="KALKmark"?"Kalkmark":M==="ANNANmark"?"Vanlig skogsmark":U(M)),1)]),_:2},1032,["color","onClick"])]))),128)):O("",!0),y.value.length?(b(!0),V(pe,{key:1},fe(y.value,M=>(b(),V("span",{key:"svamp-"+M},[w(k(j),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:M==="Matsvamp"?"warning":M==="Giftsvamp"?"poison":"neutral",class:"cursor-pointer mb-2 md:mb-0",onClick:Fe=>y.value=y.value.filter(Se=>Se!==M)},{default:E(()=>[oe(ne(U(M)),1)]),_:2},1032,["color","onClick"])]))),128)):O("",!0),L.value.length?(b(!0),V(pe,{key:2},fe(L.value,M=>(b(),V("span",{key:"grupp-"+M},[w(k(j),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:"neutral",class:"cursor-pointer mb-2 md:mb-0",onClick:Fe=>L.value=L.value.filter(Se=>Se!==M)},{default:E(()=>[oe(ne(U(M)),1)]),_:2},1032,["onClick"])]))),128)):O("",!0),_.value.length?(b(!0),V(pe,{key:3},fe(_.value,M=>(b(),V("span",{key:"status-"+M},[w(k(j),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:M==="Signalart"?"signal":z(M),class:"cursor-pointer mb-2 md:mb-0",onClick:Fe=>_.value=_.value.filter(Se=>Se!==M)},{default:E(()=>[oe(ne(M==="Signalart"?"Signalart":T(M)),1)]),_:2},1032,["color","onClick"])]))),128)):O("",!0)]),o.value?O("",!0):(b(),G(k(ue),{key:0,class:"flex",items:k(d)?.tableApi?.getAllColumns()?.filter(M=>M.getCanHide())?.map(M=>({label:M.columnDef.meta?.headerText||k(Dn)(M.id),type:"checkbox",checked:M.getIsVisible(),onUpdateChecked(Fe){k(d)?.tableApi?.getColumn(M.id)?.toggleVisibility(!!Fe)},onSelect(Fe){Fe?.preventDefault()}})),content:{align:"end"}},{default:E(()=>[w(k(ie),{label:"Kolumner",color:"neutral",variant:"ghost","trailing-icon":"i-lucide-chevron-down"})]),_:1},8,["items"])),e.isNormalView?O("",!0):(b(),V("div",al,[w(B,{modelValue:v.value,"onUpdate:modelValue":x[1]||(x[1]=M=>v.value=M),items:[{value:10,label:"10 rader"},{value:20,label:"20 rader"},{value:30,label:"30 rader"},{value:40,label:"40 rader"},{value:50,label:"50 rader"},{value:"Alla",label:"Alla"}],"item-value":"value","item-label":"label",placeholder:"Rader per sida",variant:"ghost"},null,8,["modelValue"])]))])])])),o.value?(b(),V("div",il,[c.value.length?(b(!0),V(pe,{key:0},fe(c.value,M=>(b(),V("span",{key:"mark-"+M},[w(k(j),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:M==="KALKmark"?"kalkmark":M==="ANNANmark"?"vanligmark":"neutral",class:"cursor-pointer mb-2 md:mb-0",onClick:Fe=>c.value=c.value.filter(Se=>Se!==M)},{default:E(()=>[oe(ne(M==="KALKmark"?"Kalkmark":M==="ANNANmark"?"Vanlig skogsmark":U(M)),1)]),_:2},1032,["color","onClick"])]))),128)):O("",!0),y.value.length?(b(!0),V(pe,{key:1},fe(y.value,M=>(b(),V("span",{key:"svamp-"+M},[w(k(j),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:M==="Matsvamp"?"warning":M==="Giftsvamp"?"poison":"neutral",class:"cursor-pointer mb-2 md:mb-0",onClick:Fe=>y.value=y.value.filter(Se=>Se!==M)},{default:E(()=>[oe(ne(U(M)),1)]),_:2},1032,["color","onClick"])]))),128)):O("",!0),L.value.length?(b(!0),V(pe,{key:2},fe(L.value,M=>(b(),V("span",{key:"grupp-"+M},[w(k(j),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:"neutral",class:"cursor-pointer mb-2 md:mb-0",onClick:Fe=>L.value=L.value.filter(Se=>Se!==M)},{default:E(()=>[oe(ne(U(M)),1)]),_:2},1032,["onClick"])]))),128)):O("",!0),_.value.length?(b(!0),V(pe,{key:3},fe(_.value,M=>(b(),V("span",{key:"status-"+M},[w(k(j),{"trailing-icon":"i-heroicons-x-mark-solid",variant:"subtle",color:M==="Signalart"?"signal":z(M),class:"cursor-pointer mb-2 md:mb-0",onClick:Fe=>_.value=_.value.filter(Se=>Se!==M)},{default:E(()=>[oe(ne(M==="Signalart"?"Signalart":T(M)),1)]),_:2},1032,["color","onClick"])]))),128)):O("",!0)])):O("",!0)]),o.value?(b(),V("div",rl,[w(k(ue),{size:k(t)?"xl":"md",items:se.value,content:{align:"start"}},{default:E(()=>[w(k(ie),{variant:k(t)?"soft":"ghost",icon:"i-lucide-arrow-up-down",size:k(t)?"xl":"md",label:(k(t),null),color:"neutral",trailing:""},null,8,["variant","size","label"])]),_:1},8,["size","items"]),w(k(ue),{size:k(t)?"xl":"md",items:ce.value,content:{align:"start"}},{default:E(()=>[w(k(ie),{variant:k(t)?"soft":"ghost",icon:"i-lucide-list-filter",size:k(t)?"xl":"md",label:(k(t),null),color:"neutral"},null,8,["variant","size","label"])]),_:1},8,["size","items"]),w(N,{variant:k(t)?"soft":"ghost","model-value":k(d)?.tableApi?.getColumn("Commonname")?.getFilterValue()||"",class:"w-full min-w-[12ch]",placeholder:"Sök på namn",size:k(t)?"xl":"md",icon:"i-heroicons-magnifying-glass","onUpdate:modelValue":x[2]||(x[2]=M=>{k(d)?.tableApi?.getColumn("Commonname")?.setFilterValue(M),s(M)})},null,8,["variant","model-value","size"])])):O("",!0),w(K,{ui:{border:"border-muted/50"},class:"mb-2"}),Ze.value?(b(),V("div",{key:1,class:X([(e.isNormalView,"")])},[$("div",ll,[w(te,{ref_key:"table",ref:d,"column-visibility":h.value,"onUpdate:columnVisibility":x[3]||(x[3]=M=>h.value=M),pagination:C.value,"onUpdate:pagination":x[4]||(x[4]=M=>C.value=M),data:ho.value,columns:Ce.value,sticky:"",loading:Xe.value,sorting:ee.value,"onUpdate:sorting":x[5]||(x[5]=M=>ee.value=M),onSelect:F,autoResetAll:!0,"pagination-options":k(t)&&!e.isNormalView?!1:e.isNormalView?void 0:{getPaginationRowModel:k(Er)()},class:X([{"":e.isNormalView},"rounded-sm"]),ui:Oe.value},null,8,["column-visibility","pagination","data","columns","loading","sorting","pagination-options","class","ui"]),o.value?O("",!0):(b(),V("div",sl,[$("div",ul,[$("h1",dl,[x[8]||(x[8]=oe(" Visar ",-1)),$("span",cl,"  "+ne(yo.value)+" till  ",1),oe(" "+ne(So.value)+" av "+ne(dt.value)+" arter ",1)]),e.isNormalView?(b(),G(k(ie),{key:0,class:"md:hidden",color:"neutral",variant:"soft",label:"Visa alla",size:"md",onClick:x[6]||(x[6]=M=>a("enlarge"))})):O("",!0)]),$("div",null,[!e.isNormalView&&v.value!=="Alla"&&!k(t)?(b(),V("div",gl,[$("div",pl,[w(re,{"active-variant":"ghost",variant:"ghost","default-page":(k(d)?.tableApi?.getState().pagination.pageIndex||0)+1,"items-per-page":k(d)?.tableApi?.getState().pagination.pageSize,total:k(d)?.tableApi?.getFilteredRowModel().rows.length,"onUpdate:page":x[7]||(x[7]=M=>k(d)?.tableApi?.setPageIndex(M-1))},null,8,["default-page","items-per-page","total"])])])):O("",!0)])]))])],2)):(b(),V("div",fl,[$("div",ml,[w(ye,{class:"h-4 w-full rounded"}),w(ye,{class:"h-4 w-[85%] rounded"})])]))])}}},Lt=Ne(vl,[["__scopeId","data-v-6cfb80ec"]]),hl={key:0,class:"flex justify-end gap-2 mb-2 mx-2"},bl=Re({__name:"barChart",props:{searchTerm:{type:String,default:""},matsvampFilter:{type:Boolean,default:!1},giftsvampFilter:{type:Boolean,default:!1},gruppFilter:{type:Array,default:()=>[]},groupKey:{type:String,default:"Svamp-grupp-släkte"},statusFilter:{type:Array,default:()=>[]}},setup(e){const n=e,t=["100%","200%","400%","800%"],o=W(0),a=A(()=>t[o.value]),i=W([]),r=Be();function s(C){return C.sort((S,F)=>F.sample_plot_count-S.sample_plot_count)}function l(C,S,F){if(F<=0)return[];const U=(S[0]-C[0])/(F-1||1),H=(S[1]-C[1])/(F-1||1),P=(S[2]-C[2])/(F-1||1),z=[];for(let T=0;T<F;T++){const R=Math.round(C[0]+U*T),ee=Math.round(C[1]+H*T),j=Math.round(C[2]+P*T);z.push(`rgb(${R}, ${ee}, ${j})`)}return z}function d(C){const S=[];for(let H=0;H<C;H++){const P=45+300/(C-1||1)*H;S.push(`hsl(${P%360}, 70%, 50%)`)}return S}async function g(){const C=[r.geography,r.forestType,r.standAge,r.vegetationType];if(C.some(F=>!F)){i.value=[];return}if(!Vt(...C)){i.value=[];return}const S=`edna-${r.geography}-${r.forestType}-${r.standAge}-${r.vegetationType}.json`;try{const F=await fetch(`/edna/${S}`);if(!F.ok){if(F.status===404){i.value=[];return}throw new Error(`Failed to fetch ${S}`)}let U=await F.json();U=s(U);const H=U.length,P=Math.floor(H*.1),z=H-P,T=l([82,82,82],[212,212,212],P),R=d(z),ee=[...T,...R];i.value=U.map((j,he)=>({...j,fillColor:ee[he]||"var(--ui-primary)"}))}catch(F){console.error("Error fetching chart data:",F),i.value=[]}}et(g),de(()=>[r.geography,r.forestType,r.standAge,r.vegetationType],g,{immediate:!0});const h=(C,S)=>S,c=C=>C.sample_plot_count,u=(C,S)=>{const F=_.value[S];if(!F)return"";const U=n.searchTerm.trim().toLowerCase(),H=String(F.Commonname||"").toLowerCase(),P=String(F.Scientificname||"").toLowerCase(),z=U?H.includes(U)||P.includes(U):!0,T=n.statusFilter.length>0,R=n.matsvampFilter||n.giftsvampFilter,ee=n.gruppFilter.length>0;if(!T&&!R&&!ee&&n.searchTerm.trim()!=="")return z?p(F.Commonname):"";const j=T&&n.statusFilter.includes("Signalart")&&F.SIGNAL_art==="S",he=n.statusFilter.filter(Oe=>Oe!=="Signalart"),ie=T&&n.statusFilter.includes("Ej bedömd")&&(F.RL2020kat===null||F.RL2020kat===0||F.RL2020kat==="0"||String(F.RL2020kat).toUpperCase()==="NE"),ue=T&&n.statusFilter.includes("Ej tillämplig")&&String(F.RL2020kat).toUpperCase()==="NA",be=T?j||he.includes(F.RL2020kat):!1,ve=n.matsvampFilter?F.matsvamp==1:!1,_e=n.giftsvampFilter?(F.Giftsvamp||"").toLowerCase()==="x":!1,Ce=ee?n.gruppFilter.includes(F[n.groupKey]):!1;return T?!R&&!ee?z&&(j||be||ie||ue)?p(F.Commonname):"":z&&(j||be||ie||ue)&&(R?ve||_e:!0)&&(ee?Ce:!0)?p(F.Commonname):"":R||ee?R&&!ee?z&&(ve||_e)?p(F.Commonname):"":!R&&ee?z&&Ce?p(F.Commonname):"":z&&(ve||_e)&&Ce?p(F.Commonname):"":""};function p(C){return C?C.charAt(0).toUpperCase()+C.slice(1):""}const m=W(null);function v(C){if(!C)return m.value=null,'<div class="p-2 text-sm text-neutral-500">Ingen data</div>';m.value=C;const S=C.matsvamp==1?'<div class="font-md bg-yellow-50 border border-yellow-200 text-yellow-500 text-xs rounded-md py-0.5 px-1">Matsvamp</div>':"",F=C.Giftsvamp==="x"?'<div class="font-md bg-lime-50 border border-lime-200 text-lime-500 text-xs rounded-md py-0.5 px-1">Giftsvamp</div>':"",U={NT:"Nära hotad",EN:"Starkt hotad",VU:"Sårbar",CR:"Akut hotad",DD:"Kunskapsbrist",RE:"Nationellt utdöd"},H=U[C.RL2020kat]?`<div class="font-md bg-rose-50 border border-rose-200 text-rose-500 text-xs rounded-md py-0.5 px-1">${U[C.RL2020kat]}</div>`:"",P=C.SIGNAL_art==="S"?'<div class="font-md bg-teal-50 border border-teal-200 text-teal-500 text-xs rounded-md py-0.5 px-1">Signalarter</div>':"";return`
    <div class="p-2">
      <img src="/images/svampgrupp/${C["Svamp-grupp-släkte"]}.png" class="h-5 mb-1" />
      <div class="text-sm flex gap-1">
        <strong>${p(C.Commonname)}</strong> <em>${p(C.Scientificname)}</em>
      </div>
      <div class="text-sm text-neutral-500">
        Påträffad i ${C.sample_plot_count} av ${C.sample_env_count} skogar
      </div>
      <div class="flex gap-1 mt-1">
        ${S} ${F} ${H} ${P}
      </div>
    </div>
  `}const y={[sn.selectors.bar]:v},_=A(()=>{const C="#d4d4d4";return i.value.map(S=>{if(ce.value&&S.Scientificname===se.selectedSpecies?.Scientificname)return{...S,barColor:"#b1835e"};const F=n.searchTerm.trim().toLowerCase(),U=String(S.Commonname||"").toLowerCase(),H=String(S.Scientificname||"").toLowerCase(),P=F?U.includes(F)||H.includes(F):!0,z=n.statusFilter.length>0,T=n.matsvampFilter||n.giftsvampFilter,R=n.gruppFilter.length>0;if(!z&&!T&&!R&&n.searchTerm.trim()!=="")return{...S,barColor:P?"#8b5cf6":C};const ee=z&&n.statusFilter.includes("Signalart")&&S.SIGNAL_art==="S",j=n.statusFilter.filter(Ce=>Ce!=="Signalart"),he=z&&n.statusFilter.includes("Ej bedömd")&&(S.RL2020kat===null||S.RL2020kat===0||S.RL2020kat==="0"||String(S.RL2020kat).toUpperCase()==="NE"),ie=z&&n.statusFilter.includes("Ej tillämplig")&&String(S.RL2020kat).toUpperCase()==="NA",ue=z?ee||j.includes(S.RL2020kat):!1,be=n.matsvampFilter?S.matsvamp==1:!1,ve=n.giftsvampFilter?(S.Giftsvamp||"").toLowerCase()==="x":!1,_e=R?n.gruppFilter.includes(S[n.groupKey]):!1;if(z){if(!T&&!R)return P&&ee?{...S,barColor:"#14b8a6"}:P&&(ee||ue||he||ie)?ee?{...S,barColor:"#14b8a6"}:S.RL2020kat==="LC"?{...S,barColor:"#22c55e"}:["NT","EN","VU","CR"].includes(S.RL2020kat)?{...S,barColor:"#ef4444"}:he||ie?{...S,barColor:"#737373"}:{...S,barColor:"#1f2937"}:{...S,barColor:C};if(P&&(ee||ue||he||ie)&&(T?be||ve:!0)&&(R?_e:!0)){if(ee)return{...S,barColor:"#14b8a6"};if(j.length>0)return S.RL2020kat==="LC"?{...S,barColor:"#22c55e"}:["NT","EN","VU","CR"].includes(S.RL2020kat)?{...S,barColor:"#ef4444"}:he||ie?{...S,barColor:"#737373"}:{...S,barColor:"#1f2937"};if(n.matsvampFilter&&be)return{...S,barColor:"#eab308"};if(n.giftsvampFilter&&ve)return{...S,barColor:"#84cc16"};if(R&&_e)return{...S,barColor:"#000000"}}return{...S,barColor:C}}if(T||R){if(T&&!R)return P&&be?{...S,barColor:"#eab308"}:P&&ve?{...S,barColor:"#84cc16"}:{...S,barColor:C};if(!T&&R)return P&&_e?{...S,barColor:"#000000"}:{...S,barColor:C};if(P&&(be||ve)&&_e){if(be)return{...S,barColor:"#eab308"};if(ve)return{...S,barColor:"#84cc16"}}return{...S,barColor:C}}return{...S,barColor:S.fillColor||"var(--ui-primary)"}})}),L=C=>C.barColor,q=A(()=>_.value.length>0);de(_,C=>{C.length||(m.value=null)});function D(){o.value<t.length-1&&o.value++}function Q(){o.value>0&&o.value--}const se=Rt(),ce=A(()=>se.selectedSpecies!==null),ge=Ye("(max-width: 767px)");function I(C){m.value?se.selectSpecies(m.value,"edna"):console.log("No datum available from tooltip.")}return(C,S)=>{const F=xe;return b(),V("div",null,[k(ge)?O("",!0):(b(),V("div",hl,[w(F,{onClick:Q,icon:"i-heroicons-magnifying-glass-minus",color:"neutral",variant:"ghost"}),w(F,{onClick:D,icon:"i-heroicons-magnifying-glass-plus",color:"neutral",variant:"ghost"})])),k(ge)?O("",!0):(b(),V("div",{key:1,class:X(["w-full overflow-y-auto overflow-x-scroll",{"bar-chart-container":o.value===0}]),onClick:I},[w(k(To),{data:_.value,width:a.value,height:"200"},{default:E(()=>[w(k(Qa),{data:_.value,x:h,y:c,color:L,barPadding:.1},null,8,["data"]),w(k(Sn),{gridLine:!1,type:"x",tickTextAnchor:"start",tickTextAngle:"30",numTicks:_.value.length,tickTextFitMode:"trim",tickTextWidth:150,tickTextAlign:"left","tick-format":u},null,8,["numTicks"]),w(k(Sn),{type:"y",label:"Antal skogar",gridLine:!1}),q.value?(b(),G(k(ei),{key:0,triggers:y,followCursor:!0})):O("",!0),q.value?(b(),G(k(Ya),{key:1,color:L,template:v})):O("",!0)]),_:1},8,["data","width"])],2))])}}}),yl=Object.assign(Ne(bl,[["__scopeId","data-v-d920ae28"]]),{__name:"BarChart"}),It=ia("tabs",{state:()=>({componentTabs:{EdnaComponent:"columnChart",RedlistedComponent:"grid",FullscreenEdible:"grid",FullscreenPoison:"grid"}}),getters:{getActiveTab:e=>n=>e.componentTabs[n]||"grid"},actions:{setActiveTab(e,n){this.componentTabs[e]=n}}}),Sl={class:"md:flex justify-between relative"},wl={class:"md:flex gap-4"},kl={class:"md:mt-0 mt-1 mb-1 md:mb-2"},_l={class:"text-3xl font-medium flex items-center text-secondary-500"},Cl={class:"flex gap-2"},xl={class:"text-md text-neutral-500"},Rl={class:"justify-between hidden"},$l={class:"flex gap-3 items-start"},Fl={key:0,class:""},Pl={key:1,class:""},Vl=Re({__name:"EdnaComponent",props:{isNormalView:{type:Boolean}},emits:["enlarge"],setup(e,{emit:n}){const t=W(!1),o=W(!1),a=W([]),i=W([]),r=W(""),s=W(!0),l=n,d=It(),g=A({get:()=>ge.value?"spatialForest":d.getActiveTab("EdnaComponent"),set:S=>{ge.value||d.setActiveTab("EdnaComponent",S)}}),h=[{label:"Diagram",icon:"material-symbols:bar-chart",value:"columnChart"},{label:"Tabell",icon:"material-symbols:table-outline",value:"spatialForest"}],c=Be(),{geography:u,forestType:p,standAge:m,vegetationType:v}=ra(c),y=A(()=>u.value),_=A(()=>p.value),L=A(()=>m.value),q=A(()=>v.value),D=W([]),Q=A(()=>D.value.length),se=A(()=>D.value.length>0&&D.value[0].sample_env_count||0),ce=W("100%"),ge=Ye("(max-width: 767px)"),I=A(()=>({mark:!1,...ge.value?{images:!1}:{}}));async function C(S,F,U,H){if(!S||!F||!U||!H){D.value=[];return}if(!Vt(S,F,U,H)){D.value=[];return}const P=`edna-${S}-${F}-${U}-${H}.json`;try{const z=await fetch(`/edna/${P}`);if(!z.ok){if(z.status===404){D.value=[];return}throw new Error(`Failed to fetch ${P}`)}const T=await z.json();T.sort((R,ee)=>ee.sample_plot_count-R.sample_plot_count),D.value=T}catch(z){console.error("Error fetching data:",z),D.value=[]}}return de(()=>[u.value,p.value,m.value,v.value],([S,F,U,H])=>{S&&F&&U&&H&&C(S,F,U,H)},{immediate:!0}),(S,F)=>{const U=xe,H=Ee,P=_t,z=$t,T=Lt,R=yl,ee=tt;return b(),V("div",null,[w(ee,{class:"rounded-none sm:rounded-lg",variant:"ghost"},{default:E(()=>[$("div",Sl,[w(U,{color:"neutral",variant:"soft",size:"xl",onClick:F[0]||(F[0]=j=>S.$emit("enlarge")),class:X([S.isNormalView?"hidden":"md:hidden","rounded-full absolute top-0 right-0"]),icon:S.isNormalView?"":"i-heroicons-x-mark-solid"},null,8,["class","icon"]),$("div",wl,[$("div",kl,[$("div",_l,[w(H,{name:"solar:dna-linear",class:"mr-2"}),F[10]||(F[10]=$("h1",{class:"truncate"},"Alla mykorrhizasvampar",-1))]),$("div",Cl,[$("h1",xl,ne(Q.value)+" arter baserat på "+ne(se.value)+" skogar",1),se.value<10?(b(),G(P,{key:0,icon:se.value<10?"i-cuida-warning-outline":void 0,size:"md",color:se.value<10?"warning":"secondary",variant:"subtle",class:"h-fit flex"},{default:E(()=>[oe(ne(se.value<10?"Få prov":null),1)]),_:1},8,["icon","color"])):O("",!0)])]),$("div",Rl,[w(z,{modelValue:g.value,"onUpdate:modelValue":F[1]||(F[1]=j=>g.value=j),items:h,class:"w-full",color:"neutral",variant:"link","unmount-on-hide":!1},null,8,["modelValue"])])]),$("div",$l,[w(U,{class:"hidden md:flex h-fit ring-muted/60",color:"neutral",variant:"outline",size:"sm",onClick:F[2]||(F[2]=j=>s.value=!s.value),label:s.value?"Dölj diagram":"Visa diagram"},null,8,["label"])])]),w(ze,{name:"fade",mode:"out-in",class:"md:min-h-[550px] min-h-full"},{default:E(()=>[g.value==="spatialForest"?(b(),V("div",Fl,[w(T,{onEnlarge:F[3]||(F[3]=j=>l("enlarge")),isNormalView:S.isNormalView,"column-visibility-overrides":I.value},null,8,["isNormalView","column-visibility-overrides"])])):g.value==="columnChart"?(b(),V("div",Pl,[s.value?(b(),G(R,{key:0,class:"mb-6",chartData:D.value,chartWidth:ce.value,geography:y.value,forestType:_.value,standAge:L.value,vegetationType:q.value,matsvampFilter:t.value,giftsvampFilter:o.value,gruppFilter:a.value,statusFilter:i.value,"search-term":r.value},null,8,["chartData","chartWidth","geography","forestType","standAge","vegetationType","matsvampFilter","giftsvampFilter","gruppFilter","statusFilter","search-term"])):O("",!0),w(T,{onEnlarge:F[4]||(F[4]=j=>l("enlarge")),"onUpdate:matsvampFilter":F[5]||(F[5]=j=>t.value=j),"onUpdate:giftsvampFilter":F[6]||(F[6]=j=>o.value=j),"onUpdate:gruppFilter":F[7]||(F[7]=j=>a.value=j),"onUpdate:statusFilter":F[8]||(F[8]=j=>i.value=j),"onUpdate:searchTerm":F[9]||(F[9]=j=>r.value=j),isNormalView:S.isNormalView,"column-visibility-overrides":I.value,"search-term":r.value},null,8,["isNormalView","column-visibility-overrides","search-term"])])):O("",!0)]),_:1})]),_:1})])}}}),Rn=Object.assign(Ne(Vl,[["__scopeId","data-v-d27777d3"]]),{__name:"EdnaComponent"}),Ll={class:"p-2 flex gap-2"},Il={class:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-8 gap-4 p-2"},Al=["onClick"],El={class:"w-full h-24 relative"},Tl=["src"],Nl={key:1,class:"w-full h-full flex items-center justify-center bg-neutral-200 dark:bg-neutral-700"},Ml={class:"absolute bottom-1 left-1 flex gap-1"},zl={class:"p-2 pt-1"},Dl={class:"text-sm font-medium text-neutral-500 dark:text-neutral-300 truncate"},Bl={class:"flex justify-between items-center px-5 py-2"},pn={__name:"SpeciesGrid",props:{isNormalView:Boolean,dataTypeFolder:{type:String,default:"edna"},dataType:{type:String,default:"data"},filterEdible:{type:Boolean,default:!1},filterPoison:{type:Boolean,default:!1},grupp:{type:String,default:"Svamp-grupp"}},setup(e){const n=W([]),t=W([]),o=[{value:"LC",label:"Livskraftig"},{value:"NT",label:"Nära hotad"},{value:"EN",label:"Starkt hotad"},{value:"VU",label:"Sårbar"},{value:"CR",label:"Akut hotad"},{value:"RE",label:"Nationellt utdöd"},{value:"DD",label:"Kunskapsbrist"},{value:"Ej bedömd",label:"Ej bedömd"},{value:"Signalart",label:"Signalart"}],a=e,i=Be(),r=Rt(),s=W([]),l=W(!0);async function d(){const{geography:I,forestType:C,standAge:S,vegetationType:F}=i,U=`${a.dataType}-${I}-${C}-${S}-${F}.json`;try{const H=await fetch(`/${a.dataTypeFolder}/${U}`);if(!H.ok)throw new Error(`Failed to fetch data from ${U}`);s.value=await H.json(),l.value=!1}catch(H){console.error("Error fetching species data:",H)}}de(()=>[i.geography,i.forestType,i.standAge,i.vegetationType],()=>{l.value=!0,d()},{immediate:!0});const g=W({column:"",direction:"asc"}),h=A(()=>{let I=s.value.slice();if(g.value?.column){const{column:C,direction:S}=g.value;I.sort((F,U)=>{const H=F[C],P=U[C];if(H==null&&P!=null)return 1;if(H!=null&&P==null)return-1;if(H==null&&P==null)return 0;const z=String(H).localeCompare(String(P),"sv",{numeric:!0,sensitivity:"base"});return S==="asc"?z:-z})}else I.sort((C,S)=>{const F=C.RankRed??99999,U=S.RankRed??99999;if(F!==U)return F-U;const H=C.Commonname?.toString().toLowerCase()||"",P=S.Commonname?.toString().toLowerCase()||"";return H.localeCompare(P,"sv",{numeric:!0,sensitivity:"base"})});return I}),c=W(""),u=A(()=>{let I=h.value;if(c.value.trim()!==""){const C=c.value.trim().toLowerCase();I=I.filter(S=>S.Commonname&&S.Commonname.toLowerCase().includes(C)||S.Scientificname&&S.Scientificname.toLowerCase().includes(C))}return a.filterEdible?I=I.filter(C=>{const S=C["Nyasvamp-boken"];return S&&String(S).toLowerCase()==="x"}):a.filterPoison&&(I=I.filter(C=>{const S=C["Nyasvamp-boken"];return!(S&&String(S).toLowerCase()==="x")})),I}),p=A(()=>o.map(I=>{let C=0;return I.value==="Ej bedömd"?C=u.value.filter(S=>{const F=String(S.RL2020kat).trim();return["0","NA","NE","Saknas","null"].includes(F)}).length:I.value==="Signalart"?C=u.value.filter(S=>S.SIGNAL_art==="S").length:C=u.value.filter(S=>String(S.RL2020kat).trim()===I.value).length,{...I,label:`${I.label} (${C})`}})),m=A(()=>{const I={};return u.value.forEach(C=>{const S=C[a.grupp];if(S!=null){const F=String(S).trim();F&&F.toLowerCase()!=="undefined"&&(I[F]=(I[F]||0)+1)}}),Object.keys(I).map(C=>({value:C,label:`${se(C)} (${I[C]})`}))}),v=A(()=>{let I=h.value;if(c.value.trim()!==""){const C=c.value.trim().toLowerCase();I=I.filter(S=>S.Commonname&&S.Commonname.toLowerCase().includes(C)||S.Scientificname&&S.Scientificname.toLowerCase().includes(C)),console.log("After search filtering, count:",I.length)}return n.value.length>0&&(console.log("Status filter values:",n.value),I=I.filter(C=>{const S=String(C.RL2020kat).trim(),F=n.value.some(U=>{const H=U&&U.value?U.value:U;return H==="Ej bedömd"?["0","NA","NE","Saknas","null"].includes(S):H==="Signalart"?C.SIGNAL_art==="S":S===H});return console.log(`Row "${C.Commonname}" with RL2020kat "${S}" matches:`,F),F}),console.log("After status filtering, count:",I.length)),t.value.length>0&&(I=I.filter(C=>{const S=C[a.grupp],F=S!=null?String(S).trim():"";return t.value.includes(F)})),a.filterEdible?(I=I.filter(C=>{const S=C["Nyasvamp-boken"];return S&&String(S).toLowerCase()==="x"}),console.log("After edible filtering, count:",I.length)):a.filterPoison&&(I=I.filter(C=>{const S=C["Nyasvamp-boken"];return!(S&&String(S).toLowerCase()==="x")}),console.log("After poison filtering, count:",I.length)),console.log("Final filteredData count:",I.length),I}),y=A(()=>a.isNormalView?24:32),_=W(1),L=A(()=>{const I=(_.value-1)*y.value;return v.value.slice(I,I+y.value)}),q=A(()=>v.value.length>0?(_.value-1)*y.value+1:0),D=A(()=>Math.min(_.value*y.value,v.value.length)),Q=A(()=>v.value.length);A(()=>Math.ceil(Q.value/y.value));function se(I){return I?I.charAt(0).toUpperCase()+I.slice(1).toLowerCase():""}function ce(I){return{LC:"Livskraftig",NT:"Nära hotad",EN:"Starkt hotad",VU:"Sårbar",CR:"Akut hotad",RE:"Nationellt utdöd",DD:"Kunskapsbrist"}[I]||"Ej bedömd"}function ge(I){r.selectSpecies(I,a.dataTypeFolder)}return(I,C)=>{const S=Hn,F=qn,U=an,H=_t,P=po;return b(),V(pe,null,[$("div",Ll,[w(S,{icon:"i-heroicons-magnifying-glass",modelValue:c.value,"onUpdate:modelValue":C[0]||(C[0]=z=>c.value=z),placeholder:"Sök på namn",variant:"soft"},null,8,["modelValue"]),w(F,{modelValue:n.value,"onUpdate:modelValue":C[1]||(C[1]=z=>n.value=z),items:p.value,"item-value":"value","item-label":"label",placeholder:"Filtrera på status",multiple:"",variant:"soft"},null,8,["modelValue","items"]),w(F,{modelValue:t.value,"onUpdate:modelValue":C[2]||(C[2]=z=>t.value=z),items:m.value,"item-value":"value","item-label":"label",placeholder:"Filtrera på grupp",multiple:"",variant:"soft"},null,8,["modelValue","items"])]),$("div",Il,[(b(!0),V(pe,null,fe(L.value,(z,T)=>(b(),V("div",{key:z.Commonname+z.Scientificname+T,class:"bg-white dark:bg-neutral-800 rounded-lg border overflow-hidden border-muted/50 dark:border-neutral-700/40 hover:shadow-md transition-shadow cursor-pointer h-[126px]",onClick:R=>ge(z)},[$("div",El,[z.images&&z.images.length?(b(),V("img",{key:0,src:z.images[0],class:"w-full h-full object-cover",alt:"Species image",height:"300",width:"450",loading:"lazy",decoding:"async"},null,8,Tl)):(b(),V("div",Nl,[w(U,{name:"material-symbols:photo",class:"w-8 h-8 text-neutral-500"})])),$("div",Ml,[z.SIGNAL_art!=="S"&&!["LC","0","NA","NE","Saknas",null].includes(z.RL2020kat)?(b(),G(H,{key:0,class:"bg-error-50 dark:bg-error-950/80",color:"error",variant:"subtle",size:"sm",label:z.RL2020kat!=="Saknas"?ce(z.RL2020kat):"Ej bedömd"},null,8,["label"])):O("",!0),z.SIGNAL_art==="S"?(b(),G(H,{key:1,color:"signal",variant:"subtle",label:"Signalart",size:"sm"})):O("",!0)])]),$("div",zl,[$("div",Dl,ne(se(z.Commonname)),1)])],8,Al))),128))]),$("div",Bl,[$("div",null,[$("p",null," Visar "+ne(q.value)+" till "+ne(D.value)+" av "+ne(Q.value)+" arter ",1)]),$("div",null,[w(P,{"items-per-page":y.value,page:_.value,"onUpdate:page":C[3]||(C[3]=z=>_.value=z),total:Q.value,"active-variant":"ghost",variant:"ghost"},null,8,["items-per-page","page","total"])])])],64)}}},Ol={class:"md:flex justify-between items-start"},Gl={class:"w-full flex justify-between items-start"},jl={class:"text-md text-neutral-500 md:mb-2"},ql={class:"md:flex gap-1 items-center hidden"},Ul={key:0},Hl={key:1},Kl={__name:"FullScreenEdible",props:{isNormalView:Boolean},emits:["enlarge"],setup(e,{emit:n}){const t=Be(),o=W(0);async function a(u,p,m,v=null){if([t.geography,t.forestType,t.standAge,t.vegetationType].some(L=>!L)){m.value=0;return}const _=`${p}-${t.geography}-${t.forestType}-${t.standAge}-${t.vegetationType}.json`;try{const L=await fetch(`/${u}/${_}`);if(!L.ok)throw new Error("Network response was not ok");const q=await L.json();m.value=v?q.filter(D=>D[v]==="x").length:q.length}catch(L){console.error("Failed to fetch edible count",L),m.value=0}}de(()=>[t.geography,t.forestType,t.standAge,t.vegetationType],()=>a("edible","edibledata",o,"Nyasvamp-boken"),{immediate:!0});const i=n,r=[{label:"Galleri",icon:"i-heroicons-squares-2x2",value:"grid"},{label:"Tabell",icon:"material-symbols:table-outline",value:"table"}],s=It(),l=e,d=Ye("(max-width: 767px)"),g=A(()=>d.value||l.isNormalView),h=A({get:()=>g.value?"table":s.getActiveTab("FullscreenEdible"),set:u=>{g.value||s.setActiveTab("FullscreenEdible",u)}}),c=A(()=>h.value==="table");return(u,p)=>{const m=Ee,v=xe,y=$t,_=Lt,L=pn,q=tt;return b(),V("div",null,[w(q,{variant:"ghost",class:"rounded-none sm:rounded-lg"},{default:E(()=>[$("div",Ol,[$("div",Gl,[$("div",null,[$("div",{onClick:p[0]||(p[0]=D=>u.$emit("enlarge")),class:"group cursor-pointer dark:text-neutral-300 text-warning-500 text-4xl md:text-3xl font-medium flex items-center"},[w(m,{name:"icon-park-solid:knife-fork",class:"mr-2"}),p[4]||(p[4]=$("h1",null," Matsvampar ",-1)),w(m,{name:"i-lucide-arrow-right",class:"size-6 font-medium text-neutral transition-all opacity-0 group-hover:translate-x-1 group-hover:opacity-100"})]),$("h2",jl,ne(o.value)+" arter",1)]),w(v,{color:"neutral",variant:"soft",size:"xl",onClick:p[1]||(p[1]=D=>u.$emit("enlarge")),class:X([e.isNormalView?"hidden":"md:hidden","rounded-full"]),icon:e.isNormalView?"":"i-heroicons-x-mark-solid"},null,8,["class","icon"])]),$("div",ql,[g.value?O("",!0):(b(),G(y,{key:0,class:"flex mt-2",modelValue:h.value,"onUpdate:modelValue":p[2]||(p[2]=D=>h.value=D),items:r,variant:"pill",color:"neutral",size:"md",ui:{list:"bg-transparent",indicator:"bg-white dark:bg-black border border-neutral-300/80 dark:border-neutral-300/30",trigger:"data-[state=active]:text-neutral-700 dark:data-[state=active]:text-neutral-100/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-neutral"}},null,8,["modelValue"]))])]),w(ze,{name:"fade",mode:"out-in",class:"md:min-h-[260px]"},{default:E(()=>[c.value?(b(),V("div",Ul,[w(_,{onEnlarge:p[3]||(p[3]=D=>i("enlarge")),"is-normal-view":e.isNormalView,dataType:"edibledata",dataTypeFolder:"edible",grupp:"Svamp-grupp",mat:"Nyasvamp-boken",obs:"Rank matsvamp",obsLabel:"Sannolikhet",filterEdible:!0,"column-visibility-overrides":{mark:!1,"Nyasvamp-boken":!1}},null,8,["is-normal-view"])])):(b(),V("div",Hl,[w(L,{"is-normal-view":e.isNormalView,dataType:"edibledata",dataTypeFolder:"edible",filterEdible:!0},null,8,["is-normal-view"])]))]),_:1})]),_:1})])}}},$n=Ne(Kl,[["__scopeId","data-v-372515fe"]]),Wl={class:"md:flex justify-between items-start"},Xl={class:"md:flex gap-4"},Yl={class:"w-full flex justify-between items-start"},Zl={class:"text-md text-neutral-500 md:mb-2"},Ql={class:"md:flex gap-4 items-center hidden"},Jl={key:0},es={key:1},ts={__name:"FullScreenPoison",props:{isNormalView:Boolean},emits:["enlarge"],setup(e,{emit:n}){const t=Be(),o=W(0);async function a(p,m,v,y=null){if([t.geography,t.forestType,t.standAge,t.vegetationType].some(q=>!q)){v.value=0;return}const L=`${m}-${t.geography}-${t.forestType}-${t.standAge}-${t.vegetationType}.json`;try{const q=await fetch(`/${p}/${L}`);if(!q.ok)throw new Error("Network response was not ok");const D=await q.json();v.value=y?D.filter(Q=>Q[y]==="x").length:D.length}catch{v.value=0}}de(()=>[t.geography,t.forestType,t.standAge,t.vegetationType],()=>a("edible","edibledata",o,"Giftsvamp"),{immediate:!0});const i=n,r=[{label:"",icon:"i-heroicons-squares-2x2",value:"grid"},{label:"",icon:"material-symbols:table-outline",value:"table"}],s=It(),l=e,d=Ye("(max-width: 767px)"),g=A(()=>d.value||l.isNormalView),h=()=>{l.isNormalView&&i("enlarge")},c=A({get:()=>g.value?"table":s.getActiveTab("FullscreenEdible"),set:p=>{g.value||s.setActiveTab("FullscreenEdible",p)}}),u=A(()=>c.value==="table");return(p,m)=>{const v=Ee,y=xe,_=$t,L=Lt,q=pn,D=tt;return b(),G(D,{variant:"ghost",class:"rounded-none sm:rounded-none border-muted/50"},{default:E(()=>[$("div",Wl,[$("div",Xl,[$("div",Yl,[$("div",null,[$("div",{onClick:h,class:X(["flex items-center text-poison-500 dark:text-neutral-300 text-4xl font-medium md:text-3xl",e.isNormalView?"group cursor-pointer":"cursor-default"])},[w(v,{name:"i-hugeicons-danger",class:"mr-2"}),m[3]||(m[3]=$("h1",null," Giftsvampar ",-1)),e.isNormalView?(b(),G(v,{key:0,name:"i-lucide-arrow-right",class:"size-6 font-medium text-neutral transition-all opacity-0 group-hover:translate-x-1 group-hover:opacity-100"})):O("",!0)],2),$("h2",Zl,ne(o.value)+" arter",1)]),w(y,{color:"neutral",variant:"soft",size:"xl",onClick:m[0]||(m[0]=Q=>p.$emit("enlarge")),class:X([e.isNormalView?"hidden":"md:hidden","rounded-full"]),icon:e.isNormalView?"":"i-heroicons-x-mark-solid",trailing:""},null,8,["class","icon"])])]),$("div",Ql,[g.value?O("",!0):(b(),G(_,{key:0,class:"flex mt-2",modelValue:c.value,"onUpdate:modelValue":m[1]||(m[1]=Q=>c.value=Q),items:r,variant:"pill",color:"neutral",size:"md",ui:{indicator:"bg-white dark:bg-black border border-neutral-300/80 dark:border-neutral-300/30",trigger:"data-[state=active]:text-neutral-700 dark:data-[state=active]:text-neutral-100/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-neutral"}},null,8,["modelValue"]))])]),w(ze,{name:"fade",mode:"out-in",class:"md:min-h-[260px]"},{default:E(()=>[u.value?(b(),V("div",Jl,[w(L,{onEnlarge:m[2]||(m[2]=Q=>i("enlarge")),"is-normal-view":e.isNormalView,dataType:"edibledata",dataTypeFolder:"edible",grupp:"Svamp-grupp",mat:"Nyasvamp-boken",obs:"Rank giftsvamp",obsLabel:"Sannolikhet",filterPoison:!0,"column-visibility-overrides":{mark:!1,"Nyasvamp-boken":!1}},null,8,["is-normal-view"])])):(b(),V("div",es,[w(q,{"is-normal-view":e.isNormalView,dataType:"edibledata",dataTypeFolder:"edible",filterPoison:!0},null,8,["is-normal-view"])]))]),_:1})]),_:1})}}},Fn=Ne(ts,[["__scopeId","data-v-e06edb37"]]),ns={class:"md:flex justify-between items-start"},os={class:"md:flex gap-4"},as={class:"w-full flex justify-between items-start"},is={class:"text-md text-neutral-500 md:mb-2"},rs={class:"md:flex gap-4 items-center hidden"},ls={key:0},ss={key:1},us={__name:"RedlistedComponent",props:{isNormalView:Boolean},emits:["enlarge"],setup(e,{emit:n}){const t=Be(),o=W(0);async function a(p,m,v,y=null){if([t.geography,t.forestType,t.standAge,t.vegetationType].some(q=>!q)){v.value=0;return}const L=`${m}-${t.geography}-${t.forestType}-${t.standAge}-${t.vegetationType}.json`;try{const q=await fetch(`/${p}/${L}`);if(!q.ok)throw new Error("Network response was not ok");const D=await q.json();v.value=y?D.filter(Q=>Q[y]==="x").length:D.length}catch(q){console.error("Failed to fetch count for",m,q),v.value=0}}de(()=>[t.geography,t.forestType,t.standAge,t.vegetationType],()=>a("redlisted","redlisted",o),{immediate:!0});const i=n,r=[{label:"",icon:"i-heroicons-squares-2x2",value:"grid"},{label:"",icon:"material-symbols:table-outline",value:"table"}],s=e,l=Ye("(max-width: 767px)"),d=A(()=>l.value||s.isNormalView),g=It(),h=A({get:()=>d.value?"table":g.getActiveTab("FullscreenEdible"),set:p=>{d.value||g.setActiveTab("FullscreenEdible",p)}}),c=()=>{s.isNormalView&&i("enlarge")},u=A(()=>h.value==="table");return(p,m)=>{const v=Ee,y=xe,_=$t,L=Lt,q=pn,D=tt;return b(),G(D,{variant:"ghost",class:"rounded-none sm:rounded-lg"},{default:E(()=>[$("div",ns,[$("div",os,[$("div",as,[$("div",null,[$("div",{onClick:c,class:X(["flex items-center text-signal-500 dark:text-neutral-300 text-4xl font-medium md:text-3xl",e.isNormalView?"group cursor-pointer":"cursor-default"])},[w(v,{name:"i-material-symbols-award-star-outline",class:"mr-2"}),m[3]||(m[3]=$("h1",{class:"truncate"}," Naturvårdsarter ",-1)),e.isNormalView?(b(),G(v,{key:0,name:"i-lucide-arrow-right",class:"size-6 font-medium text-neutral transition-all opacity-0 group-hover:translate-x-1 group-hover:opacity-100"})):O("",!0)],2),$("h2",is,ne(o.value)+" arter",1)]),w(y,{color:"neutral",variant:"soft",size:"xl",onClick:m[0]||(m[0]=Q=>p.$emit("enlarge")),class:X([e.isNormalView?"hidden":"md:hidden","rounded-full"]),icon:e.isNormalView?"":"i-heroicons-x-mark-solid",trailing:""},null,8,["class","icon"])])]),$("div",rs,[d.value?O("",!0):(b(),G(_,{key:0,class:"flex mt-2",modelValue:h.value,"onUpdate:modelValue":m[1]||(m[1]=Q=>h.value=Q),items:r,variant:"pill",color:"neutral",size:"md",ui:{indicator:"bg-white dark:bg-black border border-neutral-300/80 dark:border-neutral-300/30",trigger:"data-[state=active]:text-neutral-700 dark:data-[state=active]:text-neutral-100/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-neutral"}},null,8,["modelValue"]))])]),w(ze,{name:"fade",mode:"out-in",class:"md:min-h-[260px]"},{default:E(()=>[u.value?(b(),V("div",ls,[w(L,{onEnlarge:m[2]||(m[2]=Q=>i("enlarge")),"is-normal-view":e.isNormalView,dataType:"redlisted",dataTypeFolder:"redlisted",grupp:"Svamp-grupp",mat:"Nyasvamp-boken",obs:"RankRed",obsLabel:"Sannolikhet","column-visibility-overrides":{"Nyasvamp-boken":!1}},null,8,["is-normal-view"])])):(b(),V("div",ss,[w(q,{"is-normal-view":e.isNormalView,dataType:"redlisted",dataTypeFolder:"redlisted"},null,8,["is-normal-view"])]))]),_:1})]),_:1})}}},Pn=Ne(us,[["__scopeId","data-v-0d234cbe"]]),ds={class:"grid grid-cols-12"},cs={class:"col-span-12"},gs={key:0,class:"flex justify-between p-3 border-b border-muted/50"},ps={class:"flex gap-3"},fs={class:"flex flex-col sm:flex-row gap-1.5 p-1 rounded-lg ring ring-muted/50 w-fit h-fit bg-muted/30"},ms={key:"dna",class:"col-span-12 sm:pt-2"},vs={class:"hidden md:block"},hs={class:"flex justify-between items-center text-secondary-500"},bs={class:"truncate"},ys={class:"text-2xl font-semibold flex items-center"},Ss={key:1,class:"text-neutral-500"},ws={class:"flex justify-between items-center text-warning-500"},ks={class:"text-2xl font-semibold flex items-center"},_s={key:1,class:"text-neutral-500"},Cs={class:"flex justify-between items-center text-poison-500"},xs={class:"text-2xl font-semibold flex items-center"},Rs={key:1,class:"text-neutral-500"},$s={class:"flex justify-between items-center text-signal-500"},Fs={class:"text-2xl font-semibold flex items-center"},Ps={key:1,class:"text-neutral-500"},Vs={class:"flex flex-col sm:flex-row gap-1.5 p-1 rounded-lg ring ring-muted/50 sm:w-fit h-fit bg-muted/30"},Ls={key:"knowledge",class:"col-span-12 sm:pt-2"},Is={key:0,class:"space-y-4"},As={key:1,class:"col-span-12 grid-cols-12 rounded-2xl gap-y-3 hidden md:grid gap-4"},Es={class:"col-span-4 flex flex-col h-full"},Ts={class:"col-span-4 flex flex-col"},Ns={class:"col-span-4 flex flex-col"},Ms={__name:"NormalView",props:{activeView:{type:String,default:null}},emits:["enlarge","closeView"],async setup(e,{emit:n}){let t,o;const{data:a}=([t,o]=la(()=>sa("mykorrhizasvampar",()=>ua("mykorrhizasvampar").first())),t=await t,o(),t);if(!a.value)throw da({statusCode:404,statusMessage:"Page not found",fatal:!0});W(!1);const i=Be(),r=Gn(),s=W(null),l=W(null),d=W(null),g=W(null),h=e,c=n,u={FullScreenEdible:"knowledge",FullScreenPoison:"knowledge",RedlistedComponent:"knowledge",FullScreenEdna:"knowledge"},p={FullScreenEdible:$n,FullScreenPoison:Fn,RedlistedComponent:Pn,FullScreenEdna:Rn},m=T=>{u[T]&&(v.value=u[T]),c("enlarge",T)},v=W("dna"),y=W(0),_=()=>{y.value=window.innerWidth};et(()=>{_(),window.addEventListener("resize",_)}),kt(()=>{window.removeEventListener("resize",_)}),A(()=>(y.value>=768,"md"));const L=A(()=>y.value<768),q=A(()=>i.geography),D=A(()=>i.forestType),Q=A(()=>i.standAge),se=A(()=>i.vegetationType),ce=A(()=>p[h.activeView??""]??null),ge=A(()=>h.activeView?h.activeView==="FullScreenEdible"||h.activeView==="FullScreenPoison"?{isNormalView:!1,geography:q.value,forestType:D.value,standAge:Q.value,vegetationType:se.value}:{isNormalView:!1}:{isNormalView:!1}),I=A(()=>h.activeView?`${h.activeView}-${r.fullPath}`:void 0),C={FullScreenEdible:"Matsvampar",FullScreenPoison:"Giftsvampar",RedlistedComponent:"Naturvårdsarter",FullScreenEdna:"Alla mykorrhizasvampar"},S=A(()=>h.activeView==="FullScreenEdna"),F=A(()=>C[h.activeView??""]??"");function U(){v.value="dna",c("closeView")}A(()=>ce.value?[{label:"Enligt samlad kunskap",onClick:U,class:"cursor-pointer p-1 px-2 rounded hover:bg-muted"},{label:F.value,class:"cursor-default text-neutral"}]:[]);const H=()=>{S.value?(v.value="knowledge",c("closeView")):m("FullScreenEdna")};de(()=>h.activeView,T=>{T&&u[T]&&(v.value=u[T])}),de(v,T=>{h.activeView&&u[h.activeView]!==T&&c("closeView")});async function P(T,R,ee,j=null){if([i.geography,i.forestType,i.standAge,i.vegetationType].some(ue=>!ue)){ee.value=0;return}const ie=`${R}-${i.geography}-${i.forestType}-${i.standAge}-${i.vegetationType}.json`;try{const ue=await fetch(`/${T}/${ie}`);if(!ue.ok)throw new Error("Network response was not ok");const be=await ue.json();j?ee.value=be.filter(ve=>ve[j]==="x").length:ee.value=be.length}catch(ue){console.error("Failed to fetch count for",R,ue),ee.value=0}}async function z(){const T=i.geography,R=i.forestType,ee=i.standAge,j=i.vegetationType;if(!T||!R||!ee||!j){g.value=0;return}if(!Vt(T,R,ee,j)){g.value=0;return}g.value=null;const he=`edna-${T}-${R}-${ee}-${j}.json`;try{const ie=await fetch(`/edna/${he}`);if(!ie.ok){g.value=0;return}const ue=await ie.json();g.value=Array.isArray(ue)?ue.length:0}catch(ie){console.error("Failed to fetch DNA count",ie),g.value=0}}return de(()=>[i.geography,i.forestType,i.standAge,i.vegetationType],()=>{P("redlisted","redlisted",s),P("edible","edibledata",l,"Nyasvamp-boken"),P("edible","edibledata",d,"Giftsvamp"),z()},{immediate:!0}),(T,R)=>{const ee=fa,j=xe,he=ma,ie=va,ue=ca,be=ha,ve=Ee,_e=Un,Ce=tt,Oe=On,Ge=jn;return b(),V("div",ds,[$("div",cs,[L.value?O("",!0):(b(),V("div",gs,[$("div",ps,[w(j,{onClick:R[0]||(R[0]=$e=>v.value="dna"),class:"hover:bg-neutral-100 text-start ring-muted/50 cursor-pointer p-3 px-4 rounded-lg",variant:v.value==="dna"?"subtle":"outline",color:"neutral"},{default:E(()=>[w(ee,{title:"Enligt DNA",description:"Från markinventeringens jordprover"})]),_:1},8,["variant"]),w(j,{onClick:R[1]||(R[1]=$e=>v.value="knowledge"),class:"hover:bg-neutral-100 text-start ring-muted/50 cursor-pointer p-3 px-4 rounded-lg",variant:v.value==="knowledge"?"subtle":"outline",color:"neutral"},{default:E(()=>[w(ee,{title:"Enligt fruktkroppar",description:"Utifrån var fruktkroppar förekommer"})]),_:1},8,["variant"])]),$("div",fs,[w(ue,{fullscreen:!!L.value,title:k(a).ecologyintro?.title??"",description:k(a).ecologyintro?.description??"",ui:{header:"shrink-0"}},{body:E(()=>[w(ie,{section:k(a).ecologyintro},null,8,["section"])]),default:E(()=>[w(he,{icon:"i-material-symbols-network-node",color:"neutral",variant:"outline",title:"Ekologi",class:"sm:w-fit h-fit ring-muted/50 hover:opacity-85 hover:cursor-pointer"})]),_:1},8,["fullscreen","title","description"]),w(ue,{fullscreen:!!L.value,title:"Underlag för svampars förekomst",description:k(a).underlagdescription,ui:{header:"shrink-0"}},{body:E(()=>[w(be,{underlag:k(a).underlag,underlagbild:k(a).underlagbild,sections:k(a).underlagSections},null,8,["underlag","underlagbild","sections"])]),default:E(()=>[w(he,{icon:"i-heroicons-document-magnifying-glass",color:"neutral",variant:"outline",title:"Underlag",class:"sm:w-fit h-fit ring-muted/50 hover:opacity-85 hover:cursor-pointer"})]),_:1},8,["fullscreen","description"])])])),w(ze,{name:"view-transition",mode:"out-in"},{default:E(()=>[v.value==="dna"?(b(),V("div",ms,[$("div",vs,[w(Rn,{isNormalView:!S.value,onEnlarge:H},null,8,["isNormalView"])]),w(Ge,{class:"md:hidden space-y-3 pt-3 bg-muted/50"},{default:E(()=>[w(ee,{title:"Enligt DNA",description:"Från markinventeringens jordprover"}),w(Ce,{onClick:R[2]||(R[2]=$e=>m("FullScreenEdna")),class:"ring-muted/50"},{default:E(()=>[$("div",hs,[$("div",bs,[$("div",ys,[w(ve,{name:"solar:dna-linear",class:"mr-2"}),R[9]||(R[9]=$("h1",{class:"truncate"},"Alla mykorrhizasvampar",-1))]),g.value===null?(b(),G(_e,{key:0,class:"h-4 w-12 mt-2"})):(b(),V("h1",Ss,ne(g.value)+" arter",1))]),w(j,{icon:"i-heroicons-chevron-right",class:"rounded-full",variant:"ghost",color:"neutral",size:"xl"})])]),_:1}),w(ee,{class:"mt-6",title:"Enligt fruktkroppar",description:"Utifrån vart fruktkroppar förekommer"}),w(Ce,{onClick:R[3]||(R[3]=$e=>m("FullScreenEdible")),class:"ring-muted/50"},{default:E(()=>[$("div",ws,[$("div",null,[$("h1",ks,[w(ve,{name:"icon-park-solid:knife-fork",class:"mr-2"}),R[10]||(R[10]=oe("Matsvampar ",-1))]),l.value===null?(b(),G(_e,{key:0,class:"h-4 w-12 mt-2"})):(b(),V("h1",_s,ne(l.value)+" arter",1))]),w(j,{icon:"i-heroicons-chevron-right",class:"rounded-full ring-muted/50",variant:"ghost",color:"neutral",size:"xl"})])]),_:1}),w(Ce,{onClick:R[4]||(R[4]=$e=>m("FullScreenPoison")),class:"ring-muted/50"},{default:E(()=>[$("div",Cs,[$("div",null,[$("h1",xs,[w(ve,{name:"i-hugeicons-danger",class:"mr-2"}),R[11]||(R[11]=oe("Giftsvampar ",-1))]),l.value===null?(b(),G(_e,{key:0,class:"h-4 w-12 mt-2"})):(b(),V("h1",Rs,ne(d.value)+" arter",1))]),w(j,{icon:"i-heroicons-chevron-right",class:"rounded-full",variant:"ghost",color:"neutral",size:"xl"})])]),_:1}),w(Ce,{onClick:R[5]||(R[5]=$e=>m("RedlistedComponent")),class:"ring-muted/50"},{default:E(()=>[$("div",$s,[$("div",null,[$("h1",Fs,[w(ve,{name:"i-material-symbols-award-star-outline",class:"mr-2"}),R[12]||(R[12]=oe(" Naturvårdsarter ",-1))]),s.value===null?(b(),G(_e,{key:0,class:"h-4 w-12 mt-2"})):(b(),V("h1",Ps,ne(s.value)+" arter",1))]),w(j,{icon:"i-heroicons-chevron-right",class:"rounded-full",variant:"ghost",color:"neutral",size:"xl"})])]),_:1}),w(Oe,{class:"my-6"}),$("div",Vs,[w(ue,{fullscreen:!!L.value,title:k(a).ecologyintro?.title??"",description:k(a).ecologyintro?.description??"",ui:{header:"items-start gap-2 shrink-0",title:"whitespace-normal",description:"whitespace-normal leading-snug"}},{body:E(()=>[w(ie,{section:k(a).ecologyintro},null,8,["section"])]),default:E(()=>[w(he,{icon:"i-heroicons-newspaper",color:"neutral",variant:"outline",title:"Ekologi",class:"sm:w-fit h-fit ring-muted/50 hover:opacity-85 hover:cursor-pointer"})]),_:1},8,["fullscreen","title","description"]),w(ue,{fullscreen:!!L.value,title:"Underlag för svampars förekomst",description:k(a).underlagdescription},{body:E(()=>[w(be,{underlag:k(a).underlag,underlagbild:k(a).underlagbild,sections:k(a).underlagSections},null,8,["underlag","underlagbild","sections"])]),default:E(()=>[w(he,{icon:"i-heroicons-document-magnifying-glass",color:"neutral",variant:"outline",title:"Underlag",class:"sm:w-fit h-fit ring-muted/50 hover:opacity-85 hover:cursor-pointer"})]),_:1},8,["fullscreen","description"])])]),_:1})])):(b(),V("div",Ls,[w(ze,{name:"fade",mode:"out-in"},{default:E(()=>[ce.value?(b(),V("div",Is,[(b(),G(Tn(ce.value),me(ge.value,{key:I.value,onEnlarge:U,class:"w-full"}),null,16))])):(b(),V("div",As,[$("div",Es,[(b(),G($n,{geography:q.value,forestType:D.value,standAge:Q.value,vegetationType:se.value,isNormalView:!0,onEnlarge:R[6]||(R[6]=$e=>m("FullScreenEdible")),key:k(r).fullPath},null,8,["geography","forestType","standAge","vegetationType"]))]),$("div",Ts,[(b(),G(Fn,{geography:q.value,forestType:D.value,standAge:Q.value,vegetationType:se.value,isNormalView:!0,onEnlarge:R[7]||(R[7]=$e=>m("FullScreenPoison")),key:k(r).fullPath},null,8,["geography","forestType","standAge","vegetationType"]))]),$("div",Ns,[w(Pn,{isNormalView:!0,onEnlarge:R[8]||(R[8]=$e=>m("RedlistedComponent"))})])]))]),_:1})]))]),_:1})])])}}},zs=Ne(Ms,[["__scopeId","data-v-1c4c5aeb"]]),Ds={class:"bg-muted"},Bs={class:"flex flex-col min-h-screen"},Os={__name:"DashboardC",setup(e){Ye("(max-width: 767px)");const n=Gn(),t=W(!1),o=W(!0),a=Rt(),i=Be();de(()=>a.selectedSpecies,u=>{u&&(t.value=!0)}),de(t,u=>{u||a.clearSelection()});const r=W(null),s=A(()=>i.geography&&i.forestType&&i.standAge&&i.vegetationType),l=u=>{r.value=u},d=()=>{r.value=null},g=u=>{u.key==="Escape"&&a.selectedSpecies&&a.clearSelection()};function h(u){return Array.isArray(u)?u[0]??null:typeof u=="string"&&u.length>0?u:null}function c(u){const p={geography:h(u.geography),forestType:h(u.forestType),standAge:h(u.standAge),vegetationType:h(u.vegetationType)};p.geography&&p.forestType&&p.standAge&&p.vegetationType&&i.setParams(p)}return et(()=>{window.addEventListener("keydown",g),c(n.params)}),Bn(()=>{window.removeEventListener("keydown",g)}),de(()=>n.params,u=>{c(u)},{immediate:!0}),de(()=>[i.geography,i.forestType,i.standAge,i.vegetationType],()=>{i.geography&&i.forestType&&i.standAge&&i.vegetationType&&`${encodeURIComponent(i.geography)}${encodeURIComponent(i.forestType)}${encodeURIComponent(i.standAge)}${encodeURIComponent(i.vegetationType)}`},{deep:!0}),de(r,()=>{window.scrollTo({top:0,behavior:"smooth"})}),(u,p)=>{const m=Ti,v=Bi,y=pa,_=jn;return b(),V("div",Ds,[w(v,{modelValue:t.value,"onUpdate:modelValue":p[0]||(p[0]=L=>t.value=L),pinned:o.value,"onUpdate:pinned":p[1]||(p[1]=L=>o.value=L)},{default:E(()=>[w(m,{species:k(a).selectedSpecies,source:k(a).sourceComponent},null,8,["species","source"])]),_:1},8,["modelValue","pinned"]),w(_,null,{default:E(()=>[w(ze,{name:"fade"},{default:E(()=>[s.value?(b(),G(y,{key:0})):O("",!0)]),_:1})]),_:1}),$("div",Bs,[w(_,{class:"w-full px-0"},{default:E(()=>[w(ze,{name:"fade",mode:"out-in"},{default:E(()=>[w(zs,{class:"block sm:border border-muted/50 bg-white sm:rounded-xl sm:shadow mb-4","active-view":r.value,onEnlarge:l,onCloseView:d},null,8,["active-view"])]),_:1})]),_:1})])])}}},Gs=Ne(Os,[["__scopeId","data-v-54521b5e"]]),js={};function qs(e,n){const t=Gs;return b(),G(t)}const su=Ne(js,[["render",qs]]);export{su as default};
