const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BbFdaAlb.js","./DWPs86hW.js","./entry.eAaOqC7d.css","./Cpj98o6Y.js","./BpGmDohq.js","./BNt3Jpbo.js","./CudAv0bZ.js","./BrRXGKCQ.js","./BkTfL4Si.js","./CuNoz-Zp.js","./Cj-a184O.js","./CzyB4YZu.js","./DN1NsGKB.js","./iik6CYzq.js","./CSTWAKIg.js","./OpenSeadragonViewer.eay1Jf__.css"])))=>i.map(i=>d[i]);
import{C as In,B as Re,D as Qa,$ as Rt,r as B,W as v,N as I,e as h,w as U,O as je,P as y,b0 as sa,I as pi,E as Nn,J as Nl,az as hi,Z as Kt,f as E,aT as gi,Q as ia,b5 as bi,b6 as yi,o as pt,c as Et,g as $,U as yn,V as Ka,aJ as er,d as D,L as ht,K as le,aD as Ua,aE as ba,aF as qa,b7 as la,aR as Pn,b8 as ki,F as we,ag as Ue,af as jr,h as p,t as ae,aN as Un,an as Wa,av as _i,_ as qn,a4 as Lr,a5 as Pl,a6 as Ul,z as ql,aa as xi,a9 as Hl,b9 as Kl,ba as wi,ab as Mr,n as ve,ai as Ya,a8 as Si,bb as Ci,bc as Hn,aY as Ai,p as Ti,bd as Vi,aC as Li,be as Mi,aX as zi,T as Oi,b as Bi,bf as Fi,bg as Di,bh as $i,aH as Ei,aB as Ri,aM as ji}from"#entry";import{_ as Ii}from"./BpGmDohq.js";import{c as Wl,_ as Yl,L as Ni,a as Pi}from"./BrRXGKCQ.js";import{X as tr,c as Ce,i as wa,a as ar,D as na,b as ya,d as zr,g as $t,e as Ht,f as Za,s as _a,h as Ui,j as We,O as Gl,m as vn,k as qi,l as Hi,r as Ki,n as Wi,o as Yi,p as Gi,q as Xi,t as Zi,u as Ji,v as Qi,w as kn,P as eo,x as to,y as ao,z as ro,A as no,B as Ja,C as rr,E as Sa,F as Ca,S as lo,G as xl,_ as Xl}from"./CuNoz-Zp.js";import{u as Zl,V as Jl}from"./BkTfL4Si.js";import{d as so}from"./Cj-a184O.js";import{_ as io}from"./CzyB4YZu.js";import{M as wl}from"./CSTWAKIg.js";function oo(e=[],t,a){const r=[...e];return r[a]=t,r.sort((l,o)=>l-o)}function Ql(e,t,a){const o=100/(a-t)*(e-t);return Wl(o,0,100)}function uo(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function co(e,t){if(e.length===1)return 0;const a=e.map(l=>Math.abs(l-t)),r=Math.min(...a);return a.indexOf(r)}function vo(e,t,a){const r=e/2,o=Kn([0,50],[0,r]);return(r-o(t)*a)*a}function fo(e){return e.slice(0,-1).map((t,a)=>e[a+1]-t)}function mo(e,t){if(t>0){const a=fo(e);return Math.min(...a)>=t}return!0}function Kn(e,t){return a=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(a-e[0])}}function po(e){return(String(e).split(".")[1]||"").length}function ho(e,t){const a=10**t;return Math.round(e*a)/a}const es=["PageUp","PageDown"],ts=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],as={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageUp","ArrowUp","ArrowLeft"]},[rs,ns]=In(["SliderVertical","SliderHorizontal"]);var go=Re({__name:"SliderHorizontal",props:{dir:{type:String,required:!1},min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(e,{emit:t}){const a=e,r=t,{max:l,min:o,dir:u,inverted:i}=Qa(a),{forwardRef:c,currentElement:C}=Rt(),f=Aa(),g=B(),A=B(),L=v(()=>u?.value!=="rtl"&&!i.value||u?.value!=="ltr"&&i.value);function w(z,x){const F=A.value||C.value.getBoundingClientRect(),W=[...f.thumbElements.value][f.valueIndexToChangeRef.value],Y=f.thumbAlignment.value==="contain"?W.clientWidth:0;!g.value&&!x&&f.thumbAlignment.value==="contain"&&(g.value=z.clientX-W.getBoundingClientRect().left);const se=[0,F.width-Y],ue=L.value?[o.value,l.value]:[l.value,o.value],H=Kn(se,ue);A.value=F;const K=x?z.clientX-F.left-Y/2:z.clientX-F.left-(g.value??0);return H(K)}const j=v(()=>L.value?"left":"right"),R=v(()=>L.value?"right":"left"),T=v(()=>L.value?1:-1);return ns({startEdge:j,endEdge:R,direction:T,size:"width"}),(z,x)=>(h(),I(ls,{ref:y(c),dir:y(u),"data-orientation":"horizontal",style:sa({"--reka-slider-thumb-transform":!L.value&&y(f).thumbAlignment.value==="overflow"?"translateX(50%)":"translateX(-50%)"}),onSlideStart:x[0]||(x[0]=F=>{const W=w(F,!0);r("slideStart",W)}),onSlideMove:x[1]||(x[1]=F=>{const W=w(F);r("slideMove",W)}),onSlideEnd:x[2]||(x[2]=()=>{A.value=void 0,g.value=void 0,r("slideEnd")}),onStepKeyDown:x[3]||(x[3]=F=>{const W=L.value?"from-left":"from-right",Y=y(as)[W].includes(F.key);r("stepKeyDown",F,Y?-1:1)}),onEndKeyDown:x[4]||(x[4]=F=>r("endKeyDown",F)),onHomeKeyDown:x[5]||(x[5]=F=>r("homeKeyDown",F))},{default:U(()=>[je(z.$slots,"default")]),_:3},8,["dir","style"]))}}),bo=go,yo=Re({__name:"SliderVertical",props:{min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(e,{emit:t}){const a=e,r=t,{max:l,min:o,inverted:u}=Qa(a),i=Aa(),{forwardRef:c,currentElement:C}=Rt(),f=B(),g=B(),A=v(()=>!u.value);function L(T,z){const x=g.value||C.value.getBoundingClientRect(),F=[...i.thumbElements.value][i.valueIndexToChangeRef.value],W=i.thumbAlignment.value==="contain"?F.clientHeight:0;!f.value&&!z&&i.thumbAlignment.value==="contain"&&(f.value=T.clientY-F.getBoundingClientRect().top);const Y=[0,x.height-W],se=A.value?[l.value,o.value]:[o.value,l.value],ue=Kn(Y,se),H=z?T.clientY-x.top-W/2:T.clientY-x.top-(f.value??0);return g.value=x,ue(H)}const w=v(()=>A.value?"bottom":"top"),j=v(()=>A.value?"top":"bottom"),R=v(()=>A.value?1:-1);return ns({startEdge:w,endEdge:j,direction:R,size:"height"}),(T,z)=>(h(),I(ls,{ref:y(c),"data-orientation":"vertical",style:sa({"--reka-slider-thumb-transform":!A.value&&y(i).thumbAlignment.value==="overflow"?"translateY(-50%)":"translateY(50%)"}),onSlideStart:z[0]||(z[0]=x=>{const F=L(x,!0);r("slideStart",F)}),onSlideMove:z[1]||(z[1]=x=>{const F=L(x);r("slideMove",F)}),onSlideEnd:z[2]||(z[2]=()=>{g.value=void 0,f.value=void 0,r("slideEnd")}),onStepKeyDown:z[3]||(z[3]=x=>{const F=A.value?"from-bottom":"from-top",W=y(as)[F].includes(x.key);r("stepKeyDown",x,W?-1:1)}),onEndKeyDown:z[4]||(z[4]=x=>r("endKeyDown",x)),onHomeKeyDown:z[5]||(z[5]=x=>r("homeKeyDown",x))},{default:U(()=>[je(T.$slots,"default")]),_:3},8,["style"]))}}),ko=yo;const[Aa,_o]=In("SliderRoot");var xo=Re({inheritAttrs:!1,__name:"SliderRoot",props:{defaultValue:{type:Array,required:!1,default:()=>[0]},modelValue:{type:[Array,null],required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},inverted:{type:Boolean,required:!1,default:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},minStepsBetweenThumbs:{type:Number,required:!1,default:0},thumbAlignment:{type:String,required:!1,default:"contain"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","valueCommit"],setup(e,{emit:t}){const a=e,r=t,{min:l,max:o,step:u,minStepsBetweenThumbs:i,orientation:c,disabled:C,thumbAlignment:f,dir:g}=Qa(a),A=pi(g),{forwardRef:L,currentElement:w}=Rt(),j=Zl(w),{CollectionSlot:R}=Nn({isProvider:!0}),T=Nl(a,"modelValue",r,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),z=v(()=>Array.isArray(T.value)?[...T.value]:[]),x=B(0),F=B(z.value);function W(K){const X=co(z.value,K);ue(K,X)}function Y(K){ue(K,x.value)}function se(){const K=F.value[x.value];z.value[x.value]!==K&&r("valueCommit",gi(z.value))}function ue(K,X,{commit:re}={commit:!1}){const te=po(u.value),fe=ho(Math.round((K-l.value)/u.value)*u.value+l.value,te),tt=Wl(fe,l.value,o.value),ce=oo(z.value,tt,X);if(mo(ce,i.value*u.value)){x.value=ce.indexOf(tt);const _e=String(ce)!==String(T.value);_e&&re&&r("valueCommit",ce),_e&&(H.value[x.value]?.focus(),T.value=ce)}}const H=B([]);return _o({modelValue:T,currentModelValue:z,valueIndexToChangeRef:x,thumbElements:H,orientation:c,min:l,max:o,disabled:C,thumbAlignment:f}),(K,X)=>(h(),I(y(R),null,{default:U(()=>[(h(),I(hi(y(c)==="horizontal"?bo:ko),Kt(K.$attrs,{ref:y(L),"as-child":K.asChild,as:K.as,min:y(l),max:y(o),dir:y(A),inverted:K.inverted,"aria-disabled":y(C),"data-disabled":y(C)?"":void 0,onPointerdown:X[0]||(X[0]=()=>{y(C)||(F.value=z.value)}),onSlideStart:X[1]||(X[1]=re=>!y(C)&&W(re)),onSlideMove:X[2]||(X[2]=re=>!y(C)&&Y(re)),onSlideEnd:X[3]||(X[3]=re=>!y(C)&&se()),onHomeKeyDown:X[4]||(X[4]=re=>!y(C)&&ue(y(l),0,{commit:!0})),onEndKeyDown:X[5]||(X[5]=re=>!y(C)&&ue(y(o),z.value.length-1,{commit:!0})),onStepKeyDown:X[6]||(X[6]=(re,te)=>{if(!y(C)){const ce=y(es).includes(re.key)||re.shiftKey&&y(ts).includes(re.key)?10:1,_e=x.value,Ie=z.value[_e],Ae=y(u)*ce*te;ue(Ie+Ae,_e,{commit:!0})}})}),{default:U(()=>[je(K.$slots,"default",{modelValue:y(T)}),y(j)&&K.name?(h(),I(y(Jl),{key:0,type:"number",value:y(T),name:K.name,required:K.required,disabled:y(C),step:y(u)},null,8,["value","name","required","disabled","step"])):E("v-if",!0)]),_:3},16,["as-child","as","min","max","dir","inverted","aria-disabled","data-disabled"]))]),_:3}))}}),wo=xo,So=Re({__name:"SliderImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},emits:["slideStart","slideMove","slideEnd","homeKeyDown","endKeyDown","stepKeyDown"],setup(e,{emit:t}){const a=e,r=t,l=Aa();return(o,u)=>(h(),I(y(ia),Kt({"data-slider-impl":""},a,{onKeydown:u[0]||(u[0]=i=>{i.key==="Home"?(r("homeKeyDown",i),i.preventDefault()):i.key==="End"?(r("endKeyDown",i),i.preventDefault()):y(es).concat(y(ts)).includes(i.key)&&(r("stepKeyDown",i),i.preventDefault())}),onPointerdown:u[1]||(u[1]=i=>{const c=i.target;c.setPointerCapture(i.pointerId),i.preventDefault(),y(l).thumbElements.value.includes(c)?c.focus():r("slideStart",i)}),onPointermove:u[2]||(u[2]=i=>{i.target.hasPointerCapture(i.pointerId)&&r("slideMove",i)}),onPointerup:u[3]||(u[3]=i=>{const c=i.target;c.hasPointerCapture(i.pointerId)&&(c.releasePointerCapture(i.pointerId),r("slideEnd",i))})}),{default:U(()=>[je(o.$slots,"default")]),_:3},16))}}),ls=So,Co=Re({__name:"SliderRange",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=Aa(),a=rs();Rt();const r=v(()=>t.currentModelValue.value.map(u=>Ql(u,t.min.value,t.max.value))),l=v(()=>t.currentModelValue.value.length>1?Math.min(...r.value):0),o=v(()=>100-Math.max(...r.value,0));return(u,i)=>(h(),I(y(ia),{"data-disabled":y(t).disabled.value?"":void 0,"data-orientation":y(t).orientation.value,"as-child":u.asChild,as:u.as,style:sa({[y(a).startEdge.value]:`${l.value}%`,[y(a).endEdge.value]:`${o.value}%`})},{default:U(()=>[je(u.$slots,"default")]),_:3},8,["data-disabled","data-orientation","as-child","as","style"]))}}),Ao=Co,To=Re({inheritAttrs:!1,__name:"SliderThumbImpl",props:{index:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,a=Aa(),r=rs(),{forwardRef:l,currentElement:o}=Rt(),{CollectionItem:u}=Nn(),i=v(()=>a.modelValue?.value?.[t.index]),c=v(()=>i.value===void 0?0:Ql(i.value,a.min.value??0,a.max.value??100)),C=v(()=>uo(t.index,a.modelValue?.value?.length??0)),f=bi(o),g=v(()=>f[r.size].value),A=v(()=>a.thumbAlignment.value==="overflow"||!g.value?0:vo(g.value,c.value,r.direction.value)),L=yi();return pt(()=>{a.thumbElements.value.push(o.value)}),Et(()=>{const w=a.thumbElements.value.findIndex(j=>j===o.value)??-1;a.thumbElements.value.splice(w,1)}),(w,j)=>(h(),I(y(u),null,{default:U(()=>[$(y(ia),Kt(w.$attrs,{ref:y(l),role:"slider",tabindex:y(a).disabled.value?void 0:0,"aria-label":w.$attrs["aria-label"]||C.value,"data-disabled":y(a).disabled.value?"":void 0,"data-orientation":y(a).orientation.value,"aria-valuenow":i.value,"aria-valuemin":y(a).min.value,"aria-valuemax":y(a).max.value,"aria-orientation":y(a).orientation.value,"as-child":w.asChild,as:w.as,style:{transform:"var(--reka-slider-thumb-transform)",position:"absolute",[y(r).startEdge.value]:`calc(${c.value}% + ${A.value}px)`,display:!y(L)&&i.value===void 0?"none":void 0},onFocus:j[0]||(j[0]=()=>{y(a).valueIndexToChangeRef.value=w.index})}),{default:U(()=>[je(w.$slots,"default")]),_:3},16,["tabindex","aria-label","data-disabled","data-orientation","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","as-child","as","style"])]),_:3}))}}),Vo=To,Lo=Re({__name:"SliderThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=e,{getItems:a}=Nn(),{forwardRef:r,currentElement:l}=Rt(),o=v(()=>l.value?a(!0).findIndex(u=>u.ref===l.value):-1);return(u,i)=>(h(),I(Vo,Kt({ref:y(r)},t,{index:o.value}),{default:U(()=>[je(u.$slots,"default")]),_:3},16,["index"]))}}),Sl=Lo,Mo=Re({__name:"SliderTrack",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=Aa();return Rt(),(a,r)=>(h(),I(y(ia),{"as-child":a.asChild,as:a.as,"data-disabled":y(t).disabled.value?"":void 0,"data-orientation":y(t).orientation.value},{default:U(()=>[je(a.$slots,"default")]),_:3},8,["as-child","as","data-disabled","data-orientation"]))}}),zo=Mo;const[Oo,Bo]=In("SwitchRoot");var Fo=Re({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,r=t,{disabled:l}=Qa(a),o=Nl(a,"modelValue",r,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function u(){l.value||(o.value=!o.value)}const{forwardRef:i,currentElement:c}=Rt(),C=Zl(c),f=v(()=>a.id&&c.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return Bo({modelValue:o,toggleCheck:u,disabled:l}),(g,A)=>(h(),I(y(ia),Kt(g.$attrs,{id:g.id,ref:y(i),role:"switch",type:g.as==="button"?"button":void 0,value:g.value,"aria-label":g.$attrs["aria-label"]||f.value,"aria-checked":y(o),"aria-required":g.required,"data-state":y(o)?"checked":"unchecked","data-disabled":y(l)?"":void 0,"as-child":g.asChild,as:g.as,disabled:y(l),onClick:u,onKeydown:yn(Ka(u,["prevent"]),["enter"])}),{default:U(()=>[je(g.$slots,"default",{modelValue:y(o)}),y(C)&&g.name?(h(),I(y(Jl),{key:0,type:"checkbox",name:g.name,disabled:y(l),required:g.required,value:g.value,checked:!!y(o)},null,8,["name","disabled","required","value","checked"])):E("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),Do=Fo,$o=Re({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=Oo();return Rt(),(a,r)=>(h(),I(y(ia),{"data-state":y(t).modelValue?.value?"checked":"unchecked","data-disabled":y(t).disabled.value?"":void 0,"as-child":a.asChild,as:a.as},{default:U(()=>[je(a.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"]))}}),Eo=$o,_n=Math.PI,xn=2*_n,ra=1e-6,Ro=xn-ra;function wn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ir(){return new wn}wn.prototype=Ir.prototype={constructor:wn,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,a,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+a)+","+(this._y1=+r)},bezierCurveTo:function(e,t,a,r,l,o){this._+="C"+ +e+","+ +t+","+ +a+","+ +r+","+(this._x1=+l)+","+(this._y1=+o)},arcTo:function(e,t,a,r,l){e=+e,t=+t,a=+a,r=+r,l=+l;var o=this._x1,u=this._y1,i=a-e,c=r-t,C=o-e,f=u-t,g=C*C+f*f;if(l<0)throw new Error("negative radius: "+l);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(g>ra)if(!(Math.abs(f*i-c*C)>ra)||!l)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var A=a-o,L=r-u,w=i*i+c*c,j=A*A+L*L,R=Math.sqrt(w),T=Math.sqrt(g),z=l*Math.tan((_n-Math.acos((w+g-j)/(2*R*T)))/2),x=z/T,F=z/R;Math.abs(x-1)>ra&&(this._+="L"+(e+x*C)+","+(t+x*f)),this._+="A"+l+","+l+",0,0,"+ +(f*A>C*L)+","+(this._x1=e+F*i)+","+(this._y1=t+F*c)}},arc:function(e,t,a,r,l,o){e=+e,t=+t,a=+a,o=!!o;var u=a*Math.cos(r),i=a*Math.sin(r),c=e+u,C=t+i,f=1^o,g=o?r-l:l-r;if(a<0)throw new Error("negative radius: "+a);this._x1===null?this._+="M"+c+","+C:(Math.abs(this._x1-c)>ra||Math.abs(this._y1-C)>ra)&&(this._+="L"+c+","+C),a&&(g<0&&(g=g%xn+xn),g>Ro?this._+="A"+a+","+a+",0,1,"+f+","+(e-u)+","+(t-i)+"A"+a+","+a+",0,1,"+f+","+(this._x1=c)+","+(this._y1=C):g>ra&&(this._+="A"+a+","+a+",0,"+ +(g>=_n)+","+f+","+(this._x1=e+a*Math.cos(l))+","+(this._y1=t+a*Math.sin(l))))},rect:function(e,t,a,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +a+"v"+ +r+"h"+-a+"Z"},toString:function(){return this._}};function qe(e){return function(){return e}}var Cl=1e-12,Or=Math.PI,Nr=2*Or;function ss(e){this._context=e}ss.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Wn(e){return new ss(e)}function is(e){return e[0]}function os(e){return e[1]}function us(){var e=is,t=os,a=qe(!0),r=null,l=Wn,o=null;function u(i){var c,C=i.length,f,g=!1,A;for(r==null&&(o=l(A=Ir())),c=0;c<=C;++c)!(c<C&&a(f=i[c],c,i))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+e(f,c,i),+t(f,c,i));if(A)return o=null,A+""||null}return u.x=function(i){return arguments.length?(e=typeof i=="function"?i:qe(+i),u):e},u.y=function(i){return arguments.length?(t=typeof i=="function"?i:qe(+i),u):t},u.defined=function(i){return arguments.length?(a=typeof i=="function"?i:qe(!!i),u):a},u.curve=function(i){return arguments.length?(l=i,r!=null&&(o=l(r)),u):l},u.context=function(i){return arguments.length?(i==null?r=o=null:o=l(r=i),u):r},u}function jo(){var e=is,t=null,a=qe(0),r=os,l=qe(!0),o=null,u=Wn,i=null;function c(f){var g,A,L,w=f.length,j,R=!1,T,z=new Array(w),x=new Array(w);for(o==null&&(i=u(T=Ir())),g=0;g<=w;++g){if(!(g<w&&l(j=f[g],g,f))===R)if(R=!R)A=g,i.areaStart(),i.lineStart();else{for(i.lineEnd(),i.lineStart(),L=g-1;L>=A;--L)i.point(z[L],x[L]);i.lineEnd(),i.areaEnd()}R&&(z[g]=+e(j,g,f),x[g]=+a(j,g,f),i.point(t?+t(j,g,f):z[g],r?+r(j,g,f):x[g]))}if(T)return i=null,T+""||null}function C(){return us().defined(l).curve(u).context(o)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:qe(+f),t=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:qe(+f),c):e},c.x1=function(f){return arguments.length?(t=f==null?null:typeof f=="function"?f:qe(+f),c):t},c.y=function(f){return arguments.length?(a=typeof f=="function"?f:qe(+f),r=null,c):a},c.y0=function(f){return arguments.length?(a=typeof f=="function"?f:qe(+f),c):a},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:qe(+f),c):r},c.lineX0=c.lineY0=function(){return C().x(e).y(a)},c.lineY1=function(){return C().x(e).y(r)},c.lineX1=function(){return C().x(t).y(a)},c.defined=function(f){return arguments.length?(l=typeof f=="function"?f:qe(!!f),c):l},c.curve=function(f){return arguments.length?(u=f,o!=null&&(i=u(o)),c):u},c.context=function(f){return arguments.length?(f==null?o=i=null:i=u(o=f),c):o},c}const cs={draw:function(e,t){var a=Math.sqrt(t/Or);e.moveTo(a,0),e.arc(0,0,a,0,Nr)}},Io={draw:function(e,t){var a=Math.sqrt(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}};var ds=Math.sqrt(1/3),No=ds*2;const Po={draw:function(e,t){var a=Math.sqrt(t/No),r=a*ds;e.moveTo(0,-a),e.lineTo(r,0),e.lineTo(0,a),e.lineTo(-r,0),e.closePath()}};var Uo=.8908130915292852,vs=Math.sin(Or/10)/Math.sin(7*Or/10),qo=Math.sin(Nr/10)*vs,Ho=-Math.cos(Nr/10)*vs;const Ko={draw:function(e,t){var a=Math.sqrt(t*Uo),r=qo*a,l=Ho*a;e.moveTo(0,-a),e.lineTo(r,l);for(var o=1;o<5;++o){var u=Nr*o/5,i=Math.cos(u),c=Math.sin(u);e.lineTo(c*a,-i*a),e.lineTo(i*r-c*l,c*r+i*l)}e.closePath()}},Wo={draw:function(e,t){var a=Math.sqrt(t),r=-a/2;e.rect(r,r,a,a)}};var fn=Math.sqrt(3);const Yo={draw:function(e,t){var a=-Math.sqrt(t/(fn*3));e.moveTo(0,a*2),e.lineTo(-fn*a,-a),e.lineTo(fn*a,-a),e.closePath()}};var ut=-.5,ct=Math.sqrt(3)/2,Sn=1/Math.sqrt(12),Go=(Sn/2+1)*3;const Xo={draw:function(e,t){var a=Math.sqrt(t/Go),r=a/2,l=a*Sn,o=r,u=a*Sn+a,i=-o,c=u;e.moveTo(r,l),e.lineTo(o,u),e.lineTo(i,c),e.lineTo(ut*r-ct*l,ct*r+ut*l),e.lineTo(ut*o-ct*u,ct*o+ut*u),e.lineTo(ut*i-ct*c,ct*i+ut*c),e.lineTo(ut*r+ct*l,ut*l-ct*r),e.lineTo(ut*o+ct*u,ut*u-ct*o),e.lineTo(ut*i+ct*c,ut*c-ct*i),e.closePath()}};function Zo(){var e=qe(cs),t=qe(64),a=null;function r(){var l;if(a||(a=l=Ir()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),l)return a=null,l+""||null}return r.type=function(l){return arguments.length?(e=typeof l=="function"?l:qe(l),r):e},r.size=function(l){return arguments.length?(t=typeof l=="function"?l:qe(+l),r):t},r.context=function(l){return arguments.length?(a=l??null,r):a},r}function Wt(){}function Br(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function Pr(e){this._context=e}Pr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Br(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Br(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Jo(e){return new Pr(e)}function fs(e){this._context=e}fs.prototype={areaStart:Wt,areaEnd:Wt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Br(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Qo(e){return new fs(e)}function ms(e){this._context=e}ms.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:Br(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eu(e){return new ms(e)}function ps(e,t){this._basis=new Pr(e),this._beta=t}ps.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,a=e.length-1;if(a>0)for(var r=e[0],l=t[0],o=e[a]-r,u=t[a]-l,i=-1,c;++i<=a;)c=i/a,this._basis.point(this._beta*e[i]+(1-this._beta)*(r+c*o),this._beta*t[i]+(1-this._beta)*(l+c*u));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const tu=(function e(t){function a(r){return t===1?new Pr(r):new ps(r,t)}return a.beta=function(r){return e(+r)},a})(.85);function Fr(e,t,a){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-a),e._x2,e._y2)}function Yn(e,t){this._context=e,this._k=(1-t)/6}Yn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Fr(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Fr(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const au=(function e(t){function a(r){return new Yn(r,t)}return a.tension=function(r){return e(+r)},a})(0);function Gn(e,t){this._context=e,this._k=(1-t)/6}Gn.prototype={areaStart:Wt,areaEnd:Wt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Fr(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ru=(function e(t){function a(r){return new Gn(r,t)}return a.tension=function(r){return e(+r)},a})(0);function Xn(e,t){this._context=e,this._k=(1-t)/6}Xn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fr(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const nu=(function e(t){function a(r){return new Xn(r,t)}return a.tension=function(r){return e(+r)},a})(0);function Zn(e,t,a){var r=e._x1,l=e._y1,o=e._x2,u=e._y2;if(e._l01_a>Cl){var i=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*i-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,l=(l*i-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>Cl){var C=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,f=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*C+e._x1*e._l23_2a-t*e._l12_2a)/f,u=(u*C+e._y1*e._l23_2a-a*e._l12_2a)/f}e._context.bezierCurveTo(r,l,o,u,e._x2,e._y2)}function hs(e,t){this._context=e,this._alpha=t}hs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Zn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const lu=(function e(t){function a(r){return t?new hs(r,t):new Yn(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function gs(e,t){this._context=e,this._alpha=t}gs.prototype={areaStart:Wt,areaEnd:Wt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Zn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const su=(function e(t){function a(r){return t?new gs(r,t):new Gn(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function bs(e,t){this._context=e,this._alpha=t}bs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Zn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const iu=(function e(t){function a(r){return t?new bs(r,t):new Xn(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function ys(e){this._context=e}ys.prototype={areaStart:Wt,areaEnd:Wt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ou(e){return new ys(e)}function Al(e){return e<0?-1:1}function Tl(e,t,a){var r=e._x1-e._x0,l=t-e._x1,o=(e._y1-e._y0)/(r||l<0&&-0),u=(a-e._y1)/(l||r<0&&-0),i=(o*l+u*r)/(r+l);return(Al(o)+Al(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(i))||0}function Vl(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function mn(e,t,a){var r=e._x0,l=e._y0,o=e._x1,u=e._y1,i=(o-r)/3;e._context.bezierCurveTo(r+i,l+i*t,o-i,u-i*a,o,u)}function Dr(e){this._context=e}Dr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mn(this,this._t0,Vl(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,mn(this,Vl(this,a=Tl(this,e,t)),a);break;default:mn(this,this._t0,a=Tl(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function ks(e){this._context=new _s(e)}(ks.prototype=Object.create(Dr.prototype)).point=function(e,t){Dr.prototype.point.call(this,t,e)};function _s(e){this._context=e}_s.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,r,l,o){this._context.bezierCurveTo(t,e,r,a,o,l)}};function uu(e){return new Dr(e)}function cu(e){return new ks(e)}function xs(e){this._context=e}xs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var r=Ll(e),l=Ll(t),o=0,u=1;u<a;++o,++u)this._context.bezierCurveTo(r[0][o],l[0][o],r[1][o],l[1][o],e[u],t[u]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ll(e){var t,a=e.length-1,r,l=new Array(a),o=new Array(a),u=new Array(a);for(l[0]=0,o[0]=2,u[0]=e[0]+2*e[1],t=1;t<a-1;++t)l[t]=1,o[t]=4,u[t]=4*e[t]+2*e[t+1];for(l[a-1]=2,o[a-1]=7,u[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=l[t]/o[t-1],o[t]-=r,u[t]-=r*u[t-1];for(l[a-1]=u[a-1]/o[a-1],t=a-2;t>=0;--t)l[t]=(u[t]-l[t+1])/o[t];for(o[a-1]=(e[a]+l[a-1])/2,t=0;t<a-1;++t)o[t]=2*e[t+1]-l[t+1];return[l,o]}function du(e){return new xs(e)}function Ur(e,t){this._context=e,this._t=t}Ur.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function vu(e){return new Ur(e,.5)}function fu(e){return new Ur(e,0)}function mu(e){return new Ur(e,1)}function Ml(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,r)}return a}function pu(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ml(Object(a),!0).forEach(function(r){hu(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ml(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Ga(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ga=function(t){return typeof t}:Ga=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ga(e)}function hu(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $r(){return $r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},$r.apply(this,arguments)}function gu(e,t){if(e){if(typeof e=="string")return zl(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return zl(e,t)}}function zl(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function ws(e,t){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=gu(e))||t){a&&(e=a);var r=0,l=function(){};return{s:l,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,u=!1,i;return{s:function(){a=a.call(e)},n:function(){var c=a.next();return o=c.done,c},e:function(c){u=!0,i=c},f:function(){try{!o&&a.return!=null&&a.return()}finally{if(u)throw i}}}}function bu(e,t){var a=[],r=[];function l(o,u){if(o.length===1)a.push(o[0]),r.push(o[0]);else{for(var i=Array(o.length-1),c=0;c<i.length;c++)c===0&&a.push(o[0]),c===i.length-1&&r.push(o[c+1]),i[c]=[(1-u)*o[c][0]+u*o[c+1][0],(1-u)*o[c][1]+u*o[c+1][1]];l(i,u)}}return e.length&&l(e,t),{left:a,right:r.reverse()}}function yu(e){var t={};return e.length===4&&(t.x2=e[2][0],t.y2=e[2][1]),e.length>=3&&(t.x1=e[1][0],t.y1=e[1][1]),t.x=e[e.length-1][0],t.y=e[e.length-1][1],e.length===4?t.type="C":e.length===3?t.type="Q":t.type="L",t}function ku(e,t){t=t||2;for(var a=[],r=e,l=1/t,o=0;o<t-1;o++){var u=l/(1-l*o),i=bu(r,u);a.push(i.left),r=i.right}return a.push(r),a}function _u(e,t,a){var r=[[e.x,e.y]];return t.x1!=null&&r.push([t.x1,t.y1]),t.x2!=null&&r.push([t.x2,t.y2]),r.push([t.x,t.y]),ku(r,a).map(yu)}var xu=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,ka={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};Object.keys(ka).forEach(function(e){ka[e.toLowerCase()]=ka[e]});function Cn(e,t){for(var a=Array(e),r=0;r<e;r++)a[r]=t;return a}function wu(e){return"".concat(e.type).concat(ka[e.type].map(function(t){return e[t]}).join(","))}function Su(e,t){var a={x1:"x",y1:"y",x2:"x",y2:"y"},r=["xAxisRotation","largeArcFlag","sweepFlag"];if(e.type!==t.type&&t.type.toUpperCase()!=="M"){var l={};Object.keys(t).forEach(function(o){var u=t[o],i=e[o];i===void 0&&(r.includes(o)?i=u:(i===void 0&&a[o]&&(i=e[a[o]]),i===void 0&&(i=0))),l[o]=i}),l.type=t.type,e=l}return e}function Cu(e,t,a){var r=[];if(t.type==="L"||t.type==="Q"||t.type==="C")r=r.concat(_u(e,t,a));else{var l=$r({},e);l.type==="M"&&(l.type="L"),r=r.concat(Cn(a-1).map(function(){return l})),r.push(t)}return r}function Ol(e,t,a){var r=e.length-1,l=t.length-1,o=r/l,u=Cn(l).reduce(function(c,C,f){var g=Math.floor(o*f);if(a&&g<e.length-1&&a(e[g],e[g+1])){var A=o*f%1<.5;c[g]&&(A?g>0?g-=1:g<e.length-1&&(g+=1):g<e.length-1?g+=1:g>0&&(g-=1))}return c[g]=(c[g]||0)+1,c},[]),i=u.reduce(function(c,C,f){if(f===e.length-1){var g=Cn(C,$r({},e[e.length-1]));return g[0].type==="M"&&g.forEach(function(A){A.type="L"}),c.concat(g)}return c.concat(Cu(e[f],e[f+1],C))},[]);return i.unshift(e[0]),i}function Bl(e){for(var t=(e||"").match(xu)||[],a=[],r,l,o=0;o<t.length;++o)if(r=ka[t[o]],r){l={type:t[o]};for(var u=0;u<r.length;++u)l[r[u]]=+t[o+u+1];o+=r.length,a.push(l)}return a}function Au(e,t,a){var r=e==null?[]:e.slice(),l=t==null?[]:t.slice(),o=Ga(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},u=o.excludeSegment,i=o.snapEndsToInput;if(!r.length&&!l.length)return function(){return[]};var c=(r.length===0||r[r.length-1].type==="Z")&&(l.length===0||l[l.length-1].type==="Z");r.length>0&&r[r.length-1].type==="Z"&&r.pop(),l.length>0&&l[l.length-1].type==="Z"&&l.pop(),r.length?l.length||l.push(r[0]):r.push(l[0]);var C=Math.abs(l.length-r.length);C!==0&&(l.length>r.length?r=Ol(r,l,u):l.length<r.length&&(l=Ol(l,r,u))),r=r.map(function(g,A){return Su(g,l[A])});var f=r.map(function(g){return pu({},g)});return c&&(f.push({type:"Z"}),r.push({type:"Z"})),function(A){if(A===1&&i)return t??[];if(A===0)return r;for(var L=0;L<f.length;++L){var w=r[L],j=l[L],R=f[L],T=ws(ka[R.type]),z;try{for(T.s();!(z=T.n()).done;){var x=z.value;R[x]=(1-A)*w[x]+A*j[x],(x==="largeArcFlag"||x==="sweepFlag")&&(R[x]=Math.round(R[x]))}}catch(F){T.e(F)}finally{T.f()}}return f}}function Ss(e,t,a){var r=Bl(e),l=Bl(t),o=Ga(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},u=o.excludeSegment,i=o.snapEndsToInput;if(!r.length&&!l.length)return function(){return""};var c=Au(r,l,{excludeSegment:u,snapEndsToInput:i});return function(f){if(f===1&&i)return t??"";var g=c(f),A="",L=ws(g),w;try{for(L.s();!(w=L.n()).done;){var j=w.value;A+=wu(j)}}catch(R){L.e(R)}finally{L.f()}return A}}var Ve;(function(e){e.Basis="basis",e.BasisClosed="basisClosed",e.BasisOpen="basisOpen",e.Bundle="bundle",e.Cardinal="cardinal",e.CardinalClosed="cardinalClosed",e.CardinalOpen="cardinalOpen",e.CatmullRom="catmullRom",e.CatmullRomClosed="catmullRomClosed",e.CatmullRomOpen="catmullRomOpen",e.Linear="linear",e.LinearClosed="linearClosed",e.MonotoneX="monotoneX",e.MonotoneY="monotoneY",e.Natural="natural",e.Step="step",e.StepAfter="stepAfter",e.StepBefore="stepBefore"})(Ve||(Ve={}));const An={[Ve.Basis]:Jo,[Ve.BasisClosed]:Qo,[Ve.BasisOpen]:eu,[Ve.Bundle]:tu,[Ve.Cardinal]:au,[Ve.CardinalClosed]:ru,[Ve.CardinalOpen]:nu,[Ve.CatmullRom]:lu,[Ve.CatmullRomClosed]:su,[Ve.CatmullRomOpen]:iu,[Ve.Linear]:Wn,[Ve.LinearClosed]:ou,[Ve.MonotoneX]:uu,[Ve.MonotoneY]:cu,[Ve.Natural]:du,[Ve.Step]:vu,[Ve.StepAfter]:mu,[Ve.StepBefore]:fu},Tu=Object.assign(Object.assign({},tr),{curveType:Ve.MonotoneX,lineWidth:2,lineDashArray:void 0,fallbackValue:void 0,highlightOnHover:!1,cursor:null,interpolateMissingData:!1}),Vu=wa`
  :root {
    --vis-line-cursor: default;
    --vis-line-stroke-dasharray: none;
    --vis-line-stroke-dashoffset: 0;

    --vis-line-gapfill-stroke-dasharray: 2 3;
    --vis-line-gapfill-stroke-opacity: 0.8;
    --vis-line-gapfill-stroke-dashoffset: 0;
  }
`,Lu=Ce`
  label: line-component;
`,Ha=Ce`
  label: line;
  transition: opacity 200ms;
  cursor: var(--vis-line-cursor);
`,Tn=Ce`
  label: linePath;
  fill: none;
  stroke-dasharray: var(--vis-line-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-stroke-dashoffset);
`,Vn=Ce`
  label: lineSelectionHelper;
  fill: none;
  stroke: rgba(0, 0, 0, 0);
  stroke-width: 8px;
`,Ln=Ce`
  opacity: 0.2;
`,Mn=Ce`
  label: interpolated-path;
  fill: none;
  stroke-dasharray: var(--vis-line-gapfill-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-gapfill-stroke-dashoffset);
  stroke-opacity: var(--vis-line-gapfill-stroke-opacity);
`,Mu=Object.freeze(Object.defineProperty({__proto__:null,dim:Ln,globalStyles:Vu,interpolatedPath:Mn,line:Ha,linePath:Tn,lineSelectionHelper:Vn,root:Lu},Symbol.toStringTag,{value:"Module"}));class qr extends ar{constructor(t){super(),this._defaultConfig=Tu,this.config=this._defaultConfig,this.curve=An[Ve.MonotoneX],this.events={[qr.selectors.line]:{mouseover:this._highlight.bind(this),mouseleave:this._resetHighlight.bind(this)}},t&&this.setConfig(t)}get bleed(){const{config:{lineWidth:t}}=this,a=this.yScale.domain(),l=(this.yScale.range()[0]>this.yScale.range()[1]?na.North:na.South)===na.South,o=t>3,u=t>=10;return{top:!u&&(!l&&a[1]===0||l&&a[0]===0)?0:t/2,bottom:!u&&(!l&&a[0]===0||l&&a[1]===0)?0:t/2,left:o?t/2:0,right:o?t/2:0}}_render(t){super._render(t);const{config:a,datamodel:{data:r}}=this,l=ya(t)?t:a.duration;this.curve=An[a.curveType],this.lineGen=us().x(g=>g.x).y(g=>g.y).defined(g=>g.defined).curve(this.curve);const o=zr(a.y)?a.y:[a.y],u=r.map((g,A)=>this.xScale($t(g,a.x,A))),i=o.map(g=>{const A=r.map((T,z)=>{const x=$t(T,g,z),F=(ya(x)||x===null)&&isFinite(x)?x:a.fallbackValue,W=a.interpolateMissingData?(ya(x)||x===null)&&isFinite(x):isFinite(F);return{x:u[z],y:this.yScale(F??0),defined:W,value:F}}),L=A.reduce((T,z)=>z.defined||T,!1);let w=!1;const j=A.reduce((T,z,x)=>{!z.defined&&isFinite(a.fallbackValue)&&T.push(Object.assign(Object.assign({},z),{defined:!0})),!z.defined&&!w&&(w=!0);const F=x>0&&!A[x-1].defined||x<A.length-1&&!A[x+1].defined;return z.defined&&F&&(w||T.push(Object.assign(Object.assign({},z),{defined:!1})),T.push(z),w=!1),T},[]),R=L&&A.some(T=>T.value!==null);return{values:A,defined:L,gaps:j,visible:R}}),c=this.g.selectAll(`.${Ha}`).data(i),C=c.enter().append("g").attr("class",Ha);C.append("path").attr("class",Tn).attr("stroke",(g,A)=>Ht(r,a.color,A)).attr("stroke-opacity",0).attr("stroke-width",a.lineWidth),C.append("path").attr("class",Vn).attr("d",this._emptyPath()),C.append("path").attr("class",Mn).attr("d",this._emptyPath()).style("opacity",0);const f=C.merge(c);f.style("cursor",(g,A)=>Za(r,a.cursor,A)),f.each((g,A,L)=>{var w;const j=_a(L[A]),R=j.select(`.${Tn}`),T=j.select(`.${Vn}`),z=j.select(`.${Mn}`),x=g.visible,F=Ui(r,a.lineDashArray,A),W=We(R,l).attr("stroke",Ht(r,a.color,A)).attr("stroke-width",a.lineWidth).attr("stroke-opacity",x?1:0).style("stroke-dasharray",(w=F?.join(" "))!==null&&w!==void 0?w:null),Y=g.values.some(ue=>!ue.defined),se=this.lineGen(g.values);if(l&&!Y){const ue=R.attr("d")||this._emptyPath(),H=se||this._emptyPath();W.attrTween("d",()=>Ss(ue,H))}else g.visible&&W.attr("d",se);T.attr("d",se).attr("visibility",x?null:"hidden"),Y&&a.interpolateMissingData?We(z,l).attr("d",this.lineGen(g.gaps)).attr("stroke",Ht(r,a.color,A)).attr("stroke-width",a.lineWidth-1).style("opacity",1):z.transition().duration(l).style("opacity",0)}),We(c.exit(),l).style("opacity",0).remove()}_emptyPath(){const t=this.xScale.range(),a=this.yScale.range();return`M${t[0]},${a[0]} L${t[1]},${a[0]}`}_highlight(t){const{config:a}=this;a.highlightOnHover&&this.g.selectAll(`.${Ha}`).classed(Ln,r=>r!==t)}_resetHighlight(){const{config:t}=this;t.highlightOnHover&&this.g.selectAll(`.${Ha}`).classed(Ln,!1)}}qr.selectors=Mu;const zu=Object.assign(Object.assign({},tr),{color:void 0,groupMaxWidth:void 0,groupWidth:void 0,dataStep:void 0,groupPadding:.05,barPadding:0,roundedCorners:2,barMinHeight:2,cursor:null,orientation:Gl.Vertical}),Cs=Ce`
  label: grouped-bar-component;
`,Ou=wa`
  :root {
    --vis-grouped-bar-cursor: default;
    --vis-grouped-bar-fill-color: var(--vis-color-main);
    --vis-grouped-bar-stroke-color: none;
    --vis-grouped-bar-stroke-width: 0px;
    --vis-grouped-bar-hover-stroke-width: 1px;
    --vis-grouped-bar-hover-stroke-color: none;


    /* Dark Theme */
    --vis-dark-grouped-bar-stroke-color: none;
  }

  body.theme-dark ${`.${Cs}`} {
    --vis-grouped-bar-stroke-color: var(--vis-dark-grouped-bar-stroke-color);
  }
`,Tr=Ce`
  label: bar;
  fill: var(--vis-grouped-bar-fill-color);
  stroke: var(--vis-grouped-bar-stroke-color);
  stroke-width: var(--vis-grouped-bar-stroke-width);
  cursor: var(--vis-grouped-bar-cursor);

  &:hover {
    stroke-width: var(--vis-grouped-bar-hover-stroke-width);
    stroke: var(--vis-grouped-bar-hover-stroke-color);
  }
`,zn=Ce`
  label: barGroup;
`,As=Ce`
  label: barGroupExit;
`,Bu=Object.freeze(Object.defineProperty({__proto__:null,bar:Tr,barGroup:zn,barGroupExit:As,globalStyles:Ou,root:Cs},Symbol.toStringTag,{value:"Module"}));class Ts extends ar{constructor(t){super(),this._defaultConfig=zu,this.config=this._defaultConfig,this.getAccessors=()=>zr(this.config.y)?this.config.y:[this.config.y],this.events={},this._barData=[],t&&this.setConfig(t)}get bleed(){if(this._barData=this._getVisibleData(),this._barData.length===0)return{top:0,bottom:0,left:0,right:0};const t=!this.isVertical()&&this.dataScale.range()[0]>this.dataScale.range()[1],a=this.dataScale.domain(),r=this._getGroupWidth()/2,l=this._barData.map((L,w)=>$t(L,this.config.x,w)),o=vn(l),u=qi(l),i=this.dataScale(o),c=this.dataScale(u),C=this.dataScale.invert(i+(t?r:-r)),f=this.dataScale.invert(c+(t?-r:r)),g=C<=a[0]?this.dataScale(a[0])-this.dataScale(C):0,A=f>a[1]?this.dataScale(f)-this.dataScale(a[1]):0;return{top:this.isVertical()?0:t?-A:g,bottom:this.isVertical()?0:t?-g:A,left:this.isVertical()?g:0,right:this.isVertical()?A:0}}get dataScale(){return this.isVertical()?this.xScale:this.yScale}get valueScale(){return this.isVertical()?this.yScale:this.xScale}isVertical(){return this.config.orientation===Gl.Vertical}_render(t){const{config:a}=this,r=ya(t)?t:a.duration,l=this._getGroupWidth(),o=this.getAccessors(),u=[-l/2,l/2],i=Hi().domain(Ki(o.length)).range(u).paddingInner(a.barPadding).paddingOuter(a.barPadding),c=this.g.selectAll(`.${zn}`).data(this._barData,(z,x)=>{var F;return`${(F=Za(z,a.id,x))!==null&&F!==void 0?F:x}`}),C=(z,x)=>{const F=this.dataScale($t(z,a.x,x)),W=this.isVertical()?F:0,Y=this.isVertical()?0:F;return`translate(${W},${Y})`},g=c.enter().append("g").attr("class",zn).attr("transform",C).style("opacity",1).merge(c);We(g,r).attr("transform",C).style("opacity",1);const A=c.exit().attr("class",As);We(A,r).style("opacity",0).remove(),We(A.selectAll(`.${Tr}`),r).attr("transform",(z,x,F)=>this.isVertical()?`translate(0,${this.yScale(0)}) scale(1,0)`:`translate(${this.xScale(0)},0) scale(0,1)`);const L=i.bandwidth(),w=g.selectAll(`.${Tr}`).data(z=>o.map(()=>z)),j=this._getValueAxisDirection(),T=w.enter().append("path").attr("class",Tr).attr("d",(z,x)=>{const F=i(x),W=this.valueScale(0),Y=L;return this._getBarPath(F,W,Y,0,!1,j)}).style("fill",(z,x)=>Ht(z,a.color,x)).merge(w);We(T,r).attr("d",(z,x)=>{const F=i(x),W=L,Y=$t(z,o[x]),se=Y<0;let ue=se?this.valueScale(0):this.valueScale(Y||0),H=Math.abs(this.valueScale(0)-this.valueScale(Y))||0;if(H<a.barMinHeight){const K=j===na.North?-1:1;ue=this.valueScale(0)+K*a.barMinHeight,H=a.barMinHeight}return this._getBarPath(F,ue,W,H,se,j)}).style("fill",(z,x)=>Ht(z,a.color,x)).style("cursor",(z,x)=>Za(z,a.cursor,x)),We(w.exit(),r).remove()}_getValueAxisDirection(){return this.valueScale.range()[0]>this.valueScale.range()[1]?na.North:na.South}_getVisibleData(){const{config:t,datamodel:{data:a}}=this,r=this._getGroupWidth(),l=a.length<2?0:r/2,o=this.dataScale,u=Math.abs(o.invert(l)-o.invert(0));return a?.filter((c,C)=>{const f=$t(c,t.x,C),g=o.domain(),A=+g[0],L=+g[1];return f>=A-u&&f<=L+u})}_getBarPath(t,a,r,l,o,u){const{config:i}=this,c=i.roundedCorners?ya(i.roundedCorners)?+i.roundedCorners:r/2:0,C=Ji(c,0,Math.min(l,r)/2),f=u===na.North,g=this.isVertical()&&o!==f,A=this.isVertical()&&o===f,L=!this.isVertical()&&o,w=!this.isVertical()&&!o;return Wi({x:this.isVertical()?t:a+(f?0:-l),y:this.isVertical()?a+(f?0:-l):t,w:this.isVertical()?r:l,h:this.isVertical()?l:r,tl:g||L,tr:g||w,bl:A||L,br:A||w,r:C})}_getGroupWidth(){const{config:t,datamodel:{data:a}}=this;if(Yi(a))return 0;if(t.groupWidth)return vn([t.groupWidth,t.groupMaxWidth]);const r=this.dataScale.bandwidth,l=this.dataScale.domain?this.dataScale.domain():[];let u=1+(r?l.length:l[1]-l[0])/t.dataStep||!r&&a.filter((C,f)=>{const g=$t(C,t.x,f);return g>=l[0]&&g<=l[1]}).length||a.length;!r&&u>=2&&(u+=1);const c=(u<2?1:1-t.groupPadding)*(this.isVertical()?this._width:this._height)/u;return vn([c,t.groupMaxWidth])}getValueScaleExtent(t){const{datamodel:a}=this,r=this.getAccessors(),l=t?this._getVisibleData():a.data,o=Gi(l,...r),u=Xi(l,...r);return[o>0?0:o,u<0?0:u]}getDataScaleExtent(){const{config:t,datamodel:a}=this;return Zi(a.data,t.x)}getYDataExtent(t){return this.isVertical()?this.getValueScaleExtent(t):this.getDataScaleExtent()}getXDataExtent(){return this.isVertical()?this.getDataScaleExtent():this.getValueScaleExtent(!1)}}Ts.selectors=Bu;var Tt;(function(e){e.Circle="circle",e.Cross="cross",e.Diamond="diamond",e.Square="square",e.Star="star",e.Triangle="triangle",e.Wye="wye"})(Tt||(Tt={}));const Fu={[Tt.Circle]:cs,[Tt.Cross]:Io,[Tt.Diamond]:Po,[Tt.Square]:Wo,[Tt.Star]:Ko,[Tt.Triangle]:Yo,[Tt.Wye]:Xo},lt=Object.assign(Object.assign({},Tt),{Line:"line"});var Er;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(Er||(Er={}));const Du={items:[],labelClassName:"",onLegendItemClick:void 0,labelFontSize:null,labelMaxWidth:null,bulletSize:null,bulletSpacing:4,bulletShape:e=>{var t;return(t=e.shape)!==null&&t!==void 0?t:lt.Circle},orientation:Er.Horizontal,renderIntoProvidedDomNode:!1},Sr=eo*3,$u={[lt.Circle]:Math.PI/4,[lt.Cross]:5/9,[lt.Diamond]:Math.sqrt(3)/6,[lt.Square]:1,[lt.Star]:.3,[lt.Triangle]:Math.sqrt(3)/4,[lt.Wye]:5/11};function Vs(e,t,a){return t<1?0:e*t+a*(t-1)}function Eu(e){e.each((t,a,r)=>{_a(r[a]).append("svg").attr("width","100%").attr("height","100%").append("path")})}function Ru(e,t,a){e.each((r,l,o)=>{var u;const i=Za(r,t.bulletShape,l),c=Qi((u=r.color)!==null&&u!==void 0?u:Ht(r,a,l)),C=c.length,f=Sr,g=kn(getComputedStyle(o[l]).getPropertyValue("--vis-legend-bullet-size")),A=t.bulletSpacing*(Sr/g),L=Vs(f,C,A),w=i===lt.Line?Sr/2.5:Sr,j=_a(o[l]).select("svg").attr("viewBox",`0 0 ${L} ${w}`);j.selectAll("path").remove();const R=r.inactive?"var(--vis-legend-bullet-inactive-opacity)":1;c.forEach((T,z)=>{const x=j.append("path");if(i===lt.Line){const F=z*(f+A),W=F+f;x.attr("d",`M${F},${w/2} L${W},${w/2}`).attr("transform",null).style("opacity",R).style("stroke",T).style("stroke-width","3px").style("fill",null).style("fill-opacity",null).style("marker-start","none").style("marker-end","none")}else{const F=Zo().type(Fu[i]).size(f*w*$u[i]),W=(f-2)/f;let Y=w/2;switch(i){case lt.Triangle:Y+=w/8;break;case lt.Star:Y+=w/16;break;case lt.Wye:Y-=w/16;break}const se=z*(f+A)+f/2;x.attr("d",F).attr("transform",`translate(${se}, ${Math.round(Y)}) scale(${W})`).style("stroke",T).style("stroke-width","1px").style("opacity",null).style("fill",T).style("fill-opacity",R)}})})}const Jn=Ce`
  label: bullet-legend-component;
`,ju=wa`
  :root {
    // Undefined by default to allow proper fallback to var(--vis-font-family)
    /* --vis-legend-font-family: */

    --vis-legend-label-color: #6c778c;
    --vis-legend-label-max-width: 300px;
    --vis-legend-label-font-size: 12px;
    --vis-legend-bullet-size: 9px;
    --vis-legend-bullet-inactive-opacity: 0.15;
    --vis-legend-item-spacing: 20px;
    --vis-legend-vertical-item-spacing: 5px;
    --vis-legend-bullet-label-spacing: 8px;

    --vis-dark-legend-label-color: #eee;
  }

  body.theme-dark ${`.${Jn}`} {
    --vis-legend-label-color: var(--vis-dark-legend-label-color);
  }

  body.theme-patterns {
    --vis-legend-bullet-size: 14px;
  }
`,Vr=Ce`
  label: legendItem;
  display: inline-flex;
  align-items: center;
  font-family: var(--vis-legend-font-family, var(--vis-font-family));
  margin-right: var(--vis-legend-item-spacing);
  white-space: nowrap;
  cursor: default;
  user-select: none;
  max-width: min-content;
`,Ls=Ce`
  label: legendItemVertical;
  display: flex;
  margin-top: var(--vis-legend-vertical-item-spacing);
`,Ms=Ce`
  cursor: pointer;
`,On=Ce`
  label: legendItemLabel;
  font-size: var(--vis-legend-label-font-size);
  display: inline-block;
  vertical-align: middle;
  color: var(--vis-legend-label-color);
  max-width: var(--vis-legend-label-max-width);
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
`,Bn=Ce`
  flex: 0 0 auto;
  label: legendItemBullet;
  margin-right: var(--vis-legend-bullet-label-spacing);
  height: var(--vis-legend-bullet-size);
  width: var(--vis-legend-bullet-size);

  svg {
    display: block;
  }
`,Iu=Object.freeze(Object.defineProperty({__proto__:null,bullet:Bn,clickable:Ms,item:Vr,itemVertical:Ls,label:On,root:Jn,variables:ju},Symbol.toStringTag,{value:"Module"}));class zs{constructor(t,a){this._defaultConfig=Du,this.config=this._defaultConfig,this._colorAccessor=r=>r.color,this._container=t,this.div=a?.renderIntoProvidedDomNode?_a(this._container):_a(this._container).append("div"),this.div.classed(Jn,!0),this.element=this.div.node(),a&&this.update(a)}update(t){this.prevConfig=this.config,this.config=to(this._defaultConfig,t),this.render()}render(){const{config:t}=this,a=this.div.selectAll(`.${Vr}`).data(t.items),r=a.enter().append("div").on("click",this._onItemClick.bind(this)),l=r.merge(a);l.attr("class",o=>{var u;return`${Vr} ${(u=o.className)!==null&&u!==void 0?u:""}`}).classed(Ls,t.orientation===Er.Vertical).classed(Ms,o=>!!t.onLegendItemClick&&this._isItemClickable(o)).attr("title",o=>o.name).style("display",o=>o.hidden?"none":null),r.append("span").attr("class",Bn).call(Eu),l.select(`.${Bn}`).style("width",function(o){const i=(Array.isArray(o.color)?o.color:[o.color]).length,c=kn(getComputedStyle(this).getPropertyValue("--vis-legend-bullet-size"))||9,C=t.bulletSize?kn(t.bulletSize):c,f=t.bulletSpacing;return`${Vs(C,i,f)}px`}).style("height",t.bulletSize).style("box-sizing","content-box").call(Ru,this.config,this._colorAccessor),r.append("span").attr("class",On).classed(t.labelClassName,!0).style("max-width",t.labelMaxWidth).style("font-size",t.labelFontSize),l.select(`.${On}`).text(o=>o.name),a.exit().remove()}_isItemClickable(t){return t.pointer===void 0?!0:t.pointer}_onItemClick(t,a){const{config:{onLegendItemClick:r}}=this,o=this.div.selectAll(`.${Vr}`).nodes().indexOf(t.currentTarget);r&&r(a,o)}destroy(){this.element!==this._container&&this.div.remove()}}zs.selectors=Iu;var Fn;(function(e){e.Solid="solid",e.Dash="dash",e.DashDot="dashDot",e.Dot="dot",e.LongDash="longDash",e.LongDashDot="longDashDot",e.LongDashDotDot="longDashDotDot",e.ShortDash="shortDash",e.ShortDashDot="shortDashDot",e.ShortDashDotDot="shortDashDotDot",e.ShortDot="shortDot"})(Fn||(Fn={}));var de;(function(e){e.TopLeft="top-left",e.Top="top",e.TopRight="top-right",e.Right="right",e.BottomRight="bottom-right",e.Bottom="bottom",e.BottomLeft="bottom-left",e.Left="left"})(de||(de={}));var Rr;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(Rr||(Rr={}));var q;(function(e){e.TopLeftInside="top-left-inside",e.TopLeftOutside="top-left-outside",e.TopInside="top-inside",e.TopOutside="top-outside",e.TopRightInside="top-right-inside",e.TopRightOutside="top-right-outside",e.RightInside="right-inside",e.RightOutside="right-outside",e.BottomRightInside="bottom-right-inside",e.BottomRightOutside="bottom-right-outside",e.BottomInside="bottom-inside",e.BottomOutside="bottom-outside",e.BottomLeftInside="bottom-left-inside",e.BottomLeftOutside="bottom-left-outside",e.LeftInside="left-inside",e.LeftOutside="left-outside"})(q||(q={}));var Dn;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(Dn||(Dn={}));const Nu=Object.assign(Object.assign({},tr),{color:void 0,curveType:Ve.MonotoneX,baseline:()=>0,opacity:1,cursor:null,minHeight1Px:!1,minHeight:void 0}),Os=Ce`
  label: area-component;
`,Pu=wa`
  :root {
    --vis-area-cursor: default;
    --vis-area-fill-opacity: 1;
    --vis-area-stroke-color: none;
    --vis-area-stroke-width: 0px;
    --vis-area-stroke-dasharray: none;
    --vis-area-stroke-opacity: 1;
    --vis-area-hover-fill-opacity: none;
    --vis-area-hover-stroke-width: none;

    /* Dark Theme */
    --vis-dark-area-stroke-color: none;
  }

  body.theme-dark ${`.${Os}`} {
    --vis-area-stroke-color: var(--vis-dark-area-stroke-color);
  }

`,$n=Ce`
  label: area;
  cursor: var(--vis-area-cursor);
  fill-opacity: var(--vis-area-fill-opacity);
  stroke-width: var(--vis-area-stroke-width);
  stroke-dasharray: var(--vis-area-stroke-dasharray);
  stroke: var(--vis-area-stroke-color);
  stroke-opacity: var(--vis-area-stroke-opacity);

  &:hover {
    fill-opacity: var(--vis-area-hover-fill-opacity);
    stroke-width: var(--vis-area-hover-stroke-width);
  }
`,Uu=Object.freeze(Object.defineProperty({__proto__:null,area:$n,globalStyles:Pu,root:Os},Symbol.toStringTag,{value:"Module"}));class Hr extends ar{constructor(t){super(),this._defaultConfig=Nu,this.config=this._defaultConfig,this.stacked=!0,this.events={[Hr.selectors.area]:{}},t&&this.setConfig(t),this.stacked=Array.isArray(this.config.y)}_render(t){super._render(t);const{config:a,datamodel:{data:r}}=this,l=ya(t)?t:a.duration,o=An[a.curveType];this._areaGen=jo().x(R=>R.x).y0(R=>R.y0).y1(R=>R.y1).curve(o);const u=zr(a.y)?a.y:[a.y],i=r.map((R,T)=>this.xScale($t(R,a.x,T))),c=ao(r,a.baseline,u,this._prevNegative);this._prevNegative=c.map(R=>!!R.isMostlyNegative);const C=[],f=c.map(R=>R.map((T,z)=>{var x,F;const W=i[z],Y=this.yScale(T[0]),se=this.yScale(T[1]),ue=se>Y,H=C[z]||0,K=ue?Y+H:Y-H,X=ue?se+H:se-H;let re=0;return(a.minHeight||a.minHeight1Px)&&Math.abs(X-K)<((x=a.minHeight)!==null&&x!==void 0?x:1)&&(re=((F=a.minHeight)!==null&&F!==void 0?F:1)-Math.abs(X-K),C[z]=H+re),{x:W,y0:K,y1:ue?X+re:X-re}})),g=f.length-1,A=f.reverse(),L=this.g.selectAll(`.${$n}`).data(A),w=L.enter().append("path").attr("class",$n).attr("d",R=>this._areaGen(R)||this._emptyPath()).style("opacity",0).style("fill",(R,T)=>Ht(r,a.color,g-T)),j=We(w.merge(L),l).style("opacity",(R,T)=>R.some(x=>x.y0-x.y1!==0)?$t(r,a.opacity,g-T):0).style("fill",(R,T)=>Ht(r,a.color,g-T)).style("cursor",(R,T)=>Za(r,a.cursor,g-T));l?j.attrTween("d",(T,z,x)=>{const F=_a(x[z]).attr("d"),W=this._areaGen(T)||this._emptyPath();return Ss(F,W)}):j.attr("d",R=>this._areaGen(R)||this._emptyPath()),We(L.exit(),l).style("opacity",0).remove()}getYDataExtent(t){const{config:a,datamodel:r}=this,l=zr(a.y)?a.y:[a.y],o=this.xScale.domain(),u=t?ro(r.data,o,a.x,!0):r.data;return no(u,a.baseline,...l)}_emptyPath(){const t=this.xScale.range(),a=this.yScale.domain(),r=this.yScale((a[0]+a[1])/2),l=r;return this._areaGen([{y0:r,y1:l,x:t[0]},{y0:r,y1:l,x:t[1]}])}}Hr.selectors=Uu;const qu={[q.TopLeftOutside]:({startX:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[q.TopLeftInside]:({startX:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[q.TopOutside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[q.TopInside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[q.TopRightOutside]:({startX:e,width:t,offsetX:a,offsetY:r})=>({x:e+t+a,y:r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[q.TopRightInside]:({startX:e,width:t,offsetX:a,offsetY:r})=>({x:e+t-a,y:r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[q.RightOutside]:({startX:e,width:t,height:a,offsetX:r})=>({x:e+t+r,y:a/2,textAnchor:"start",dominantBaseline:"middle"}),[q.RightInside]:({startX:e,width:t,height:a,offsetX:r})=>({x:e+t-r,y:a/2,textAnchor:"end",dominantBaseline:"middle"}),[q.BottomRightOutside]:({startX:e,width:t,height:a,offsetX:r,offsetY:l})=>({x:e+t+r,y:a-l,textAnchor:"start",dominantBaseline:"text-after-edge"}),[q.BottomRightInside]:({startX:e,width:t,height:a,offsetX:r,offsetY:l})=>({x:e+t-r,y:a-l,textAnchor:"end",dominantBaseline:"text-after-edge"}),[q.BottomOutside]:({startX:e,width:t,height:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[q.BottomInside]:({startX:e,width:t,height:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[q.BottomLeftOutside]:({startX:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[q.BottomLeftInside]:({startX:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[q.LeftOutside]:({startX:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"end",dominantBaseline:"middle"}),[q.LeftInside]:({startX:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"start",dominantBaseline:"middle"})},Hu={[q.TopLeftOutside]:({startX:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-after-edge"}),[q.TopLeftInside]:({startX:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[q.TopOutside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"end",dominantBaseline:"middle"}),[q.TopInside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"end",dominantBaseline:"middle"}),[q.TopRightOutside]:({startX:e,width:t,offsetX:a,offsetY:r})=>({x:e+t+a,y:r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[q.TopRightInside]:({startX:e,width:t,offsetX:a,offsetY:r})=>({x:e+t-a,y:r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[q.RightOutside]:({startX:e,width:t,height:a,offsetX:r})=>({x:e+t+r,y:a/2,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[q.RightInside]:({startX:e,width:t,height:a,offsetX:r})=>({x:e+t-r,y:a/2,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[q.BottomRightOutside]:({startX:e,width:t,height:a,offsetX:r,offsetY:l})=>({x:e+t+r,y:a-l,textAnchor:"start",dominantBaseline:"text-before-edge"}),[q.BottomRightInside]:({startX:e,width:t,height:a,offsetX:r,offsetY:l})=>({x:e+t-r,y:a-l,textAnchor:"start",dominantBaseline:"text-after-edge"}),[q.BottomOutside]:({startX:e,width:t,height:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"start",dominantBaseline:"middle"}),[q.BottomInside]:({startX:e,width:t,height:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"start",dominantBaseline:"middle"}),[q.BottomLeftOutside]:({startX:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[q.BottomLeftInside]:({startX:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[q.LeftOutside]:({startX:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[q.LeftInside]:({startX:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"middle",dominantBaseline:"text-before-edge"})},Ku={[q.TopLeftOutside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e-a,textAnchor:"start",dominantBaseline:"text-after-edge"}),[q.TopLeftInside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e+a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[q.TopOutside]:({startX:e,width:t,startY:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[q.TopInside]:({startX:e,width:t,startY:a,offsetY:r})=>({x:e+t/2,y:a+r,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[q.TopRightOutside]:({startY:e,width:t,offsetX:a,offsetY:r})=>({x:t-a,y:e-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[q.TopRightInside]:({startY:e,width:t,offsetX:a,offsetY:r})=>({x:t-a,y:e+r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[q.RightOutside]:({startY:e,height:t,width:a,offsetX:r})=>({x:a-r,y:e+t/2,textAnchor:"end",dominantBaseline:"middle"}),[q.RightInside]:({startY:e,height:t,width:a,offsetX:r})=>({x:a-r,y:e+t/2,textAnchor:"end",dominantBaseline:"middle"}),[q.BottomRightOutside]:({startY:e,height:t,width:a,offsetX:r,offsetY:l})=>({x:a-r,y:e+t+l,textAnchor:"end",dominantBaseline:"text-before-edge"}),[q.BottomRightInside]:({startY:e,height:t,width:a,offsetX:r,offsetY:l})=>({x:a-r,y:e+t-l,textAnchor:"end",dominantBaseline:"text-after-edge"}),[q.BottomOutside]:({startX:e,width:t,startY:a,height:r,offsetY:l})=>({x:e+t/2,y:a+r+l,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[q.BottomInside]:({startX:e,width:t,startY:a,height:r,offsetY:l})=>({x:e+t/2,y:a+r-l,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[q.BottomLeftOutside]:({startY:e,height:t,offsetX:a,offsetY:r})=>({x:a,y:e+t+r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[q.BottomLeftInside]:({startY:e,height:t,offsetX:a,offsetY:r})=>({x:a,y:e+t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[q.LeftOutside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"start",dominantBaseline:"middle"}),[q.LeftInside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"start",dominantBaseline:"middle"})},Wu={[q.TopLeftOutside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e-a,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[q.TopLeftInside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e+a,textAnchor:"end",dominantBaseline:"text-before-edge",rotation:-90}),[q.TopOutside]:({startX:e,width:t,startY:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"end",dominantBaseline:"middle",rotation:-90}),[q.TopInside]:({startX:e,width:t,startY:a,offsetY:r})=>({x:e+t/2,y:a+r,textAnchor:"end",dominantBaseline:"middle",rotation:-90}),[q.TopRightOutside]:({startY:e,width:t,offsetX:a,offsetY:r})=>({x:t-a,y:e-r,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[q.TopRightInside]:({startY:e,width:t,offsetX:a,offsetY:r})=>({x:t-a,y:e+r,textAnchor:"end",dominantBaseline:"text-after-edge",rotation:-90}),[q.RightOutside]:({startY:e,height:t,width:a,offsetX:r})=>({x:a-r,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-after-edge",rotation:-90}),[q.RightInside]:({startY:e,height:t,width:a,offsetX:r})=>({x:a-r,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-after-edge",rotation:-90}),[q.BottomRightOutside]:({startY:e,height:t,width:a,offsetX:r,offsetY:l})=>({x:a-r,y:e+t+l,textAnchor:"start",dominantBaseline:"text-before-edge",rotation:-90}),[q.BottomRightInside]:({startY:e,height:t,width:a,offsetX:r,offsetY:l})=>({x:a-r,y:e+t-l,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[q.BottomOutside]:({startX:e,width:t,startY:a,height:r,offsetY:l})=>({x:e+t/2,y:a+r+l,textAnchor:"start",dominantBaseline:"middle",rotation:-90}),[q.BottomInside]:({startX:e,width:t,startY:a,height:r,offsetY:l})=>({x:e+t/2,y:a+r-l,textAnchor:"start",dominantBaseline:"middle",rotation:-90}),[q.BottomLeftOutside]:({startY:e,height:t,offsetX:a,offsetY:r})=>({x:a,y:e+t+r,textAnchor:"end",dominantBaseline:"text-before-edge",rotation:-90}),[q.BottomLeftInside]:({startY:e,height:t,offsetX:a,offsetY:r})=>({x:a,y:e+t-r,textAnchor:"start",dominantBaseline:"text-before-edge",rotation:-90}),[q.LeftOutside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-before-edge",rotation:-90}),[q.LeftInside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-before-edge",rotation:-90})},Yu=Object.assign(Object.assign({},tr),{axis:Ja.Y,from:0,to:0,color:void 0,duration:300,labelPosition:q.TopLeftOutside,labelOffsetX:14,labelOffsetY:14,labelOrientation:Dn.Horizontal}),Gu=wa`
  :root {
    --vis-plotband-color: rgba(255, 255, 90, 0.2);
    --vis-plotband-label-font-size: 12px;
    --vis-plotband-label-color: #000;

    --vis-dark-plotband-color: rgba(220, 220, 90, 0.2);
    --vis-dark-plotband-label-color: #e5e9f7;
  }

  body.theme-dark {
    --vis-plotband-color: var(--vis-dark-plotband-color);
    --vis-plotband-label-color: var(--vis-dark-tooltip-text-color);
  }
`,Xu=Ce`
  label: plotband-component;
`,Bs=Ce`
  label: plotband-area;
  transition: opacity 200ms;
  cursor: var(--vis-line-cursor);
  fill: var(--vis-plotband-color);
`,Fs=Ce`
  label: plotline-label;

  user-select: none;
  text-anchor: middle;
  pointer-events: none;
  font-size: var(--vis-plotband-label-font-size);
  fill: var(--vis-plotband-label-color);
`,Zu=Object.freeze(Object.defineProperty({__proto__:null,globalStyles:Gu,label:Fs,plotband:Bs,root:Xu},Symbol.toStringTag,{value:"Module"}));class Ds extends ar{constructor(t){super(),this._defaultConfig=Yu,t&&this.setConfig(t),this.plotband=this.g.append("rect").attr("class",Bs),this.label=this.g.append("text").attr("class",Fs)}_render(t){super._render(t);const{config:a}=this;if(this.from=a.from,this.to=a.to,this.plotband.style("fill",a.color),this.from==null||this.to==null)return;let r=0,l=0,o=0,u=0;if(a.axis==="y"){const i=this.yScale(this.from),c=this.yScale(this.to);l=Math.min(i,c),u=Math.abs(i-c),r=0,o=this._width}else{const i=this.xScale(this.from),c=this.xScale(this.to);r=Math.min(i,c),o=Math.abs(i-c),l=0,u=this._height}if(We(this.plotband,a.duration).attr("x",r).attr("y",l).attr("width",o).attr("height",u),a.labelText){const i=this.computeLabel(a.axis,r,l,o,u,a.labelPosition,a.labelOffsetX,a.labelOffsetY,a.labelOrientation);this.label.attr("dominant-baseline",i.dominantBaseline).attr("transform",i.transform).style("text-anchor",i.textAnchor).style("fill",a.labelColor).style("font-size",a.labelSize?`${a.labelSize}px`:void 0),We(this.label,a.duration).text(a.labelText).attr("x",i.x).attr("y",i.y)}We(this.plotband.exit()).style("opacity",0).remove()}computeLabel(t,a,r,l,o,u,i,c,C){const f=C==="vertical",g=f?-90:0,A={startX:a,startY:r,width:l,height:o,offsetX:i,offsetY:c};let L;t===Ja.X?L=(f?Hu:qu)[u](A):L=(f?Wu:Ku)[u](A);const{x:w,y:j,textAnchor:R,dominantBaseline:T}=L,z=g!==0?`rotate(${g}, ${w}, ${j})`:"";return{x:w,y:j,rotation:g,textAnchor:R,transform:z,dominantBaseline:T}}}Ds.selectors=Zu;const Ju={solid:"none",shortDash:"6,2",shortDot:"2,2",shortDashDot:"6,2,2,2",shortDashDotDot:"6,2,2,2,2,2",dot:"2,6",dash:"8,6",longDash:"16,6",dashDot:"8,6,2,6",longDashDot:"16,6,2,6",longDashDotDot:"16,6,2,6,2,6"},Qu={[de.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[de.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[de.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[de.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"start",dominantBaseline:"middle"}),[de.BottomRight]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[de.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[de.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[de.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"end",dominantBaseline:"middle"})},ec={[de.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-after-edge"}),[de.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"end",dominantBaseline:"middle"}),[de.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[de.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[de.BottomRight]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[de.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"middle"}),[de.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[de.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"middle",dominantBaseline:"text-after-edge"})},tc={[de.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-after-edge"}),[de.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[de.TopRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[de.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"middle"}),[de.BottomRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a+r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[de.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[de.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[de.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"start",dominantBaseline:"middle"})},ac={[de.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[de.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"start",dominantBaseline:"central"}),[de.TopRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[de.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[de.BottomRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a+r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[de.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"end",dominantBaseline:"central"}),[de.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[de.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"})},rc=Object.assign(Object.assign({},tr),{lineWidth:2,axis:Ja.Y,value:0,duration:300,color:void 0,lineStyle:Fn.Solid,labelPosition:de.TopRight,labelOffsetX:14,labelOffsetY:14,labelOrientation:Rr.Horizontal}),nc=wa`
  :root {
    --vis-plotline-color: rgb(226, 32, 58);
    --vis-plotline-width: 2;
    --vis-plotline-dasharray: none;
    --vis-plotline-stroke-dashoffset: 0;
    --vis-plotline-label-font-size: 12px;
    --vis-plotline-label-color: #000;

    --vis-dark-plotline-label-color: #e5e9f7;
  }

  body.theme-dark {
    --vis-plotline-label-color: var(--vis-dark-tooltip-text-color);
  }
`,lc=Ce`
  label: plotline-component;
`,$s=Ce`
  label: plotline;
  transition: opacity 200ms;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke: var(--vis-plotline-color);
  stroke-width: var(--vis-plotline-width);
  stroke-dasharray: var(--vis-plotline-dasharray);
  stroke-dashoffset: var(--vis-plotline-stroke-dashoffset);
`,Es=Ce`
  label: plotline-label;
  text-anchor: middle;
  /* dominant-baseline: middle; */
  pointer-events: none;
  font-size: var(--vis-plotline-label-font-size);
  fill: var(--vis-plotline-label-color);
`,sc=Object.freeze(Object.defineProperty({__proto__:null,globalStyles:nc,label:Es,plotline:$s,root:lc},Symbol.toStringTag,{value:"Module"}));class Rs extends ar{constructor(t){super(),this._defaultConfig=rc,t&&this.setConfig(t),this.plotline=this.g.append("line").attr("class",$s),this.label=this.g.append("text").attr("class",Es)}_render(t){super._render(t);const{config:a}=this;this.value=a.value;let r;typeof a?.lineStyle=="string"?r=Ju[a.lineStyle]:Array.isArray(a.lineStyle)?r=a.lineStyle.join(","):r="none",this.value=a.value,this.plotline.attr("stroke-opacity",1).style("stroke-width",a.lineWidth).style("stroke-dasharray",r).style("stroke",a.color);let l=0,o=0,u=0,i=0;if(a.axis===Ja.Y?(u=this.yScale(this.value),i=this.yScale(this.value),l=0,o=this._width):(u=0,i=this._height,l=this.xScale(this.value),o=this.xScale(this.value)),We(this.plotline,a.duration).attr("x1",l).attr("x2",o).attr("y1",u).attr("y2",i),a.labelText){const c=this.computeLabel(a.axis,o,i,a.labelPosition,a.labelOffsetX,a.labelOffsetY,a.labelOrientation);this.label.text(a.labelText).attr("transform",c.transform).attr("dominant-baseline",c.dominantBaseline).style("fill",a.labelColor).style("text-anchor",c.textAnchor).style("font-size",a.labelSize?`${a.labelSize}px`:void 0),We(this.label,a.duration).attr("x",c.x).attr("y",c.y)}We(this.plotline.exit()).style("opacity",0).remove()}computeLabel(t,a,r,l,o,u,i){const c=i===Rr.Vertical,C=c?-90:0;let f;t===Ja.X?f=(c?ec:Qu)[l]({width:a,height:r,offsetX:o,offsetY:u}):f=(c?ac:tc)[l]({width:a,height:r,offsetX:o,offsetY:u});const g=C?`rotate(${C}, ${f.x}, ${f.y})`:"";return Object.assign(Object.assign({},f),{rotation:C,transform:g})}}Rs.selectors=sc;const ic={"data-vis-component":""},Cr=Re({__name:"index",props:{color:{},curveType:{},baseline:{},opacity:{},cursor:{},minHeight1Px:{type:Boolean},minHeight:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=er(rr),r=e,l=v(()=>a.data.value??r.data),o=Sa(r),u=B();return pt(()=>{ht(()=>{var i;u.value=new Hr(o.value),(i=u.value)==null||i.setData(l.value),a.update(u.value)})}),Et(()=>{var i;(i=u.value)==null||i.destroy(),a.destroy()}),le(o,(i,c)=>{var C;Ca(i,c)||(C=u.value)==null||C.setConfig(o.value)}),le(l,()=>{var i;(i=u.value)==null||i.setData(l.value)}),t({component:u}),(i,c)=>(h(),D("div",ic))}}),oc={"data-vis-component":""},uc=Re({__name:"index",props:{color:{},groupWidth:{},groupMaxWidth:{},dataStep:{},groupPadding:{},barPadding:{},roundedCorners:{type:[Number,Boolean]},barMinHeight:{},cursor:{},orientation:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=er(rr),r=e,l=v(()=>a.data.value??r.data),o=Sa(r),u=B();return pt(()=>{ht(()=>{var i;u.value=new Ts(o.value),(i=u.value)==null||i.setData(l.value),a.update(u.value)})}),Et(()=>{var i;(i=u.value)==null||i.destroy(),a.destroy()}),le(o,(i,c)=>{var C;Ca(i,c)||(C=u.value)==null||C.setConfig(o.value)}),le(l,()=>{var i;(i=u.value)==null||i.setData(l.value)}),t({component:u}),(i,c)=>(h(),D("div",oc))}}),cc={"data-vis-component":""},Fl=Re({__name:"index",props:{color:{},curveType:{},lineWidth:{},lineDashArray:{},fallbackValue:{},highlightOnHover:{type:Boolean},cursor:{},interpolateMissingData:{type:Boolean},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=er(rr),r=e,l=v(()=>a.data.value??r.data),o=Sa(r),u=B();return pt(()=>{ht(()=>{var i;u.value=new qr(o.value),(i=u.value)==null||i.setData(l.value),a.update(u.value)})}),Et(()=>{var i;(i=u.value)==null||i.destroy(),a.destroy()}),le(o,(i,c)=>{var C;Ca(i,c)||(C=u.value)==null||C.setConfig(o.value)}),le(l,()=>{var i;(i=u.value)==null||i.setData(l.value)}),t({component:u}),(i,c)=>(h(),D("div",cc))}}),dc={"data-vis-component":""},pn=Re({__name:"index",props:{color:{},axis:{},from:{},to:{},duration:{},labelText:{},labelPosition:{},labelOffsetX:{},labelOffsetY:{},labelOrientation:{},labelColor:{},labelSize:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=er(rr),r=Sa(e),l=B();return pt(()=>{ht(()=>{l.value=new Ds(r.value),a.update(l.value)})}),Et(()=>{var o;(o=l.value)==null||o.destroy(),a.destroy()}),le(r,(o,u)=>{var i;Ca(o,u)||(i=l.value)==null||i.setConfig(r.value)}),t({component:l}),(o,u)=>(h(),D("div",dc))}}),vc={"data-vis-component":""},Ar=Re({__name:"index",props:{color:{},lineWidth:{},axis:{},value:{},duration:{},lineStyle:{},labelText:{},labelPosition:{},labelOffsetX:{},labelOffsetY:{},labelOrientation:{},labelColor:{},labelSize:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=er(rr),r=Sa(e),l=B();return pt(()=>{ht(()=>{l.value=new Rs(r.value),a.update(l.value)})}),Et(()=>{var o;(o=l.value)==null||o.destroy(),a.destroy()}),le(r,(o,u)=>{var i;Ca(o,u)||(i=l.value)==null||i.setConfig(r.value)}),t({component:l}),(o,u)=>(h(),D("div",vc))}}),fc=Re({__name:"index",props:{items:{},labelClassName:{},onLegendItemClick:{type:Function},labelFontSize:{},labelMaxWidth:{},bulletSize:{},bulletSpacing:{},bulletShape:{},orientation:{},renderIntoProvidedDomNode:{type:Boolean},data:{}},setup(e,{expose:t}){const a=e;v(()=>a.data);const r=Sa(a),l=B(),o=B();return pt(()=>{ht(()=>{o.value&&(l.value=new zs(o.value,{...r.value,renderIntoProvidedDomNode:!0}))})}),Et(()=>{var u;(u=l.value)==null||u.destroy()}),le(r,(u,i)=>{var c;Ca(u,i)||(c=l.value)==null||c.update(r.value)}),t({component:l}),(u,i)=>(h(),D("div",{"data-vis-bullet-legend":"",ref_key:"elRef",ref:o},null,512))}});var mc=typeof global=="object"&&global&&global.Object===Object&&global,pc=typeof self=="object"&&self&&self.Object===Object&&self,hc=mc||pc||Function("return this")(),xa=hc.Symbol,js=Object.prototype,gc=js.hasOwnProperty,bc=js.toString,Pa=xa?xa.toStringTag:void 0;function yc(e){var t=gc.call(e,Pa),a=e[Pa];try{e[Pa]=void 0;var r=!0}catch{}var l=bc.call(e);return r&&(t?e[Pa]=a:delete e[Pa]),l}var kc=Object.prototype,_c=kc.toString;function xc(e){return _c.call(e)}var wc="[object Null]",Sc="[object Undefined]",Dl=xa?xa.toStringTag:void 0;function Cc(e){return e==null?e===void 0?Sc:wc:Dl&&Dl in Object(e)?yc(e):xc(e)}function Ac(e){return e!=null&&typeof e=="object"}var Tc="[object Symbol]";function Vc(e){return typeof e=="symbol"||Ac(e)&&Cc(e)==Tc}function Lc(e,t){for(var a=-1,r=e==null?0:e.length,l=Array(r);++a<r;)l[a]=t(e[a],a,e);return l}var Mc=Array.isArray,$l=xa?xa.prototype:void 0,El=$l?$l.toString:void 0;function Is(e){if(typeof e=="string")return e;if(Mc(e))return Lc(e,Is)+"";if(Vc(e))return El?El.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Ns(e){return e==null?"":Is(e)}function zc(e,t,a){var r=-1,l=e.length;t<0&&(t=-t>l?0:l+t),a=a>l?l:a,a<0&&(a+=l),l=t>a?0:a-t>>>0,t>>>=0;for(var o=Array(l);++r<l;)o[r]=e[r+t];return o}function Oc(e,t,a){var r=e.length;return a=a===void 0?r:a,!t&&a>=r?e:zc(e,t,a)}var Bc="\\ud800-\\udfff",Fc="\\u0300-\\u036f",Dc="\\ufe20-\\ufe2f",$c="\\u20d0-\\u20ff",Ec=Fc+Dc+$c,Rc="\\ufe0e\\ufe0f",jc="\\u200d",Ic=RegExp("["+jc+Bc+Ec+Rc+"]");function Ps(e){return Ic.test(e)}function Nc(e){return e.split("")}var Us="\\ud800-\\udfff",Pc="\\u0300-\\u036f",Uc="\\ufe20-\\ufe2f",qc="\\u20d0-\\u20ff",Hc=Pc+Uc+qc,Kc="\\ufe0e\\ufe0f",Wc="["+Us+"]",En="["+Hc+"]",Rn="\\ud83c[\\udffb-\\udfff]",Yc="(?:"+En+"|"+Rn+")",qs="[^"+Us+"]",Hs="(?:\\ud83c[\\udde6-\\uddff]){2}",Ks="[\\ud800-\\udbff][\\udc00-\\udfff]",Gc="\\u200d",Ws=Yc+"?",Ys="["+Kc+"]?",Xc="(?:"+Gc+"(?:"+[qs,Hs,Ks].join("|")+")"+Ys+Ws+")*",Zc=Ys+Ws+Xc,Jc="(?:"+[qs+En+"?",En,Hs,Ks,Wc].join("|")+")",Qc=RegExp(Rn+"(?="+Rn+")|"+Jc+Zc,"g");function ed(e){return e.match(Qc)||[]}function td(e){return Ps(e)?ed(e):Nc(e)}function ad(e){return function(t){t=Ns(t);var a=Ps(t)?td(t):void 0,r=a?a[0]:t.charAt(0),l=a?Oc(a,1).join(""):t.slice(1);return r[e]()+l}}var rd=ad("toUpperCase");function Rl(e){return rd(Ns(e).toLowerCase())}const nd={key:1,class:"mx-1.5 flex flex-wrap gap-0 gap-y-1"},ld=Re({__name:"ForestryChartDisplay",props:{selectedFrameworks:{default:()=>[]},selectedArtkategori:{},chartType:{},currentTimeValue:{},singleFrameworkSelection:{type:Boolean,default:!1},frameworkComparisonMode:{type:Boolean,default:!1},selectedStartskog:{},redColor:{type:Boolean,default:!1},yellowColor:{type:Boolean,default:!1},maxYValue:{},matsvampVariant:{default:"standard"},relativeChart:{type:Boolean,default:!1}},async setup(e){let t,a;const r={matsvamp:"Alla matsvampar","goda matsvampar":"Goda matsvampar","rdlistade + signalarter":"Signal + rdlistade",atheliales:"Atheliales",boletales:"Boletales",cantharellales:"Cantharellales",spindlingar:"Cortinariaceae",russulales:"Russulales",thelephorales:"Thelephorales",ascomycota:"Ascomyceter",vriga:"vriga"},l={trakthygge:"trakthygge",bldning:"bldning",luckhuggning:"luckhuggning",skrm:"skrmtrd",skarm:"skrmtrd","ingen tgrd":"naturskydd"};function o(d){const b=(d||"").trim().toLowerCase();return b?l[b]||b:""}function u(d){return typeof d=="string"?d:typeof d=="number"?String(d):""}function i(d){if(typeof d=="number")return d;if(typeof d=="string"){const b=d.replace(",","."),V=Number(b);return Number.isFinite(V)?V:NaN}return NaN}const{data:c}=([t,a]=Ua(()=>ba("skogsbruk-svampar",()=>qa("skogsbrukSvampar").first())),t=await t,a(),t);function C(d){return d?Array.isArray(d)?d:Array.isArray(d?.entries)?d.entries:Array.isArray(d?.body)?d.body:Array.isArray(d?.data)?d.data:[]:[]}const f=v(()=>C(c.value)),g=v(()=>{const d={};for(const b of f.value){const V=o(String(b?.metod??"")),S=u(b?.startskog),_=i(b?.lder);if(!(!Number.isFinite(_)||!V))for(const[N,Z]of Object.entries(r)){const Q=i(b?.[Z]);Number.isFinite(Q)&&(d[N]||(d[N]=[]),d[N].push({artkategori:N,startskog:S,frameworks:V,lder:_,klassning:Q}))}}return Object.values(d).forEach(b=>b.sort((V,S)=>V.lder-S.lder)),d}),{data:A}=([t,a]=Ua(()=>ba("kg-matsvamp-skogsbruk",()=>qa("kgMatsvampSkogsbruk").first())),t=await t,a(),t),{data:L}=([t,a]=Ua(()=>ba("total-svampar-skogsbruk",()=>qa("totalSvamparSkogsbruk").first())),t=await t,a(),t),w=v(()=>g.value.matsvamp??[]),j=v(()=>g.value["goda matsvampar"]??[]),R=v(()=>Array.isArray(A.value?.entries)?A.value.entries:[]),T=v(()=>g.value["rdlistade + signalarter"]??[]),z=v(()=>T.value),x=v(()=>g.value.atheliales??[]),F=v(()=>g.value.boletales??[]),W=v(()=>g.value.cantharellales??[]),Y=v(()=>g.value.spindlingar??[]),se=v(()=>g.value.russulales??[]),ue=v(()=>g.value.ascomycota??[]),H=v(()=>g.value.thelephorales??[]),K=v(()=>g.value.vriga??[]),X=v(()=>Array.isArray(L.value?.entries)?L.value.entries:[]),{data:re}=([t,a]=Ua(()=>ba("svampgrupper-relative-skogsbruk",()=>qa("svampgrupperRelativeSkogsbruk").first())),t=await t,a(),t),te=["atheliales","boletales","cantharellales","spindlingar","russulales","thelephorales","ascomycota","vriga"],fe=v(()=>{const d=Array.isArray(re.value?.entries)?re.value.entries:[],b=new Map;for(const S of d){if(!S)continue;const _=Number(S?.lder);if(!Number.isFinite(_))continue;const N=b.get(_)||{age:_};if(typeof S.artkategori=="string"&&S.klassning!==void 0){const Z=Ma(S.artkategori),Q=Number(S.klassning);Z&&Number.isFinite(Q)&&(N[Z]=Q)}else for(const Z of te){const Q=r[Z],De=S?.[Q];if(De==null)continue;const oe=Number(De);Number.isFinite(oe)&&(N[Z]=oe)}b.set(_,N)}return Array.from(b.values()).map(S=>{for(const _ of te)Number.isFinite(Number(S[_]))||(S[_]=0);return S}).sort((S,_)=>Number(S.age)-Number(_.age))}),tt=v(()=>{const d=Number(M.maxYValue);if(oa.value){if(Number.isFinite(d))return[0,d*2];const b=Array.isArray(ce.value)?ce.value:[];let V=0;for(const S of b){const _=P.value[0]||(M.selectedArtkategori[0]?.toLowerCase()??"");if(!_)continue;const N=Number(S?.[_]);Number.isFinite(N)&&N>V&&(V=N)}return[0,V*2||1]}return Number.isFinite(d)?[0,d]:void 0}),ce=v(()=>M.relativeChart?fe.value:M.chartType==="bar"?mt.value:M.singleFrameworkSelection&&M.frameworkComparisonMode?Xr.value:Yr.value),_e=v(()=>{const b=(M.relativeChart?fe.value:ce.value).map(S=>Number(S?.age)).filter(S=>Number.isFinite(S));return b.length?[M.relativeChart?Math.max(0,Math.min(...b)):Math.min(...b),Math.max(...b)]:[0,1]}),Ie=v(()=>{const d=fe.value.map(_=>Number(_?.age)).filter(_=>Number.isFinite(_));if(!d.length)return[0,50,100,150,200];const b=Math.max(...d);if(b<=80)return[0,20,50,80];const V=[0],S=50;for(let _=S;_<=b;_+=S)V.push(_);return V[V.length-1]!==b&&V.push(b),V}),Ae=v(()=>M.relativeChart?Ie.value:[0,10,20,30,40,50,60,70,80,90]),ze=d=>M.relativeChart?d===0?"0 r":Ie.value.includes(d)?`${d} r`:"":d===0?"Avverkning":d===10?"":d===20?(Se.value,"20 r"):d===30||d===40?"":d===50?(Se.value,"50 r"):d===60||d===70?"":d===80?(Se.value,"80 r"):"";v(()=>[(M.selectedFrameworks||[]).join(","),M.selectedStartskog||"",M.chartType||"",M.singleFrameworkSelection?"S":"M",M.currentTimeValue||""].join("|"));const Le=v(()=>Array.isArray(ce.value)&&ce.value.length>0),P=v(()=>{if(!M.singleFrameworkSelection)return[];if(M.frameworkComparisonMode){const S=M.selectedArtkategori?.[0];return S?[S.toLowerCase()]:[]}const d=(M.selectedArtkategori||[]).map(S=>(S||"").toLowerCase()).filter(S=>!Te.value.has(S)),b=yt.filter(S=>d.includes(S)),V=d.filter(S=>!yt.includes(S));return b.concat(V)}),ie={left:10,right:10,top:10,bottom:10},ee=B(null),ne=B(!1);let he=null;const xe=la({width:0,height:0}),Se=B(!1);function Ye(){if(!ee.value){xe.width=0,xe.height=0;return}const d=ee.value.getBoundingClientRect();xe.width=d.width,xe.height=d.height,Fe()}function Fe(){typeof window>"u"||(Se.value=window.innerWidth<=640)}pt(async()=>{await ht(),ne.value=!0,Ye(),Fe(),requestAnimationFrame(()=>{Ye()}),typeof window<"u"&&"ResizeObserver"in window&&(he=new ResizeObserver(()=>{Ye()}),ee.value&&he.observe(ee.value))}),Pn(()=>{he&&(he.disconnect(),he=null)});const Te=B(new Set),Oe=B(new Set),nr=v(()=>M.frameworkComparisonMode||M.singleFrameworkSelection),M=e,gt=v(()=>M.matsvampVariant==="goda"?"goda":M.matsvampVariant==="kg"?"kg":"standard"),Kr=v(()=>gt.value==="goda"?"goda matsvampar":gt.value==="kg"?"kg matsvamp":"matsvamp"),oa=v(()=>(M.selectedArtkategori||[]).map(b=>(b||"").toLowerCase()).includes("matsvamp")&&gt.value==="kg"),jt=d=>d,dt=d=>b=>{if(!oa.value)return NaN;const V=Number(b?.[d]);return Number.isFinite(V)?V*2:NaN},Vt=(d,b)=>{const V=Number(d?.[b]);return Number.isFinite(V)?jt(V):NaN},Ge=(d,b)=>{const V=Number(d?.[b]);return Number.isFinite(V)?jt(V):NaN},It=(d,b,V)=>{const S=b+"__compare",_=Number(d?.[S]?.[V]);return Number.isFinite(_)?jt(_):NaN};function bt(d,b=1){const V=d.replace("#",""),S=V.length===3?V.split("").map(De=>De+De).join(""):V,_=parseInt(S,16),N=_>>16&255,Z=_>>8&255,Q=_&255;return`rgba(${N}, ${Z}, ${Q}, ${b})`}v(()=>{const d={fre:-5,efter:1,10:10,20:20,50:50,80:80};return[M.currentTimeValue?d[M.currentTimeValue]??_e.value[0]:_e.value[0],_e.value[1]]});const et=v(()=>{const d=M.currentTimeValue;if(!d)return null;const b={fre:-5,efter:1,10:10,20:20,50:50,80:80};if(d in b)return b[d];const V=Number(d);return Number.isFinite(V)?V:null});v(()=>{const d=(M.selectedFrameworks||[]).map(V=>V.toLowerCase()).join(","),b=(M.selectedArtkategori||[]).map(V=>V.toLowerCase()).join(",");return`${d}|${b}|${M.currentTimeValue||""}`});const Ne={atheliales:"#8B5CF6",boletales:"#EC4899",cantharellales:"#eab308",spindlingar:"#F97316",russulales:"#22C55E",ascomycota:"#DC2626",vriga:"#94A3B8",thelephorales:"#0EA5E9",matsvamp:"#eab308","goda matsvampar":"#eab308","kg matsvamp":"#eab308","rdlistade + signalarter":"#14b8a6",total:"#64748b"},yt=["atheliales","ascomycota","vriga","spindlingar","russulales","boletales","cantharellales","thelephorales","matsvamp","goda matsvampar","rdlistade + signalarter","total"],Wr={atheliales:"Skinnsvampar",boletales:"Soppar",cantharellales:"Kantarellslktingar",spindlingar:"Spindelskivlingar",russulales:"Kremlor & riskor",ascomycota:"Sporsckssvampar",vriga:"vriga",thelephorales:"Tagg- och tomentelloida svampar",matsvamp:"Alla matsvampar","goda matsvampar":"Goda matsvampar","rdlistade + signalarter":"Naturvrdssvampar",total:"Total"},Ta={atheliales:"/images/svampgrupp/skinnsvamp.png",boletales:"/images/svampgrupp/sopp.png",cantharellales:"/images/svampgrupp/kantarell.png",spindlingar:"/images/svampgrupp/hattsvamp.png",russulales:"/images/svampgrupp/hattsvamp.png",thelephorales:"/images/svampgrupp/taggsvamp.png",ascomycota:"/images/svampgrupp/skalsvamp.png",vriga:"/images/svampgrupp/ovrigt.png"},Va={trakthygge:[{age:0,text:"Avverkning"}],luckhuggning:[{age:0,text:"Avverkning 3 luckor"},{age:30,text:"Avverkning 3 luckor"},{age:60,text:"Avverkning 3 luckor"},{age:90,text:"Avverkning 3 luckor"}],bldning:[{age:0,text:"Avverkning 30% av trden"},{age:30,text:"Avverkning 30% av trden"},{age:60,text:"Avverkning 30% av trden"},{age:90,text:"Avverkning 30% av trden"}],skrmtrd:[{age:0,text:"Frberedande avverkning"},{age:10,text:"Frtrdsstllning"},{age:20,text:"Avverkning av frtrden"}]},La=v(()=>(M.selectedArtkategori||[]).map(d=>(d||"").toLowerCase()));function Ma(d){const b=(d||"").toLowerCase();return b==="kg matsvampar"?"kg matsvamp":b==="cortinariaceae"?"spindlingar":b==="ascomyceter"?"ascomycota":b==="ovriga"||b==="vrigt"||b==="ovrigt"?"vriga":b}function vt(d){if(!d)return Ne.total;const b=Ma(d);return Ne[b]||Ne.total}const lr=v(()=>M.singleFrameworkSelection&&!M.frameworkComparisonMode?P.value[0]||La.value[0]||"total":La.value[0]||"total"),ft=v(()=>vt(lr.value)),Nt=d=>d==="matsvamp"&&gt.value==="goda"?"Goda matsvampar":d==="matsvamp"&&gt.value==="kg"?"Kg matsvampar":Wr[d]||Rl(d);function za(d){const b=d.toLowerCase();return b==="naturskydd"?"Ingen tgrd":b==="trakthygge"?"Trakhyggesbruk":b==="skrmtrd"?"verhllen skrm":Rl(d)}const Lt=["naturskydd","trakthygge","skrmtrd","luckhuggning","bldning"],ua=v(()=>(M.selectedFrameworks||[]).map(d=>d.toLowerCase())),Oa=v(()=>ua.value.filter(d=>Lt.includes(d)&&!Oe.value.has(d))),Ba=v(()=>{const d={};for(const b of ua.value){const V=ir(b).map(S=>({age:Number(S.age),value:Number(S.klassning)})).filter(S=>Number.isFinite(S.age)&&Number.isFinite(S.value)).sort((S,_)=>S.age-_.age);d[b]=V}return d}),sr=v(()=>{const d=Object.values(Ba.value);if(!d.length)return[];let b=1/0,V=-1/0;const S=new Set;for(const _ of d)for(const N of _){const Z=Number(N.age);Number.isFinite(Z)&&(S.add(Z),Z<b&&(b=Z),Z>V&&(V=Z))}if(!Number.isFinite(b)||!Number.isFinite(V))return[];for(let _=Math.floor(b);_<=Math.ceil(V)+1e-9;_+=1)S.add(Number(_.toFixed(6)));return Array.from(S).sort((_,N)=>_-N)});function Fa(d,b){const V=d.findIndex(N=>N.age===b);if(V!==-1)return d[V].value;let S=-1,_=-1;for(let N=0;N<d.length;N++)if(d[N].age<b&&(S=N),d[N].age>b){_=N;break}if(S!==-1&&_!==-1){const N=d[S],Z=d[_],Q=(b-N.age)/(Z.age-N.age);return N.value+Q*(Z.value-N.value)}}const Yr=v(()=>{const d=[];for(const b of sr.value){const V={age:b};if(M.singleFrameworkSelection&&!M.frameworkComparisonMode){const S=P.value.length?P.value:(M.selectedArtkategori||[]).map(N=>(N||"").toLowerCase()).filter(Boolean),_=Gr.value;for(const N of S){const Z=_[N]||[],Q=Fa(Z,b);typeof Q=="number"&&Number.isFinite(Q)&&(V[N]=Q)}}else for(const S of Oa.value){const _=Ba.value[S]||[],N=Fa(_,b);typeof N=="number"&&Number.isFinite(N)&&(V[S]=N)}d.push(V)}return d}),Gr=v(()=>{if(!(M.singleFrameworkSelection&&!M.frameworkComparisonMode))return{};const d={},b=P.value.length?P.value:(M.selectedArtkategori||[]).map(S=>(S||"").toLowerCase()).filter(Boolean),V=Array.isArray(mt.value)?mt.value:[];for(const S of V){const _=Number(S?.age);if(Number.isFinite(_))for(const N of b){const Z=Number(S?.[N]);Number.isFinite(Z)&&(d[N]=d[N]||[]).push({age:_,value:Z})}}for(const S of Object.keys(d))d[S].sort((_,N)=>_.age-N.age);return d}),Da=v(()=>P.value[0]||M.selectedArtkategori?.[0]?.toLowerCase()||""),Xr=v(()=>{if(!(M.singleFrameworkSelection&&M.frameworkComparisonMode&&M.chartType==="area"))return[];const d=Da.value;if(!d)return[];const b=Oe.value,V=Lt.filter(_=>M.selectedFrameworks.map(N=>N.toLowerCase()).includes(_)&&!b.has(_)),S=[];for(const _ of sr.value){const N={age:_};let Z=!1;for(const Q of V){const De=Ba.value[Q]||[],oe=Fa(De,_);if(typeof oe=="number"&&Number.isFinite(oe)){const $e=Q+"__compare",be=N[$e]||{};be[d]=oe,N[$e]=be,Z=!0}}Z&&S.push(N)}return S});v(()=>{const d={},b=Array.isArray(mt.value)?mt.value:[];for(const V of Oa.value)d[V]=b.filter(S=>Number.isFinite(Number(S?.age))&&Number.isFinite(Number(S?.[V]))).map(S=>({age:Number(S.age),value:Number(S[V]),__row:S})).sort((S,_)=>S.age-_.age);return d});const Me=v(()=>{if(M.singleFrameworkSelection){if(M.frameworkComparisonMode){const oe=Lt.filter(Be=>M.selectedFrameworks.map(at=>at.toLowerCase()).includes(Be)),$e=ft.value,be=.5;return oe.map((Be,at)=>{const ke=za(Be),ye=Oe.value.has(Be),He=at===1?"#c3a283":$e;return{key:Be,name:ke,label:ke,color:He,colorArea:bt(He,be),colorLine:He,inactive:ye}})}const S=(M.selectedArtkategori||[]).map(oe=>(oe||"").toLowerCase()).filter(Boolean),_=S.length?S:P.value.concat(Array.from(Te.value)),N=new Set(_),Z=yt.filter(oe=>N.has(oe)),Q=Array.from(N).filter(oe=>!yt.includes(oe)).sort();return Z.concat(Q).map(oe=>{const $e=vt(oe),be=Nt(oe);return{key:oe,name:be,label:be,color:$e,colorArea:bt($e,.5),colorLine:$e,inactive:Te.value.has(oe),icon:Ta[oe]}})}const d=Lt.filter(S=>M.selectedFrameworks.map(_=>_.toLowerCase()).includes(S)),b=ft.value,V=.5;return d.map((S,_)=>{const N=za(S),Z=Oe.value.has(S),Q=_===1?"#c3a283":b;return{key:S,name:N,label:N,color:Q,colorArea:bt(Q,V),colorLine:Q,inactive:Z}})}),Xe=v(()=>M.singleFrameworkSelection&&!M.frameworkComparisonMode?[]:Me.value.filter(d=>!d.inactive));q.TopOutside;const Zr=v(()=>{if(M.singleFrameworkSelection){if(M.frameworkComparisonMode)return Xe.value.map(b=>b.key);const d=(M.selectedFrameworks||[]).map(b=>(b||"").toLowerCase()).filter(b=>Lt.includes(b)).filter(b=>!Oe.value.has(b));return d.length?d:Oa.value}return Xe.value.map(d=>d.key)});function kt(d){return d==="total"?X.value:d==="matsvamp"?gt.value==="goda"?j.value:gt.value==="kg"?R.value:w.value:d==="goda matsvampar"?j.value:d==="rdlistade + signalarter"?z.value:d==="atheliales"?x.value:d==="boletales"?F.value:d==="cantharellales"?W.value:d==="spindlingar"?Y.value:d==="russulales"?se.value:d==="ascomycota"?ue.value:d==="thelephorales"?H.value:d==="vriga"?K.value:[]}function Mt(d){const b=d.toLowerCase();return b==="matsvamp"?Kr.value:b}function ir(d){const b=M.selectedArtkategori.map(_=>_.toLowerCase()),V=M.selectedStartskog?M.selectedStartskog.toLowerCase():null,S=[];return b.forEach(_=>{const N=Mt(_);(kt(_)||[]).forEach(Q=>{Q.artkategori?.toLowerCase()===N&&Q.frameworks?.toLowerCase()===d.toLowerCase()&&(V&&(Q.startskog?.toLowerCase()??V)!==V||S.push({age:Q.lder,klassning:+Q.klassning}))})}),S}const mt=v(()=>{if(M.relativeChart)return fe.value;const d=new Map;if(M.singleFrameworkSelection){const b=M.frameworkComparisonMode?(M.selectedFrameworks||[]).map(V=>V.toLowerCase()).slice(0,2):[M.selectedFrameworks[0]?.toLowerCase()].filter(Boolean);M.selectedArtkategori.forEach(V=>{const S=V.toLowerCase(),_=kt(S),N=M.selectedStartskog?M.selectedStartskog.toLowerCase():null,Z=Mt(S);b.forEach(Q=>{(_||[]).filter(oe=>{const $e=oe.artkategori?.toLowerCase()===Z,be=oe.frameworks?.toLowerCase()===Q,Be=!N||(oe.startskog?.toLowerCase()??N)===N;return $e&&be&&Be}).map(oe=>({age:oe.lder,klassning:+oe.klassning})).forEach(oe=>{const $e=d.get(oe.age)||{age:oe.age};if(M.frameworkComparisonMode){const be=`${Q}__compare`,Be=$e[be]||{};Be[S]=oe.klassning,$e[be]=Be}else $e[S]=oe.klassning;d.set(oe.age,$e)})})})}else ua.value.forEach(b=>{ir(b).forEach(S=>{const _=d.get(S.age)||{age:S.age};_[b]=S.klassning,d.set(S.age,_)})});return Array.from(d.values()).sort((b,V)=>b.age-V.age)}),zt=d=>{const b=Number(d?.age);return Number.isFinite(b)?b:void 0},or=v(()=>{if(M.singleFrameworkSelection){if(M.frameworkComparisonMode){const b=P.value[0]||M.selectedArtkategori[0]?.toLowerCase();return Xe.value.map(V=>{const S=V.key;return _=>{const Z=_?.[`${S}__compare`]?.[b];return Number.isFinite(Number(Z))?Number(Z):NaN}})}return(P.value.length?P.value:M.selectedArtkategori.map(b=>b.toLowerCase())).filter(b=>!Te.value.has(b)).map(b=>V=>V[b])}return Xe.value.map(d=>b=>b[d.key])}),Jr=v(()=>M.singleFrameworkSelection?M.frameworkComparisonMode?Xe.value.map(b=>bt(b.colorLine||b.color,.7)||"#000000"):(P.value.length?P.value:M.selectedArtkategori.map(b=>b.toLowerCase())).filter(b=>!Te.value.has(b)).map(b=>vt(b)):Xe.value.map(d=>d.color||"#000000"));function ur(d){const b=(d.key||d.name||"").toLowerCase();if(b)if(M.singleFrameworkSelection)if(M.frameworkComparisonMode){const V=new Set(Oe.value);V.has(b)?V.delete(b):V.add(b),Oe.value=V}else{const V=new Set(Te.value);V.has(b)?V.delete(b):V.add(b),Te.value=V}else{const V=Lt.find(_=>_===b)||Lt.find(_=>za(_).toLowerCase()===b);if(!V)return;const S=new Set(Oe.value);S.has(V)?S.delete(V):S.add(V),Oe.value=S}}const cr=v(()=>!M.singleFrameworkSelection||M.frameworkComparisonMode?[]:P.value.map(d=>b=>Ge(b,d))),dr=v(()=>!M.singleFrameworkSelection||M.frameworkComparisonMode?[]:P.value.map(d=>vt(d))),$a=la({age:0});function ca(d){return d?Object.keys(d).filter(V=>V!=="age"&&V!=="__markerY").some(V=>{const S=d[V];return S&&typeof S=="object"?Object.values(S).some(_=>Number.isFinite(Number(_))):Number.isFinite(Number(S))}):!1}const vr=v(()=>M.singleFrameworkSelection?M.frameworkComparisonMode?Xe.value.length:P.value.length:Xe.value.length),Pt=v(()=>vr.value>0),Ea=v(()=>{const d=ce.value;return vr.value?d.filter(b=>ca(b)):M.frameworkComparisonMode&&M.singleFrameworkSelection&&d.length?d.map(b=>{const V={age:b.age};for(const S of M.selectedFrameworks||[]){const _=S.toLowerCase();V[`${_}__compare`]={[P.value[0]||M.selectedArtkategori[0]?.toLowerCase()||""]:NaN}}return V}):d.length?d:[$a]}),fr=v(()=>{if(!Le.value)return[];const d=Zr.value;if(!d.length)return[];const[b,V]=_e.value;if(!Number.isFinite(b)||!Number.isFinite(V)||b===V)return[];const S=[],_=Z=>{const Q=Me.value.find(oe=>oe.key===Z);return Q?.colorLine||Q?.colorArea||Q?.color||ft.value||"#64748b"},N=Z=>{const Q=Me.value.find(De=>De.key===Z);return Q?.colorLine||Q?.color||ft.value||"#1f2937"};return d.forEach(Z=>{const Q=Va[Z];if(!Q?.length)return;const De=_(Z),oe=N(Z);Q.forEach(($e,be)=>{const Be=Number($e.age);Number.isFinite(Be)&&(Be<b||Be>V||S.push({id:`${Z}-${Be}-${be}`,value:Be,color:De,labelText:$e.text,labelColor:oe}))})}),S});return(d,b)=>{const V=jr,S=ki;return h(),D("div",{class:"custom-area",ref_key:"rootEl",ref:ee},[$(S,null,{default:U(()=>[ne.value&&Le.value&&nr.value&&Me.value.length&&!(M.singleFrameworkSelection&&!M.frameworkComparisonMode)?(h(),I(y(fc),{key:0,items:Me.value,onLegendItemClick:ur,class:"mx-2 flex flex-wrap gap-2"},null,8,["items"])):E("",!0),ne.value&&Le.value&&Me.value.length&&M.singleFrameworkSelection&&!M.frameworkComparisonMode?(h(),D("div",nd,[(h(!0),D(we,null,Ue(Me.value,_=>(h(),I(V,{key:_.key,type:"button",variant:"ghost",color:"neutral",size:"sm",class:"flex items-center px-2 py-1 gap-2 hover:opacity-95 transition ring-muted/50",onClick:N=>ur(_)},{default:U(()=>[_.icon?(h(),D("div",{key:0,class:"h-5 w-5",style:sa({backgroundColor:_.color||_.colorLine||_.colorArea||"#000",WebkitMask:`url(${_.icon}) center / contain no-repeat`,mask:`url(${_.icon}) center / contain no-repeat`,opacity:_.inactive?.2:1})},null,4)):E("",!0),p("span",{style:sa({opacity:_.inactive?.2:1})},ae(_.label),5)]),_:2},1032,["onClick"]))),128))])):E("",!0),ne.value&&Le.value?(h(),I(y(lo),{key:2,data:Ea.value.length?Ea.value:[$a],height:200,margin:ie,xDomain:_e.value,yDomain:tt.value},{default:U(()=>[M.chartType==="area"&&M.singleFrameworkSelection&&!M.frameworkComparisonMode?(h(),D(we,{key:0},[$(y(Cr),{x:zt,y:cr.value,color:dr.value,interpolateMissingData:!0},null,8,["y","color"]),Pt.value&&et.value!==null?(h(),I(y(pn),{key:0,axis:"x",from:-7,to:et.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):E("",!0),Pt.value?(h(),I(y(Ar),{key:1,value:et.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):E("",!0)],64)):M.chartType==="area"&&M.singleFrameworkSelection&&M.frameworkComparisonMode?(h(),D(we,{key:1},[(h(!0),D(we,null,Ue(Xe.value,_=>(h(),I(y(Cr),{x:zt,y:N=>It(N,_.key,Da.value),color:()=>_.colorArea||_.color,interpolateMissingData:!0,zIndex:1},null,8,["y","color"]))),256)),(h(!0),D(we,null,Ue(Xe.value,_=>(h(),I(y(Fl),{x:zt,y:N=>It(N,_.key,Da.value),color:()=>bt(_.colorLine||_.color,.6)},null,8,["y","color"]))),256)),Pt.value&&et.value!==null?(h(),I(y(pn),{key:0,axis:"x",from:-7,to:et.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):E("",!0),Pt.value?(h(),I(y(Ar),{key:1,value:et.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):E("",!0)],64)):M.chartType==="area"?(h(),D(we,{key:2},[(h(!0),D(we,null,Ue(Xe.value,_=>(h(),I(y(Cr),{x:zt,y:N=>Vt(N,_.key),color:()=>_.colorArea||_.color,interpolateMissingData:!0,zIndex:1},null,8,["y","color"]))),256)),(h(!0),D(we,null,Ue(Xe.value,_=>(h(),I(y(Fl),{x:zt,y:N=>Vt(N,_.key),color:()=>bt(_.colorLine||_.color,.6)},null,8,["y","color"]))),256)),oa.value?(h(!0),D(we,{key:0},Ue(Xe.value,_=>(h(),I(y(Cr),{key:_.key+"-kg-x2",x:zt,y:dt(_.key),color:()=>"rgba(234,179,8,0.3)"},null,8,["y"]))),128)):E("",!0),Pt.value&&et.value!==null?(h(),I(y(pn),{key:1,axis:"x",from:-7,to:et.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):E("",!0),Pt.value?(h(),I(y(Ar),{key:2,value:et.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):E("",!0)],64)):M.chartType==="bar"?(h(),I(y(uc),{key:3,color:Jr.value,x:zt,y:or.value,groupPadding:.5,groupMaxWidth:20},null,8,["color","y"])):E("",!0),(h(!0),D(we,null,Ue(fr.value,_=>(h(),I(y(Ar),{axis:"x",value:_.value,color:"rgba(69,10,10, 0.5)",lineStyle:[2,3],label:_.labelText,labelColor:_.labelColor,zIndex:100,lineWidth:1},null,8,["value","label","labelColor"]))),256)),$(y(xl),{tickTextFontSize:"12px",gridLine:!0,type:"x",tickValues:Ae.value,tickFormat:ze},null,8,["tickValues"]),$(y(xl),{tickTextFontSize:"12px",type:"y"})]),_:1},8,["data","xDomain","yDomain"])):E("",!0)]),_:1})],512)}}}),sd=Object.assign(ld,{__name:"ForestryChartDisplay"}),id={class:"mt-2 mb-1 flex justify-between"},od={class:"pr-2"},ud={class:"flex items-center gap-2"},cd=["src"],dd={class:"flex items-center gap-2"},vd={key:0},fd={key:1},md={key:2},pd={class:"px-4 pb-4 text-sm text-muted"},hd={key:3},gd={class:"mx-2"},bd={class:"flex flex-col gap-4"},yd=Re({__name:"ForestryChartMain",props:{parentSelectedFrameworks:{},currentTimeValue:{},currentStartskog:{},selectedChart:{}},emits:["update:selectedChart"],setup(e,{expose:t,emit:a}){const r=Un("(max-width: 767px)"),l=e,o=a;B("naturskog"),B("naturskog"),B("naturskog");const u=B("trakthygge");B(!0),B(!1),B(!1),B(!1),B(!1),B(!1);const i=[{label:"Mngd mykorrhizasvamp",value:"skogsskole",icon:"i-lineicons-mushroom-1"},{label:"Svampgrupper",value:"grupper",icon:"i-material-symbols-category-rounded"},{label:"Naturvrdssvampar",value:"rodlistade",icon:"i-material-symbols-award-star"},{label:"Matsvampar",value:"matsvampar",icon:"icon-park-solid:knife-fork"}],c=B(i.some(H=>H.value===l.selectedChart)?l.selectedChart:i[0].value),C=v(()=>i.find(H=>H.value===c.value)?.icon),f=v(()=>(l.parentSelectedFrameworks?.length??0)===2);function g(H){i.some(K=>K.value===H)&&(c.value=H)}t({setSelectedChart:g}),le(()=>l.selectedChart,H=>{typeof H=="string"&&i.some(K=>K.value===H)&&c.value!==H&&(c.value=H)}),le(c,H=>{o("update:selectedChart",H)});const A=["atheliales","boletales","cantharellales","spindlingar","russulales","thelephorales","ascomycota","vriga"],L=B("area");B("area");const w=[{label:"Alla matsvampar",value:"standard",icon:"i-lineicons-mushroom-1"},{label:"Goda matsvampar",value:"goda",icon:"i-heroicons-star-16-solid"},{label:"Kg matsvampar",value:"kg",icon:"i-material-symbols-scale-outline-rounded"}],j=B("standard"),R=v(()=>j.value==="goda"?"goda matsvampar":"matsvamp"),T=v(()=>w.find(H=>H.value===j.value)?.icon),z=v(()=>w.find(H=>H.value===j.value)?.label??"Vlj dataset"),x=v(()=>j.value==="goda"?"Mngden av alla goda matsvampar i frhllande till frekomsten i ldre skog/fre avverkning (%).":j.value==="kg"?"Frskvikten av alla matsvampar (kg/ha) under en ssong i frhllande till frekomsten i ldre skog/fre avverkning. Medel- samt min-maxvrde.":"Mngden av alla matsvampar i marken frhllande till frekomsten i ldre skog/fre avverkning (%)."),F=v(()=>j.value==="kg"?55:28),W=B([...A]),Y=[{label:"Skinnsvampar",value:"atheliales",icon:"/images/svampgrupp/skinnsvamp.png",avatar:{src:"/images/svampgrupp/skinnsvamp.png",alt:"Skinnsvampar"}},{label:"Soppar",value:"boletales",icon:"/images/svampgrupp/sopp.png",avatar:{src:"/images/svampgrupp/sopp.png",alt:"Soppar"}},{label:"Kantarellslktingar",value:"cantharellales",icon:"/images/svampgrupp/kantarell.png",avatar:{src:"/images/svampgrupp/kantarell.png",alt:"Kantarellslktingar"}},{label:"Spindelskivlingar",value:"spindlingar",icon:"/images/svampgrupp/hattsvamp.png",avatar:{src:"/images/svampgrupp/hattsvamp.png",alt:"Spindelskivlingar"}},{label:"Kremlor & riskor",value:"russulales",icon:"/images/svampgrupp/hattsvamp.png",avatar:{src:"/images/svampgrupp/hattsvamp.png",alt:"Kremlor & riskor"}},{label:"Tagg- och tomentelloida svampar",value:"thelephorales",icon:"/images/svampgrupp/taggsvamp.png",avatar:{src:"/images/svampgrupp/taggsvamp.png",alt:"Tagg- och tomentelloida svampar"}},{label:"Sporsckssvampar",value:"ascomycota",icon:"/images/svampgrupp/skalsvamp.png",avatar:{src:"/images/svampgrupp/skalsvamp.png",alt:"Sporsckssvampar"}},{label:"vriga svampar",value:"vriga",icon:"/images/svampgrupp/ovrigt.png",avatar:{src:"/images/svampgrupp/ovrigt.png",alt:"vriga svampar"}}],se=B(Y[0].value),ue=v(()=>Y.find(H=>H.value===se.value)?.avatar);return le([c,f],([H,K])=>{H==="grupper"&&K||(se.value=Y[0].value),H==="grupper"&&!K&&(W.value=[...A])}),le(()=>l.parentSelectedFrameworks?.length,()=>{c.value==="grupper"&&f.value&&(se.value=Y[0].value)}),(H,K)=>{const X=Yl,re=Wa,te=sd,fe=jr,tt=_i;return h(),D("div",null,[p("div",id,[$(X,{modelValue:c.value,"onUpdate:modelValue":K[0]||(K[0]=ce=>c.value=ce),items:i,"value-key":"value","option-attribute":"label",size:"xl",variant:"none",class:"hover:cursor-pointer",icon:C.value,ui:{content:"min-w-fit"}},null,8,["modelValue","icon"]),p("div",od,[c.value==="grupper"&&f.value?(h(),I(X,{key:0,modelValue:se.value,"onUpdate:modelValue":K[1]||(K[1]=ce=>se.value=ce),items:Y,"option-attribute":"label","value-key":"value",size:"lg",variant:"soft",placeholder:"Vlj svampgrupp",class:"hover:cursor-pointer rounded-full",ui:{content:"min-w-fit",value:"hidden sm:flex",base:"min-h-8"},avatar:ue.value},{item:U(({item:ce})=>[p("div",ud,[ce.icon?(h(),D("img",{key:0,src:ce.icon,alt:"",class:"size-5 rounded-sm object-contain"},null,8,cd)):E("",!0),p("span",null,ae(ce.label),1)])]),_:1},8,["modelValue","avatar"])):E("",!0),c.value==="matsvampar"?(h(),I(X,{key:1,modelValue:j.value,"onUpdate:modelValue":K[2]||(K[2]=ce=>j.value=ce),items:w,content:{align:"end",side:"bottom",sideOffset:8},"option-attribute":"label","value-key":"value",placeholder:"Vlj dataset",class:"hover:cursor-pointer rounded-full",size:"lg",variant:"soft",ui:{content:"w-fit shrink-0",value:"hidden",base:"min-h-8",item:"gap-0"},icon:T.value,"aria-label":z.value},{item:U(({item:ce})=>[p("div",dd,[ce.icon?(h(),I(re,{key:0,name:ce.icon,class:"size-4"},null,8,["name"])):E("",!0),p("span",null,ae(ce.label),1)])]),_:1},8,["modelValue","icon","aria-label"])):E("",!0)])]),p("div",null,[c.value==="skogsskole"?(h(),D("div",vd,[$(te,{selectedFrameworks:l.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","bldning","skrmtrd"],selectedArtkategori:["total"],chartType:L.value,maxYValue:130,currentTimeValue:l.currentTimeValue,frameworkComparisonMode:f.value},null,8,["selectedFrameworks","chartType","currentTimeValue","frameworkComparisonMode"]),K[3]||(K[3]=p("div",{class:"px-4 pb-4 text-sm text-muted"}," Mngd mykorrhizasvamp i marken i frhllande till frekomsten i ldre skog/fre avverkning (%). ",-1))])):E("",!0),c.value==="rodlistade"?(h(),D("div",fd,[$(te,{selectedFrameworks:l.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","bldning","skrmtrd"],selectedArtkategori:["rdlistade + signalarter"],chartType:L.value,selectedStartskog:l.currentStartskog,redColor:!0,maxYValue:.65,currentTimeValue:l.currentTimeValue,frameworkComparisonMode:f.value},null,8,["selectedFrameworks","chartType","selectedStartskog","currentTimeValue","frameworkComparisonMode"]),K[4]||(K[4]=p("div",{class:"px-4 pb-4 text-sm text-muted"}," Mngden av mykorrhizasvampar som r rdlistade/signalarter i marken i frhllande till frekomsten i ldre skog/fre avverkning (%). ",-1))])):E("",!0),c.value==="matsvampar"?(h(),D("div",md,[$(te,{selectedFrameworks:l.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","bldning","skrmtrd"],selectedArtkategori:[R.value],chartType:L.value,selectedStartskog:l.currentStartskog,yellowColor:!0,maxYValue:F.value,currentTimeValue:l.currentTimeValue,matsvampVariant:j.value,frameworkComparisonMode:f.value},null,8,["selectedFrameworks","selectedArtkategori","chartType","selectedStartskog","maxYValue","currentTimeValue","matsvampVariant","frameworkComparisonMode"]),p("div",pd,ae(x.value),1)])):E("",!0),c.value==="grupper"?(h(),D("div",hd,[$(te,{selectedFrameworks:l.parentSelectedFrameworks??[u.value],selectedArtkategori:f.value?[se.value]:W.value,frameworkComparisonMode:f.value,chartType:L.value,singleFrameworkSelection:!0,selectedStartskog:l.currentStartskog,currentTimeValue:l.currentTimeValue},null,8,["selectedFrameworks","selectedArtkategori","frameworkComparisonMode","chartType","selectedStartskog","currentTimeValue"]),K[6]||(K[6]=p("div",{class:"px-4 pb-4 text-sm text-muted"}," Mngden av olika grupper svampar i frhllande till frekomsten i ldre skog/fre avverkning (%). ",-1)),p("div",gd,[c.value==="grupper"?(h(),I(tt,{key:0,fullscreen:!!y(r),title:"Relativ mngd",description:""},{body:U(()=>[p("div",bd,[$(te,{selectedFrameworks:["trakthygge"],selectedArtkategori:A,chartType:"area",singleFrameworkSelection:!0,relativeChart:!0}),K[5]||(K[5]=p("p",{class:"text-sm text-muted"}," Den relativa frdelningen av olika grupper mykorrhizasvampar vid olika skogsldrar. Uppgifterna baseras enbart p frekomst i skogar av olika ldrar och r inte kopplade till vilken skogssktselmetod som anvnts. ",-1))])]),default:U(()=>[$(fe,{size:"lg",class:"px-3 w-full flex justify-center",color:"neutral",icon:"i-carbon-diagram-reference",label:"Visa diagram fr relativ mngd vid olika ldrar"})]),_:1},8,["fullscreen"])):E("",!0)])])):E("",!0)])])}}}),kd=Object.assign(qn(yd,[["__scopeId","data-v-6608e1a9"]]),{__name:"ForestryChartMain"}),_d={slots:{root:"relative flex items-start",base:["inline-flex items-center shrink-0 rounded-full border-2 border-transparent focus-visible:outline-2 focus-visible:outline-offset-2 data-[state=unchecked]:bg-accented","transition-[background] duration-200"],container:"flex items-center",thumb:"group pointer-events-none rounded-full bg-default shadow-lg ring-0 transition-transform duration-200 data-[state=unchecked]:translate-x-0 data-[state=unchecked]:rtl:-translate-x-0 flex items-center justify-center",icon:["absolute shrink-0 group-data-[state=unchecked]:text-dimmed opacity-0 size-10/12","transition-[color,opacity] duration-200"],wrapper:"ms-2",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"data-[state=checked]:bg-primary focus-visible:outline-primary",icon:"group-data-[state=checked]:text-primary"},secondary:{base:"data-[state=checked]:bg-secondary focus-visible:outline-secondary",icon:"group-data-[state=checked]:text-secondary"},tertiary:{base:"data-[state=checked]:bg-tertiary focus-visible:outline-tertiary",icon:"group-data-[state=checked]:text-tertiary"},rodeodust:{base:"data-[state=checked]:bg-rodeodust focus-visible:outline-rodeodust",icon:"group-data-[state=checked]:text-rodeodust"},poison:{base:"data-[state=checked]:bg-poison focus-visible:outline-poison",icon:"group-data-[state=checked]:text-poison"},signal:{base:"data-[state=checked]:bg-signal focus-visible:outline-signal",icon:"group-data-[state=checked]:text-signal"},info:{base:"data-[state=checked]:bg-info focus-visible:outline-info",icon:"group-data-[state=checked]:text-info"},success:{base:"data-[state=checked]:bg-success focus-visible:outline-success",icon:"group-data-[state=checked]:text-success"},warning:{base:"data-[state=checked]:bg-warning focus-visible:outline-warning",icon:"group-data-[state=checked]:text-warning"},error:{base:"data-[state=checked]:bg-error focus-visible:outline-error",icon:"group-data-[state=checked]:text-error"},kalkmark:{base:"data-[state=checked]:bg-kalkmark focus-visible:outline-kalkmark",icon:"group-data-[state=checked]:text-kalkmark"},vanligmark:{base:"data-[state=checked]:bg-vanligmark focus-visible:outline-vanligmark",icon:"group-data-[state=checked]:text-vanligmark"},time:{base:"data-[state=checked]:bg-time focus-visible:outline-time",icon:"group-data-[state=checked]:text-time"},chetwood:{base:"data-[state=checked]:bg-chetwood focus-visible:outline-chetwood",icon:"group-data-[state=checked]:text-chetwood"},duststorm:{base:"data-[state=checked]:bg-duststorm focus-visible:outline-duststorm",icon:"group-data-[state=checked]:text-duststorm"},neutral2:{base:"data-[state=checked]:bg-neutral2 focus-visible:outline-neutral2",icon:"group-data-[state=checked]:text-neutral2"},neutral:{base:"data-[state=checked]:bg-inverted focus-visible:outline-inverted",icon:"group-data-[state=checked]:text-highlighted"}},size:{xs:{base:"w-7",container:"h-4",thumb:"size-3 data-[state=checked]:translate-x-3 data-[state=checked]:rtl:-translate-x-3",wrapper:"text-xs"},sm:{base:"w-8",container:"h-4",thumb:"size-3.5 data-[state=checked]:translate-x-3.5 data-[state=checked]:rtl:-translate-x-3.5",wrapper:"text-xs"},md:{base:"w-9",container:"h-5",thumb:"size-4 data-[state=checked]:translate-x-4 data-[state=checked]:rtl:-translate-x-4",wrapper:"text-sm"},lg:{base:"w-10",container:"h-5",thumb:"size-4.5 data-[state=checked]:translate-x-4.5 data-[state=checked]:rtl:-translate-x-4.5",wrapper:"text-sm"},xl:{base:"w-11",container:"h-6",thumb:"size-5 data-[state=checked]:translate-x-5 data-[state=checked]:rtl:-translate-x-5",wrapper:"text-base"}},checked:{true:{icon:"group-data-[state=checked]:opacity-100"}},unchecked:{true:{icon:"group-data-[state=unchecked]:opacity-100"}},loading:{true:{icon:"animate-spin"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75",description:"cursor-not-allowed opacity-75"}}},defaultVariants:{color:"primary",size:"md"}},xd=Object.assign({inheritAttrs:!1},{__name:"USwitch",props:Lr({as:{type:null,required:!1},color:{type:null,required:!1},size:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1},checkedIcon:{type:[String,Object],required:!1},uncheckedIcon:{type:[String,Object],required:!1},label:{type:String,required:!1},description:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},value:{type:String,required:!1},defaultValue:{type:Boolean,required:!1}},{modelValue:{type:Boolean,default:void 0},modelModifiers:{}}),emits:Lr(["change"],["update:modelValue"]),setup(e,{emit:t}){const a=e,r=Pl(),l=t,o=Ul(e,"modelValue",{type:Boolean,default:void 0}),u=ql(),i=xi(Hl(a,"required","value","defaultValue")),{id:c,emitFormChange:C,emitFormInput:f,size:g,color:A,name:L,disabled:w,ariaAttrs:j}=Kl(a),R=c.value??wi(),T=v(()=>Mr({extend:Mr(_d),...u.ui?.switch||{}})({size:g.value,color:A.value,required:a.required,loading:a.loading,disabled:w.value||a.loading}));function z(x){const F=new Event("change",{target:{value:x}});l("change",F),C(),f()}return(x,F)=>(h(),I(y(ia),{as:e.as,class:ve(T.value.root({class:[a.ui?.root,a.class]}))},{default:U(()=>[p("div",{class:ve(T.value.container({class:a.ui?.container}))},[$(y(Do),Kt({id:y(R)},{...y(i),...x.$attrs,...y(j)},{modelValue:o.value,"onUpdate:modelValue":[F[0]||(F[0]=W=>o.value=W),z],name:y(L),disabled:y(w)||e.loading,class:T.value.base({class:a.ui?.base})}),{default:U(()=>[$(y(Eo),{class:ve(T.value.thumb({class:a.ui?.thumb}))},{default:U(()=>[e.loading?(h(),I(Wa,{key:0,name:e.loadingIcon||y(u).ui.icons.loading,class:ve(T.value.icon({class:a.ui?.icon,checked:!0,unchecked:!0}))},null,8,["name","class"])):(h(),D(we,{key:1},[e.checkedIcon?(h(),I(Wa,{key:0,name:e.checkedIcon,class:ve(T.value.icon({class:a.ui?.icon,checked:!0}))},null,8,["name","class"])):E("",!0),e.uncheckedIcon?(h(),I(Wa,{key:1,name:e.uncheckedIcon,class:ve(T.value.icon({class:a.ui?.icon,unchecked:!0}))},null,8,["name","class"])):E("",!0)],64))]),_:1},8,["class"])]),_:1},16,["id","modelValue","name","disabled","class"])],2),e.label||r.label||e.description||r.description?(h(),D("div",{key:0,class:ve(T.value.wrapper({class:a.ui?.wrapper}))},[e.label||r.label?(h(),I(y(Ni),{key:0,for:y(R),class:ve(T.value.label({class:a.ui?.label}))},{default:U(()=>[je(x.$slots,"label",{label:e.label},()=>[Ya(ae(e.label),1)])]),_:3},8,["for","class"])):E("",!0),e.description||r.description?(h(),D("p",{key:1,class:ve(T.value.description({class:a.ui?.description}))},[je(x.$slots,"description",{description:e.description},()=>[Ya(ae(e.description),1)])],2)):E("",!0)],2)):E("",!0)]),_:3},8,["as","class"]))}}),wd={slots:{root:"relative flex items-center select-none touch-none",track:"relative bg-accented overflow-hidden rounded-full grow",range:"absolute rounded-full",thumb:"rounded-full bg-default ring-2 focus-visible:outline-2 focus-visible:outline-offset-2"},variants:{color:{primary:{range:"bg-primary",thumb:"ring-primary focus-visible:outline-primary/50"},secondary:{range:"bg-secondary",thumb:"ring-secondary focus-visible:outline-secondary/50"},tertiary:{range:"bg-tertiary",thumb:"ring-tertiary focus-visible:outline-tertiary/50"},rodeodust:{range:"bg-rodeodust",thumb:"ring-rodeodust focus-visible:outline-rodeodust/50"},poison:{range:"bg-poison",thumb:"ring-poison focus-visible:outline-poison/50"},signal:{range:"bg-signal",thumb:"ring-signal focus-visible:outline-signal/50"},info:{range:"bg-info",thumb:"ring-info focus-visible:outline-info/50"},success:{range:"bg-success",thumb:"ring-success focus-visible:outline-success/50"},warning:{range:"bg-warning",thumb:"ring-warning focus-visible:outline-warning/50"},error:{range:"bg-error",thumb:"ring-error focus-visible:outline-error/50"},kalkmark:{range:"bg-kalkmark",thumb:"ring-kalkmark focus-visible:outline-kalkmark/50"},vanligmark:{range:"bg-vanligmark",thumb:"ring-vanligmark focus-visible:outline-vanligmark/50"},time:{range:"bg-time",thumb:"ring-time focus-visible:outline-time/50"},chetwood:{range:"bg-chetwood",thumb:"ring-chetwood focus-visible:outline-chetwood/50"},duststorm:{range:"bg-duststorm",thumb:"ring-duststorm focus-visible:outline-duststorm/50"},neutral2:{range:"bg-neutral2",thumb:"ring-neutral2 focus-visible:outline-neutral2/50"},neutral:{range:"bg-inverted",thumb:"ring-inverted focus-visible:outline-inverted/50"}},size:{xs:{thumb:"size-3"},sm:{thumb:"size-3.5"},md:{thumb:"size-4"},lg:{thumb:"size-4.5"},xl:{thumb:"size-5"}},orientation:{horizontal:{root:"w-full",range:"h-full"},vertical:{root:"flex-col h-full",range:"w-full"}},disabled:{true:{root:"opacity-75 cursor-not-allowed"}}},compoundVariants:[{orientation:"horizontal",size:"xs",class:{track:"h-[6px]"}},{orientation:"horizontal",size:"sm",class:{track:"h-[7px]"}},{orientation:"horizontal",size:"md",class:{track:"h-[8px]"}},{orientation:"horizontal",size:"lg",class:{track:"h-[9px]"}},{orientation:"horizontal",size:"xl",class:{track:"h-[10px]"}},{orientation:"vertical",size:"xs",class:{track:"w-[6px]"}},{orientation:"vertical",size:"sm",class:{track:"w-[7px]"}},{orientation:"vertical",size:"md",class:{track:"w-[8px]"}},{orientation:"vertical",size:"lg",class:{track:"w-[9px]"}},{orientation:"vertical",size:"xl",class:{track:"w-[10px]"}}],defaultVariants:{size:"md",color:"primary"}},Sd={__name:"USlider",props:Lr({as:{type:null,required:!1},size:{type:null,required:!1},color:{type:null,required:!1},orientation:{type:null,required:!1,default:"horizontal"},tooltip:{type:[Boolean,Object],required:!1},defaultValue:{type:[Number,Array],required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},name:{type:String,required:!1},disabled:{type:Boolean,required:!1},inverted:{type:Boolean,required:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},minStepsBetweenThumbs:{type:Number,required:!1}},{modelValue:{type:null},modelModifiers:{}}),emits:Lr(["change"],["update:modelValue"]),setup(e,{emit:t}){const a=e,r=t,l=Ul(e,"modelValue"),o=ql(),u=Si(Hl(a,"as","orientation","min","max","step","minStepsBetweenThumbs","inverted"),r),{id:i,emitFormChange:c,emitFormInput:C,size:f,color:g,name:A,disabled:L,ariaAttrs:w}=Kl(a),j=v(()=>typeof a.defaultValue=="number"?[a.defaultValue]:a.defaultValue),R=v({get(){return typeof l.value=="number"?[l.value]:l.value??j.value},set(F){l.value=F?.length!==1?F:F[0]}}),T=v(()=>R.value?.length??1),z=v(()=>Mr({extend:Mr(wd),...o.ui?.slider||{}})({disabled:L.value,size:f.value,color:g.value,orientation:a.orientation}));function x(F){const W=new Event("change",{target:{value:F}});r("change",W),c()}return(F,W)=>(h(),I(y(wo),Kt({...y(u),...y(w)},{id:y(i),modelValue:R.value,"onUpdate:modelValue":[W[0]||(W[0]=Y=>R.value=Y),W[1]||(W[1]=Y=>y(C)())],name:y(A),disabled:y(L),class:z.value.root({class:[a.ui?.root,a.class]}),"default-value":j.value,onValueCommit:x}),{default:U(()=>[$(y(zo),{class:ve(z.value.track({class:a.ui?.track}))},{default:U(()=>[$(y(Ao),{class:ve(z.value.range({class:a.ui?.range}))},null,8,["class"])]),_:1},8,["class"]),(h(!0),D(we,null,Ue(T.value,Y=>(h(),D(we,{key:Y},[e.tooltip?(h(),I(Ci,Kt({key:0,text:T.value>1?String(R.value?.[Y-1]):String(R.value),"disable-closing-trigger":""},{ref_for:!0},typeof e.tooltip=="object"?e.tooltip:{}),{default:U(()=>[$(y(Sl),{class:ve(z.value.thumb({class:a.ui?.thumb}))},null,8,["class"])]),_:2},1040,["text"])):(h(),I(y(Sl),{key:1,class:ve(z.value.thumb({class:a.ui?.thumb}))},null,8,["class"]))],64))),128))]),_:1},16,["id","modelValue","name","disabled","class","default-value"]))}},Cd={class:"absolute inset-0",style:{"z-index":"0"}},Ad={key:1,class:"flex w-full h-full gap-1"},Td={class:"w-1/2 h-full"},Vd={class:"w-1/2 h-full"},Ld={__name:"CustomImageComparisonSlider",props:{frameworkLabel:{type:String,default:""},timeLabel:{type:String,default:""},frameworkLabel2:{type:String,default:""},timeLabel2:{type:String,default:""},layoutMode:{type:String,default:"slider"}},setup(e,{expose:t}){Un("(max-width: 767px)");const a=e,r=B(a.layoutMode);le(()=>a.layoutMode,L=>{(L==="slider"||L==="side-by-side"||L==="sideBySide")&&(r.value=L)});const l=B(null),o=B(.5);let u=!1;function i(L){if(!l.value)return;const w=l.value.getBoundingClientRect();let R=((L.touches?L.touches[0].clientX:L.clientX)-w.left)/w.width;R=Math.max(0,Math.min(R,1)),o.value=R}function c(L){r.value==="slider"&&(u=!0,i(L),window.addEventListener("mousemove",C),window.addEventListener("mouseup",f),window.addEventListener("touchmove",C),window.addEventListener("touchend",f))}function C(L){u&&i(L)}function f(){u=!1,window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",f),window.removeEventListener("touchmove",C),window.removeEventListener("touchend",f)}function g(){r.value=r.value==="slider"?"sideBySide":"slider"}function A(L){(L==="slider"||L==="sideBySide")&&(r.value=L)}return t({toggleLayoutMode:g,setLayoutMode:A}),pt(()=>{o.value=.5}),(L,w)=>r.value==="slider"?(h(),D("div",{key:0,ref_key:"container",ref:l,class:"relative w-full h-full overflow-hidden select-none"},[p("div",Cd,[je(L.$slots,"second")]),p("div",{class:"absolute inset-0 overflow-hidden",style:sa({clipPath:"inset(0 calc(100% - "+o.value*100+"%) 0 0)",zIndex:10})},[je(L.$slots,"first")],4),p("div",{class:"absolute top-0 flex items-center justify-center h-full w-10 cursor-ew-resize",style:sa({left:o.value*100+"%",transform:"translateX(-50%)",zIndex:20}),onMousedown:c,onTouchstart:c},[...w[0]||(w[0]=[p("div",{class:"flex h-full relative"},[p("div",{class:"absolute text-end right-3 top-14"}),p("div",{class:"h-full w-1.5 bg-neutral-50/90 backdrop-blur-md inset-shadow-sm inset-shadow-neutral-300"}),p("div",{class:"absolute top-14 left-3"})],-1)])],36)],512)):r.value==="sideBySide"?(h(),D("div",Ad,[p("div",Td,[je(L.$slots,"first")]),p("div",Vd,[je(L.$slots,"second")])])):E("",!0)}},Md=Hn("onboardingStore",{state:()=>({selectedStartskog:0,selectedFramework:1})}),zd=[{id:"manga_arter_pa_trad",title:"Mnga arter p ett trd",text:"P rtterna av ldre trd kan det finnas mycel av 50-100 olika arter mykorrhizasvampar.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["fre"],placement:"LEFT"},{framework:["trakthygge"],times:["fre"],placement:"LEFT"},{framework:["bldning"],times:["frr"],placement:"LEFT"},{framework:["skrmtrd"],times:["fre"],placement:"LEFT"},{framework:["luckhuggning"],times:["fre"],placement:"LEFT"}]},{id:"mykorrhiza_dar_det_finns_rotter",title:"Mykorrhiza dr det finns rtter",text:"Mykorrhizasvamparnas mycel finns lika djupt ner i marken som rtter nr, och s lngt trds rtter breder ut sig, 10-15 meter frn stammen. Men det r rikligast med mykorrhiza nrmast trdet och i de versta 10 cm av skogsmarken.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["fre"],placement:"LEFT"},{framework:["trakthygge"],times:["fre"],placement:"LEFT"},{framework:["bldning"],times:["frr"],placement:"LEFT"},{framework:["skrmtrd"],times:["fre"],placement:"LEFT"},{framework:["luckhuggning"],times:["fre"],placement:"LEFT"}]},{id:"matsvampsmycel_kort_tid",title:"Matsvamp efter avverkning",text:"Nstan alla matsvampar r mykorrhizasvampar och frsvinner efter avverkning. De verlever om dess mycel vxer med hnsynstrd som lmnats eller nra en skogskant. Annars behver de teretableras i ungskog frn sporer som sprids in frn nraliggande skogar.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["trakthygge"],times:["efter"],placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],placement:"LEFT"}]},{id:"matsvampsmycel_i_aldrre_skog",title:"Mer matsvamp i ldre skog",text:"Mngden matsvampar r strre i ldre skog eftersom strre trd har hgre fotosyntes och kan skicka ner mer socker till sina rtter.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["fre","efter","10","20","50","80"],placement:"LEFT"},{framework:["trakthygge"],times:["fre","50","80"],placement:"LEFT"},{framework:["bldning"],times:["fre","efter","10","20","50","80"],placement:"LEFT"},{framework:["skrmtrd"],times:["fre","50","80"],placement:"LEFT"},{framework:["luckhuggning"],times:["fre","50","80"],placement:"LEFT"}]},{id:"mycel_av_rodlistade_svampar",title:"Rdlistade svampar",text:"Rdlistade mykorrhizasvampar har ofta speciella miljkrav, och frekommer frmst i ldre skog. Generellt kan mycel av mykorrhizasvampar leva vidare p en plast s lnge det finns levande trd. Svampindividers mycel kan bli mnga decennier till potentiellt sekler gamla.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-award-star-outline",color:"signal-500",positions:[{framework:["naturskydd"],times:["fre","efter","10","20","50","80"],placement:"LEFT"},{framework:["trakthygge"],times:["fre"],placement:"LEFT"},{framework:["bldning"],times:["fre"],placement:"LEFT"},{framework:["skrmtrd"],times:["fre"],placement:"LEFT"},{framework:["luckhuggning"],times:["fre"],placement:"LEFT"}]},{id:"hogstubbe",title:"Hgstubbe",text:"Hr finns inga levande mykorrhizamycel. Trdets rtter r dda.",thumbnail:"/images/Skogsbruk.png",icon:"i-fluent-emoji-high-contrast-wood",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter"],x:.51,y:.26,placement:"LEFT"},{framework:["trakthygge"],times:["efter"],x:.621,y:.3,placement:"LEFT"}]},{id:"stubbe",title:"Stubbe",text:"Trdets fotosyntes och flde av energi till sina rtter har upphrt. Efter avverkning tynar mykorrhizasvamparna bort och dr efter ett par mnader - ett r.",thumbnail:"/images/Skogsbruk.png",icon:"i-fluent-emoji-high-contrast-wood",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter"],x:.422,y:.185,placement:"LEFT"},{framework:["trakthygge"],times:["efter"],x:.573,y:.32,placement:"LEFT"}]},{id:"hansynstrad",title:"Hnsynstrd",text:"De flesta mykorrhizasvamparna som vxte med trdets rtter i skogen fre avverkningen finns kvar och lever vidare. Dessa mycel kan vxa in i och spridas till uppvxande trdplantor.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-tree-circle",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter","20","50","80"],x:.335,y:.38,placement:"LEFT"},{framework:["trakthygge"],times:["efter","20","50","80"],x:.4502,y:.2228,placement:"LEFT"},{framework:["skrmtrd"],times:["20","50","80"],x:.469,y:.2577,placement:"LEFT"}]},{id:"grupp_av_hansynstrad",title:"Grupp av hnsynstrd",text:"De flesta mykorrhizasvampar som vxte i denna trdgrupps rtter fre avverkningen finns kvar och lever vidare. Fanns det mat- och naturvrdssvampar, kan de fortleva.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-tree-circle",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter","20","50","80"],x:.3736,y:.2832,placement:"LEFT"}]},{id:"sjalforyngrade_sma_tradplantor",title:"Sjlvfryngrade trdplantor",text:"Sm mycel av mykorrhizasvampar vxer i plantornas rtter. Om de vxer nra hnsynstrd kan mycel vuxint in frn dessas rtter. Annars etableras mycel frn svampsporer som sprid in frn nraliggande skogar. Vissa svamparter har ocks en sporbank i marken.",thumbnail:"/images/Skogsbruk.png",icon:"i-hugeicons-plant-03",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.4344,y:.1971,placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],x:.4344,y:.1971,placement:"LEFT"}]},{id:"planterade_sma_tradplantor",title:"Planterade sm trdplantor",text:"Har med sig spontant etablerad mykorrhiza frn plantskolan dr de odlades upp. Det r dock f arter. Dessa erstts succesivt med bttre anpassade och svamparter som finns p platsen.",thumbnail:"/images/Skogsbruk.png",icon:"i-hugeicons-plant-02",color:"neutral-500",positions:[{framework:["trakthygge"],times:["20"],x:.45,y:.32,placement:"LEFT"}]},{id:"yngre_trad_vid_avverkningen",title:"Yngre trd som lmnats",text:"Undviks underrjning fre avverkning, kommer mykorrhizasvampar att verleva p dessa plantor och trd p samma stt som de gr p rtterna av hnsynstrd.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-seedling-circle",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.33,y:.37,placement:"LEFT"}]},{id:"tradkant_mot_avverkning",title:"Trdkant mot avverkning",text:"Mykorrhizasvampars mycel vxer med i skogskantstrdens rtter s lngt de strcker sig in p avverkningen. Mest nrmast skogskanten, men nr 1015 meter in p hygget.",thumbnail:"/images/Skogsbruk.png",icon:"i-healthicons-square-medium-negative",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter","20"],x:.46,y:.409,placement:"LEFT"},{framework:["luckhuggning"],times:["efter","20"],x:.64,y:.352,placement:"LEFT"},{framework:["luckhuggning"],times:["50"],x:.511,y:.3245,placement:"LEFT"},{framework:["luckhuggning"],times:["80"],x:.3278,y:.2383,placement:"LEFT"}]},{id:"tomma_omraden_avverkning",title:"Tomma omrden ",text:"Vid omrden utan nra trd och smplantor direkt efter avverkning finns inte mykorrhizasvampar. I mark dr det saknas trdrtter finns inte mykorrhizasvampar. Ngra, men f mykorrhizasvampar har en sporbank.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.6095,y:.2081,placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],x:.485,y:.292,placement:"LEFT"}]}],Od={annotations:zd},Bd=Hn("selectedAnnotation",{state:()=>({selectedAnnotation:null}),actions:{setSelectedAnnotation(e){this.selectedAnnotation=e},clearSelectedAnnotation(){this.selectedAnnotation=null}}}),Fd=Hn("overlay",{state:()=>({staticOverlayVisible:!1}),actions:{toggleStaticOverlay(){this.staticOverlayVisible=!this.staticOverlayVisible},setStaticOverlayVisible(e){this.staticOverlayVisible=e}}}),jn={retention:{slug:"retention-trees",fields:{framework:"framework",startskog:"startskog",time:"time"}},seedTree:{slug:"seed-trees",fields:{framework:"framework",startskog:"startskog",time:"time"}},smaplantor:{slug:"smaplantor",fields:{framework:"framework",startskog:"startskog",time:"time"}},hogstubbar:{slug:"hogstubbar",fields:{framework:"framework",startskog:"startskog",time:"time"}},naturvardsarter:{slug:"naturvard",fields:{framework:"framework",startskog:"startskog",time:"time"}},kanteffekt:{slug:"kanteffekt",fields:{framework:"framework",startskog:null,time:"start"}}},hn=Object.keys(jn);function Xa(e){return e?e.replace(/_+$/g,""):e??null}function gn(e,t,a=!0){if(!t)return!1;if(e==null)return!0;const r=Xa(t);return Array.isArray(e)?a&&e.includes("alla")||e.some(l=>Xa(String(l))===r):typeof e=="string"?a&&e==="alla"?!0:Xa(e)===r:!1}function jl(e,t,a,r={}){const{ignoreStartskog:l=!1}=r,{fields:o}=a;return e.filter(u=>{if(!u)return!1;if(o.framework){const i=u[o.framework];if(!gn(i,t.framework,!1))return!1}if(o.startskog&&!l&&t.startskog){const i=u[o.startskog];if(!gn(i,t.startskog,!0))return!1}if(o.time){const i=u[o.time];if(!gn(i,t.time,!0))return!1}return!0})}function Dd(e,t,a){if(!Array.isArray(e)||e.length===0)return[];if(!t?.framework||!t?.time)return e;const r={framework:Xa(t.framework),startskog:Xa(t.startskog),time:t.time};if(a.slug==="retention-trees"){const u=r.framework,i=r.time;return!u||u==="naturskydd"?[]:!i||i==="innan"?[]:(Array.isArray(e)?e:[]).map(C=>({...C,framework:"alla",startskog:"alla",time:"alla"}))}let o=jl(e,r,a);return o.length===0&&a.fields.startskog&&r.startskog&&(o=jl(e,r,a,{ignoreStartskog:!0})),o}const $d=["innan","efter","10 r","20 r","50 r","80 r"],Ed={retention:!0,kanteffekt:!0,rottacke:!0,seedTree:!0,smaplantor:!0,hogstubbar:!0,naturvardsarter:!0,tradplantor:!0};function Rd(e){const t=e.framework,a=e.time;if(!t||!a)return!0;const r=t==="skrmtrd"||t==="skarmtrad",l=t==="bldning"||t==="bladning",o=r&&a==="efter",u=l&&["efter","20 r","50 r","80 r"].includes(a);return o||u}function jd(e){const t=e.framework,a=e.time;return!t||!a?!0:t==="trakthygge"&&a==="20 r"}async function ga(e){try{return await $fetch(e)}catch{return null}}function Id(e){switch(e){case"bldning":return["bldning","bladning"];case"skrmtrd":return["skrmtrd","skarmtrad"];default:return[e]}}function Nd(e){if(!e||typeof e!="object")return[];const t=Array.isArray(e.points)?e.points:[],a=new Map;t.length&&t.forEach(A=>{A?.id!=null&&a.set(A.id,A)});const r=e.startskogSets??null,l=e.markers??{},o=e.defaults??{},u=e.frameworks??{},i=Array.isArray(e.timelineOrder)?[...e.timelineOrder]:[...$d],c=new Set(i);Object.values(u).forEach(A=>{!A||typeof A!="object"||Object.values(A).forEach(L=>{Array.isArray(L)&&L.forEach(w=>{const j=w?.time;j&&!c.has(j)&&(c.add(j),i.push(j))})})});const C=i,f=new Map;t.length&&r&&typeof r=="object"?Object.entries(r).forEach(([A,L])=>{const w=new Map;Array.isArray(L)&&L.forEach(j=>{const R=a.get(j);R&&w.set(j,R)}),f.set(A,w)}):Object.entries(l).forEach(([A,L])=>{const w=new Map;Array.isArray(L)&&L.forEach(j=>{j?.id!=null&&w.set(j.id,j)}),f.set(A,w)});const g=[];return Object.entries(u).forEach(([A,L])=>{const w=Id(A),j=L??{};f.forEach((R,T)=>{if(!R||R.size===0)return;const z=Array.from(R.keys()),x=Array.isArray(o[T])?o[T]:z;let F=new Set(x),W=new Set;const Y=Array.isArray(j[T])?j[T]:[],se=new Map;Y.forEach(ue=>{ue?.time&&se.set(ue.time,ue)}),C.forEach(ue=>{let H=new Set(F);const K=se.get(ue);K&&(K.set&&(K.set==="base"?H=new Set(x):K.set==="all"?H=new Set(z):Array.isArray(K.set)&&(H=new Set(K.set))),Array.isArray(K.remove)&&K.remove.forEach(X=>{H.delete(X),W.add(X)}),Array.isArray(K.add)&&K.add.forEach(X=>{H.add(X),W.delete(X)})),F.forEach(X=>{H.has(X)||W.add(X)}),H.forEach(X=>{W.has(X)&&W.delete(X)}),w.forEach(X=>{H.forEach(re=>{const te=R.get(re)||a.get(re);te&&g.push({id:te.id,x:te.x,y:te.y,framework:X,startskog:T,time:ue,removed:!1})}),W.forEach(re=>{const te=R.get(re)||a.get(re);te&&g.push({id:te.id,x:te.x,y:te.y,framework:X,startskog:T,time:ue,removed:!0})})}),F=new Set(H)})})}),g}function Pd(e){return e?Array.isArray(e.mycelium)?e.mycelium:e.markers&&e.frameworks||e.points&&e.startskogSets&&e.frameworks?Nd(e):[]:[]}async function Ud(){const e=["/smplantor.json","/smaplantor.json"];for(const t of e){const a=await ga(t);if(a)return a}return null}function qd(){const{data:e,pending:t}=ba("overlay-datasets-json",async()=>{const[i,c,C,f,g,A]=await Promise.all([ga("/retentionTrees.json"),ga("/api/seedTrees"),Ud(),ga("/hogstubbar.json"),ga("/naturvard.json"),ga("/api/kanteffekt")]);return{"retention-trees":Array.isArray(i?.trees)?i.trees:[],"seed-trees":Array.isArray(c?.trees)?c.trees:[],smaplantor:Array.isArray(C?.trees)?C.trees:Array.isArray(C)?C:[],hogstubbar:Array.isArray(f?.stubbar)?f.stubbar:[],naturvard:Pd(g),kanteffekt:Array.isArray(A?.features)?A.features:[]}}),a={};hn.forEach(i=>{const c=jn[i].slug;a[i]={data:v(()=>e.value?.[c]??[]),pending:v(()=>t.value)}});const r=(i,c)=>Dd(a[i].data.value,c,jn[i]),l=i=>{const c={};return hn.forEach(C=>{c[C]=r(C,i)}),c},o=i=>{if(!i?.framework||!i?.time||!i?.startskog)return{...Ed};const c=l(i);return{retention:a.retention.pending.value||c.retention.length>0,kanteffekt:a.kanteffekt.pending.value||c.kanteffekt.length>0,rottacke:Rd(i),seedTree:a.seedTree.pending.value||c.seedTree.length>0,smaplantor:a.smaplantor.pending.value||c.smaplantor.length>0,hogstubbar:a.hogstubbar.pending.value||c.hogstubbar.length>0,naturvardsarter:a.naturvardsarter.pending.value||c.naturvardsarter.length>0,tradplantor:jd(i)}},u=v(()=>t.value||hn.some(i=>a[i].pending.value));return{datasets:a,filterDataset:r,filterAll:l,availabilityFor:o,pendingAny:u}}const aa=la({open:!1,key:null,anchor:null});function Hd(e){if(e instanceof HTMLElement){const t=e.getBoundingClientRect();return{x:t.left,y:t.top,width:t.width,height:t.height}}return e}function Kd(){function e(a,r){const l=Hd(r);aa.key=a,aa.anchor=l,aa.open=!0}function t(){aa.open=!1,aa.key=null,aa.anchor=null}return{...Qa(aa),show:e,hide:t}}const Wd={class:"relative flex flex-col w-full h-dvh"},Yd={class:"space-y-0.5 p-3"},Gd={class:"grid grid-cols-2 gap-2"},Xd={class:"flex flex-col text-center items-center w-full space-y-1"},Zd={class:"flex flex-col text-center items-center w-full space-y-1"},Jd={class:"absolute top-0 z-50 w-full sm:flex"},Qd={class:"sm:flex items-center border-muted sm:p-1"},ev={class:"flex w-full sm:w-fit h-fit justify-center pt-5 pb-0 sm:pb-0 items-center sm:items-start"},tv={class:"w-full"},av={class:"hidden sm:block pl-4 pt-4"},rv={key:0,class:"absolute top-3 right-3"},nv={class:"flex sm:justify-center items-center overflow-x-scroll md:overflow-hidden my-3 h-fit sm:mt-8 sm:my-0 gap-2"},lv={class:"p-1 flex flex-col gap-1"},sv={class:"w-full max-w-full"},iv={class:"inline-flex flex-nowrap whitespace-nowrap gap-2"},ov={class:"flex justify-center"},uv={class:"absolute bottom-8 left-1/2 transform -translate-x-1/2 p-4 sm:p-0 space-y-2 sm:space-y-0 pointer-events-none sm:flex gap-2 items-center z-40"},cv={class:"sm:hidden z-50"},dv={class:"relative"},vv={key:0,class:"space-y-4"},fv={class:"space-y-2"},mv=["innerHTML"],pv={class:"space-y-2"},hv=["innerHTML"],gv={key:1,class:"text-sm text-neutral-400"},bv={key:1,class:"w-full"},yv={class:"flex items-center justify-between gap-3"},kv={class:"text-sm font-medium text-neutral-700"},_v={key:0,class:"space-y-2"},xv=["innerHTML"],wv={class:"space-y-2"},Sv=["innerHTML"],Cv={key:1,class:"text-sm text-neutral-400"},Av={class:"sm:p-3 sm:pt-0"},Tv={class:"flex flex-wrap gap-1.5 sm:gap-2 p-2 sm:p-4"},Vv={class:"flex items-start justify-between gap-3"},Lv={class:"flex items-start gap-2"},Mv={class:"text-base font-semibold text-neutral-800"},zv={class:"flex gap-1"},Ov={class:"text-sm text-neutral-600 leading-relaxed"},Bv={class:"ui-zoom-reapply relative flex flex-col flex-1 w-full"},Fv={class:"flex flex-1"},Dv={class:"absolute bottom-4 right-0 z-50 flex flex-col items-center"},$v={class:"flex items-center justify-center gap-2"},Ev={class:"flex w-full mt-4"},Rv={class:"flex flex-col gap-2 p-4"},jv={class:"flex w-full"},Iv={class:"flex w-full justify-between"},Nv={class:"flex w-full justify-between"},Pv={key:0,class:"space-y-1.5 sm:p-4 p-2 max-w-sm z-50 absolute top-28 right-0 transform-all text-end pointer-events-none"},Uv={class:"flex items-center gap-1"},qv={key:1},Hv={class:"p-3 space-y-2"},Kv={class:"flex w-full justify-between"},Wv={class:"flex items-start gap-2"},Yv={class:"text-sm font-semibold text-neutral-800"},Gv={key:0,class:"text-sm text-neutral-600 leading-relaxed"},Xv={key:1,class:"text-xs text-neutral-400"},Zv={key:0,class:"absolute p-2 w-full"},Jv={class:"flex justify-between p-2 items-center mb-2"},Qv={class:"flex items-center justify-between gap-2"},ef={class:"flex items-center gap-1"},tf={class:"min-w-[3ch] text-sm text-neutral-700 dark:text-neutral-200 text-center"},af={key:0,class:"space-y-2 w-full"},rf={class:"flex flex-col"},nf={class:"text-md font-medium"},lf={key:0,class:"text-sm text-neutral-500"},sf={class:"flex flex-col"},of={class:"text-md font-medium"},uf={key:0,class:"text-sm text-neutral-500"},cf={class:"flex flex-col"},df={class:"text-md font-medium"},vf={key:0,class:"text-sm text-neutral-500"},ff={class:"w-full mt-1 relative"},mf={class:""},pf={class:"space-y-2"},hf={class:"relative flex-1"},gf={key:0,class:"w-full h-full"},bf={key:0,class:"absolute inset-y-0 right-0 w-68 bg-white dark:bg-neutral-950/70 backdrop-blur-2xl overflow-auto z-10 pointer-events-auto border-neutral-300 dark:border-neutral-700 border-l"},yf={class:"px-4 py-2"},kf={class:"text-lg font-semibold text-neutral-800 dark:text-neutral-200"},_f={class:"text-neutral-400"},xf={key:1,class:ve(["absolute max-h-screen z-50 top-0 w-sm left-0 overflow-auto transition-all shadow-2xl border-r bg-white border-neutral-100/10 rounded-br-sm duration-300 ease-in-out backdrop-blur-2xl hide-scrollbar"])},wf={class:"p-4"},Sf={key:0},Cf={class:"text-xl font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},Af={class:"p-2 flex flex-col gap-2"},Tf=["onClick"],Vf={class:"font-medium"},Lf={class:"text-sm text-neutral-300"},Mf={class:"flex justify-between"},zf={class:"text-md text-neutral-200"},Of={key:0,class:"my-4"},Bf=["innerHTML"],Ff=["innerHTML"],Df={key:1,class:"my-4 text-neutral-300 text-sm"},$f={key:1,class:"space-y-2"},Ef={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},Rf={class:"p-2 flex flex-col gap-2"},jf=["onClick"],If={class:"font-medium"},Nf={class:"text-sm text-neutral-300"},Pf={class:"flex justify-between"},Uf={key:0,class:"my-4"},qf=["innerHTML"],Hf=["innerHTML"],Kf={class:"flex justify-between"},Wf={class:"text-md text-neutral-200"},Yf={key:0,class:"my-4"},Gf=["innerHTML"],Xf=["innerHTML"],Zf={key:2,class:"space-y-2"},Jf={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},Qf={class:"p-2 flex flex-col gap-2"},em=["onClick"],tm={class:"font-medium"},am={class:"text-sm text-neutral-300"},rm={class:"flex justify-between"},nm={class:"text-md text-neutral-200"},lm={key:0,class:"my-4"},sm=["innerHTML"],im=["innerHTML"],om={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},um={class:"p-2 flex flex-col gap-2"},cm=["onClick"],dm={class:"font-medium"},vm={class:"text-sm text-neutral-300"},fm={class:"flex justify-between"},mm={class:"text-md text-neutral-200"},pm={key:0,class:"my-4"},hm=["innerHTML"],gm=["innerHTML"],bm={class:"grid grid-cols-2 gap-4"},ym={class:"w-full"},km={class:"w-full"},bn="rodlistade",_m=220,Il="Ingen tidslinjeinformation hittades fr den hr kombinationen.",xm=Re({__name:"Model",emits:["close"],async setup(e,{emit:t}){let a,r;const l=zi(()=>Bi(()=>import("./BbFdaAlb.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]),import.meta.url));let o;const u=la({}),i=qd(),{hide:c}=Kd(),C=B(null);function f(s){if(!s)return null;if(typeof s=="string")return s;if(typeof s=="object"){if("value"in s&&typeof s.value=="string")return s.value;if("framework"in s&&typeof s.framework=="string")return s.framework;if("label"in s&&typeof s.label=="string")return s.label}return String(s??"")}const g={retention:()=>!!Ae.value,kanteffekt:()=>!!ze.value,rottackeSkarmtrad:()=>!!ie.value,rottackeBladning:()=>!!ee.value,seedTree:()=>!!ne.value,smaplantor:()=>!!he.value,hogstubbar:()=>!!xe.value,naturvardsarter:()=>!!P.value,tradplantor:()=>!!Se.value};function A(s,n){const k=g[s];if(k&&!k())return!1;const O=f(n.framework)||"",G=typeof n.time=="string"?n.time:f(n.time);if(s==="rottackeSkarmtrad")return(O==="skrmtrd"||O==="skarmtrad")&&G==="efter";if(s==="rottackeBladning")return O==="bldning"||O==="bladning"?G==="efter"||G==="20 r"||G==="50 r"||G==="80 r":!1;try{const pe=i.availabilityFor({framework:O,startskog:f(n.startskog),time:G});return!!(pe&&pe[s])}catch{return!1}}const L=v(()=>{const s=[],n=f(J?.value??J),k=f(Ee?.value??Ee),O=me?.value??me,G=Je;return ke.value?(s.push({framework:n,startskog:O?.value??O,time:"innan"}),s.push({framework:n,startskog:O?.value??O,time:G})):ye.value?(s.push({framework:n,startskog:O?.value??O,time:G}),s.push({framework:k,startskog:O?.value??O,time:G})):s.push({framework:n,startskog:O?.value??O,time:G}),s});function w(s){const n=L.value;for(const k of n)if(A(s,k))return!0;return!1}const[j,R]=Ai(),T=Un("(max-width: 767px)"),z=[{label:"Text",icon:"i-heroicons-book-open",slot:"text",value:"text"},{label:"Markrer",icon:"i-material-symbols-location-on",slot:"markers",value:"markers"},{label:"Diagram",icon:"i-carbon-chart-line-smooth",slot:"diagram",value:"diagram"}],{public:{dziBaseUrl:x="https://assets.svampskog.se/dzi_v3",dziVersionSuffix:F=""}={}}=Ti(),W=x,Y=F;function se(s){return s?s.toString().toLowerCase().replace(//g,"a").replace(//g,"a").replace(//g,"o").replace(/[^a-z0-9_-]/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,""):""}function ue({framework:s,timeLabel:n,fungiVisibility:k,treeVisibility:O,startskog:G}){const nt=[s,n,k,O,G].map(ta=>se(ta)).filter(Boolean).join("_"),ha=se(Y);return ha?`${nt}_${ha}`:nt}function H(s){return`${W}/${ue(s)}.dzi`}const{data:K}=([a,r]=Ua(()=>ba("forestry-timeline-modelc",()=>qa("forestryTimelines").first())),a=await a,r(),a),X=v(()=>{const s=K.value;if(!s)return[];if(Array.isArray(s)){const n=s.find(k=>k?.id==="skogsskotsel")||s[0];return Array.isArray(n?.entries)?n.entries:[]}return Array.isArray(s.entries)?s.entries:[]}),re=B(!1),te=B("beforeAfterCompare"),fe=B("slider"),tt=t,ce=B(!1),_e=B(!1),Ie=B(!1),Ae=B(!1),ze=B(!1),Le=B(!1),P=B(!1),ie=B(!1),ee=B(!1),ne=B(!1),he=B(!1),xe=B(!1),Se=B(!1),Ye=B(1),Fe=B(!1),Te=B(!1);function Oe(){Fe.value=!Fe.value}function nr(){Te.value=!Te.value}const M=["retention","kanteffekt","rottackeSkarmtrad","rottackeBladning","seedTree","smaplantor","hogstubbar","naturvardsarter","tradplantor"],gt=B([]);function Kr(s,n){const k=gt.value,O=k.indexOf(s);n?(O!==-1&&k.splice(O,1),k.push(s)):O!==-1&&k.splice(O,1)}const oa=Fd(),jt=v({get:()=>oa.staticOverlayVisible,set:s=>oa.setStaticOverlayVisible(s)}),dt=B(!1),Vt=B(!1),Ge=B(null);B(!1);const It=B(!1),bt=B("skogsskole"),et=B(!1),Ne=B(!1),yt=B("text");function Wr(){yt.value="diagram",Ne.value=!0;try{T.value||c?.()}catch{}}const Ta=v({get:()=>Ne.value,set:s=>{Ne.value=s}}),Va=B(!1);v({get:()=>It.value,set:s=>{It.value=s}});function La(s){const n=Array.isArray(Qt?.value)?Qt.value:[];if(!n.length)return;const k=n.map(pe=>String(pe.value)),O=String(ea.value);let G=k.indexOf(O);if(G===-1&&(G=0),s<0){for(let pe=G-1;pe>=0;pe--)if(!n[pe]?.disabled){ea.value=String(n[pe].value);return}return}else{for(let pe=G+1;pe<n.length;pe++)if(!n[pe]?.disabled){ea.value=String(n[pe].value);return}return}}function Ma(s){return(s||"").toString().trim().toLowerCase()}const vt=v(()=>Array.isArray(Qt?.value)?Qt.value:Array.isArray(Qt)?Qt:[]),lr=v(()=>{const n=vt.value.map(k=>String(k.value)).indexOf(String(ea.value));return n===-1?0:n}),ft=v(()=>{for(let s=lr.value-1;s>=0;s--)if(!vt.value[s]?.disabled)return vt.value[s];return null}),Nt=v(()=>{for(let s=lr.value+1;s<vt.value.length;s++)if(!vt.value[s]?.disabled)return vt.value[s];return null}),za=v(()=>!!ft.value),Lt=v(()=>!!Nt.value);function ua(s){try{const n=J.value&&J.value.value,k=me.value&&me.value.value;return X.value.find(G=>G.atgard===n&&G.startskog===k&&Ma(G.tid)===Ma(s))?.skog||""}catch{return""}}const Oa=v(()=>ft.value?String(ft.value.label??ft.value.value):""),Ba=v(()=>Nt.value?String(Nt.value.label??Nt.value.value):""),sr=v(()=>ft.value?br(Number(ft.value.value)):null),Fa=v(()=>Nt.value?br(Number(Nt.value.value)):null);v(()=>ua(sr.value)),v(()=>ua(Fa.value));function Yr(){La(-1)}function Gr(){La(1)}const Da=[{re:/hnsynstrd/gi,overlay:"retention"},{re:/evighetstrd/gi,overlay:"retention"},{re:/hyggeskanterna/gi,overlay:"kanteffekt"},{re:/luckorna/gi,overlay:"kanteffekt"},{re:/frtrdens rtter/gi,overlay:"seedTree"},{re:/frtrd/gi,overlay:"seedTree"},{re:/skrmtrdens rtter/gi,overlay:"rottackeSkarmtrad"},{re:/smplantor/gi,overlay:"smaplantor"},{re:/hgstubbar/gi,overlay:"hogstubbar"},{re:/rdlistade svampar/gi,overlay:"naturvardsarter"},{re:/rdlistad art/gi,overlay:"naturvardsarter"},{re:/Trdplantor/gi,overlay:"tradplantor"}];function Xr(s=""){return String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Me(s=""){let n=Xr(s);n=n.replace(/Visa\s+naturvrdsdiagram/gi,()=>'<a href="#" data-action="show-diagram">Visa naturvrdsdiagram</a>');for(const k of Da)n=n.replace(k.re,O=>`<span class=" text-primary-500 font-medium underline cursor-pointer hover:opacity-80" data-overlay="${k.overlay}">${O}</span>`);return n}const Xe=new Set(M),Zr=s=>typeof s=="string"&&Xe.has(s);function kt(s){const n=s.target;if(!n)return;const k=n.closest("[data-action]");if(k&&k.getAttribute("data-action")==="show-diagram"){s.preventDefault(),nn();return}const O=n.closest("[data-overlay]");if(!O)return;const G=O.getAttribute("data-overlay");Zr(G)&&ti(G)}B(!1),v(()=>[{value:"sideBySide",label:"Sida vid sida"},{value:"slider",label:"Skjutreglage"}]);const Mt=v(()=>Ut.map((s,n)=>({value:n,label:s.label,description:s.text}))),ir=B(!0),mt=B(!1),zt=B(!1),or=B(85);let Jr=0,ur=or.value;function cr(s){if(!ca)return;const k=(s.clientX-Jr)/16;or.value=ur+k}function dr(){ca=!1,window.removeEventListener("pointermove",cr),window.removeEventListener("pointerup",dr)}Et(()=>{window.removeEventListener("pointermove",cr),window.removeEventListener("pointerup",dr)});const $a=B(600);let ca=!1,vr=0,Pt=$a.value;function Ea(s){if(!ca)return;const n=s.clientY-vr;$a.value=Pt+n}function fr(){ca=!1,window.removeEventListener("pointermove",Ea),window.removeEventListener("pointerup",fr)}Et(()=>{window.removeEventListener("pointermove",Ea),window.removeEventListener("pointerup",fr)}),B(!1),B(!1);const d=B(!0),b=B(1),V=v(()=>{const s=J.value.value,n=Jt(Ke.value),k="visa",O=at.value?"visa":"dlj",G=me.value.value;return H({framework:s,timeLabel:n,fungiVisibility:O,treeVisibility:k,startskog:G})}),S=v(()=>{const s=J.value.value,n="fre",k="visa",O=at.value?"visa":"dlj",G=me.value.value;return H({framework:s,timeLabel:n,fungiVisibility:O,treeVisibility:k,startskog:G})}),_=v(()=>{const s=J.value.value,n=Jt(Ke.value),k="visa",O=at.value?"visa":"dlj",G=me.value.value;return H({framework:s,timeLabel:n,fungiVisibility:O,treeVisibility:k,startskog:G})}),N=v(()=>{const s=J.value.value,n=Jt(Ke.value),k="visa",O=at.value?"visa":"dlj",G=me.value.value;return H({framework:s,timeLabel:n,fungiVisibility:O,treeVisibility:k,startskog:G})}),Z=v(()=>{const s=Ee.value.value,n=Jt(Ke.value),k="visa",O=at.value?"visa":"dlj",G=me.value.value;return H({framework:s,timeLabel:n,fungiVisibility:O,treeVisibility:k,startskog:G})}),Q=Bd(),De=v(()=>Q.selectedAnnotation);function oe(s){if(Q.setSelectedAnnotation(s),s.position&&Na.value){const n=Na.value.getZoom();Na.value.setZoomAndCenter(n,s.position)}}function $e(){Q.clearSelectedAnnotation()}const be=B(null);B("line");const Be=Md();B(!1);const at=B(!0),ke=v(()=>re.value&&te.value==="beforeAfterCompare"),ye=v(()=>re.value&&te.value==="frameworkCompare"),He=v({get:()=>Be.selectedFramework,set:s=>Be.selectedFramework=s}),Qn=v({get:()=>Be.selectedStartskog??0,set:s=>{Be.selectedStartskog=s}}),da=B(He.value),Ee=v(()=>Ut[da.value]||Ut[0]);function Gs(s){if(!s)return[];const n=["fre","efter"];return s==="skrmtrd"&&!ye.value&&n.push("10"),n.push("20","50","80"),n}function el(s){if(!s)return[];const n=me.value?.value;if(!n)return[];const k=at.value?"visa":"dlj",O=Gs(s),G=[];for(const pe of O)G.push(H({framework:s,timeLabel:pe,fungiVisibility:k,treeVisibility:"dlj",startskog:n}));return Array.from(new Set(G))}const Yt=v(()=>el(J.value?.value)),tl=v(()=>el(Ee.value?.value));le([ye,ke],([s,n])=>{(!s||!n)&&(ui.value="framework1")}),pt(()=>{o=so({o:()=>Ta.value=!Ta.value,n:()=>{P.value=!P.value}})}),Pn(()=>{typeof o=="function"&&o(),xt&&(clearTimeout(xt),xt=null),Zt=!1,Xt=!0});const Xs=s=>{const n=Qr.findIndex(k=>k.value===s.value);n!==-1&&(Qn.value=n),Va.value=!1},Ut=[{id:0,label:"Ingen tgrd",value:"naturskydd",text:"Orrd skog",icon:"pepicons-pop:tree-circle",iconColor:"text-green-500"},{id:1,label:"Trakthygge",value:"trakthygge",text:"Kalavverkning med hnsyn",icon:"material-symbols:resize",iconColor:"text-violet-500"},{id:2,label:"Luckhuggning",value:"luckhuggning",text:"Mindre ytor kalavverkas",icon:"pixelarticons:chess",iconColor:"text-sky-500"},{id:3,label:"verhllen skrm",value:"skrmtrd",text:"Avverkning i tre steg under 20 r",icon:"catppuccin:redwood",iconColor:"text-orange-500"},{id:4,label:"Bldning",value:"bldning",text:"Enstaka trd gallras",icon:"lineicons:trees",iconColor:"text-teal-500"}],Qr=[{label:"Inte kalavverkad",value:"naturskog"},{label:"Kalavverkad",value:"produktionsskog_"}],J=v(()=>Ut[He.value!==void 0?He.value:0]),me=v(()=>Qr[Qn.value]),_t=v(()=>J.value?.value),en=v(()=>me.value?.value??null),va=v(()=>_t.value==="trakthygge"),fa=v(()=>_t.value==="luckhuggning"),mr=v(()=>_t.value==="bldning"||_t.value==="bladning"),Ot=v(()=>_t.value==="skrmtrd"||_t.value==="skarmtrad"),pr={retention:{title:"Hnsynstrd",description:"De flesta mykorrhizasvamparna som vxte med trdens rtter fre avverkningen finns kvar och lever vidare. Mycel kan vxa in i och spridas till uppvxande trdplantor.",condition:()=>Ae.value&&_t.value!=="naturskydd",close:()=>{Ae.value=!1}},kanteffekt:{title:"Kanteffekt",description:"Mykorrhizasvamp p trdens rtter i skogskanten kan strcka sig 1015 meter in p hygget; starkast nrmast kanten.",condition:()=>ze.value&&(va.value||fa.value||Ot.value),close:()=>{ze.value=!1}},rottackeSkarmtrad:{title:"Rottcke skrmtrd",description:"Kontinuerligt rottcke kopplat till verhllen skrm (1 r efter).",condition:()=>ie.value&&Ot.value,close:()=>{ie.value=!1}},rottackeBladning:{title:"Rottcke bldning",description:"Kontinuerligt rottcke kopplat till bldning (efter, 20, 50, 80 r).",condition:()=>ee.value&&mr.value,close:()=>{ee.value=!1}},seedTree:{title:"Frtrd",description:"Mycel fortstter leva p frtrdens rtter och kan koppla till nya plantor.",condition:()=>ne.value&&Ot.value,close:()=>{ne.value=!1}},smaplantor:{title:"Yngre trd och plantor som lmnats",description:"Undviks underrjning fre avverkning, kommer mykorrhizasvampar att verleva p dessa plantor och trd p samma stt som de gr p rtterna av hnsynstrd.",condition:()=>he.value,close:()=>{he.value=!1}},hogstubbar:{title:"Hgstubbar",description:"Hr finns inga levande mykorrhizamycel. Trdets rtter r dda.",condition:()=>xe.value,close:()=>{xe.value=!1}},naturvardsarter:{title:"Naturvrdsarter",description:"Naturvrdsarter har ofta speciella miljkrav, och frekommer frmst i ldre skog. Generellt kan mycel av mykorrhizasvampar leva vidare p en plats s lnge det finns levande trd. Svampindividers mycel kan likt trd bli mnga decennier till potentiellt sekler gamla.",condition:()=>P.value&&(va.value||fa.value||mr.value||Ot.value),close:()=>{P.value=!1}},tradplantor:{title:"Planterade sm trdplantor",description:"Har med sig spontant etablerad mykorrhiza frn plantskolan dr de odlades upp. Det r dock f arter. Dessa erstts succesivt med bttre anpassade och svamparter som finns p platsen.",condition:()=>Se.value&&va.value,close:()=>{Se.value=!1}}},Ra={staticOverlay:"i-material-symbols-light-rectangle-outline",retention:"i-pepicons-pop-tree-circle",kanteffekt:"i-healthicons-square-medium-negative",rottackeSkarmtrad:"i-fluent-emoji-high-contrast-blue-square",rottackeBladning:"i-fluent-emoji-high-contrast-blue-square",seedTree:"i-teenyicons-redwoodjs-outline",smaplantor:"i-pepicons-pop-seedling-circle",hogstubbar:"i-roentgen-wood",naturvardsarter:"i-material-symbols-award-star-outline",tradplantor:"i-hugeicons-plant-02"},tn=v(()=>{const s={staticOverlay:{title:"Bestndsgrns",description:"Visar grnsen fr den berrda skogen"}};return M.forEach(n=>{const k=pr[n];s[n]={title:k.title,description:k.description}}),s});function hr(s){const n=tn.value[s]??{title:s,description:""},k=Ra[s];return{title:n.title,description:n.description,icon:k}}const rt=la({staticOverlay:!1,retention:!1,kanteffekt:!1,rottackeSkarmtrad:!1,rottackeBladning:!1,seedTree:!1,smaplantor:!1,hogstubbar:!1,naturvardsarter:!1,tradplantor:!1}),Gt={staticOverlay:jt,retention:Ae,kanteffekt:ze,rottackeSkarmtrad:ie,rottackeBladning:ee,seedTree:ne,smaplantor:he,hogstubbar:xe,naturvardsarter:P,tradplantor:Se};function an(s,n={}){const k=Gt[s];if(!k)return;const O=s,G=n.hideWhenUnpin??!0,pe=!rt[O];if(rt[O]=pe,pe){k.value||(k.value=!0),Ge.value=O;return}G&&(Ge.value===O?gr({hideOverlay:!0}):k.value&&(k.value=!1))}const Zs=s=>(s||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),Js=v(()=>{const s=new Set,n=k=>{const O=Zs(k);O&&s.add(O)};return n(J.value?.value),ye.value&&n(Ee.value?.value),s}),Qs={staticOverlay:"all",naturvardsarter:"all",retention:["trakthygge","luckhuggning","skarmtrad","bladning"],kanteffekt:["trakthygge","luckhuggning","skarmtrad"],tradplantor:["trakthygge"],smaplantor:["trakthygge"],hogstubbar:["trakthygge"],rottackeBladning:["bladning"],rottackeSkarmtrad:["skarmtrad"],seedTree:["skarmtrad"]};function al(s){const n=Qs[s];if(!n||n==="all")return!0;const k=Js.value;return k.size?n.some(O=>k.has(O)):!0}const rl=v(()=>{const s=tn.value,n=[];return al("staticOverlay")&&n.push({key:"staticOverlay",label:s.staticOverlay?.title??"Bestndsgrns",description:s.staticOverlay?.description??"",icon:Ra.staticOverlay}),M.forEach(k=>{al(k)&&n.push({key:k,label:s[k]?.title??k,description:s[k]?.description??"",icon:Ra[k]??void 0})}),n}),nl=v(()=>{const s={staticOverlay:{label:tn.value.staticOverlay?.title??"Bestndsgrns",icon:Ra.staticOverlay}};return M.forEach(n=>{s[n]={label:pr[n].title,icon:Ra[n]??void 0}}),rl.value.forEach(n=>{s[n.key]={label:n.label,icon:n.icon}}),s}),ma=v(()=>{const s=Ge.value;if(!s||!rn(s))return null;const n=hr(s);return{key:s,title:n.title,description:n.description}}),ja=v(()=>{const s=Ge.value;return s?rt[s]:!1}),ll=v(()=>{const s=Ge.value;return s?nl.value[s]?.icon??null:null}),sl=v(()=>{const s=nl.value,n=ri.value,k=[];return rt.staticOverlay&&k.push({key:"staticOverlay",title:s.staticOverlay?.label??"Bestndsgrns",icon:s.staticOverlay?.icon||null,isAssociated:!0}),M.forEach(O=>{rt[O]&&k.push({key:O,title:s[O]?.label??pr[O].title,icon:s[O]?.icon||null,isAssociated:n[O]??!0})}),k});le(Ne,s=>{s&&It.value&&(It.value=!1)}),le(It,s=>{s&&Ne.value&&(Ne.value=!1)});let xt=null,Xt=!0,Zt=!1;function ei(s){an(s)}function Bt(s){Object.keys(Gt).forEach(n=>{n!==s&&(rt[n]||Gt[n]?.value&&(Gt[n].value=!1))})}function rn(s){const n=pr[s];return!!n&&n.condition()}function Ft(s){const n=rn(s);if(Kr(s,n),n){Ge.value=s,Vt.value&&(dt.value=!0,Vt.value=!1,T.value||c());return}if(Ge.value===s){const k=gt.value.slice().reverse().find(O=>rn(O));k?(Ge.value=k,Vt.value&&(dt.value=!0,Vt.value=!1,T.value||c())):(gr({hideOverlay:!1}),c())}}function ti(s){const n=Gt[s];if(n){if(Vt.value=!0,!n.value){n.value=!0;return}Ge.value=s,dt.value=!0,Vt.value=!1,c()}}async function nn(s={}){Wr(),bt.value=bn,et.value=!0,await ht(),C.value?.setSelectedChart&&(C.value.setSelectedChart(bn),et.value=!1),s.badgeKey&&(u[s.badgeKey]=!1),T.value||c();try{gr({hideOverlay:!1})}catch{}try{rt.naturvardsarter=!0;const n=Gt.naturvardsarter;n&&!n.value&&(n.value=!0)}catch{}}le([yt,()=>C.value],async([s,n])=>{if(s==="diagram"&&et.value&&n?.setSelectedChart){await ht();try{n.setSelectedChart(bn)}finally{et.value=!1}}});function gr(s={}){Zt=!0;const n=Ge.value;if(Xt=s.hideOverlay??(n?!rt[n]:!0),!n){Zt=!1,Xt=!0,dt.value=!1,c();return}if(!dt.value){il();return}dt.value=!1}function il(){xt&&(clearTimeout(xt),xt=null);const s=Ge.value;if(!s){Xt=!0,Zt=!1;return}const n=Xt;if(Ge.value=null,Xt=!0,Zt=!1,n){const k=Gt[s];k&&k.value&&(k.value=!1),c()}}le(dt,(s,n)=>{if(xt&&(clearTimeout(xt),xt=null),!s&&n){if(!Zt){const k=Ge.value;Xt=k?!rt[k]:!0}xt=setTimeout(()=>{il()},_m)}else s&&(Zt=!1)}),le(Ta,s=>{s||(gr({hideOverlay:!1}),T.value||c())}),pt(()=>{try{jt.value||(jt.value=!0)}catch{}rt.staticOverlay=!0}),le(Ae,s=>{s&&Bt("retention"),Ft("retention")},{immediate:!0}),le(ze,s=>{s&&Bt("kanteffekt"),Ft("kanteffekt")},{immediate:!0}),le(ee,s=>{s&&Bt("rottackeBladning"),Ft("rottackeBladning")},{immediate:!0}),le(ne,s=>{s&&Bt("seedTree"),Ft("seedTree")},{immediate:!0}),le(he,s=>{s&&Bt("smaplantor"),Ft("smaplantor")},{immediate:!0}),le(xe,s=>{s&&Bt("hogstubbar"),Ft("hogstubbar")},{immediate:!0}),le(P,s=>{s&&Bt("naturvardsarter"),Ft("naturvardsarter")},{immediate:!0}),le(Se,s=>{s&&Bt("tradplantor"),Ft("tradplantor")},{immediate:!0}),le(jt,s=>{s&&Bt("staticOverlay")}),le(_t,()=>{M.forEach(s=>Ft(s))});const Ke=B(3);function ai(s){ke.value&&s.value===3||(Ke.value=s.value)}function br(s){return{3:"innan",15:"efter",30:"10 r",45:"20 r",70:"50 r",99:"80 r"}[s]||"innan"}function Jt(s){const n=pa.value.find(k=>k.value===s);return n?n.timeLabel:"fre"}const pa=v(()=>{const n=[{value:3,label:J.value?.value==="naturskydd"?"Ingen avverkning":"Fre avverkning",timeLabel:"fre"},{value:15,label:"1 r efter",timeLabel:"efter"}];return J.value?.value==="skrmtrd"&&!ye.value&&n.push({value:30,label:"10 r efter",timeLabel:"10"}),n.push({value:45,label:"20 r efter ",timeLabel:"20"},{value:70,label:"50 r efter ",timeLabel:"50"},{value:99,label:"+ 80 r efter ",timeLabel:"80"}),n}),Qt=v(()=>pa.value.map(s=>({value:String(s.value),label:s.label,disabled:ke.value&&s.value===3}))),ea=v({get(){return String(Ke.value)},set(s){const n=pa.value.find(k=>String(k.value)===s);n&&ai(n)}}),Ze=v(()=>{const s=pa.value.find(n=>n.value===Ke.value);return s?s.label:""}),ol=v(()=>ke.value?3:null);v(()=>ol.value!==null?br(ol.value):null);const Je=v(()=>br(Ke.value)),ul=v(()=>({framework:_t.value??null,startskog:en.value??null,time:Je.value??null})),ri=v(()=>i.availabilityFor(ul.value)),ge=v(()=>i.filterAll(ul.value)),ni=v(()=>({framework:_t.value??null,startskog:en.value??null,time:ke.value?"innan":Je.value??null})),st=v(()=>i.filterAll(ni.value)),li=v(()=>({framework:Ee.value?.value??null,startskog:en.value??null,time:Je.value??null})),it=v(()=>i.filterAll(li.value)),ot=v(()=>!J.value?.value||!Je.value||!me.value?.value?null:X.value.find(s=>s.atgard===J.value.value&&s.tid===Je.value&&s.startskog===me.value.value)),yr=v(()=>!Ee.value?.value||!Je.value||!me.value?.value?null:X.value.find(s=>s.atgard===Ee.value.value&&s.tid===Je.value&&s.startskog===me.value.value)),kr=v(()=>!J.value?.value||!me.value?.value?null:X.value.find(s=>s.atgard===J.value.value&&s.tid==="innan"&&s.startskog===me.value.value)),_r=v(()=>{const s=[],n=J.value?.label??"",k=Ee.value?.label??"",O=Ze.value??"";return ke.value?(s.push({key:"before",left:n,right:"Fre avverkning",info:kr.value??null}),s.push({key:"after",left:n,right:O,info:ot.value??null})):ye.value?(s.push({key:"framework1",left:n,right:O,info:ot.value??null}),s.push({key:"framework2",left:k,right:O,info:yr.value??null})):s.push({key:"single",left:n,right:O,info:ot.value??null}),s});v(()=>{const s=_r.value.filter(n=>!!n.info).length;return T.value&&s>1&&(ke.value||ye.value)});const cl=la({});function si(s){cl[s]||(cl[s]={skog:!0,svamp:!0})}le(_r,s=>{s.forEach(n=>si(n.key))},{immediate:!0});function dl(s){re.value=s,s&&te.value||(te.value="beforeAfterCompare")}const vl=v(()=>{const s=J.value.value,n="fre",k="dlj",O=at.value?"visa":"dlj",G=me.value.value;return H({framework:s,timeLabel:n,fungiVisibility:O,treeVisibility:k,startskog:G})}),fl=v(()=>{const s=Ee.value.value,n=Jt(Ke.value),k="dlj",O=at.value?"visa":"dlj",G=me.value.value;return H({framework:s,timeLabel:n,fungiVisibility:O,treeVisibility:k,startskog:G})});v(()=>{const s=J.value.value.toLowerCase(),n=Jt(Ke.value);return`${s}_${n}`});const Ia=v(()=>{const s=J.value.value,n=Jt(Ke.value),k="dlj",O=at.value?"visa":"dlj",G=me.value.value;return H({framework:s,timeLabel:n,fungiVisibility:O,treeVisibility:k,startskog:G})});le([J,ke,ye],()=>{pa.value.map(n=>n.value).includes(Ke.value)||(Ke.value=15)});const Na=B(null),wt=B(null),St=B(null);let ln=!1,sn=!1;function ml(){if(sn)return;ln=!0;const s=wt.value?.getZoom(),n=wt.value?.getCenter();s&&n&&St.value&&St.value.setZoomAndCenter(s,n),ln=!1}function pl(){if(ln)return;sn=!0;const s=St.value?.getZoom(),n=St.value?.getCenter();s&&n&&wt.value&&wt.value.setZoomAndCenter(s,n),sn=!1}function qt(s){s==="before"&&wt.value?(wt.value.addSyncHandler("zoom",ml),wt.value.addSyncHandler("pan",ml)):s==="after"&&St.value?(St.value.addSyncHandler("zoom",pl),St.value.addSyncHandler("pan",pl)):s==="framework1"&&Ct.value?(Ct.value.addSyncHandler("zoom",hl),Ct.value.addSyncHandler("pan",hl)):s==="framework2"&&At.value&&(At.value.addSyncHandler("zoom",gl),At.value.addSyncHandler("pan",gl))}let on=!1,un=!1;function hl(){if(un)return;on=!0;const s=Ct.value?.getZoom(),n=Ct.value?.getCenter();s&&n&&At.value&&At.value.setZoomAndCenter(s,n),on=!1}function gl(){if(on)return;un=!0;const s=At.value?.getZoom(),n=At.value?.getCenter();s&&n&&Ct.value&&Ct.value.setZoomAndCenter(s,n),un=!1}const Ct=B(null),At=B(null);let cn=null;const bl=B({zoom:1,center:null});function xr(s,{zoom:n,center:k}={}){!n||!k||cn!==s&&(cn=s,bl.value={zoom:n,center:k})}function ii(){return!ke.value&&!ye.value?{single:Na.value}:ke.value?{before:wt.value,after:St.value}:ye.value?{framework1:Ct.value,framework2:At.value}:{}}le(bl,({zoom:s,center:n})=>{const k=ii();Object.entries(k).forEach(([O,G])=>{O!==cn&&G&&G.setZoomAndCenter&&G.setZoomAndCenter(s,n)})});const Dt=B("single");v(()=>[{key:"framework1",label:J.value.label},{key:"framework2",label:Ee.value.label}]);const oi=B(0);le(ye,s=>{s||(oi.value=0)});const ui=B("none"),dn=[{label:"Fre / efter",value:"beforeAfterCompare"},{label:"Tv metoder",value:"frameworkCompare"}];function ci(){be.value&&be.value.toggleLayoutMode&&be.value.toggleLayoutMode(),console.log("Current layout:",fe.value)}v(()=>({label:fe.value==="sideBySide"?"Sida vid sida":"Skjutreglage",type:"button",onSelect(s){s.preventDefault(),ci()},icon:fe.value==="sideBySide"?"i-circum-grid-2-v":"iconamoon:compare-duotone"})),v(()=>[{label:dn[0].label,type:"checkbox",checked:te.value==="frameworkCompare",onUpdateChecked(s){s?te.value="frameworkCompare":te.value==="frameworkCompare"&&(te.value=null)},onSelect(s){s.preventDefault()}},{label:dn[1].label,type:"checkbox",checked:te.value==="beforeAfterCompare",onUpdateChecked(s){s?te.value="beforeAfterCompare":te.value==="beforeAfterCompare"&&(te.value=null)},onSelect(s){s.preventDefault()}},{type:"separator"},{label:"Sida vid sida",type:"checkbox",checked:fe.value==="sideBySide",onUpdateChecked(s){s&&(fe.value="sideBySide",be.value&&be.value.setLayoutMode&&be.value.setLayoutMode("sideBySide"))},onSelect(s){s.preventDefault()},icon:"i-circum-grid-2-v"},{label:"Skjutreglage",type:"checkbox",checked:fe.value==="slider",onUpdateChecked(s){s&&(fe.value="slider",be.value&&be.value.setLayoutMode&&be.value.setLayoutMode("slider"))},onSelect(s){s.preventDefault()},icon:"iconamoon:compare-duotone"}]),v(()=>fe.value==="sideBySide"?"i-circum-grid-2-v":"iconamoon:compare-duotone"),v(()=>te.value==="frameworkCompare"?"Tv metoder":te.value==="beforeAfterCompare"?"Fre / efter":"Jmfr"),le(te,s=>{s==="frameworkCompare"?(ke.value=!1,ye.value=!0):s==="beforeAfterCompare"?(ke.value=!0,ye.value=!1):(ke.value=!1,ye.value=!1)}),le(fe,s=>{be.value&&be.value.setLayoutMode&&be.value.setLayoutMode(s)}),le(ke,s=>{s&&Ke.value===3&&(Ke.value=15)});const yl=v(()=>{const s=pa.value.find(n=>n.value===Ke.value);return s?s.timeLabel:""}),di=v(()=>{const s=J.value.value,n=yl.value.toLowerCase();return Od.annotations.flatMap(k=>{if(k.positions&&Array.isArray(k.positions))return k.positions.filter(O=>{const G=Array.isArray(O.framework)?O.framework.includes(s):O.framework===s,pe=Array.isArray(O.times)?O.times.map(nt=>nt.toLowerCase()).includes(n):O.times.toLowerCase()===n;return G&&pe}).map(O=>({...k,position:{x:O.x,y:O.y,placement:O.placement}}));{const O=Array.isArray(k.frameworks)?k.frameworks.includes(s):k.framework===s,G=Array.isArray(k.times)?k.times.map(pe=>pe.toLowerCase()).includes(n):k.time.toLowerCase()===n;return O&&G?[k]:[]}})});return le(Dt,s=>{console.log("activeViewer updated to:",s)}),(s,n)=>{const k=jr,O=Wa,G=Ii,pe=Yl,nt=Vi,ha=Li,ta=Pi,vi=Xl,fi=kd,Qe=xd,kl=Mi,mi=Sd,_l=Ld;return h(),D("div",Wd,[y(T)?(h(),I(k,{key:0,icon:"i-heroicons-x-mark",variant:"solid",color:"error",class:"rounded-full h-fit absolute bottom-4 left-4 z-50",ui:{rounded:"rounded-full"},onClick:n[0]||(n[0]=m=>tt("close")),"aria-label":"Stng modellvy",size:"xl"})):E("",!0),$(y(j),null,{default:U(()=>[p("div",Yd,[p("div",Gd,[$(k,{size:"xs",variant:"outline",color:"neutral",onClick:n[1]||(n[1]=m=>dl(!1)),class:ve(re.value?"text-muted/60 hover:text-muted ring-muted/50":"bg-neutral-100 shadow ring-muted")},{default:U(()=>[p("div",Xd,[$(O,{name:"i-bx-rectangle",class:"size-4"}),n[64]||(n[64]=p("h1",null,"Enkelvy",-1))])]),_:1},8,["class"]),$(k,{size:"xs",variant:"outline",color:"neutral",onClick:n[2]||(n[2]=m=>dl(!0)),class:ve(re.value?"bg-neutral-100 shadow ring-muted":"text-muted/60 hover:text-muted ring-muted/50")},{default:U(()=>[p("div",Zd,[$(O,{name:"iconamoon:compare-duotone",class:"size-4"}),n[65]||(n[65]=p("h1",null,"Jmfr",-1))])]),_:1},8,["class"])]),re.value?(h(),I(G,{key:0,modelValue:te.value,"onUpdate:modelValue":n[3]||(n[3]=m=>te.value=m),items:dn,size:"sm",placeholder:"Vlj",clearable:!0,class:"w-full ring-muted -mb-2 mt-2",ui:{root:"min-w-max flex-shrink-0",list:"flex-nowrap rounded-xl bg-muted/50 -mb-1.5 gap-2",indicator:"bg-white border border-muted/50 shadow ",trigger:" data-[state=active]:text-neutral-800 dark:data-[state=active]:text-violet-400/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary "}},null,8,["modelValue"])):E("",!0)])]),_:1}),p("div",null,[p("div",Jd,[p("div",Qd,[p("div",ev,[p("div",tv,[Mt.value.length?(h(),D("div",{key:0,class:ve(["grid sm:gap-4 gap-2 pl-4 pr-2.5 sm:py-1 flex-row sm:items-center sm:justify-start h-fit w-full sm:w-fit",ye.value?"grid-cols-2":"grid-cols-1"])},[$(pe,{size:"xl",items:Mt.value,modelValue:He.value,"onUpdate:modelValue":n[4]||(n[4]=m=>He.value=m),placeholder:J.value.label,"append-to-body":"",variant:"outline",class:"ring-muted w-full shadow rounded-full",ui:{content:"min-w-fit rounded-xl z-50",viewport:"text-center"}},null,8,["items","modelValue","placeholder"]),ye.value?(h(),I(pe,{key:0,size:"xl",items:Mt.value,modelValue:da.value,"onUpdate:modelValue":n[5]||(n[5]=m=>da.value=m),placeholder:Ee.value.label,"append-to-body":"",variant:"outline",class:"ring-muted w-full shadow rounded-full",ui:{content:"rounded-xl min-w-fit z-50"}},null,8,["items","modelValue","placeholder"])):E("",!0)],2)):E("",!0),p("div",av,[$(k,{size:"lg",color:"neutral",variant:"outline",class:"ring-muted rounded-full shadow",icon:Ne.value?"i-heroicons-chevron-left":"i-heroicons-chevron-right",onClick:n[6]||(n[6]=m=>Ne.value=!Ne.value)},null,8,["icon"])])]),p("div",null,[$(nt,{ui:{content:"p-0 w-80 rounded-lg mr-2 z-50"},content:{side:"bottom",sideOffset:8,collisionPadding:8,align:"start"},class:"pointer-events-auto mr-4 sm:mt-1"},{content:U(()=>[$(y(R))]),default:U(()=>[$(k,{size:"xl",color:"neutral",variant:"outline",icon:"iconamoon:compare-duotone",class:"ring-muted/50 shadow rounded-full"})]),_:1})])]),y(T)?E("",!0):(h(),D("div",rv,[$(k,{icon:"i-heroicons-x-mark",variant:"solid",color:"error",class:"rounded-full",ui:{rounded:"rounded-full"},onClick:n[7]||(n[7]=m=>tt("close")),"aria-label":"Stng modellvy"})]))]),p("div",nv,[$(nt,{class:"cursor-pointer z-50",open:Va.value,"onUpdate:open":n[8]||(n[8]=m=>Va.value=m),content:{side:"bottom",sideOffset:8,collisionPadding:8,align:"start"},ui:{content:"rounded-xl z-50"}},{content:U(()=>[n[66]||(n[66]=p("div",{class:"text-sm w-64 p-3 text-neutral-500 border-b border-neutral-200"}," Har skogen varit kalavverkad tidigare? ",-1)),p("div",lv,[(h(),D(we,null,Ue(Qr,m=>p("div",{key:m.value},[$(k,{onClick:Pe=>Xs(m),size:"lg",color:"neutral",variant:"ghost",label:m.label,class:ve(["hover:bg-neutral-100 cursor-pointer text-neutral-400 w-full rounded-lg",{" bg-neutral-100 text-neutral-800":me.value.value===m.value}]),icon:m.value==="naturskog"?"i-material-symbols-light-forest-rounded":"i-ph-farm"},null,8,["onClick","label","class","icon"])])),64))])]),default:U(()=>[$(k,{variant:(y(T),"soft"),color:"neutral",size:y(T)?"lg":"md",class:"rounded-full ring-muted h-fit ml-3 sm:ml-0",icon:me.value.value=="naturskog"?"i-material-symbols-light-forest-rounded":"i-ph-farm"},null,8,["variant","size","icon"])]),_:1},8,["open"]),p("div",sv,[p("div",iv,[(h(!0),D(we,null,Ue(Qt.value,(m,Pe)=>(h(),I(k,{key:"time-btn-"+Pe,disabled:m?.disabled,size:(y(T),"md"),color:"neutral",variant:"outline",class:ve(["rounded-full ring-muted/50 flex-none shrink-0 disabled:bg-neutral-900 disabled:text-white",String(ea.value)===String(m?.value)?"bg-neutral-900 text-white shadow hover:bg-neutral-900 ":"opacity-100 hover:opacity-100"]),label:String(m?.label??m?.value),"aria-pressed":String(ea.value)===String(m?.value),onClick:wr=>!m?.disabled&&(ea.value=String(m?.value))},null,8,["disabled","size","class","label","aria-pressed","onClick"]))),128))])])])]),p("div",ov,[p("div",uv,[$(kl,{direction:y(T)?"bottom":"left",inset:!y(T),dismissible:(y(T),!1),overlay:!1,handle:(y(T),!1),modal:!1,open:Ne.value,"onUpdate:open":n[16]||(n[16]=m=>Ne.value=m),class:"pointer-events-auto",ui:{header:"flex items-center justify-between",body:"p-0 ",container:"p-0 gap-0 ",content:"sm:max-w-xs sm:ring-muted/50 rounded-t-xl sm:rounded-xl sm:shadow sm:mt-18 sm:h-fit sm:overflow-visible",footer:"gap-0"}},{body:U(()=>[$(k,{class:ve(["absolute top-1.5 sm:top-0 sm:-right-12 right-1.5 rounded-full transition-all ring-muted/50 pointer-events-auto z-50",Ne.value?"":"hidden"]),variant:"outline",color:"neutral",onClick:n[9]||(n[9]=m=>Ne.value=!1),icon:y(T)?"i-heroicons-x-mark":"i-heroicons-chevron-left",size:"lg"},null,8,["class","icon"]),p("div",dv,[$(G,{modelValue:yt.value,"onUpdate:modelValue":n[11]||(n[11]=m=>yt.value=m),items:z,variant:"pill",size:"sm",color:"neutral",ui:{root:"gap-0",content:"",list:"w-fit m-2 p-0.5 px-1 bg-muted/50",indicator:"shadow  bg-white active:text-neutral-900",trigger:"data-[state=active]:text-neutral-900"},class:""},{text:U(()=>[p("div",{class:ve(["sm:grid divide-y sm:divide-y-0 sm:divide-x divide-muted/70 transition-all relative",[(re.value,"sm:grid-cols-1")]])},[ye.value||ke.value?(h(),D("div",bv,[$(vi,{dots:!y(T),items:_r.value,class:"max-w-4xl mx-auto",ui:{item:"basis-12/13",viewport:"p-3 sm:mb-12"}},{default:U(({item:m})=>[$(ta,{ui:{body:"p-4 space-y-4"},class:"",variant:"soft",onClick:kt},{default:U(()=>[p("div",yv,[p("h2",kv,ae(m.left),1),$(ha,{label:m.right,class:"ring-muted/50 py-1",variant:"outline",color:"neutral"},null,8,["label"])]),m.info?(h(),D("div",_v,[p("div",null,[p("p",{class:"text-sm text-muted",innerHTML:Me(m.info.skog)},null,8,xv)]),p("div",wv,[p("span",{class:"text-sm",innerHTML:Me(m.info.svamp)},null,8,Sv)])])):(h(),D("div",Cv,ae(m.emptyMessage||Il),1))]),_:2},1024)]),_:1},8,["dots","items"])])):(h(!0),D(we,{key:0},Ue(_r.value,m=>(h(),D("div",{key:m.key,class:"p-4 sm:p-5 group",onClick:kt},[m.info?(h(),D("div",vv,[p("div",fv,[p("p",{class:"text-sm text-muted",innerHTML:Me(m.info.skog)},null,8,mv)]),p("div",pv,[p("span",{class:"text-sm",innerHTML:Me(m.info.svamp)},null,8,hv)])])):(h(),D("div",gv,ae(m.emptyMessage||Il),1))]))),128))],2)]),diagram:U(()=>[p("div",Av,[yt.value==="diagram"?(h(),I(fi,{key:0,ref_key:"chartMainRef",ref:C,selectedChart:bt.value,"onUpdate:selectedChart":n[10]||(n[10]=m=>bt.value=m),parentSelectedFrameworks:ye.value?[J.value.value,Ee.value.value]:[J.value.value],currentTimeValue:yl.value,currentStartskog:me.value.value},null,8,["selectedChart","parentSelectedFrameworks","currentTimeValue","currentStartskog"])):E("",!0)])]),markers:U(()=>[p("div",Tv,[(h(!0),D(we,null,Ue(rl.value,m=>(h(),I(ha,{key:m.key,label:m.label,icon:m.icon,color:rt[m.key]?"primary":"neutral",variant:rt[m.key]?"solid":"subtle",class:ve(["cursor-pointer",rt[m.key]?"shadow-sm":"opacity-70 hover:opacity-100"]),onClick:Pe=>ei(m.key)},null,8,["label","icon","color","variant","class","onClick"]))),128))])]),_:1},8,["modelValue"])]),ma.value?(h(),I(kl,{key:0,open:dt.value,"onUpdate:open":n[15]||(n[15]=m=>dt.value=m),nested:!!y(T),direction:"bottom",modal:!0,overlay:!1,inset:!y(T),handle:!!y(T),ui:{container:"p-0 gap-0",content:"sm:max-w-sm w-full mx-auto",body:"p-4 space-y-3"}},{body:U(()=>[p("div",Vv,[p("div",Lv,[ll.value?(h(),I(O,{key:0,name:ll.value,class:"size-5 text-primary-500 mt-0.5"},null,8,["name"])):E("",!0),p("h3",Mv,ae(ma.value.title),1)]),p("div",zv,[$(k,{color:ja.value?"error":"primary",variant:"subtle",size:"xs",ui:{rounded:"rounded-full"},label:ja.value?"Ta bort":"Fst i vyn",icon:ja.value?"i-tabler-pinned-off":"i-tabler-pinned","aria-pressed":ja.value,title:ja.value?"Lossa":"Fst",onClick:n[12]||(n[12]=m=>an(ma.value.key,{hideWhenUnpin:!1}))},null,8,["color","label","icon","aria-pressed","title"])])]),p("p",Ov,ae(ma.value.description),1),ma.value.key==="naturvardsarter"?(h(),I(k,{key:0,size:"sm",color:"primary",variant:"soft",class:"mt-2",icon:"i-carbon-chart-line-smooth",onClick:n[13]||(n[13]=m=>nn())},{default:U(()=>[...n[67]||(n[67]=[Ya(" Visa naturvrdsartsdiagram ",-1)])]),_:1})):E("",!0),ma.value.key==="kanteffekt"?(h(),I(ta,{key:1,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"},class:"mt-2 backdrop-blur-xl border border-white/10"},{default:U(()=>[$(Qe,{ui:{root:"flex-row-reverse justify-between",label:"",description:"",base:"data-[state=unchecked]:bg-neutral-600"},size:"md",color:"primary",modelValue:Le.value,"onUpdate:modelValue":n[14]||(n[14]=m=>Le.value=m),label:"Tidigare kanteffekt",description:"Visa spr frn tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):E("",!0)]),_:1},8,["open","nested","inset","handle"])):E("",!0)]),default:U(()=>[p("div",cv,[$(k,{size:"xl",label:"Information",color:"neutral",icon:"i-heroicons-chevron-up",class:"ring-muted rounded-full shadow z-50",variant:Ne.value?"subtle":"outline"},null,8,["variant"])])]),_:1},8,["direction","inset","dismissible","handle","open"])])])]),p("div",Bv,[p("div",Fv,[p("div",Dv,[$(O,{name:"i-mingcute-tree-fill",class:"size-7 mb-3 text-primary"}),p("div",$v,[$(mi,{orientation:"vertical",min:0,max:1,step:.01,modelValue:b.value,"onUpdate:modelValue":n[17]||(n[17]=m=>b.value=m),class:"h-28 w-full",color:"primary"},null,8,["modelValue"])]),$(nt,null,{content:U(()=>[p("div",Rv,[p("div",jv,[$(O,{name:"i-fluent-shape-organic-16-filled",class:"size-6 text-gray-300 z-20"}),$(O,{name:"i-fluent-shape-organic-16-filled",class:"size-6 -ml-4 text-gray-400 z-10"}),$(O,{name:"i-fluent-shape-organic-16-filled",class:"size-6 -ml-4 mr-4 text-gray-500"}),n[68]||(n[68]=p("h1",{class:"font-medium"},"Mykorrhizasvampar",-1))]),p("div",Iv,[$(O,{name:"i-fluent-shape-organic-16-filled",class:"size-6 text-signal-400"}),n[69]||(n[69]=p("h1",{class:"font-medium"},"Naturvrdssvampar",-1))]),p("div",Nv,[$(O,{name:"i-fluent-shape-organic-16-filled",class:"size-6 text-yellow-400"}),n[70]||(n[70]=p("h1",{class:"font-medium"},"Matsvampar",-1))])])]),default:U(()=>[p("div",Ev,[$(O,{name:"i-fluent-shape-organic-16-filled",class:"size-6 text-gray-300 z-20"}),$(O,{name:"i-fluent-shape-organic-16-filled",class:"size-6 -ml-4 text-signal-400 z-10"}),$(O,{name:"i-fluent-shape-organic-16-filled",class:"size-6 -ml-4 mr-4 text-yellow-400"})])]),_:1})]),sl.value.length?(h(),D("div",Pv,[(h(!0),D(we,null,Ue(sl.value,m=>(h(),D("div",{key:m.key,class:"pointer-events-auto flex flex-col sm:flex sm:flex-wrap gap-1 items-end"},[$(nt,{"open-delay":500,"close-delay":300,mode:"click",open:u[m.key],"onUpdate:open":Pe=>u[m.key]=Pe,popper:{placement:"bottom-end"},ui:{content:"p-0 w-80"}},{content:U(()=>[p("div",Hv,[p("div",Kv,[p("div",Wv,[m.icon?(h(),I(O,{key:0,name:m.icon,class:"size-5 text-primary-500 mt-0.5"},null,8,["name"])):E("",!0),p("h3",Yv,ae(hr(m.key).title||m.title),1)]),$(k,{label:"Ta bort",variant:"subtle",color:"error",size:"xs",icon:"i-tabler-pinned-off",onClick:Pe=>(an(m.key),u[m.key]=!0)},null,8,["onClick"])]),hr(m.key).description?(h(),D("p",Gv,ae(hr(m.key).description),1)):(h(),D("div",Xv,"Ingen beskrivning tillgnglig.")),m.key==="naturvardsarter"?(h(),I(k,{key:2,size:"sm",color:"primary",variant:"soft",icon:"i-carbon-chart-line-smooth",onClick:Ka(Pe=>nn({badgeKey:m.key}),["stop"])},{default:U(()=>[...n[71]||(n[71]=[Ya(" Visa naturvrdsartsdiagram ",-1)])]),_:1},8,["onClick"])):E("",!0),m.key==="kanteffekt"?(h(),I(ta,{key:3,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"},class:"mt-2 backdrop-blur-xl border border-white/10"},{default:U(()=>[$(Qe,{ui:{root:"flex-row-reverse justify-between",label:"",description:"",base:"data-[state=unchecked]:bg-neutral-600"},size:"md",color:"primary",modelValue:Le.value,"onUpdate:modelValue":n[18]||(n[18]=Pe=>Le.value=Pe),label:"Tidigare kanteffekt",description:"Visa spr frn tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):E("",!0)])]),default:U(()=>[p("div",null,[$(ha,{color:"neutral",variant:"outline",size:"lg",class:ve(["cursor-pointer shadow-sm sm:ml-1.5 w-fit transition-opacity ring-muted/50",m.key==="staticOverlay"||w(m.key)?"":"opacity-50"])},{default:U(()=>[p("div",Uv,[m.icon?(h(),I(O,{key:0,name:m.icon,class:"size-5 text-primary-500"},null,8,["name"])):E("",!0),y(T)?E("",!0):(h(),D("span",qv,ae(m.title),1))])]),_:2},1032,["class"])])]),_:2},1032,["open","onUpdate:open"])]))),128))])):E("",!0),p("div",{class:ve(["relative overflow-auto transition-all duration-300 ease-in-out ",mt.value?"w-72 border-r border-neutral-300":"w-0"])},[mt.value?(h(),D("div",Zv,[p("div",Jv,[n[72]||(n[72]=p("h1",{class:"font-semibold text-lg"},"Instllningar",-1)),$(k,{icon:mt.value?"i-heroicons-chevron-left":"i-heroicons-chevron-right",variant:"outline",color:"neutral",class:"rounded-full left-4 z-10",onClick:n[19]||(n[19]=m=>mt.value=!mt.value)},null,8,["icon"])]),$(ta,{variant:"soft",ui:{body:"p-2 sm:p-3"},class:"mb-2"},{default:U(()=>[p("div",Qv,[n[74]||(n[74]=p("div",{class:"text-xs text-neutral-500"},"UIzoom",-1)),p("div",ef,[$(k,{color:"neutral",variant:"soft",size:"xs",icon:"i-heroicons-minus",onClick:n[20]||(n[20]=m=>Ye.value=Math.max(.75,+(Ye.value-.1).toFixed(2)))}),p("div",tf,ae(Math.round(Ye.value*100))+"% ",1),$(k,{color:"neutral",variant:"soft",size:"xs",icon:"i-heroicons-plus",onClick:n[21]||(n[21]=m=>Ye.value=Math.min(2,+(Ye.value+.1).toFixed(2)))}),$(k,{color:"neutral",variant:"ghost",size:"xs",title:"terstll (100%)",onClick:n[22]||(n[22]=m=>Ye.value=1)},{default:U(()=>[...n[73]||(n[73]=[Ya(" Reset ",-1)])]),_:1})])])]),_:1}),ye.value?(h(),D("div",af,[$(pe,{size:"lg",items:Mt.value,modelValue:He.value,"onUpdate:modelValue":n[23]||(n[23]=m=>He.value=m),placeholder:J.value.label,"append-to-body":"",variant:"outline",class:"w-full"},{item:U(({item:m})=>[p("div",rf,[p("div",nf,ae(m.label),1),m.description?(h(),D("div",lf,ae(m.description),1)):E("",!0)])]),_:1},8,["items","modelValue","placeholder"]),$(pe,{size:"lg",items:Mt.value,modelValue:da.value,"onUpdate:modelValue":n[24]||(n[24]=m=>da.value=m),placeholder:Ee.value.label,"append-to-body":"",variant:"outline",class:"w-full"},{item:U(({item:m})=>[p("div",sf,[p("div",of,ae(m.label),1),m.description?(h(),D("div",uf,ae(m.description),1)):E("",!0)])]),_:1},8,["items","modelValue","placeholder"])])):(h(),D(we,{key:1},[n[75]||(n[75]=p("h1",{class:"text-xs text-neutral-400"},"Skogsbruksmetod",-1)),$(pe,{size:"xl",items:Mt.value,modelValue:He.value,"onUpdate:modelValue":n[25]||(n[25]=m=>He.value=m),placeholder:J.value.label,"append-to-body":"",variant:"subtle",class:"w-full"},{item:U(({item:m})=>[p("div",cf,[p("div",df,ae(m.label),1),m.description?(h(),D("div",vf,ae(m.description),1)):E("",!0)])]),_:1},8,["items","modelValue","placeholder"])],64)),p("div",ff,[p("div",mf,[p("div",pf,[va.value||fa.value||Ot.value?(h(),I(Qe,{key:0,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Ae.value,"onUpdate:modelValue":n[26]||(n[26]=m=>Ae.value=m),label:"Hnsynstrd"},null,8,["modelValue"])):E("",!0),va.value||fa.value||Ot.value?(h(),I(Qe,{key:1,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ze.value,"onUpdate:modelValue":n[27]||(n[27]=m=>ze.value=m),label:"Kanteffekt"},null,8,["modelValue"])):E("",!0),$(Qe,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:he.value,"onUpdate:modelValue":n[28]||(n[28]=m=>he.value=m),label:"Smplantor"},null,8,["modelValue"]),fa.value&&ze.value?(h(),I(ta,{key:2,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"}},{default:U(()=>[$(Qe,{ui:{root:"flex-row-reverse justify-between"},size:"xs",color:"neutral",modelValue:Le.value,"onUpdate:modelValue":n[29]||(n[29]=m=>Le.value=m),label:"Tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):E("",!0),Ot.value?(h(),I(Qe,{key:3,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ie.value,"onUpdate:modelValue":n[30]||(n[30]=m=>ie.value=m),label:"Rtter skrmtrd"},null,8,["modelValue"])):E("",!0),mr.value?(h(),I(Qe,{key:4,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ee.value,"onUpdate:modelValue":n[31]||(n[31]=m=>ee.value=m),label:"Rtter bldning"},null,8,["modelValue"])):E("",!0),$(Qe,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:xe.value,"onUpdate:modelValue":n[32]||(n[32]=m=>xe.value=m),label:"Hgstubbar"},null,8,["modelValue"]),va.value||fa.value||mr.value||Ot.value?(h(),I(Qe,{key:5,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:P.value,"onUpdate:modelValue":n[33]||(n[33]=m=>P.value=m),label:"Naturvrdsarter"},null,8,["modelValue"])):E("",!0),Ot.value?(h(),I(Qe,{key:6,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ne.value,"onUpdate:modelValue":n[34]||(n[34]=m=>ne.value=m),label:"Frtrd"},null,8,["modelValue"])):E("",!0),$(Qe,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Se.value,"onUpdate:modelValue":n[35]||(n[35]=m=>Se.value=m),label:"Trdplantor"},null,8,["modelValue"]),$(Qe,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:ce.value,"onUpdate:modelValue":n[36]||(n[36]=m=>ce.value=m),label:"Spara klick (dev)"},null,8,["modelValue"]),$(Qe,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:_e.value,"onUpdate:modelValue":n[37]||(n[37]=m=>_e.value=m),label:"Visa myc-etiketter (dev)"},null,8,["modelValue"]),$(Qe,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:Ie.value,"onUpdate:modelValue":n[38]||(n[38]=m=>Ie.value=m),label:"Visa naturvrdssiffra (dev)"},null,8,["modelValue"])])])])])):E("",!0)],2),p("div",hf,[!ke.value&&!ye.value?(h(),D("div",gf,[$(y(l),{"tradplantor-visible":Se.value,"naturvardsarter-visible":P.value,"hogstubbar-visible":xe.value,"smaplantor-visible":he.value,"dev-save-clicks":ce.value,"show-overlay-labels":_e.value,"show-naturvard-counter":Ie.value,"seedTree-visible":ne.value,"rottacke-skarmtrad-visible":ie.value,"rottacke-bladning-visible":ee.value,"retention-visible":Ae.value,"old-kanteffekt-visible":Le.value,"kanteffekt-visible":ze.value,"retention-points":ge.value.retention,"seed-tree-points":ge.value.seedTree,"smaplantor-points":ge.value.smaplantor,"hogstubbar-points":ge.value.hogstubbar,"naturvardsarter-points":ge.value.naturvardsarter,"kanteffekt-features":ge.value.kanteffekt,fullscreenLayout:!0,currentFramework:J.value,currentTime:Je.value,currentStartskog:me.value,layoutMode:fe.value,ref_key:"singleViewerRef",ref:Na,frameworkLabel:J.value.label,timeLabel:Ze.value,dziUrl:Ia.value,overlayDziUrl:V.value,allowPan:!0,"preload-dzi-urls":Yt.value,annotations:zt.value?di.value:[],selectedAnnotation:De.value,globalOpacity:b.value,"onUpdate:globalOpacity":n[39]||(n[39]=m=>b.value=m),onAnnotationClicked:oe,class:"w-full h-full ui-zoom-exempt"},null,8,["tradplantor-visible","naturvardsarter-visible","hogstubbar-visible","smaplantor-visible","dev-save-clicks","show-overlay-labels","show-naturvard-counter","seedTree-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","retention-visible","old-kanteffekt-visible","kanteffekt-visible","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","preload-dzi-urls","annotations","selectedAnnotation","globalOpacity"]),$(Oi,{name:"slide-out"},{default:U(()=>[De.value?(h(),D("div",bf,[n[76]||(n[76]=p("div",{class:"h-64 flex items-center justify-center text-neutral-300"}," Bild kommer snart ",-1)),$(k,{color:"white",ui:{rounded:"rounded-full"},icon:"heroicons:x-mark",onClick:$e,class:"absolute top-2 right-2"}),p("div",yf,[p("h3",kf,ae(De.value.title),1),p("p",_f,ae(De.value.text),1)])])):E("",!0)]),_:1})])):ke.value?(h(),I(_l,{key:1,class:"w-full",ref_key:"comparisonSliderRef",ref:be,frameworkLabel:J.value.label,timeLabel:"Fre avverkning",frameworkLabel2:J.value.label,timeLabel2:Ze.value,layoutMode:fe.value},{first:U(()=>[d.value?(h(),I(y(l),{key:1,"naturvardsarter-visible":P.value,"retention-visible":Ae.value,"kanteffekt-visible":ze.value,"old-kanteffekt-visible":Le.value,"rottacke-skarmtrad-visible":ie.value,"rottacke-bladning-visible":ee.value,"seedTree-visible":ne.value,"smaplantor-visible":he.value,"hogstubbar-visible":xe.value,"tradplantor-visible":Se.value,fullscreenLayout:!0,"show-overlay-labels":_e.value,"show-naturvard-counter":Ie.value,"retention-points":st.value.retention,"seed-tree-points":st.value.seedTree,"smaplantor-points":st.value.smaplantor,"hogstubbar-points":st.value.hogstubbar,"naturvardsarter-points":st.value.naturvardsarter,"kanteffekt-features":st.value.kanteffekt,currentFramework:J.value,currentTime:"innan",currentStartskog:me.value,layoutMode:fe.value,ref_key:"beforeViewerRef",ref:wt,comparisonMode:!0,frameworkLabel:J.value.label,timeLabel:"Fre avverkning",dziUrl:vl.value,overlayDziUrl:S.value,allowPan:!0,"preload-dzi-urls":Yt.value,onOpened:n[42]||(n[42]=m=>qt("before")),onActivated:n[43]||(n[43]=m=>Dt.value.valueOf="before"),globalOpacity:b.value,"onUpdate:globalOpacity":n[44]||(n[44]=m=>b.value=m),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentStartskog","layoutMode","frameworkLabel","dziUrl","overlayDziUrl","preload-dzi-urls","globalOpacity"])):(h(),I(y(l),{key:0,"naturvardsarter-visible":P.value,"retention-visible":Ae.value,"kanteffekt-visible":ze.value,"old-kanteffekt-visible":Le.value,"rottacke-skarmtrad-visible":ie.value,"rottacke-bladning-visible":ee.value,"seedTree-visible":ne.value,"smaplantor-visible":he.value,"hogstubbar-visible":xe.value,"tradplantor-visible":Se.value,fullscreenLayout:!0,"show-overlay-labels":_e.value,"show-naturvard-counter":Ie.value,"retention-points":st.value.retention,"seed-tree-points":st.value.seedTree,"smaplantor-points":st.value.smaplantor,"hogstubbar-points":st.value.hogstubbar,"naturvardsarter-points":st.value.naturvardsarter,"kanteffekt-features":st.value.kanteffekt,currentFramework:J.value,currentTime:"innan",currentStartskog:me.value,layoutMode:fe.value,ref_key:"beforeViewerRef",ref:wt,comparisonMode:!0,frameworkLabel:J.value.label,timeLabel:"Fre avverkning",dziUrl:vl.value,overlayDziUrl:S.value,allowPan:!0,"preload-dzi-urls":Yt.value,onOpened:n[40]||(n[40]=m=>qt("before")),onActivated:n[41]||(n[41]=m=>Dt.value.valueOf="before"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentStartskog","layoutMode","frameworkLabel","dziUrl","overlayDziUrl","preload-dzi-urls"]))]),second:U(()=>[d.value?(h(),I(y(l),{key:1,"naturvardsarter-visible":P.value,"retention-visible":Ae.value,"kanteffekt-visible":ze.value,"old-kanteffekt-visible":Le.value,"rottacke-skarmtrad-visible":ie.value,"rottacke-bladning-visible":ee.value,"seedTree-visible":ne.value,"smaplantor-visible":he.value,"hogstubbar-visible":xe.value,"tradplantor-visible":Se.value,fullscreenLayout:!0,"show-overlay-labels":_e.value,"show-naturvard-counter":Ie.value,"retention-points":ge.value.retention,"seed-tree-points":ge.value.seedTree,"smaplantor-points":ge.value.smaplantor,"hogstubbar-points":ge.value.hogstubbar,"naturvardsarter-points":ge.value.naturvardsarter,"kanteffekt-features":ge.value.kanteffekt,currentFramework:J.value,currentTime:Je.value,currentStartskog:me.value,layoutMode:fe.value,ref_key:"afterViewerRef",ref:St,comparisonMode:!0,frameworkLabel:J.value.label,timeLabel:Ze.value,dziUrl:Ia.value,overlayDziUrl:_.value,allowPan:!0,sliderPosition:"right","preload-dzi-urls":Yt.value,onOpened:n[47]||(n[47]=m=>qt("after")),onActivated:n[48]||(n[48]=m=>Dt.value.valueOf="after"),globalOpacity:b.value,"onUpdate:globalOpacity":n[49]||(n[49]=m=>b.value=m),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","preload-dzi-urls","globalOpacity"])):(h(),I(y(l),{key:0,"naturvardsarter-visible":P.value,"retention-visible":Ae.value,"kanteffekt-visible":ze.value,"old-kanteffekt-visible":Le.value,"rottacke-skarmtrad-visible":ie.value,"rottacke-bladning-visible":ee.value,"seedTree-visible":ne.value,"smaplantor-visible":he.value,"hogstubbar-visible":xe.value,"tradplantor-visible":Se.value,fullscreenLayout:!0,"show-overlay-labels":_e.value,"show-naturvard-counter":Ie.value,"retention-points":ge.value.retention,"seed-tree-points":ge.value.seedTree,"smaplantor-points":ge.value.smaplantor,"hogstubbar-points":ge.value.hogstubbar,"naturvardsarter-points":ge.value.naturvardsarter,"kanteffekt-features":ge.value.kanteffekt,currentFramework:J.value,currentTime:Je.value,currentStartskog:me.value,layoutMode:fe.value,ref_key:"afterViewerRef",ref:St,comparisonMode:!0,frameworkLabel:J.value.label,timeLabel:Ze.value,dziUrl:Ia.value,overlayDziUrl:_.value,allowPan:!0,sliderPosition:"right","preload-dzi-urls":Yt.value,onOpened:n[45]||(n[45]=m=>qt("after")),onActivated:n[46]||(n[46]=m=>Dt.value.valueOf="after"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","preload-dzi-urls"]))]),_:1},8,["frameworkLabel","frameworkLabel2","timeLabel2","layoutMode"])):ye.value?(h(),I(_l,{key:2,ref_key:"comparisonSliderRef",ref:be,frameworkLabel:J.value.label,timeLabel:Ze.value,frameworkLabel2:Ee.value.label,timeLabel2:Ze.value,layoutMode:fe.value,class:"w-full"},{first:U(()=>[d.value?(h(),I(y(l),{key:1,"naturvardsarter-visible":P.value,"retention-visible":Ae.value,"kanteffekt-visible":ze.value,"old-kanteffekt-visible":Le.value,"rottacke-skarmtrad-visible":ie.value,"rottacke-bladning-visible":ee.value,"seedTree-visible":ne.value,"smaplantor-visible":he.value,"hogstubbar-visible":xe.value,"tradplantor-visible":Se.value,fullscreenLayout:!0,"show-overlay-labels":_e.value,"show-naturvard-counter":Ie.value,"retention-points":ge.value.retention,"seed-tree-points":ge.value.seedTree,"smaplantor-points":ge.value.smaplantor,"hogstubbar-points":ge.value.hogstubbar,"naturvardsarter-points":ge.value.naturvardsarter,"kanteffekt-features":ge.value.kanteffekt,currentFramework:J.value,currentTime:Je.value,currentStartskog:me.value,layoutMode:fe.value,ref_key:"framework1ViewerRef",ref:Ct,comparisonMode:!0,frameworkLabel:J.value.label,timeLabel:Ze.value,dziUrl:Ia.value,overlayDziUrl:N.value,allowPan:!ke.value&&!ye.value,"preload-dzi-urls":Yt.value,globalOpacity:b.value,"onUpdate:globalOpacity":n[53]||(n[53]=m=>b.value=m),onViewportChanged:n[54]||(n[54]=m=>xr("framework1",m)),onOpened:n[55]||(n[55]=m=>qt("framework1")),onActivated:n[56]||(n[56]=m=>Dt.value.valueOf="framework1"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan","preload-dzi-urls","globalOpacity"])):(h(),I(y(l),{key:0,"naturvardsarter-visible":P.value,"retention-visible":Ae.value,"kanteffekt-visible":ze.value,"old-kanteffekt-visible":Le.value,"rottacke-skarmtrad-visible":ie.value,"rottacke-bladning-visible":ee.value,"seedTree-visible":ne.value,"smaplantor-visible":he.value,"hogstubbar-visible":xe.value,"tradplantor-visible":Se.value,fullscreenLayout:!0,"show-overlay-labels":_e.value,"show-naturvard-counter":Ie.value,"retention-points":ge.value.retention,"seed-tree-points":ge.value.seedTree,"smaplantor-points":ge.value.smaplantor,"hogstubbar-points":ge.value.hogstubbar,"naturvardsarter-points":ge.value.naturvardsarter,"kanteffekt-features":ge.value.kanteffekt,currentFramework:J.value,currentTime:Je.value,currentStartskog:me.value,layoutMode:fe.value,ref_key:"framework1ViewerRef",ref:Ct,comparisonMode:!0,frameworkLabel:J.value.label,timeLabel:Ze.value,dziUrl:Ia.value,overlayDziUrl:N.value,allowPan:!ke.value&&!ye.value,"preload-dzi-urls":Yt.value,onViewportChanged:n[50]||(n[50]=m=>xr("framework1",m)),onOpened:n[51]||(n[51]=m=>qt("framework1")),onActivated:n[52]||(n[52]=m=>Dt.value.valueOf="framework1"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan","preload-dzi-urls"]))]),second:U(()=>[d.value?(h(),I(y(l),{key:1,"naturvardsarter-visible":P.value,"retention-visible":Ae.value,"kanteffekt-visible":ze.value,"old-kanteffekt-visible":Le.value,"rottacke-skarmtrad-visible":ie.value,"rottacke-bladning-visible":ee.value,"seedTree-visible":ne.value,"smaplantor-visible":he.value,"hogstubbar-visible":xe.value,"tradplantor-visible":Se.value,fullscreenLayout:!0,"show-overlay-labels":_e.value,"show-naturvard-counter":Ie.value,"retention-points":it.value.retention,"seed-tree-points":it.value.seedTree,"smaplantor-points":it.value.smaplantor,"hogstubbar-points":it.value.hogstubbar,"naturvardsarter-points":it.value.naturvardsarter,"kanteffekt-features":it.value.kanteffekt,currentFramework:Ee.value,currentTime:Je.value,currentStartskog:me.value,layoutMode:fe.value,ref_key:"framework2ViewerRef",ref:At,comparisonMode:!0,frameworkLabel:Ee.value.label,timeLabel:Ze.value,dziUrl:fl.value,overlayDziUrl:Z.value,globalOpacity:b.value,"onUpdate:globalOpacity":n[60]||(n[60]=m=>b.value=m),"preload-dzi-urls":tl.value,allowPan:!ke.value&&!ye.value,sliderPosition:"right",onViewportChanged:n[61]||(n[61]=m=>xr("framework2",m)),onOpened:n[62]||(n[62]=m=>qt("framework2")),onActivated:n[63]||(n[63]=m=>Dt.value.valueOf="framework2"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","globalOpacity","preload-dzi-urls","allowPan"])):(h(),I(y(l),{key:0,"naturvardsarter-visible":P.value,"retention-visible":Ae.value,"kanteffekt-visible":ze.value,"old-kanteffekt-visible":Le.value,"rottacke-skarmtrad-visible":ie.value,"rottacke-bladning-visible":ee.value,"seedTree-visible":ne.value,"smaplantor-visible":he.value,"hogstubbar-visible":xe.value,"tradplantor-visible":Se.value,fullscreenLayout:!0,"show-overlay-labels":_e.value,"show-naturvard-counter":Ie.value,"retention-points":it.value.retention,"seed-tree-points":it.value.seedTree,"smaplantor-points":it.value.smaplantor,"hogstubbar-points":it.value.hogstubbar,"naturvardsarter-points":it.value.naturvardsarter,"kanteffekt-features":it.value.kanteffekt,currentFramework:Ee.value,currentTime:Je.value,currentStartskog:me.value,layoutMode:fe.value,ref_key:"framework2ViewerRef",ref:At,comparisonMode:!0,frameworkLabel:Ee.value.label,timeLabel:Ze.value,dziUrl:fl.value,overlayDziUrl:Z.value,"preload-dzi-urls":tl.value,allowPan:!ke.value&&!ye.value,sliderPosition:"right",onViewportChanged:n[57]||(n[57]=m=>xr("framework2",m)),onOpened:n[58]||(n[58]=m=>qt("framework2")),onActivated:n[59]||(n[59]=m=>Dt.value.valueOf="framework2"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","preload-dzi-urls","allowPan"]))]),_:1},8,["frameworkLabel","timeLabel","frameworkLabel2","timeLabel2","layoutMode"])):E("",!0)]),ir.value?E("",!0):(h(),D("div",xf,[p("div",wf,[!ke.value&&!ye.value?(h(),D("div",Sf,[p("div",{class:"p-3 group text-base/7",onClick:kt},[$(nt,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:U(()=>[p("div",Af,[(h(),D(we,null,Ue(Ut,(m,Pe)=>p("div",{key:m.id,onClick:wr=>He.value=Pe,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[p("div",null,[p("div",Vf,ae(m.label),1),p("div",Lf,ae(m.text),1)])],8,Tf)),64))])]),default:U(()=>[p("h2",Cf,ae(J.value.label),1)]),_:1}),p("div",Mf,[p("h3",zf,ae(Ze.value),1),$(k,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",color:"neutral",variant:"soft",size:"xs",label:Fe.value?"Dlj info":"Visa info",onClick:Oe},null,8,["label"])]),Fe.value&&ot.value?(h(),D("div",Of,[p("p",{class:"mb-4 text-neutral-50",innerHTML:Me(ot.value.skog)},null,8,Bf),p("div",null,[n[77]||(n[77]=p("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),p("span",{class:"text-neutral-50",innerHTML:Me(ot.value.svamp)},null,8,Ff)])])):Fe.value?(h(),D("div",Df," Ingen tidslinjeinformation hittades fr den hr kombinationen. ")):E("",!0)])])):ke.value?(h(),D("div",$f,[kr.value?(h(),D("div",{key:0,class:"p-3 group text-base/7",onClick:kt},[$(nt,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:U(()=>[p("div",Rf,[(h(),D(we,null,Ue(Ut,(m,Pe)=>p("div",{key:m.id,onClick:wr=>He.value=Pe,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[p("div",null,[p("div",If,ae(m.label),1),p("div",Nf,ae(m.text),1)])],8,jf)),64))])]),default:U(()=>[p("h2",Ef,ae(J.value.label),1)]),_:1}),p("div",Pf,[n[78]||(n[78]=p("h3",{class:"text-md text-neutral-200"}," Fre avverkning ",-1)),$(k,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:Fe.value?"Dlj info":"Visa info",onClick:Oe},null,8,["label"])]),Fe.value?(h(),D("div",Uf,[p("p",{class:"mb-2 text-neutral-50",innerHTML:Me(kr.value.skog)},null,8,qf),p("div",null,[n[79]||(n[79]=p("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),p("span",{class:"text-neutral-50",innerHTML:Me(kr.value.svamp)},null,8,Hf)])])):E("",!0)])):E("",!0),ot.value?(h(),D("div",{key:1,class:"p-4 group border border-neutral-200/10 rounded-sm shadow bg-neutral-950/20",onClick:kt},[p("div",Kf,[p("h3",Wf,ae(Ze.value),1),$(k,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:Te.value?"Dlj info":"Visa info",onClick:nr},null,8,["label"])]),Te.value?(h(),D("div",Yf,[p("p",{class:"mb-2 text-neutral-50",innerHTML:Me(ot.value.skog)},null,8,Gf),p("div",null,[n[80]||(n[80]=p("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),p("span",{class:"text-neutral-50",innerHTML:Me(ot.value.svamp)},null,8,Xf)])])):E("",!0)])):E("",!0)])):ye.value?(h(),D("div",Zf,[ot.value?(h(),D("div",{key:0,class:"p-3 group text-base/7",onClick:kt},[$(nt,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:U(()=>[p("div",Qf,[(h(),D(we,null,Ue(Ut,(m,Pe)=>p("div",{key:m.id,onClick:wr=>He.value=Pe,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[p("div",null,[p("div",tm,ae(m.label),1),p("div",am,ae(m.text),1)])],8,em)),64))])]),default:U(()=>[p("h2",Jf,ae(J.value.label),1)]),_:1}),p("div",rm,[p("h3",nm,ae(Ze.value),1),$(k,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:Fe.value?"Dlj info":"Visa info",onClick:Oe},null,8,["label"])]),Fe.value?(h(),D("div",lm,[p("p",{class:"mb-2 text-neutral-50",innerHTML:Me(ot.value.skog)},null,8,sm),p("div",null,[n[81]||(n[81]=p("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),p("span",{class:"text-neutral-50",innerHTML:Me(ot.value.svamp)},null,8,im)])])):E("",!0)])):E("",!0),yr.value?(h(),D("div",{key:1,class:"p-4 group border border-neutral-200/10 rounded-sm shadow bg-neutral-950/20",onClick:kt},[$(nt,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:U(()=>[p("div",um,[(h(),D(we,null,Ue(Ut,(m,Pe)=>p("div",{key:"framework2-"+m.id,onClick:wr=>da.value=Pe,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[p("div",null,[p("div",dm,ae(m.label),1),p("div",vm,ae(m.text),1)])],8,cm)),64))])]),default:U(()=>[p("h2",om,ae(Ee.value.label),1)]),_:1}),p("div",fm,[p("h3",mm,ae(Ze.value),1),$(k,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:Te.value?"Dlj info":"Visa info",onClick:nr},null,8,["label"])]),Te.value?(h(),D("div",pm,[p("p",{class:"mb-2 text-neutral-50",innerHTML:Me(yr.value.skog)},null,8,hm),p("div",null,[n[82]||(n[82]=p("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),p("span",{class:"text-neutral-50",innerHTML:Me(yr.value.svamp)},null,8,gm)])])):E("",!0)])):E("",!0)])):E("",!0),p("div",bm,[p("div",ym,[za.value?(h(),I(k,{key:0,size:"xl",onClick:Yr,variant:"ghost",class:"text-white hover:bg-neutral-500/20 w-full",label:Oa.value,icon:"i-heroicons-arrow-left-circle"},null,8,["label"])):E("",!0)]),p("div",km,[Lt.value?(h(),I(k,{key:0,size:"xl",onClick:Gr,variant:"ghost",class:"w-full text-white hover:bg-neutral-500/20 flex justify-end",trailing:"",label:Ba.value,icon:"i-heroicons-arrow-right-circle"},null,8,["label"])):E("",!0)])])])]))])])])}}}),Hm=Object.assign(qn(xm,[["__scopeId","data-v-e0956831"]]),{__name:"Model"}),wm={key:0,class:"py-16 sm:py-20"},Sm={class:"px-0 mx-auto overflow-hidden"},Cm={key:0,class:"text-3xl font-semibold sm:text-4xl text-neutral-900"},Am={key:1,class:"mt-2 text-neutral-600 max-w-2xl"},Tm=["aria-expanded","onClick","onKeyup"],Vm={key:1,class:""},Lm={key:0,class:"relative overflow-hidden"},Mm={class:"p-4 space-y-2"},zm={key:0,class:"text-xl font-semibold text-neutral-900 text-start"},Om={key:0,class:"fixed inset-0 z-20 flex items-center justify-center"},Bm={class:"h-full w-full bg-white absolute"},Fm={class:"flex flex-col sm:flex-row sm:items-end sm:justify-between"},Dm={class:"transition-all"},$m=Re({__name:"SCarousel",props:{section:{},items:{},title:{},description:{}},setup(e){const t=e,a=v(()=>t.items??t.section?.items??[]),r=Pl(),l=v(()=>!!r.card),o=v(()=>!!r.details),u=v(()=>!!r.header),i=v(()=>t.section?.title??t.title??null),c=v(()=>t.section?.description??t.description??null),C=v(()=>!!(i.value||c.value||u.value)),f=B(null),g=B(!1),A={duration:.25,easing:"easeInOut"},L=Fi(document.body),w=la({initial:null,frame:null,source:null,showBackdrop:!1,showDetails:!1,closing:!1}),j=B([]),R=B(null);le(a,()=>{j.value=[]});const T=v(()=>w.initial),z=v(()=>w.frame),x=v(()=>w.showBackdrop),F=v(()=>w.showDetails),W=v(()=>w.closing),Y=v(()=>f.value===null?null:a.value[f.value]??null);function se(P){return P?P.image??P.img??"":""}function ue(P){return P?P.description??"":""}function H(P){const ie=["w-full object-cover transition-transform duration-500 group-hover:scale-[1.02]"];return(typeof P?.noBorder=="boolean"?P?.noBorder:!1)||ie.push("ring ring-neutral-200 shadow"),ie}function K(P){const ie=window.innerWidth,ee=window.innerHeight,ne=Math.min(0,Math.max(32,ie*.05));P.height/P.width;let he=Math.min(ie-ne*2,800),xe=ee;return{top:42,left:(ie-he)/2,width:he,height:xe}}async function X(P,ie){if(g.value||!a.value[P])return;const ee=ie.currentTarget;if(!ee)return;const ne=ee.getBoundingClientRect();w.source=ee,w.initial={top:ne.top,left:ne.left,width:ne.width,height:ne.height},w.frame={...w.initial},w.showBackdrop=!1,w.showDetails=!1,w.closing=!1,f.value=P,g.value=!0,await ht(),R.value?.emblaApi?.scrollTo(P),requestAnimationFrame(()=>{w.showBackdrop=!0,w.frame=K(ne),window.setTimeout(()=>{g.value&&f.value===P&&(w.showDetails=!0)},A.duration*1e3*.6)})}function re(){if(!g.value)return;w.showDetails=!1,w.closing=!0,w.showBackdrop=!1;const P=w.source?.getBoundingClientRect();w.frame=P?{top:P.top,left:P.left,width:P.width,height:P.height}:w.initial,window.setTimeout(()=>{g.value=!1,f.value=null,w.initial=null,w.frame=null,w.source=null,w.showDetails=!1,w.showBackdrop=!1,w.closing=!1},A.duration*1e3)}le(g,P=>{L.value=P,P||(w.showBackdrop=!1,w.showDetails=!1,w.closing=!1)}),Di(window,"keydown",P=>{P.key==="Escape"&&re()}),Pn(()=>{L.value=!1});function te(P,ie){P&&(j.value[ie]=P)}function fe(P,ie=!1){const ee=j.value[P];if(!ee)return;const ne=ee.getBoundingClientRect();w.source=ee,w.initial={top:ne.top,left:ne.left,width:ne.width,height:ne.height},ie&&(w.frame=K(ne))}const tt=v(()=>a.value.length>1);function ce(P,ie){if(!tt.value||f.value===null)return null;const ee=a.value;if(!ee.length)return null;const ne=(f.value+ie+ee.length)%ee.length,he=ee[ne]?.title;return he?`${P}: ${he}`:P}const _e=v(()=>ce("Fregende",-1)),Ie=v(()=>ce("Nsta",1));function Ae(P){const ie=a.value;if(!ie.length)return;const ee=(P+ie.length)%ie.length;f.value!==ee&&(w.showDetails=!1,f.value=ee,ht(()=>{R.value?.emblaApi?.scrollTo(ee),requestAnimationFrame(()=>{fe(ee,!0),w.showDetails=!0})}))}function ze(){f.value!==null&&Ae(f.value+1)}function Le(){f.value!==null&&Ae(f.value-1)}return(P,ie)=>{const ee=Ei,ne=Ri,he=Xl,xe=io,Se=ji,Ye=jr;return a.value.length?(h(),D("section",wm,[p("div",Sm,[C.value?(h(),I(ee,{key:0,class:"mb-8 sm:mb-10 px-6"},{default:U(()=>[u.value?je(P.$slots,"header",{key:0,title:i.value,description:c.value},void 0,!0):(h(),D(we,{key:1},[i.value?(h(),D("h2",Cm,ae(i.value),1)):E("",!0),c.value?(h(),D("p",Am,ae(c.value),1)):E("",!0)],64))]),_:3})):E("",!0),$(ee,{class:"overflow-visible"},{default:U(()=>[a.value.length?(h(),I(he,{key:0,ref_key:"carouselRef",ref:R,items:a.value,arrows:"",class:"pb-6 mb-12",ui:{viewport:"overflow-visible",container:"",item:"basis-8/9 sm:basis-[350px]",controls:"mt-12 flex justify-center",arrows:"flex gap-4",prev:"!static !transform-none ring-0",next:"!static !transform-none ring-0"}},{default:U(({item:Fe,index:Te})=>[p("button",{class:"group relative w-full focus-visible:outline focus-visible:outline-offset-4 focus-visible:outline-primary transition-opacity","aria-expanded":f.value===Te,onClick:Oe=>X(Te,Oe),onKeyup:[yn(Ka(Oe=>X(Te,Oe),["prevent"]),["enter"]),yn(Ka(Oe=>X(Te,Oe),["prevent"]),["space"])],ref:Oe=>te(Oe,Te)},[p("div",{class:ve(["relative overflow-hidden rounded border border-muted/50 bg-white group-hover:bg-neutral-50 cursor-pointer h-full",f.value===Te&&(x.value||W.value)?"opacity-0 pointer-events-none delay-25":"opacity-100"])},[l.value?je(P.$slots,"card",{key:0,item:Fe,index:Te,active:f.value===Te},void 0,!0):(h(),D("div",Vm,[se(Fe)?(h(),D("div",Lm,[$(ne,{src:se(Fe),alt:Fe.title||"",fit:"cover",width:"500",height:"300",class:ve(H(Fe)),loading:"lazy",decoding:"async"},null,8,["src","alt","class"])])):E("",!0),p("div",Mm,[Fe.title?(h(),D("h3",zm,ae(Fe.title),1)):E("",!0)])]))],2)],40,Tm)]),_:3},8,["items"])):E("",!0)]),_:3})]),(h(),I($i,{to:"body"},[g.value&&T.value&&z.value?(h(),D("div",Om,[$(y(wl),{class:"absolute inset-0 bg-white",initial:{opacity:0},animate:{opacity:x.value?1:0},transition:{duration:.2,ease:"easeInOut"},onClick:re},null,8,["animate"]),$(y(wl),{class:"bg-white overflow-y-auto rounded-xl border border-muted/50 fixed will-change-transform shadow-xl overlay-scrollbar",initial:T.value,animate:z.value,transition:A,onClick:ie[0]||(ie[0]=Ka(()=>{},["stop"]))},{default:U(()=>[p("div",Bm,[p("div",{class:ve([(F.value,"p-0"),"transition-all"])},[Y.value&&se(Y.value)?(h(),I(ne,{key:0,fit:"cover",width:"1000",height:"600",src:se(Y.value),alt:Y.value?.title??"",class:"w-full",loading:"eager",decoding:"async"},null,8,["src","alt"])):E("",!0),Y.value?(h(),D("div",{key:1,class:ve(["pointer-events-none pb-18",x.value?"p-4 py-8 sm:p-10 sm:mx-auto sm:max-w-2xl":"mx-0 p-4 w-full"])},[o.value?je(P.$slots,"details",{key:0,item:Y.value,index:f.value},void 0,!0):(h(),D(we,{key:1},[p("div",Fm,[p("div",Dm,[Y.value?.title?(h(),D("h3",{key:0,class:ve(["font-semibold text-neutral-900 transition-opacity",x.value?"text-4xl mb-4 sm:text-5xl sm:mb-8 opacity-100 delay-75":"opacity-0 text-lg mb-0"])},ae(Y.value.title),3)):E("",!0),ue(Y.value)?(h(),I(xe,{key:1,value:ue(Y.value),class:ve(["mt-2 max-w-2xl sm:text-lg text-neutral-500 transition-opacity duration-100",x.value?"opacity-100 delay-100":"opacity-0"])},null,8,["value","class"])):E("",!0),Y.value.img2?(h(),D("div",{key:2,class:ve(["flex justify-center my-18",x.value?"opacity-100 delay-100":"opacity-0"])},[$(ne,{src:Y.value.img2,class:"rounded ring ring-muted/50"},null,8,["src"])],2)):E("",!0)])]),$(Se,{class:"my-8"})],64)),tt.value?(h(),D("div",{key:2,class:ve(["pointer-events-auto flex flex-row sm:items-center justify-center gap-3 sm:gap-2 pb-6 my-12",x.value?"opacity-100 transition-opacity duration-300":"opacity-0"])},[_e.value?(h(),I(Ye,{key:0,icon:"i-heroicons-chevron-left",variant:"soft",color:"neutral",class:"justify-start whitespace-normal rounded-full",onClick:Le,"aria-label":"Fregende",size:"xl"})):E("",!0),Ie.value?(h(),I(Ye,{key:1,icon:"i-heroicons-chevron-right",variant:"soft",color:"neutral",class:"justify-end text-left whitespace-normal rounded-full",trailing:"",onClick:ze,"aria-label":"Nsta",size:"xl"})):E("",!0)],2)):E("",!0)],2)):E("",!0)],2)]),$(Ye,{class:ve([x.value?"opacity-100":"opacity-0","fixed right-4 top-4 shadow hover:bg-white rounded-full md:m-0 transition-all"]),"aria-label":"Stng kort",color:"neutral",variant:"soft",icon:"heroicons:x-mark",size:"xl",onClick:re},null,8,["class"])]),_:3},8,["initial","animate"])])):E("",!0)]))])):E("",!0)}}}),Km=Object.assign(qn($m,[["__scopeId","data-v-be5735b9"]]),{__name:"SCarousel"});export{$d as D,kd as _,Hm as a,Km as b,Bd as c,Fd as d,Md as u};
