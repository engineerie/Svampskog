const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Cmo8c5gD.js","./DbLjEMIa.js","./entry.DJO4yVt-.css","./Cpj98o6Y.js","./CcrBh-zU.js","./B7LwE6fO.js","./DtaPNFOl.js","./B1-lneLQ.js","./DY-6pm3l.js","./cp034Dgk.js","./BNHWhrW5.js","./OpenSeadragonViewer.BFv8xAvz.css"])))=>i.map(i=>d[i]);
import{B as Pn,A as ze,C as er,Z as Rt,r as B,V as f,M as P,e as g,w as N,N as Ke,O as k,a$ as ca,H as ui,D as Un,I as jl,ay as ci,Y as Gt,f as j,aR as di,P as da,bb as vi,bc as fi,o as ht,c as Et,g as z,S as mi,U as ya,aI as tr,d as $,K as $t,J as re,aC as Ka,aD as _a,aE as Wa,b1 as wa,aY as Il,bd as pi,F as _e,af as qe,ae as qn,h,t as ee,aM as Hn,am as Ga,au as hi,_ as Nl,a3 as Tr,a4 as gi,a5 as Pl,y as Ul,a9 as bi,a8 as ql,be as Hl,bf as ki,aa as Vr,n as me,ah as ua,a7 as yi,bg as xi,aB as Kl,bh as Kn,aW as _i,p as wi,aL as Si,bi as Ci,bj as Ai,aV as Ti,T as Vi,b as Li}from"#entry";import{_ as Mi}from"./CcrBh-zU.js";import{c as Wl,b as Yl,L as Oi,a as zi,_ as Bi}from"./B1-lneLQ.js";import{X as ar,c as ge,i as Va,a as rr,D as oa,b as Sa,d as Lr,g as Ft,e as Yt,f as Ja,s as Aa,h as Di,j as He,O as Gl,m as pn,k as Fi,l as Ei,r as $i,n as Ri,o as ji,p as Ii,q as Ni,t as Pi,u as Ui,v as qi,w as _n,P as Hi,x as Ki,y as Wi,z as Yi,A as Gi,B as Qa,C as nr,E as La,F as Ma,S as Xi,G as xl}from"./cp034Dgk.js";import{u as Xl,V as Zl}from"./DY-6pm3l.js";import{d as Zi}from"./BNHWhrW5.js";function Ji(e=[],t,a){const r=[...e];return r[a]=t,r.sort((l,o)=>l-o)}function Jl(e,t,a){const o=100/(a-t)*(e-t);return Wl(o,0,100)}function Qi(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function eo(e,t){if(e.length===1)return 0;const a=e.map(l=>Math.abs(l-t)),r=Math.min(...a);return a.indexOf(r)}function to(e,t,a){const r=e/2,o=Wn([0,50],[0,r]);return(r-o(t)*a)*a}function ao(e){return e.slice(0,-1).map((t,a)=>e[a+1]-t)}function ro(e,t){if(t>0){const a=ao(e);return Math.min(...a)>=t}return!0}function Wn(e,t){return a=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(a-e[0])}}function no(e){return(String(e).split(".")[1]||"").length}function lo(e,t){const a=10**t;return Math.round(e*a)/a}const Ql=["PageUp","PageDown"],es=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ts={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageUp","ArrowUp","ArrowLeft"]},[as,rs]=Pn(["SliderVertical","SliderHorizontal"]);var so=ze({__name:"SliderHorizontal",props:{dir:{type:String,required:!1},min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(e,{emit:t}){const a=e,r=t,{max:l,min:o,dir:u,inverted:i}=er(a),{forwardRef:c,currentElement:x}=Rt(),m=Oa(),p=B(),C=B(),L=f(()=>u?.value!=="rtl"&&!i.value||u?.value!=="ltr"&&i.value);function F(O,w){const D=C.value||x.value.getBoundingClientRect(),H=[...m.thumbElements.value][m.valueIndexToChangeRef.value],X=m.thumbAlignment.value==="contain"?H.clientWidth:0;!p.value&&!w&&m.thumbAlignment.value==="contain"&&(p.value=O.clientX-H.getBoundingClientRect().left);const ce=[0,D.width-X],W=L.value?[o.value,l.value]:[l.value,o.value],q=Wn(ce,W);C.value=D;const Q=w?O.clientX-D.left-X/2:O.clientX-D.left-(p.value??0);return q(Q)}const I=f(()=>L.value?"left":"right"),E=f(()=>L.value?"right":"left"),T=f(()=>L.value?1:-1);return rs({startEdge:I,endEdge:E,direction:T,size:"width"}),(O,w)=>(g(),P(ns,{ref:k(c),dir:k(u),"data-orientation":"horizontal",style:ca({"--reka-slider-thumb-transform":!L.value&&k(m).thumbAlignment.value==="overflow"?"translateX(50%)":"translateX(-50%)"}),onSlideStart:w[0]||(w[0]=D=>{const H=F(D,!0);r("slideStart",H)}),onSlideMove:w[1]||(w[1]=D=>{const H=F(D);r("slideMove",H)}),onSlideEnd:w[2]||(w[2]=()=>{C.value=void 0,p.value=void 0,r("slideEnd")}),onStepKeyDown:w[3]||(w[3]=D=>{const H=L.value?"from-left":"from-right",X=k(ts)[H].includes(D.key);r("stepKeyDown",D,X?-1:1)}),onEndKeyDown:w[4]||(w[4]=D=>r("endKeyDown",D)),onHomeKeyDown:w[5]||(w[5]=D=>r("homeKeyDown",D))},{default:N(()=>[Ke(O.$slots,"default")]),_:3},8,["dir","style"]))}}),io=so,oo=ze({__name:"SliderVertical",props:{min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(e,{emit:t}){const a=e,r=t,{max:l,min:o,inverted:u}=er(a),i=Oa(),{forwardRef:c,currentElement:x}=Rt(),m=B(),p=B(),C=f(()=>!u.value);function L(T,O){const w=p.value||x.value.getBoundingClientRect(),D=[...i.thumbElements.value][i.valueIndexToChangeRef.value],H=i.thumbAlignment.value==="contain"?D.clientHeight:0;!m.value&&!O&&i.thumbAlignment.value==="contain"&&(m.value=T.clientY-D.getBoundingClientRect().top);const X=[0,w.height-H],ce=C.value?[l.value,o.value]:[o.value,l.value],W=Wn(X,ce),q=O?T.clientY-w.top-H/2:T.clientY-w.top-(m.value??0);return p.value=w,W(q)}const F=f(()=>C.value?"bottom":"top"),I=f(()=>C.value?"top":"bottom"),E=f(()=>C.value?1:-1);return rs({startEdge:F,endEdge:I,direction:E,size:"height"}),(T,O)=>(g(),P(ns,{ref:k(c),"data-orientation":"vertical",style:ca({"--reka-slider-thumb-transform":!C.value&&k(i).thumbAlignment.value==="overflow"?"translateY(-50%)":"translateY(50%)"}),onSlideStart:O[0]||(O[0]=w=>{const D=L(w,!0);r("slideStart",D)}),onSlideMove:O[1]||(O[1]=w=>{const D=L(w);r("slideMove",D)}),onSlideEnd:O[2]||(O[2]=()=>{p.value=void 0,m.value=void 0,r("slideEnd")}),onStepKeyDown:O[3]||(O[3]=w=>{const D=C.value?"from-bottom":"from-top",H=k(ts)[D].includes(w.key);r("stepKeyDown",w,H?-1:1)}),onEndKeyDown:O[4]||(O[4]=w=>r("endKeyDown",w)),onHomeKeyDown:O[5]||(O[5]=w=>r("homeKeyDown",w))},{default:N(()=>[Ke(T.$slots,"default")]),_:3},8,["style"]))}}),uo=oo;const[Oa,co]=Pn("SliderRoot");var vo=ze({inheritAttrs:!1,__name:"SliderRoot",props:{defaultValue:{type:Array,required:!1,default:()=>[0]},modelValue:{type:[Array,null],required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},inverted:{type:Boolean,required:!1,default:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},minStepsBetweenThumbs:{type:Number,required:!1,default:0},thumbAlignment:{type:String,required:!1,default:"contain"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","valueCommit"],setup(e,{emit:t}){const a=e,r=t,{min:l,max:o,step:u,minStepsBetweenThumbs:i,orientation:c,disabled:x,thumbAlignment:m,dir:p}=er(a),C=ui(p),{forwardRef:L,currentElement:F}=Rt(),I=Xl(F),{CollectionSlot:E}=Un({isProvider:!0}),T=jl(a,"modelValue",r,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),O=f(()=>Array.isArray(T.value)?[...T.value]:[]),w=B(0),D=B(O.value);function H(Q){const Y=eo(O.value,Q);W(Q,Y)}function X(Q){W(Q,w.value)}function ce(){const Q=D.value[w.value];O.value[w.value]!==Q&&r("valueCommit",di(O.value))}function W(Q,Y,{commit:te}={commit:!1}){const ne=no(u.value),de=lo(Math.round((Q-l.value)/u.value)*u.value+l.value,ne),ve=Wl(de,l.value,o.value),$e=Ji(O.value,ve,Y);if(ro($e,i.value*u.value)){w.value=$e.indexOf(ve);const Le=String($e)!==String(T.value);Le&&te&&r("valueCommit",$e),Le&&(q.value[w.value]?.focus(),T.value=$e)}}const q=B([]);return co({modelValue:T,currentModelValue:O,valueIndexToChangeRef:w,thumbElements:q,orientation:c,min:l,max:o,disabled:x,thumbAlignment:m}),(Q,Y)=>(g(),P(k(E),null,{default:N(()=>[(g(),P(ci(k(c)==="horizontal"?io:uo),Gt(Q.$attrs,{ref:k(L),"as-child":Q.asChild,as:Q.as,min:k(l),max:k(o),dir:k(C),inverted:Q.inverted,"aria-disabled":k(x),"data-disabled":k(x)?"":void 0,onPointerdown:Y[0]||(Y[0]=()=>{k(x)||(D.value=O.value)}),onSlideStart:Y[1]||(Y[1]=te=>!k(x)&&H(te)),onSlideMove:Y[2]||(Y[2]=te=>!k(x)&&X(te)),onSlideEnd:Y[3]||(Y[3]=te=>!k(x)&&ce()),onHomeKeyDown:Y[4]||(Y[4]=te=>!k(x)&&W(k(l),0,{commit:!0})),onEndKeyDown:Y[5]||(Y[5]=te=>!k(x)&&W(k(o),O.value.length-1,{commit:!0})),onStepKeyDown:Y[6]||(Y[6]=(te,ne)=>{if(!k(x)){const $e=k(Ql).includes(te.key)||te.shiftKey&&k(es).includes(te.key)?10:1,Le=w.value,We=O.value[Le],be=k(u)*$e*ne;W(We+be,Le,{commit:!0})}})}),{default:N(()=>[Ke(Q.$slots,"default",{modelValue:k(T)}),k(I)&&Q.name?(g(),P(k(Zl),{key:0,type:"number",value:k(T),name:Q.name,required:Q.required,disabled:k(x),step:k(u)},null,8,["value","name","required","disabled","step"])):j("v-if",!0)]),_:3},16,["as-child","as","min","max","dir","inverted","aria-disabled","data-disabled"]))]),_:3}))}}),fo=vo,mo=ze({__name:"SliderImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},emits:["slideStart","slideMove","slideEnd","homeKeyDown","endKeyDown","stepKeyDown"],setup(e,{emit:t}){const a=e,r=t,l=Oa();return(o,u)=>(g(),P(k(da),Gt({"data-slider-impl":""},a,{onKeydown:u[0]||(u[0]=i=>{i.key==="Home"?(r("homeKeyDown",i),i.preventDefault()):i.key==="End"?(r("endKeyDown",i),i.preventDefault()):k(Ql).concat(k(es)).includes(i.key)&&(r("stepKeyDown",i),i.preventDefault())}),onPointerdown:u[1]||(u[1]=i=>{const c=i.target;c.setPointerCapture(i.pointerId),i.preventDefault(),k(l).thumbElements.value.includes(c)?c.focus():r("slideStart",i)}),onPointermove:u[2]||(u[2]=i=>{i.target.hasPointerCapture(i.pointerId)&&r("slideMove",i)}),onPointerup:u[3]||(u[3]=i=>{const c=i.target;c.hasPointerCapture(i.pointerId)&&(c.releasePointerCapture(i.pointerId),r("slideEnd",i))})}),{default:N(()=>[Ke(o.$slots,"default")]),_:3},16))}}),ns=mo,po=ze({__name:"SliderRange",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=Oa(),a=as();Rt();const r=f(()=>t.currentModelValue.value.map(u=>Jl(u,t.min.value,t.max.value))),l=f(()=>t.currentModelValue.value.length>1?Math.min(...r.value):0),o=f(()=>100-Math.max(...r.value,0));return(u,i)=>(g(),P(k(da),{"data-disabled":k(t).disabled.value?"":void 0,"data-orientation":k(t).orientation.value,"as-child":u.asChild,as:u.as,style:ca({[k(a).startEdge.value]:`${l.value}%`,[k(a).endEdge.value]:`${o.value}%`})},{default:N(()=>[Ke(u.$slots,"default")]),_:3},8,["data-disabled","data-orientation","as-child","as","style"]))}}),ho=po,go=ze({inheritAttrs:!1,__name:"SliderThumbImpl",props:{index:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,a=Oa(),r=as(),{forwardRef:l,currentElement:o}=Rt(),{CollectionItem:u}=Un(),i=f(()=>a.modelValue?.value?.[t.index]),c=f(()=>i.value===void 0?0:Jl(i.value,a.min.value??0,a.max.value??100)),x=f(()=>Qi(t.index,a.modelValue?.value?.length??0)),m=vi(o),p=f(()=>m[r.size].value),C=f(()=>a.thumbAlignment.value==="overflow"||!p.value?0:to(p.value,c.value,r.direction.value)),L=fi();return ht(()=>{a.thumbElements.value.push(o.value)}),Et(()=>{const F=a.thumbElements.value.findIndex(I=>I===o.value)??-1;a.thumbElements.value.splice(F,1)}),(F,I)=>(g(),P(k(u),null,{default:N(()=>[z(k(da),Gt(F.$attrs,{ref:k(l),role:"slider",tabindex:k(a).disabled.value?void 0:0,"aria-label":F.$attrs["aria-label"]||x.value,"data-disabled":k(a).disabled.value?"":void 0,"data-orientation":k(a).orientation.value,"aria-valuenow":i.value,"aria-valuemin":k(a).min.value,"aria-valuemax":k(a).max.value,"aria-orientation":k(a).orientation.value,"as-child":F.asChild,as:F.as,style:{transform:"var(--reka-slider-thumb-transform)",position:"absolute",[k(r).startEdge.value]:`calc(${c.value}% + ${C.value}px)`,display:!k(L)&&i.value===void 0?"none":void 0},onFocus:I[0]||(I[0]=()=>{k(a).valueIndexToChangeRef.value=F.index})}),{default:N(()=>[Ke(F.$slots,"default")]),_:3},16,["tabindex","aria-label","data-disabled","data-orientation","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","as-child","as","style"])]),_:3}))}}),bo=go,ko=ze({__name:"SliderThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=e,{getItems:a}=Un(),{forwardRef:r,currentElement:l}=Rt(),o=f(()=>l.value?a(!0).findIndex(u=>u.ref===l.value):-1);return(u,i)=>(g(),P(bo,Gt({ref:k(r)},t,{index:o.value}),{default:N(()=>[Ke(u.$slots,"default")]),_:3},16,["index"]))}}),_l=ko,yo=ze({__name:"SliderTrack",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=Oa();return Rt(),(a,r)=>(g(),P(k(da),{"as-child":a.asChild,as:a.as,"data-disabled":k(t).disabled.value?"":void 0,"data-orientation":k(t).orientation.value},{default:N(()=>[Ke(a.$slots,"default")]),_:3},8,["as-child","as","data-disabled","data-orientation"]))}}),xo=yo;const[_o,wo]=Pn("SwitchRoot");var So=ze({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,r=t,{disabled:l}=er(a),o=jl(a,"modelValue",r,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function u(){l.value||(o.value=!o.value)}const{forwardRef:i,currentElement:c}=Rt(),x=Xl(c),m=f(()=>a.id&&c.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return wo({modelValue:o,toggleCheck:u,disabled:l}),(p,C)=>(g(),P(k(da),Gt(p.$attrs,{id:p.id,ref:k(i),role:"switch",type:p.as==="button"?"button":void 0,value:p.value,"aria-label":p.$attrs["aria-label"]||m.value,"aria-checked":k(o),"aria-required":p.required,"data-state":k(o)?"checked":"unchecked","data-disabled":k(l)?"":void 0,"as-child":p.asChild,as:p.as,disabled:k(l),onClick:u,onKeydown:mi(ya(u,["prevent"]),["enter"])}),{default:N(()=>[Ke(p.$slots,"default",{modelValue:k(o)}),k(x)&&p.name?(g(),P(k(Zl),{key:0,type:"checkbox",name:p.name,disabled:k(l),required:p.required,value:p.value,checked:!!k(o)},null,8,["name","disabled","required","value","checked"])):j("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),Co=So,Ao=ze({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=_o();return Rt(),(a,r)=>(g(),P(k(da),{"data-state":k(t).modelValue?.value?"checked":"unchecked","data-disabled":k(t).disabled.value?"":void 0,"as-child":a.asChild,as:a.as},{default:N(()=>[Ke(a.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"]))}}),To=Ao,wn=Math.PI,Sn=2*wn,ia=1e-6,Vo=Sn-ia;function Cn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function $r(){return new Cn}Cn.prototype=$r.prototype={constructor:Cn,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,a,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+a)+","+(this._y1=+r)},bezierCurveTo:function(e,t,a,r,l,o){this._+="C"+ +e+","+ +t+","+ +a+","+ +r+","+(this._x1=+l)+","+(this._y1=+o)},arcTo:function(e,t,a,r,l){e=+e,t=+t,a=+a,r=+r,l=+l;var o=this._x1,u=this._y1,i=a-e,c=r-t,x=o-e,m=u-t,p=x*x+m*m;if(l<0)throw new Error("negative radius: "+l);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>ia)if(!(Math.abs(m*i-c*x)>ia)||!l)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var C=a-o,L=r-u,F=i*i+c*c,I=C*C+L*L,E=Math.sqrt(F),T=Math.sqrt(p),O=l*Math.tan((wn-Math.acos((F+p-I)/(2*E*T)))/2),w=O/T,D=O/E;Math.abs(w-1)>ia&&(this._+="L"+(e+w*x)+","+(t+w*m)),this._+="A"+l+","+l+",0,0,"+ +(m*C>x*L)+","+(this._x1=e+D*i)+","+(this._y1=t+D*c)}},arc:function(e,t,a,r,l,o){e=+e,t=+t,a=+a,o=!!o;var u=a*Math.cos(r),i=a*Math.sin(r),c=e+u,x=t+i,m=1^o,p=o?r-l:l-r;if(a<0)throw new Error("negative radius: "+a);this._x1===null?this._+="M"+c+","+x:(Math.abs(this._x1-c)>ia||Math.abs(this._y1-x)>ia)&&(this._+="L"+c+","+x),a&&(p<0&&(p=p%Sn+Sn),p>Vo?this._+="A"+a+","+a+",0,1,"+m+","+(e-u)+","+(t-i)+"A"+a+","+a+",0,1,"+m+","+(this._x1=c)+","+(this._y1=x):p>ia&&(this._+="A"+a+","+a+",0,"+ +(p>=wn)+","+m+","+(this._x1=e+a*Math.cos(l))+","+(this._y1=t+a*Math.sin(l))))},rect:function(e,t,a,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +a+"v"+ +r+"h"+-a+"Z"},toString:function(){return this._}};function Re(e){return function(){return e}}var wl=1e-12,Mr=Math.PI,Rr=2*Mr;function ls(e){this._context=e}ls.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Yn(e){return new ls(e)}function ss(e){return e[0]}function is(e){return e[1]}function os(){var e=ss,t=is,a=Re(!0),r=null,l=Yn,o=null;function u(i){var c,x=i.length,m,p=!1,C;for(r==null&&(o=l(C=$r())),c=0;c<=x;++c)!(c<x&&a(m=i[c],c,i))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+e(m,c,i),+t(m,c,i));if(C)return o=null,C+""||null}return u.x=function(i){return arguments.length?(e=typeof i=="function"?i:Re(+i),u):e},u.y=function(i){return arguments.length?(t=typeof i=="function"?i:Re(+i),u):t},u.defined=function(i){return arguments.length?(a=typeof i=="function"?i:Re(!!i),u):a},u.curve=function(i){return arguments.length?(l=i,r!=null&&(o=l(r)),u):l},u.context=function(i){return arguments.length?(i==null?r=o=null:o=l(r=i),u):r},u}function Lo(){var e=ss,t=null,a=Re(0),r=is,l=Re(!0),o=null,u=Yn,i=null;function c(m){var p,C,L,F=m.length,I,E=!1,T,O=new Array(F),w=new Array(F);for(o==null&&(i=u(T=$r())),p=0;p<=F;++p){if(!(p<F&&l(I=m[p],p,m))===E)if(E=!E)C=p,i.areaStart(),i.lineStart();else{for(i.lineEnd(),i.lineStart(),L=p-1;L>=C;--L)i.point(O[L],w[L]);i.lineEnd(),i.areaEnd()}E&&(O[p]=+e(I,p,m),w[p]=+a(I,p,m),i.point(t?+t(I,p,m):O[p],r?+r(I,p,m):w[p]))}if(T)return i=null,T+""||null}function x(){return os().defined(l).curve(u).context(o)}return c.x=function(m){return arguments.length?(e=typeof m=="function"?m:Re(+m),t=null,c):e},c.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Re(+m),c):e},c.x1=function(m){return arguments.length?(t=m==null?null:typeof m=="function"?m:Re(+m),c):t},c.y=function(m){return arguments.length?(a=typeof m=="function"?m:Re(+m),r=null,c):a},c.y0=function(m){return arguments.length?(a=typeof m=="function"?m:Re(+m),c):a},c.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Re(+m),c):r},c.lineX0=c.lineY0=function(){return x().x(e).y(a)},c.lineY1=function(){return x().x(e).y(r)},c.lineX1=function(){return x().x(t).y(a)},c.defined=function(m){return arguments.length?(l=typeof m=="function"?m:Re(!!m),c):l},c.curve=function(m){return arguments.length?(u=m,o!=null&&(i=u(o)),c):u},c.context=function(m){return arguments.length?(m==null?o=i=null:i=u(o=m),c):o},c}const us={draw:function(e,t){var a=Math.sqrt(t/Mr);e.moveTo(a,0),e.arc(0,0,a,0,Rr)}},Mo={draw:function(e,t){var a=Math.sqrt(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}};var cs=Math.sqrt(1/3),Oo=cs*2;const zo={draw:function(e,t){var a=Math.sqrt(t/Oo),r=a*cs;e.moveTo(0,-a),e.lineTo(r,0),e.lineTo(0,a),e.lineTo(-r,0),e.closePath()}};var Bo=.8908130915292852,ds=Math.sin(Mr/10)/Math.sin(7*Mr/10),Do=Math.sin(Rr/10)*ds,Fo=-Math.cos(Rr/10)*ds;const Eo={draw:function(e,t){var a=Math.sqrt(t*Bo),r=Do*a,l=Fo*a;e.moveTo(0,-a),e.lineTo(r,l);for(var o=1;o<5;++o){var u=Rr*o/5,i=Math.cos(u),c=Math.sin(u);e.lineTo(c*a,-i*a),e.lineTo(i*r-c*l,c*r+i*l)}e.closePath()}},$o={draw:function(e,t){var a=Math.sqrt(t),r=-a/2;e.rect(r,r,a,a)}};var hn=Math.sqrt(3);const Ro={draw:function(e,t){var a=-Math.sqrt(t/(hn*3));e.moveTo(0,a*2),e.lineTo(-hn*a,-a),e.lineTo(hn*a,-a),e.closePath()}};var ut=-.5,ct=Math.sqrt(3)/2,An=1/Math.sqrt(12),jo=(An/2+1)*3;const Io={draw:function(e,t){var a=Math.sqrt(t/jo),r=a/2,l=a*An,o=r,u=a*An+a,i=-o,c=u;e.moveTo(r,l),e.lineTo(o,u),e.lineTo(i,c),e.lineTo(ut*r-ct*l,ct*r+ut*l),e.lineTo(ut*o-ct*u,ct*o+ut*u),e.lineTo(ut*i-ct*c,ct*i+ut*c),e.lineTo(ut*r+ct*l,ut*l-ct*r),e.lineTo(ut*o+ct*u,ut*u-ct*o),e.lineTo(ut*i+ct*c,ut*c-ct*i),e.closePath()}};function No(){var e=Re(us),t=Re(64),a=null;function r(){var l;if(a||(a=l=$r()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),l)return a=null,l+""||null}return r.type=function(l){return arguments.length?(e=typeof l=="function"?l:Re(l),r):e},r.size=function(l){return arguments.length?(t=typeof l=="function"?l:Re(+l),r):t},r.context=function(l){return arguments.length?(a=l??null,r):a},r}function Xt(){}function Or(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function jr(e){this._context=e}jr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Or(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Or(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Po(e){return new jr(e)}function vs(e){this._context=e}vs.prototype={areaStart:Xt,areaEnd:Xt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Or(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Uo(e){return new vs(e)}function fs(e){this._context=e}fs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:Or(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qo(e){return new fs(e)}function ms(e,t){this._basis=new jr(e),this._beta=t}ms.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,a=e.length-1;if(a>0)for(var r=e[0],l=t[0],o=e[a]-r,u=t[a]-l,i=-1,c;++i<=a;)c=i/a,this._basis.point(this._beta*e[i]+(1-this._beta)*(r+c*o),this._beta*t[i]+(1-this._beta)*(l+c*u));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Ho=(function e(t){function a(r){return t===1?new jr(r):new ms(r,t)}return a.beta=function(r){return e(+r)},a})(.85);function zr(e,t,a){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-a),e._x2,e._y2)}function Gn(e,t){this._context=e,this._k=(1-t)/6}Gn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:zr(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:zr(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ko=(function e(t){function a(r){return new Gn(r,t)}return a.tension=function(r){return e(+r)},a})(0);function Xn(e,t){this._context=e,this._k=(1-t)/6}Xn.prototype={areaStart:Xt,areaEnd:Xt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:zr(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Wo=(function e(t){function a(r){return new Xn(r,t)}return a.tension=function(r){return e(+r)},a})(0);function Zn(e,t){this._context=e,this._k=(1-t)/6}Zn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:zr(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Yo=(function e(t){function a(r){return new Zn(r,t)}return a.tension=function(r){return e(+r)},a})(0);function Jn(e,t,a){var r=e._x1,l=e._y1,o=e._x2,u=e._y2;if(e._l01_a>wl){var i=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*i-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,l=(l*i-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>wl){var x=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,m=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*x+e._x1*e._l23_2a-t*e._l12_2a)/m,u=(u*x+e._y1*e._l23_2a-a*e._l12_2a)/m}e._context.bezierCurveTo(r,l,o,u,e._x2,e._y2)}function ps(e,t){this._context=e,this._alpha=t}ps.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Jn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Go=(function e(t){function a(r){return t?new ps(r,t):new Gn(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function hs(e,t){this._context=e,this._alpha=t}hs.prototype={areaStart:Xt,areaEnd:Xt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Jn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Xo=(function e(t){function a(r){return t?new hs(r,t):new Xn(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function gs(e,t){this._context=e,this._alpha=t}gs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Jn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Zo=(function e(t){function a(r){return t?new gs(r,t):new Zn(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function bs(e){this._context=e}bs.prototype={areaStart:Xt,areaEnd:Xt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Jo(e){return new bs(e)}function Sl(e){return e<0?-1:1}function Cl(e,t,a){var r=e._x1-e._x0,l=t-e._x1,o=(e._y1-e._y0)/(r||l<0&&-0),u=(a-e._y1)/(l||r<0&&-0),i=(o*l+u*r)/(r+l);return(Sl(o)+Sl(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(i))||0}function Al(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function gn(e,t,a){var r=e._x0,l=e._y0,o=e._x1,u=e._y1,i=(o-r)/3;e._context.bezierCurveTo(r+i,l+i*t,o-i,u-i*a,o,u)}function Br(e){this._context=e}Br.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gn(this,this._t0,Al(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,gn(this,Al(this,a=Cl(this,e,t)),a);break;default:gn(this,this._t0,a=Cl(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function ks(e){this._context=new ys(e)}(ks.prototype=Object.create(Br.prototype)).point=function(e,t){Br.prototype.point.call(this,t,e)};function ys(e){this._context=e}ys.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,r,l,o){this._context.bezierCurveTo(t,e,r,a,o,l)}};function Qo(e){return new Br(e)}function eu(e){return new ks(e)}function xs(e){this._context=e}xs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var r=Tl(e),l=Tl(t),o=0,u=1;u<a;++o,++u)this._context.bezierCurveTo(r[0][o],l[0][o],r[1][o],l[1][o],e[u],t[u]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Tl(e){var t,a=e.length-1,r,l=new Array(a),o=new Array(a),u=new Array(a);for(l[0]=0,o[0]=2,u[0]=e[0]+2*e[1],t=1;t<a-1;++t)l[t]=1,o[t]=4,u[t]=4*e[t]+2*e[t+1];for(l[a-1]=2,o[a-1]=7,u[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=l[t]/o[t-1],o[t]-=r,u[t]-=r*u[t-1];for(l[a-1]=u[a-1]/o[a-1],t=a-2;t>=0;--t)l[t]=(u[t]-l[t+1])/o[t];for(o[a-1]=(e[a]+l[a-1])/2,t=0;t<a-1;++t)o[t]=2*e[t+1]-l[t+1];return[l,o]}function tu(e){return new xs(e)}function Ir(e,t){this._context=e,this._t=t}Ir.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function au(e){return new Ir(e,.5)}function ru(e){return new Ir(e,0)}function nu(e){return new Ir(e,1)}function Vl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,r)}return a}function lu(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Vl(Object(a),!0).forEach(function(r){su(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vl(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Xa(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xa=function(t){return typeof t}:Xa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xa(e)}function su(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Dr(){return Dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Dr.apply(this,arguments)}function iu(e,t){if(e){if(typeof e=="string")return Ll(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ll(e,t)}}function Ll(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function _s(e,t){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=iu(e))||t){a&&(e=a);var r=0,l=function(){};return{s:l,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,u=!1,i;return{s:function(){a=a.call(e)},n:function(){var c=a.next();return o=c.done,c},e:function(c){u=!0,i=c},f:function(){try{!o&&a.return!=null&&a.return()}finally{if(u)throw i}}}}function ou(e,t){var a=[],r=[];function l(o,u){if(o.length===1)a.push(o[0]),r.push(o[0]);else{for(var i=Array(o.length-1),c=0;c<i.length;c++)c===0&&a.push(o[0]),c===i.length-1&&r.push(o[c+1]),i[c]=[(1-u)*o[c][0]+u*o[c+1][0],(1-u)*o[c][1]+u*o[c+1][1]];l(i,u)}}return e.length&&l(e,t),{left:a,right:r.reverse()}}function uu(e){var t={};return e.length===4&&(t.x2=e[2][0],t.y2=e[2][1]),e.length>=3&&(t.x1=e[1][0],t.y1=e[1][1]),t.x=e[e.length-1][0],t.y=e[e.length-1][1],e.length===4?t.type="C":e.length===3?t.type="Q":t.type="L",t}function cu(e,t){t=t||2;for(var a=[],r=e,l=1/t,o=0;o<t-1;o++){var u=l/(1-l*o),i=ou(r,u);a.push(i.left),r=i.right}return a.push(r),a}function du(e,t,a){var r=[[e.x,e.y]];return t.x1!=null&&r.push([t.x1,t.y1]),t.x2!=null&&r.push([t.x2,t.y2]),r.push([t.x,t.y]),cu(r,a).map(uu)}var vu=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,Ca={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};Object.keys(Ca).forEach(function(e){Ca[e.toLowerCase()]=Ca[e]});function Tn(e,t){for(var a=Array(e),r=0;r<e;r++)a[r]=t;return a}function fu(e){return"".concat(e.type).concat(Ca[e.type].map(function(t){return e[t]}).join(","))}function mu(e,t){var a={x1:"x",y1:"y",x2:"x",y2:"y"},r=["xAxisRotation","largeArcFlag","sweepFlag"];if(e.type!==t.type&&t.type.toUpperCase()!=="M"){var l={};Object.keys(t).forEach(function(o){var u=t[o],i=e[o];i===void 0&&(r.includes(o)?i=u:(i===void 0&&a[o]&&(i=e[a[o]]),i===void 0&&(i=0))),l[o]=i}),l.type=t.type,e=l}return e}function pu(e,t,a){var r=[];if(t.type==="L"||t.type==="Q"||t.type==="C")r=r.concat(du(e,t,a));else{var l=Dr({},e);l.type==="M"&&(l.type="L"),r=r.concat(Tn(a-1).map(function(){return l})),r.push(t)}return r}function Ml(e,t,a){var r=e.length-1,l=t.length-1,o=r/l,u=Tn(l).reduce(function(c,x,m){var p=Math.floor(o*m);if(a&&p<e.length-1&&a(e[p],e[p+1])){var C=o*m%1<.5;c[p]&&(C?p>0?p-=1:p<e.length-1&&(p+=1):p<e.length-1?p+=1:p>0&&(p-=1))}return c[p]=(c[p]||0)+1,c},[]),i=u.reduce(function(c,x,m){if(m===e.length-1){var p=Tn(x,Dr({},e[e.length-1]));return p[0].type==="M"&&p.forEach(function(C){C.type="L"}),c.concat(p)}return c.concat(pu(e[m],e[m+1],x))},[]);return i.unshift(e[0]),i}function Ol(e){for(var t=(e||"").match(vu)||[],a=[],r,l,o=0;o<t.length;++o)if(r=Ca[t[o]],r){l={type:t[o]};for(var u=0;u<r.length;++u)l[r[u]]=+t[o+u+1];o+=r.length,a.push(l)}return a}function hu(e,t,a){var r=e==null?[]:e.slice(),l=t==null?[]:t.slice(),o=Xa(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},u=o.excludeSegment,i=o.snapEndsToInput;if(!r.length&&!l.length)return function(){return[]};var c=(r.length===0||r[r.length-1].type==="Z")&&(l.length===0||l[l.length-1].type==="Z");r.length>0&&r[r.length-1].type==="Z"&&r.pop(),l.length>0&&l[l.length-1].type==="Z"&&l.pop(),r.length?l.length||l.push(r[0]):r.push(l[0]);var x=Math.abs(l.length-r.length);x!==0&&(l.length>r.length?r=Ml(r,l,u):l.length<r.length&&(l=Ml(l,r,u))),r=r.map(function(p,C){return mu(p,l[C])});var m=r.map(function(p){return lu({},p)});return c&&(m.push({type:"Z"}),r.push({type:"Z"})),function(C){if(C===1&&i)return t??[];if(C===0)return r;for(var L=0;L<m.length;++L){var F=r[L],I=l[L],E=m[L],T=_s(Ca[E.type]),O;try{for(T.s();!(O=T.n()).done;){var w=O.value;E[w]=(1-C)*F[w]+C*I[w],(w==="largeArcFlag"||w==="sweepFlag")&&(E[w]=Math.round(E[w]))}}catch(D){T.e(D)}finally{T.f()}}return m}}function ws(e,t,a){var r=Ol(e),l=Ol(t),o=Xa(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},u=o.excludeSegment,i=o.snapEndsToInput;if(!r.length&&!l.length)return function(){return""};var c=hu(r,l,{excludeSegment:u,snapEndsToInput:i});return function(m){if(m===1&&i)return t??"";var p=c(m),C="",L=_s(p),F;try{for(L.s();!(F=L.n()).done;){var I=F.value;C+=fu(I)}}catch(E){L.e(E)}finally{L.f()}return C}}var xe;(function(e){e.Basis="basis",e.BasisClosed="basisClosed",e.BasisOpen="basisOpen",e.Bundle="bundle",e.Cardinal="cardinal",e.CardinalClosed="cardinalClosed",e.CardinalOpen="cardinalOpen",e.CatmullRom="catmullRom",e.CatmullRomClosed="catmullRomClosed",e.CatmullRomOpen="catmullRomOpen",e.Linear="linear",e.LinearClosed="linearClosed",e.MonotoneX="monotoneX",e.MonotoneY="monotoneY",e.Natural="natural",e.Step="step",e.StepAfter="stepAfter",e.StepBefore="stepBefore"})(xe||(xe={}));const Vn={[xe.Basis]:Po,[xe.BasisClosed]:Uo,[xe.BasisOpen]:qo,[xe.Bundle]:Ho,[xe.Cardinal]:Ko,[xe.CardinalClosed]:Wo,[xe.CardinalOpen]:Yo,[xe.CatmullRom]:Go,[xe.CatmullRomClosed]:Xo,[xe.CatmullRomOpen]:Zo,[xe.Linear]:Yn,[xe.LinearClosed]:Jo,[xe.MonotoneX]:Qo,[xe.MonotoneY]:eu,[xe.Natural]:tu,[xe.Step]:au,[xe.StepAfter]:nu,[xe.StepBefore]:ru},gu=Object.assign(Object.assign({},ar),{curveType:xe.MonotoneX,lineWidth:2,lineDashArray:void 0,fallbackValue:void 0,highlightOnHover:!1,cursor:null,interpolateMissingData:!1}),bu=Va`
  :root {
    --vis-line-cursor: default;
    --vis-line-stroke-dasharray: none;
    --vis-line-stroke-dashoffset: 0;

    --vis-line-gapfill-stroke-dasharray: 2 3;
    --vis-line-gapfill-stroke-opacity: 0.8;
    --vis-line-gapfill-stroke-dashoffset: 0;
  }
`,ku=ge`
  label: line-component;
`,Ya=ge`
  label: line;
  transition: opacity 200ms;
  cursor: var(--vis-line-cursor);
`,Ln=ge`
  label: linePath;
  fill: none;
  stroke-dasharray: var(--vis-line-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-stroke-dashoffset);
`,Mn=ge`
  label: lineSelectionHelper;
  fill: none;
  stroke: rgba(0, 0, 0, 0);
  stroke-width: 8px;
`,On=ge`
  opacity: 0.2;
`,zn=ge`
  label: interpolated-path;
  fill: none;
  stroke-dasharray: var(--vis-line-gapfill-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-gapfill-stroke-dashoffset);
  stroke-opacity: var(--vis-line-gapfill-stroke-opacity);
`,yu=Object.freeze(Object.defineProperty({__proto__:null,dim:On,globalStyles:bu,interpolatedPath:zn,line:Ya,linePath:Ln,lineSelectionHelper:Mn,root:ku},Symbol.toStringTag,{value:"Module"}));class Nr extends rr{constructor(t){super(),this._defaultConfig=gu,this.config=this._defaultConfig,this.curve=Vn[xe.MonotoneX],this.events={[Nr.selectors.line]:{mouseover:this._highlight.bind(this),mouseleave:this._resetHighlight.bind(this)}},t&&this.setConfig(t)}get bleed(){const{config:{lineWidth:t}}=this,a=this.yScale.domain(),l=(this.yScale.range()[0]>this.yScale.range()[1]?oa.North:oa.South)===oa.South,o=t>3,u=t>=10;return{top:!u&&(!l&&a[1]===0||l&&a[0]===0)?0:t/2,bottom:!u&&(!l&&a[0]===0||l&&a[1]===0)?0:t/2,left:o?t/2:0,right:o?t/2:0}}_render(t){super._render(t);const{config:a,datamodel:{data:r}}=this,l=Sa(t)?t:a.duration;this.curve=Vn[a.curveType],this.lineGen=os().x(p=>p.x).y(p=>p.y).defined(p=>p.defined).curve(this.curve);const o=Lr(a.y)?a.y:[a.y],u=r.map((p,C)=>this.xScale(Ft(p,a.x,C))),i=o.map(p=>{const C=r.map((T,O)=>{const w=Ft(T,p,O),D=(Sa(w)||w===null)&&isFinite(w)?w:a.fallbackValue,H=a.interpolateMissingData?(Sa(w)||w===null)&&isFinite(w):isFinite(D);return{x:u[O],y:this.yScale(D??0),defined:H,value:D}}),L=C.reduce((T,O)=>O.defined||T,!1);let F=!1;const I=C.reduce((T,O,w)=>{!O.defined&&isFinite(a.fallbackValue)&&T.push(Object.assign(Object.assign({},O),{defined:!0})),!O.defined&&!F&&(F=!0);const D=w>0&&!C[w-1].defined||w<C.length-1&&!C[w+1].defined;return O.defined&&D&&(F||T.push(Object.assign(Object.assign({},O),{defined:!1})),T.push(O),F=!1),T},[]),E=L&&C.some(T=>T.value!==null);return{values:C,defined:L,gaps:I,visible:E}}),c=this.g.selectAll(`.${Ya}`).data(i),x=c.enter().append("g").attr("class",Ya);x.append("path").attr("class",Ln).attr("stroke",(p,C)=>Yt(r,a.color,C)).attr("stroke-opacity",0).attr("stroke-width",a.lineWidth),x.append("path").attr("class",Mn).attr("d",this._emptyPath()),x.append("path").attr("class",zn).attr("d",this._emptyPath()).style("opacity",0);const m=x.merge(c);m.style("cursor",(p,C)=>Ja(r,a.cursor,C)),m.each((p,C,L)=>{var F;const I=Aa(L[C]),E=I.select(`.${Ln}`),T=I.select(`.${Mn}`),O=I.select(`.${zn}`),w=p.visible,D=Di(r,a.lineDashArray,C),H=He(E,l).attr("stroke",Yt(r,a.color,C)).attr("stroke-width",a.lineWidth).attr("stroke-opacity",w?1:0).style("stroke-dasharray",(F=D?.join(" "))!==null&&F!==void 0?F:null),X=p.values.some(W=>!W.defined),ce=this.lineGen(p.values);if(l&&!X){const W=E.attr("d")||this._emptyPath(),q=ce||this._emptyPath();H.attrTween("d",()=>ws(W,q))}else p.visible&&H.attr("d",ce);T.attr("d",ce).attr("visibility",w?null:"hidden"),X&&a.interpolateMissingData?He(O,l).attr("d",this.lineGen(p.gaps)).attr("stroke",Yt(r,a.color,C)).attr("stroke-width",a.lineWidth-1).style("opacity",1):O.transition().duration(l).style("opacity",0)}),He(c.exit(),l).style("opacity",0).remove()}_emptyPath(){const t=this.xScale.range(),a=this.yScale.range();return`M${t[0]},${a[0]} L${t[1]},${a[0]}`}_highlight(t){const{config:a}=this;a.highlightOnHover&&this.g.selectAll(`.${Ya}`).classed(On,r=>r!==t)}_resetHighlight(){const{config:t}=this;t.highlightOnHover&&this.g.selectAll(`.${Ya}`).classed(On,!1)}}Nr.selectors=yu;const xu=Object.assign(Object.assign({},ar),{color:void 0,groupMaxWidth:void 0,groupWidth:void 0,dataStep:void 0,groupPadding:.05,barPadding:0,roundedCorners:2,barMinHeight:2,cursor:null,orientation:Gl.Vertical}),Ss=ge`
  label: grouped-bar-component;
`,_u=Va`
  :root {
    --vis-grouped-bar-cursor: default;
    --vis-grouped-bar-fill-color: var(--vis-color-main);
    --vis-grouped-bar-stroke-color: none;
    --vis-grouped-bar-stroke-width: 0px;
    --vis-grouped-bar-hover-stroke-width: 1px;
    --vis-grouped-bar-hover-stroke-color: none;


    /* Dark Theme */
    --vis-dark-grouped-bar-stroke-color: none;
  }

  body.theme-dark ${`.${Ss}`} {
    --vis-grouped-bar-stroke-color: var(--vis-dark-grouped-bar-stroke-color);
  }
`,Cr=ge`
  label: bar;
  fill: var(--vis-grouped-bar-fill-color);
  stroke: var(--vis-grouped-bar-stroke-color);
  stroke-width: var(--vis-grouped-bar-stroke-width);
  cursor: var(--vis-grouped-bar-cursor);

  &:hover {
    stroke-width: var(--vis-grouped-bar-hover-stroke-width);
    stroke: var(--vis-grouped-bar-hover-stroke-color);
  }
`,Bn=ge`
  label: barGroup;
`,Cs=ge`
  label: barGroupExit;
`,wu=Object.freeze(Object.defineProperty({__proto__:null,bar:Cr,barGroup:Bn,barGroupExit:Cs,globalStyles:_u,root:Ss},Symbol.toStringTag,{value:"Module"}));class As extends rr{constructor(t){super(),this._defaultConfig=xu,this.config=this._defaultConfig,this.getAccessors=()=>Lr(this.config.y)?this.config.y:[this.config.y],this.events={},this._barData=[],t&&this.setConfig(t)}get bleed(){if(this._barData=this._getVisibleData(),this._barData.length===0)return{top:0,bottom:0,left:0,right:0};const t=!this.isVertical()&&this.dataScale.range()[0]>this.dataScale.range()[1],a=this.dataScale.domain(),r=this._getGroupWidth()/2,l=this._barData.map((L,F)=>Ft(L,this.config.x,F)),o=pn(l),u=Fi(l),i=this.dataScale(o),c=this.dataScale(u),x=this.dataScale.invert(i+(t?r:-r)),m=this.dataScale.invert(c+(t?-r:r)),p=x<=a[0]?this.dataScale(a[0])-this.dataScale(x):0,C=m>a[1]?this.dataScale(m)-this.dataScale(a[1]):0;return{top:this.isVertical()?0:t?-C:p,bottom:this.isVertical()?0:t?-p:C,left:this.isVertical()?p:0,right:this.isVertical()?C:0}}get dataScale(){return this.isVertical()?this.xScale:this.yScale}get valueScale(){return this.isVertical()?this.yScale:this.xScale}isVertical(){return this.config.orientation===Gl.Vertical}_render(t){const{config:a}=this,r=Sa(t)?t:a.duration,l=this._getGroupWidth(),o=this.getAccessors(),u=[-l/2,l/2],i=Ei().domain($i(o.length)).range(u).paddingInner(a.barPadding).paddingOuter(a.barPadding),c=this.g.selectAll(`.${Bn}`).data(this._barData,(O,w)=>{var D;return`${(D=Ja(O,a.id,w))!==null&&D!==void 0?D:w}`}),x=(O,w)=>{const D=this.dataScale(Ft(O,a.x,w)),H=this.isVertical()?D:0,X=this.isVertical()?0:D;return`translate(${H},${X})`},p=c.enter().append("g").attr("class",Bn).attr("transform",x).style("opacity",1).merge(c);He(p,r).attr("transform",x).style("opacity",1);const C=c.exit().attr("class",Cs);He(C,r).style("opacity",0).remove(),He(C.selectAll(`.${Cr}`),r).attr("transform",(O,w,D)=>this.isVertical()?`translate(0,${this.yScale(0)}) scale(1,0)`:`translate(${this.xScale(0)},0) scale(0,1)`);const L=i.bandwidth(),F=p.selectAll(`.${Cr}`).data(O=>o.map(()=>O)),I=this._getValueAxisDirection(),T=F.enter().append("path").attr("class",Cr).attr("d",(O,w)=>{const D=i(w),H=this.valueScale(0),X=L;return this._getBarPath(D,H,X,0,!1,I)}).style("fill",(O,w)=>Yt(O,a.color,w)).merge(F);He(T,r).attr("d",(O,w)=>{const D=i(w),H=L,X=Ft(O,o[w]),ce=X<0;let W=ce?this.valueScale(0):this.valueScale(X||0),q=Math.abs(this.valueScale(0)-this.valueScale(X))||0;if(q<a.barMinHeight){const Q=I===oa.North?-1:1;W=this.valueScale(0)+Q*a.barMinHeight,q=a.barMinHeight}return this._getBarPath(D,W,H,q,ce,I)}).style("fill",(O,w)=>Yt(O,a.color,w)).style("cursor",(O,w)=>Ja(O,a.cursor,w)),He(F.exit(),r).remove()}_getValueAxisDirection(){return this.valueScale.range()[0]>this.valueScale.range()[1]?oa.North:oa.South}_getVisibleData(){const{config:t,datamodel:{data:a}}=this,r=this._getGroupWidth(),l=a.length<2?0:r/2,o=this.dataScale,u=Math.abs(o.invert(l)-o.invert(0));return a?.filter((c,x)=>{const m=Ft(c,t.x,x),p=o.domain(),C=+p[0],L=+p[1];return m>=C-u&&m<=L+u})}_getBarPath(t,a,r,l,o,u){const{config:i}=this,c=i.roundedCorners?Sa(i.roundedCorners)?+i.roundedCorners:r/2:0,x=Ui(c,0,Math.min(l,r)/2),m=u===oa.North,p=this.isVertical()&&o!==m,C=this.isVertical()&&o===m,L=!this.isVertical()&&o,F=!this.isVertical()&&!o;return Ri({x:this.isVertical()?t:a+(m?0:-l),y:this.isVertical()?a+(m?0:-l):t,w:this.isVertical()?r:l,h:this.isVertical()?l:r,tl:p||L,tr:p||F,bl:C||L,br:C||F,r:x})}_getGroupWidth(){const{config:t,datamodel:{data:a}}=this;if(ji(a))return 0;if(t.groupWidth)return pn([t.groupWidth,t.groupMaxWidth]);const r=this.dataScale.bandwidth,l=this.dataScale.domain?this.dataScale.domain():[];let u=1+(r?l.length:l[1]-l[0])/t.dataStep||!r&&a.filter((x,m)=>{const p=Ft(x,t.x,m);return p>=l[0]&&p<=l[1]}).length||a.length;!r&&u>=2&&(u+=1);const c=(u<2?1:1-t.groupPadding)*(this.isVertical()?this._width:this._height)/u;return pn([c,t.groupMaxWidth])}getValueScaleExtent(t){const{datamodel:a}=this,r=this.getAccessors(),l=t?this._getVisibleData():a.data,o=Ii(l,...r),u=Ni(l,...r);return[o>0?0:o,u<0?0:u]}getDataScaleExtent(){const{config:t,datamodel:a}=this;return Pi(a.data,t.x)}getYDataExtent(t){return this.isVertical()?this.getValueScaleExtent(t):this.getDataScaleExtent()}getXDataExtent(){return this.isVertical()?this.getDataScaleExtent():this.getValueScaleExtent(!1)}}As.selectors=wu;var Lt;(function(e){e.Circle="circle",e.Cross="cross",e.Diamond="diamond",e.Square="square",e.Star="star",e.Triangle="triangle",e.Wye="wye"})(Lt||(Lt={}));const Su={[Lt.Circle]:us,[Lt.Cross]:Mo,[Lt.Diamond]:zo,[Lt.Square]:$o,[Lt.Star]:Eo,[Lt.Triangle]:Ro,[Lt.Wye]:Io},at=Object.assign(Object.assign({},Lt),{Line:"line"});var Fr;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(Fr||(Fr={}));const Cu={items:[],labelClassName:"",onLegendItemClick:void 0,labelFontSize:null,labelMaxWidth:null,bulletSize:null,bulletSpacing:4,bulletShape:e=>{var t;return(t=e.shape)!==null&&t!==void 0?t:at.Circle},orientation:Fr.Horizontal,renderIntoProvidedDomNode:!1},_r=Hi*3,Au={[at.Circle]:Math.PI/4,[at.Cross]:5/9,[at.Diamond]:Math.sqrt(3)/6,[at.Square]:1,[at.Star]:.3,[at.Triangle]:Math.sqrt(3)/4,[at.Wye]:5/11};function Ts(e,t,a){return t<1?0:e*t+a*(t-1)}function Tu(e){e.each((t,a,r)=>{Aa(r[a]).append("svg").attr("width","100%").attr("height","100%").append("path")})}function Vu(e,t,a){e.each((r,l,o)=>{var u;const i=Ja(r,t.bulletShape,l),c=qi((u=r.color)!==null&&u!==void 0?u:Yt(r,a,l)),x=c.length,m=_r,p=_n(getComputedStyle(o[l]).getPropertyValue("--vis-legend-bullet-size")),C=t.bulletSpacing*(_r/p),L=Ts(m,x,C),F=i===at.Line?_r/2.5:_r,I=Aa(o[l]).select("svg").attr("viewBox",`0 0 ${L} ${F}`);I.selectAll("path").remove();const E=r.inactive?"var(--vis-legend-bullet-inactive-opacity)":1;c.forEach((T,O)=>{const w=I.append("path");if(i===at.Line){const D=O*(m+C),H=D+m;w.attr("d",`M${D},${F/2} L${H},${F/2}`).attr("transform",null).style("opacity",E).style("stroke",T).style("stroke-width","3px").style("fill",null).style("fill-opacity",null).style("marker-start","none").style("marker-end","none")}else{const D=No().type(Su[i]).size(m*F*Au[i]),H=(m-2)/m;let X=F/2;switch(i){case at.Triangle:X+=F/8;break;case at.Star:X+=F/16;break;case at.Wye:X-=F/16;break}const ce=O*(m+C)+m/2;w.attr("d",D).attr("transform",`translate(${ce}, ${Math.round(X)}) scale(${H})`).style("stroke",T).style("stroke-width","1px").style("opacity",null).style("fill",T).style("fill-opacity",E)}})})}const Qn=ge`
  label: bullet-legend-component;
`,Lu=Va`
  :root {
    // Undefined by default to allow proper fallback to var(--vis-font-family)
    /* --vis-legend-font-family: */

    --vis-legend-label-color: #6c778c;
    --vis-legend-label-max-width: 300px;
    --vis-legend-label-font-size: 12px;
    --vis-legend-bullet-size: 9px;
    --vis-legend-bullet-inactive-opacity: 0.15;
    --vis-legend-item-spacing: 20px;
    --vis-legend-vertical-item-spacing: 5px;
    --vis-legend-bullet-label-spacing: 8px;

    --vis-dark-legend-label-color: #eee;
  }

  body.theme-dark ${`.${Qn}`} {
    --vis-legend-label-color: var(--vis-dark-legend-label-color);
  }

  body.theme-patterns {
    --vis-legend-bullet-size: 14px;
  }
`,Ar=ge`
  label: legendItem;
  display: inline-flex;
  align-items: center;
  font-family: var(--vis-legend-font-family, var(--vis-font-family));
  margin-right: var(--vis-legend-item-spacing);
  white-space: nowrap;
  cursor: default;
  user-select: none;
  max-width: min-content;
`,Vs=ge`
  label: legendItemVertical;
  display: flex;
  margin-top: var(--vis-legend-vertical-item-spacing);
`,Ls=ge`
  cursor: pointer;
`,Dn=ge`
  label: legendItemLabel;
  font-size: var(--vis-legend-label-font-size);
  display: inline-block;
  vertical-align: middle;
  color: var(--vis-legend-label-color);
  max-width: var(--vis-legend-label-max-width);
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
`,Fn=ge`
  flex: 0 0 auto;
  label: legendItemBullet;
  margin-right: var(--vis-legend-bullet-label-spacing);
  height: var(--vis-legend-bullet-size);
  width: var(--vis-legend-bullet-size);

  svg {
    display: block;
  }
`,Mu=Object.freeze(Object.defineProperty({__proto__:null,bullet:Fn,clickable:Ls,item:Ar,itemVertical:Vs,label:Dn,root:Qn,variables:Lu},Symbol.toStringTag,{value:"Module"}));class Ms{constructor(t,a){this._defaultConfig=Cu,this.config=this._defaultConfig,this._colorAccessor=r=>r.color,this._container=t,this.div=a?.renderIntoProvidedDomNode?Aa(this._container):Aa(this._container).append("div"),this.div.classed(Qn,!0),this.element=this.div.node(),a&&this.update(a)}update(t){this.prevConfig=this.config,this.config=Ki(this._defaultConfig,t),this.render()}render(){const{config:t}=this,a=this.div.selectAll(`.${Ar}`).data(t.items),r=a.enter().append("div").on("click",this._onItemClick.bind(this)),l=r.merge(a);l.attr("class",o=>{var u;return`${Ar} ${(u=o.className)!==null&&u!==void 0?u:""}`}).classed(Vs,t.orientation===Fr.Vertical).classed(Ls,o=>!!t.onLegendItemClick&&this._isItemClickable(o)).attr("title",o=>o.name).style("display",o=>o.hidden?"none":null),r.append("span").attr("class",Fn).call(Tu),l.select(`.${Fn}`).style("width",function(o){const i=(Array.isArray(o.color)?o.color:[o.color]).length,c=_n(getComputedStyle(this).getPropertyValue("--vis-legend-bullet-size"))||9,x=t.bulletSize?_n(t.bulletSize):c,m=t.bulletSpacing;return`${Ts(x,i,m)}px`}).style("height",t.bulletSize).style("box-sizing","content-box").call(Vu,this.config,this._colorAccessor),r.append("span").attr("class",Dn).classed(t.labelClassName,!0).style("max-width",t.labelMaxWidth).style("font-size",t.labelFontSize),l.select(`.${Dn}`).text(o=>o.name),a.exit().remove()}_isItemClickable(t){return t.pointer===void 0?!0:t.pointer}_onItemClick(t,a){const{config:{onLegendItemClick:r}}=this,o=this.div.selectAll(`.${Ar}`).nodes().indexOf(t.currentTarget);r&&r(a,o)}destroy(){this.element!==this._container&&this.div.remove()}}Ms.selectors=Mu;var En;(function(e){e.Solid="solid",e.Dash="dash",e.DashDot="dashDot",e.Dot="dot",e.LongDash="longDash",e.LongDashDot="longDashDot",e.LongDashDotDot="longDashDotDot",e.ShortDash="shortDash",e.ShortDashDot="shortDashDot",e.ShortDashDotDot="shortDashDotDot",e.ShortDot="shortDot"})(En||(En={}));var se;(function(e){e.TopLeft="top-left",e.Top="top",e.TopRight="top-right",e.Right="right",e.BottomRight="bottom-right",e.Bottom="bottom",e.BottomLeft="bottom-left",e.Left="left"})(se||(se={}));var Er;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(Er||(Er={}));var U;(function(e){e.TopLeftInside="top-left-inside",e.TopLeftOutside="top-left-outside",e.TopInside="top-inside",e.TopOutside="top-outside",e.TopRightInside="top-right-inside",e.TopRightOutside="top-right-outside",e.RightInside="right-inside",e.RightOutside="right-outside",e.BottomRightInside="bottom-right-inside",e.BottomRightOutside="bottom-right-outside",e.BottomInside="bottom-inside",e.BottomOutside="bottom-outside",e.BottomLeftInside="bottom-left-inside",e.BottomLeftOutside="bottom-left-outside",e.LeftInside="left-inside",e.LeftOutside="left-outside"})(U||(U={}));var $n;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})($n||($n={}));const Ou=Object.assign(Object.assign({},ar),{color:void 0,curveType:xe.MonotoneX,baseline:()=>0,opacity:1,cursor:null,minHeight1Px:!1,minHeight:void 0}),Os=ge`
  label: area-component;
`,zu=Va`
  :root {
    --vis-area-cursor: default;
    --vis-area-fill-opacity: 1;
    --vis-area-stroke-color: none;
    --vis-area-stroke-width: 0px;
    --vis-area-stroke-dasharray: none;
    --vis-area-stroke-opacity: 1;
    --vis-area-hover-fill-opacity: none;
    --vis-area-hover-stroke-width: none;

    /* Dark Theme */
    --vis-dark-area-stroke-color: none;
  }

  body.theme-dark ${`.${Os}`} {
    --vis-area-stroke-color: var(--vis-dark-area-stroke-color);
  }

`,Rn=ge`
  label: area;
  cursor: var(--vis-area-cursor);
  fill-opacity: var(--vis-area-fill-opacity);
  stroke-width: var(--vis-area-stroke-width);
  stroke-dasharray: var(--vis-area-stroke-dasharray);
  stroke: var(--vis-area-stroke-color);
  stroke-opacity: var(--vis-area-stroke-opacity);

  &:hover {
    fill-opacity: var(--vis-area-hover-fill-opacity);
    stroke-width: var(--vis-area-hover-stroke-width);
  }
`,Bu=Object.freeze(Object.defineProperty({__proto__:null,area:Rn,globalStyles:zu,root:Os},Symbol.toStringTag,{value:"Module"}));class Pr extends rr{constructor(t){super(),this._defaultConfig=Ou,this.config=this._defaultConfig,this.stacked=!0,this.events={[Pr.selectors.area]:{}},t&&this.setConfig(t),this.stacked=Array.isArray(this.config.y)}_render(t){super._render(t);const{config:a,datamodel:{data:r}}=this,l=Sa(t)?t:a.duration,o=Vn[a.curveType];this._areaGen=Lo().x(E=>E.x).y0(E=>E.y0).y1(E=>E.y1).curve(o);const u=Lr(a.y)?a.y:[a.y],i=r.map((E,T)=>this.xScale(Ft(E,a.x,T))),c=Wi(r,a.baseline,u,this._prevNegative);this._prevNegative=c.map(E=>!!E.isMostlyNegative);const x=[],m=c.map(E=>E.map((T,O)=>{var w,D;const H=i[O],X=this.yScale(T[0]),ce=this.yScale(T[1]),W=ce>X,q=x[O]||0,Q=W?X+q:X-q,Y=W?ce+q:ce-q;let te=0;return(a.minHeight||a.minHeight1Px)&&Math.abs(Y-Q)<((w=a.minHeight)!==null&&w!==void 0?w:1)&&(te=((D=a.minHeight)!==null&&D!==void 0?D:1)-Math.abs(Y-Q),x[O]=q+te),{x:H,y0:Q,y1:W?Y+te:Y-te}})),p=m.length-1,C=m.reverse(),L=this.g.selectAll(`.${Rn}`).data(C),F=L.enter().append("path").attr("class",Rn).attr("d",E=>this._areaGen(E)||this._emptyPath()).style("opacity",0).style("fill",(E,T)=>Yt(r,a.color,p-T)),I=He(F.merge(L),l).style("opacity",(E,T)=>E.some(w=>w.y0-w.y1!==0)?Ft(r,a.opacity,p-T):0).style("fill",(E,T)=>Yt(r,a.color,p-T)).style("cursor",(E,T)=>Ja(r,a.cursor,p-T));l?I.attrTween("d",(T,O,w)=>{const D=Aa(w[O]).attr("d"),H=this._areaGen(T)||this._emptyPath();return ws(D,H)}):I.attr("d",E=>this._areaGen(E)||this._emptyPath()),He(L.exit(),l).style("opacity",0).remove()}getYDataExtent(t){const{config:a,datamodel:r}=this,l=Lr(a.y)?a.y:[a.y],o=this.xScale.domain(),u=t?Yi(r.data,o,a.x,!0):r.data;return Gi(u,a.baseline,...l)}_emptyPath(){const t=this.xScale.range(),a=this.yScale.domain(),r=this.yScale((a[0]+a[1])/2),l=r;return this._areaGen([{y0:r,y1:l,x:t[0]},{y0:r,y1:l,x:t[1]}])}}Pr.selectors=Bu;const Du={[U.TopLeftOutside]:({startX:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[U.TopLeftInside]:({startX:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[U.TopOutside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[U.TopInside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[U.TopRightOutside]:({startX:e,width:t,offsetX:a,offsetY:r})=>({x:e+t+a,y:r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[U.TopRightInside]:({startX:e,width:t,offsetX:a,offsetY:r})=>({x:e+t-a,y:r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[U.RightOutside]:({startX:e,width:t,height:a,offsetX:r})=>({x:e+t+r,y:a/2,textAnchor:"start",dominantBaseline:"middle"}),[U.RightInside]:({startX:e,width:t,height:a,offsetX:r})=>({x:e+t-r,y:a/2,textAnchor:"end",dominantBaseline:"middle"}),[U.BottomRightOutside]:({startX:e,width:t,height:a,offsetX:r,offsetY:l})=>({x:e+t+r,y:a-l,textAnchor:"start",dominantBaseline:"text-after-edge"}),[U.BottomRightInside]:({startX:e,width:t,height:a,offsetX:r,offsetY:l})=>({x:e+t-r,y:a-l,textAnchor:"end",dominantBaseline:"text-after-edge"}),[U.BottomOutside]:({startX:e,width:t,height:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[U.BottomInside]:({startX:e,width:t,height:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[U.BottomLeftOutside]:({startX:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[U.BottomLeftInside]:({startX:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[U.LeftOutside]:({startX:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"end",dominantBaseline:"middle"}),[U.LeftInside]:({startX:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"start",dominantBaseline:"middle"})},Fu={[U.TopLeftOutside]:({startX:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-after-edge"}),[U.TopLeftInside]:({startX:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[U.TopOutside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"end",dominantBaseline:"middle"}),[U.TopInside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"end",dominantBaseline:"middle"}),[U.TopRightOutside]:({startX:e,width:t,offsetX:a,offsetY:r})=>({x:e+t+a,y:r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[U.TopRightInside]:({startX:e,width:t,offsetX:a,offsetY:r})=>({x:e+t-a,y:r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[U.RightOutside]:({startX:e,width:t,height:a,offsetX:r})=>({x:e+t+r,y:a/2,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[U.RightInside]:({startX:e,width:t,height:a,offsetX:r})=>({x:e+t-r,y:a/2,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[U.BottomRightOutside]:({startX:e,width:t,height:a,offsetX:r,offsetY:l})=>({x:e+t+r,y:a-l,textAnchor:"start",dominantBaseline:"text-before-edge"}),[U.BottomRightInside]:({startX:e,width:t,height:a,offsetX:r,offsetY:l})=>({x:e+t-r,y:a-l,textAnchor:"start",dominantBaseline:"text-after-edge"}),[U.BottomOutside]:({startX:e,width:t,height:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"start",dominantBaseline:"middle"}),[U.BottomInside]:({startX:e,width:t,height:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"start",dominantBaseline:"middle"}),[U.BottomLeftOutside]:({startX:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[U.BottomLeftInside]:({startX:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[U.LeftOutside]:({startX:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[U.LeftInside]:({startX:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"middle",dominantBaseline:"text-before-edge"})},Eu={[U.TopLeftOutside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e-a,textAnchor:"start",dominantBaseline:"text-after-edge"}),[U.TopLeftInside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e+a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[U.TopOutside]:({startX:e,width:t,startY:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[U.TopInside]:({startX:e,width:t,startY:a,offsetY:r})=>({x:e+t/2,y:a+r,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[U.TopRightOutside]:({startY:e,width:t,offsetX:a,offsetY:r})=>({x:t-a,y:e-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[U.TopRightInside]:({startY:e,width:t,offsetX:a,offsetY:r})=>({x:t-a,y:e+r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[U.RightOutside]:({startY:e,height:t,width:a,offsetX:r})=>({x:a-r,y:e+t/2,textAnchor:"end",dominantBaseline:"middle"}),[U.RightInside]:({startY:e,height:t,width:a,offsetX:r})=>({x:a-r,y:e+t/2,textAnchor:"end",dominantBaseline:"middle"}),[U.BottomRightOutside]:({startY:e,height:t,width:a,offsetX:r,offsetY:l})=>({x:a-r,y:e+t+l,textAnchor:"end",dominantBaseline:"text-before-edge"}),[U.BottomRightInside]:({startY:e,height:t,width:a,offsetX:r,offsetY:l})=>({x:a-r,y:e+t-l,textAnchor:"end",dominantBaseline:"text-after-edge"}),[U.BottomOutside]:({startX:e,width:t,startY:a,height:r,offsetY:l})=>({x:e+t/2,y:a+r+l,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[U.BottomInside]:({startX:e,width:t,startY:a,height:r,offsetY:l})=>({x:e+t/2,y:a+r-l,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[U.BottomLeftOutside]:({startY:e,height:t,offsetX:a,offsetY:r})=>({x:a,y:e+t+r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[U.BottomLeftInside]:({startY:e,height:t,offsetX:a,offsetY:r})=>({x:a,y:e+t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[U.LeftOutside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"start",dominantBaseline:"middle"}),[U.LeftInside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"start",dominantBaseline:"middle"})},$u={[U.TopLeftOutside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e-a,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[U.TopLeftInside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e+a,textAnchor:"end",dominantBaseline:"text-before-edge",rotation:-90}),[U.TopOutside]:({startX:e,width:t,startY:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"end",dominantBaseline:"middle",rotation:-90}),[U.TopInside]:({startX:e,width:t,startY:a,offsetY:r})=>({x:e+t/2,y:a+r,textAnchor:"end",dominantBaseline:"middle",rotation:-90}),[U.TopRightOutside]:({startY:e,width:t,offsetX:a,offsetY:r})=>({x:t-a,y:e-r,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[U.TopRightInside]:({startY:e,width:t,offsetX:a,offsetY:r})=>({x:t-a,y:e+r,textAnchor:"end",dominantBaseline:"text-after-edge",rotation:-90}),[U.RightOutside]:({startY:e,height:t,width:a,offsetX:r})=>({x:a-r,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-after-edge",rotation:-90}),[U.RightInside]:({startY:e,height:t,width:a,offsetX:r})=>({x:a-r,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-after-edge",rotation:-90}),[U.BottomRightOutside]:({startY:e,height:t,width:a,offsetX:r,offsetY:l})=>({x:a-r,y:e+t+l,textAnchor:"start",dominantBaseline:"text-before-edge",rotation:-90}),[U.BottomRightInside]:({startY:e,height:t,width:a,offsetX:r,offsetY:l})=>({x:a-r,y:e+t-l,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[U.BottomOutside]:({startX:e,width:t,startY:a,height:r,offsetY:l})=>({x:e+t/2,y:a+r+l,textAnchor:"start",dominantBaseline:"middle",rotation:-90}),[U.BottomInside]:({startX:e,width:t,startY:a,height:r,offsetY:l})=>({x:e+t/2,y:a+r-l,textAnchor:"start",dominantBaseline:"middle",rotation:-90}),[U.BottomLeftOutside]:({startY:e,height:t,offsetX:a,offsetY:r})=>({x:a,y:e+t+r,textAnchor:"end",dominantBaseline:"text-before-edge",rotation:-90}),[U.BottomLeftInside]:({startY:e,height:t,offsetX:a,offsetY:r})=>({x:a,y:e+t-r,textAnchor:"start",dominantBaseline:"text-before-edge",rotation:-90}),[U.LeftOutside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-before-edge",rotation:-90}),[U.LeftInside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-before-edge",rotation:-90})},Ru=Object.assign(Object.assign({},ar),{axis:Qa.Y,from:0,to:0,color:void 0,duration:300,labelPosition:U.TopLeftOutside,labelOffsetX:14,labelOffsetY:14,labelOrientation:$n.Horizontal}),ju=Va`
  :root {
    --vis-plotband-color: rgba(255, 255, 90, 0.2);
    --vis-plotband-label-font-size: 12px;
    --vis-plotband-label-color: #000;

    --vis-dark-plotband-color: rgba(220, 220, 90, 0.2);
    --vis-dark-plotband-label-color: #e5e9f7;
  }

  body.theme-dark {
    --vis-plotband-color: var(--vis-dark-plotband-color);
    --vis-plotband-label-color: var(--vis-dark-tooltip-text-color);
  }
`,Iu=ge`
  label: plotband-component;
`,zs=ge`
  label: plotband-area;
  transition: opacity 200ms;
  cursor: var(--vis-line-cursor);
  fill: var(--vis-plotband-color);
`,Bs=ge`
  label: plotline-label;

  user-select: none;
  text-anchor: middle;
  pointer-events: none;
  font-size: var(--vis-plotband-label-font-size);
  fill: var(--vis-plotband-label-color);
`,Nu=Object.freeze(Object.defineProperty({__proto__:null,globalStyles:ju,label:Bs,plotband:zs,root:Iu},Symbol.toStringTag,{value:"Module"}));class Ds extends rr{constructor(t){super(),this._defaultConfig=Ru,t&&this.setConfig(t),this.plotband=this.g.append("rect").attr("class",zs),this.label=this.g.append("text").attr("class",Bs)}_render(t){super._render(t);const{config:a}=this;if(this.from=a.from,this.to=a.to,this.plotband.style("fill",a.color),this.from==null||this.to==null)return;let r=0,l=0,o=0,u=0;if(a.axis==="y"){const i=this.yScale(this.from),c=this.yScale(this.to);l=Math.min(i,c),u=Math.abs(i-c),r=0,o=this._width}else{const i=this.xScale(this.from),c=this.xScale(this.to);r=Math.min(i,c),o=Math.abs(i-c),l=0,u=this._height}if(He(this.plotband,a.duration).attr("x",r).attr("y",l).attr("width",o).attr("height",u),a.labelText){const i=this.computeLabel(a.axis,r,l,o,u,a.labelPosition,a.labelOffsetX,a.labelOffsetY,a.labelOrientation);this.label.attr("dominant-baseline",i.dominantBaseline).attr("transform",i.transform).style("text-anchor",i.textAnchor).style("fill",a.labelColor).style("font-size",a.labelSize?`${a.labelSize}px`:void 0),He(this.label,a.duration).text(a.labelText).attr("x",i.x).attr("y",i.y)}He(this.plotband.exit()).style("opacity",0).remove()}computeLabel(t,a,r,l,o,u,i,c,x){const m=x==="vertical",p=m?-90:0,C={startX:a,startY:r,width:l,height:o,offsetX:i,offsetY:c};let L;t===Qa.X?L=(m?Fu:Du)[u](C):L=(m?$u:Eu)[u](C);const{x:F,y:I,textAnchor:E,dominantBaseline:T}=L,O=p!==0?`rotate(${p}, ${F}, ${I})`:"";return{x:F,y:I,rotation:p,textAnchor:E,transform:O,dominantBaseline:T}}}Ds.selectors=Nu;const Pu={solid:"none",shortDash:"6,2",shortDot:"2,2",shortDashDot:"6,2,2,2",shortDashDotDot:"6,2,2,2,2,2",dot:"2,6",dash:"8,6",longDash:"16,6",dashDot:"8,6,2,6",longDashDot:"16,6,2,6",longDashDotDot:"16,6,2,6,2,6"},Uu={[se.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[se.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[se.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[se.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"start",dominantBaseline:"middle"}),[se.BottomRight]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[se.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[se.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[se.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"end",dominantBaseline:"middle"})},qu={[se.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-after-edge"}),[se.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"end",dominantBaseline:"middle"}),[se.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[se.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[se.BottomRight]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[se.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"middle"}),[se.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[se.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"middle",dominantBaseline:"text-after-edge"})},Hu={[se.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-after-edge"}),[se.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[se.TopRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[se.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"middle"}),[se.BottomRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a+r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[se.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[se.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[se.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"start",dominantBaseline:"middle"})},Ku={[se.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[se.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"start",dominantBaseline:"central"}),[se.TopRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[se.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[se.BottomRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a+r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[se.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"end",dominantBaseline:"central"}),[se.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[se.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"})},Wu=Object.assign(Object.assign({},ar),{lineWidth:2,axis:Qa.Y,value:0,duration:300,color:void 0,lineStyle:En.Solid,labelPosition:se.TopRight,labelOffsetX:14,labelOffsetY:14,labelOrientation:Er.Horizontal}),Yu=Va`
  :root {
    --vis-plotline-color: rgb(226, 32, 58);
    --vis-plotline-width: 2;
    --vis-plotline-dasharray: none;
    --vis-plotline-stroke-dashoffset: 0;
    --vis-plotline-label-font-size: 12px;
    --vis-plotline-label-color: #000;

    --vis-dark-plotline-label-color: #e5e9f7;
  }

  body.theme-dark {
    --vis-plotline-label-color: var(--vis-dark-tooltip-text-color);
  }
`,Gu=ge`
  label: plotline-component;
`,Fs=ge`
  label: plotline;
  transition: opacity 200ms;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke: var(--vis-plotline-color);
  stroke-width: var(--vis-plotline-width);
  stroke-dasharray: var(--vis-plotline-dasharray);
  stroke-dashoffset: var(--vis-plotline-stroke-dashoffset);
`,Es=ge`
  label: plotline-label;
  text-anchor: middle;
  /* dominant-baseline: middle; */
  pointer-events: none;
  font-size: var(--vis-plotline-label-font-size);
  fill: var(--vis-plotline-label-color);
`,Xu=Object.freeze(Object.defineProperty({__proto__:null,globalStyles:Yu,label:Es,plotline:Fs,root:Gu},Symbol.toStringTag,{value:"Module"}));class $s extends rr{constructor(t){super(),this._defaultConfig=Wu,t&&this.setConfig(t),this.plotline=this.g.append("line").attr("class",Fs),this.label=this.g.append("text").attr("class",Es)}_render(t){super._render(t);const{config:a}=this;this.value=a.value;let r;typeof a?.lineStyle=="string"?r=Pu[a.lineStyle]:Array.isArray(a.lineStyle)?r=a.lineStyle.join(","):r="none",this.value=a.value,this.plotline.attr("stroke-opacity",1).style("stroke-width",a.lineWidth).style("stroke-dasharray",r).style("stroke",a.color);let l=0,o=0,u=0,i=0;if(a.axis===Qa.Y?(u=this.yScale(this.value),i=this.yScale(this.value),l=0,o=this._width):(u=0,i=this._height,l=this.xScale(this.value),o=this.xScale(this.value)),He(this.plotline,a.duration).attr("x1",l).attr("x2",o).attr("y1",u).attr("y2",i),a.labelText){const c=this.computeLabel(a.axis,o,i,a.labelPosition,a.labelOffsetX,a.labelOffsetY,a.labelOrientation);this.label.text(a.labelText).attr("transform",c.transform).attr("dominant-baseline",c.dominantBaseline).style("fill",a.labelColor).style("text-anchor",c.textAnchor).style("font-size",a.labelSize?`${a.labelSize}px`:void 0),He(this.label,a.duration).attr("x",c.x).attr("y",c.y)}He(this.plotline.exit()).style("opacity",0).remove()}computeLabel(t,a,r,l,o,u,i){const c=i===Er.Vertical,x=c?-90:0;let m;t===Qa.X?m=(c?qu:Uu)[l]({width:a,height:r,offsetX:o,offsetY:u}):m=(c?Ku:Hu)[l]({width:a,height:r,offsetX:o,offsetY:u});const p=x?`rotate(${x}, ${m.x}, ${m.y})`:"";return Object.assign(Object.assign({},m),{rotation:x,transform:p})}}$s.selectors=Xu;const Zu={"data-vis-component":""},wr=ze({__name:"index",props:{color:{},curveType:{},baseline:{},opacity:{},cursor:{},minHeight1Px:{type:Boolean},minHeight:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=tr(nr),r=e,l=f(()=>a.data.value??r.data),o=La(r),u=B();return ht(()=>{$t(()=>{var i;u.value=new Pr(o.value),(i=u.value)==null||i.setData(l.value),a.update(u.value)})}),Et(()=>{var i;(i=u.value)==null||i.destroy(),a.destroy()}),re(o,(i,c)=>{var x;Ma(i,c)||(x=u.value)==null||x.setConfig(o.value)}),re(l,()=>{var i;(i=u.value)==null||i.setData(l.value)}),t({component:u}),(i,c)=>(g(),$("div",Zu))}}),Ju={"data-vis-component":""},Qu=ze({__name:"index",props:{color:{},groupWidth:{},groupMaxWidth:{},dataStep:{},groupPadding:{},barPadding:{},roundedCorners:{type:[Number,Boolean]},barMinHeight:{},cursor:{},orientation:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=tr(nr),r=e,l=f(()=>a.data.value??r.data),o=La(r),u=B();return ht(()=>{$t(()=>{var i;u.value=new As(o.value),(i=u.value)==null||i.setData(l.value),a.update(u.value)})}),Et(()=>{var i;(i=u.value)==null||i.destroy(),a.destroy()}),re(o,(i,c)=>{var x;Ma(i,c)||(x=u.value)==null||x.setConfig(o.value)}),re(l,()=>{var i;(i=u.value)==null||i.setData(l.value)}),t({component:u}),(i,c)=>(g(),$("div",Ju))}}),ec={"data-vis-component":""},zl=ze({__name:"index",props:{color:{},curveType:{},lineWidth:{},lineDashArray:{},fallbackValue:{},highlightOnHover:{type:Boolean},cursor:{},interpolateMissingData:{type:Boolean},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=tr(nr),r=e,l=f(()=>a.data.value??r.data),o=La(r),u=B();return ht(()=>{$t(()=>{var i;u.value=new Nr(o.value),(i=u.value)==null||i.setData(l.value),a.update(u.value)})}),Et(()=>{var i;(i=u.value)==null||i.destroy(),a.destroy()}),re(o,(i,c)=>{var x;Ma(i,c)||(x=u.value)==null||x.setConfig(o.value)}),re(l,()=>{var i;(i=u.value)==null||i.setData(l.value)}),t({component:u}),(i,c)=>(g(),$("div",ec))}}),tc={"data-vis-component":""},bn=ze({__name:"index",props:{color:{},axis:{},from:{},to:{},duration:{},labelText:{},labelPosition:{},labelOffsetX:{},labelOffsetY:{},labelOrientation:{},labelColor:{},labelSize:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=tr(nr),r=La(e),l=B();return ht(()=>{$t(()=>{l.value=new Ds(r.value),a.update(l.value)})}),Et(()=>{var o;(o=l.value)==null||o.destroy(),a.destroy()}),re(r,(o,u)=>{var i;Ma(o,u)||(i=l.value)==null||i.setConfig(r.value)}),t({component:l}),(o,u)=>(g(),$("div",tc))}}),ac={"data-vis-component":""},Sr=ze({__name:"index",props:{color:{},lineWidth:{},axis:{},value:{},duration:{},lineStyle:{},labelText:{},labelPosition:{},labelOffsetX:{},labelOffsetY:{},labelOrientation:{},labelColor:{},labelSize:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=tr(nr),r=La(e),l=B();return ht(()=>{$t(()=>{l.value=new $s(r.value),a.update(l.value)})}),Et(()=>{var o;(o=l.value)==null||o.destroy(),a.destroy()}),re(r,(o,u)=>{var i;Ma(o,u)||(i=l.value)==null||i.setConfig(r.value)}),t({component:l}),(o,u)=>(g(),$("div",ac))}}),rc=ze({__name:"index",props:{items:{},labelClassName:{},onLegendItemClick:{type:Function},labelFontSize:{},labelMaxWidth:{},bulletSize:{},bulletSpacing:{},bulletShape:{},orientation:{},renderIntoProvidedDomNode:{type:Boolean},data:{}},setup(e,{expose:t}){const a=e;f(()=>a.data);const r=La(a),l=B(),o=B();return ht(()=>{$t(()=>{o.value&&(l.value=new Ms(o.value,{...r.value,renderIntoProvidedDomNode:!0}))})}),Et(()=>{var u;(u=l.value)==null||u.destroy()}),re(r,(u,i)=>{var c;Ma(u,i)||(c=l.value)==null||c.update(r.value)}),t({component:l}),(u,i)=>(g(),$("div",{"data-vis-bullet-legend":"",ref_key:"elRef",ref:o},null,512))}});var nc=typeof global=="object"&&global&&global.Object===Object&&global,lc=typeof self=="object"&&self&&self.Object===Object&&self,sc=nc||lc||Function("return this")(),Ta=sc.Symbol,Rs=Object.prototype,ic=Rs.hasOwnProperty,oc=Rs.toString,Ha=Ta?Ta.toStringTag:void 0;function uc(e){var t=ic.call(e,Ha),a=e[Ha];try{e[Ha]=void 0;var r=!0}catch{}var l=oc.call(e);return r&&(t?e[Ha]=a:delete e[Ha]),l}var cc=Object.prototype,dc=cc.toString;function vc(e){return dc.call(e)}var fc="[object Null]",mc="[object Undefined]",Bl=Ta?Ta.toStringTag:void 0;function pc(e){return e==null?e===void 0?mc:fc:Bl&&Bl in Object(e)?uc(e):vc(e)}function hc(e){return e!=null&&typeof e=="object"}var gc="[object Symbol]";function bc(e){return typeof e=="symbol"||hc(e)&&pc(e)==gc}function kc(e,t){for(var a=-1,r=e==null?0:e.length,l=Array(r);++a<r;)l[a]=t(e[a],a,e);return l}var yc=Array.isArray,Dl=Ta?Ta.prototype:void 0,Fl=Dl?Dl.toString:void 0;function js(e){if(typeof e=="string")return e;if(yc(e))return kc(e,js)+"";if(bc(e))return Fl?Fl.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Is(e){return e==null?"":js(e)}function xc(e,t,a){var r=-1,l=e.length;t<0&&(t=-t>l?0:l+t),a=a>l?l:a,a<0&&(a+=l),l=t>a?0:a-t>>>0,t>>>=0;for(var o=Array(l);++r<l;)o[r]=e[r+t];return o}function _c(e,t,a){var r=e.length;return a=a===void 0?r:a,!t&&a>=r?e:xc(e,t,a)}var wc="\\ud800-\\udfff",Sc="\\u0300-\\u036f",Cc="\\ufe20-\\ufe2f",Ac="\\u20d0-\\u20ff",Tc=Sc+Cc+Ac,Vc="\\ufe0e\\ufe0f",Lc="\\u200d",Mc=RegExp("["+Lc+wc+Tc+Vc+"]");function Ns(e){return Mc.test(e)}function Oc(e){return e.split("")}var Ps="\\ud800-\\udfff",zc="\\u0300-\\u036f",Bc="\\ufe20-\\ufe2f",Dc="\\u20d0-\\u20ff",Fc=zc+Bc+Dc,Ec="\\ufe0e\\ufe0f",$c="["+Ps+"]",jn="["+Fc+"]",In="\\ud83c[\\udffb-\\udfff]",Rc="(?:"+jn+"|"+In+")",Us="[^"+Ps+"]",qs="(?:\\ud83c[\\udde6-\\uddff]){2}",Hs="[\\ud800-\\udbff][\\udc00-\\udfff]",jc="\\u200d",Ks=Rc+"?",Ws="["+Ec+"]?",Ic="(?:"+jc+"(?:"+[Us,qs,Hs].join("|")+")"+Ws+Ks+")*",Nc=Ws+Ks+Ic,Pc="(?:"+[Us+jn+"?",jn,qs,Hs,$c].join("|")+")",Uc=RegExp(In+"(?="+In+")|"+Pc+Nc,"g");function qc(e){return e.match(Uc)||[]}function Hc(e){return Ns(e)?qc(e):Oc(e)}function Kc(e){return function(t){t=Is(t);var a=Ns(t)?Hc(t):void 0,r=a?a[0]:t.charAt(0),l=a?_c(a,1).join(""):t.slice(1);return r[e]()+l}}var Wc=Kc("toUpperCase");function El(e){return Wc(Is(e).toLowerCase())}const Yc={key:1,class:"mx-1.5 flex flex-wrap gap-0 gap-y-1"},Gc=ze({__name:"ForestryChartDisplay",props:{selectedFrameworks:{default:()=>[]},selectedArtkategori:{},chartType:{},currentTimeValue:{},singleFrameworkSelection:{type:Boolean,default:!1},frameworkComparisonMode:{type:Boolean,default:!1},selectedStartskog:{},redColor:{type:Boolean,default:!1},yellowColor:{type:Boolean,default:!1},maxYValue:{},matsvampVariant:{default:"standard"},relativeChart:{type:Boolean,default:!1}},async setup(e){let t,a;const r={matsvamp:"Alla matsvampar","goda matsvampar":"Goda matsvampar","rdlistade + signalarter":"Signal + rdlistade",atheliales:"Atheliales",boletales:"Boletales",cantharellales:"Cantharellales",spindlingar:"Cortinariaceae",russulales:"Russulales",thelephorales:"Thelephorales",ascomycota:"Ascomyceter"},l={trakthygge:"trakthygge",bldning:"bldning",luckhuggning:"luckhuggning",skrm:"skrmtrd",skarm:"skrmtrd","ingen tgrd":"naturskydd"};function o(d){const b=(d||"").trim().toLowerCase();return b?l[b]||b:""}function u(d){return typeof d=="string"?d:typeof d=="number"?String(d):""}function i(d){if(typeof d=="number")return d;if(typeof d=="string"){const b=d.replace(",","."),V=Number(b);return Number.isFinite(V)?V:NaN}return NaN}const{data:c}=([t,a]=Ka(()=>_a("skogsbruk-svampar",()=>Wa("skogsbrukSvampar").first())),t=await t,a(),t);function x(d){return d?Array.isArray(d)?d:Array.isArray(d?.entries)?d.entries:Array.isArray(d?.body)?d.body:Array.isArray(d?.data)?d.data:[]:[]}const m=f(()=>x(c.value)),p=f(()=>{const d={};for(const b of m.value){const V=o(String(b?.metod??"")),y=u(b?.startskog),_=i(b?.lder);if(!(!Number.isFinite(_)||!V))for(const[R,G]of Object.entries(r)){const J=i(b?.[G]);Number.isFinite(J)&&(d[R]||(d[R]=[]),d[R].push({artkategori:R,startskog:y,frameworks:V,lder:_,klassning:J}))}}return Object.values(d).forEach(b=>b.sort((V,y)=>V.lder-y.lder)),d}),{data:C}=([t,a]=Ka(()=>_a("kg-matsvamp-skogsbruk",()=>Wa("kgMatsvampSkogsbruk").first())),t=await t,a(),t),{data:L}=([t,a]=Ka(()=>_a("total-svampar-skogsbruk",()=>Wa("totalSvamparSkogsbruk").first())),t=await t,a(),t),F=f(()=>p.value.matsvamp??[]),I=f(()=>p.value["goda matsvampar"]??[]),E=f(()=>Array.isArray(C.value?.entries)?C.value.entries:[]),T=f(()=>p.value["rdlistade + signalarter"]??[]),O=f(()=>T.value),w=f(()=>p.value.atheliales??[]),D=f(()=>p.value.boletales??[]),H=f(()=>p.value.cantharellales??[]),X=f(()=>p.value.spindlingar??[]),ce=f(()=>p.value.russulales??[]),W=f(()=>p.value.ascomycota??[]),q=f(()=>p.value.thelephorales??[]),Q=f(()=>Array.isArray(L.value?.entries)?L.value.entries:[]),{data:Y}=([t,a]=Ka(()=>_a("svampgrupper-relative-skogsbruk",()=>Wa("svampgrupperRelativeSkogsbruk").first())),t=await t,a(),t),te=["atheliales","boletales","cantharellales","spindlingar","russulales","thelephorales","ascomycota"],ne=f(()=>{const d=Array.isArray(Y.value?.entries)?Y.value.entries:[],b=new Map;for(const y of d){if(!y)continue;const _=Number(y?.lder);if(!Number.isFinite(_))continue;const R=b.get(_)||{age:_};if(typeof y.artkategori=="string"&&y.klassning!==void 0){const G=pa(y.artkategori),J=Number(y.klassning);G&&Number.isFinite(J)&&(R[G]=J)}else for(const G of te){const J=r[G],Be=y?.[J];if(Be==null)continue;const ae=Number(Be);Number.isFinite(ae)&&(R[G]=ae)}b.set(_,R)}return Array.from(b.values()).map(y=>{for(const _ of te)Number.isFinite(Number(y[_]))||(y[_]=0);return y}).sort((y,_)=>Number(y.age)-Number(_.age))}),de=f(()=>{const d=Number(M.maxYValue);if(Mt.value){if(Number.isFinite(d))return[0,d*2];const b=Array.isArray(ve.value)?ve.value:[];let V=0;for(const y of b){const _=le.value[0]||(M.selectedArtkategori[0]?.toLowerCase()??"");if(!_)continue;const R=Number(y?.[_]);Number.isFinite(R)&&R>V&&(V=R)}return[0,V*2||1]}return Number.isFinite(d)?[0,d]:void 0}),ve=f(()=>M.chartType==="bar"?nt.value:M.singleFrameworkSelection&&M.frameworkComparisonMode?Wr.value:Hr.value),$e=f(()=>{const b=(M.relativeChart?ne.value:ve.value).map(y=>Number(y?.age)).filter(y=>Number.isFinite(y));return b.length?[M.relativeChart?Math.max(0,Math.min(...b)):Math.min(...b),Math.max(...b)]:[0,1]}),Le=f(()=>M.relativeChart?[0,20,50,80]:[0,10,20,30,40,50,60,70,80,90]),We=d=>M.relativeChart?d===0?"0 r":d===20?"20 r":d===50?"50 r":d===80?"80 r":"":d===0?"Avverkning":d===10?"":d===20?(Ae.value,"20 r"):d===30||d===40?"":d===50?(Ae.value,"50 r"):d===60||d===70?"":d===80?(Ae.value,"80 r"):"";f(()=>[(M.selectedFrameworks||[]).join(","),M.selectedStartskog||"",M.chartType||"",M.singleFrameworkSelection?"S":"M",M.currentTimeValue||""].join("|"));const be=f(()=>Array.isArray(ve.value)&&ve.value.length>0),le=f(()=>{if(!M.singleFrameworkSelection)return[];if(M.frameworkComparisonMode){const y=M.selectedArtkategori?.[0];return y?[y.toLowerCase()]:[]}const d=(M.selectedArtkategori||[]).map(y=>(y||"").toLowerCase()).filter(y=>!pe.value.has(y)),b=Ot.filter(y=>d.includes(y)),V=d.filter(y=>!Ot.includes(y));return b.concat(V)}),Ye={left:10,right:10,top:10,bottom:10},we=B(null),ke=B(!1);let Se=null;const Ce=wa({width:0,height:0}),Ae=B(!1);function Te(){if(!we.value){Ce.width=0,Ce.height=0;return}const d=we.value.getBoundingClientRect();Ce.width=d.width,Ce.height=d.height,Me()}function Me(){typeof window>"u"||(Ae.value=window.innerWidth<=640)}ht(async()=>{await $t(),ke.value=!0,Te(),Me(),requestAnimationFrame(()=>{Te()}),typeof window<"u"&&"ResizeObserver"in window&&(Se=new ResizeObserver(()=>{Te()}),we.value&&Se.observe(we.value))}),Il(()=>{Se&&(Se.disconnect(),Se=null)});const pe=B(new Set),je=B(new Set),dt=f(()=>M.frameworkComparisonMode||M.singleFrameworkSelection),M=e,vt=f(()=>M.matsvampVariant==="goda"?"goda":M.matsvampVariant==="kg"?"kg":"standard"),lr=f(()=>vt.value==="goda"?"goda matsvampar":vt.value==="kg"?"kg matsvamp":"matsvamp"),Mt=f(()=>(M.selectedArtkategori||[]).map(b=>(b||"").toLowerCase()).includes("matsvamp")&&vt.value==="kg"),va=d=>d,Ur=d=>b=>{if(!Mt.value)return NaN;const V=Number(b?.[d]);return Number.isFinite(V)?V*2:NaN},za=(d,b)=>{const V=Number(d?.[b]);return Number.isFinite(V)?va(V):NaN},fa=(d,b)=>{const V=Number(d?.[b]);return Number.isFinite(V)?va(V):NaN},tt=(d,b,V)=>{const y=b+"__compare",_=Number(d?.[y]?.[V]);return Number.isFinite(_)?va(_):NaN};function Ve(d,b=1){const V=d.replace("#",""),y=V.length===3?V.split("").map(Be=>Be+Be).join(""):V,_=parseInt(y,16),R=_>>16&255,G=_>>8&255,J=_&255;return`rgba(${R}, ${G}, ${J}, ${b})`}f(()=>{const d={fre:-5,efter:1,10:10,20:20,50:50,80:80};return[M.currentTimeValue?d[M.currentTimeValue]??$e.value[0]:$e.value[0],$e.value[1]]});const Ge=f(()=>{const d=M.currentTimeValue;if(!d)return null;const b={fre:-5,efter:1,10:10,20:20,50:50,80:80};if(d in b)return b[d];const V=Number(d);return Number.isFinite(V)?V:null});f(()=>{const d=(M.selectedFrameworks||[]).map(V=>V.toLowerCase()).join(","),b=(M.selectedArtkategori||[]).map(V=>V.toLowerCase()).join(",");return`${d}|${b}|${M.currentTimeValue||""}`});const Zt={atheliales:"#8B5CF6",boletales:"#EC4899",cantharellales:"#eab308",spindlingar:"#F97316",russulales:"#22C55E",ascomycota:"#DC2626",thelephorales:"#0EA5E9",matsvamp:"#eab308","goda matsvampar":"#eab308","kg matsvamp":"#eab308","rdlistade + signalarter":"#14b8a6",total:"#64748b"},Ot=["atheliales","ascomycota","spindlingar","russulales","boletales","cantharellales","thelephorales","matsvamp","goda matsvampar","rdlistade + signalarter","total"],rt={atheliales:"Skinnsvampar",boletales:"Soppar",cantharellales:"Kantarellslktingar",spindlingar:"Spindelskivlingar",russulales:"Kremlor & riskor",ascomycota:"Sporsckssvampar",thelephorales:"Tagg- och tomentelloida svampar",matsvamp:"Alla matsvampar","goda matsvampar":"Goda matsvampar","rdlistade + signalarter":"Naturvrdssvampar",total:"Total"},Jt={atheliales:"/images/svampgrupp/skinnsvamp.png",boletales:"/images/svampgrupp/sopp.png",cantharellales:"/images/svampgrupp/kantarell.png",spindlingar:"/images/svampgrupp/hattsvamp.png",russulales:"/images/svampgrupp/hattsvamp.png",thelephorales:"/images/svampgrupp/taggsvamp.png",ascomycota:"/images/svampgrupp/skalsvamp.png"},qr={trakthygge:[{age:0,text:"Avverkning"}],luckhuggning:[{age:0,text:"Avverkning 3 luckor"},{age:30,text:"Avverkning 3 luckor"},{age:60,text:"Avverkning 3 luckor"},{age:90,text:"Avverkning 3 luckor"}],bldning:[{age:0,text:"Avverkning 30% av trden"},{age:30,text:"Avverkning 30% av trden"},{age:60,text:"Avverkning 30% av trden"},{age:90,text:"Avverkning 30% av trden"}],skrmtrd:[{age:0,text:"Frberedande avverkning"},{age:10,text:"Frtrdsstllning"},{age:20,text:"Avverkning av frtrden"}]},ma=f(()=>(M.selectedArtkategori||[]).map(d=>(d||"").toLowerCase()));function pa(d){const b=(d||"").toLowerCase();return b==="kg matsvampar"?"kg matsvamp":b==="cortinariaceae"?"spindlingar":b==="ascomyceter"?"ascomycota":b}function Qt(d){if(!d)return Zt.total;const b=pa(d);return Zt[b]||Zt.total}const sr=f(()=>M.singleFrameworkSelection&&!M.frameworkComparisonMode?le.value[0]||ma.value[0]||"total":ma.value[0]||"total"),ft=f(()=>Qt(sr.value)),ir=d=>d==="matsvamp"&&vt.value==="goda"?"Goda matsvampar":d==="matsvamp"&&vt.value==="kg"?"Kg matsvampar":rt[d]||El(d);function gt(d){const b=d.toLowerCase();return b==="naturskydd"?"Ingen tgrd":b==="trakthygge"?"Trakhyggesbruk":b==="skrmtrd"?"verhllen skrm":El(d)}const Qe=["naturskydd","trakthygge","skrmtrd","luckhuggning","bldning"],Ba=f(()=>(M.selectedFrameworks||[]).map(d=>d.toLowerCase())),Da=f(()=>Ba.value.filter(d=>Qe.includes(d)&&!je.value.has(d))),ha=f(()=>{const d={};for(const b of Ba.value){const V=bt(b).map(y=>({age:Number(y.age),value:Number(y.klassning)})).filter(y=>Number.isFinite(y.age)&&Number.isFinite(y.value)).sort((y,_)=>y.age-_.age);d[b]=V}return d}),or=f(()=>{const d=Object.values(ha.value);if(!d.length)return[];let b=1/0,V=-1/0;const y=new Set;for(const _ of d)for(const R of _){const G=Number(R.age);Number.isFinite(G)&&(y.add(G),G<b&&(b=G),G>V&&(V=G))}if(!Number.isFinite(b)||!Number.isFinite(V))return[];for(let _=Math.floor(b);_<=Math.ceil(V)+1e-9;_+=1)y.add(Number(_.toFixed(6)));return Array.from(y).sort((_,R)=>_-R)});function Fa(d,b){const V=d.findIndex(R=>R.age===b);if(V!==-1)return d[V].value;let y=-1,_=-1;for(let R=0;R<d.length;R++)if(d[R].age<b&&(y=R),d[R].age>b){_=R;break}if(y!==-1&&_!==-1){const R=d[y],G=d[_],J=(b-R.age)/(G.age-R.age);return R.value+J*(G.value-R.value)}}const Hr=f(()=>{const d=[];for(const b of or.value){const V={age:b};if(M.singleFrameworkSelection&&!M.frameworkComparisonMode){const y=le.value.length?le.value:(M.selectedArtkategori||[]).map(R=>(R||"").toLowerCase()).filter(Boolean),_=Kr.value;for(const R of y){const G=_[R]||[],J=Fa(G,b);typeof J=="number"&&Number.isFinite(J)&&(V[R]=J)}}else for(const y of Da.value){const _=ha.value[y]||[],R=Fa(_,b);typeof R=="number"&&Number.isFinite(R)&&(V[y]=R)}d.push(V)}return d}),Kr=f(()=>{if(!(M.singleFrameworkSelection&&!M.frameworkComparisonMode))return{};const d={},b=le.value.length?le.value:(M.selectedArtkategori||[]).map(y=>(y||"").toLowerCase()).filter(Boolean),V=Array.isArray(nt.value)?nt.value:[];for(const y of V){const _=Number(y?.age);if(Number.isFinite(_))for(const R of b){const G=Number(y?.[R]);Number.isFinite(G)&&(d[R]=d[R]||[]).push({age:_,value:G})}}for(const y of Object.keys(d))d[y].sort((_,R)=>_.age-R.age);return d}),Ea=f(()=>le.value[0]||M.selectedArtkategori?.[0]?.toLowerCase()||""),Wr=f(()=>{if(!(M.singleFrameworkSelection&&M.frameworkComparisonMode&&M.chartType==="area"))return[];const d=Ea.value;if(!d)return[];const b=je.value,V=Qe.filter(_=>M.selectedFrameworks.map(R=>R.toLowerCase()).includes(_)&&!b.has(_)),y=[];for(const _ of or.value){const R={age:_};let G=!1;for(const J of V){const Be=ha.value[J]||[],ae=Fa(Be,_);if(typeof ae=="number"&&Number.isFinite(ae)){const ye=J+"__compare",Ne=R[ye]||{};Ne[d]=ae,R[ye]=Ne,G=!0}}G&&y.push(R)}return y});f(()=>{const d={},b=Array.isArray(nt.value)?nt.value:[];for(const V of Da.value)d[V]=b.filter(y=>Number.isFinite(Number(y?.age))&&Number.isFinite(Number(y?.[V]))).map(y=>({age:Number(y.age),value:Number(y[V]),__row:y})).sort((y,_)=>y.age-_.age);return d});const zt=f(()=>{if(M.singleFrameworkSelection){if(M.frameworkComparisonMode){const ae=Qe.filter(De=>M.selectedFrameworks.map(Fe=>Fe.toLowerCase()).includes(De)),ye=ft.value,Ne=.5;return ae.map((De,Fe)=>{const ta=gt(De),kt=je.value.has(De),fe=Fe===1?"#c3a283":ye;return{key:De,name:ta,label:ta,color:fe,colorArea:Ve(fe,Ne),colorLine:fe,inactive:kt}})}const y=(M.selectedArtkategori||[]).map(ae=>(ae||"").toLowerCase()).filter(Boolean),_=y.length?y:le.value.concat(Array.from(pe.value)),R=new Set(_),G=Ot.filter(ae=>R.has(ae)),J=Array.from(R).filter(ae=>!Ot.includes(ae)).sort();return G.concat(J).map(ae=>{const ye=Qt(ae),Ne=ir(ae);return{key:ae,name:Ne,label:Ne,color:ye,colorArea:Ve(ye,.5),colorLine:ye,inactive:pe.value.has(ae),icon:Jt[ae]}})}const d=Qe.filter(y=>M.selectedFrameworks.map(_=>_.toLowerCase()).includes(y)),b=ft.value,V=.5;return d.map((y,_)=>{const R=gt(y),G=je.value.has(y),J=_===1?"#c3a283":b;return{key:y,name:R,label:R,color:J,colorArea:Ve(J,V),colorLine:J,inactive:G}})}),Xe=f(()=>M.singleFrameworkSelection&&!M.frameworkComparisonMode?[]:zt.value.filter(d=>!d.inactive));U.TopOutside;const Ie=f(()=>{if(M.singleFrameworkSelection){if(M.frameworkComparisonMode)return Xe.value.map(b=>b.key);const d=(M.selectedFrameworks||[]).map(b=>(b||"").toLowerCase()).filter(b=>Qe.includes(b)).filter(b=>!je.value.has(b));return d.length?d:Da.value}return Xe.value.map(d=>d.key)});function ur(d){return d==="total"?Q.value:d==="matsvamp"?vt.value==="goda"?I.value:vt.value==="kg"?E.value:F.value:d==="goda matsvampar"?I.value:d==="rdlistade + signalarter"?O.value:d==="atheliales"?w.value:d==="boletales"?D.value:d==="cantharellales"?H.value:d==="spindlingar"?X.value:d==="russulales"?ce.value:d==="ascomycota"?W.value:d==="thelephorales"?q.value:[]}function cr(d){const b=d.toLowerCase();return b==="matsvamp"?lr.value:b}function bt(d){const b=M.selectedArtkategori.map(_=>_.toLowerCase()),V=M.selectedStartskog?M.selectedStartskog.toLowerCase():null,y=[];return b.forEach(_=>{const R=cr(_);(ur(_)||[]).forEach(J=>{J.artkategori?.toLowerCase()===R&&J.frameworks?.toLowerCase()===d.toLowerCase()&&(V&&(J.startskog?.toLowerCase()??V)!==V||y.push({age:J.lder,klassning:+J.klassning}))})}),y}const nt=f(()=>{if(M.relativeChart)return ne.value;const d=new Map;if(M.singleFrameworkSelection){const b=M.frameworkComparisonMode?(M.selectedFrameworks||[]).map(V=>V.toLowerCase()).slice(0,2):[M.selectedFrameworks[0]?.toLowerCase()].filter(Boolean);M.selectedArtkategori.forEach(V=>{const y=V.toLowerCase(),_=ur(y),R=M.selectedStartskog?M.selectedStartskog.toLowerCase():null,G=cr(y);b.forEach(J=>{(_||[]).filter(ae=>{const ye=ae.artkategori?.toLowerCase()===G,Ne=ae.frameworks?.toLowerCase()===J,De=!R||(ae.startskog?.toLowerCase()??R)===R;return ye&&Ne&&De}).map(ae=>({age:ae.lder,klassning:+ae.klassning})).forEach(ae=>{const ye=d.get(ae.age)||{age:ae.age};if(M.frameworkComparisonMode){const Ne=`${J}__compare`,De=ye[Ne]||{};De[y]=ae.klassning,ye[Ne]=De}else ye[y]=ae.klassning;d.set(ae.age,ye)})})})}else Ba.value.forEach(b=>{bt(b).forEach(y=>{const _=d.get(y.age)||{age:y.age};_[b]=y.klassning,d.set(y.age,_)})});return Array.from(d.values()).sort((b,V)=>b.age-V.age)}),Bt=d=>{const b=Number(d?.age);return Number.isFinite(b)?b:void 0},ea=f(()=>{if(M.singleFrameworkSelection){if(M.frameworkComparisonMode){const b=le.value[0]||M.selectedArtkategori[0]?.toLowerCase();return Xe.value.map(V=>{const y=V.key;return _=>{const G=_?.[`${y}__compare`]?.[b];return Number.isFinite(Number(G))?Number(G):NaN}})}return(le.value.length?le.value:M.selectedArtkategori.map(b=>b.toLowerCase())).filter(b=>!pe.value.has(b)).map(b=>V=>V[b])}return Xe.value.map(d=>b=>b[d.key])}),Yr=f(()=>M.singleFrameworkSelection?M.frameworkComparisonMode?Xe.value.map(b=>Ve(b.colorLine||b.color,.7)||"#000000"):(le.value.length?le.value:M.selectedArtkategori.map(b=>b.toLowerCase())).filter(b=>!pe.value.has(b)).map(b=>Qt(b)):Xe.value.map(d=>d.color||"#000000"));function $a(d){const b=(d.key||d.name||"").toLowerCase();if(b)if(M.singleFrameworkSelection)if(M.frameworkComparisonMode){const V=new Set(je.value);V.has(b)?V.delete(b):V.add(b),je.value=V}else{const V=new Set(pe.value);V.has(b)?V.delete(b):V.add(b),pe.value=V}else{const V=Qe.find(_=>_===b)||Qe.find(_=>gt(_).toLowerCase()===b);if(!V)return;const y=new Set(je.value);y.has(V)?y.delete(V):y.add(V),je.value=y}}const Gr=f(()=>!M.singleFrameworkSelection||M.frameworkComparisonMode?[]:le.value.map(d=>b=>fa(b,d))),Xr=f(()=>!M.singleFrameworkSelection||M.frameworkComparisonMode?[]:le.value.map(d=>Qt(d))),Ra=wa({age:0});function dr(d){return d?Object.keys(d).filter(V=>V!=="age"&&V!=="__markerY").some(V=>{const y=d[V];return y&&typeof y=="object"?Object.values(y).some(_=>Number.isFinite(Number(_))):Number.isFinite(Number(y))}):!1}const ja=f(()=>M.singleFrameworkSelection?M.frameworkComparisonMode?Xe.value.length:le.value.length:Xe.value.length),mt=f(()=>ja.value>0),vr=f(()=>{const d=ve.value;return ja.value?d.filter(b=>dr(b)):M.frameworkComparisonMode&&M.singleFrameworkSelection&&d.length?d.map(b=>{const V={age:b.age};for(const y of M.selectedFrameworks||[]){const _=y.toLowerCase();V[`${_}__compare`]={[le.value[0]||M.selectedArtkategori[0]?.toLowerCase()||""]:NaN}}return V}):d.length?d:[Ra]}),Zr=f(()=>{if(!be.value)return[];const d=Ie.value;if(!d.length)return[];const[b,V]=$e.value;if(!Number.isFinite(b)||!Number.isFinite(V)||b===V)return[];const y=[],_=G=>{const J=zt.value.find(ae=>ae.key===G);return J?.colorLine||J?.colorArea||J?.color||ft.value||"#64748b"},R=G=>{const J=zt.value.find(Be=>Be.key===G);return J?.colorLine||J?.color||ft.value||"#1f2937"};return d.forEach(G=>{const J=qr[G];if(!J?.length)return;const Be=_(G),ae=R(G);J.forEach((ye,Ne)=>{const De=Number(ye.age);Number.isFinite(De)&&(De<b||De>V||y.push({id:`${G}-${De}-${Ne}`,value:De,color:Be,labelText:ye.text,labelColor:ae}))})}),y});return(d,b)=>{const V=qn,y=pi;return g(),$("div",{class:"custom-area",ref_key:"rootEl",ref:we},[z(y,null,{default:N(()=>[ke.value&&be.value&&dt.value&&zt.value.length&&!(M.singleFrameworkSelection&&!M.frameworkComparisonMode)?(g(),P(k(rc),{key:0,items:zt.value,onLegendItemClick:$a,class:"mx-2 flex flex-wrap gap-2"},null,8,["items"])):j("",!0),ke.value&&be.value&&zt.value.length&&M.singleFrameworkSelection&&!M.frameworkComparisonMode?(g(),$("div",Yc,[(g(!0),$(_e,null,qe(zt.value,_=>(g(),P(V,{key:_.key,type:"button",variant:"ghost",color:"neutral",size:"sm",class:"flex items-center px-2 py-1 gap-2 hover:opacity-95 transition ring-muted/50",onClick:R=>$a(_)},{default:N(()=>[_.icon?(g(),$("div",{key:0,class:"h-5 w-5",style:ca({backgroundColor:_.color||_.colorLine||_.colorArea||"#000",WebkitMask:`url(${_.icon}) center / contain no-repeat`,mask:`url(${_.icon}) center / contain no-repeat`,opacity:_.inactive?.2:1})},null,4)):j("",!0),h("span",{style:ca({opacity:_.inactive?.2:1})},ee(_.label),5)]),_:2},1032,["onClick"]))),128))])):j("",!0),ke.value&&be.value?(g(),P(k(Xi),{key:2,data:vr.value.length?vr.value:[Ra],height:200,margin:Ye,xDomain:$e.value,yDomain:de.value},{default:N(()=>[M.chartType==="area"&&M.singleFrameworkSelection&&!M.frameworkComparisonMode?(g(),$(_e,{key:0},[z(k(wr),{x:Bt,y:Gr.value,color:Xr.value,interpolateMissingData:!0},null,8,["y","color"]),mt.value&&Ge.value!==null?(g(),P(k(bn),{key:0,axis:"x",from:-7,to:Ge.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):j("",!0),mt.value?(g(),P(k(Sr),{key:1,value:Ge.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):j("",!0)],64)):M.chartType==="area"&&M.singleFrameworkSelection&&M.frameworkComparisonMode?(g(),$(_e,{key:1},[(g(!0),$(_e,null,qe(Xe.value,_=>(g(),P(k(wr),{x:Bt,y:R=>tt(R,_.key,Ea.value),color:()=>_.colorArea||_.color,interpolateMissingData:!0,zIndex:1},null,8,["y","color"]))),256)),(g(!0),$(_e,null,qe(Xe.value,_=>(g(),P(k(zl),{x:Bt,y:R=>tt(R,_.key,Ea.value),color:()=>Ve(_.colorLine||_.color,.6)},null,8,["y","color"]))),256)),mt.value&&Ge.value!==null?(g(),P(k(bn),{key:0,axis:"x",from:-7,to:Ge.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):j("",!0),mt.value?(g(),P(k(Sr),{key:1,value:Ge.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):j("",!0)],64)):M.chartType==="area"?(g(),$(_e,{key:2},[(g(!0),$(_e,null,qe(Xe.value,_=>(g(),P(k(wr),{x:Bt,y:R=>za(R,_.key),color:()=>_.colorArea||_.color,interpolateMissingData:!0,zIndex:1},null,8,["y","color"]))),256)),(g(!0),$(_e,null,qe(Xe.value,_=>(g(),P(k(zl),{x:Bt,y:R=>za(R,_.key),color:()=>Ve(_.colorLine||_.color,.6)},null,8,["y","color"]))),256)),Mt.value?(g(!0),$(_e,{key:0},qe(Xe.value,_=>(g(),P(k(wr),{key:_.key+"-kg-x2",x:Bt,y:Ur(_.key),color:()=>"rgba(234,179,8,0.3)"},null,8,["y"]))),128)):j("",!0),mt.value&&Ge.value!==null?(g(),P(k(bn),{key:1,axis:"x",from:-7,to:Ge.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):j("",!0),mt.value?(g(),P(k(Sr),{key:2,value:Ge.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):j("",!0)],64)):M.chartType==="bar"?(g(),P(k(Qu),{key:3,color:Yr.value,x:Bt,y:ea.value,groupPadding:.5,groupMaxWidth:20},null,8,["color","y"])):j("",!0),(g(!0),$(_e,null,qe(Zr.value,_=>(g(),P(k(Sr),{axis:"x",value:_.value,color:"rgba(69,10,10, 0.5)",lineStyle:[2,3],label:_.labelText,labelColor:_.labelColor,zIndex:100,lineWidth:1},null,8,["value","label","labelColor"]))),256)),z(k(xl),{tickTextFontSize:"12px",gridLine:!0,type:"x",tickValues:Le.value,tickFormat:We},null,8,["tickValues"]),z(k(xl),{tickTextFontSize:"12px",type:"y"})]),_:1},8,["data","xDomain","yDomain"])):j("",!0)]),_:1})],512)}}}),Xc=Object.assign(Gc,{__name:"ForestryChartDisplay"}),Zc={class:"mt-2 mb-1 flex justify-between"},Jc={class:"pr-2"},Qc={class:"flex items-center gap-2"},ed=["src"],td={class:"flex items-center gap-2"},ad={key:0},rd={key:1},nd={key:2},ld={class:"px-4 pb-4 text-sm text-muted"},sd={key:3},id={class:"mx-2"},od={class:"flex flex-col gap-4"},ud=ze({__name:"ForestryChartMain",props:{parentSelectedFrameworks:{},currentTimeValue:{},currentStartskog:{},selectedChart:{}},emits:["update:selectedChart"],setup(e,{expose:t,emit:a}){const r=Hn("(max-width: 767px)"),l=e,o=a;B("naturskog"),B("naturskog"),B("naturskog");const u=B("trakthygge");B(!0),B(!1),B(!1),B(!1),B(!1),B(!1);const i=[{label:"Mngd mykorrhizasvamp",value:"skogsskole",icon:"i-lineicons-mushroom-1"},{label:"Svampgrupper",value:"grupper",icon:"i-material-symbols-category-rounded"},{label:"Naturvrdssvampar",value:"rodlistade",icon:"i-material-symbols-award-star"},{label:"Matsvampar",value:"matsvampar",icon:"icon-park-solid:knife-fork"}],c=B(i.some(W=>W.value===l.selectedChart)?l.selectedChart:i[0].value),x=f(()=>i.find(W=>W.value===c.value)?.icon),m=f(()=>(l.parentSelectedFrameworks?.length??0)===2);function p(W){i.some(q=>q.value===W)&&(c.value=W)}t({setSelectedChart:p}),re(()=>l.selectedChart,W=>{typeof W=="string"&&i.some(q=>q.value===W)&&c.value!==W&&(c.value=W)}),re(c,W=>{o("update:selectedChart",W)});const C=["atheliales","boletales","cantharellales","spindlingar","russulales","thelephorales","ascomycota"],L=B("area");B("area");const F=[{label:"Alla matsvampar",value:"standard",icon:"i-lineicons-mushroom-1"},{label:"Goda matsvampar",value:"goda",icon:"i-heroicons-star-16-solid"},{label:"Kg matsvampar",value:"kg",icon:"i-material-symbols-scale-outline-rounded"}],I=B("standard"),E=f(()=>I.value==="goda"?"goda matsvampar":"matsvamp"),T=f(()=>F.find(W=>W.value===I.value)?.icon),O=f(()=>I.value==="goda"?"Mngden av alla goda matsvampar i frhllande till frekomsten i ldre skog/fre avverkning (%).":I.value==="kg"?"Frskvikten av alla matsvampar (kg/ha) under en ssong i frhllande till frekomsten i ldre skog/fre avverkning. Medel- samt min-maxvrde.":"Mngden av alla matsvampar i marken frhllande till frekomsten i ldre skog/fre avverkning (%)."),w=f(()=>I.value==="kg"?55:28),D=B([...C]),H=[{label:"Skinnsvampar",value:"atheliales",icon:"/images/svampgrupp/skinnsvamp.png",avatar:{src:"/images/svampgrupp/skinnsvamp.png",alt:"Skinnsvampar"}},{label:"Soppar",value:"boletales",icon:"/images/svampgrupp/sopp.png",avatar:{src:"/images/svampgrupp/sopp.png",alt:"Soppar"}},{label:"Kantarellslktingar",value:"cantharellales",icon:"/images/svampgrupp/kantarell.png",avatar:{src:"/images/svampgrupp/kantarell.png",alt:"Kantarellslktingar"}},{label:"Spindelskivlingar",value:"spindlingar",icon:"/images/svampgrupp/hattsvamp.png",avatar:{src:"/images/svampgrupp/hattsvamp.png",alt:"Spindelskivlingar"}},{label:"Kremlor & riskor",value:"russulales",icon:"/images/svampgrupp/hattsvamp.png",avatar:{src:"/images/svampgrupp/hattsvamp.png",alt:"Kremlor & riskor"}},{label:"Tagg- och tomentelloida svampar",value:"thelephorales",icon:"/images/svampgrupp/taggsvamp.png",avatar:{src:"/images/svampgrupp/taggsvamp.png",alt:"Tagg- och tomentelloida svampar"}},{label:"Sporsckssvampar",value:"ascomycota",icon:"/images/svampgrupp/skalsvamp.png",avatar:{src:"/images/svampgrupp/skalsvamp.png",alt:"Sporsckssvampar"}}],X=B(H[0].value),ce=f(()=>H.find(W=>W.value===X.value)?.avatar);return re([c,m],([W,q])=>{W==="grupper"&&q||(X.value=H[0].value),W==="grupper"&&!q&&(D.value=[...C])}),re(()=>l.parentSelectedFrameworks?.length,()=>{c.value==="grupper"&&m.value&&(X.value=H[0].value)}),(W,q)=>{const Q=Yl,Y=Ga,te=Xc,ne=qn,de=hi;return g(),$("div",null,[h("div",Zc,[z(Q,{modelValue:c.value,"onUpdate:modelValue":q[0]||(q[0]=ve=>c.value=ve),items:i,"value-key":"value","option-attribute":"label",size:"xl",variant:"none",class:"hover:cursor-pointer",icon:x.value,ui:{content:"min-w-fit"}},null,8,["modelValue","icon"]),h("div",Jc,[c.value==="grupper"&&m.value?(g(),P(Q,{key:0,modelValue:X.value,"onUpdate:modelValue":q[1]||(q[1]=ve=>X.value=ve),items:H,"option-attribute":"label","value-key":"value",size:"lg",variant:"soft",placeholder:"Vlj svampgrupp",class:"hover:cursor-pointer rounded-full",ui:{content:"min-w-fit",value:"hidden sm:flex",base:"min-h-8"},avatar:ce.value},{item:N(({item:ve})=>[h("div",Qc,[ve.icon?(g(),$("img",{key:0,src:ve.icon,alt:"",class:"size-5 rounded-sm object-contain"},null,8,ed)):j("",!0),h("span",null,ee(ve.label),1)])]),_:1},8,["modelValue","avatar"])):j("",!0),c.value==="matsvampar"?(g(),P(Q,{key:1,modelValue:I.value,"onUpdate:modelValue":q[2]||(q[2]=ve=>I.value=ve),items:F,content:{align:"end",side:"bottom",sideOffset:8},"option-attribute":"label","value-key":"value",placeholder:"Vlj dataset",class:"hover:cursor-pointer rounded-full",size:"lg",variant:"soft",ui:{content:"w-fit shrink-0",value:"hidden sm:flex gap-0",base:"min-h-8",item:"gap-0"},icon:T.value},{item:N(({item:ve})=>[h("div",td,[ve.icon?(g(),P(Y,{key:0,name:ve.icon,class:"size-4"},null,8,["name"])):j("",!0),h("span",null,ee(ve.label),1)])]),_:1},8,["modelValue","icon"])):j("",!0)])]),h("div",null,[c.value==="skogsskole"?(g(),$("div",ad,[z(te,{selectedFrameworks:l.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","bldning","skrmtrd"],selectedArtkategori:["total"],chartType:L.value,maxYValue:130,currentTimeValue:l.currentTimeValue,frameworkComparisonMode:m.value},null,8,["selectedFrameworks","chartType","currentTimeValue","frameworkComparisonMode"]),q[3]||(q[3]=h("div",{class:"px-4 pb-4 text-sm text-muted"}," Mngd mykorrhizasvamp i marken i frhllande till frekomsten i ldre skog/fre avverkning (%). ",-1))])):j("",!0),c.value==="rodlistade"?(g(),$("div",rd,[z(te,{selectedFrameworks:l.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","bldning","skrmtrd"],selectedArtkategori:["rdlistade + signalarter"],chartType:L.value,selectedStartskog:l.currentStartskog,redColor:!0,maxYValue:.65,currentTimeValue:l.currentTimeValue,frameworkComparisonMode:m.value},null,8,["selectedFrameworks","chartType","selectedStartskog","currentTimeValue","frameworkComparisonMode"]),q[4]||(q[4]=h("div",{class:"px-4 pb-4 text-sm text-muted"}," Mngden av mykorrhizasvampar som r rdlistade/signalarter i marken i frhllande till frekomsten i ldre skog/fre avverkning (%). ",-1))])):j("",!0),c.value==="matsvampar"?(g(),$("div",nd,[z(te,{selectedFrameworks:l.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","bldning","skrmtrd"],selectedArtkategori:[E.value],chartType:L.value,selectedStartskog:l.currentStartskog,yellowColor:!0,maxYValue:w.value,currentTimeValue:l.currentTimeValue,matsvampVariant:I.value,frameworkComparisonMode:m.value},null,8,["selectedFrameworks","selectedArtkategori","chartType","selectedStartskog","maxYValue","currentTimeValue","matsvampVariant","frameworkComparisonMode"]),h("div",ld,ee(O.value),1)])):j("",!0),c.value==="grupper"?(g(),$("div",sd,[z(te,{selectedFrameworks:l.parentSelectedFrameworks??[u.value],selectedArtkategori:m.value?[X.value]:D.value,frameworkComparisonMode:m.value,chartType:L.value,singleFrameworkSelection:!0,selectedStartskog:l.currentStartskog,currentTimeValue:l.currentTimeValue},null,8,["selectedFrameworks","selectedArtkategori","frameworkComparisonMode","chartType","selectedStartskog","currentTimeValue"]),q[6]||(q[6]=h("div",{class:"px-4 pb-4 text-sm text-muted"}," Mngden av olika grupper svampar i frhllande till frekomsten i ldre skog/fre avverkning (%). ",-1)),h("div",id,[c.value==="grupper"?(g(),P(de,{key:0,fullscreen:!!k(r),title:"Relativ mngd",description:""},{body:N(()=>[h("div",od,[z(te,{selectedFrameworks:["trakthygge"],selectedArtkategori:C,chartType:"area",singleFrameworkSelection:!0,relativeChart:!0}),q[5]||(q[5]=h("p",{class:"text-sm text-muted"}," Den relativa frdelningen av olika grupper mykorrhizasvampar i frhllande till alla mykorrhizasvampar i ldre skog och vid olika skogsldrar efter avverkning. ",-1))])]),default:N(()=>[z(ne,{size:"lg",class:"px-3 w-full flex justify-center",color:"neutral",icon:"i-carbon-diagram-reference",label:"Visa diagram fr relativ mngd vid olika ldrar"})]),_:1},8,["fullscreen"])):j("",!0)])])):j("",!0)])])}}}),cd=Object.assign(Nl(ud,[["__scopeId","data-v-fc7ba2b2"]]),{__name:"ForestryChartMain"}),dd={slots:{root:"relative flex items-start",base:["inline-flex items-center shrink-0 rounded-full border-2 border-transparent focus-visible:outline-2 focus-visible:outline-offset-2 data-[state=unchecked]:bg-accented","transition-[background] duration-200"],container:"flex items-center",thumb:"group pointer-events-none rounded-full bg-default shadow-lg ring-0 transition-transform duration-200 data-[state=unchecked]:translate-x-0 data-[state=unchecked]:rtl:-translate-x-0 flex items-center justify-center",icon:["absolute shrink-0 group-data-[state=unchecked]:text-dimmed opacity-0 size-10/12","transition-[color,opacity] duration-200"],wrapper:"ms-2",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"data-[state=checked]:bg-primary focus-visible:outline-primary",icon:"group-data-[state=checked]:text-primary"},secondary:{base:"data-[state=checked]:bg-secondary focus-visible:outline-secondary",icon:"group-data-[state=checked]:text-secondary"},tertiary:{base:"data-[state=checked]:bg-tertiary focus-visible:outline-tertiary",icon:"group-data-[state=checked]:text-tertiary"},rodeodust:{base:"data-[state=checked]:bg-rodeodust focus-visible:outline-rodeodust",icon:"group-data-[state=checked]:text-rodeodust"},poison:{base:"data-[state=checked]:bg-poison focus-visible:outline-poison",icon:"group-data-[state=checked]:text-poison"},signal:{base:"data-[state=checked]:bg-signal focus-visible:outline-signal",icon:"group-data-[state=checked]:text-signal"},info:{base:"data-[state=checked]:bg-info focus-visible:outline-info",icon:"group-data-[state=checked]:text-info"},success:{base:"data-[state=checked]:bg-success focus-visible:outline-success",icon:"group-data-[state=checked]:text-success"},warning:{base:"data-[state=checked]:bg-warning focus-visible:outline-warning",icon:"group-data-[state=checked]:text-warning"},error:{base:"data-[state=checked]:bg-error focus-visible:outline-error",icon:"group-data-[state=checked]:text-error"},kalkmark:{base:"data-[state=checked]:bg-kalkmark focus-visible:outline-kalkmark",icon:"group-data-[state=checked]:text-kalkmark"},vanligmark:{base:"data-[state=checked]:bg-vanligmark focus-visible:outline-vanligmark",icon:"group-data-[state=checked]:text-vanligmark"},time:{base:"data-[state=checked]:bg-time focus-visible:outline-time",icon:"group-data-[state=checked]:text-time"},chetwood:{base:"data-[state=checked]:bg-chetwood focus-visible:outline-chetwood",icon:"group-data-[state=checked]:text-chetwood"},duststorm:{base:"data-[state=checked]:bg-duststorm focus-visible:outline-duststorm",icon:"group-data-[state=checked]:text-duststorm"},neutral2:{base:"data-[state=checked]:bg-neutral2 focus-visible:outline-neutral2",icon:"group-data-[state=checked]:text-neutral2"},neutral:{base:"data-[state=checked]:bg-inverted focus-visible:outline-inverted",icon:"group-data-[state=checked]:text-highlighted"}},size:{xs:{base:"w-7",container:"h-4",thumb:"size-3 data-[state=checked]:translate-x-3 data-[state=checked]:rtl:-translate-x-3",wrapper:"text-xs"},sm:{base:"w-8",container:"h-4",thumb:"size-3.5 data-[state=checked]:translate-x-3.5 data-[state=checked]:rtl:-translate-x-3.5",wrapper:"text-xs"},md:{base:"w-9",container:"h-5",thumb:"size-4 data-[state=checked]:translate-x-4 data-[state=checked]:rtl:-translate-x-4",wrapper:"text-sm"},lg:{base:"w-10",container:"h-5",thumb:"size-4.5 data-[state=checked]:translate-x-4.5 data-[state=checked]:rtl:-translate-x-4.5",wrapper:"text-sm"},xl:{base:"w-11",container:"h-6",thumb:"size-5 data-[state=checked]:translate-x-5 data-[state=checked]:rtl:-translate-x-5",wrapper:"text-base"}},checked:{true:{icon:"group-data-[state=checked]:opacity-100"}},unchecked:{true:{icon:"group-data-[state=unchecked]:opacity-100"}},loading:{true:{icon:"animate-spin"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75",description:"cursor-not-allowed opacity-75"}}},defaultVariants:{color:"primary",size:"md"}},vd=Object.assign({inheritAttrs:!1},{__name:"USwitch",props:Tr({as:{type:null,required:!1},color:{type:null,required:!1},size:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1},checkedIcon:{type:[String,Object],required:!1},uncheckedIcon:{type:[String,Object],required:!1},label:{type:String,required:!1},description:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},value:{type:String,required:!1},defaultValue:{type:Boolean,required:!1}},{modelValue:{type:Boolean,default:void 0},modelModifiers:{}}),emits:Tr(["change"],["update:modelValue"]),setup(e,{emit:t}){const a=e,r=gi(),l=t,o=Pl(e,"modelValue",{type:Boolean,default:void 0}),u=Ul(),i=bi(ql(a,"required","value","defaultValue")),{id:c,emitFormChange:x,emitFormInput:m,size:p,color:C,name:L,disabled:F,ariaAttrs:I}=Hl(a),E=c.value??ki(),T=f(()=>Vr({extend:Vr(dd),...u.ui?.switch||{}})({size:p.value,color:C.value,required:a.required,loading:a.loading,disabled:F.value||a.loading}));function O(w){const D=new Event("change",{target:{value:w}});l("change",D),x(),m()}return(w,D)=>(g(),P(k(da),{as:e.as,class:me(T.value.root({class:[a.ui?.root,a.class]}))},{default:N(()=>[h("div",{class:me(T.value.container({class:a.ui?.container}))},[z(k(Co),Gt({id:k(E)},{...k(i),...w.$attrs,...k(I)},{modelValue:o.value,"onUpdate:modelValue":[D[0]||(D[0]=H=>o.value=H),O],name:k(L),disabled:k(F)||e.loading,class:T.value.base({class:a.ui?.base})}),{default:N(()=>[z(k(To),{class:me(T.value.thumb({class:a.ui?.thumb}))},{default:N(()=>[e.loading?(g(),P(Ga,{key:0,name:e.loadingIcon||k(u).ui.icons.loading,class:me(T.value.icon({class:a.ui?.icon,checked:!0,unchecked:!0}))},null,8,["name","class"])):(g(),$(_e,{key:1},[e.checkedIcon?(g(),P(Ga,{key:0,name:e.checkedIcon,class:me(T.value.icon({class:a.ui?.icon,checked:!0}))},null,8,["name","class"])):j("",!0),e.uncheckedIcon?(g(),P(Ga,{key:1,name:e.uncheckedIcon,class:me(T.value.icon({class:a.ui?.icon,unchecked:!0}))},null,8,["name","class"])):j("",!0)],64))]),_:1},8,["class"])]),_:1},16,["id","modelValue","name","disabled","class"])],2),e.label||r.label||e.description||r.description?(g(),$("div",{key:0,class:me(T.value.wrapper({class:a.ui?.wrapper}))},[e.label||r.label?(g(),P(k(Oi),{key:0,for:k(E),class:me(T.value.label({class:a.ui?.label}))},{default:N(()=>[Ke(w.$slots,"label",{label:e.label},()=>[ua(ee(e.label),1)])]),_:3},8,["for","class"])):j("",!0),e.description||r.description?(g(),$("p",{key:1,class:me(T.value.description({class:a.ui?.description}))},[Ke(w.$slots,"description",{description:e.description},()=>[ua(ee(e.description),1)])],2)):j("",!0)],2)):j("",!0)]),_:3},8,["as","class"]))}}),fd={slots:{root:"relative flex items-center select-none touch-none",track:"relative bg-accented overflow-hidden rounded-full grow",range:"absolute rounded-full",thumb:"rounded-full bg-default ring-2 focus-visible:outline-2 focus-visible:outline-offset-2"},variants:{color:{primary:{range:"bg-primary",thumb:"ring-primary focus-visible:outline-primary/50"},secondary:{range:"bg-secondary",thumb:"ring-secondary focus-visible:outline-secondary/50"},tertiary:{range:"bg-tertiary",thumb:"ring-tertiary focus-visible:outline-tertiary/50"},rodeodust:{range:"bg-rodeodust",thumb:"ring-rodeodust focus-visible:outline-rodeodust/50"},poison:{range:"bg-poison",thumb:"ring-poison focus-visible:outline-poison/50"},signal:{range:"bg-signal",thumb:"ring-signal focus-visible:outline-signal/50"},info:{range:"bg-info",thumb:"ring-info focus-visible:outline-info/50"},success:{range:"bg-success",thumb:"ring-success focus-visible:outline-success/50"},warning:{range:"bg-warning",thumb:"ring-warning focus-visible:outline-warning/50"},error:{range:"bg-error",thumb:"ring-error focus-visible:outline-error/50"},kalkmark:{range:"bg-kalkmark",thumb:"ring-kalkmark focus-visible:outline-kalkmark/50"},vanligmark:{range:"bg-vanligmark",thumb:"ring-vanligmark focus-visible:outline-vanligmark/50"},time:{range:"bg-time",thumb:"ring-time focus-visible:outline-time/50"},chetwood:{range:"bg-chetwood",thumb:"ring-chetwood focus-visible:outline-chetwood/50"},duststorm:{range:"bg-duststorm",thumb:"ring-duststorm focus-visible:outline-duststorm/50"},neutral2:{range:"bg-neutral2",thumb:"ring-neutral2 focus-visible:outline-neutral2/50"},neutral:{range:"bg-inverted",thumb:"ring-inverted focus-visible:outline-inverted/50"}},size:{xs:{thumb:"size-3"},sm:{thumb:"size-3.5"},md:{thumb:"size-4"},lg:{thumb:"size-4.5"},xl:{thumb:"size-5"}},orientation:{horizontal:{root:"w-full",range:"h-full"},vertical:{root:"flex-col h-full",range:"w-full"}},disabled:{true:{root:"opacity-75 cursor-not-allowed"}}},compoundVariants:[{orientation:"horizontal",size:"xs",class:{track:"h-[6px]"}},{orientation:"horizontal",size:"sm",class:{track:"h-[7px]"}},{orientation:"horizontal",size:"md",class:{track:"h-[8px]"}},{orientation:"horizontal",size:"lg",class:{track:"h-[9px]"}},{orientation:"horizontal",size:"xl",class:{track:"h-[10px]"}},{orientation:"vertical",size:"xs",class:{track:"w-[6px]"}},{orientation:"vertical",size:"sm",class:{track:"w-[7px]"}},{orientation:"vertical",size:"md",class:{track:"w-[8px]"}},{orientation:"vertical",size:"lg",class:{track:"w-[9px]"}},{orientation:"vertical",size:"xl",class:{track:"w-[10px]"}}],defaultVariants:{size:"md",color:"primary"}},md={__name:"USlider",props:Tr({as:{type:null,required:!1},size:{type:null,required:!1},color:{type:null,required:!1},orientation:{type:null,required:!1,default:"horizontal"},tooltip:{type:[Boolean,Object],required:!1},defaultValue:{type:[Number,Array],required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},name:{type:String,required:!1},disabled:{type:Boolean,required:!1},inverted:{type:Boolean,required:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},minStepsBetweenThumbs:{type:Number,required:!1}},{modelValue:{type:null},modelModifiers:{}}),emits:Tr(["change"],["update:modelValue"]),setup(e,{emit:t}){const a=e,r=t,l=Pl(e,"modelValue"),o=Ul(),u=yi(ql(a,"as","orientation","min","max","step","minStepsBetweenThumbs","inverted"),r),{id:i,emitFormChange:c,emitFormInput:x,size:m,color:p,name:C,disabled:L,ariaAttrs:F}=Hl(a),I=f(()=>typeof a.defaultValue=="number"?[a.defaultValue]:a.defaultValue),E=f({get(){return typeof l.value=="number"?[l.value]:l.value??I.value},set(D){l.value=D?.length!==1?D:D[0]}}),T=f(()=>E.value?.length??1),O=f(()=>Vr({extend:Vr(fd),...o.ui?.slider||{}})({disabled:L.value,size:m.value,color:p.value,orientation:a.orientation}));function w(D){const H=new Event("change",{target:{value:D}});r("change",H),c()}return(D,H)=>(g(),P(k(fo),Gt({...k(u),...k(F)},{id:k(i),modelValue:E.value,"onUpdate:modelValue":[H[0]||(H[0]=X=>E.value=X),H[1]||(H[1]=X=>k(x)())],name:k(C),disabled:k(L),class:O.value.root({class:[a.ui?.root,a.class]}),"default-value":I.value,onValueCommit:w}),{default:N(()=>[z(k(xo),{class:me(O.value.track({class:a.ui?.track}))},{default:N(()=>[z(k(ho),{class:me(O.value.range({class:a.ui?.range}))},null,8,["class"])]),_:1},8,["class"]),(g(!0),$(_e,null,qe(T.value,X=>(g(),$(_e,{key:X},[e.tooltip?(g(),P(xi,Gt({key:0,text:T.value>1?String(E.value?.[X-1]):String(E.value),"disable-closing-trigger":""},{ref_for:!0},typeof e.tooltip=="object"?e.tooltip:{}),{default:N(()=>[z(k(_l),{class:me(O.value.thumb({class:a.ui?.thumb}))},null,8,["class"])]),_:2},1040,["text"])):(g(),P(k(_l),{key:1,class:me(O.value.thumb({class:a.ui?.thumb}))},null,8,["class"]))],64))),128))]),_:1},16,["id","modelValue","name","disabled","class","default-value"]))}},pd={class:"absolute inset-0",style:{"z-index":"0"}},hd={class:"flex h-full relative"},gd={class:"absolute text-end right-3 top-2"},bd={class:"absolute top-2 left-3"},kd={key:1,class:"flex w-full h-full gap-1"},yd={class:"w-1/2 h-full"},xd={class:"w-1/2 h-full"},_d={__name:"CustomImageComparisonSlider",props:{frameworkLabel:{type:String,default:""},timeLabel:{type:String,default:""},frameworkLabel2:{type:String,default:""},timeLabel2:{type:String,default:""},layoutMode:{type:String,default:"slider"}},setup(e,{expose:t}){Hn("(max-width: 767px)");const a=e,r=B(a.layoutMode);re(()=>a.layoutMode,L=>{(L==="slider"||L==="side-by-side"||L==="sideBySide")&&(r.value=L)});const l=B(null),o=B(.5);let u=!1;function i(L){if(!l.value)return;const F=l.value.getBoundingClientRect();let E=((L.touches?L.touches[0].clientX:L.clientX)-F.left)/F.width;E=Math.max(0,Math.min(E,1)),o.value=E}function c(L){r.value==="slider"&&(u=!0,i(L),window.addEventListener("mousemove",x),window.addEventListener("mouseup",m),window.addEventListener("touchmove",x),window.addEventListener("touchend",m))}function x(L){u&&i(L)}function m(){u=!1,window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",m),window.removeEventListener("touchmove",x),window.removeEventListener("touchend",m)}function p(){r.value=r.value==="slider"?"sideBySide":"slider"}function C(L){(L==="slider"||L==="sideBySide")&&(r.value=L)}return t({toggleLayoutMode:p,setLayoutMode:C}),ht(()=>{o.value=.5}),(L,F)=>{const I=Kl;return r.value==="slider"?(g(),$("div",{key:0,ref_key:"container",ref:l,class:"relative w-full h-full overflow-hidden select-none"},[h("div",pd,[Ke(L.$slots,"second")]),h("div",{class:"absolute inset-0 overflow-hidden",style:ca({clipPath:"inset(0 calc(100% - "+o.value*100+"%) 0 0)",zIndex:10})},[Ke(L.$slots,"first")],4),h("div",{class:"absolute top-0 flex items-center justify-center h-full w-10 cursor-ew-resize",style:ca({left:o.value*100+"%",transform:"translateX(-50%)",zIndex:20}),onMousedown:c,onTouchstart:c},[h("div",hd,[h("div",gd,[z(I,{size:"lg",class:"backdrop-blur-xl bg-neutral-950/50 text-neutral-100 h-fit whitespace-nowrap"},{default:N(()=>[ua(ee(e.timeLabel),1)]),_:1})]),F[0]||(F[0]=h("div",{class:"h-full w-1.5 bg-neutral-100/90 backdrop-blur-md inset-shadow-sm inset-shadow-neutral-400"},null,-1)),h("div",bd,[z(I,{size:"lg",class:"backdrop-blur-xl bg-neutral-950/50 text-neutral-100 h-fit whitespace-nowrap"},{default:N(()=>[ua(ee(e.timeLabel2),1)]),_:1})])])],36)],512)):r.value==="sideBySide"?(g(),$("div",kd,[h("div",yd,[Ke(L.$slots,"first")]),h("div",xd,[Ke(L.$slots,"second")])])):j("",!0)}}},wd=Kn("onboardingStore",{state:()=>({selectedStartskog:0,selectedFramework:1})}),Sd=[{id:"manga_arter_pa_trad",title:"Mnga arter p ett trd",text:"P rtterna av ldre trd kan det finnas mycel av 50-100 olika arter mykorrhizasvampar.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["fre"],placement:"LEFT"},{framework:["trakthygge"],times:["fre"],placement:"LEFT"},{framework:["bldning"],times:["frr"],placement:"LEFT"},{framework:["skrmtrd"],times:["fre"],placement:"LEFT"},{framework:["luckhuggning"],times:["fre"],placement:"LEFT"}]},{id:"mykorrhiza_dar_det_finns_rotter",title:"Mykorrhiza dr det finns rtter",text:"Mykorrhizasvamparnas mycel finns lika djupt ner i marken som rtter nr, och s lngt trds rtter breder ut sig, 10-15 meter frn stammen. Men det r rikligast med mykorrhiza nrmast trdet och i de versta 10 cm av skogsmarken.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["fre"],placement:"LEFT"},{framework:["trakthygge"],times:["fre"],placement:"LEFT"},{framework:["bldning"],times:["frr"],placement:"LEFT"},{framework:["skrmtrd"],times:["fre"],placement:"LEFT"},{framework:["luckhuggning"],times:["fre"],placement:"LEFT"}]},{id:"matsvampsmycel_kort_tid",title:"Matsvamp efter avverkning",text:"Nstan alla matsvampar r mykorrhizasvampar och frsvinner efter avverkning. De verlever om dess mycel vxer med hnsynstrd som lmnats eller nra en skogskant. Annars behver de teretableras i ungskog frn sporer som sprids in frn nraliggande skogar.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["trakthygge"],times:["efter"],placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],placement:"LEFT"}]},{id:"matsvampsmycel_i_aldrre_skog",title:"Mer matsvamp i ldre skog",text:"Mngden matsvampar r strre i ldre skog eftersom strre trd har hgre fotosyntes och kan skicka ner mer socker till sina rtter.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["fre","efter","10","20","50","80"],placement:"LEFT"},{framework:["trakthygge"],times:["fre","50","80"],placement:"LEFT"},{framework:["bldning"],times:["fre","efter","10","20","50","80"],placement:"LEFT"},{framework:["skrmtrd"],times:["fre","50","80"],placement:"LEFT"},{framework:["luckhuggning"],times:["fre","50","80"],placement:"LEFT"}]},{id:"mycel_av_rodlistade_svampar",title:"Rdlistade svampar",text:"Rdlistade mykorrhizasvampar har ofta speciella miljkrav, och frekommer frmst i ldre skog. Generellt kan mycel av mykorrhizasvampar leva vidare p en plast s lnge det finns levande trd. Svampindividers mycel kan bli mnga decennier till potentiellt sekler gamla.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-award-star-outline",color:"signal-500",positions:[{framework:["naturskydd"],times:["fre","efter","10","20","50","80"],placement:"LEFT"},{framework:["trakthygge"],times:["fre"],placement:"LEFT"},{framework:["bldning"],times:["fre"],placement:"LEFT"},{framework:["skrmtrd"],times:["fre"],placement:"LEFT"},{framework:["luckhuggning"],times:["fre"],placement:"LEFT"}]},{id:"hogstubbe",title:"Hgstubbe",text:"Hr finns inga levande mykorrhizamycel. Trdets rtter r dda.",thumbnail:"/images/Skogsbruk.png",icon:"i-fluent-emoji-high-contrast-wood",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter"],x:.51,y:.26,placement:"LEFT"},{framework:["trakthygge"],times:["efter"],x:.621,y:.3,placement:"LEFT"}]},{id:"stubbe",title:"Stubbe",text:"Trdets fotosyntes och flde av energi till sina rtter har upphrt. Efter avverkning tynar mykorrhizasvamparna bort och dr efter ett par mnader - ett r.",thumbnail:"/images/Skogsbruk.png",icon:"i-fluent-emoji-high-contrast-wood",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter"],x:.422,y:.185,placement:"LEFT"},{framework:["trakthygge"],times:["efter"],x:.573,y:.32,placement:"LEFT"}]},{id:"hansynstrad",title:"Hnsynstrd",text:"De flesta mykorrhizasvamparna som vxte med trdets rtter i skogen fre avverkningen finns kvar och lever vidare. Dessa mycel kan vxa in i och spridas till uppvxande trdplantor.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-tree-circle",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter","20","50","80"],x:.335,y:.38,placement:"LEFT"},{framework:["trakthygge"],times:["efter","20","50","80"],x:.4502,y:.2228,placement:"LEFT"},{framework:["skrmtrd"],times:["20","50","80"],x:.469,y:.2577,placement:"LEFT"}]},{id:"grupp_av_hansynstrad",title:"Grupp av hnsynstrd",text:"De flesta mykorrhizasvampar som vxte i denna trdgrupps rtter fre avverkningen finns kvar och lever vidare. Fanns det mat- och naturvrdssvampar, kan de fortleva.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-tree-circle",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter","20","50","80"],x:.3736,y:.2832,placement:"LEFT"}]},{id:"sjalforyngrade_sma_tradplantor",title:"Sjlvfryngrade trdplantor",text:"Sm mycel av mykorrhizasvampar vxer i plantornas rtter. Om de vxer nra hnsynstrd kan mycel vuxint in frn dessas rtter. Annars etableras mycel frn svampsporer som sprid in frn nraliggande skogar. Vissa svamparter har ocks en sporbank i marken.",thumbnail:"/images/Skogsbruk.png",icon:"i-hugeicons-plant-03",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.4344,y:.1971,placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],x:.4344,y:.1971,placement:"LEFT"}]},{id:"planterade_sma_tradplantor",title:"Planterade sm trdplantor",text:"Har med sig spontant etablerad mykorrhiza frn plantskolan dr de odlades upp. Det r dock f arter. Dessa erstts succesivt med bttre anpassade och svamparter som finns p platsen.",thumbnail:"/images/Skogsbruk.png",icon:"i-hugeicons-plant-02",color:"neutral-500",positions:[{framework:["trakthygge"],times:["20"],x:.45,y:.32,placement:"LEFT"}]},{id:"yngre_trad_vid_avverkningen",title:"Yngre trd som lmnats",text:"Undviks underrjning fre avverkning, kommer mykorrhizasvampar att verleva p dessa plantor och trd p samma stt som de gr p rtterna av hnsynstrd.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-seedling-circle",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.33,y:.37,placement:"LEFT"}]},{id:"tradkant_mot_avverkning",title:"Trdkant mot avverkning",text:"Mykorrhizasvampars mycel vxer med i skogskantstrdens rtter s lngt de strcker sig in p avverkningen. Mest nrmast skogskanten, men nr 1015 meter in p hygget.",thumbnail:"/images/Skogsbruk.png",icon:"i-healthicons-square-medium-negative",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter","20"],x:.46,y:.409,placement:"LEFT"},{framework:["luckhuggning"],times:["efter","20"],x:.64,y:.352,placement:"LEFT"},{framework:["luckhuggning"],times:["50"],x:.511,y:.3245,placement:"LEFT"},{framework:["luckhuggning"],times:["80"],x:.3278,y:.2383,placement:"LEFT"}]},{id:"tomma_omraden_avverkning",title:"Tomma omrden ",text:"Vid omrden utan nra trd och smplantor direkt efter avverkning finns inte mykorrhizasvampar. I mark dr det saknas trdrtter finns inte mykorrhizasvampar. Ngra, men f mykorrhizasvampar har en sporbank.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.6095,y:.2081,placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],x:.485,y:.292,placement:"LEFT"}]}],Cd={annotations:Sd},Ad=Kn("selectedAnnotation",{state:()=>({selectedAnnotation:null}),actions:{setSelectedAnnotation(e){this.selectedAnnotation=e},clearSelectedAnnotation(){this.selectedAnnotation=null}}}),Td=Kn("overlay",{state:()=>({staticOverlayVisible:!1}),actions:{toggleStaticOverlay(){this.staticOverlayVisible=!this.staticOverlayVisible},setStaticOverlayVisible(e){this.staticOverlayVisible=e}}}),Nn={retention:{slug:"retention-trees",fields:{framework:"framework",startskog:"startskog",time:"time"}},seedTree:{slug:"seed-trees",fields:{framework:"framework",startskog:"startskog",time:"time"}},smaplantor:{slug:"smaplantor",fields:{framework:"framework",startskog:"startskog",time:"time"}},hogstubbar:{slug:"hogstubbar",fields:{framework:"framework",startskog:"startskog",time:"time"}},naturvardsarter:{slug:"naturvard",fields:{framework:"framework",startskog:"startskog",time:"time"}},kanteffekt:{slug:"kanteffekt",fields:{framework:"framework",startskog:null,time:"start"}}},kn=Object.keys(Nn);function Za(e){return e?e.replace(/_+$/g,""):e??null}function yn(e,t,a=!0){if(!t)return!1;if(e==null)return!0;const r=Za(t);return Array.isArray(e)?a&&e.includes("alla")||e.some(l=>Za(String(l))===r):typeof e=="string"?a&&e==="alla"?!0:Za(e)===r:!1}function $l(e,t,a,r={}){const{ignoreStartskog:l=!1}=r,{fields:o}=a;return e.filter(u=>{if(!u)return!1;if(o.framework){const i=u[o.framework];if(!yn(i,t.framework,!1))return!1}if(o.startskog&&!l&&t.startskog){const i=u[o.startskog];if(!yn(i,t.startskog,!0))return!1}if(o.time){const i=u[o.time];if(!yn(i,t.time,!0))return!1}return!0})}function Vd(e,t,a){if(!Array.isArray(e)||e.length===0)return[];if(!t?.framework||!t?.time)return e;const r={framework:Za(t.framework),startskog:Za(t.startskog),time:t.time};if(a.slug==="retention-trees"){const u=r.framework,i=r.time;return!u||u==="naturskydd"?[]:!i||i==="innan"?[]:(Array.isArray(e)?e:[]).map(x=>({...x,framework:"alla",startskog:"alla",time:"alla"}))}let o=$l(e,r,a);return o.length===0&&a.fields.startskog&&r.startskog&&(o=$l(e,r,a,{ignoreStartskog:!0})),o}const Ld=["innan","efter","10 r","20 r","50 r","80 r"],Md={retention:!0,kanteffekt:!0,rottacke:!0,seedTree:!0,smaplantor:!0,hogstubbar:!0,naturvardsarter:!0,tradplantor:!0};function Od(e){const t=e.framework,a=e.time;if(!t||!a)return!0;const r=t==="skrmtrd"||t==="skarmtrad",l=t==="bldning"||t==="bladning",o=r&&a==="efter",u=l&&["efter","20 r","50 r","80 r"].includes(a);return o||u}function zd(e){const t=e.framework,a=e.time;return!t||!a?!0:t==="trakthygge"&&a==="20 r"}async function xa(e){try{return await $fetch(e)}catch{return null}}function Bd(e){switch(e){case"bldning":return["bldning","bladning"];case"skrmtrd":return["skrmtrd","skarmtrad"];default:return[e]}}function Dd(e){if(!e||typeof e!="object")return[];const t=Array.isArray(e.points)?e.points:[],a=new Map;t.length&&t.forEach(C=>{C?.id!=null&&a.set(C.id,C)});const r=e.startskogSets??null,l=e.markers??{},o=e.defaults??{},u=e.frameworks??{},i=Array.isArray(e.timelineOrder)?[...e.timelineOrder]:[...Ld],c=new Set(i);Object.values(u).forEach(C=>{!C||typeof C!="object"||Object.values(C).forEach(L=>{Array.isArray(L)&&L.forEach(F=>{const I=F?.time;I&&!c.has(I)&&(c.add(I),i.push(I))})})});const x=i,m=new Map;t.length&&r&&typeof r=="object"?Object.entries(r).forEach(([C,L])=>{const F=new Map;Array.isArray(L)&&L.forEach(I=>{const E=a.get(I);E&&F.set(I,E)}),m.set(C,F)}):Object.entries(l).forEach(([C,L])=>{const F=new Map;Array.isArray(L)&&L.forEach(I=>{I?.id!=null&&F.set(I.id,I)}),m.set(C,F)});const p=[];return Object.entries(u).forEach(([C,L])=>{const F=Bd(C),I=L??{};m.forEach((E,T)=>{if(!E||E.size===0)return;const O=Array.from(E.keys()),w=Array.isArray(o[T])?o[T]:O;let D=new Set(w),H=new Set;const X=Array.isArray(I[T])?I[T]:[],ce=new Map;X.forEach(W=>{W?.time&&ce.set(W.time,W)}),x.forEach(W=>{let q=new Set(D);const Q=ce.get(W);Q&&(Q.set&&(Q.set==="base"?q=new Set(w):Q.set==="all"?q=new Set(O):Array.isArray(Q.set)&&(q=new Set(Q.set))),Array.isArray(Q.remove)&&Q.remove.forEach(Y=>{q.delete(Y),H.add(Y)}),Array.isArray(Q.add)&&Q.add.forEach(Y=>{q.add(Y),H.delete(Y)})),D.forEach(Y=>{q.has(Y)||H.add(Y)}),q.forEach(Y=>{H.has(Y)&&H.delete(Y)}),F.forEach(Y=>{q.forEach(te=>{const ne=E.get(te)||a.get(te);ne&&p.push({id:ne.id,x:ne.x,y:ne.y,framework:Y,startskog:T,time:W,removed:!1})}),H.forEach(te=>{const ne=E.get(te)||a.get(te);ne&&p.push({id:ne.id,x:ne.x,y:ne.y,framework:Y,startskog:T,time:W,removed:!0})})}),D=new Set(q)})})}),p}function Fd(e){return e?Array.isArray(e.mycelium)?e.mycelium:e.markers&&e.frameworks||e.points&&e.startskogSets&&e.frameworks?Dd(e):[]:[]}async function Ed(){const e=["/smplantor.json","/smaplantor.json"];for(const t of e){const a=await xa(t);if(a)return a}return null}function $d(){const{data:e,pending:t}=_a("overlay-datasets-json",async()=>{const[i,c,x,m,p,C]=await Promise.all([xa("/retentionTrees.json"),xa("/api/seedTrees"),Ed(),xa("/hogstubbar.json"),xa("/naturvard.json"),xa("/api/kanteffekt")]);return{"retention-trees":Array.isArray(i?.trees)?i.trees:[],"seed-trees":Array.isArray(c?.trees)?c.trees:[],smaplantor:Array.isArray(x?.trees)?x.trees:Array.isArray(x)?x:[],hogstubbar:Array.isArray(m?.stubbar)?m.stubbar:[],naturvard:Fd(p),kanteffekt:Array.isArray(C?.features)?C.features:[]}}),a={};kn.forEach(i=>{const c=Nn[i].slug;a[i]={data:f(()=>e.value?.[c]??[]),pending:f(()=>t.value)}});const r=(i,c)=>Vd(a[i].data.value,c,Nn[i]),l=i=>{const c={};return kn.forEach(x=>{c[x]=r(x,i)}),c},o=i=>{if(!i?.framework||!i?.time||!i?.startskog)return{...Md};const c=l(i);return{retention:a.retention.pending.value||c.retention.length>0,kanteffekt:a.kanteffekt.pending.value||c.kanteffekt.length>0,rottacke:Od(i),seedTree:a.seedTree.pending.value||c.seedTree.length>0,smaplantor:a.smaplantor.pending.value||c.smaplantor.length>0,hogstubbar:a.hogstubbar.pending.value||c.hogstubbar.length>0,naturvardsarter:a.naturvardsarter.pending.value||c.naturvardsarter.length>0,tradplantor:zd(i)}},u=f(()=>t.value||kn.some(i=>a[i].pending.value));return{datasets:a,filterDataset:r,filterAll:l,availabilityFor:o,pendingAny:u}}const sa=wa({open:!1,key:null,anchor:null});function Rd(e){if(e instanceof HTMLElement){const t=e.getBoundingClientRect();return{x:t.left,y:t.top,width:t.width,height:t.height}}return e}function jd(){function e(a,r){const l=Rd(r);sa.key=a,sa.anchor=l,sa.open=!0}function t(){sa.open=!1,sa.key=null,sa.anchor=null}return{...er(sa),show:e,hide:t}}const Id={class:"relative flex flex-col w-full h-dvh"},Nd={class:"space-y-0.5 p-3"},Pd={class:"grid grid-cols-2 gap-2"},Ud={class:"flex flex-col text-center items-center w-full space-y-1"},qd={class:"flex flex-col text-center items-center w-full space-y-1"},Hd={class:"p-3 flex flex-col gap-3"},Kd={class:"flex flex-wrap gap-1"},Wd={class:"w-full sm:flex items-center justify-center border-muted sm:p-1"},Yd={class:"flex w-full sm:w-fit h-fit justify-center p-0 pb-0 sm:pb-0 items-center"},Gd={key:0,class:"absolute top-3 right-3"},Xd={class:"flex justify-center sm:p-1 border-b border-muted"},Zd={class:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-50 p-4 sm:p-0 space-y-2 sm:space-y-0 pointer-events-none sm:flex gap-2 items-center"},Jd={class:"relative"},Qd={key:0,class:""},ev={class:"space-y-2"},tv=["innerHTML"],av={class:"space-y-2"},rv=["innerHTML"],nv={key:1,class:"text-sm text-neutral-400"},lv={key:1,class:"sm:hidden"},sv={class:"flex items-center justify-between gap-3"},iv={class:"text-sm font-medium text-neutral-700"},ov={key:0},uv={class:"space-y-2"},cv=["innerHTML"],dv={class:"space-y-2"},vv=["innerHTML"],fv={key:1,class:"text-sm text-neutral-400"},mv={class:"flex items-start justify-between gap-3"},pv={class:"flex items-start gap-2"},hv={class:"text-base font-semibold text-neutral-800"},gv={class:"flex gap-1"},bv={class:"text-sm text-neutral-600 leading-relaxed"},kv={class:"flex sm:justify-center items-center overflow-x-scroll md:overflow-hidden my-1 sm:my-0 gap-4 px-3"},yv={class:"flex items-center gap-2"},xv={key:0},_v={class:"p-1 flex flex-col gap-1"},wv={class:"ui-zoom-reapply relative flex flex-col flex-1 w-full"},Sv={class:"flex flex-1"},Cv={class:"absolute top-3 left-3 z-50"},Av={class:"flex items-center gap-2"},Tv={class:"flex w-full mt-4"},Vv={class:"flex flex-col gap-2 p-4"},Lv={class:"flex w-full"},Mv={class:"flex w-full justify-between"},Ov={class:"flex w-full justify-between"},zv={key:0,class:"space-y-1.5 sm:p-4 p-2 pt-3 max-w-sm z-50 absolute top-0 right-0 transform-all text-end pointer-events-none"},Bv={class:"flex items-center gap-1"},Dv={key:1},Fv={class:"p-3 space-y-2"},Ev={class:"flex w-full justify-between"},$v={class:"flex items-start gap-2"},Rv={class:"text-sm font-semibold text-neutral-800"},jv={key:0,class:"text-sm text-neutral-600 leading-relaxed"},Iv={key:1,class:"text-xs text-neutral-400"},Nv={key:0,class:"absolute p-2 w-full"},Pv={class:"flex justify-between p-2 items-center mb-2"},Uv={class:"flex items-center justify-between gap-2"},qv={class:"flex items-center gap-1"},Hv={class:"min-w-[3ch] text-sm text-neutral-700 dark:text-neutral-200 text-center"},Kv={key:0,class:"space-y-2 w-full"},Wv={class:"flex flex-col"},Yv={class:"text-md font-medium"},Gv={key:0,class:"text-sm text-neutral-500"},Xv={class:"flex flex-col"},Zv={class:"text-md font-medium"},Jv={key:0,class:"text-sm text-neutral-500"},Qv={class:"flex flex-col"},ef={class:"text-md font-medium"},tf={key:0,class:"text-sm text-neutral-500"},af={class:"w-full mt-1 relative"},rf={class:""},nf={class:"space-y-2"},lf={class:"relative flex-1"},sf={key:0,class:"w-full h-full"},of={key:0,class:"absolute inset-y-0 right-0 w-68 bg-white dark:bg-neutral-950/70 backdrop-blur-2xl overflow-auto z-10 pointer-events-auto border-neutral-300 dark:border-neutral-700 border-l"},uf={class:"px-4 py-2"},cf={class:"text-lg font-semibold text-neutral-800 dark:text-neutral-200"},df={class:"text-neutral-400"},vf={key:1,class:me(["absolute max-h-screen z-50 top-0 w-sm left-0 overflow-auto transition-all shadow-2xl border-r bg-white border-neutral-100/10 rounded-br-sm duration-300 ease-in-out backdrop-blur-2xl hide-scrollbar"])},ff={class:"p-4"},mf={key:0},pf={class:"text-xl font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},hf={class:"p-2 flex flex-col gap-2"},gf=["onClick"],bf={class:"font-medium"},kf={class:"text-sm text-neutral-300"},yf={class:"flex justify-between"},xf={class:"text-md text-neutral-200"},_f={key:0,class:"my-4"},wf=["innerHTML"],Sf=["innerHTML"],Cf={key:1,class:"my-4 text-neutral-300 text-sm"},Af={key:1,class:"space-y-2"},Tf={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},Vf={class:"p-2 flex flex-col gap-2"},Lf=["onClick"],Mf={class:"font-medium"},Of={class:"text-sm text-neutral-300"},zf={class:"flex justify-between"},Bf={key:0,class:"my-4"},Df=["innerHTML"],Ff=["innerHTML"],Ef={class:"flex justify-between"},$f={class:"text-md text-neutral-200"},Rf={key:0,class:"my-4"},jf=["innerHTML"],If=["innerHTML"],Nf={key:2,class:"space-y-2"},Pf={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},Uf={class:"p-2 flex flex-col gap-2"},qf=["onClick"],Hf={class:"font-medium"},Kf={class:"text-sm text-neutral-300"},Wf={class:"flex justify-between"},Yf={class:"text-md text-neutral-200"},Gf={key:0,class:"my-4"},Xf=["innerHTML"],Zf=["innerHTML"],Jf={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},Qf={class:"p-2 flex flex-col gap-2"},em=["onClick"],tm={class:"font-medium"},am={class:"text-sm text-neutral-300"},rm={class:"flex justify-between"},nm={class:"text-md text-neutral-200"},lm={key:0,class:"my-4"},sm=["innerHTML"],im=["innerHTML"],om={class:"grid grid-cols-2 gap-4"},um={class:"w-full"},cm={class:"w-full"},xn="rodlistade",dm=220,Rl="Ingen tidslinjeinformation hittades fr den hr kombinationen.",vm=ze({__name:"Model",emits:["close"],async setup(e,{emit:t}){let a,r;const l=Ti(()=>Li(()=>import("./Cmo8c5gD.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url));let o;const u=wa({}),i=$d(),{hide:c}=jd(),x=B(null);function m(s){if(!s)return null;if(typeof s=="string")return s;if(typeof s=="object"){if("value"in s&&typeof s.value=="string")return s.value;if("framework"in s&&typeof s.framework=="string")return s.framework;if("label"in s&&typeof s.label=="string")return s.label}return String(s??"")}const p={retention:()=>!!be.value,kanteffekt:()=>!!le.value,omkringSkog:()=>!!Ye.value,rottackeSkarmtrad:()=>!!Se.value,rottackeBladning:()=>!!Ce.value,seedTree:()=>!!Ae.value,smaplantor:()=>!!Te.value,hogstubbar:()=>!!Me.value,naturvardsarter:()=>!!ke.value,tradplantor:()=>!!pe.value};function C(s,n){const S=p[s];if(S&&!S())return!1;const A=m(n.framework)||"",K=typeof n.time=="string"?n.time:m(n.time);if(s==="rottackeSkarmtrad")return(A==="skrmtrd"||A==="skarmtrad")&&K==="efter";if(s==="rottackeBladning")return A==="bldning"||A==="bladning"?K==="efter"||K==="20 r"||K==="50 r"||K==="80 r":!1;if(s==="omkringSkog")try{const ue=i.availabilityFor({framework:A,startskog:m(n.startskog),time:K});return!!(ue&&ue.kanteffekt)}catch{return!1}try{const ue=i.availabilityFor({framework:A,startskog:m(n.startskog),time:K});return!!(ue&&ue[s])}catch{return!1}}const L=f(()=>{const s=[],n=m(Z?.value??Z),S=m(Ee?.value??Ee),A=ie?.value??ie,K=Je;return fe.value?(s.push({framework:n,startskog:A?.value??A,time:"innan"}),s.push({framework:n,startskog:A?.value??A,time:K})):he.value?(s.push({framework:n,startskog:A?.value??A,time:K}),s.push({framework:S,startskog:A?.value??A,time:K})):s.push({framework:n,startskog:A?.value??A,time:K}),s});function F(s){const n=L.value;for(const S of n)if(C(s,S))return!0;return!1}const[I,E]=_i(),T=Hn("(max-width: 767px)"),O=[{label:"Text",icon:"i-heroicons-book-open",slot:"text",value:"text"},{label:"Diagram",icon:"i-carbon-chart-line-smooth",slot:"diagram",value:"diagram"}],{public:{dziBaseUrl:w="https://assets.svampskog.se/dzi_v3",dziVersionSuffix:D=""}={}}=wi(),H=w,X=D;function ce(s){return s?s.toString().toLowerCase().replace(//g,"a").replace(//g,"a").replace(//g,"o").replace(/[^a-z0-9_-]/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,""):""}function W({framework:s,timeLabel:n,fungiVisibility:S,treeVisibility:A,startskog:K}){const Kt=[s,n,S,A,K].map(Vt=>ce(Vt)).filter(Boolean).join("_"),Wt=ce(X);return Wt?`${Kt}_${Wt}`:Kt}function q(s){return`${H}/${W(s)}.dzi`}const{data:Q}=([a,r]=Ka(()=>_a("forestry-timeline-modelc",()=>Wa("forestryTimelines").first())),a=await a,r(),a),Y=f(()=>{const s=Q.value;if(!s)return[];if(Array.isArray(s)){const n=s.find(S=>S?.id==="skogsskotsel")||s[0];return Array.isArray(n?.entries)?n.entries:[]}return Array.isArray(s.entries)?s.entries:[]}),te=B(!1),ne=B("beforeAfterCompare"),de=B("slider"),ve=t,$e=B(!1),Le=B(!1),We=B(!1),be=B(!1),le=B(!1),Ye=B(!1),we=B(!1),ke=B(!1),Se=B(!1),Ce=B(!1),Ae=B(!1),Te=B(!1),Me=B(!1),pe=B(!1),je=B(1),dt=B(!1),M=B(!1);function vt(){dt.value=!dt.value}function lr(){M.value=!M.value}const Mt=["retention","kanteffekt","omkringSkog","rottackeSkarmtrad","rottackeBladning","seedTree","smaplantor","hogstubbar","naturvardsarter","tradplantor"],va=B([]);function Ur(s,n){const S=va.value,A=S.indexOf(s);n?(A!==-1&&S.splice(A,1),S.push(s)):A!==-1&&S.splice(A,1)}const za=Td(),fa=f({get:()=>za.staticOverlayVisible,set:s=>za.setStaticOverlayVisible(s)}),tt=B(!1),Ve=B(null);B(!1);const Ge=B(!1),Zt=B("skogsskole"),Ot=B(!1),rt=B(!1),Jt=B("text");function qr(){Jt.value="diagram",rt.value=!0;try{T.value||c?.()}catch{}}const ma=f({get:()=>rt.value,set:s=>{rt.value=s}}),pa=B(!1);f({get:()=>Ge.value,set:s=>{Ge.value=s}});function Qt(s){const n=Array.isArray(la?.value)?la.value:[];if(!n.length)return;const S=n.map(ue=>String(ue.value)),A=String(ka.value);let K=S.indexOf(A);if(K===-1&&(K=0),s<0){for(let ue=K-1;ue>=0;ue--)if(!n[ue]?.disabled){ka.value=String(n[ue].value);return}return}else{for(let ue=K+1;ue<n.length;ue++)if(!n[ue]?.disabled){ka.value=String(n[ue].value);return}return}}function sr(s){return(s||"").toString().trim().toLowerCase()}const ft=f(()=>Array.isArray(la?.value)?la.value:Array.isArray(la)?la:[]),ir=f(()=>{const n=ft.value.map(S=>String(S.value)).indexOf(String(ka.value));return n===-1?0:n}),gt=f(()=>{for(let s=ir.value-1;s>=0;s--)if(!ft.value[s]?.disabled)return ft.value[s];return null}),Qe=f(()=>{for(let s=ir.value+1;s<ft.value.length;s++)if(!ft.value[s]?.disabled)return ft.value[s];return null}),Ba=f(()=>!!gt.value),Da=f(()=>!!Qe.value);function ha(s){try{const n=Z.value&&Z.value.value,S=ie.value&&ie.value.value;return Y.value.find(K=>K.atgard===n&&K.startskog===S&&sr(K.tid)===sr(s))?.skog||""}catch{return""}}const or=f(()=>gt.value?String(gt.value.label??gt.value.value):""),Fa=f(()=>Qe.value?String(Qe.value.label??Qe.value.value):""),Hr=f(()=>gt.value?hr(Number(gt.value.value)):null),Kr=f(()=>Qe.value?hr(Number(Qe.value.value)):null);f(()=>ha(Hr.value)),f(()=>ha(Kr.value));function Ea(){Qt(-1)}function Wr(){Qt(1)}const zt=[{re:/nraliggande skogar/gi,overlay:"omkringSkog"},{re:/hnsynstrd/gi,overlay:"retention"},{re:/evighetstrd/gi,overlay:"retention"},{re:/hyggeskanterna/gi,overlay:"kanteffekt"},{re:/luckorna/gi,overlay:"kanteffekt"},{re:/frtrdens rtter/gi,overlay:"seedTree"},{re:/frtrd/gi,overlay:"seedTree"},{re:/skrmtrdens rtter/gi,overlay:"rottackeSkarmtrad"},{re:/smplantor/gi,overlay:"smaplantor"},{re:/hgstubbar/gi,overlay:"hogstubbar"},{re:/rdlistade svampar/gi,overlay:"naturvardsarter"},{re:/rdlistad art/gi,overlay:"naturvardsarter"},{re:/Trdplantor/gi,overlay:"tradplantor"}];function Xe(s=""){return String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ie(s=""){let n=Xe(s);n=n.replace(/Visa\s+naturvrdsdiagram/gi,()=>'<a href="#" data-action="show-diagram">Visa naturvrdsdiagram</a>');for(const S of zt)n=n.replace(S.re,A=>`<span class=" text-primary-500 font-medium underline cursor-pointer hover:opacity-80" data-overlay="${S.overlay}">${A}</span>`);return n}const ur=new Set(Mt),cr=s=>typeof s=="string"&&ur.has(s);function bt(s){const n=s.target;if(!n)return;const S=n.closest("[data-action]");if(S&&S.getAttribute("data-action")==="show-diagram"){s.preventDefault(),nn();return}const A=n.closest("[data-overlay]");if(!A)return;const K=A.getAttribute("data-overlay");cr(K)&&Xs(K)}B(!1),f(()=>[{value:"sideBySide",label:"Sida vid sida"},{value:"slider",label:"Skjutreglage"}]);const nt=f(()=>jt.map((s,n)=>({value:n,label:s.label,description:s.text}))),Bt=B(!0),ea=B(!1),Yr=B(!1),$a=B(85);let Gr=0,Xr=$a.value;function Ra(s){if(!mt)return;const S=(s.clientX-Gr)/16;$a.value=Xr+S}function dr(){mt=!1,window.removeEventListener("pointermove",Ra),window.removeEventListener("pointerup",dr)}Et(()=>{window.removeEventListener("pointermove",Ra),window.removeEventListener("pointerup",dr)});const ja=B(600);let mt=!1,vr=0,Zr=ja.value;function d(s){if(!mt)return;const n=s.clientY-vr;ja.value=Zr+n}function b(){mt=!1,window.removeEventListener("pointermove",d),window.removeEventListener("pointerup",b)}Et(()=>{window.removeEventListener("pointermove",d),window.removeEventListener("pointerup",b)}),B(!1),B(!1);const V=B(!0),y=B(1),_=f(()=>{const s=Z.value.value,n=na(Pe.value),S="visa",A=kt.value?"visa":"dlj",K=ie.value.value;return q({framework:s,timeLabel:n,fungiVisibility:A,treeVisibility:S,startskog:K})}),R=f(()=>{const s=Z.value.value,n="fre",S="visa",A=kt.value?"visa":"dlj",K=ie.value.value;return q({framework:s,timeLabel:n,fungiVisibility:A,treeVisibility:S,startskog:K})}),G=f(()=>{const s=Z.value.value,n=na(Pe.value),S="visa",A=kt.value?"visa":"dlj",K=ie.value.value;return q({framework:s,timeLabel:n,fungiVisibility:A,treeVisibility:S,startskog:K})}),J=f(()=>{const s=Z.value.value,n=na(Pe.value),S="visa",A=kt.value?"visa":"dlj",K=ie.value.value;return q({framework:s,timeLabel:n,fungiVisibility:A,treeVisibility:S,startskog:K})}),Be=f(()=>{const s=Ee.value.value,n=na(Pe.value),S="visa",A=kt.value?"visa":"dlj",K=ie.value.value;return q({framework:s,timeLabel:n,fungiVisibility:A,treeVisibility:S,startskog:K})}),ae=Ad(),ye=f(()=>ae.selectedAnnotation);function Ne(s){if(ae.setSelectedAnnotation(s),s.position&&Ua.value){const n=Ua.value.getZoom();Ua.value.setZoomAndCenter(n,s.position)}}function De(){ae.clearSelectedAnnotation()}const Fe=B(null);B("line");const ta=wd();B(!1);const kt=B(!0),fe=f(()=>te.value&&ne.value==="beforeAfterCompare"),he=f(()=>te.value&&ne.value==="frameworkCompare"),lt=f({get:()=>ta.selectedFramework,set:s=>ta.selectedFramework=s}),el=f({get:()=>ta.selectedStartskog??0,set:s=>{ta.selectedStartskog=s}}),ga=B(lt.value),Ee=f(()=>jt[ga.value]||jt[0]);re([he,fe],([s,n])=>{(!s||!n)&&(ri.value="framework1")}),ht(()=>{o=Zi({o:()=>ma.value=!ma.value,n:()=>{ke.value=!ke.value}})}),Il(()=>{typeof o=="function"&&o(),xt&&(clearTimeout(xt),xt=null),ra=!1,aa=!0});const Ys=s=>{const n=Jr.findIndex(S=>S.value===s.value);n!==-1&&(el.value=n),pa.value=!1},jt=[{id:0,label:"Ingen tgrd",value:"naturskydd",text:"Orrd skog",icon:"pepicons-pop:tree-circle",iconColor:"text-green-500"},{id:1,label:"Trakthygge",value:"trakthygge",text:"Kalavverkning med hnsyn",icon:"material-symbols:resize",iconColor:"text-violet-500"},{id:2,label:"Luckhuggning",value:"luckhuggning",text:"Mindre ytor kalavverkas",icon:"pixelarticons:chess",iconColor:"text-sky-500"},{id:3,label:"verhllen skrm",value:"skrmtrd",text:"Avverkning i tre steg under 20 r",icon:"catppuccin:redwood",iconColor:"text-orange-500"},{id:4,label:"Bldning",value:"bldning",text:"Enstaka trd gallras",icon:"lineicons:trees",iconColor:"text-teal-500"}],Jr=[{label:"Inte kalavverkad",value:"naturskog"},{label:"Kalavverkad",value:"produktionsskog_"}],Z=f(()=>jt[lt.value!==void 0?lt.value:0]),ie=f(()=>Jr[el.value]),yt=f(()=>Z.value?.value),Qr=f(()=>ie.value?.value??null),It=f(()=>yt.value==="trakthygge"),Nt=f(()=>yt.value==="luckhuggning"),fr=f(()=>yt.value==="bldning"||yt.value==="bladning"),pt=f(()=>yt.value==="skrmtrd"||yt.value==="skarmtrad"),en={retention:{title:"Hnsynstrd",description:"De flesta mykorrhizasvamparna som vxte med trdens rtter fre avverkningen finns kvar och lever vidare. Mycel kan vxa in i och spridas till uppvxande trdplantor.",condition:()=>be.value&&yt.value!=="naturskydd",close:()=>{be.value=!1}},kanteffekt:{title:"Kanteffekt",description:"Mykorrhizasvamp p trdens rtter i skogskanten kan strcka sig 1015 meter in p hygget; starkast nrmast kanten.",condition:()=>le.value&&(It.value||Nt.value||pt.value),close:()=>{le.value=!1}},omkringSkog:{title:"Nraliggande skog",description:"Vanliga arter sprids in med sporer frn nrheten. Sporer sprids bara korta strckor med vinden. Ovanliga arter har svrt att komma tillbaka eftersom de r ovanliga. ",condition:()=>Ye.value&&(It.value||Nt.value||pt.value),close:()=>{Ye.value=!1}},rottackeSkarmtrad:{title:"Rottcke skrmtrd",description:"Kontinuerligt rottcke kopplat till verhllen skrm (1 r efter).",condition:()=>Se.value&&pt.value,close:()=>{Se.value=!1}},rottackeBladning:{title:"Rottcke bldning",description:"Kontinuerligt rottcke kopplat till bldning (efter, 20, 50, 80 r).",condition:()=>Ce.value&&fr.value,close:()=>{Ce.value=!1}},seedTree:{title:"Frtrd",description:"Mycel fortstter leva p frtrdens rtter och kan koppla till nya plantor.",condition:()=>Ae.value&&pt.value,close:()=>{Ae.value=!1}},smaplantor:{title:"Yngre trd och plantor som lmnats",description:"Undviks underrjning fre avverkning, kommer mykorrhizasvampar att verleva p dessa plantor och trd p samma stt som de gr p rtterna av hnsynstrd.",condition:()=>Te.value,close:()=>{Te.value=!1}},hogstubbar:{title:"Hgstubbar",description:"Hr finns inga levande mykorrhizamycel. Trdets rtter r dda.",condition:()=>Me.value,close:()=>{Me.value=!1}},naturvardsarter:{title:"Naturvrdsarter",description:"Naturvrdsarter har ofta speciella miljkrav, och frekommer frmst i ldre skog. Generellt kan mycel av mykorrhizasvampar leva vidare p en plats s lnge det finns levande trd. Svampindividers mycel kan likt trd bli mnga decennier till potentiellt sekler gamla.",condition:()=>ke.value&&(It.value||Nt.value||fr.value||pt.value),close:()=>{ke.value=!1}},tradplantor:{title:"Planterade sm trdplantor",description:"Har med sig spontant etablerad mykorrhiza frn plantskolan dr de odlades upp. Det r dock f arter. Dessa erstts succesivt med bttre anpassade och svamparter som finns p platsen.",condition:()=>pe.value&&It.value,close:()=>{pe.value=!1}}},tn={staticOverlay:"i-material-symbols-light-rectangle-outline",retention:"i-pepicons-pop-tree-circle",kanteffekt:"i-healthicons-square-medium-negative",omkringSkog:"fluent-weather-duststorm-48-regular",rottackeSkarmtrad:"i-fluent-emoji-high-contrast-blue-square",rottackeBladning:"i-fluent-emoji-high-contrast-blue-square",seedTree:"i-teenyicons-redwoodjs-outline",smaplantor:"i-pepicons-pop-seedling-circle",hogstubbar:"i-roentgen-wood",naturvardsarter:"i-material-symbols-award-star-outline",tradplantor:"i-hugeicons-plant-02"},tl=f(()=>{const s={staticOverlay:{title:"Bestndsgrns",description:"Visar grnsen fr den berrda skogen"}};return Mt.forEach(n=>{const S=en[n];s[n]={title:S.title,description:S.description}}),s});function mr(s){const n=tl.value[s]??{title:s,description:""},S=tn[s];return{title:n.title,description:n.description,icon:S}}const et=wa({staticOverlay:!1,retention:!1,kanteffekt:!1,omkringSkog:!1,rottackeSkarmtrad:!1,rottackeBladning:!1,seedTree:!1,smaplantor:!1,hogstubbar:!1,naturvardsarter:!1,tradplantor:!1}),Pt={staticOverlay:fa,retention:be,kanteffekt:le,omkringSkog:Ye,rottackeSkarmtrad:Se,rottackeBladning:Ce,seedTree:Ae,smaplantor:Te,hogstubbar:Me,naturvardsarter:ke,tradplantor:pe};function an(s,n={}){const S=Pt[s];if(!S)return;const A=s,K=n.hideWhenUnpin??!0,ue=!et[A];if(et[A]=ue,ue){S.value||(S.value=!0),Ve.value=A,tt.value=!0;return}K&&(Ve.value===A?pr({hideOverlay:!0}):S.value&&(S.value=!1))}const al=f(()=>{const s=tl.value;return[{key:"staticOverlay",label:s.staticOverlay?.title??"Bestndsgrns",description:s.staticOverlay?.description??"",icon:tn.staticOverlay},...Mt.map(n=>({key:n,label:s[n]?.title??n,description:s[n]?.description??"",icon:tn[n]??void 0}))]}),rl=f(()=>{const s={};return al.value.forEach(n=>{s[n.key]={label:n.label,icon:n.icon}}),s}),Ut=f(()=>{const s=Ve.value;if(!s||!rn(s))return null;const n=mr(s);return{key:s,title:n.title,description:n.description}}),Ia=f(()=>{const s=Ve.value;return s?et[s]:!1}),nl=f(()=>{const s=Ve.value;return s?rl.value[s]?.icon??null:null}),ll=f(()=>{const s=rl.value,n=Js.value,S=[];return et.staticOverlay&&S.push({key:"staticOverlay",title:s.staticOverlay?.label??"Bestndsgrns",icon:s.staticOverlay?.icon||null,isAssociated:!0}),Mt.forEach(A=>{et[A]&&S.push({key:A,title:s[A]?.label??en[A].title,icon:s[A]?.icon||null,isAssociated:n[A]??!0})}),S});re(rt,s=>{s&&Ge.value&&(Ge.value=!1)}),re(Ge,s=>{s&&rt.value&&(rt.value=!1)});let xt=null,aa=!0,ra=!1;function Gs(s){an(s)}function _t(s){Object.keys(Pt).forEach(n=>{n!==s&&(et[n]||Pt[n]?.value&&(Pt[n].value=!1))})}function rn(s){const n=en[s];return!!n&&n.condition()}function wt(s){const n=rn(s);if(Ur(s,n),n){Ve.value=s,tt.value=!0,T.value||c();return}if(Ve.value===s){const S=va.value.slice().reverse().find(A=>rn(A));S?(Ve.value=S,tt.value=!0,T.value||c()):(pr({hideOverlay:!1}),c())}}function Xs(s){const n=Pt[s];if(n){if(n.value){et[s]?sl(s):(n.value=!1,c());return}n.value=!0,sl(s)}}async function nn(s={}){qr(),Zt.value=xn,Ot.value=!0,await $t(),x.value?.setSelectedChart&&(x.value.setSelectedChart(xn),Ot.value=!1),s.badgeKey&&(u[s.badgeKey]=!1),T.value||c();try{pr({hideOverlay:!1})}catch{}try{et.naturvardsarter=!0;const n=Pt.naturvardsarter;n&&!n.value&&(n.value=!0)}catch{}}re([Jt,()=>x.value],async([s,n])=>{if(s==="diagram"&&Ot.value&&n?.setSelectedChart){await $t();try{n.setSelectedChart(xn)}finally{Ot.value=!1}}});function sl(s){Pt[s]&&(Ve.value=s,tt.value=!0)}function pr(s={}){ra=!0;const n=Ve.value;if(aa=s.hideOverlay??(n?!et[n]:!0),!n){ra=!1,aa=!0,tt.value=!1,c();return}if(!tt.value){il();return}tt.value=!1}function il(){xt&&(clearTimeout(xt),xt=null);const s=Ve.value;if(!s){aa=!0,ra=!1;return}const n=aa;if(Ve.value=null,aa=!0,ra=!1,n){const S=Pt[s];S&&S.value&&(S.value=!1),c()}}re(tt,(s,n)=>{if(xt&&(clearTimeout(xt),xt=null),!s&&n){if(!ra){const S=Ve.value;aa=S?!et[S]:!0}xt=setTimeout(()=>{il()},dm)}else s&&(ra=!1)}),re(ma,s=>{s||(pr({hideOverlay:!1}),T.value||c())}),ht(()=>{try{fa.value||(fa.value=!0)}catch{}et.staticOverlay=!0}),re(be,s=>{s&&_t("retention"),wt("retention")},{immediate:!0}),re(le,s=>{s&&_t("kanteffekt"),wt("kanteffekt")},{immediate:!0}),re(Ye,s=>{s&&_t("omkringSkog"),wt("omkringSkog")},{immediate:!0}),re(Ce,s=>{s&&_t("rottackeBladning"),wt("rottackeBladning")},{immediate:!0}),re(Ae,s=>{s&&_t("seedTree"),wt("seedTree")},{immediate:!0}),re(Te,s=>{s&&_t("smaplantor"),wt("smaplantor")},{immediate:!0}),re(Me,s=>{s&&_t("hogstubbar"),wt("hogstubbar")},{immediate:!0}),re(ke,s=>{s&&_t("naturvardsarter"),wt("naturvardsarter")},{immediate:!0}),re(pe,s=>{s&&_t("tradplantor"),wt("tradplantor")},{immediate:!0}),re(fa,s=>{s&&_t("staticOverlay")}),re(yt,()=>{Mt.forEach(s=>wt(s))});const Pe=B(3);function Zs(s){fe.value&&s.value===3||(Pe.value=s.value)}function hr(s){return{3:"innan",15:"efter",30:"10 r",45:"20 r",70:"50 r",99:"80 r"}[s]||"innan"}function na(s){const n=ba.value.find(S=>S.value===s);return n?n.timeLabel:"fre"}const ba=f(()=>{const n=[{value:3,label:Z.value?.value==="naturskydd"?"Ingen avverkning":"Fre avverkning",timeLabel:"fre"},{value:15,label:"1 r efter",timeLabel:"efter"}];return Z.value?.value==="skrmtrd"&&!he.value&&n.push({value:30,label:"10 r efter",timeLabel:"10"}),n.push({value:45,label:"20 r efter ",timeLabel:"20"},{value:70,label:"50 r efter ",timeLabel:"50"},{value:99,label:"+ 80 r efter ",timeLabel:"80"}),n}),la=f(()=>ba.value.map(s=>({value:String(s.value),label:s.label,disabled:fe.value&&s.value===3}))),ka=f({get(){return String(Pe.value)},set(s){const n=ba.value.find(S=>String(S.value)===s);n&&Zs(n)}}),Ze=f(()=>{const s=ba.value.find(n=>n.value===Pe.value);return s?s.label:""}),ol=f(()=>fe.value?3:null);f(()=>ol.value!==null?hr(ol.value):null);const Je=f(()=>hr(Pe.value)),ul=f(()=>({framework:yt.value??null,startskog:Qr.value??null,time:Je.value??null})),Js=f(()=>i.availabilityFor(ul.value)),oe=f(()=>i.filterAll(ul.value)),Qs=f(()=>({framework:yt.value??null,startskog:Qr.value??null,time:fe.value?"innan":Je.value??null})),st=f(()=>i.filterAll(Qs.value)),ei=f(()=>({framework:Ee.value?.value??null,startskog:Qr.value??null,time:Je.value??null})),it=f(()=>i.filterAll(ei.value)),ot=f(()=>!Z.value?.value||!Je.value||!ie.value?.value?null:Y.value.find(s=>s.atgard===Z.value.value&&s.tid===Je.value&&s.startskog===ie.value.value)),gr=f(()=>!Ee.value?.value||!Je.value||!ie.value?.value?null:Y.value.find(s=>s.atgard===Ee.value.value&&s.tid===Je.value&&s.startskog===ie.value.value)),br=f(()=>!Z.value?.value||!ie.value?.value?null:Y.value.find(s=>s.atgard===Z.value.value&&s.tid==="innan"&&s.startskog===ie.value.value)),kr=f(()=>{const s=[],n=Z.value?.label??"",S=Ee.value?.label??"",A=Ze.value??"";return fe.value?(s.push({key:"before",left:n,right:"Fre avverkning",info:br.value??null}),s.push({key:"after",left:n,right:A,info:ot.value??null})):he.value?(s.push({key:"framework1",left:n,right:A,info:ot.value??null}),s.push({key:"framework2",left:S,right:A,info:gr.value??null})):s.push({key:"single",left:n,right:A,info:ot.value??null}),s}),cl=f(()=>{const s=kr.value.filter(n=>!!n.info).length;return T.value&&s>1&&(fe.value||he.value)}),Na=wa({});function ln(s){Na[s]||(Na[s]={skog:!0,svamp:!0})}function qt(s,n){return ln(s),Na[s][n]}function yr(s,n){ln(s),Na[s][n]=!Na[s][n]}re(kr,s=>{s.forEach(n=>ln(n.key))},{immediate:!0});function dl(s){te.value=s,s&&ne.value||(ne.value="beforeAfterCompare")}const vl=f(()=>{const s=Z.value.value,n="fre",S="dlj",A=kt.value?"visa":"dlj",K=ie.value.value;return q({framework:s,timeLabel:n,fungiVisibility:A,treeVisibility:S,startskog:K})}),fl=f(()=>{const s=Ee.value.value,n=na(Pe.value),S="dlj",A=kt.value?"visa":"dlj",K=ie.value.value;return q({framework:s,timeLabel:n,fungiVisibility:A,treeVisibility:S,startskog:K})});f(()=>{const s=Z.value.value.toLowerCase(),n=na(Pe.value);return`${s}_${n}`});const Pa=f(()=>{const s=Z.value.value,n=na(Pe.value),S="dlj",A=kt.value?"visa":"dlj",K=ie.value.value;return q({framework:s,timeLabel:n,fungiVisibility:A,treeVisibility:S,startskog:K})});re([Z,fe,he],()=>{ba.value.map(n=>n.value).includes(Pe.value)||(Pe.value=15)});const Ua=B(null),St=B(null),Ct=B(null);let sn=!1,on=!1;function ml(){if(on)return;sn=!0;const s=St.value?.getZoom(),n=St.value?.getCenter();s&&n&&Ct.value&&Ct.value.setZoomAndCenter(s,n),sn=!1}function pl(){if(sn)return;on=!0;const s=Ct.value?.getZoom(),n=Ct.value?.getCenter();s&&n&&St.value&&St.value.setZoomAndCenter(s,n),on=!1}function Ht(s){s==="before"&&St.value?(St.value.addSyncHandler("zoom",ml),St.value.addSyncHandler("pan",ml)):s==="after"&&Ct.value?(Ct.value.addSyncHandler("zoom",pl),Ct.value.addSyncHandler("pan",pl)):s==="framework1"&&At.value?(At.value.addSyncHandler("zoom",hl),At.value.addSyncHandler("pan",hl)):s==="framework2"&&Tt.value&&(Tt.value.addSyncHandler("zoom",gl),Tt.value.addSyncHandler("pan",gl))}let un=!1,cn=!1;function hl(){if(cn)return;un=!0;const s=At.value?.getZoom(),n=At.value?.getCenter();s&&n&&Tt.value&&Tt.value.setZoomAndCenter(s,n),un=!1}function gl(){if(un)return;cn=!0;const s=Tt.value?.getZoom(),n=Tt.value?.getCenter();s&&n&&At.value&&At.value.setZoomAndCenter(s,n),cn=!1}const At=B(null),Tt=B(null);let dn=null;const bl=B({zoom:1,center:null});function xr(s,{zoom:n,center:S}={}){!n||!S||dn!==s&&(dn=s,bl.value={zoom:n,center:S})}function ti(){return!fe.value&&!he.value?{single:Ua.value}:fe.value?{before:St.value,after:Ct.value}:he.value?{framework1:At.value,framework2:Tt.value}:{}}re(bl,({zoom:s,center:n})=>{const S=ti();Object.entries(S).forEach(([A,K])=>{A!==dn&&K&&K.setZoomAndCenter&&K.setZoomAndCenter(s,n)})});const Dt=B("single");f(()=>[{key:"framework1",label:Z.value.label},{key:"framework2",label:Ee.value.label}]);const ai=B(0);re(he,s=>{s||(ai.value=0)});const ri=B("none"),vn=[{label:"Fre / efter",value:"beforeAfterCompare"},{label:"Tv metoder",value:"frameworkCompare"}];function ni(){Fe.value&&Fe.value.toggleLayoutMode&&Fe.value.toggleLayoutMode(),console.log("Current layout:",de.value)}f(()=>({label:de.value==="sideBySide"?"Sida vid sida":"Skjutreglage",type:"button",onSelect(s){s.preventDefault(),ni()},icon:de.value==="sideBySide"?"i-circum-grid-2-v":"iconamoon:compare-duotone"})),f(()=>[{label:vn[0].label,type:"checkbox",checked:ne.value==="frameworkCompare",onUpdateChecked(s){s?ne.value="frameworkCompare":ne.value==="frameworkCompare"&&(ne.value=null)},onSelect(s){s.preventDefault()}},{label:vn[1].label,type:"checkbox",checked:ne.value==="beforeAfterCompare",onUpdateChecked(s){s?ne.value="beforeAfterCompare":ne.value==="beforeAfterCompare"&&(ne.value=null)},onSelect(s){s.preventDefault()}},{type:"separator"},{label:"Sida vid sida",type:"checkbox",checked:de.value==="sideBySide",onUpdateChecked(s){s&&(de.value="sideBySide",Fe.value&&Fe.value.setLayoutMode&&Fe.value.setLayoutMode("sideBySide"))},onSelect(s){s.preventDefault()},icon:"i-circum-grid-2-v"},{label:"Skjutreglage",type:"checkbox",checked:de.value==="slider",onUpdateChecked(s){s&&(de.value="slider",Fe.value&&Fe.value.setLayoutMode&&Fe.value.setLayoutMode("slider"))},onSelect(s){s.preventDefault()},icon:"iconamoon:compare-duotone"}]),f(()=>de.value==="sideBySide"?"i-circum-grid-2-v":"iconamoon:compare-duotone"),f(()=>ne.value==="frameworkCompare"?"Tv metoder":ne.value==="beforeAfterCompare"?"Fre / efter":"Jmfr"),re(ne,s=>{s==="frameworkCompare"?(fe.value=!1,he.value=!0):s==="beforeAfterCompare"?(fe.value=!0,he.value=!1):(fe.value=!1,he.value=!1)}),re(de,s=>{Fe.value&&Fe.value.setLayoutMode&&Fe.value.setLayoutMode(s)}),re(fe,s=>{s&&Pe.value===3&&(Pe.value=15)});const kl=f(()=>{const s=ba.value.find(n=>n.value===Pe.value);return s?s.timeLabel:""}),li=f(()=>{const s=Z.value.value,n=kl.value.toLowerCase();return Cd.annotations.flatMap(S=>{if(S.positions&&Array.isArray(S.positions))return S.positions.filter(A=>{const K=Array.isArray(A.framework)?A.framework.includes(s):A.framework===s,ue=Array.isArray(A.times)?A.times.map(Kt=>Kt.toLowerCase()).includes(n):A.times.toLowerCase()===n;return K&&ue}).map(A=>({...S,position:{x:A.x,y:A.y,placement:A.placement}}));{const A=Array.isArray(S.frameworks)?S.frameworks.includes(s):S.framework===s,K=Array.isArray(S.times)?S.times.map(ue=>ue.toLowerCase()).includes(n):S.time.toLowerCase()===n;return A&&K?[S]:[]}})});return re(Dt,s=>{console.log("activeViewer updated to:",s)}),(s,n)=>{const S=Ga,A=qn,K=Mi,ue=Si,Kt=Kl,Wt=Yl,Vt=Ai,fn=Ci,qa=Bi,si=zi,ii=cd,Ue=vd,oi=md,yl=_d;return g(),$("div",Id,[z(k(I),null,{default:N(()=>[h("div",Nd,[h("div",Pd,[z(A,{size:"xs",variant:"outline",color:"neutral",onClick:n[0]||(n[0]=v=>dl(!1)),class:me(te.value?"text-muted/60 hover:text-muted ring-muted/50":"bg-neutral-100 shadow ring-muted")},{default:N(()=>[h("div",Ud,[z(S,{name:"i-bx-rectangle",class:"size-4"}),n[65]||(n[65]=h("h1",null,"Enkelvy",-1))])]),_:1},8,["class"]),z(A,{size:"xs",variant:"outline",color:"neutral",onClick:n[1]||(n[1]=v=>dl(!0)),class:me(te.value?"bg-neutral-100 shadow ring-muted":"text-muted/60 hover:text-muted ring-muted/50")},{default:N(()=>[h("div",qd,[z(S,{name:"iconamoon:compare-duotone",class:"size-4"}),n[66]||(n[66]=h("h1",null,"Jmfr",-1))])]),_:1},8,["class"])]),te.value?(g(),P(K,{key:0,modelValue:ne.value,"onUpdate:modelValue":n[2]||(n[2]=v=>ne.value=v),items:vn,size:"xs",placeholder:"Vlj",clearable:!0,class:"w-full ring-muted -mb-2 mt-2",ui:{root:"min-w-max flex-shrink-0",list:"flex-nowrap rounded-xl bg-muted/50 -mb-1.5 gap-2",indicator:"bg-white border border-muted/50 shadow ",trigger:" data-[state=active]:text-neutral-800 dark:data-[state=active]:text-violet-400/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary "}},null,8,["modelValue"])):j("",!0)]),z(ue,{ui:{border:"border-muted/50"}}),h("div",Hd,[h("div",Kd,[(g(!0),$(_e,null,qe(al.value,v=>(g(),P(Kt,{key:v.key,label:v.label,icon:v.icon,color:et[v.key]?"primary":"neutral",variant:et[v.key]?"solid":"subtle",class:me(["cursor-pointer",et[v.key]?"shadow-sm":"opacity-70 hover:opacity-100"]),onClick:Oe=>Gs(v.key)},null,8,["label","icon","color","variant","class","onClick"]))),128))])])]),_:1}),h("div",null,[h("div",Wd,[h("div",Yd,[nt.value.length?(g(),$("div",{key:0,class:me(["grid sm:gap-4 gap-2 p-2 sm:py-1 sm:flex-row sm:items-center sm:justify-start h-fit w-full sm:w-fit",he.value?"grid-cols-2":"grid-cols-1"])},[z(Wt,{size:"xl",items:nt.value,modelValue:lt.value,"onUpdate:modelValue":n[3]||(n[3]=v=>lt.value=v),placeholder:Z.value.label,"append-to-body":"",variant:"soft",class:"ring-muted w-full shadow",ui:{content:"min-w-fit",viewport:"text-center"}},null,8,["items","modelValue","placeholder"]),he.value?(g(),P(Wt,{key:0,size:"xl",items:nt.value,modelValue:ga.value,"onUpdate:modelValue":n[4]||(n[4]=v=>ga.value=v),placeholder:Ee.value.label,"append-to-body":"",variant:"soft",class:"ring-muted shadow"},null,8,["items","modelValue","placeholder"])):j("",!0)],2)):j("",!0),k(T)?(g(),P(fn,{key:2,modal:!1,ui:{content:"p-0",body:"p-0",container:"p-0 gap-0"}},{body:N(()=>[z(k(E))]),default:N(()=>[z(A,{size:k(T)?"xl":"md",color:"neutral",variant:"outline",label:k(T)?null:"Display",icon:"i-heroicons-adjustments-horizontal",class:"ring-muted rounded-full sm:rounded pointer-events-auto"},null,8,["size","label"])]),_:1})):(g(),P(Vt,{key:1,ui:{content:"p-0 w-80"},content:{side:"bottom",sideOffset:8,collisionPadding:8,align:"start"},class:"pointer-events-auto"},{content:N(()=>[z(k(E))]),default:N(()=>[z(A,{size:"xl",color:"neutral",variant:"outline",label:"Jmfr",icon:"iconamoon:compare-duotone",class:"ring-muted/50"})]),_:1})),k(T)?(g(),P(A,{key:3,icon:"i-heroicons-x-mark",variant:"soft",color:"neutral",class:"rounded-full h-fit mr-2 ml-1",ui:{rounded:"rounded-full"},onClick:n[5]||(n[5]=v=>ve("close")),"aria-label":"Stng modellvy",size:"lg"})):j("",!0)]),k(T)?j("",!0):(g(),$("div",Gd,[z(A,{icon:"i-heroicons-x-mark",variant:"ghost",color:"neutral",class:"rounded-full",ui:{rounded:"rounded-full"},onClick:n[6]||(n[6]=v=>ve("close")),"aria-label":"Stng modellvy"})]))]),h("div",Xd,[h("div",Zd,[z(fn,{direction:(k(T),"bottom"),inset:!k(T),dismissible:!!k(T),overlay:!1,handle:(k(T),!1),modal:!1,open:rt.value,"onUpdate:open":n[14]||(n[14]=v=>rt.value=v),class:"pointer-events-auto",ui:{header:"flex items-center justify-between",body:"p-0 ",container:"p-0 gap-0 ",content:"max-w-4xl mx-auto ring-muted/50",footer:"gap-0"}},{body:N(()=>[z(A,{class:"absolute top-1.5 right-1.5 z-50",variant:"ghost",color:"neutral",onClick:n[7]||(n[7]=v=>rt.value=!1),icon:"i-heroicons-x-mark"}),h("div",Jd,[z(K,{modelValue:Jt.value,"onUpdate:modelValue":n[9]||(n[9]=v=>Jt.value=v),items:O,variant:"link",size:"lg",color:"primary",ui:{root:"gap-0",content:"border-t border-muted/50"}},{text:N(()=>[h("div",{class:me(["sm:grid divide-y sm:divide-y-0 sm:divide-x divide-muted/70 transition-all relative",[te.value?"sm:grid-cols-2":"sm:grid-cols-1",Ut.value?"sm:opacity-40":""]])},[h("div",{class:me(["absolute inset-0 bg-neutral-500 transition-all pointer-events-none",Ut.value?"opacity-0 sm:opacity-40 sm:bg-neutral-500/50":"opacity-0"])},null,2),cl.value?j("",!0):(g(!0),$(_e,{key:0},qe(kr.value,v=>(g(),$("div",{key:v.key,class:"p-3 sm:p-3 group",onClick:bt},[v.info?(g(),$("div",Qd,[h("div",ev,[z(A,{type:"button",variant:"ghost",color:"neutral",class:"flex w-full items-center font-semibold gap-2 tracking-wide text-neutral-500 transition",onClick:ya(Oe=>yr(v.key,"skog"),["stop"])},{default:N(()=>[n[67]||(n[67]=h("span",null,"Utveckling i skogen",-1)),z(S,{name:"i-heroicons-chevron-down",class:me(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!qt(v.key,"skog")}])},null,8,["class"])]),_:2},1032,["onClick"]),qt(v.key,"skog")?(g(),$("p",{key:0,class:"text-sm text-neutral-800 leading-relaxed p-2 mb-2 bg-muted rounded",innerHTML:Ie(v.info.skog)},null,8,tv)):j("",!0)]),h("div",av,[z(A,{type:"button",variant:"ghost",color:"neutral",class:"flex w-full items-center gap-2 font-semibold tracking-wide text-neutral-500 transition",onClick:ya(Oe=>yr(v.key,"svamp"),["stop"])},{default:N(()=>[n[68]||(n[68]=h("span",null,"Pverkan p mykorrhizasvampar",-1)),z(S,{name:"i-heroicons-chevron-down",class:me(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!qt(v.key,"svamp")}])},null,8,["class"])]),_:2},1032,["onClick"]),qt(v.key,"svamp")?(g(),$("span",{key:0,class:"block text-sm text-neutral-800 leading-relaxed p-2 bg-muted rounded",innerHTML:Ie(v.info.svamp)},null,8,rv)):j("",!0)])])):(g(),$("div",nv,ee(v.emptyMessage||Rl),1))]))),128)),cl.value?(g(),$("div",lv,[z(si,{items:kr.value,ui:{item:"basis-12/13",viewport:"p-3"}},{default:N(({item:v})=>[z(qa,{ui:{body:"p-4 space-y-4"},class:"",variant:"soft",onClick:bt},{default:N(()=>[h("div",sv,[h("h2",iv,ee(v.left),1),z(Kt,{label:v.right,class:"ring-muted/50 py-1",variant:"outline",color:"neutral"},null,8,["label"])]),v.info?(g(),$("div",ov,[h("div",uv,[z(A,{type:"button",variant:"ghost",color:"neutral",class:"-mx-2 flex w-full items-center font-semibold gap-2 tracking-wide text-neutral-500 transition",onClick:ya(Oe=>yr(v.key,"skog"),["stop"])},{default:N(()=>[n[69]||(n[69]=h("span",null,"Utveckling i skogen",-1)),z(S,{name:"i-heroicons-chevron-down",class:me(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!qt(v.key,"skog")}])},null,8,["class"])]),_:2},1032,["onClick"]),qt(v.key,"skog")?(g(),$("p",{key:0,class:"text-sm text-neutral-800 leading-relaxed mb-2 bg-muted rounded",innerHTML:Ie(v.info.skog)},null,8,cv)):j("",!0)]),h("div",dv,[z(A,{type:"button",variant:"ghost",color:"neutral",class:"-mx-2 flex w-full items-center gap-2 font-semibold tracking-wide text-neutral-500 transition",onClick:ya(Oe=>yr(v.key,"svamp"),["stop"])},{default:N(()=>[n[70]||(n[70]=h("span",null,"Pverkan p mykorrhizasvampar",-1)),z(S,{name:"i-heroicons-chevron-down",class:me(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!qt(v.key,"svamp")}])},null,8,["class"])]),_:2},1032,["onClick"]),qt(v.key,"svamp")?(g(),$("span",{key:0,class:"block text-sm text-neutral-800 leading-relaxed bg-muted rounded",innerHTML:Ie(v.info.svamp)},null,8,vv)):j("",!0)])])):(g(),$("div",fv,ee(v.emptyMessage||Rl),1))]),_:2},1024)]),_:1},8,["items"])])):j("",!0)],2)]),diagram:N(()=>[Jt.value==="diagram"?(g(),P(ii,{key:0,ref_key:"chartMainRef",ref:x,selectedChart:Zt.value,"onUpdate:selectedChart":n[8]||(n[8]=v=>Zt.value=v),parentSelectedFrameworks:he.value?[Z.value.value,Ee.value.value]:[Z.value.value],currentTimeValue:kl.value,currentStartskog:ie.value.value},null,8,["selectedChart","parentSelectedFrameworks","currentTimeValue","currentStartskog"])):j("",!0)]),_:1},8,["modelValue"])]),Ut.value?(g(),P(fn,{key:0,open:tt.value,"onUpdate:open":n[13]||(n[13]=v=>tt.value=v),nested:"",direction:"bottom",modal:!0,overlay:!1,inset:!k(T),handle:!!k(T),ui:{container:"p-0 gap-0",content:"sm:max-w-sm w-full mx-auto",body:"p-4 space-y-3"}},{body:N(()=>[h("div",mv,[h("div",pv,[nl.value?(g(),P(S,{key:0,name:nl.value,class:"size-5 text-primary-500 mt-0.5"},null,8,["name"])):j("",!0),h("h3",hv,ee(Ut.value.title),1)]),h("div",gv,[z(A,{color:Ia.value?"error":"primary",variant:"subtle",size:"xs",ui:{rounded:"rounded-full"},label:Ia.value?"Ta bort":"Fst i vyn",icon:Ia.value?"i-tabler-pinned-off":"i-tabler-pinned","aria-pressed":Ia.value,title:Ia.value?"Lossa":"Fst",onClick:n[10]||(n[10]=v=>an(Ut.value.key,{hideWhenUnpin:!1}))},null,8,["color","label","icon","aria-pressed","title"])])]),h("p",bv,ee(Ut.value.description),1),Ut.value.key==="naturvardsarter"?(g(),P(A,{key:0,size:"sm",color:"primary",variant:"soft",class:"mt-2",icon:"i-carbon-chart-line-smooth",onClick:n[11]||(n[11]=v=>nn())},{default:N(()=>[...n[71]||(n[71]=[ua(" Visa naturvrdsartsdiagram ",-1)])]),_:1})):j("",!0),Ut.value.key==="kanteffekt"?(g(),P(qa,{key:1,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"},class:"mt-2 backdrop-blur-xl border border-white/10"},{default:N(()=>[z(Ue,{ui:{root:"flex-row-reverse justify-between",label:"",description:"",base:"data-[state=unchecked]:bg-neutral-600"},size:"md",color:"primary",modelValue:we.value,"onUpdate:modelValue":n[12]||(n[12]=v=>we.value=v),label:"Tidigare kanteffekt",description:"Visa spr frn tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):j("",!0)]),_:1},8,["open","inset","handle"])):j("",!0)]),default:N(()=>[z(A,{size:(k(T),"xl"),label:(k(T),"Information"),color:"neutral",icon:"i-heroicons-chevron-up",class:"ring-muted rounded-full shadow",variant:rt.value?"subtle":"outline"},null,8,["size","label","variant"])]),_:1},8,["direction","inset","dismissible","handle","open"])]),h("div",kv,[z(Vt,{class:"shrink-0 cursor-pointer h-fit z-50",open:pa.value,"onUpdate:open":n[15]||(n[15]=v=>pa.value=v),popper:{placement:"bottom-start"}},{content:N(()=>[n[72]||(n[72]=h("div",{class:"text-sm w-64 p-3 text-neutral-500 border-b border-neutral-200"}," Har skogen varit kalavverkad tidigare? ",-1)),h("div",_v,[(g(),$(_e,null,qe(Jr,v=>h("div",{key:v.value},[z(A,{onClick:Oe=>Ys(v),size:"lg",color:"white",variant:"ghost",label:v.label,class:me(["hover:bg-neutral-100 cursor-pointer text-neutral-400 w-full",{" bg-neutral-100 text-neutral-800":ie.value.value===v.value}]),icon:v.value==="naturskog"?"i-material-symbols-light-forest-rounded":"i-ph-farm"},null,8,["onClick","label","class","icon"])])),64))])]),default:N(()=>[z(A,{variant:(k(T),"soft"),color:"neutral",size:"lg",class:"rounded-full ring-muted"},{default:N(()=>[h("div",yv,[z(S,{name:ie.value.value=="naturskog"?"i-material-symbols-light-forest-rounded":"i-ph-farm",class:"w-5 h-5"},null,8,["name"]),k(T)?j("",!0):(g(),$("span",xv,ee(ie.value.label),1)),ie.value&&ie.value.value?(g(),P(S,{key:1,name:"i-heroicons-chevron-down",class:"w-4 h-4"})):j("",!0)])]),_:1},8,["variant"])]),_:1},8,["open"]),z(K,{modelValue:ka.value,"onUpdate:modelValue":n[16]||(n[16]=v=>ka.value=v),items:la.value,ui:{root:"min-w-max flex-shrink-0",list:"flex-nowrap rounded-xl bg-transparent -mb-1.5 gap-2",indicator:"bg-white border border-muted/50 shadow ",trigger:" data-[state=active]:text-neutral-800 dark:data-[state=active]:text-violet-400/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary "}},null,8,["modelValue","items"])])])]),h("div",wv,[h("div",Sv,[h("div",Cv,[h("div",Av,[z(oi,{orientation:"vertical",min:0,max:1,step:.01,modelValue:y.value,"onUpdate:modelValue":n[17]||(n[17]=v=>y.value=v),class:"accent-primary-500 h-28 m-3"},null,8,["modelValue"])]),z(Vt,null,{content:N(()=>[h("div",Vv,[h("div",Lv,[z(S,{name:"i-fluent-shape-organic-16-filled",class:"size-6 text-gray-300 z-20"}),z(S,{name:"i-fluent-shape-organic-16-filled",class:"size-6 -ml-4 text-gray-400 z-10"}),z(S,{name:"i-fluent-shape-organic-16-filled",class:"size-6 -ml-4 mr-4 text-gray-500"}),n[73]||(n[73]=h("h1",{class:"font-medium"},"Mykorrhizasvampar",-1))]),h("div",Mv,[z(S,{name:"i-fluent-shape-organic-16-filled",class:"size-6 text-signal-400"}),n[74]||(n[74]=h("h1",{class:"font-medium"},"Naturvrdssvampar",-1))]),h("div",Ov,[z(S,{name:"i-fluent-shape-organic-16-filled",class:"size-6 text-yellow-400"}),n[75]||(n[75]=h("h1",{class:"font-medium"},"Matsvampar",-1))])])]),default:N(()=>[h("div",Tv,[z(S,{name:"i-fluent-shape-organic-16-filled",class:"size-6 text-gray-300 z-20"}),z(S,{name:"i-fluent-shape-organic-16-filled",class:"size-6 -ml-4 text-signal-400 z-10"}),z(S,{name:"i-fluent-shape-organic-16-filled",class:"size-6 -ml-4 mr-4 text-yellow-400"})])]),_:1})]),ll.value.length?(g(),$("div",zv,[(g(!0),$(_e,null,qe(ll.value,v=>(g(),$("div",{key:v.key,class:"pointer-events-auto flex flex-col sm:flex sm:flex-wrap gap-1 items-end"},[z(Vt,{"open-delay":500,"close-delay":300,mode:"click",open:u[v.key],"onUpdate:open":Oe=>u[v.key]=Oe,popper:{placement:"bottom-end"},ui:{content:"p-0 w-80"}},{content:N(()=>[h("div",Fv,[h("div",Ev,[h("div",$v,[v.icon?(g(),P(S,{key:0,name:v.icon,class:"size-5 text-primary-500 mt-0.5"},null,8,["name"])):j("",!0),h("h3",Rv,ee(mr(v.key).title||v.title),1)]),z(A,{label:"Ta bort",variant:"subtle",color:"error",size:"xs",icon:"i-tabler-pinned-off",onClick:Oe=>(an(v.key),u[v.key]=!0)},null,8,["onClick"])]),mr(v.key).description?(g(),$("p",jv,ee(mr(v.key).description),1)):(g(),$("div",Iv,"Ingen beskrivning tillgnglig.")),v.key==="naturvardsarter"?(g(),P(A,{key:2,size:"sm",color:"primary",variant:"soft",icon:"i-carbon-chart-line-smooth",onClick:ya(Oe=>nn({badgeKey:v.key}),["stop"])},{default:N(()=>[...n[76]||(n[76]=[ua(" Visa naturvrdsartsdiagram ",-1)])]),_:1},8,["onClick"])):j("",!0),v.key==="kanteffekt"?(g(),P(qa,{key:3,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"},class:"mt-2 backdrop-blur-xl border border-white/10"},{default:N(()=>[z(Ue,{ui:{root:"flex-row-reverse justify-between",label:"",description:"",base:"data-[state=unchecked]:bg-neutral-600"},size:"md",color:"primary",modelValue:we.value,"onUpdate:modelValue":n[18]||(n[18]=Oe=>we.value=Oe),label:"Tidigare kanteffekt",description:"Visa spr frn tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):j("",!0)])]),default:N(()=>[h("div",null,[z(Kt,{color:"neutral",variant:"outline",size:"lg",class:me(["cursor-pointer shadow-sm sm:ml-1.5 w-fit transition-opacity ring-muted/50",v.key==="staticOverlay"||F(v.key)?"":"opacity-50"])},{default:N(()=>[h("div",Bv,[v.icon?(g(),P(S,{key:0,name:v.icon,class:"size-5 text-primary-500"},null,8,["name"])):j("",!0),k(T)?j("",!0):(g(),$("span",Dv,ee(v.title),1))])]),_:2},1032,["class"])])]),_:2},1032,["open","onUpdate:open"])]))),128))])):j("",!0),h("div",{class:me(["relative overflow-auto transition-all duration-300 ease-in-out ",ea.value?"w-72 border-r border-neutral-300":"w-0"])},[ea.value?(g(),$("div",Nv,[h("div",Pv,[n[77]||(n[77]=h("h1",{class:"font-semibold text-lg"},"Instllningar",-1)),z(A,{icon:ea.value?"i-heroicons-chevron-left":"i-heroicons-chevron-right",variant:"outline",color:"neutral",class:"rounded-full left-4 z-10",onClick:n[19]||(n[19]=v=>ea.value=!ea.value)},null,8,["icon"])]),z(qa,{variant:"soft",ui:{body:"p-2 sm:p-3"},class:"mb-2"},{default:N(()=>[h("div",Uv,[n[79]||(n[79]=h("div",{class:"text-xs text-neutral-500"},"UIzoom",-1)),h("div",qv,[z(A,{color:"neutral",variant:"soft",size:"xs",icon:"i-heroicons-minus",onClick:n[20]||(n[20]=v=>je.value=Math.max(.75,+(je.value-.1).toFixed(2)))}),h("div",Hv,ee(Math.round(je.value*100))+"% ",1),z(A,{color:"neutral",variant:"soft",size:"xs",icon:"i-heroicons-plus",onClick:n[21]||(n[21]=v=>je.value=Math.min(2,+(je.value+.1).toFixed(2)))}),z(A,{color:"neutral",variant:"ghost",size:"xs",title:"terstll (100%)",onClick:n[22]||(n[22]=v=>je.value=1)},{default:N(()=>[...n[78]||(n[78]=[ua(" Reset ",-1)])]),_:1})])])]),_:1}),he.value?(g(),$("div",Kv,[z(Wt,{size:"lg",items:nt.value,modelValue:lt.value,"onUpdate:modelValue":n[23]||(n[23]=v=>lt.value=v),placeholder:Z.value.label,"append-to-body":"",variant:"outline",class:"w-full"},{item:N(({item:v})=>[h("div",Wv,[h("div",Yv,ee(v.label),1),v.description?(g(),$("div",Gv,ee(v.description),1)):j("",!0)])]),_:1},8,["items","modelValue","placeholder"]),z(Wt,{size:"lg",items:nt.value,modelValue:ga.value,"onUpdate:modelValue":n[24]||(n[24]=v=>ga.value=v),placeholder:Ee.value.label,"append-to-body":"",variant:"outline",class:"w-full"},{item:N(({item:v})=>[h("div",Xv,[h("div",Zv,ee(v.label),1),v.description?(g(),$("div",Jv,ee(v.description),1)):j("",!0)])]),_:1},8,["items","modelValue","placeholder"])])):(g(),$(_e,{key:1},[n[80]||(n[80]=h("h1",{class:"text-xs text-neutral-400"},"Skogsbruksmetod",-1)),z(Wt,{size:"xl",items:nt.value,modelValue:lt.value,"onUpdate:modelValue":n[25]||(n[25]=v=>lt.value=v),placeholder:Z.value.label,"append-to-body":"",variant:"subtle",class:"w-full"},{item:N(({item:v})=>[h("div",Qv,[h("div",ef,ee(v.label),1),v.description?(g(),$("div",tf,ee(v.description),1)):j("",!0)])]),_:1},8,["items","modelValue","placeholder"])],64)),h("div",af,[h("div",rf,[h("div",nf,[It.value||Nt.value||pt.value?(g(),P(Ue,{key:0,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:be.value,"onUpdate:modelValue":n[26]||(n[26]=v=>be.value=v),label:"Hnsynstrd"},null,8,["modelValue"])):j("",!0),It.value||Nt.value||pt.value?(g(),P(Ue,{key:1,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:le.value,"onUpdate:modelValue":n[27]||(n[27]=v=>le.value=v),label:"Kanteffekt"},null,8,["modelValue"])):j("",!0),It.value||Nt.value||pt.value?(g(),P(Ue,{key:2,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Ye.value,"onUpdate:modelValue":n[28]||(n[28]=v=>Ye.value=v),label:"Omkringliggande skog"},null,8,["modelValue"])):j("",!0),z(Ue,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Te.value,"onUpdate:modelValue":n[29]||(n[29]=v=>Te.value=v),label:"Smplantor"},null,8,["modelValue"]),Nt.value&&le.value?(g(),P(qa,{key:3,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"}},{default:N(()=>[z(Ue,{ui:{root:"flex-row-reverse justify-between"},size:"xs",color:"neutral",modelValue:we.value,"onUpdate:modelValue":n[30]||(n[30]=v=>we.value=v),label:"Tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):j("",!0),pt.value?(g(),P(Ue,{key:4,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Se.value,"onUpdate:modelValue":n[31]||(n[31]=v=>Se.value=v),label:"Rtter skrmtrd"},null,8,["modelValue"])):j("",!0),fr.value?(g(),P(Ue,{key:5,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Ce.value,"onUpdate:modelValue":n[32]||(n[32]=v=>Ce.value=v),label:"Rtter bldning"},null,8,["modelValue"])):j("",!0),z(Ue,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Me.value,"onUpdate:modelValue":n[33]||(n[33]=v=>Me.value=v),label:"Hgstubbar"},null,8,["modelValue"]),It.value||Nt.value||fr.value||pt.value?(g(),P(Ue,{key:6,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ke.value,"onUpdate:modelValue":n[34]||(n[34]=v=>ke.value=v),label:"Naturvrdsarter"},null,8,["modelValue"])):j("",!0),pt.value?(g(),P(Ue,{key:7,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Ae.value,"onUpdate:modelValue":n[35]||(n[35]=v=>Ae.value=v),label:"Frtrd"},null,8,["modelValue"])):j("",!0),z(Ue,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:pe.value,"onUpdate:modelValue":n[36]||(n[36]=v=>pe.value=v),label:"Trdplantor"},null,8,["modelValue"]),z(Ue,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:$e.value,"onUpdate:modelValue":n[37]||(n[37]=v=>$e.value=v),label:"Spara klick (dev)"},null,8,["modelValue"]),z(Ue,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:Le.value,"onUpdate:modelValue":n[38]||(n[38]=v=>Le.value=v),label:"Visa myc-etiketter (dev)"},null,8,["modelValue"]),z(Ue,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:We.value,"onUpdate:modelValue":n[39]||(n[39]=v=>We.value=v),label:"Visa naturvrdssiffra (dev)"},null,8,["modelValue"])])])])])):j("",!0)],2),h("div",lf,[!fe.value&&!he.value?(g(),$("div",sf,[z(k(l),{"tradplantor-visible":pe.value,"naturvardsarter-visible":ke.value,"hogstubbar-visible":Me.value,"smaplantor-visible":Te.value,"dev-save-clicks":$e.value,"show-overlay-labels":Le.value,"show-naturvard-counter":We.value,"seedTree-visible":Ae.value,"rottacke-skarmtrad-visible":Se.value,"rottacke-bladning-visible":Ce.value,"retention-visible":be.value,"old-kanteffekt-visible":we.value,"kanteffekt-visible":le.value,"omkringliggande-skog-visible":Ye.value,"retention-points":oe.value.retention,"seed-tree-points":oe.value.seedTree,"smaplantor-points":oe.value.smaplantor,"hogstubbar-points":oe.value.hogstubbar,"naturvardsarter-points":oe.value.naturvardsarter,"kanteffekt-features":oe.value.kanteffekt,fullscreenLayout:!0,currentFramework:Z.value,currentTime:Je.value,currentStartskog:ie.value,layoutMode:de.value,ref_key:"singleViewerRef",ref:Ua,frameworkLabel:Z.value.label,timeLabel:Ze.value,dziUrl:Pa.value,overlayDziUrl:_.value,allowPan:!0,annotations:Yr.value?li.value:[],selectedAnnotation:ye.value,globalOpacity:y.value,"onUpdate:globalOpacity":n[40]||(n[40]=v=>y.value=v),onAnnotationClicked:Ne,class:"w-full h-full ui-zoom-exempt"},null,8,["tradplantor-visible","naturvardsarter-visible","hogstubbar-visible","smaplantor-visible","dev-save-clicks","show-overlay-labels","show-naturvard-counter","seedTree-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","retention-visible","old-kanteffekt-visible","kanteffekt-visible","omkringliggande-skog-visible","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","annotations","selectedAnnotation","globalOpacity"]),z(Vi,{name:"slide-out"},{default:N(()=>[ye.value?(g(),$("div",of,[n[81]||(n[81]=h("div",{class:"h-64 flex items-center justify-center text-neutral-300"}," Bild kommer snart ",-1)),z(A,{color:"white",ui:{rounded:"rounded-full"},icon:"heroicons:x-mark",onClick:De,class:"absolute top-2 right-2"}),h("div",uf,[h("h3",cf,ee(ye.value.title),1),h("p",df,ee(ye.value.text),1)])])):j("",!0)]),_:1})])):fe.value?(g(),P(yl,{key:1,class:"w-full",ref_key:"comparisonSliderRef",ref:Fe,frameworkLabel:Z.value.label,timeLabel:"Fre avverkning",frameworkLabel2:Z.value.label,timeLabel2:Ze.value,layoutMode:de.value},{first:N(()=>[V.value?(g(),P(k(l),{key:1,"naturvardsarter-visible":ke.value,"retention-visible":be.value,"kanteffekt-visible":le.value,"omkringliggande-skog-visible":Ye.value,"old-kanteffekt-visible":we.value,"rottacke-skarmtrad-visible":Se.value,"rottacke-bladning-visible":Ce.value,"seedTree-visible":Ae.value,"smaplantor-visible":Te.value,"hogstubbar-visible":Me.value,"tradplantor-visible":pe.value,fullscreenLayout:!0,"show-overlay-labels":Le.value,"show-naturvard-counter":We.value,"retention-points":st.value.retention,"seed-tree-points":st.value.seedTree,"smaplantor-points":st.value.smaplantor,"hogstubbar-points":st.value.hogstubbar,"naturvardsarter-points":st.value.naturvardsarter,"kanteffekt-features":st.value.kanteffekt,currentFramework:Z.value,currentTime:"innan",currentStartskog:ie.value,layoutMode:de.value,ref_key:"beforeViewerRef",ref:St,comparisonMode:!0,frameworkLabel:Z.value.label,timeLabel:"Fre avverkning",dziUrl:vl.value,overlayDziUrl:R.value,allowPan:!0,onOpened:n[43]||(n[43]=v=>Ht("before")),onActivated:n[44]||(n[44]=v=>Dt.value.valueOf="before"),globalOpacity:y.value,"onUpdate:globalOpacity":n[45]||(n[45]=v=>y.value=v),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentStartskog","layoutMode","frameworkLabel","dziUrl","overlayDziUrl","globalOpacity"])):(g(),P(k(l),{key:0,"naturvardsarter-visible":ke.value,"retention-visible":be.value,"kanteffekt-visible":le.value,"omkringliggande-skog-visible":Ye.value,"old-kanteffekt-visible":we.value,"rottacke-skarmtrad-visible":Se.value,"rottacke-bladning-visible":Ce.value,"seedTree-visible":Ae.value,"smaplantor-visible":Te.value,"hogstubbar-visible":Me.value,"tradplantor-visible":pe.value,fullscreenLayout:!0,"show-overlay-labels":Le.value,"show-naturvard-counter":We.value,"retention-points":st.value.retention,"seed-tree-points":st.value.seedTree,"smaplantor-points":st.value.smaplantor,"hogstubbar-points":st.value.hogstubbar,"naturvardsarter-points":st.value.naturvardsarter,"kanteffekt-features":st.value.kanteffekt,currentFramework:Z.value,currentTime:"innan",currentStartskog:ie.value,layoutMode:de.value,ref_key:"beforeViewerRef",ref:St,comparisonMode:!0,frameworkLabel:Z.value.label,timeLabel:"Fre avverkning",dziUrl:vl.value,overlayDziUrl:R.value,allowPan:!0,onOpened:n[41]||(n[41]=v=>Ht("before")),onActivated:n[42]||(n[42]=v=>Dt.value.valueOf="before"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentStartskog","layoutMode","frameworkLabel","dziUrl","overlayDziUrl"]))]),second:N(()=>[V.value?(g(),P(k(l),{key:1,"naturvardsarter-visible":ke.value,"retention-visible":be.value,"kanteffekt-visible":le.value,"omkringliggande-skog-visible":Ye.value,"old-kanteffekt-visible":we.value,"rottacke-skarmtrad-visible":Se.value,"rottacke-bladning-visible":Ce.value,"seedTree-visible":Ae.value,"smaplantor-visible":Te.value,"hogstubbar-visible":Me.value,"tradplantor-visible":pe.value,fullscreenLayout:!0,"show-overlay-labels":Le.value,"show-naturvard-counter":We.value,"retention-points":oe.value.retention,"seed-tree-points":oe.value.seedTree,"smaplantor-points":oe.value.smaplantor,"hogstubbar-points":oe.value.hogstubbar,"naturvardsarter-points":oe.value.naturvardsarter,"kanteffekt-features":oe.value.kanteffekt,currentFramework:Z.value,currentTime:Je.value,currentStartskog:ie.value,layoutMode:de.value,ref_key:"afterViewerRef",ref:Ct,comparisonMode:!0,frameworkLabel:Z.value.label,timeLabel:Ze.value,dziUrl:Pa.value,overlayDziUrl:G.value,allowPan:!0,sliderPosition:"right",onOpened:n[48]||(n[48]=v=>Ht("after")),onActivated:n[49]||(n[49]=v=>Dt.value.valueOf="after"),globalOpacity:y.value,"onUpdate:globalOpacity":n[50]||(n[50]=v=>y.value=v),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","globalOpacity"])):(g(),P(k(l),{key:0,"naturvardsarter-visible":ke.value,"retention-visible":be.value,"kanteffekt-visible":le.value,"omkringliggande-skog-visible":Ye.value,"old-kanteffekt-visible":we.value,"rottacke-skarmtrad-visible":Se.value,"rottacke-bladning-visible":Ce.value,"seedTree-visible":Ae.value,"smaplantor-visible":Te.value,"hogstubbar-visible":Me.value,"tradplantor-visible":pe.value,fullscreenLayout:!0,"show-overlay-labels":Le.value,"show-naturvard-counter":We.value,"retention-points":oe.value.retention,"seed-tree-points":oe.value.seedTree,"smaplantor-points":oe.value.smaplantor,"hogstubbar-points":oe.value.hogstubbar,"naturvardsarter-points":oe.value.naturvardsarter,"kanteffekt-features":oe.value.kanteffekt,currentFramework:Z.value,currentTime:Je.value,currentStartskog:ie.value,layoutMode:de.value,ref_key:"afterViewerRef",ref:Ct,comparisonMode:!0,frameworkLabel:Z.value.label,timeLabel:Ze.value,dziUrl:Pa.value,overlayDziUrl:G.value,allowPan:!0,sliderPosition:"right",onOpened:n[46]||(n[46]=v=>Ht("after")),onActivated:n[47]||(n[47]=v=>Dt.value.valueOf="after"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl"]))]),_:1},8,["frameworkLabel","frameworkLabel2","timeLabel2","layoutMode"])):he.value?(g(),P(yl,{key:2,ref_key:"comparisonSliderRef",ref:Fe,frameworkLabel:Z.value.label,timeLabel:Ze.value,frameworkLabel2:Ee.value.label,timeLabel2:Ze.value,layoutMode:de.value,class:"w-full"},{first:N(()=>[V.value?(g(),P(k(l),{key:1,"naturvardsarter-visible":ke.value,"retention-visible":be.value,"kanteffekt-visible":le.value,"old-kanteffekt-visible":we.value,"rottacke-skarmtrad-visible":Se.value,"rottacke-bladning-visible":Ce.value,"seedTree-visible":Ae.value,"smaplantor-visible":Te.value,"hogstubbar-visible":Me.value,"tradplantor-visible":pe.value,fullscreenLayout:!0,"show-overlay-labels":Le.value,"show-naturvard-counter":We.value,"retention-points":oe.value.retention,"seed-tree-points":oe.value.seedTree,"smaplantor-points":oe.value.smaplantor,"hogstubbar-points":oe.value.hogstubbar,"naturvardsarter-points":oe.value.naturvardsarter,"kanteffekt-features":oe.value.kanteffekt,currentFramework:Z.value,currentTime:Je.value,currentStartskog:ie.value,layoutMode:de.value,ref_key:"framework1ViewerRef",ref:At,comparisonMode:!0,frameworkLabel:Z.value.label,timeLabel:Ze.value,dziUrl:Pa.value,overlayDziUrl:J.value,allowPan:!fe.value&&!he.value,globalOpacity:y.value,"onUpdate:globalOpacity":n[54]||(n[54]=v=>y.value=v),onViewportChanged:n[55]||(n[55]=v=>xr("framework1",v)),onOpened:n[56]||(n[56]=v=>Ht("framework1")),onActivated:n[57]||(n[57]=v=>Dt.value.valueOf="framework1"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan","globalOpacity"])):(g(),P(k(l),{key:0,"naturvardsarter-visible":ke.value,"retention-visible":be.value,"kanteffekt-visible":le.value,"omkringliggande-skog-visible":Ye.value,"old-kanteffekt-visible":we.value,"rottacke-skarmtrad-visible":Se.value,"rottacke-bladning-visible":Ce.value,"seedTree-visible":Ae.value,"smaplantor-visible":Te.value,"hogstubbar-visible":Me.value,"tradplantor-visible":pe.value,fullscreenLayout:!0,"show-overlay-labels":Le.value,"show-naturvard-counter":We.value,"retention-points":oe.value.retention,"seed-tree-points":oe.value.seedTree,"smaplantor-points":oe.value.smaplantor,"hogstubbar-points":oe.value.hogstubbar,"naturvardsarter-points":oe.value.naturvardsarter,"kanteffekt-features":oe.value.kanteffekt,currentFramework:Z.value,currentTime:Je.value,currentStartskog:ie.value,layoutMode:de.value,ref_key:"framework1ViewerRef",ref:At,comparisonMode:!0,frameworkLabel:Z.value.label,timeLabel:Ze.value,dziUrl:Pa.value,overlayDziUrl:J.value,allowPan:!fe.value&&!he.value,onViewportChanged:n[51]||(n[51]=v=>xr("framework1",v)),onOpened:n[52]||(n[52]=v=>Ht("framework1")),onActivated:n[53]||(n[53]=v=>Dt.value.valueOf="framework1"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan"]))]),second:N(()=>[V.value?(g(),P(k(l),{key:1,"naturvardsarter-visible":ke.value,"retention-visible":be.value,"kanteffekt-visible":le.value,"old-kanteffekt-visible":we.value,"rottacke-skarmtrad-visible":Se.value,"rottacke-bladning-visible":Ce.value,"seedTree-visible":Ae.value,"smaplantor-visible":Te.value,"hogstubbar-visible":Me.value,"tradplantor-visible":pe.value,fullscreenLayout:!0,"show-overlay-labels":Le.value,"show-naturvard-counter":We.value,"retention-points":it.value.retention,"seed-tree-points":it.value.seedTree,"smaplantor-points":it.value.smaplantor,"hogstubbar-points":it.value.hogstubbar,"naturvardsarter-points":it.value.naturvardsarter,"kanteffekt-features":it.value.kanteffekt,currentFramework:Ee.value,currentTime:Je.value,currentStartskog:ie.value,layoutMode:de.value,ref_key:"framework2ViewerRef",ref:Tt,comparisonMode:!0,frameworkLabel:Ee.value.label,timeLabel:Ze.value,dziUrl:fl.value,overlayDziUrl:Be.value,globalOpacity:y.value,"onUpdate:globalOpacity":n[61]||(n[61]=v=>y.value=v),allowPan:!fe.value&&!he.value,sliderPosition:"right",onViewportChanged:n[62]||(n[62]=v=>xr("framework2",v)),onOpened:n[63]||(n[63]=v=>Ht("framework2")),onActivated:n[64]||(n[64]=v=>Dt.value.valueOf="framework2"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","globalOpacity","allowPan"])):(g(),P(k(l),{key:0,"naturvardsarter-visible":ke.value,"retention-visible":be.value,"kanteffekt-visible":le.value,"old-kanteffekt-visible":we.value,"rottacke-skarmtrad-visible":Se.value,"rottacke-bladning-visible":Ce.value,"seedTree-visible":Ae.value,"smaplantor-visible":Te.value,"hogstubbar-visible":Me.value,"tradplantor-visible":pe.value,fullscreenLayout:!0,"show-overlay-labels":Le.value,"show-naturvard-counter":We.value,"retention-points":it.value.retention,"seed-tree-points":it.value.seedTree,"smaplantor-points":it.value.smaplantor,"hogstubbar-points":it.value.hogstubbar,"naturvardsarter-points":it.value.naturvardsarter,"kanteffekt-features":it.value.kanteffekt,currentFramework:Ee.value,currentTime:Je.value,currentStartskog:ie.value,layoutMode:de.value,ref_key:"framework2ViewerRef",ref:Tt,comparisonMode:!0,frameworkLabel:Ee.value.label,timeLabel:Ze.value,dziUrl:fl.value,overlayDziUrl:Be.value,allowPan:!fe.value&&!he.value,sliderPosition:"right",onViewportChanged:n[58]||(n[58]=v=>xr("framework2",v)),onOpened:n[59]||(n[59]=v=>Ht("framework2")),onActivated:n[60]||(n[60]=v=>Dt.value.valueOf="framework2"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan"]))]),_:1},8,["frameworkLabel","timeLabel","frameworkLabel2","timeLabel2","layoutMode"])):j("",!0)]),Bt.value?j("",!0):(g(),$("div",vf,[h("div",ff,[!fe.value&&!he.value?(g(),$("div",mf,[h("div",{class:"p-3 group text-base/7",onClick:bt},[z(Vt,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:N(()=>[h("div",hf,[(g(),$(_e,null,qe(jt,(v,Oe)=>h("div",{key:v.id,onClick:mn=>lt.value=Oe,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[h("div",null,[h("div",bf,ee(v.label),1),h("div",kf,ee(v.text),1)])],8,gf)),64))])]),default:N(()=>[h("h2",pf,ee(Z.value.label),1)]),_:1}),h("div",yf,[h("h3",xf,ee(Ze.value),1),z(A,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",color:"neutral",variant:"soft",size:"xs",label:dt.value?"Dlj info":"Visa info",onClick:vt},null,8,["label"])]),dt.value&&ot.value?(g(),$("div",_f,[h("p",{class:"mb-4 text-neutral-50",innerHTML:Ie(ot.value.skog)},null,8,wf),h("div",null,[n[82]||(n[82]=h("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),h("span",{class:"text-neutral-50",innerHTML:Ie(ot.value.svamp)},null,8,Sf)])])):dt.value?(g(),$("div",Cf," Ingen tidslinjeinformation hittades fr den hr kombinationen. ")):j("",!0)])])):fe.value?(g(),$("div",Af,[br.value?(g(),$("div",{key:0,class:"p-3 group text-base/7",onClick:bt},[z(Vt,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:N(()=>[h("div",Vf,[(g(),$(_e,null,qe(jt,(v,Oe)=>h("div",{key:v.id,onClick:mn=>lt.value=Oe,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[h("div",null,[h("div",Mf,ee(v.label),1),h("div",Of,ee(v.text),1)])],8,Lf)),64))])]),default:N(()=>[h("h2",Tf,ee(Z.value.label),1)]),_:1}),h("div",zf,[n[83]||(n[83]=h("h3",{class:"text-md text-neutral-200"}," Fre avverkning ",-1)),z(A,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:dt.value?"Dlj info":"Visa info",onClick:vt},null,8,["label"])]),dt.value?(g(),$("div",Bf,[h("p",{class:"mb-2 text-neutral-50",innerHTML:Ie(br.value.skog)},null,8,Df),h("div",null,[n[84]||(n[84]=h("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),h("span",{class:"text-neutral-50",innerHTML:Ie(br.value.svamp)},null,8,Ff)])])):j("",!0)])):j("",!0),ot.value?(g(),$("div",{key:1,class:"p-4 group border border-neutral-200/10 rounded-sm shadow bg-neutral-950/20",onClick:bt},[h("div",Ef,[h("h3",$f,ee(Ze.value),1),z(A,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:M.value?"Dlj info":"Visa info",onClick:lr},null,8,["label"])]),M.value?(g(),$("div",Rf,[h("p",{class:"mb-2 text-neutral-50",innerHTML:Ie(ot.value.skog)},null,8,jf),h("div",null,[n[85]||(n[85]=h("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),h("span",{class:"text-neutral-50",innerHTML:Ie(ot.value.svamp)},null,8,If)])])):j("",!0)])):j("",!0)])):he.value?(g(),$("div",Nf,[ot.value?(g(),$("div",{key:0,class:"p-3 group text-base/7",onClick:bt},[z(Vt,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:N(()=>[h("div",Uf,[(g(),$(_e,null,qe(jt,(v,Oe)=>h("div",{key:v.id,onClick:mn=>lt.value=Oe,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[h("div",null,[h("div",Hf,ee(v.label),1),h("div",Kf,ee(v.text),1)])],8,qf)),64))])]),default:N(()=>[h("h2",Pf,ee(Z.value.label),1)]),_:1}),h("div",Wf,[h("h3",Yf,ee(Ze.value),1),z(A,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:dt.value?"Dlj info":"Visa info",onClick:vt},null,8,["label"])]),dt.value?(g(),$("div",Gf,[h("p",{class:"mb-2 text-neutral-50",innerHTML:Ie(ot.value.skog)},null,8,Xf),h("div",null,[n[86]||(n[86]=h("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),h("span",{class:"text-neutral-50",innerHTML:Ie(ot.value.svamp)},null,8,Zf)])])):j("",!0)])):j("",!0),gr.value?(g(),$("div",{key:1,class:"p-4 group border border-neutral-200/10 rounded-sm shadow bg-neutral-950/20",onClick:bt},[z(Vt,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:N(()=>[h("div",Qf,[(g(),$(_e,null,qe(jt,(v,Oe)=>h("div",{key:"framework2-"+v.id,onClick:mn=>ga.value=Oe,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[h("div",null,[h("div",tm,ee(v.label),1),h("div",am,ee(v.text),1)])],8,em)),64))])]),default:N(()=>[h("h2",Jf,ee(Ee.value.label),1)]),_:1}),h("div",rm,[h("h3",nm,ee(Ze.value),1),z(A,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:M.value?"Dlj info":"Visa info",onClick:lr},null,8,["label"])]),M.value?(g(),$("div",lm,[h("p",{class:"mb-2 text-neutral-50",innerHTML:Ie(gr.value.skog)},null,8,sm),h("div",null,[n[87]||(n[87]=h("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),h("span",{class:"text-neutral-50",innerHTML:Ie(gr.value.svamp)},null,8,im)])])):j("",!0)])):j("",!0)])):j("",!0),h("div",om,[h("div",um,[Ba.value?(g(),P(A,{key:0,size:"xl",onClick:Ea,variant:"ghost",class:"text-white hover:bg-neutral-500/20 w-full",label:or.value,icon:"i-heroicons-arrow-left-circle"},null,8,["label"])):j("",!0)]),h("div",cm,[Da.value?(g(),P(A,{key:0,size:"xl",onClick:Wr,variant:"ghost",class:"w-full text-white hover:bg-neutral-500/20 flex justify-end",trailing:"",label:Fa.value,icon:"i-heroicons-arrow-right-circle"},null,8,["label"])):j("",!0)])])])]))])])])}}}),km=Object.assign(Nl(vm,[["__scopeId","data-v-ae7e7693"]]),{__name:"Model"});export{Ld as D,cd as _,km as a,Ad as b,Td as c,wd as u};
