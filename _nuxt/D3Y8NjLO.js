const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CatEMnDv.js","./CQTjxKW4.js","./entry.B-6UOPsD.css","./Cpj98o6Y.js","./D6cKXRgt.js","./747IVAhr.js","./B0VoygWj.js","./DMQLQ62E.js","./BWuJ0jvd.js","./OSQk7Lzx.js","./CcbwAkLh.js","./hg6Rz1vw.js","./o2I9E7u7.js","./DSuDQZqg.js","./DfyBcFo5.js","./iik6CYzq.js","./B9i8ASNm.js","./Bef1NJ4Y.js","./SCarousel.DbZX_4vZ.css","./OpenSeadragonViewer.CRlQGVcM.css"])))=>i.map(i=>d[i]);
import{A as mt,C as dl,I as Ls,Z as vl,V as p,B as Ms,M as U,e as h,w as z,N as $t,f as $,O as F,Y as fl,S as Os,U as la,P as tn,a3 as Gn,a4 as zs,a5 as Ds,y as Fs,a9 as $s,a8 as js,aQ as Es,aR as Bs,aa as Yn,h as v,d as D,n as ve,g as _,am as Ha,F as Oe,ah as wt,t as W,aI as an,r as w,o as jt,K as Xt,c as oa,J as K,aC as Ie,aD as Ee,aE as qe,aS as ml,aT as ka,aU as Er,aV as Ns,af as et,aO as Rs,ae as rn,aW as hl,_ as pl,aM as gl,aB as nn,aX as ln,aY as Us,p as Ps,aL as Is,aZ as qs,a_ as Hs,a$ as Ws,b0 as Gs,T as Ys,b as Zs,aH as Xs,b1 as Ks,aG as Js,ad as Qs,ao as ei,au as ti,aA as ai,aK as ri}from"#entry";import{_ as bl}from"./D6cKXRgt.js";import{L as ni,_ as kl,a as li,b as si}from"./DMQLQ62E.js";import{u as ii,V as oi}from"./BWuJ0jvd.js";import{X as sn,O as yl,c as Be,i as ar,a as on,b as Br,g as Zt,m as Lr,d as ui,e as Nr,f as ci,r as di,h as Ya,s as ft,j as xa,D as Ia,k as vi,l as fi,n as mi,o as hi,p as pi,q as gi,t as wa,u as bi,v as Rr,P as ki,w as yi,x as _i,y as xi,z as wi,A as Ur,B as un,C as rr,E as nr,S as Si,F as Mr,G as Zn}from"./OSQk7Lzx.js";import{d as Ti}from"./CcbwAkLh.js";import{_ as Ci}from"./hg6Rz1vw.js";import{M as Ai}from"./o2I9E7u7.js";import{_ as Vi}from"./DSuDQZqg.js";import{_ as Li}from"./B9i8ASNm.js";import{_ as Mi}from"./Bef1NJ4Y.js";const[Oi,zi]=Ms("SwitchRoot");var Di=mt({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,r=t,{disabled:s}=dl(a),i=Ls(a,"modelValue",r,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function c(){s.value||(i.value=!i.value)}const{forwardRef:o,currentElement:d}=vl(),x=ii(d),f=p(()=>a.id&&d.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return zi({modelValue:i,toggleCheck:c,disabled:s}),(m,A)=>(h(),U(F(tn),fl(m.$attrs,{id:m.id,ref:F(o),role:"switch",type:m.as==="button"?"button":void 0,value:m.value,"aria-label":m.$attrs["aria-label"]||f.value,"aria-checked":F(i),"aria-required":m.required,"data-state":F(i)?"checked":"unchecked","data-disabled":F(s)?"":void 0,"as-child":m.asChild,as:m.as,disabled:F(s),onClick:c,onKeydown:Os(la(c,["prevent"]),["enter"])}),{default:z(()=>[$t(m.$slots,"default",{modelValue:F(i)}),F(x)&&m.name?(h(),U(F(oi),{key:0,type:"checkbox",name:m.name,disabled:F(s),required:m.required,value:m.value,checked:!!F(i)},null,8,["name","disabled","required","value","checked"])):$("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),Fi=Di,$i=mt({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=Oi();return vl(),(a,r)=>(h(),U(F(tn),{"data-state":F(t).modelValue?.value?"checked":"unchecked","data-disabled":F(t).disabled.value?"":void 0,"as-child":a.asChild,as:a.as},{default:z(()=>[$t(a.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"]))}}),ji=$i;const Ei={slots:{root:"relative flex items-start",base:["inline-flex items-center shrink-0 rounded-full border-2 border-transparent focus-visible:outline-2 focus-visible:outline-offset-2 data-[state=unchecked]:bg-accented","transition-[background] duration-200"],container:"flex items-center",thumb:"group pointer-events-none rounded-full bg-default shadow-lg ring-0 transition-transform duration-200 data-[state=unchecked]:translate-x-0 data-[state=unchecked]:rtl:-translate-x-0 flex items-center justify-center",icon:["absolute shrink-0 group-data-[state=unchecked]:text-dimmed opacity-0 size-10/12","transition-[color,opacity] duration-200"],wrapper:"ms-2",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"data-[state=checked]:bg-primary focus-visible:outline-primary",icon:"group-data-[state=checked]:text-primary"},secondary:{base:"data-[state=checked]:bg-secondary focus-visible:outline-secondary",icon:"group-data-[state=checked]:text-secondary"},tertiary:{base:"data-[state=checked]:bg-tertiary focus-visible:outline-tertiary",icon:"group-data-[state=checked]:text-tertiary"},rodeodust:{base:"data-[state=checked]:bg-rodeodust focus-visible:outline-rodeodust",icon:"group-data-[state=checked]:text-rodeodust"},poison:{base:"data-[state=checked]:bg-poison focus-visible:outline-poison",icon:"group-data-[state=checked]:text-poison"},signal:{base:"data-[state=checked]:bg-signal focus-visible:outline-signal",icon:"group-data-[state=checked]:text-signal"},info:{base:"data-[state=checked]:bg-info focus-visible:outline-info",icon:"group-data-[state=checked]:text-info"},success:{base:"data-[state=checked]:bg-success focus-visible:outline-success",icon:"group-data-[state=checked]:text-success"},warning:{base:"data-[state=checked]:bg-warning focus-visible:outline-warning",icon:"group-data-[state=checked]:text-warning"},error:{base:"data-[state=checked]:bg-error focus-visible:outline-error",icon:"group-data-[state=checked]:text-error"},kalkmark:{base:"data-[state=checked]:bg-kalkmark focus-visible:outline-kalkmark",icon:"group-data-[state=checked]:text-kalkmark"},vanligmark:{base:"data-[state=checked]:bg-vanligmark focus-visible:outline-vanligmark",icon:"group-data-[state=checked]:text-vanligmark"},time:{base:"data-[state=checked]:bg-time focus-visible:outline-time",icon:"group-data-[state=checked]:text-time"},neutral:{base:"data-[state=checked]:bg-inverted focus-visible:outline-inverted",icon:"group-data-[state=checked]:text-highlighted"}},size:{xs:{base:"w-7",container:"h-4",thumb:"size-3 data-[state=checked]:translate-x-3 data-[state=checked]:rtl:-translate-x-3",wrapper:"text-xs"},sm:{base:"w-8",container:"h-4",thumb:"size-3.5 data-[state=checked]:translate-x-3.5 data-[state=checked]:rtl:-translate-x-3.5",wrapper:"text-xs"},md:{base:"w-9",container:"h-5",thumb:"size-4 data-[state=checked]:translate-x-4 data-[state=checked]:rtl:-translate-x-4",wrapper:"text-sm"},lg:{base:"w-10",container:"h-5",thumb:"size-4.5 data-[state=checked]:translate-x-4.5 data-[state=checked]:rtl:-translate-x-4.5",wrapper:"text-sm"},xl:{base:"w-11",container:"h-6",thumb:"size-5 data-[state=checked]:translate-x-5 data-[state=checked]:rtl:-translate-x-5",wrapper:"text-base"}},checked:{true:{icon:"group-data-[state=checked]:opacity-100"}},unchecked:{true:{icon:"group-data-[state=unchecked]:opacity-100"}},loading:{true:{icon:"animate-spin"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75",description:"cursor-not-allowed opacity-75"}}},defaultVariants:{color:"primary",size:"md"}},Bi=Object.assign({inheritAttrs:!1},{__name:"USwitch",props:Gn({as:{type:null,required:!1},color:{type:null,required:!1},size:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1},checkedIcon:{type:[String,Object],required:!1},uncheckedIcon:{type:[String,Object],required:!1},label:{type:String,required:!1},description:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},value:{type:String,required:!1},defaultValue:{type:Boolean,required:!1}},{modelValue:{type:Boolean,default:void 0},modelModifiers:{}}),emits:Gn(["change"],["update:modelValue"]),setup(e,{emit:t}){const a=e,r=zs(),s=t,i=Ds(e,"modelValue",{type:Boolean,default:void 0}),c=Fs(),o=$s(js(a,"required","value","defaultValue")),{id:d,emitFormChange:x,emitFormInput:f,size:m,color:A,name:V,disabled:E,ariaAttrs:N}=Es(a),S=d.value??Bs(),y=p(()=>Yn({extend:Yn(Ei),...c.ui?.switch||{}})({size:m.value,color:A.value,required:a.required,loading:a.loading,disabled:E.value||a.loading}));function R(L){const P=new Event("change",{target:{value:L}});s("change",P),x(),f()}return(L,P)=>(h(),U(F(tn),{as:e.as,class:ve(y.value.root({class:[a.ui?.root,a.class]}))},{default:z(()=>[v("div",{class:ve(y.value.container({class:a.ui?.container}))},[_(F(Fi),fl({id:F(S)},{...F(o),...L.$attrs,...F(N)},{modelValue:i.value,"onUpdate:modelValue":[P[0]||(P[0]=X=>i.value=X),R],name:F(V),disabled:F(E)||e.loading,class:y.value.base({class:a.ui?.base})}),{default:z(()=>[_(F(ji),{class:ve(y.value.thumb({class:a.ui?.thumb}))},{default:z(()=>[e.loading?(h(),U(Ha,{key:0,name:e.loadingIcon||F(c).ui.icons.loading,class:ve(y.value.icon({class:a.ui?.icon,checked:!0,unchecked:!0}))},null,8,["name","class"])):(h(),D(Oe,{key:1},[e.checkedIcon?(h(),U(Ha,{key:0,name:e.checkedIcon,class:ve(y.value.icon({class:a.ui?.icon,checked:!0}))},null,8,["name","class"])):$("",!0),e.uncheckedIcon?(h(),U(Ha,{key:1,name:e.uncheckedIcon,class:ve(y.value.icon({class:a.ui?.icon,unchecked:!0}))},null,8,["name","class"])):$("",!0)],64))]),_:1},8,["class"])]),_:1},16,["id","modelValue","name","disabled","class"])],2),e.label||r.label||e.description||r.description?(h(),D("div",{key:0,class:ve(y.value.wrapper({class:a.ui?.wrapper}))},[e.label||r.label?(h(),U(F(ni),{key:0,for:F(S),class:ve(y.value.label({class:a.ui?.label}))},{default:z(()=>[$t(L.$slots,"label",{label:e.label},()=>[wt(W(e.label),1)])]),_:3},8,["for","class"])):$("",!0),e.description||r.description?(h(),D("p",{key:1,class:ve(y.value.description({class:a.ui?.description}))},[$t(L.$slots,"description",{description:e.description},()=>[wt(W(e.description),1)])],2)):$("",!0)],2)):$("",!0)]),_:3},8,["as","class"]))}});var Pr=Math.PI,Ir=2*Pr,Yt=1e-6,Ni=Ir-Yt;function qr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function lr(){return new qr}qr.prototype=lr.prototype={constructor:qr,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,a,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+a)+","+(this._y1=+r)},bezierCurveTo:function(e,t,a,r,s,i){this._+="C"+ +e+","+ +t+","+ +a+","+ +r+","+(this._x1=+s)+","+(this._y1=+i)},arcTo:function(e,t,a,r,s){e=+e,t=+t,a=+a,r=+r,s=+s;var i=this._x1,c=this._y1,o=a-e,d=r-t,x=i-e,f=c-t,m=x*x+f*f;if(s<0)throw new Error("negative radius: "+s);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(m>Yt)if(!(Math.abs(f*o-d*x)>Yt)||!s)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var A=a-i,V=r-c,E=o*o+d*d,N=A*A+V*V,S=Math.sqrt(E),y=Math.sqrt(m),R=s*Math.tan((Pr-Math.acos((E+m-N)/(2*S*y)))/2),L=R/y,P=R/S;Math.abs(L-1)>Yt&&(this._+="L"+(e+L*x)+","+(t+L*f)),this._+="A"+s+","+s+",0,0,"+ +(f*A>x*V)+","+(this._x1=e+P*o)+","+(this._y1=t+P*d)}},arc:function(e,t,a,r,s,i){e=+e,t=+t,a=+a,i=!!i;var c=a*Math.cos(r),o=a*Math.sin(r),d=e+c,x=t+o,f=1^i,m=i?r-s:s-r;if(a<0)throw new Error("negative radius: "+a);this._x1===null?this._+="M"+d+","+x:(Math.abs(this._x1-d)>Yt||Math.abs(this._y1-x)>Yt)&&(this._+="L"+d+","+x),a&&(m<0&&(m=m%Ir+Ir),m>Ni?this._+="A"+a+","+a+",0,1,"+f+","+(e-c)+","+(t-o)+"A"+a+","+a+",0,1,"+f+","+(this._x1=d)+","+(this._y1=x):m>Yt&&(this._+="A"+a+","+a+",0,"+ +(m>=Pr)+","+f+","+(this._x1=e+a*Math.cos(s))+","+(this._y1=t+a*Math.sin(s))))},rect:function(e,t,a,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +a+"v"+ +r+"h"+-a+"Z"},toString:function(){return this._}};function ze(e){return function(){return e}}var Xn=1e-12,Za=Math.PI,sr=2*Za;function _l(e){this._context=e}_l.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cn(e){return new _l(e)}function xl(e){return e[0]}function wl(e){return e[1]}function Ri(){var e=xl,t=wl,a=ze(!0),r=null,s=cn,i=null;function c(o){var d,x=o.length,f,m=!1,A;for(r==null&&(i=s(A=lr())),d=0;d<=x;++d)!(d<x&&a(f=o[d],d,o))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,d,o),+t(f,d,o));if(A)return i=null,A+""||null}return c.x=function(o){return arguments.length?(e=typeof o=="function"?o:ze(+o),c):e},c.y=function(o){return arguments.length?(t=typeof o=="function"?o:ze(+o),c):t},c.defined=function(o){return arguments.length?(a=typeof o=="function"?o:ze(!!o),c):a},c.curve=function(o){return arguments.length?(s=o,r!=null&&(i=s(r)),c):s},c.context=function(o){return arguments.length?(o==null?r=i=null:i=s(r=o),c):r},c}function Ui(){var e=xl,t=null,a=ze(0),r=wl,s=ze(!0),i=null,c=cn,o=null;function d(f){var m,A,V,E=f.length,N,S=!1,y,R=new Array(E),L=new Array(E);for(i==null&&(o=c(y=lr())),m=0;m<=E;++m){if(!(m<E&&s(N=f[m],m,f))===S)if(S=!S)A=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),V=m-1;V>=A;--V)o.point(R[V],L[V]);o.lineEnd(),o.areaEnd()}S&&(R[m]=+e(N,m,f),L[m]=+a(N,m,f),o.point(t?+t(N,m,f):R[m],r?+r(N,m,f):L[m]))}if(y)return o=null,y+""||null}function x(){return Ri().defined(s).curve(c).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:ze(+f),t=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ze(+f),d):e},d.x1=function(f){return arguments.length?(t=f==null?null:typeof f=="function"?f:ze(+f),d):t},d.y=function(f){return arguments.length?(a=typeof f=="function"?f:ze(+f),r=null,d):a},d.y0=function(f){return arguments.length?(a=typeof f=="function"?f:ze(+f),d):a},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ze(+f),d):r},d.lineX0=d.lineY0=function(){return x().x(e).y(a)},d.lineY1=function(){return x().x(e).y(r)},d.lineX1=function(){return x().x(t).y(a)},d.defined=function(f){return arguments.length?(s=typeof f=="function"?f:ze(!!f),d):s},d.curve=function(f){return arguments.length?(c=f,i!=null&&(o=c(i)),d):c},d.context=function(f){return arguments.length?(f==null?i=o=null:o=c(i=f),d):i},d}const Sl={draw:function(e,t){var a=Math.sqrt(t/Za);e.moveTo(a,0),e.arc(0,0,a,0,sr)}},Pi={draw:function(e,t){var a=Math.sqrt(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}};var Tl=Math.sqrt(1/3),Ii=Tl*2;const qi={draw:function(e,t){var a=Math.sqrt(t/Ii),r=a*Tl;e.moveTo(0,-a),e.lineTo(r,0),e.lineTo(0,a),e.lineTo(-r,0),e.closePath()}};var Hi=.8908130915292852,Cl=Math.sin(Za/10)/Math.sin(7*Za/10),Wi=Math.sin(sr/10)*Cl,Gi=-Math.cos(sr/10)*Cl;const Yi={draw:function(e,t){var a=Math.sqrt(t*Hi),r=Wi*a,s=Gi*a;e.moveTo(0,-a),e.lineTo(r,s);for(var i=1;i<5;++i){var c=sr*i/5,o=Math.cos(c),d=Math.sin(c);e.lineTo(d*a,-o*a),e.lineTo(o*r-d*s,d*r+o*s)}e.closePath()}},Zi={draw:function(e,t){var a=Math.sqrt(t),r=-a/2;e.rect(r,r,a,a)}};var Or=Math.sqrt(3);const Xi={draw:function(e,t){var a=-Math.sqrt(t/(Or*3));e.moveTo(0,a*2),e.lineTo(-Or*a,-a),e.lineTo(Or*a,-a),e.closePath()}};var Je=-.5,Qe=Math.sqrt(3)/2,Hr=1/Math.sqrt(12),Ki=(Hr/2+1)*3;const Ji={draw:function(e,t){var a=Math.sqrt(t/Ki),r=a/2,s=a*Hr,i=r,c=a*Hr+a,o=-i,d=c;e.moveTo(r,s),e.lineTo(i,c),e.lineTo(o,d),e.lineTo(Je*r-Qe*s,Qe*r+Je*s),e.lineTo(Je*i-Qe*c,Qe*i+Je*c),e.lineTo(Je*o-Qe*d,Qe*o+Je*d),e.lineTo(Je*r+Qe*s,Je*s-Qe*r),e.lineTo(Je*i+Qe*c,Je*c-Qe*i),e.lineTo(Je*o+Qe*d,Je*d-Qe*o),e.closePath()}};function Qi(){var e=ze(Sl),t=ze(64),a=null;function r(){var s;if(a||(a=s=lr()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),s)return a=null,s+""||null}return r.type=function(s){return arguments.length?(e=typeof s=="function"?s:ze(s),r):e},r.size=function(s){return arguments.length?(t=typeof s=="function"?s:ze(+s),r):t},r.context=function(s){return arguments.length?(a=s??null,r):a},r}function Et(){}function Xa(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function ir(e){this._context=e}ir.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eo(e){return new ir(e)}function Al(e){this._context=e}Al.prototype={areaStart:Et,areaEnd:Et,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function to(e){return new Al(e)}function Vl(e){this._context=e}Vl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:Xa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ao(e){return new Vl(e)}function Ll(e,t){this._basis=new ir(e),this._beta=t}Ll.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,a=e.length-1;if(a>0)for(var r=e[0],s=t[0],i=e[a]-r,c=t[a]-s,o=-1,d;++o<=a;)d=o/a,this._basis.point(this._beta*e[o]+(1-this._beta)*(r+d*i),this._beta*t[o]+(1-this._beta)*(s+d*c));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const ro=(function e(t){function a(r){return t===1?new ir(r):new Ll(r,t)}return a.beta=function(r){return e(+r)},a})(.85);function Ka(e,t,a){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-a),e._x2,e._y2)}function dn(e,t){this._context=e,this._k=(1-t)/6}dn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ka(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Ka(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const no=(function e(t){function a(r){return new dn(r,t)}return a.tension=function(r){return e(+r)},a})(0);function vn(e,t){this._context=e,this._k=(1-t)/6}vn.prototype={areaStart:Et,areaEnd:Et,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ka(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const lo=(function e(t){function a(r){return new vn(r,t)}return a.tension=function(r){return e(+r)},a})(0);function fn(e,t){this._context=e,this._k=(1-t)/6}fn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ka(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const so=(function e(t){function a(r){return new fn(r,t)}return a.tension=function(r){return e(+r)},a})(0);function mn(e,t,a){var r=e._x1,s=e._y1,i=e._x2,c=e._y2;if(e._l01_a>Xn){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,d=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/d,s=(s*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/d}if(e._l23_a>Xn){var x=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,f=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*x+e._x1*e._l23_2a-t*e._l12_2a)/f,c=(c*x+e._y1*e._l23_2a-a*e._l12_2a)/f}e._context.bezierCurveTo(r,s,i,c,e._x2,e._y2)}function Ml(e,t){this._context=e,this._alpha=t}Ml.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:mn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const io=(function e(t){function a(r){return t?new Ml(r,t):new dn(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function Ol(e,t){this._context=e,this._alpha=t}Ol.prototype={areaStart:Et,areaEnd:Et,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:mn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const oo=(function e(t){function a(r){return t?new Ol(r,t):new vn(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function zl(e,t){this._context=e,this._alpha=t}zl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:mn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const uo=(function e(t){function a(r){return t?new zl(r,t):new fn(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function Dl(e){this._context=e}Dl.prototype={areaStart:Et,areaEnd:Et,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function co(e){return new Dl(e)}function Kn(e){return e<0?-1:1}function Jn(e,t,a){var r=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(r||s<0&&-0),c=(a-e._y1)/(s||r<0&&-0),o=(i*s+c*r)/(r+s);return(Kn(i)+Kn(c))*Math.min(Math.abs(i),Math.abs(c),.5*Math.abs(o))||0}function Qn(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function zr(e,t,a){var r=e._x0,s=e._y0,i=e._x1,c=e._y1,o=(i-r)/3;e._context.bezierCurveTo(r+o,s+o*t,i-o,c-o*a,i,c)}function Ja(e){this._context=e}Ja.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zr(this,this._t0,Qn(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,zr(this,Qn(this,a=Jn(this,e,t)),a);break;default:zr(this,this._t0,a=Jn(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function Fl(e){this._context=new $l(e)}(Fl.prototype=Object.create(Ja.prototype)).point=function(e,t){Ja.prototype.point.call(this,t,e)};function $l(e){this._context=e}$l.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,r,s,i){this._context.bezierCurveTo(t,e,r,a,i,s)}};function vo(e){return new Ja(e)}function fo(e){return new Fl(e)}function jl(e){this._context=e}jl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var r=el(e),s=el(t),i=0,c=1;c<a;++i,++c)this._context.bezierCurveTo(r[0][i],s[0][i],r[1][i],s[1][i],e[c],t[c]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function el(e){var t,a=e.length-1,r,s=new Array(a),i=new Array(a),c=new Array(a);for(s[0]=0,i[0]=2,c[0]=e[0]+2*e[1],t=1;t<a-1;++t)s[t]=1,i[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[a-1]=2,i[a-1]=7,c[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=s[t]/i[t-1],i[t]-=r,c[t]-=r*c[t-1];for(s[a-1]=c[a-1]/i[a-1],t=a-2;t>=0;--t)s[t]=(c[t]-s[t+1])/i[t];for(i[a-1]=(e[a]+s[a-1])/2,t=0;t<a-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function mo(e){return new jl(e)}function or(e,t){this._context=e,this._t=t}or.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function ho(e){return new or(e,.5)}function po(e){return new or(e,0)}function go(e){return new or(e,1)}function tl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function bo(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?tl(Object(a),!0).forEach(function(r){ko(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tl(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function ya(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ya=function(t){return typeof t}:ya=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya(e)}function ko(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Qa(){return Qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Qa.apply(this,arguments)}function yo(e,t){if(e){if(typeof e=="string")return al(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return al(e,t)}}function al(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function El(e,t){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=yo(e))||t){a&&(e=a);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,c=!1,o;return{s:function(){a=a.call(e)},n:function(){var d=a.next();return i=d.done,d},e:function(d){c=!0,o=d},f:function(){try{!i&&a.return!=null&&a.return()}finally{if(c)throw o}}}}function _o(e,t){var a=[],r=[];function s(i,c){if(i.length===1)a.push(i[0]),r.push(i[0]);else{for(var o=Array(i.length-1),d=0;d<o.length;d++)d===0&&a.push(i[0]),d===o.length-1&&r.push(i[d+1]),o[d]=[(1-c)*i[d][0]+c*i[d+1][0],(1-c)*i[d][1]+c*i[d+1][1]];s(o,c)}}return e.length&&s(e,t),{left:a,right:r.reverse()}}function xo(e){var t={};return e.length===4&&(t.x2=e[2][0],t.y2=e[2][1]),e.length>=3&&(t.x1=e[1][0],t.y1=e[1][1]),t.x=e[e.length-1][0],t.y=e[e.length-1][1],e.length===4?t.type="C":e.length===3?t.type="Q":t.type="L",t}function wo(e,t){t=t||2;for(var a=[],r=e,s=1/t,i=0;i<t-1;i++){var c=s/(1-s*i),o=_o(r,c);a.push(o.left),r=o.right}return a.push(r),a}function So(e,t,a){var r=[[e.x,e.y]];return t.x1!=null&&r.push([t.x1,t.y1]),t.x2!=null&&r.push([t.x2,t.y2]),r.push([t.x,t.y]),wo(r,a).map(xo)}var To=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,ia={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};Object.keys(ia).forEach(function(e){ia[e.toLowerCase()]=ia[e]});function Wr(e,t){for(var a=Array(e),r=0;r<e;r++)a[r]=t;return a}function Co(e){return"".concat(e.type).concat(ia[e.type].map(function(t){return e[t]}).join(","))}function Ao(e,t){var a={x1:"x",y1:"y",x2:"x",y2:"y"},r=["xAxisRotation","largeArcFlag","sweepFlag"];if(e.type!==t.type&&t.type.toUpperCase()!=="M"){var s={};Object.keys(t).forEach(function(i){var c=t[i],o=e[i];o===void 0&&(r.includes(i)?o=c:(o===void 0&&a[i]&&(o=e[a[i]]),o===void 0&&(o=0))),s[i]=o}),s.type=t.type,e=s}return e}function Vo(e,t,a){var r=[];if(t.type==="L"||t.type==="Q"||t.type==="C")r=r.concat(So(e,t,a));else{var s=Qa({},e);s.type==="M"&&(s.type="L"),r=r.concat(Wr(a-1).map(function(){return s})),r.push(t)}return r}function rl(e,t,a){var r=e.length-1,s=t.length-1,i=r/s,c=Wr(s).reduce(function(d,x,f){var m=Math.floor(i*f);if(a&&m<e.length-1&&a(e[m],e[m+1])){var A=i*f%1<.5;d[m]&&(A?m>0?m-=1:m<e.length-1&&(m+=1):m<e.length-1?m+=1:m>0&&(m-=1))}return d[m]=(d[m]||0)+1,d},[]),o=c.reduce(function(d,x,f){if(f===e.length-1){var m=Wr(x,Qa({},e[e.length-1]));return m[0].type==="M"&&m.forEach(function(A){A.type="L"}),d.concat(m)}return d.concat(Vo(e[f],e[f+1],x))},[]);return o.unshift(e[0]),o}function nl(e){for(var t=(e||"").match(To)||[],a=[],r,s,i=0;i<t.length;++i)if(r=ia[t[i]],r){s={type:t[i]};for(var c=0;c<r.length;++c)s[r[c]]=+t[i+c+1];i+=r.length,a.push(s)}return a}function Lo(e,t,a){var r=e==null?[]:e.slice(),s=t==null?[]:t.slice(),i=ya(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},c=i.excludeSegment,o=i.snapEndsToInput;if(!r.length&&!s.length)return function(){return[]};var d=(r.length===0||r[r.length-1].type==="Z")&&(s.length===0||s[s.length-1].type==="Z");r.length>0&&r[r.length-1].type==="Z"&&r.pop(),s.length>0&&s[s.length-1].type==="Z"&&s.pop(),r.length?s.length||s.push(r[0]):r.push(s[0]);var x=Math.abs(s.length-r.length);x!==0&&(s.length>r.length?r=rl(r,s,c):s.length<r.length&&(s=rl(s,r,c))),r=r.map(function(m,A){return Ao(m,s[A])});var f=r.map(function(m){return bo({},m)});return d&&(f.push({type:"Z"}),r.push({type:"Z"})),function(A){if(A===1&&o)return t??[];if(A===0)return r;for(var V=0;V<f.length;++V){var E=r[V],N=s[V],S=f[V],y=El(ia[S.type]),R;try{for(y.s();!(R=y.n()).done;){var L=R.value;S[L]=(1-A)*E[L]+A*N[L],(L==="largeArcFlag"||L==="sweepFlag")&&(S[L]=Math.round(S[L]))}}catch(P){y.e(P)}finally{y.f()}}return f}}function Mo(e,t,a){var r=nl(e),s=nl(t),i=ya(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},c=i.excludeSegment,o=i.snapEndsToInput;if(!r.length&&!s.length)return function(){return""};var d=Lo(r,s,{excludeSegment:c,snapEndsToInput:o});return function(f){if(f===1&&o)return t??"";var m=d(f),A="",V=El(m),E;try{for(V.s();!(E=V.n()).done;){var N=E.value;A+=Co(N)}}catch(S){V.e(S)}finally{V.f()}return A}}var xe;(function(e){e.Basis="basis",e.BasisClosed="basisClosed",e.BasisOpen="basisOpen",e.Bundle="bundle",e.Cardinal="cardinal",e.CardinalClosed="cardinalClosed",e.CardinalOpen="cardinalOpen",e.CatmullRom="catmullRom",e.CatmullRomClosed="catmullRomClosed",e.CatmullRomOpen="catmullRomOpen",e.Linear="linear",e.LinearClosed="linearClosed",e.MonotoneX="monotoneX",e.MonotoneY="monotoneY",e.Natural="natural",e.Step="step",e.StepAfter="stepAfter",e.StepBefore="stepBefore"})(xe||(xe={}));const Oo={[xe.Basis]:eo,[xe.BasisClosed]:to,[xe.BasisOpen]:ao,[xe.Bundle]:ro,[xe.Cardinal]:no,[xe.CardinalClosed]:lo,[xe.CardinalOpen]:so,[xe.CatmullRom]:io,[xe.CatmullRomClosed]:oo,[xe.CatmullRomOpen]:uo,[xe.Linear]:cn,[xe.LinearClosed]:co,[xe.MonotoneX]:vo,[xe.MonotoneY]:fo,[xe.Natural]:mo,[xe.Step]:ho,[xe.StepAfter]:go,[xe.StepBefore]:po},zo=Object.assign(Object.assign({},sn),{color:void 0,groupMaxWidth:void 0,groupWidth:void 0,dataStep:void 0,groupPadding:.05,barPadding:0,roundedCorners:2,barMinHeight:2,cursor:null,orientation:yl.Vertical}),Bl=Be`
  label: grouped-bar-component;
`,Do=ar`
  :root {
    --vis-grouped-bar-cursor: default;
    --vis-grouped-bar-fill-color: var(--vis-color-main);
    --vis-grouped-bar-stroke-color: none;
    --vis-grouped-bar-stroke-width: 0px;
    --vis-grouped-bar-hover-stroke-width: 1px;
    --vis-grouped-bar-hover-stroke-color: none;


    /* Dark Theme */
    --vis-dark-grouped-bar-stroke-color: none;
  }

  body.theme-dark ${`.${Bl}`} {
    --vis-grouped-bar-stroke-color: var(--vis-dark-grouped-bar-stroke-color);
  }
`,Wa=Be`
  label: bar;
  fill: var(--vis-grouped-bar-fill-color);
  stroke: var(--vis-grouped-bar-stroke-color);
  stroke-width: var(--vis-grouped-bar-stroke-width);
  cursor: var(--vis-grouped-bar-cursor);

  &:hover {
    stroke-width: var(--vis-grouped-bar-hover-stroke-width);
    stroke: var(--vis-grouped-bar-hover-stroke-color);
  }
`,Gr=Be`
  label: barGroup;
`,Nl=Be`
  label: barGroupExit;
`,Fo=Object.freeze(Object.defineProperty({__proto__:null,bar:Wa,barGroup:Gr,barGroupExit:Nl,globalStyles:Do,root:Bl},Symbol.toStringTag,{value:"Module"}));class Rl extends on{constructor(t){super(),this._defaultConfig=zo,this.config=this._defaultConfig,this.getAccessors=()=>Br(this.config.y)?this.config.y:[this.config.y],this.events={},this._barData=[],t&&this.setConfig(t)}get bleed(){if(this._barData=this._getVisibleData(),this._barData.length===0)return{top:0,bottom:0,left:0,right:0};const t=!this.isVertical()&&this.dataScale.range()[0]>this.dataScale.range()[1],a=this.dataScale.domain(),r=this._getGroupWidth()/2,s=this._barData.map((V,E)=>Zt(V,this.config.x,E)),i=Lr(s),c=ui(s),o=this.dataScale(i),d=this.dataScale(c),x=this.dataScale.invert(o+(t?r:-r)),f=this.dataScale.invert(d+(t?-r:r)),m=x<=a[0]?this.dataScale(a[0])-this.dataScale(x):0,A=f>a[1]?this.dataScale(f)-this.dataScale(a[1]):0;return{top:this.isVertical()?0:t?-A:m,bottom:this.isVertical()?0:t?-m:A,left:this.isVertical()?m:0,right:this.isVertical()?A:0}}get dataScale(){return this.isVertical()?this.xScale:this.yScale}get valueScale(){return this.isVertical()?this.yScale:this.xScale}isVertical(){return this.config.orientation===yl.Vertical}_render(t){const{config:a}=this,r=Nr(t)?t:a.duration,s=this._getGroupWidth(),i=this.getAccessors(),c=[-s/2,s/2],o=ci().domain(di(i.length)).range(c).paddingInner(a.barPadding).paddingOuter(a.barPadding),d=this.g.selectAll(`.${Gr}`).data(this._barData,(R,L)=>{var P;return`${(P=Ya(R,a.id,L))!==null&&P!==void 0?P:L}`}),x=(R,L)=>{const P=this.dataScale(Zt(R,a.x,L)),X=this.isVertical()?P:0,G=this.isVertical()?0:P;return`translate(${X},${G})`},m=d.enter().append("g").attr("class",Gr).attr("transform",x).style("opacity",1).merge(d);ft(m,r).attr("transform",x).style("opacity",1);const A=d.exit().attr("class",Nl);ft(A,r).style("opacity",0).remove(),ft(A.selectAll(`.${Wa}`),r).attr("transform",(R,L,P)=>this.isVertical()?`translate(0,${this.yScale(0)}) scale(1,0)`:`translate(${this.xScale(0)},0) scale(0,1)`);const V=o.bandwidth(),E=m.selectAll(`.${Wa}`).data(R=>i.map(()=>R)),N=this._getValueAxisDirection(),y=E.enter().append("path").attr("class",Wa).attr("d",(R,L)=>{const P=o(L),X=this.valueScale(0),G=V;return this._getBarPath(P,X,G,0,!1,N)}).style("fill",(R,L)=>xa(R,a.color,L)).merge(E);ft(y,r).attr("d",(R,L)=>{const P=o(L),X=V,G=Zt(R,i[L]),te=G<0;let me=te?this.valueScale(0):this.valueScale(G||0),Q=Math.abs(this.valueScale(0)-this.valueScale(G))||0;if(Q<a.barMinHeight){const ie=N===Ia.North?-1:1;me=this.valueScale(0)+ie*a.barMinHeight,Q=a.barMinHeight}return this._getBarPath(P,me,X,Q,te,N)}).style("fill",(R,L)=>xa(R,a.color,L)).style("cursor",(R,L)=>Ya(R,a.cursor,L)),ft(E.exit(),r).remove()}_getValueAxisDirection(){return this.valueScale.range()[0]>this.valueScale.range()[1]?Ia.North:Ia.South}_getVisibleData(){const{config:t,datamodel:{data:a}}=this,r=this._getGroupWidth(),s=a.length<2?0:r/2,i=this.dataScale,c=Math.abs(i.invert(s)-i.invert(0));return a?.filter((d,x)=>{const f=Zt(d,t.x,x),m=i.domain(),A=+m[0],V=+m[1];return f>=A-c&&f<=V+c})}_getBarPath(t,a,r,s,i,c){const{config:o}=this,d=o.roundedCorners?Nr(o.roundedCorners)?+o.roundedCorners:r/2:0,x=gi(d,0,Math.min(s,r)/2),f=c===Ia.North,m=this.isVertical()&&i!==f,A=this.isVertical()&&i===f,V=!this.isVertical()&&i,E=!this.isVertical()&&!i;return vi({x:this.isVertical()?t:a+(f?0:-s),y:this.isVertical()?a+(f?0:-s):t,w:this.isVertical()?r:s,h:this.isVertical()?s:r,tl:m||V,tr:m||E,bl:A||V,br:A||E,r:x})}_getGroupWidth(){const{config:t,datamodel:{data:a}}=this;if(fi(a))return 0;if(t.groupWidth)return Lr([t.groupWidth,t.groupMaxWidth]);const r=this.dataScale.bandwidth,s=this.dataScale.domain?this.dataScale.domain():[];let c=1+(r?s.length:s[1]-s[0])/t.dataStep||!r&&a.filter((x,f)=>{const m=Zt(x,t.x,f);return m>=s[0]&&m<=s[1]}).length||a.length;!r&&c>=2&&(c+=1);const d=(c<2?1:1-t.groupPadding)*(this.isVertical()?this._width:this._height)/c;return Lr([d,t.groupMaxWidth])}getValueScaleExtent(t){const{datamodel:a}=this,r=this.getAccessors(),s=t?this._getVisibleData():a.data,i=mi(s,...r),c=hi(s,...r);return[i>0?0:i,c<0?0:c]}getDataScaleExtent(){const{config:t,datamodel:a}=this;return pi(a.data,t.x)}getYDataExtent(t){return this.isVertical()?this.getValueScaleExtent(t):this.getDataScaleExtent()}getXDataExtent(){return this.isVertical()?this.getDataScaleExtent():this.getValueScaleExtent(!1)}}Rl.selectors=Fo;var vt;(function(e){e.Circle="circle",e.Cross="cross",e.Diamond="diamond",e.Square="square",e.Star="star",e.Triangle="triangle",e.Wye="wye"})(vt||(vt={}));const $o={[vt.Circle]:Sl,[vt.Cross]:Pi,[vt.Diamond]:qi,[vt.Square]:Zi,[vt.Star]:Yi,[vt.Triangle]:Xi,[vt.Wye]:Ji},He=Object.assign(Object.assign({},vt),{Line:"line"});var er;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(er||(er={}));const jo={items:[],labelClassName:"",onLegendItemClick:void 0,labelFontSize:null,labelMaxWidth:null,bulletSize:null,bulletSpacing:4,bulletShape:e=>{var t;return(t=e.shape)!==null&&t!==void 0?t:He.Circle},orientation:er.Horizontal,renderIntoProvidedDomNode:!1},qa=ki*3,Eo={[He.Circle]:Math.PI/4,[He.Cross]:5/9,[He.Diamond]:Math.sqrt(3)/6,[He.Square]:1,[He.Star]:.3,[He.Triangle]:Math.sqrt(3)/4,[He.Wye]:5/11};function Ul(e,t,a){return t<1?0:e*t+a*(t-1)}function Bo(e){e.each((t,a,r)=>{wa(r[a]).append("svg").attr("width","100%").attr("height","100%").append("path")})}function No(e,t,a){e.each((r,s,i)=>{var c;const o=Ya(r,t.bulletShape,s),d=bi((c=r.color)!==null&&c!==void 0?c:xa(r,a,s)),x=d.length,f=qa,m=Rr(getComputedStyle(i[s]).getPropertyValue("--vis-legend-bullet-size")),A=t.bulletSpacing*(qa/m),V=Ul(f,x,A),E=o===He.Line?qa/2.5:qa,N=wa(i[s]).select("svg").attr("viewBox",`0 0 ${V} ${E}`);N.selectAll("path").remove();const S=r.inactive?"var(--vis-legend-bullet-inactive-opacity)":1;d.forEach((y,R)=>{const L=N.append("path");if(o===He.Line){const P=R*(f+A),X=P+f;L.attr("d",`M${P},${E/2} L${X},${E/2}`).attr("transform",null).style("opacity",S).style("stroke",y).style("stroke-width","3px").style("fill",null).style("fill-opacity",null).style("marker-start","none").style("marker-end","none")}else{const P=Qi().type($o[o]).size(f*E*Eo[o]),X=(f-2)/f;let G=E/2;switch(o){case He.Triangle:G+=E/8;break;case He.Star:G+=E/16;break;case He.Wye:G-=E/16;break}const te=R*(f+A)+f/2;L.attr("d",P).attr("transform",`translate(${te}, ${Math.round(G)}) scale(${X})`).style("stroke",y).style("stroke-width","1px").style("opacity",null).style("fill",y).style("fill-opacity",S)}})})}const hn=Be`
  label: bullet-legend-component;
`,Ro=ar`
  :root {
    // Undefined by default to allow proper fallback to var(--vis-font-family)
    /* --vis-legend-font-family: */

    --vis-legend-label-color: #6c778c;
    --vis-legend-label-max-width: 300px;
    --vis-legend-label-font-size: 12px;
    --vis-legend-bullet-size: 9px;
    --vis-legend-bullet-inactive-opacity: 0.15;
    --vis-legend-item-spacing: 20px;
    --vis-legend-vertical-item-spacing: 5px;
    --vis-legend-bullet-label-spacing: 8px;

    --vis-dark-legend-label-color: #eee;
  }

  body.theme-dark ${`.${hn}`} {
    --vis-legend-label-color: var(--vis-dark-legend-label-color);
  }

  body.theme-patterns {
    --vis-legend-bullet-size: 14px;
  }
`,Ga=Be`
  label: legendItem;
  display: inline-flex;
  align-items: center;
  font-family: var(--vis-legend-font-family, var(--vis-font-family));
  margin-right: var(--vis-legend-item-spacing);
  white-space: nowrap;
  cursor: default;
  user-select: none;
  max-width: min-content;
`,Pl=Be`
  label: legendItemVertical;
  display: flex;
  margin-top: var(--vis-legend-vertical-item-spacing);
`,Il=Be`
  cursor: pointer;
`,Yr=Be`
  label: legendItemLabel;
  font-size: var(--vis-legend-label-font-size);
  display: inline-block;
  vertical-align: middle;
  color: var(--vis-legend-label-color);
  max-width: var(--vis-legend-label-max-width);
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
`,Zr=Be`
  flex: 0 0 auto;
  label: legendItemBullet;
  margin-right: var(--vis-legend-bullet-label-spacing);
  height: var(--vis-legend-bullet-size);
  width: var(--vis-legend-bullet-size);

  svg {
    display: block;
  }
`,Uo=Object.freeze(Object.defineProperty({__proto__:null,bullet:Zr,clickable:Il,item:Ga,itemVertical:Pl,label:Yr,root:hn,variables:Ro},Symbol.toStringTag,{value:"Module"}));class ql{constructor(t,a){this._defaultConfig=jo,this.config=this._defaultConfig,this._colorAccessor=r=>r.color,this._container=t,this.div=a?.renderIntoProvidedDomNode?wa(this._container):wa(this._container).append("div"),this.div.classed(hn,!0),this.element=this.div.node(),a&&this.update(a)}update(t){this.prevConfig=this.config,this.config=yi(this._defaultConfig,t),this.render()}render(){const{config:t}=this,a=this.div.selectAll(`.${Ga}`).data(t.items),r=a.enter().append("div").on("click",this._onItemClick.bind(this)),s=r.merge(a);s.attr("class",i=>{var c;return`${Ga} ${(c=i.className)!==null&&c!==void 0?c:""}`}).classed(Pl,t.orientation===er.Vertical).classed(Il,i=>!!t.onLegendItemClick&&this._isItemClickable(i)).attr("title",i=>i.name).style("display",i=>i.hidden?"none":null),r.append("span").attr("class",Zr).call(Bo),s.select(`.${Zr}`).style("width",function(i){const o=(Array.isArray(i.color)?i.color:[i.color]).length,d=Rr(getComputedStyle(this).getPropertyValue("--vis-legend-bullet-size"))||9,x=t.bulletSize?Rr(t.bulletSize):d,f=t.bulletSpacing;return`${Ul(x,o,f)}px`}).style("height",t.bulletSize).style("box-sizing","content-box").call(No,this.config,this._colorAccessor),r.append("span").attr("class",Yr).classed(t.labelClassName,!0).style("max-width",t.labelMaxWidth).style("font-size",t.labelFontSize),s.select(`.${Yr}`).text(i=>i.name),a.exit().remove()}_isItemClickable(t){return t.pointer===void 0?!0:t.pointer}_onItemClick(t,a){const{config:{onLegendItemClick:r}}=this,i=this.div.selectAll(`.${Ga}`).nodes().indexOf(t.currentTarget);r&&r(a,i)}destroy(){this.element!==this._container&&this.div.remove()}}ql.selectors=Uo;var Xr;(function(e){e.Solid="solid",e.Dash="dash",e.DashDot="dashDot",e.Dot="dot",e.LongDash="longDash",e.LongDashDot="longDashDot",e.LongDashDotDot="longDashDotDot",e.ShortDash="shortDash",e.ShortDashDot="shortDashDot",e.ShortDashDotDot="shortDashDotDot",e.ShortDot="shortDot"})(Xr||(Xr={}));var J;(function(e){e.TopLeft="top-left",e.Top="top",e.TopRight="top-right",e.Right="right",e.BottomRight="bottom-right",e.Bottom="bottom",e.BottomLeft="bottom-left",e.Left="left"})(J||(J={}));var tr;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(tr||(tr={}));const Po=Object.assign(Object.assign({},sn),{color:void 0,curveType:xe.MonotoneX,baseline:()=>0,opacity:1,cursor:null,minHeight1Px:!1,minHeight:void 0}),Hl=Be`
  label: area-component;
`,Io=ar`
  :root {
    --vis-area-cursor: default;
    --vis-area-fill-opacity: 1;
    --vis-area-stroke-color: none;
    --vis-area-stroke-width: 0px;
    --vis-area-stroke-dasharray: none;
    --vis-area-stroke-opacity: 1;
    --vis-area-hover-fill-opacity: none;
    --vis-area-hover-stroke-width: none;

    /* Dark Theme */
    --vis-dark-area-stroke-color: none;
  }

  body.theme-dark ${`.${Hl}`} {
    --vis-area-stroke-color: var(--vis-dark-area-stroke-color);
  }

`,Kr=Be`
  label: area;
  cursor: var(--vis-area-cursor);
  fill-opacity: var(--vis-area-fill-opacity);
  stroke-width: var(--vis-area-stroke-width);
  stroke-dasharray: var(--vis-area-stroke-dasharray);
  stroke: var(--vis-area-stroke-color);
  stroke-opacity: var(--vis-area-stroke-opacity);

  &:hover {
    fill-opacity: var(--vis-area-hover-fill-opacity);
    stroke-width: var(--vis-area-hover-stroke-width);
  }
`,qo=Object.freeze(Object.defineProperty({__proto__:null,area:Kr,globalStyles:Io,root:Hl},Symbol.toStringTag,{value:"Module"}));class ur extends on{constructor(t){super(),this._defaultConfig=Po,this.config=this._defaultConfig,this.stacked=!0,this.events={[ur.selectors.area]:{}},t&&this.setConfig(t),this.stacked=Array.isArray(this.config.y)}_render(t){super._render(t);const{config:a,datamodel:{data:r}}=this,s=Nr(t)?t:a.duration,i=Oo[a.curveType];this._areaGen=Ui().x(S=>S.x).y0(S=>S.y0).y1(S=>S.y1).curve(i);const c=Br(a.y)?a.y:[a.y],o=r.map((S,y)=>this.xScale(Zt(S,a.x,y))),d=_i(r,a.baseline,c,this._prevNegative);this._prevNegative=d.map(S=>!!S.isMostlyNegative);const x=[],f=d.map(S=>S.map((y,R)=>{var L,P;const X=o[R],G=this.yScale(y[0]),te=this.yScale(y[1]),me=te>G,Q=x[R]||0,ie=me?G+Q:G-Q,Z=me?te+Q:te-Q;let ne=0;return(a.minHeight||a.minHeight1Px)&&Math.abs(Z-ie)<((L=a.minHeight)!==null&&L!==void 0?L:1)&&(ne=((P=a.minHeight)!==null&&P!==void 0?P:1)-Math.abs(Z-ie),x[R]=Q+ne),{x:X,y0:ie,y1:me?Z+ne:Z-ne}})),m=f.length-1,A=f.reverse(),V=this.g.selectAll(`.${Kr}`).data(A),E=V.enter().append("path").attr("class",Kr).attr("d",S=>this._areaGen(S)||this._emptyPath()).style("opacity",0).style("fill",(S,y)=>xa(r,a.color,m-y)),N=ft(E.merge(V),s).style("opacity",(S,y)=>S.some(L=>L.y0-L.y1!==0)?Zt(r,a.opacity,m-y):0).style("fill",(S,y)=>xa(r,a.color,m-y)).style("cursor",(S,y)=>Ya(r,a.cursor,m-y));s?N.attrTween("d",(y,R,L)=>{const P=wa(L[R]).attr("d"),X=this._areaGen(y)||this._emptyPath();return Mo(P,X)}):N.attr("d",S=>this._areaGen(S)||this._emptyPath()),ft(V.exit(),s).style("opacity",0).remove()}getYDataExtent(t){const{config:a,datamodel:r}=this,s=Br(a.y)?a.y:[a.y],i=this.xScale.domain(),c=t?xi(r.data,i,a.x,!0):r.data;return wi(c,a.baseline,...s)}_emptyPath(){const t=this.xScale.range(),a=this.yScale.domain(),r=this.yScale((a[0]+a[1])/2),s=r;return this._areaGen([{y0:r,y1:s,x:t[0]},{y0:r,y1:s,x:t[1]}])}}ur.selectors=qo;const Ho={solid:"none",shortDash:"6,2",shortDot:"2,2",shortDashDot:"6,2,2,2",shortDashDotDot:"6,2,2,2,2,2",dot:"2,6",dash:"8,6",longDash:"16,6",dashDot:"8,6,2,6",longDashDot:"16,6,2,6",longDashDotDot:"16,6,2,6,2,6"},Wo={[J.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[J.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[J.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[J.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"start",dominantBaseline:"middle"}),[J.BottomRight]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[J.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[J.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[J.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"end",dominantBaseline:"middle"})},Go={[J.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-after-edge"}),[J.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"end",dominantBaseline:"middle"}),[J.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[J.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[J.BottomRight]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[J.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"middle"}),[J.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[J.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"middle",dominantBaseline:"text-after-edge"})},Yo={[J.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-after-edge"}),[J.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[J.TopRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[J.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"middle"}),[J.BottomRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a+r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[J.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[J.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[J.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"start",dominantBaseline:"middle"})},Zo={[J.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[J.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"start",dominantBaseline:"central"}),[J.TopRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[J.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[J.BottomRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a+r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[J.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"end",dominantBaseline:"central"}),[J.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[J.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"})},Xo=Object.assign(Object.assign({},sn),{lineWidth:2,axis:Ur.Y,value:0,duration:300,color:void 0,lineStyle:Xr.Solid,labelPosition:J.TopRight,labelOffsetX:14,labelOffsetY:14,labelOrientation:tr.Horizontal}),Ko=ar`
  :root {
    --vis-plotline-color: rgb(226, 32, 58);
    --vis-plotline-width: 2;
    --vis-plotline-dasharray: none;
    --vis-plotline-stroke-dashoffset: 0;
    --vis-plotline-label-font-size: 12px;
    --vis-plotline-label-color: #000;

    --vis-dark-plotline-label-color: #e5e9f7;
  }

  body.theme-dark {
    --vis-plotline-label-color: var(--vis-dark-tooltip-text-color);
  }
`,Jo=Be`
  label: plotline-component;
`,Wl=Be`
  label: plotline;
  transition: opacity 200ms;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke: var(--vis-plotline-color);
  stroke-width: var(--vis-plotline-width);
  stroke-dasharray: var(--vis-plotline-dasharray);
  stroke-dashoffset: var(--vis-plotline-stroke-dashoffset);
`,Gl=Be`
  label: plotline-label;
  text-anchor: middle;
  /* dominant-baseline: middle; */
  pointer-events: none;
  font-size: var(--vis-plotline-label-font-size);
  fill: var(--vis-plotline-label-color);
`,Qo=Object.freeze(Object.defineProperty({__proto__:null,globalStyles:Ko,label:Gl,plotline:Wl,root:Jo},Symbol.toStringTag,{value:"Module"}));class Yl extends on{constructor(t){super(),this._defaultConfig=Xo,t&&this.setConfig(t),this.plotline=this.g.append("line").attr("class",Wl),this.label=this.g.append("text").attr("class",Gl)}_render(t){super._render(t);const{config:a}=this;this.value=a.value;let r;typeof a?.lineStyle=="string"?r=Ho[a.lineStyle]:Array.isArray(a.lineStyle)?r=a.lineStyle.join(","):r="none",this.value=a.value,this.plotline.attr("stroke-opacity",1).style("stroke-width",a.lineWidth).style("stroke-dasharray",r).style("stroke",a.color);let s=0,i=0,c=0,o=0;if(a.axis===Ur.Y?(c=this.yScale(this.value),o=this.yScale(this.value),s=0,i=this._width):(c=0,o=this._height,s=this.xScale(this.value),i=this.xScale(this.value)),ft(this.plotline,a.duration).attr("x1",s).attr("x2",i).attr("y1",c).attr("y2",o),a.labelText){const d=this.computeLabel(a.axis,i,o,a.labelPosition,a.labelOffsetX,a.labelOffsetY,a.labelOrientation);this.label.text(a.labelText).attr("transform",d.transform).attr("dominant-baseline",d.dominantBaseline).style("fill",a.labelColor).style("text-anchor",d.textAnchor).style("font-size",a.labelSize?`${a.labelSize}px`:void 0),ft(this.label,a.duration).attr("x",d.x).attr("y",d.y)}ft(this.plotline.exit()).style("opacity",0).remove()}computeLabel(t,a,r,s,i,c,o){const d=o===tr.Vertical,x=d?-90:0;let f;t===Ur.X?f=(d?Go:Wo)[s]({width:a,height:r,offsetX:i,offsetY:c}):f=(d?Zo:Yo)[s]({width:a,height:r,offsetX:i,offsetY:c});const m=x?`rotate(${x}, ${f.x}, ${f.y})`:"";return Object.assign(Object.assign({},f),{rotation:x,transform:m})}}Yl.selectors=Qo;const eu={"data-vis-component":""},Dr=mt({__name:"index",props:{color:{},curveType:{},baseline:{},opacity:{},cursor:{},minHeight1Px:{type:Boolean},minHeight:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=an(un),r=e,s=p(()=>a.data.value??r.data),i=rr(r),c=w();return jt(()=>{Xt(()=>{var o;c.value=new ur(i.value),(o=c.value)==null||o.setData(s.value),a.update(c.value)})}),oa(()=>{var o;(o=c.value)==null||o.destroy(),a.destroy()}),K(i,(o,d)=>{var x;nr(o,d)||(x=c.value)==null||x.setConfig(i.value)}),K(s,()=>{var o;(o=c.value)==null||o.setData(s.value)}),t({component:c}),(o,d)=>(h(),D("div",eu))}}),tu={"data-vis-component":""},au=mt({__name:"index",props:{color:{},groupWidth:{},groupMaxWidth:{},dataStep:{},groupPadding:{},barPadding:{},roundedCorners:{type:[Number,Boolean]},barMinHeight:{},cursor:{},orientation:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=an(un),r=e,s=p(()=>a.data.value??r.data),i=rr(r),c=w();return jt(()=>{Xt(()=>{var o;c.value=new Rl(i.value),(o=c.value)==null||o.setData(s.value),a.update(c.value)})}),oa(()=>{var o;(o=c.value)==null||o.destroy(),a.destroy()}),K(i,(o,d)=>{var x;nr(o,d)||(x=c.value)==null||x.setConfig(i.value)}),K(s,()=>{var o;(o=c.value)==null||o.setData(s.value)}),t({component:c}),(o,d)=>(h(),D("div",tu))}}),ru={"data-vis-component":""},nu=mt({__name:"index",props:{color:{},lineWidth:{},axis:{},value:{},duration:{},lineStyle:{},labelText:{},labelPosition:{},labelOffsetX:{},labelOffsetY:{},labelOrientation:{},labelColor:{},labelSize:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=an(un),r=rr(e),s=w();return jt(()=>{Xt(()=>{s.value=new Yl(r.value),a.update(s.value)})}),oa(()=>{var i;(i=s.value)==null||i.destroy(),a.destroy()}),K(r,(i,c)=>{var o;nr(i,c)||(o=s.value)==null||o.setConfig(r.value)}),t({component:s}),(i,c)=>(h(),D("div",ru))}}),lu=mt({__name:"index",props:{items:{},labelClassName:{},onLegendItemClick:{type:Function},labelFontSize:{},labelMaxWidth:{},bulletSize:{},bulletSpacing:{},bulletShape:{},orientation:{},renderIntoProvidedDomNode:{type:Boolean},data:{}},setup(e,{expose:t}){const a=e;p(()=>a.data);const r=rr(a),s=w(),i=w();return jt(()=>{Xt(()=>{i.value&&(s.value=new ql(i.value,{...r.value,renderIntoProvidedDomNode:!0}))})}),oa(()=>{var c;(c=s.value)==null||c.destroy()}),K(r,(c,o)=>{var d;nr(c,o)||(d=s.value)==null||d.update(r.value)}),t({component:s}),(c,o)=>(h(),D("div",{"data-vis-bullet-legend":"",ref_key:"elRef",ref:i},null,512))}});var su=typeof global=="object"&&global&&global.Object===Object&&global,iu=typeof self=="object"&&self&&self.Object===Object&&self,ou=su||iu||Function("return this")(),ua=ou.Symbol,Zl=Object.prototype,uu=Zl.hasOwnProperty,cu=Zl.toString,ba=ua?ua.toStringTag:void 0;function du(e){var t=uu.call(e,ba),a=e[ba];try{e[ba]=void 0;var r=!0}catch{}var s=cu.call(e);return r&&(t?e[ba]=a:delete e[ba]),s}var vu=Object.prototype,fu=vu.toString;function mu(e){return fu.call(e)}var hu="[object Null]",pu="[object Undefined]",ll=ua?ua.toStringTag:void 0;function gu(e){return e==null?e===void 0?pu:hu:ll&&ll in Object(e)?du(e):mu(e)}function bu(e){return e!=null&&typeof e=="object"}var ku="[object Symbol]";function yu(e){return typeof e=="symbol"||bu(e)&&gu(e)==ku}function _u(e,t){for(var a=-1,r=e==null?0:e.length,s=Array(r);++a<r;)s[a]=t(e[a],a,e);return s}var xu=Array.isArray,sl=ua?ua.prototype:void 0,il=sl?sl.toString:void 0;function Xl(e){if(typeof e=="string")return e;if(xu(e))return _u(e,Xl)+"";if(yu(e))return il?il.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Kl(e){return e==null?"":Xl(e)}function wu(e,t,a){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),a=a>s?s:a,a<0&&(a+=s),s=t>a?0:a-t>>>0,t>>>=0;for(var i=Array(s);++r<s;)i[r]=e[r+t];return i}function Su(e,t,a){var r=e.length;return a=a===void 0?r:a,!t&&a>=r?e:wu(e,t,a)}var Tu="\\ud800-\\udfff",Cu="\\u0300-\\u036f",Au="\\ufe20-\\ufe2f",Vu="\\u20d0-\\u20ff",Lu=Cu+Au+Vu,Mu="\\ufe0e\\ufe0f",Ou="\\u200d",zu=RegExp("["+Ou+Tu+Lu+Mu+"]");function Jl(e){return zu.test(e)}function Du(e){return e.split("")}var Ql="\\ud800-\\udfff",Fu="\\u0300-\\u036f",$u="\\ufe20-\\ufe2f",ju="\\u20d0-\\u20ff",Eu=Fu+$u+ju,Bu="\\ufe0e\\ufe0f",Nu="["+Ql+"]",Jr="["+Eu+"]",Qr="\\ud83c[\\udffb-\\udfff]",Ru="(?:"+Jr+"|"+Qr+")",es="[^"+Ql+"]",ts="(?:\\ud83c[\\udde6-\\uddff]){2}",as="[\\ud800-\\udbff][\\udc00-\\udfff]",Uu="\\u200d",rs=Ru+"?",ns="["+Bu+"]?",Pu="(?:"+Uu+"(?:"+[es,ts,as].join("|")+")"+ns+rs+")*",Iu=ns+rs+Pu,qu="(?:"+[es+Jr+"?",Jr,ts,as,Nu].join("|")+")",Hu=RegExp(Qr+"(?="+Qr+")|"+qu+Iu,"g");function Wu(e){return e.match(Hu)||[]}function Gu(e){return Jl(e)?Wu(e):Du(e)}function Yu(e){return function(t){t=Kl(t);var a=Jl(t)?Gu(t):void 0,r=a?a[0]:t.charAt(0),s=a?Su(a,1).join(""):t.slice(1);return r[e]()+s}}var Zu=Yu("toUpperCase");function ol(e){return Zu(Kl(e).toLowerCase())}const Xu=mt({__name:"ForestryChartDisplay",props:{selectedFrameworks:{default:()=>[]},selectedArtkategori:{},chartType:{},currentTimeValue:{},singleFrameworkSelection:{type:Boolean,default:!1},frameworkComparisonMode:{type:Boolean,default:!1},selectedStartskog:{},redColor:{type:Boolean,default:!1},yellowColor:{type:Boolean,default:!1},maxYValue:{},matsvampVariant:{default:"standard"}},async setup(e){let t,a;const{data:r}=([t,a]=Ie(()=>Ee("svampar-skogsbruk",()=>qe("svamparSkogsbruk").first())),t=await t,a(),t),{data:s}=([t,a]=Ie(()=>Ee("matsvamp-skogsbruk",()=>qe("matsvampSkogsbruk").first())),t=await t,a(),t),{data:i}=([t,a]=Ie(()=>Ee("goda-matsvampar-skogsbruk",()=>qe("godaMatsvamparSkogsbruk").first())),t=await t,a(),t),{data:c}=([t,a]=Ie(()=>Ee("signal-rodlistade-skogsbruk",()=>qe("signalRodlistadeSkogsbruk").first())),t=await t,a(),t),{data:o}=([t,a]=Ie(()=>Ee("atheliales-skogsbruk",()=>qe("athelialesSkogsbruk").first())),t=await t,a(),t),{data:d}=([t,a]=Ie(()=>Ee("boletales-skogsbruk",()=>qe("boletalesSkogsbruk").first())),t=await t,a(),t),{data:x}=([t,a]=Ie(()=>Ee("cantharellales-skogsbruk",()=>qe("cantharellalesSkogsbruk").first())),t=await t,a(),t),{data:f}=([t,a]=Ie(()=>Ee("spindlingar-skogsbruk",()=>qe("spindlingarSkogsbruk").first())),t=await t,a(),t),{data:m}=([t,a]=Ie(()=>Ee("russulales-skogsbruk",()=>qe("russulalesSkogsbruk").first())),t=await t,a(),t),{data:A}=([t,a]=Ie(()=>Ee("thelephorales-skogsbruk",()=>qe("thelephoralesSkogsbruk").first())),t=await t,a(),t),{data:V}=([t,a]=Ie(()=>Ee("total-svampar-skogsbruk",()=>qe("totalSvamparSkogsbruk").first())),t=await t,a(),t),E=p(()=>Array.isArray(r.value?.entries)?r.value.entries:[]),N=p(()=>Array.isArray(s.value?.entries)?s.value.entries:[]),S=p(()=>Array.isArray(i.value?.entries)?i.value.entries:[]),y=p(()=>Array.isArray(c.value?.entries)?c.value.entries:[]),R=p(()=>{const g=Array.isArray(y.value)?y.value:[],T=Array.isArray(E.value)?E.value.filter(O=>O.artkategori?.toLowerCase()==="rödlistade + signalarter"&&(O.startskog?.toLowerCase()||"")!=="naturskog"):[];return[...g,...T]}),L=p(()=>Array.isArray(o.value?.entries)?o.value.entries:[]),P=p(()=>Array.isArray(d.value?.entries)?d.value.entries:[]),X=p(()=>Array.isArray(x.value?.entries)?x.value.entries:[]),G=p(()=>Array.isArray(f.value?.entries)?f.value.entries:[]),te=p(()=>Array.isArray(m.value?.entries)?m.value.entries:[]),me=p(()=>Array.isArray(A.value?.entries)?A.value.entries:[]),Q=p(()=>Array.isArray(V.value?.entries)?V.value.entries:[]),ie=p(()=>{const g=Number(C.maxYValue);return Number.isFinite(g)?[0,g]:void 0}),Z=p(()=>C.singleFrameworkSelection&&C.chartType==="area"?Ne.value:Ta.value),ne=p(()=>{const g=Z.value.map(T=>Number(T?.age)).filter(T=>Number.isFinite(T));return g.length?[Math.min(...g),Math.max(...g)]:[0,1]});p(()=>[(C.selectedFrameworks||[]).join(","),C.selectedStartskog||"",C.chartType||"",C.singleFrameworkSelection?"S":"M",C.currentTimeValue||""].join("|"));const H=p(()=>Array.isArray(Z.value)&&Z.value.length>0),ee=p(()=>{if(!C.singleFrameworkSelection)return[];if(C.frameworkComparisonMode){const g=C.selectedArtkategori?.[0];return g?[g.toLowerCase()]:[]}return(C.selectedArtkategori||[]).map(g=>(g||"").toLowerCase()).filter(g=>!oe.value.has(g))}),Kt=p(()=>ce.value.length===1?ce.value[0].color:"#000000"),ht={left:10,right:10,top:10,bottom:10},Y=w(null),Ce=w(!1);let he=null;jt(async()=>{await Xt(),Ce.value=!0,requestAnimationFrame(()=>{Y.value?.offsetWidth}),typeof window<"u"&&"ResizeObserver"in window&&(he=new ResizeObserver(()=>{Y.value?.offsetWidth}),Y.value&&he.observe(Y.value))}),ml(()=>{he&&(he.disconnect(),he=null)});const oe=w(new Set),ue=w(new Set),C=e,pe=p(()=>C.matsvampVariant==="goda"?"goda":"standard"),Me=p(()=>pe.value==="goda"?"goda matsvampar":"matsvamp"),ge=p(()=>C.redColor?{naturskydd:"#808080",trakthygge:"#7f1d1d",skärmträd:"#b91c1c",luckhuggning:"#f87171",blädning:"#fca5a5"}:C.yellowColor?{naturskydd:"#808080",trakthygge:"#713f12",skärmträd:"#a16207",luckhuggning:"#eab308",blädning:"#fde047"}:{naturskydd:"#808080",trakthygge:"#a855f7",luckhuggning:"#3b82f6",skärmträd:"#eab308",blädning:"#22c55e"});function be(g,T=1){const O=g.replace("#",""),M=O.length===3?O.split("").map(nt=>nt+nt).join(""):O,j=parseInt(M,16),I=j>>16&255,we=j>>8&255,ae=j&255;return`rgba(${I}, ${we}, ${ae}, ${T})`}p(()=>{const g={före:-5,efter:1,10:10,20:20,50:50,80:80};return[C.currentTimeValue?g[C.currentTimeValue]??ne.value[0]:ne.value[0],ne.value[1]]});const ke={atheliales:"#8B5CF6",boletales:"#EC4899",cantharellales:"#0EA5E9",spindlingar:"#F97316",russulales:"#22C55E",thelephorales:"#A855F7",matsvamp:"#eab308","goda matsvampar":"#eab308","rödlistade + signalarter":"#5eead4",total:"#808080"},Ae=["atheliales","boletales","cantharellales","spindlingar","russulales","thelephorales","matsvamp","goda matsvampar","rödlistade + signalarter","total"],Ve={atheliales:"Atheliales",boletales:"Boletales",cantharellales:"Cantharellales",spindlingar:"Spindlingar",russulales:"Russulales",thelephorales:"Thelephorales",matsvamp:"Matsvampar","goda matsvampar":"Goda matsvampar","rödlistade + signalarter":"Rödlistade + signalarter",total:"Total"},pt=g=>g==="matsvamp"&&pe.value==="goda"?"Goda matsvampar":Ve[g]||ol(g);function Se(g){const T=g.toLowerCase();return T==="naturskydd"?"Ingen åtgärd":T==="trakthygge"?"Trakhyggesbruk":T==="skärmträd"?"Överhållen skärm":ol(g)}const tt=["naturskydd","trakthygge","skärmträd","luckhuggning","blädning"],Bt=p(()=>(C.selectedFrameworks||[]).map(g=>g.toLowerCase())),Nt=p(()=>Bt.value.filter(g=>tt.includes(g)&&!ue.value.has(g))),St=p(()=>{const g={};for(const T of Bt.value){const O=Rt(T).map(M=>({age:Number(M.age),value:Number(M.klassning)})).filter(M=>Number.isFinite(M.age)&&Number.isFinite(M.value)).sort((M,j)=>M.age-j.age);g[T]=O}return g}),Sa=p(()=>{const g=Object.values(St.value);if(!g.length)return[];const T=g.map(ae=>ae.length?ae[0].age:1/0),O=g.map(ae=>ae.length?ae[ae.length-1].age:-1/0),M=Math.min(...T),j=Math.max(...O);if(!Number.isFinite(M)||!Number.isFinite(j))return[];const I=[],we=1;for(let ae=M;ae<=j+1e-9;ae+=we){const nt=Math.round(ae);I.push(nt)}return I});function cr(g,T){const O=g.findIndex(I=>I.age===T);if(O!==-1)return g[O].value;let M=-1,j=-1;for(let I=0;I<g.length;I++)if(g[I].age<T&&(M=I),g[I].age>T){j=I;break}if(M!==-1&&j!==-1){const I=g[M],we=g[j],ae=(T-I.age)/(we.age-I.age);return I.value+ae*(we.value-I.value)}}const Ta=p(()=>{const g=[];for(const T of Sa.value){const O={age:T};for(const M of Nt.value){const j=St.value[M]||[],I=cr(j,T);typeof I=="number"&&Number.isFinite(I)&&(O[M]=I)}g.push(O)}return g});p(()=>{const g={},T=Array.isArray(Ne.value)?Ne.value:[];for(const O of Nt.value)g[O]=T.filter(M=>Number.isFinite(Number(M?.age))&&Number.isFinite(Number(M?.[O]))).map(M=>({age:Number(M.age),value:Number(M[O]),__row:M})).sort((M,j)=>M.age-j.age);return g});const Tt=p(()=>{if(C.singleFrameworkSelection||Nt.value.length!==1)return null;const g=(C.selectedArtkategori?.[0]||"").toLowerCase();return g==="total"?"#808080":g==="matsvamp"?"#eab308":g==="rödlistade + signalarter"?"#5eead4":null}),Fe=p(()=>{if(C.singleFrameworkSelection){if(C.frameworkComparisonMode)return(C.selectedFrameworks||[]).map(M=>{const j=M.toLowerCase(),I=ge.value[j]||"#000000";return{key:j,name:Se(j),label:Se(j),color:I,colorArea:be(I,.4),colorLine:I,inactive:ue.value.has(j)}});const g=C.selectedArtkategori.map(O=>O.toLowerCase());return Ae.filter(O=>g.includes(O)).map(O=>({key:O,name:pt(O),label:pt(O),color:ke[O]||"#000000",inactive:oe.value.has(O)}))}else{const g=Nt.value,T=(C.selectedArtkategori?.[0]||"").toLowerCase(),O=ke[T]||null;if(g.length===2){const[j,I]=g,we=O||ge.value[j]||"#000000",ae="#0a0a0a";return[{key:j,name:Se(j),label:Se(j),color:we,colorArea:be(we,.5),colorLine:be(we,.5),inactive:ue.value.has(j),isSecondary:!0},{key:I,name:Se(I),label:Se(I),color:ae,colorArea:be(ae,.5),colorLine:be(ae,.5),lineDashArray:[5],inactive:ue.value.has(I),isSecondary:!1}]}return tt.filter(j=>C.selectedFrameworks.map(I=>I.toLowerCase()).includes(j)).map(j=>({key:j,name:Se(j),label:Se(j),color:Tt.value||ge.value[j]||"#000000",colorArea:Tt.value||ge.value[j]||"#000000",colorLine:Tt.value||ge.value[j]||"#000000",inactive:ue.value.has(j)}))}}),ce=p(()=>C.singleFrameworkSelection?C.frameworkComparisonMode?Fe.value.filter(g=>!ue.value.has(g.key)):[]:Fe.value.filter(g=>!g.inactive));function Ct(g){return g==="total"?Q.value:g==="matsvamp"?pe.value==="goda"?S.value:N.value:g==="goda matsvampar"?S.value:g==="rödlistade + signalarter"?R.value:g==="atheliales"?L.value:g==="boletales"?P.value:g==="cantharellales"?X.value:g==="spindlingar"?G.value:g==="russulales"?te.value:g==="thelephorales"?me.value:E.value}function Jt(g){const T=g.toLowerCase();return T==="matsvamp"?Me.value:T}function Rt(g){const T=C.selectedArtkategori.map(j=>j.toLowerCase()),O=C.selectedStartskog?C.selectedStartskog.toLowerCase():null,M=[];return T.forEach(j=>{const I=Jt(j);(Ct(j)||[]).forEach(ae=>{ae.artkategori?.toLowerCase()===I&&ae.frameworks?.toLowerCase()===g.toLowerCase()&&(O&&(ae.startskog?.toLowerCase()??O)!==O||M.push({age:ae.ålder,klassning:+ae.klassning}))})}),M}const Ne=p(()=>{const g=new Map;if(C.singleFrameworkSelection){const T=C.frameworkComparisonMode?(C.selectedFrameworks||[]).map(O=>O.toLowerCase()).slice(0,2):[C.selectedFrameworks[0]?.toLowerCase()].filter(Boolean);C.selectedArtkategori.forEach(O=>{const M=O.toLowerCase(),j=Ct(M),I=C.selectedStartskog?C.selectedStartskog.toLowerCase():null,we=Jt(M);T.forEach(ae=>{(j||[]).filter(Re=>{const ye=Re.artkategori?.toLowerCase()===we,Qt=Re.frameworks?.toLowerCase()===ae,ea=!I||(Re.startskog?.toLowerCase()??I)===I;return ye&&Qt&&ea}).map(Re=>({age:Re.ålder,klassning:+Re.klassning})).forEach(Re=>{const ye=g.get(Re.age)||{age:Re.age};if(C.frameworkComparisonMode){const Qt=`${ae}__compare`,ea=ye[Qt]||{};ea[M]=Re.klassning,ye[Qt]=ea}else ye[M]=Re.klassning;g.set(Re.age,ye)})})})}else Bt.value.forEach(T=>{Rt(T).forEach(M=>{const j=g.get(M.age)||{age:M.age};j[T]=M.klassning,g.set(M.age,j)})});return Array.from(g.values()).sort((T,O)=>T.age-O.age)}),rt=g=>{const T=Number(g?.age);return Number.isFinite(T)?T:void 0},dr=p(()=>{if(C.singleFrameworkSelection){if(C.frameworkComparisonMode){const T=ee.value[0]||C.selectedArtkategori[0]?.toLowerCase();return ce.value.map(O=>{const M=O.key;return j=>{const we=j?.[`${M}__compare`]?.[T];return Number.isFinite(Number(we))?Number(we):NaN}})}return(ee.value.length?ee.value:C.selectedArtkategori.map(T=>T.toLowerCase())).filter(T=>!oe.value.has(T)).map(T=>O=>O[T])}return ce.value.map(g=>T=>T[g.key])}),ca=p(()=>C.singleFrameworkSelection?C.frameworkComparisonMode?ce.value.map(T=>T.colorLine||T.color||"#000000"):(ee.value.length?ee.value:C.selectedArtkategori.map(T=>T.toLowerCase())).filter(T=>!oe.value.has(T)).map(T=>ke[T]||"#000000"):ce.value.map(g=>g.color||"#000000"));function da(g){const T=(g.key||g.name||"").toLowerCase();if(T)if(C.singleFrameworkSelection)if(C.frameworkComparisonMode){const O=new Set(ue.value);O.has(T)?O.delete(T):O.add(T),ue.value=O}else{const O=new Set(oe.value);O.has(T)?O.delete(T):O.add(T),oe.value=O}else{const O=tt.find(j=>j===T)||tt.find(j=>Se(j).toLowerCase()===T);if(!O)return;const M=new Set(ue.value);M.has(O)?M.delete(O):M.add(O),ue.value=M}}const Ca=p(()=>!C.singleFrameworkSelection||C.frameworkComparisonMode?[]:ee.value.map(g=>T=>Number(T?.[g]??0))),Aa=p(()=>!C.singleFrameworkSelection||C.frameworkComparisonMode?[]:ee.value.map(g=>ke[g]||"#999")),gt=ka({age:0});function Va(g){return g?Object.keys(g).filter(O=>O!=="age"&&O!=="__markerY").some(O=>{const M=g[O];return M&&typeof M=="object"?Object.values(M).some(j=>Number.isFinite(Number(j))):Number.isFinite(Number(M))}):!1}const bt=p(()=>C.singleFrameworkSelection?C.frameworkComparisonMode?ce.value.length:ee.value.length:ce.value.length),at=p(()=>bt.value>0),La=p(()=>{const g=Z.value;return bt.value?g.filter(T=>Va(T)):C.frameworkComparisonMode&&C.singleFrameworkSelection&&g.length?g.map(T=>{const O={age:T.age};for(const M of C.selectedFrameworks||[]){const j=M.toLowerCase();O[`${j}__compare`]={[ee.value[0]||C.selectedArtkategori[0]?.toLowerCase()||""]:NaN}}return O}):g.length?g:[gt]});return(g,T)=>{const O=Ns;return h(),D("div",{class:"custom-area",ref_key:"rootEl",ref:Y,style:Er({"--vis-area-stroke-color":Kt.value})},[_(O,null,{default:z(()=>[Ce.value&&H.value&&Fe.value.length?(h(),U(F(lu),{key:0,items:Fe.value,onLegendItemClick:da,class:"mx-4 flex flex-wrap gap-2"},null,8,["items"])):$("",!0),Ce.value&&H.value?(h(),U(F(Si),{key:1,data:La.value.length?La.value:[gt],height:120,margin:ht,xDomain:ne.value,yDomain:ie.value},{default:z(()=>[C.chartType==="area"&&C.singleFrameworkSelection&&!C.frameworkComparisonMode?(h(),D(Oe,{key:0},[_(F(Dr),{x:rt,y:Ca.value,color:Aa.value,interpolateMissingData:!0},null,8,["y","color"]),at.value?(h(),U(F(Mr),{key:0,horizontalShift:30})):$("",!0)],64)):C.chartType==="area"&&C.singleFrameworkSelection&&C.frameworkComparisonMode?(h(),D(Oe,{key:1},[(h(!0),D(Oe,null,et(ce.value,M=>(h(),U(F(Dr),{key:M.key+"-compare-area",x:rt,y:j=>{const I=ee.value[0];if(!I)return Number.isFinite(Number(j?.age))?0:NaN;const we=M.key+"__compare",ae=j?.[we]?.[I];if(ae==null||ae==="")return Number.isFinite(Number(j?.age))?0:NaN;const nt=Number(ae);return Number.isFinite(nt)?nt:Number.isFinite(Number(j?.age))?0:NaN},color:()=>M.colorArea||M.color,interpolateMissingData:!0,zIndex:1},null,8,["y","color"]))),128)),at.value?(h(),U(F(Mr),{key:0,horizontalShift:30})):$("",!0)],64)):C.chartType==="area"?(h(),D(Oe,{key:2},[(h(!0),D(Oe,null,et(ce.value,M=>(h(),U(F(Dr),{key:M.key+"-area",x:rt,y:j=>{const I=Number(j?.[M.key]);return Number.isFinite(I)?I:Number.isFinite(Number(j?.age))?0:NaN},color:()=>M.colorArea||M.color,interpolateMissingData:!0,zIndex:1},null,8,["y","color"]))),128)),at.value?(h(),U(F(Mr),{key:0,horizontalShift:30})):$("",!0),at.value?(h(),U(F(nu),{key:1,value:g.currentTimeValue,color:"rgba(220, 114, 0, 1)",axis:"x",labelOrientation:"vertical",zIndex:20},null,8,["value"])):$("",!0)],64)):C.chartType==="bar"?(h(),U(F(au),{key:3,color:ca.value,x:rt,y:dr.value,groupPadding:.5,groupMaxWidth:20},null,8,["color","y"])):$("",!0),_(F(Zn),{tickTextFontSize:"12px",gridLine:!0,type:"x",tickValues:[0,10,20,30,40,50,60,70,80,90],tickFormat:M=>M===10||M===30||M===40||M===60||M===70||M===90?"":M},null,8,["tickFormat"]),_(F(Zn),{tickTextFontSize:"12px",type:"y"})]),_:1},8,["data","xDomain","yDomain"])):$("",!0)]),_:1})],4)}}}),Ku=Object.assign(Xu,{__name:"ForestryChartDisplay"}),Ju={class:"mt-2 ml-2 flex justify-between"},Qu={class:"flex items-center cursor-pointer w-fit hover:bg-muted px-2"},ec={class:"text-neutral-800 text-md font-semibold leading-loose pr-2 rounded-sm"},tc={class:"p-2 flex flex-col gap-2"},ac={key:0},rc={key:0,class:"text-base/7"},nc={key:1},lc={key:0,class:"text-base/7"},sc={key:2},ic={key:0,class:"text-base/7"},oc={class:"px-2 pb-2"},uc={key:3},cc={key:0,class:"text-base/7"},dc=mt({__name:"ForestryChartMain",props:{parentSelectedFrameworks:{},currentTimeValue:{},currentStartskog:{},selectedChart:{}},emits:["update:selectedChart"],setup(e,{expose:t,emit:a}){const r=e,s=a;w("naturskog"),w("naturskog"),w("naturskog");const i=w("trakthygge");w(!0),w(!1);const c=w(!1),o=w(!1),d=w(!1),x=w(!1),f=[{label:"Total mängd mykorrhizasvamp",value:"skogsskole"},{label:"Naturvårdsarter",value:"rodlistade"},{label:"Matsvampar",value:"matsvampar"},{label:"Olika svampgrupper",value:"grupper"}],m=w(f.some(G=>G.value===r.selectedChart)?r.selectedChart:f[0].value),A=p(()=>(r.parentSelectedFrameworks?.length??0)===2);function V(G){f.some(te=>te.value===G)&&(m.value=G)}t({setSelectedChart:V}),K(()=>r.selectedChart,G=>{typeof G=="string"&&f.some(te=>te.value===G)&&m.value!==G&&(m.value=G)}),K(m,G=>{s("update:selectedChart",G)});const E=[{label:"Naturskydd",value:"naturskydd"},{label:"Blädning",value:"blädning"},{label:"Trakthygge",value:"trakthygge"},{label:"Skärmträd",value:"skärmträd"},{label:"Luckhuggning",value:"luckhuggning"}],N=["atheliales","boletales","cantharellales","spindlingar","russulales","thelephorales"],S=w("area");w("area");const y=[{label:"Standard matsvampar",value:"standard"},{label:"Goda matsvampar",value:"goda"}],R=w("standard");w(E.map(G=>G.value));const L=w([...N]),P=[{label:"Atheliales",value:"atheliales"},{label:"Boletales",value:"boletales"},{label:"Cantharellales",value:"cantharellales"},{label:"Spindlingar",value:"spindlingar"},{label:"Russulales",value:"russulales"},{label:"Thelephorales",value:"thelephorales"}],X=w(P[0].value);return K([m,A],([G,te])=>{G==="grupper"&&te||(X.value=P[0].value),G==="grupper"&&!te&&(L.value=[...N])}),K(()=>r.parentSelectedFrameworks?.length,()=>{m.value==="grupper"&&A.value&&(X.value=P[0].value)}),(G,te)=>{const me=Rs,Q=rn,ie=hl,Z=kl,ne=Ku;return h(),D("div",null,[v("div",Ju,[_(ie,{content:{align:"start",side:"bottom",sideOffset:8}},{content:z(()=>[v("div",tc,[(h(),D(Oe,null,et(f,H=>_(Q,{size:"lg",key:H.value,color:"neutral",variant:"ghost",onClick:ee=>m.value=H.value},{default:z(()=>[wt(W(H.label),1)]),_:2},1032,["onClick"])),64))])]),default:z(()=>[v("div",Qu,[v("h1",ec,W(f.find(H=>H.value===m.value)?.label||"Välj diagram"),1),_(me,{name:"i-heroicons-chevron-up-down",class:"size-4"})])]),_:1}),m.value==="grupper"&&A.value?(h(),U(Z,{key:0,modelValue:X.value,"onUpdate:modelValue":te[0]||(te[0]=H=>X.value=H),items:P,size:"sm",class:"w-56",placeholder:"Välj svampgrupp"},null,8,["modelValue"])):$("",!0)]),v("div",null,[m.value==="skogsskole"?(h(),D("div",ac,[c.value?(h(),D("p",rc," Vid trakthyggesbruk minskar mängden mykorrhizasvamp nästan till noll direkt efter avverkning. I takt med att träden växer upp etableras ett nytt svampsamhälle. När träden är mellan 40-70 år, är fotosyntesen som mest effektiv — vilket kan leda till att mängden mykorrhiza blir större än innan avverkningen. Överhållen skärm följer ett liknande mönster, men eftersom marken aldrig blir helt kal minskar svampmängden inte lika mycket. Blädning och luckhuggning innebär återkommande mindre ingrepp, där svampmängden sjunker något ungefär vart trettionde år men i övrigt hålls relativt stabil över tid. ")):$("",!0),_(ne,{selectedFrameworks:r.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","blädning","skärmträd"],selectedArtkategori:["total"],chartType:S.value,maxYValue:130,currentTimeValue:r.currentTimeValue},null,8,["selectedFrameworks","chartType","currentTimeValue"])])):$("",!0),m.value==="rodlistade"?(h(),D("div",nc,[o.value?(h(),D("p",lc," Praesent elementum ut lacus a pharetra. Sed a malesuada mauris. Morbi et convallis libero. Aliquam vestibulum, felis eu fringilla elementum, nibh nunc tincidunt ex, quis vulputate nunc erat eu quam. Phasellus rutrum bibendum lacinia. Fusce aliquam aliquet lectus, eget gravida purus lobortis id. Curabitur viverra quam a risus sagittis maximus. ")):$("",!0),_(ne,{selectedFrameworks:r.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","blädning","skärmträd"],selectedArtkategori:["rödlistade + signalarter"],chartType:S.value,selectedStartskog:r.currentStartskog,redColor:!0,maxYValue:.65,currentTimeValue:r.currentTimeValue},null,8,["selectedFrameworks","chartType","selectedStartskog","currentTimeValue"])])):$("",!0),m.value==="matsvampar"?(h(),D("div",sc,[d.value?(h(),D("p",ic," Praesent elementum ut lacus a pharetra. Sed a malesuada mauris. Morbi et convallis libero. Aliquam vestibulum, felis eu fringilla elementum, nibh nunc tincidunt ex, quis vulputate nunc erat eu quam. Phasellus rutrum bibendum lacinia. Fusce aliquam aliquet lectus, eget gravida purus lobortis id. Curabitur viverra quam a risus sagittis maximus. ")):$("",!0),v("div",oc,[_(Z,{modelValue:R.value,"onUpdate:modelValue":te[1]||(te[1]=H=>R.value=H),items:y,size:"sm",class:"w-56",placeholder:"Välj dataset"},null,8,["modelValue"])]),_(ne,{selectedFrameworks:r.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","blädning","skärmträd"],selectedArtkategori:["matsvamp"],chartType:S.value,selectedStartskog:r.currentStartskog,yellowColor:!0,maxYValue:28,currentTimeValue:r.currentTimeValue,matsvampVariant:R.value},null,8,["selectedFrameworks","chartType","selectedStartskog","currentTimeValue","matsvampVariant"])])):$("",!0),m.value==="grupper"?(h(),D("div",uc,[x.value?(h(),D("p",cc," Praesent elementum ut lacus a pharetra. Sed a malesuada mauris. Morbi et convallis libero. Aliquam vestibulum, felis eu fringilla elementum, nibh nunc tincidunt ex, quis vulputate nunc erat eu quam. Phasellus rutrum bibendum lacinia. Fusce aliquam aliquet lectus, eget gravida purus lobortis id. Curabitur viverra quam a risus sagittis maximus. ")):$("",!0),_(ne,{selectedFrameworks:r.parentSelectedFrameworks??[i.value],selectedArtkategori:A.value?[X.value]:L.value,frameworkComparisonMode:A.value,chartType:S.value,singleFrameworkSelection:!0,selectedStartskog:r.currentStartskog,currentTimeValue:r.currentTimeValue},null,8,["selectedFrameworks","selectedArtkategori","frameworkComparisonMode","chartType","selectedStartskog","currentTimeValue"])])):$("",!0)])])}}}),ls=Object.assign(pl(dc,[["__scopeId","data-v-a0e8c1df"]]),{__name:"ForestryChartMain"}),vc={class:"absolute inset-0",style:{"z-index":"0"}},fc={class:"flex h-full relative"},mc={class:"absolute text-end right-3 top-2"},hc={class:"absolute top-2 left-3"},pc={key:1,class:"flex w-full h-full gap-1"},gc={class:"w-1/2 h-full"},bc={class:"w-1/2 h-full"},kc={__name:"CustomImageComparisonSlider",props:{frameworkLabel:{type:String,default:""},timeLabel:{type:String,default:""},frameworkLabel2:{type:String,default:""},timeLabel2:{type:String,default:""},layoutMode:{type:String,default:"slider"}},setup(e,{expose:t}){gl("(max-width: 767px)");const a=e,r=w(a.layoutMode);K(()=>a.layoutMode,V=>{(V==="slider"||V==="side-by-side"||V==="sideBySide")&&(r.value=V)});const s=w(null),i=w(.5);let c=!1;function o(V){if(!s.value)return;const E=s.value.getBoundingClientRect();let S=((V.touches?V.touches[0].clientX:V.clientX)-E.left)/E.width;S=Math.max(0,Math.min(S,1)),i.value=S}function d(V){r.value==="slider"&&(c=!0,o(V),window.addEventListener("mousemove",x),window.addEventListener("mouseup",f),window.addEventListener("touchmove",x),window.addEventListener("touchend",f))}function x(V){c&&o(V)}function f(){c=!1,window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",f),window.removeEventListener("touchmove",x),window.removeEventListener("touchend",f)}function m(){r.value=r.value==="slider"?"sideBySide":"slider"}function A(V){(V==="slider"||V==="sideBySide")&&(r.value=V)}return t({toggleLayoutMode:m,setLayoutMode:A}),jt(()=>{i.value=.5}),(V,E)=>{const N=nn;return r.value==="slider"?(h(),D("div",{key:0,ref_key:"container",ref:s,class:"relative w-full h-full overflow-hidden select-none"},[v("div",vc,[$t(V.$slots,"second")]),v("div",{class:"absolute inset-0 overflow-hidden",style:Er({clipPath:"inset(0 calc(100% - "+i.value*100+"%) 0 0)",zIndex:10})},[$t(V.$slots,"first")],4),v("div",{class:"absolute top-0 flex items-center justify-center h-full w-10 cursor-ew-resize",style:Er({left:i.value*100+"%",transform:"translateX(-50%)",zIndex:20}),onMousedown:d,onTouchstart:d},[v("div",fc,[v("div",mc,[_(N,{size:"lg",class:"backdrop-blur-xl bg-neutral-950/50 text-neutral-100 h-fit whitespace-nowrap"},{default:z(()=>[wt(W(e.timeLabel),1)]),_:1})]),E[0]||(E[0]=v("div",{class:"h-full w-1.5 bg-neutral-100/90 backdrop-blur-md inset-shadow-sm inset-shadow-neutral-400"},null,-1)),v("div",hc,[_(N,{size:"lg",class:"backdrop-blur-xl bg-neutral-950/50 text-neutral-100 h-fit whitespace-nowrap"},{default:z(()=>[wt(W(e.timeLabel2),1)]),_:1})])])],36)],512)):r.value==="sideBySide"?(h(),D("div",pc,[v("div",gc,[$t(V.$slots,"first")]),v("div",bc,[$t(V.$slots,"second")])])):$("",!0)}}},yc=ln("onboardingStore",{state:()=>({selectedStartskog:0,selectedFramework:1})}),_c=[{id:"manga_arter_pa_trad",title:"Många arter på ett träd",text:"På rötterna av äldre träd kan det finnas mycel av 50-100 olika arter mykorrhizasvampar.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["före"],placement:"LEFT"},{framework:["trakthygge"],times:["före"],placement:"LEFT"},{framework:["blädning"],times:["förr"],placement:"LEFT"},{framework:["skärmträd"],times:["före"],placement:"LEFT"},{framework:["luckhuggning"],times:["före"],placement:"LEFT"}]},{id:"mykorrhiza_dar_det_finns_rotter",title:"Mykorrhiza där det finns rötter",text:"Mykorrhizasvamparnas mycel finns lika djupt ner i marken som rötter når, och så långt träds rötter breder ut sig, 10-15 meter från stammen. Men det är rikligast med mykorrhiza närmast trädet och i de översta 10 cm av skogsmarken.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["före"],placement:"LEFT"},{framework:["trakthygge"],times:["före"],placement:"LEFT"},{framework:["blädning"],times:["förr"],placement:"LEFT"},{framework:["skärmträd"],times:["före"],placement:"LEFT"},{framework:["luckhuggning"],times:["före"],placement:"LEFT"}]},{id:"matsvampsmycel_kort_tid",title:"Matsvamp efter avverkning",text:"Nästan alla matsvampar är mykorrhizasvampar och försvinner efter avverkning. De överlever om dess mycel växer med hänsynsträd som lämnats eller nära en skogskant. Annars behöver de återetableras i ungskog från sporer som sprids in från näraliggande skogar.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["trakthygge"],times:["efter"],placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],placement:"LEFT"}]},{id:"matsvampsmycel_i_aldrre_skog",title:"Mer matsvamp i äldre skog",text:"Mängden matsvampar är större i äldre skog eftersom större träd har högre fotosyntes och kan skicka ner mer socker till sina rötter.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["före","efter","10","20","50","80"],placement:"LEFT"},{framework:["trakthygge"],times:["före","50","80"],placement:"LEFT"},{framework:["blädning"],times:["före","efter","10","20","50","80"],placement:"LEFT"},{framework:["skärmträd"],times:["före","50","80"],placement:"LEFT"},{framework:["luckhuggning"],times:["före","50","80"],placement:"LEFT"}]},{id:"mycel_av_rodlistade_svampar",title:"Rödlistade svampar",text:"Rödlistade mykorrhizasvampar har ofta speciella miljökrav, och förekommer främst i äldre skog. Generellt kan mycel av mykorrhizasvampar leva vidare på en plast så länge det finns levande träd. Svampindividers mycel kan bli många decennier till potentiellt sekler gamla.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-award-star-outline",color:"signal-500",positions:[{framework:["naturskydd"],times:["före","efter","10","20","50","80"],placement:"LEFT"},{framework:["trakthygge"],times:["före"],placement:"LEFT"},{framework:["blädning"],times:["före"],placement:"LEFT"},{framework:["skärmträd"],times:["före"],placement:"LEFT"},{framework:["luckhuggning"],times:["före"],placement:"LEFT"}]},{id:"hogstubbe",title:"Högstubbe",text:"Här finns inga levande mykorrhizamycel. Trädets rötter är döda.",thumbnail:"/images/Skogsbruk.png",icon:"i-fluent-emoji-high-contrast-wood",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter"],x:.51,y:.26,placement:"LEFT"},{framework:["trakthygge"],times:["efter"],x:.621,y:.3,placement:"LEFT"}]},{id:"stubbe",title:"Stubbe",text:"Trädets fotosyntes och flöde av energi till sina rötter har upphört. Efter avverkning tynar mykorrhizasvamparna bort och dör efter ett par månader - ett år.",thumbnail:"/images/Skogsbruk.png",icon:"i-fluent-emoji-high-contrast-wood",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter"],x:.422,y:.185,placement:"LEFT"},{framework:["trakthygge"],times:["efter"],x:.573,y:.32,placement:"LEFT"}]},{id:"hansynstrad",title:"Hänsynsträd",text:"De flesta mykorrhizasvamparna som växte med trädets rötter i skogen före avverkningen finns kvar och lever vidare. Dessa mycel kan växa in i och spridas till uppväxande trädplantor.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-tree-circle",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter","20","50","80"],x:.335,y:.38,placement:"LEFT"},{framework:["trakthygge"],times:["efter","20","50","80"],x:.4502,y:.2228,placement:"LEFT"},{framework:["skärmträd"],times:["20","50","80"],x:.469,y:.2577,placement:"LEFT"}]},{id:"grupp_av_hansynstrad",title:"Grupp av hänsynsträd",text:"De flesta mykorrhizasvampar som växte i denna trädgrupps rötter före avverkningen finns kvar och lever vidare. Fanns det mat- och naturvårdssvampar, kan de fortleva.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-tree-circle",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter","20","50","80"],x:.3736,y:.2832,placement:"LEFT"}]},{id:"sjalforyngrade_sma_tradplantor",title:"Självföryngrade trädplantor",text:"Små mycel av mykorrhizasvampar växer i plantornas rötter. Om de växer nära hänsynsträd kan mycel vuxint in från dessas rötter. Annars etableras mycel från svampsporer som sprid in från näraliggande skogar. Vissa svamparter har också en sporbank i marken.",thumbnail:"/images/Skogsbruk.png",icon:"i-hugeicons-plant-03",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.4344,y:.1971,placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],x:.4344,y:.1971,placement:"LEFT"}]},{id:"planterade_sma_tradplantor",title:"Planterade små trädplantor",text:"Har med sig spontant etablerad mykorrhiza från plantskolan där de odlades upp. Det är dock få arter. Dessa ersätts succesivt med bättre anpassade och svamparter som finns på platsen.",thumbnail:"/images/Skogsbruk.png",icon:"i-hugeicons-plant-02",color:"neutral-500",positions:[{framework:["trakthygge"],times:["20"],x:.45,y:.32,placement:"LEFT"}]},{id:"yngre_trad_vid_avverkningen",title:"Yngre träd som lämnats",text:"Undviks underröjning före avverkning, kommer mykorrhizasvampar att överleva på dessa plantor och träd på samma sätt som de gör på rötterna av hänsynsträd.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-seedling-circle",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.33,y:.37,placement:"LEFT"}]},{id:"tradkant_mot_avverkning",title:"Trädkant mot avverkning",text:"Mykorrhizasvampars mycel växer med i skogskantsträdens rötter så långt de sträcker sig in på avverkningen. Mest närmast skogskanten, men når 10–15 meter in på hygget.",thumbnail:"/images/Skogsbruk.png",icon:"i-healthicons-square-medium-negative",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter","20"],x:.46,y:.409,placement:"LEFT"},{framework:["luckhuggning"],times:["efter","20"],x:.64,y:.352,placement:"LEFT"},{framework:["luckhuggning"],times:["50"],x:.511,y:.3245,placement:"LEFT"},{framework:["luckhuggning"],times:["80"],x:.3278,y:.2383,placement:"LEFT"}]},{id:"tomma_omraden_avverkning",title:"Tomma områden ",text:"Vid områden utan nära träd och småplantor direkt efter avverkning finns inte mykorrhizasvampar. I mark där det saknas trädrötter finns inte mykorrhizasvampar. Några, men få mykorrhizasvampar har en sporbank.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.6095,y:.2081,placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],x:.485,y:.292,placement:"LEFT"}]}],xc={annotations:_c},wc=ln("selectedAnnotation",{state:()=>({selectedAnnotation:null}),actions:{setSelectedAnnotation(e){this.selectedAnnotation=e},clearSelectedAnnotation(){this.selectedAnnotation=null}}}),Sc=ln("overlay",{state:()=>({staticOverlayVisible:!1}),actions:{toggleStaticOverlay(){this.staticOverlayVisible=!this.staticOverlayVisible},setStaticOverlayVisible(e){this.staticOverlayVisible=e}}}),en={retention:{slug:"retention-trees",fields:{framework:"framework",startskog:"startskog",time:"time"}},seedTree:{slug:"seed-trees",fields:{framework:"framework",startskog:"startskog",time:"time"}},smaplantor:{slug:"smaplantor",fields:{framework:"framework",startskog:"startskog",time:"time"}},hogstubbar:{slug:"hogstubbar",fields:{framework:"framework",startskog:"startskog",time:"time"}},naturvardsarter:{slug:"naturvard",fields:{framework:"framework",startskog:"startskog",time:"time"}},kanteffekt:{slug:"kanteffekt",fields:{framework:"framework",startskog:null,time:"start"}}},Fr=Object.keys(en);function _a(e){return e?e.replace(/_+$/g,""):e??null}function $r(e,t,a=!0){if(!t)return!1;if(e==null)return!0;const r=_a(t);return Array.isArray(e)?a&&e.includes("alla")||e.some(s=>_a(String(s))===r):typeof e=="string"?a&&e==="alla"?!0:_a(e)===r:!1}function ul(e,t,a,r={}){const{ignoreStartskog:s=!1}=r,{fields:i}=a;return e.filter(c=>{if(!c)return!1;if(i.framework){const o=c[i.framework];if(!$r(o,t.framework,!1))return!1}if(i.startskog&&!s&&t.startskog){const o=c[i.startskog];if(!$r(o,t.startskog,!0))return!1}if(i.time){const o=c[i.time];if(!$r(o,t.time,!0))return!1}return!0})}function Tc(e,t,a){if(!Array.isArray(e)||e.length===0)return[];if(!t?.framework||!t?.time)return e;const r={framework:_a(t.framework),startskog:_a(t.startskog),time:t.time};let s=ul(e,r,a);return s.length===0&&a.fields.startskog&&r.startskog&&(s=ul(e,r,a,{ignoreStartskog:!0})),s}const Cc=["innan","efter","10 år","20 år","50 år","80 år"],Ac={retention:!0,kanteffekt:!0,rottacke:!0,seedTree:!0,smaplantor:!0,hogstubbar:!0,naturvardsarter:!0,tradplantor:!0};function Vc(e){const t=e.framework,a=e.time;if(!t||!a)return!0;const r=t==="skärmträd"||t==="skarmtrad",s=t==="blädning"||t==="bladning",i=r&&a==="efter",c=s&&["efter","20 år","50 år","80 år"].includes(a);return i||c}function Lc(e){const t=e.framework,a=e.time;return!t||!a?!0:t==="trakthygge"&&a==="20 år"}async function sa(e){try{return await $fetch(e)}catch{return null}}function Mc(e){switch(e){case"blädning":return["blädning","bladning"];case"skärmträd":return["skärmträd","skarmtrad"];default:return[e]}}function Oc(e){if(!e||typeof e!="object")return[];const t=Array.isArray(e.points)?e.points:[],a=new Map;t.length&&t.forEach(A=>{A?.id!=null&&a.set(A.id,A)});const r=e.startskogSets??null,s=e.markers??{},i=e.defaults??{},c=e.frameworks??{},o=Array.isArray(e.timelineOrder)?[...e.timelineOrder]:[...Cc],d=new Set(o);Object.values(c).forEach(A=>{!A||typeof A!="object"||Object.values(A).forEach(V=>{Array.isArray(V)&&V.forEach(E=>{const N=E?.time;N&&!d.has(N)&&(d.add(N),o.push(N))})})});const x=o,f=new Map;t.length&&r&&typeof r=="object"?Object.entries(r).forEach(([A,V])=>{const E=new Map;Array.isArray(V)&&V.forEach(N=>{const S=a.get(N);S&&E.set(N,S)}),f.set(A,E)}):Object.entries(s).forEach(([A,V])=>{const E=new Map;Array.isArray(V)&&V.forEach(N=>{N?.id!=null&&E.set(N.id,N)}),f.set(A,E)});const m=[];return Object.entries(c).forEach(([A,V])=>{const E=Mc(A),N=V??{};f.forEach((S,y)=>{if(!S||S.size===0)return;const R=Array.from(S.keys()),L=Array.isArray(i[y])?i[y]:R;let P=new Set(L),X=new Set;const G=Array.isArray(N[y])?N[y]:[],te=new Map;G.forEach(me=>{me?.time&&te.set(me.time,me)}),x.forEach(me=>{let Q=new Set(P);const ie=te.get(me);ie&&(ie.set&&(ie.set==="base"?Q=new Set(L):ie.set==="all"?Q=new Set(R):Array.isArray(ie.set)&&(Q=new Set(ie.set))),Array.isArray(ie.remove)&&ie.remove.forEach(Z=>{Q.delete(Z),X.add(Z)}),Array.isArray(ie.add)&&ie.add.forEach(Z=>{Q.add(Z),X.delete(Z)})),P.forEach(Z=>{Q.has(Z)||X.add(Z)}),Q.forEach(Z=>{X.has(Z)&&X.delete(Z)}),E.forEach(Z=>{Q.forEach(ne=>{const H=S.get(ne)||a.get(ne);H&&m.push({id:H.id,x:H.x,y:H.y,framework:Z,startskog:y,time:me,removed:!1})}),X.forEach(ne=>{const H=S.get(ne)||a.get(ne);H&&m.push({id:H.id,x:H.x,y:H.y,framework:Z,startskog:y,time:me,removed:!0})})}),P=new Set(Q)})})}),m}function zc(e){return e?Array.isArray(e.mycelium)?e.mycelium:e.markers&&e.frameworks||e.points&&e.startskogSets&&e.frameworks?Oc(e):[]:[]}async function Dc(){const e=["/småplantor.json","/småplantor.json"];for(const t of e){const a=await sa(t);if(a)return a}return null}function Fc(){const{data:e,pending:t}=Ee("overlay-datasets-json",async()=>{const[o,d,x,f,m,A]=await Promise.all([sa("/retentionTrees.json"),sa("/api/seedTrees"),Dc(),sa("/hogstubbar.json"),sa("/naturvard.json"),sa("/api/kanteffekt")]);return{"retention-trees":Array.isArray(o?.trees)?o.trees:[],"seed-trees":Array.isArray(d?.trees)?d.trees:[],smaplantor:Array.isArray(x?.trees)?x.trees:Array.isArray(x)?x:[],hogstubbar:Array.isArray(f?.stubbar)?f.stubbar:[],naturvard:zc(m),kanteffekt:Array.isArray(A?.features)?A.features:[]}}),a={};Fr.forEach(o=>{const d=en[o].slug;a[o]={data:p(()=>e.value?.[d]??[]),pending:p(()=>t.value)}});const r=(o,d)=>Tc(a[o].data.value,d,en[o]),s=o=>{const d={};return Fr.forEach(x=>{d[x]=r(x,o)}),d},i=o=>{if(!o?.framework||!o?.time||!o?.startskog)return{...Ac};const d=s(o);return{retention:a.retention.pending.value||d.retention.length>0,kanteffekt:a.kanteffekt.pending.value||d.kanteffekt.length>0,rottacke:Vc(o),seedTree:a.seedTree.pending.value||d.seedTree.length>0,smaplantor:a.smaplantor.pending.value||d.smaplantor.length>0,hogstubbar:a.hogstubbar.pending.value||d.hogstubbar.length>0,naturvardsarter:a.naturvardsarter.pending.value||d.naturvardsarter.length>0,tradplantor:Lc(o)}},c=p(()=>t.value||Fr.some(o=>a[o].pending.value));return{datasets:a,filterDataset:r,filterAll:s,availabilityFor:i,pendingAny:c}}const Gt=ka({open:!1,key:null,anchor:null});function $c(e){if(e instanceof HTMLElement){const t=e.getBoundingClientRect();return{x:t.left,y:t.top,width:t.width,height:t.height}}return e}function jc(){function e(a,r){const s=$c(r);Gt.key=a,Gt.anchor=s,Gt.open=!0}function t(){Gt.open=!1,Gt.key=null,Gt.anchor=null}return{...dl(Gt),show:e,hide:t}}const Ec={class:"relative flex flex-col w-full h-dvh"},Bc={class:"space-y-0.5 p-3"},Nc={class:"grid grid-cols-2 gap-2"},Rc={class:"flex flex-col text-center items-center w-full space-y-1"},Uc={class:"flex flex-col text-center items-center w-full space-y-1"},Pc={class:"p-3 flex flex-col gap-3"},Ic={class:"flex items-center justify-between gap-3"},qc={class:"flex flex-wrap gap-1"},Hc={class:"w-full sm:flex items-center justify-center border-muted sm:p-1"},Wc={class:"flex w-full sm:w-fit h-fit justify-center p-0 pb-0 sm:pb-0 items-center"},Gc={key:0,class:"absolute top-3 right-3"},Yc={class:"flex justify-center sm:p-1 border-b border-muted"},Zc={class:"absolute top-3 left-3 flex flex-col gap-1 pointer-events-auto"},Xc={class:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-50 p-4 sm:p-0 space-y-2 sm:space-y-0 pointer-events-none sm:flex gap-2 items-center"},Kc={class:"relative"},Jc={key:0,class:""},Qc={class:"space-y-2"},ed=["innerHTML"],td={class:"space-y-2"},ad=["innerHTML"],rd={key:1,class:"text-sm text-neutral-400"},nd={key:1,class:"sm:hidden"},ld={class:"flex items-center justify-between gap-3"},sd={class:"text-sm font-medium text-neutral-700"},id={key:0},od={class:"space-y-2"},ud=["innerHTML"],cd={class:"space-y-2"},dd=["innerHTML"],vd={key:1,class:"text-sm text-neutral-400"},fd={class:"flex items-start justify-between gap-3"},md={class:"flex items-start gap-2"},hd={class:"text-base font-semibold text-neutral-800"},pd={class:"flex gap-1"},gd={class:"text-sm text-neutral-600 leading-relaxed"},bd={class:"flex sm:justify-center items-center overflow-x-scroll md:overflow-hidden my-1 sm:my-0 gap-4 px-3"},kd={class:"p-1 flex flex-col gap-1"},yd={class:"ui-zoom-reapply relative flex flex-col flex-1 w-full"},_d={class:"flex flex-1"},xd={class:"absolute top-3 left-3 z-50"},wd={key:0,class:"space-y-1.5 sm:p-4 p-2 pt-3 max-w-sm z-50 absolute top-0 right-0 transform-all text-end pointer-events-none"},Sd={class:"flex items-center gap-1"},Td={class:"p-3 space-y-2"},Cd={class:"flex w-full justify-between"},Ad={class:"flex items-start gap-2"},Vd={class:"text-sm font-semibold text-neutral-800"},Ld={key:0,class:"text-sm text-neutral-600 leading-relaxed"},Md={key:1,class:"text-xs text-neutral-400"},Od={key:0,class:"absolute p-2 w-full"},zd={class:"flex justify-between p-2 items-center mb-2"},Dd={class:"flex items-center justify-between gap-2"},Fd={class:"flex items-center gap-1"},$d={class:"min-w-[3ch] text-sm text-neutral-700 dark:text-neutral-200 text-center"},jd={key:0,class:"space-y-2 w-full"},Ed={class:"flex flex-col"},Bd={class:"text-md font-medium"},Nd={key:0,class:"text-sm text-neutral-500"},Rd={class:"flex flex-col"},Ud={class:"text-md font-medium"},Pd={key:0,class:"text-sm text-neutral-500"},Id={class:"flex flex-col"},qd={class:"text-md font-medium"},Hd={key:0,class:"text-sm text-neutral-500"},Wd={class:"w-full mt-1 relative"},Gd={class:""},Yd={class:"space-y-2"},Zd={class:"relative flex-1"},Xd={key:0,class:"w-full h-full"},Kd={key:0,class:"absolute inset-y-0 right-0 w-68 bg-white dark:bg-neutral-950/70 backdrop-blur-2xl overflow-auto z-10 pointer-events-auto border-neutral-300 dark:border-neutral-700 border-l"},Jd={class:"px-4 py-2"},Qd={class:"text-lg font-semibold text-neutral-800 dark:text-neutral-200"},ev={class:"text-neutral-400"},tv={key:1,class:ve(["absolute max-h-screen z-50 top-0 w-sm left-0 overflow-auto transition-all shadow-2xl border-r bg-white border-neutral-100/10 rounded-br-sm duration-300 ease-in-out backdrop-blur-2xl hide-scrollbar"])},av={class:"p-4"},rv={key:0},nv={class:"text-xl font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},lv={class:"p-2 flex flex-col gap-2"},sv=["onClick"],iv={class:"font-medium"},ov={class:"text-sm text-neutral-300"},uv={class:"flex justify-between"},cv={class:"text-md text-neutral-200"},dv={key:0,class:"my-4"},vv=["innerHTML"],fv=["innerHTML"],mv={key:1,class:"my-4 text-neutral-300 text-sm"},hv={key:1,class:"space-y-2"},pv={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},gv={class:"p-2 flex flex-col gap-2"},bv=["onClick"],kv={class:"font-medium"},yv={class:"text-sm text-neutral-300"},_v={class:"flex justify-between"},xv={key:0,class:"my-4"},wv=["innerHTML"],Sv=["innerHTML"],Tv={class:"flex justify-between"},Cv={class:"text-md text-neutral-200"},Av={key:0,class:"my-4"},Vv=["innerHTML"],Lv=["innerHTML"],Mv={key:2,class:"space-y-2"},Ov={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},zv={class:"p-2 flex flex-col gap-2"},Dv=["onClick"],Fv={class:"font-medium"},$v={class:"text-sm text-neutral-300"},jv={class:"flex justify-between"},Ev={class:"text-md text-neutral-200"},Bv={key:0,class:"my-4"},Nv=["innerHTML"],Rv=["innerHTML"],Uv={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},Pv={class:"p-2 flex flex-col gap-2"},Iv=["onClick"],qv={class:"font-medium"},Hv={class:"text-sm text-neutral-300"},Wv={class:"flex justify-between"},Gv={class:"text-md text-neutral-200"},Yv={key:0,class:"my-4"},Zv=["innerHTML"],Xv=["innerHTML"],Kv={class:"grid grid-cols-2 gap-4"},Jv={class:"w-full"},Qv={class:"w-full"},jr="rodlistade",ef=220,cl="Ingen tidslinjeinformation hittades för den här kombinationen.",tf=mt({__name:"Model",emits:["close"],async setup(e,{emit:t}){let a,r;const s=Gs(()=>Zs(()=>import("./CatEMnDv.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url));let i;const c=ka({}),o=Fc(),{hide:d}=jc(),x=w(null);function f(l){if(!l)return null;if(typeof l=="string")return l;if(typeof l=="object"){if("value"in l&&typeof l.value=="string")return l.value;if("framework"in l&&typeof l.framework=="string")return l.framework;if("label"in l&&typeof l.label=="string")return l.label}return String(l??"")}const m={retention:()=>!!he.value,kanteffekt:()=>!!oe.value,omkringSkog:()=>!!ue.value,rottackeSkarmtrad:()=>!!Me.value,rottackeBladning:()=>!!ge.value,seedTree:()=>!!be.value,smaplantor:()=>!!ke.value,hogstubbar:()=>!!Ae.value,naturvardsarter:()=>!!pe.value,tradplantor:()=>!!Ve.value};function A(l,n){const k=m[l];if(k&&!k())return!1;const b=f(n.framework)||"",B=typeof n.time=="string"?n.time:f(n.time);if(l==="rottackeSkarmtrad")return(b==="skärmträd"||b==="skarmtrad")&&B==="efter";if(l==="rottackeBladning")return b==="blädning"||b==="bladning"?B==="efter"||B==="20 år"||B==="50 år"||B==="80 år":!1;if(l==="omkringSkog")try{const se=o.availabilityFor({framework:b,startskog:f(n.startskog),time:B});return!!(se&&se.kanteffekt)}catch{return!1}try{const se=o.availabilityFor({framework:b,startskog:f(n.startskog),time:B});return!!(se&&se[l])}catch{return!1}}const V=p(()=>{const l=[],n=f(q?.value??q),k=f(Le?.value??Le),b=re?.value??re,B=je;return fe.value?(l.push({framework:n,startskog:b?.value??b,time:"innan"}),l.push({framework:n,startskog:b?.value??b,time:B})):de.value?(l.push({framework:n,startskog:b?.value??b,time:B}),l.push({framework:k,startskog:b?.value??b,time:B})):l.push({framework:n,startskog:b?.value??b,time:B}),l});function E(l){const n=V.value;for(const k of n)if(A(l,k))return!0;return!1}const[N,S]=Us(),y=gl("(max-width: 767px)"),R=[{label:"Text",icon:"i-heroicons-book-open",slot:"text",value:"text"},{label:"Diagram",icon:"i-carbon-chart-line-smooth",slot:"diagram",value:"diagram"}],{public:{dziBaseUrl:L="https://assets.svampskog.se/dzi_v2",dziVersionSuffix:P=""}={}}=Ps(),X=L,G=P;function te(l){return l?l.toString().toLowerCase().replace(/å/g,"a").replace(/ä/g,"a").replace(/ö/g,"o").replace(/[^a-z0-9_-]/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,""):""}function me({framework:l,timeLabel:n,fungiVisibility:k,treeVisibility:b,startskog:B}){const Dt=[l,n,k,b,B].map(_e=>te(_e)).filter(Boolean).join("_"),Ft=te(G);return Ft?`${Dt}_${Ft}`:Dt}function Q(l){return`${X}/${me(l)}.dzi`}const{data:ie}=([a,r]=Ie(()=>Ee("forestry-timeline-modelc",()=>qe("forestryTimelines").first())),a=await a,r(),a),Z=p(()=>{const l=ie.value;if(!l)return[];if(Array.isArray(l)){const n=l.find(k=>k?.id==="skogsskotsel")||l[0];return Array.isArray(n?.entries)?n.entries:[]}return Array.isArray(l.entries)?l.entries:[]}),ne=w(!1),H=w("beforeAfterCompare"),ee=w("slider"),Kt=t,ht=w(!1),Y=w(!1),Ce=w(!1),he=w(!1),oe=w(!1),ue=w(!1),C=w(!1),pe=w(!1),Me=w(!1),ge=w(!1),be=w(!1),ke=w(!1),Ae=w(!1),Ve=w(!1),pt=w(1),Se=w(!1),tt=w(!1);function Bt(){Se.value=!Se.value}function Nt(){tt.value=!tt.value}const St=["retention","kanteffekt","omkringSkog","rottackeSkarmtrad","rottackeBladning","seedTree","smaplantor","hogstubbar","naturvardsarter","tradplantor"],Sa=w([]);function cr(l,n){const k=Sa.value,b=k.indexOf(l);n?(b!==-1&&k.splice(b,1),k.push(l)):b!==-1&&k.splice(b,1)}const Ta=Sc(),Tt=p({get:()=>Ta.staticOverlayVisible,set:l=>Ta.setStaticOverlayVisible(l)}),Fe=w(!1),ce=w(null);w(!1);const Ct=w(!1),Jt=w("skogsskole"),Rt=w(!1),Ne=w(!1),rt=w("text");function dr(){rt.value="diagram",Ne.value=!0;try{y.value||d?.()}catch{}}const ca=p({get:()=>Ne.value,set:l=>{Ne.value=l}}),da=w(!1);p({get:()=>Ct.value,set:l=>{Ct.value=l}});function Ca(l){const n=Array.isArray(Ht?.value)?Ht.value:[];if(!n.length)return;const k=n.map(se=>String(se.value)),b=String(na.value);let B=k.indexOf(b);if(B===-1&&(B=0),l<0){for(let se=B-1;se>=0;se--)if(!n[se]?.disabled){na.value=String(n[se].value);return}return}else{for(let se=B+1;se<n.length;se++)if(!n[se]?.disabled){na.value=String(n[se].value);return}return}}function Aa(l){return(l||"").toString().trim().toLowerCase()}const gt=p(()=>Array.isArray(Ht?.value)?Ht.value:Array.isArray(Ht)?Ht:[]),Va=p(()=>{const n=gt.value.map(k=>String(k.value)).indexOf(String(na.value));return n===-1?0:n}),bt=p(()=>{for(let l=Va.value-1;l>=0;l--)if(!gt.value[l]?.disabled)return gt.value[l];return null}),at=p(()=>{for(let l=Va.value+1;l<gt.value.length;l++)if(!gt.value[l]?.disabled)return gt.value[l];return null}),La=p(()=>!!bt.value),g=p(()=>!!at.value);function T(l){try{const n=q.value&&q.value.value,k=re.value&&re.value.value;return Z.value.find(B=>B.atgard===n&&B.startskog===k&&Aa(B.tid)===Aa(l))?.skog||""}catch{return""}}const O=p(()=>bt.value?String(bt.value.label??bt.value.value):""),M=p(()=>at.value?String(at.value.label??at.value.value):""),j=p(()=>bt.value?Ea(Number(bt.value.value)):null),I=p(()=>at.value?Ea(Number(at.value.value)):null);p(()=>T(j.value)),p(()=>T(I.value));function we(){Ca(-1)}function ae(){Ca(1)}const nt=[{re:/näraliggande skogar/gi,overlay:"omkringSkog"},{re:/hänsynsträd/gi,overlay:"retention"},{re:/evighetsträd/gi,overlay:"retention"},{re:/hyggeskanterna/gi,overlay:"kanteffekt"},{re:/luckorna/gi,overlay:"kanteffekt"},{re:/fröträdens rötter/gi,overlay:"seedTree"},{re:/fröträd/gi,overlay:"seedTree"},{re:/skärmträdens rötter/gi,overlay:"rottackeSkarmtrad"},{re:/småplantor/gi,overlay:"smaplantor"},{re:/högstubbar/gi,overlay:"hogstubbar"},{re:/rödlistade svampar/gi,overlay:"naturvardsarter"},{re:/rödlistad art/gi,overlay:"naturvardsarter"},{re:/Trädplantor/gi,overlay:"tradplantor"}];function Re(l=""){return String(l).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ye(l=""){let n=Re(l);n=n.replace(/Visa\s+naturvårdsdiagram/gi,()=>'<a href="#" data-action="show-diagram">Visa naturvårdsdiagram</a>');for(const k of nt)n=n.replace(k.re,b=>`<span class=" text-primary-500 font-medium underline cursor-pointer hover:opacity-80" data-overlay="${k.overlay}">${b}</span>`);return n}const Qt=new Set(St),ea=l=>typeof l=="string"&&Qt.has(l);function Ut(l){const n=l.target;if(!n)return;const k=n.closest("[data-action]");if(k&&k.getAttribute("data-action")==="show-diagram"){l.preventDefault(),kr();return}const b=n.closest("[data-overlay]");if(!b)return;const B=b.getAttribute("data-overlay");ea(B)&&gs(B)}w(!1),p(()=>[{value:"sideBySide",label:"Sida vid sida"},{value:"slider",label:"Skjutreglage"}]);const ta=p(()=>Vt.map((l,n)=>({value:n,label:l.label,description:l.text}))),ss=w(!0),va=w(!1),is=w(!1),pn=w(85);let os=0,us=pn.value;function gn(l){if(!Ma)return;const k=(l.clientX-os)/16;pn.value=us+k}function bn(){Ma=!1,window.removeEventListener("pointermove",gn),window.removeEventListener("pointerup",bn)}oa(()=>{window.removeEventListener("pointermove",gn),window.removeEventListener("pointerup",bn)});const kn=w(600);let Ma=!1,cs=0,ds=kn.value;function yn(l){if(!Ma)return;const n=l.clientY-cs;kn.value=ds+n}function _n(){Ma=!1,window.removeEventListener("pointermove",yn),window.removeEventListener("pointerup",_n)}oa(()=>{window.removeEventListener("pointermove",yn),window.removeEventListener("pointerup",_n)}),w(!1),w(!1);const Oa=w(!0),We=w(0),vs=p(()=>{const l=q.value.value,n=qt(De.value),k="visa",b=At.value?"visa":"dölj",B=re.value.value;return Q({framework:l,timeLabel:n,fungiVisibility:b,treeVisibility:k,startskog:B})}),xn=p(()=>{const l=q.value.value,n="före",k="visa",b=At.value?"visa":"dölj",B=re.value.value;return Q({framework:l,timeLabel:n,fungiVisibility:b,treeVisibility:k,startskog:B})}),wn=p(()=>{const l=q.value.value,n=qt(De.value),k="visa",b=At.value?"visa":"dölj",B=re.value.value;return Q({framework:l,timeLabel:n,fungiVisibility:b,treeVisibility:k,startskog:B})}),Sn=p(()=>{const l=q.value.value,n=qt(De.value),k="visa",b=At.value?"visa":"dölj",B=re.value.value;return Q({framework:l,timeLabel:n,fungiVisibility:b,treeVisibility:k,startskog:B})}),Tn=p(()=>{const l=Le.value.value,n=qt(De.value),k="visa",b=At.value?"visa":"dölj",B=re.value.value;return Q({framework:l,timeLabel:n,fungiVisibility:b,treeVisibility:k,startskog:B})}),vr=wc(),za=p(()=>vr.selectedAnnotation);function fs(l){if(vr.setSelectedAnnotation(l),l.position&&pa.value){const n=pa.value.getZoom();pa.value.setZoomAndCenter(n,l.position)}}function ms(){vr.clearSelectedAnnotation()}const Ue=w(null);w("line");const Da=yc();w(!1);const At=w(!0),fe=p(()=>ne.value&&H.value==="beforeAfterCompare"),de=p(()=>ne.value&&H.value==="frameworkCompare"),Ge=p({get:()=>Da.selectedFramework,set:l=>Da.selectedFramework=l}),Cn=p({get:()=>Da.selectedStartskog??0,set:l=>{Da.selectedStartskog=l}}),aa=w(Ge.value),Le=p(()=>Vt[aa.value]||Vt[0]);K([de,fe],([l,n])=>{(!l||!n)&&(Ss.value="framework1")}),jt(()=>{i=Ti({o:()=>ca.value=!ca.value,n:()=>{pe.value=!pe.value}})}),ml(()=>{typeof i=="function"&&i(),lt&&(clearTimeout(lt),lt=null),It=!1,Pt=!0});const hs=l=>{const n=fr.findIndex(k=>k.value===l.value);n!==-1&&(Cn.value=n),da.value=!1},Vt=[{id:0,label:"Ingen åtgärd",value:"naturskydd",text:"Orörd skog",icon:"pepicons-pop:tree-circle",iconColor:"text-green-500"},{id:1,label:"Trakthygge",value:"trakthygge",text:"Kalavverkning med hänsyn",icon:"material-symbols:resize",iconColor:"text-violet-500"},{id:2,label:"Luckhuggning",value:"luckhuggning",text:"Mindre ytor kalavverkas",icon:"pixelarticons:chess",iconColor:"text-sky-500"},{id:3,label:"Överhållen skärm",value:"skärmträd",text:"Avverkning i tre steg under 20 år",icon:"catppuccin:redwood",iconColor:"text-orange-500"},{id:4,label:"Blädning",value:"blädning",text:"Enstaka träd gallras",icon:"lineicons:trees",iconColor:"text-teal-500"}],fr=[{label:"Kontinuitetsskog",value:"naturskog"},{label:"Kalavverkad",value:"produktionsskog_"}],q=p(()=>Vt[Ge.value!==void 0?Ge.value:0]),re=p(()=>fr[Cn.value]),kt=p(()=>q.value?.value),mr=p(()=>re.value?.value??null),yt=p(()=>kt.value==="trakthygge"),_t=p(()=>kt.value==="luckhuggning"),Fa=p(()=>kt.value==="blädning"||kt.value==="bladning"),Ye=p(()=>kt.value==="skärmträd"||kt.value==="skarmtrad"),hr={retention:{title:"Hänsynsträd",description:"De flesta mykorrhizasvamparna som växte med trädens rötter före avverkningen finns kvar och lever vidare. Mycel kan växa in i och spridas till uppväxande trädplantor.",condition:()=>he.value&&(yt.value||_t.value||Ye.value),close:()=>{he.value=!1}},kanteffekt:{title:"Kanteffekt",description:"Mykorrhizasvamp på trädens rötter i skogskanten kan sträcka sig 10–15 meter in på hygget; starkast närmast kanten.",condition:()=>oe.value&&(yt.value||_t.value||Ye.value),close:()=>{oe.value=!1}},omkringSkog:{title:"Näraliggande skog",description:"Vanliga arter sprids in med sporer från närheten. Sporer sprids bara korta sträckor med vinden. Ovanliga arter har svårt att komma tillbaka eftersom de är ovanliga. ",condition:()=>ue.value&&(yt.value||_t.value||Ye.value),close:()=>{ue.value=!1}},rottackeSkarmtrad:{title:"Rottäcke skärmträd",description:"Kontinuerligt rottäcke kopplat till överhållen skärm (1 år efter).",condition:()=>Me.value&&Ye.value,close:()=>{Me.value=!1}},rottackeBladning:{title:"Rottäcke blädning",description:"Kontinuerligt rottäcke kopplat till blädning (efter, 20, 50, 80 år).",condition:()=>ge.value&&Fa.value,close:()=>{ge.value=!1}},seedTree:{title:"Fröträd",description:"Mycel fortsätter leva på fröträdens rötter och kan koppla till nya plantor.",condition:()=>be.value&&Ye.value,close:()=>{be.value=!1}},smaplantor:{title:"Yngre träd och plantor som lämnats",description:"Undviks underröjning före avverkning, kommer mykorrhizasvampar att överleva på dessa plantor och träd på samma sätt som de gör på rötterna av hänsynsträd.",condition:()=>ke.value,close:()=>{ke.value=!1}},hogstubbar:{title:"Högstubbar",description:"Här finns inga levande mykorrhizamycel. Trädets rötter är döda.",condition:()=>Ae.value,close:()=>{Ae.value=!1}},naturvardsarter:{title:"Naturvårdsarter",description:"Naturvårdsarter har ofta speciella miljökrav, och förekommer främst i äldre skog. Generellt kan mycel av mykorrhizasvampar leva vidare på en plats så länge det finns levande träd. Svampindividers mycel kan likt träd bli många decennier till potentiellt sekler gamla.",condition:()=>pe.value&&(yt.value||_t.value||Fa.value||Ye.value),close:()=>{pe.value=!1}},tradplantor:{title:"Planterade små trädplantor",description:"Har med sig spontant etablerad mykorrhiza från plantskolan där de odlades upp. Det är dock få arter. Dessa ersätts succesivt med bättre anpassade och svamparter som finns på platsen.",condition:()=>Ve.value&&yt.value,close:()=>{Ve.value=!1}}},pr={staticOverlay:"i-material-symbols-light-rectangle-outline",retention:"i-pepicons-pop-tree-circle",kanteffekt:"i-healthicons-square-medium-negative",omkringSkog:"fluent-weather-duststorm-48-regular",rottackeSkarmtrad:"i-fluent-emoji-high-contrast-blue-square",rottackeBladning:"i-fluent-emoji-high-contrast-blue-square",seedTree:"i-teenyicons-redwoodjs-outline",smaplantor:"i-pepicons-pop-seedling-circle",hogstubbar:"i-fluent-emoji-high-contrast-wood",naturvardsarter:"i-material-symbols-award-star-outline",tradplantor:"i-hugeicons-plant-02"},An=p(()=>{const l={staticOverlay:{title:"Beståndsgräns",description:"Visar gränsen för den berörda skogen"}};return St.forEach(n=>{const k=hr[n];l[n]={title:k.title,description:k.description}}),l});function $a(l){const n=An.value[l]??{title:l,description:""},k=pr[l];return{title:n.title,description:n.description,icon:k}}const Pe=ka({staticOverlay:!1,retention:!1,kanteffekt:!1,omkringSkog:!1,rottackeSkarmtrad:!1,rottackeBladning:!1,seedTree:!1,smaplantor:!1,hogstubbar:!1,naturvardsarter:!1,tradplantor:!1}),Lt={staticOverlay:Tt,retention:he,kanteffekt:oe,omkringSkog:ue,rottackeSkarmtrad:Me,rottackeBladning:ge,seedTree:be,smaplantor:ke,hogstubbar:Ae,naturvardsarter:pe,tradplantor:Ve};function gr(l,n={}){const k=Lt[l];if(!k)return;const b=l,B=n.hideWhenUnpin??!0,se=!Pe[b];if(Pe[b]=se,se){k.value||(k.value=!0),ce.value=b,Fe.value=!0;return}B&&(ce.value===b?ja({hideOverlay:!0}):k.value&&(k.value=!1))}const Vn=p(()=>{const l=An.value;return[{key:"staticOverlay",label:l.staticOverlay?.title??"Beståndsgräns",description:l.staticOverlay?.description??"",icon:pr.staticOverlay},...St.map(n=>({key:n,label:l[n]?.title??n,description:l[n]?.description??"",icon:pr[n]??void 0}))]}),Ln=p(()=>{const l={};return Vn.value.forEach(n=>{l[n.key]={label:n.label,icon:n.icon}}),l}),Mt=p(()=>{const l=ce.value;if(!l||!br(l))return null;const n=$a(l);return{key:l,title:n.title,description:n.description}}),fa=p(()=>{const l=ce.value;return l?Pe[l]:!1}),Mn=p(()=>{const l=ce.value;return l?Ln.value[l]?.icon??null:null}),On=p(()=>{const l=Ln.value,n=ks.value,k=[];return Pe.staticOverlay&&k.push({key:"staticOverlay",title:l.staticOverlay?.label??"Beståndsgräns",icon:l.staticOverlay?.icon||null,isAssociated:!0}),St.forEach(b=>{Pe[b]&&k.push({key:b,title:l[b]?.label??hr[b].title,icon:l[b]?.icon||null,isAssociated:n[b]??!0})}),k});K(Ne,l=>{l&&Ct.value&&(Ct.value=!1)}),K(Ct,l=>{l&&Ne.value&&(Ne.value=!1)});let lt=null,Pt=!0,It=!1;function ps(l){gr(l)}function st(l){Object.keys(Lt).forEach(n=>{n!==l&&(Pe[n]||Lt[n]?.value&&(Lt[n].value=!1))})}function br(l){const n=hr[l];return!!n&&n.condition()}function it(l){const n=br(l);if(cr(l,n),n){ce.value=l,Fe.value=!0,y.value||d();return}if(ce.value===l){const k=Sa.value.slice().reverse().find(b=>br(b));k?(ce.value=k,Fe.value=!0,y.value||d()):(ja({hideOverlay:!1}),d())}}function gs(l){const n=Lt[l];if(n){if(n.value){Pe[l]?zn(l):(n.value=!1,d());return}n.value=!0,zn(l)}}async function kr(l={}){dr(),Jt.value=jr,Rt.value=!0,await Xt(),x.value?.setSelectedChart&&(x.value.setSelectedChart(jr),Rt.value=!1),l.badgeKey&&(c[l.badgeKey]=!1),y.value||d();try{ja({hideOverlay:!1})}catch{}try{Pe.naturvardsarter=!0;const n=Lt.naturvardsarter;n&&!n.value&&(n.value=!0)}catch{}}K([rt,()=>x.value],async([l,n])=>{if(l==="diagram"&&Rt.value&&n?.setSelectedChart){await Xt();try{n.setSelectedChart(jr)}finally{Rt.value=!1}}});function zn(l){Lt[l]&&(ce.value=l,Fe.value=!0)}function ja(l={}){It=!0;const n=ce.value;if(Pt=l.hideOverlay??(n?!Pe[n]:!0),!n){It=!1,Pt=!0,Fe.value=!1,d();return}if(!Fe.value){Dn();return}Fe.value=!1}function Dn(){lt&&(clearTimeout(lt),lt=null);const l=ce.value;if(!l){Pt=!0,It=!1;return}const n=Pt;if(ce.value=null,Pt=!0,It=!1,n){const k=Lt[l];k&&k.value&&(k.value=!1),d()}}K(Fe,(l,n)=>{if(lt&&(clearTimeout(lt),lt=null),!l&&n){if(!It){const k=ce.value;Pt=k?!Pe[k]:!0}lt=setTimeout(()=>{Dn()},ef)}else l&&(It=!1)}),K(ca,l=>{l||(ja({hideOverlay:!1}),y.value||d())}),jt(()=>{try{Tt.value||(Tt.value=!0)}catch{}Pe.staticOverlay=!0}),K(he,l=>{l&&st("retention"),it("retention")},{immediate:!0}),K(oe,l=>{l&&st("kanteffekt"),it("kanteffekt")},{immediate:!0}),K(ue,l=>{l&&st("omkringSkog"),it("omkringSkog")},{immediate:!0}),K(ge,l=>{l&&st("rottackeBladning"),it("rottackeBladning")},{immediate:!0}),K(be,l=>{l&&st("seedTree"),it("seedTree")},{immediate:!0}),K(ke,l=>{l&&st("smaplantor"),it("smaplantor")},{immediate:!0}),K(Ae,l=>{l&&st("hogstubbar"),it("hogstubbar")},{immediate:!0}),K(pe,l=>{l&&st("naturvardsarter"),it("naturvardsarter")},{immediate:!0}),K(Ve,l=>{l&&st("tradplantor"),it("tradplantor")},{immediate:!0}),K(Tt,l=>{l&&st("staticOverlay")}),K(kt,()=>{St.forEach(l=>it(l))});const De=w(3);function bs(l){fe.value&&l.value===3||(De.value=l.value)}function Ea(l){return{3:"innan",15:"efter",30:"10 år",45:"20 år",70:"50 år",99:"80 år"}[l]||"innan"}function qt(l){const n=ra.value.find(k=>k.value===l);return n?n.timeLabel:"före"}const ra=p(()=>{const n=[{value:3,label:q.value?.value==="naturskydd"?"Ingen avverkning":"Före avverkning",timeLabel:"före"},{value:15,label:"1 år efter ",timeLabel:"efter"}];return q.value?.value==="skärmträd"&&!de.value&&n.push({value:30,label:"10 år efter",timeLabel:"10"}),n.push({value:45,label:"20 år efter ",timeLabel:"20"},{value:70,label:"50 år efter ",timeLabel:"50"},{value:99,label:"+ 80 år efter ",timeLabel:"80"}),n}),Ht=p(()=>ra.value.map(l=>({value:String(l.value),label:l.label,disabled:fe.value&&l.value===3}))),na=p({get(){return String(De.value)},set(l){const n=ra.value.find(k=>String(k.value)===l);n&&bs(n)}}),$e=p(()=>{const l=ra.value.find(n=>n.value===De.value);return l?l.label:""}),Fn=p(()=>fe.value?3:null);p(()=>Fn.value!==null?Ea(Fn.value):null);const je=p(()=>Ea(De.value)),$n=p(()=>({framework:kt.value??null,startskog:mr.value??null,time:je.value??null})),ks=p(()=>o.availabilityFor($n.value)),le=p(()=>o.filterAll($n.value)),ys=p(()=>({framework:kt.value??null,startskog:mr.value??null,time:fe.value?"innan":je.value??null})),Ze=p(()=>o.filterAll(ys.value)),_s=p(()=>({framework:Le.value?.value??null,startskog:mr.value??null,time:je.value??null})),Xe=p(()=>o.filterAll(_s.value)),Ke=p(()=>!q.value?.value||!je.value||!re.value?.value?null:Z.value.find(l=>l.atgard===q.value.value&&l.tid===je.value&&l.startskog===re.value.value)),Ba=p(()=>!Le.value?.value||!je.value||!re.value?.value?null:Z.value.find(l=>l.atgard===Le.value.value&&l.tid===je.value&&l.startskog===re.value.value)),Na=p(()=>!q.value?.value||!re.value?.value?null:Z.value.find(l=>l.atgard===q.value.value&&l.tid==="innan"&&l.startskog===re.value.value)),Ra=p(()=>{const l=[],n=q.value?.label??"",k=Le.value?.label??"",b=$e.value??"";return fe.value?(l.push({key:"before",left:n,right:"Före avverkning",info:Na.value??null}),l.push({key:"after",left:n,right:b,info:Ke.value??null})):de.value?(l.push({key:"framework1",left:n,right:b,info:Ke.value??null}),l.push({key:"framework2",left:k,right:b,info:Ba.value??null})):l.push({key:"single",left:n,right:b,info:Ke.value??null}),l}),jn=p(()=>{const l=Ra.value.filter(n=>!!n.info).length;return y.value&&l>1&&(fe.value||de.value)}),ma=ka({});function yr(l){ma[l]||(ma[l]={skog:!1,svamp:!1})}function Ot(l,n){return yr(l),ma[l][n]}function Ua(l,n){yr(l),ma[l][n]=!ma[l][n]}K(Ra,l=>{l.forEach(n=>yr(n.key))},{immediate:!0});function En(l){ne.value=l,l&&H.value||(H.value="beforeAfterCompare")}const Bn=p(()=>{const l=q.value.value,n="före",k="dölj",b=At.value?"visa":"dölj",B=re.value.value;return Q({framework:l,timeLabel:n,fungiVisibility:b,treeVisibility:k,startskog:B})}),Nn=p(()=>{const l=Le.value.value,n=qt(De.value),k="dölj",b=At.value?"visa":"dölj",B=re.value.value;return Q({framework:l,timeLabel:n,fungiVisibility:b,treeVisibility:k,startskog:B})});p(()=>{const l=q.value.value.toLowerCase(),n=qt(De.value);return`${l}_${n}`});const ha=p(()=>{const l=q.value.value,n=qt(De.value),k="dölj",b=At.value?"visa":"dölj",B=re.value.value;return Q({framework:l,timeLabel:n,fungiVisibility:b,treeVisibility:k,startskog:B})});K([q,fe,de],()=>{ra.value.map(n=>n.value).includes(De.value)||(De.value=15)});const pa=w(null),ot=w(null),ut=w(null);let _r=!1,xr=!1;function Rn(){if(xr)return;_r=!0;const l=ot.value?.getZoom(),n=ot.value?.getCenter();l&&n&&ut.value&&ut.value.setZoomAndCenter(l,n),_r=!1}function Un(){if(_r)return;xr=!0;const l=ut.value?.getZoom(),n=ut.value?.getCenter();l&&n&&ot.value&&ot.value.setZoomAndCenter(l,n),xr=!1}function zt(l){l==="before"&&ot.value?(ot.value.addSyncHandler("zoom",Rn),ot.value.addSyncHandler("pan",Rn)):l==="after"&&ut.value?(ut.value.addSyncHandler("zoom",Un),ut.value.addSyncHandler("pan",Un)):l==="framework1"&&ct.value?(ct.value.addSyncHandler("zoom",Pn),ct.value.addSyncHandler("pan",Pn)):l==="framework2"&&dt.value&&(dt.value.addSyncHandler("zoom",In),dt.value.addSyncHandler("pan",In))}let wr=!1,Sr=!1;function Pn(){if(Sr)return;wr=!0;const l=ct.value?.getZoom(),n=ct.value?.getCenter();l&&n&&dt.value&&dt.value.setZoomAndCenter(l,n),wr=!1}function In(){if(wr)return;Sr=!0;const l=dt.value?.getZoom(),n=dt.value?.getCenter();l&&n&&ct.value&&ct.value.setZoomAndCenter(l,n),Sr=!1}const ct=w(null),dt=w(null);let Tr=null;const qn=w({zoom:1,center:null});function Pa(l,{zoom:n,center:k}={}){!n||!k||Tr!==l&&(Tr=l,qn.value={zoom:n,center:k})}function xs(){return!fe.value&&!de.value?{single:pa.value}:fe.value?{before:ot.value,after:ut.value}:de.value?{framework1:ct.value,framework2:dt.value}:{}}K(qn,({zoom:l,center:n})=>{const k=xs();Object.entries(k).forEach(([b,B])=>{b!==Tr&&B&&B.setZoomAndCenter&&B.setZoomAndCenter(l,n)})});const xt=w("single");p(()=>[{key:"framework1",label:q.value.label},{key:"framework2",label:Le.value.label}]);const ws=w(0);K(de,l=>{l||(ws.value=0)});const Ss=w("none"),Cr=[{label:"Före / efter",value:"beforeAfterCompare"},{label:"Två metoder",value:"frameworkCompare"}];function Ts(){Ue.value&&Ue.value.toggleLayoutMode&&Ue.value.toggleLayoutMode(),console.log("Current layout:",ee.value)}p(()=>({label:ee.value==="sideBySide"?"Sida vid sida":"Skjutreglage",type:"button",onSelect(l){l.preventDefault(),Ts()},icon:ee.value==="sideBySide"?"i-circum-grid-2-v":"iconamoon:compare-duotone"})),p(()=>[{label:Cr[0].label,type:"checkbox",checked:H.value==="frameworkCompare",onUpdateChecked(l){l?H.value="frameworkCompare":H.value==="frameworkCompare"&&(H.value=null)},onSelect(l){l.preventDefault()}},{label:Cr[1].label,type:"checkbox",checked:H.value==="beforeAfterCompare",onUpdateChecked(l){l?H.value="beforeAfterCompare":H.value==="beforeAfterCompare"&&(H.value=null)},onSelect(l){l.preventDefault()}},{type:"separator"},{label:"Sida vid sida",type:"checkbox",checked:ee.value==="sideBySide",onUpdateChecked(l){l&&(ee.value="sideBySide",Ue.value&&Ue.value.setLayoutMode&&Ue.value.setLayoutMode("sideBySide"))},onSelect(l){l.preventDefault()},icon:"i-circum-grid-2-v"},{label:"Skjutreglage",type:"checkbox",checked:ee.value==="slider",onUpdateChecked(l){l&&(ee.value="slider",Ue.value&&Ue.value.setLayoutMode&&Ue.value.setLayoutMode("slider"))},onSelect(l){l.preventDefault()},icon:"iconamoon:compare-duotone"}]),p(()=>ee.value==="sideBySide"?"i-circum-grid-2-v":"iconamoon:compare-duotone"),p(()=>H.value==="frameworkCompare"?"Två metoder":H.value==="beforeAfterCompare"?"Före / efter":"Jämför"),K(H,l=>{l==="frameworkCompare"?(fe.value=!1,de.value=!0):l==="beforeAfterCompare"?(fe.value=!0,de.value=!1):(fe.value=!1,de.value=!1)}),K(ee,l=>{Ue.value&&Ue.value.setLayoutMode&&Ue.value.setLayoutMode(l)}),K(fe,l=>{l&&De.value===3&&(De.value=15)});const Hn=p(()=>{const l=ra.value.find(n=>n.value===De.value);return l?l.timeLabel:""}),Cs=p(()=>{const l=q.value.value,n=Hn.value.toLowerCase();return xc.annotations.flatMap(k=>{if(k.positions&&Array.isArray(k.positions))return k.positions.filter(b=>{const B=Array.isArray(b.framework)?b.framework.includes(l):b.framework===l,se=Array.isArray(b.times)?b.times.map(Dt=>Dt.toLowerCase()).includes(n):b.times.toLowerCase()===n;return B&&se}).map(b=>({...k,position:{x:b.x,y:b.y,placement:b.placement}}));{const b=Array.isArray(k.frameworks)?k.frameworks.includes(l):k.framework===l,B=Array.isArray(k.times)?k.times.map(se=>se.toLowerCase()).includes(n):k.time.toLowerCase()===n;return b&&B?[k]:[]}})});return K(xt,l=>{console.log("activeViewer updated to:",l)}),(l,n)=>{const k=Ha,b=rn,B=bl,se=Is,Dt=nn,Ft=kl,_e=Bi,ga=si,As=li,Vs=ls,Ar=Ws,Wt=hl,Wn=kc;return h(),D("div",Ec,[_(F(N),null,{default:z(()=>[v("div",Bc,[v("div",Nc,[_(b,{size:"xs",variant:"outline",color:"neutral",onClick:n[0]||(n[0]=u=>En(!1)),class:ve(ne.value?"text-muted/60 hover:text-muted ring-muted/50":"bg-neutral-100 shadow ring-muted")},{default:z(()=>[v("div",Rc,[_(k,{name:"i-bx-rectangle",class:"size-4"}),n[68]||(n[68]=v("h1",null,"Enkelvy",-1))])]),_:1},8,["class"]),_(b,{size:"xs",variant:"outline",color:"neutral",onClick:n[1]||(n[1]=u=>En(!0)),class:ve(ne.value?"bg-neutral-100 shadow ring-muted":"text-muted/60 hover:text-muted ring-muted/50")},{default:z(()=>[v("div",Uc,[_(k,{name:"iconamoon:compare-duotone",class:"size-4"}),n[69]||(n[69]=v("h1",null,"Jämför",-1))])]),_:1},8,["class"])]),ne.value?(h(),U(B,{key:0,modelValue:H.value,"onUpdate:modelValue":n[2]||(n[2]=u=>H.value=u),items:Cr,size:"xs",placeholder:"Välj",clearable:!0,class:"w-full ring-muted -mb-2 mt-2",ui:{root:"min-w-max flex-shrink-0",list:"flex-nowrap rounded-xl bg-muted/50 -mb-1.5 gap-2",indicator:"bg-white border border-muted/50 shadow ",trigger:" data-[state=active]:text-neutral-800 dark:data-[state=active]:text-violet-400/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary "}},null,8,["modelValue"])):$("",!0)]),_(se,{ui:{border:"border-muted/50"}}),v("div",Pc,[v("div",Ic,[n[70]||(n[70]=v("span",{class:"text-sm tracking-wide text-neutral-400"},"Trädens synlighet",-1)),qs(v("input",{type:"range",min:"0",max:"1",step:"0.01","onUpdate:modelValue":n[3]||(n[3]=u=>We.value=u),class:"accent-primary-500 h-[5px] w-32"},null,512),[[Hs,We.value]])]),v("div",qc,[(h(!0),D(Oe,null,et(Vn.value,u=>(h(),U(Dt,{key:u.key,label:u.label,icon:u.icon,color:Pe[u.key]?"primary":"neutral",variant:Pe[u.key]?"solid":"subtle",class:ve(["cursor-pointer",Pe[u.key]?"shadow-sm":"opacity-70 hover:opacity-100"]),onClick:Te=>ps(u.key)},null,8,["label","icon","color","variant","class","onClick"]))),128))])])]),_:1}),v("div",null,[v("div",Hc,[v("div",Wc,[ta.value.length?(h(),D("div",{key:0,class:ve(["grid sm:gap-4 gap-2 p-2 sm:py-1 sm:flex-row sm:items-center sm:justify-start h-fit w-full sm:w-fit",de.value?"grid-cols-2":"grid-cols-1"])},[_(Ft,{size:"xl",items:ta.value,modelValue:Ge.value,"onUpdate:modelValue":n[4]||(n[4]=u=>Ge.value=u),placeholder:q.value.label,"append-to-body":"",variant:"soft",class:"ring-muted w-full shadow",ui:{content:"min-w-fit",viewport:"text-center"}},null,8,["items","modelValue","placeholder"]),de.value?(h(),U(Ft,{key:0,size:"xl",items:ta.value,modelValue:aa.value,"onUpdate:modelValue":n[5]||(n[5]=u=>aa.value=u),placeholder:Le.value.label,"append-to-body":"",variant:"soft",class:"ring-muted shadow"},null,8,["items","modelValue","placeholder"])):$("",!0)],2)):$("",!0),F(y)?(h(),U(b,{key:1,icon:"i-heroicons-x-mark",variant:"soft",color:"neutral",class:"rounded-full h-fit mr-2 ml-1",ui:{rounded:"rounded-full"},onClick:n[6]||(n[6]=u=>Kt("close")),"aria-label":"Stäng modellvy",size:"lg"})):$("",!0)]),F(y)?$("",!0):(h(),D("div",Gc,[_(b,{icon:"i-heroicons-x-mark",variant:"ghost",color:"neutral",class:"rounded-full",ui:{rounded:"rounded-full"},onClick:n[7]||(n[7]=u=>Kt("close")),"aria-label":"Stäng modellvy"})]))]),v("div",Yc,[v("div",Zc,[_(_e,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:ht.value,"onUpdate:modelValue":n[8]||(n[8]=u=>ht.value=u),label:"Spara klick (dev)"},null,8,["modelValue"]),_(_e,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:Y.value,"onUpdate:modelValue":n[9]||(n[9]=u=>Y.value=u),label:"Visa myc-etiketter (dev)"},null,8,["modelValue"]),_(_e,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:Ce.value,"onUpdate:modelValue":n[10]||(n[10]=u=>Ce.value=u),label:"Visa naturvårdssiffra (dev)"},null,8,["modelValue"])]),v("div",Xc,[_(Ar,{direction:(F(y),"bottom"),inset:!F(y),dismissible:!!F(y),overlay:!1,handle:(F(y),!1),modal:!1,open:Ne.value,"onUpdate:open":n[18]||(n[18]=u=>Ne.value=u),class:"pointer-events-auto",ui:{header:"flex items-center justify-between",body:"p-0 ",container:"p-0 gap-0 ",content:"max-w-4xl mx-auto ring-muted/50",footer:"gap-0"}},{body:z(()=>[_(b,{class:"absolute top-1.5 right-1.5 z-50",variant:"ghost",color:"neutral",label:"Stäng",onClick:n[11]||(n[11]=u=>Ne.value=!1)}),v("div",Kc,[_(B,{modelValue:rt.value,"onUpdate:modelValue":n[13]||(n[13]=u=>rt.value=u),items:R,variant:"pill",size:"xs",color:"neutral",ui:{indicator:"bg-white shadow",trigger:"data-[state=active]:text-neutral-700 ",list:"bg-muted gap-2 m-1.5 w-fit",root:"gap-0"}},{text:z(()=>[v("div",{class:ve(["sm:grid divide-y sm:divide-y-0 sm:divide-x divide-muted/70 transition-all relative",[ne.value?"sm:grid-cols-2":"sm:grid-cols-1",Mt.value?"sm:opacity-40":""]])},[v("div",{class:ve(["absolute inset-0 bg-neutral-500 transition-all pointer-events-none",Mt.value?"opacity-0 sm:opacity-40 sm:bg-neutral-500/50":"opacity-0"])},null,2),jn.value?$("",!0):(h(!0),D(Oe,{key:0},et(Ra.value,u=>(h(),D("div",{key:u.key,class:"p-3 sm:p-3 group",onClick:Ut},[u.info?(h(),D("div",Jc,[v("div",Qc,[_(b,{type:"button",variant:"ghost",color:"neutral",class:"flex w-full items-center font-semibold gap-2 tracking-wide text-neutral-500 transition",onClick:la(Te=>Ua(u.key,"skog"),["stop"])},{default:z(()=>[n[71]||(n[71]=v("span",null,"Utveckling i skogen",-1)),_(k,{name:"i-heroicons-chevron-down",class:ve(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!Ot(u.key,"skog")}])},null,8,["class"])]),_:2},1032,["onClick"]),Ot(u.key,"skog")?(h(),D("p",{key:0,class:"text-sm text-neutral-800 leading-relaxed p-2 mb-2 bg-muted rounded",innerHTML:ye(u.info.skog)},null,8,ed)):$("",!0)]),v("div",td,[_(b,{type:"button",variant:"ghost",color:"neutral",class:"flex w-full items-center gap-2 font-semibold tracking-wide text-neutral-500 transition",onClick:la(Te=>Ua(u.key,"svamp"),["stop"])},{default:z(()=>[n[72]||(n[72]=v("span",null,"Påverkan på mykorrhizasvampar",-1)),_(k,{name:"i-heroicons-chevron-down",class:ve(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!Ot(u.key,"svamp")}])},null,8,["class"])]),_:2},1032,["onClick"]),Ot(u.key,"svamp")?(h(),D("span",{key:0,class:"block text-sm text-neutral-800 leading-relaxed p-2 bg-muted rounded",innerHTML:ye(u.info.svamp)},null,8,ad)):$("",!0)])])):(h(),D("div",rd,W(u.emptyMessage||cl),1))]))),128)),jn.value?(h(),D("div",nd,[_(As,{items:Ra.value,ui:{item:"basis-12/13",viewport:"p-3"}},{default:z(({item:u})=>[_(ga,{ui:{body:"p-4 space-y-4"},class:"",variant:"soft",onClick:Ut},{default:z(()=>[v("div",ld,[v("h2",sd,W(u.left),1),_(Dt,{label:u.right,class:"ring-muted/50 py-1",variant:"outline",color:"neutral"},null,8,["label"])]),u.info?(h(),D("div",id,[v("div",od,[_(b,{type:"button",variant:"ghost",color:"neutral",class:"-mx-2 flex w-full items-center font-semibold gap-2 tracking-wide text-neutral-500 transition",onClick:la(Te=>Ua(u.key,"skog"),["stop"])},{default:z(()=>[n[73]||(n[73]=v("span",null,"Utveckling i skogen",-1)),_(k,{name:"i-heroicons-chevron-down",class:ve(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!Ot(u.key,"skog")}])},null,8,["class"])]),_:2},1032,["onClick"]),Ot(u.key,"skog")?(h(),D("p",{key:0,class:"text-sm text-neutral-800 leading-relaxed mb-2 bg-muted rounded",innerHTML:ye(u.info.skog)},null,8,ud)):$("",!0)]),v("div",cd,[_(b,{type:"button",variant:"ghost",color:"neutral",class:"-mx-2 flex w-full items-center gap-2 font-semibold tracking-wide text-neutral-500 transition",onClick:la(Te=>Ua(u.key,"svamp"),["stop"])},{default:z(()=>[n[74]||(n[74]=v("span",null,"Påverkan på mykorrhizasvampar",-1)),_(k,{name:"i-heroicons-chevron-down",class:ve(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!Ot(u.key,"svamp")}])},null,8,["class"])]),_:2},1032,["onClick"]),Ot(u.key,"svamp")?(h(),D("span",{key:0,class:"block text-sm text-neutral-800 leading-relaxed bg-muted rounded",innerHTML:ye(u.info.svamp)},null,8,dd)):$("",!0)])])):(h(),D("div",vd,W(u.emptyMessage||cl),1))]),_:2},1024)]),_:1},8,["items"])])):$("",!0)],2)]),diagram:z(()=>[rt.value==="diagram"?(h(),U(Vs,{key:0,ref_key:"chartMainRef",ref:x,selectedChart:Jt.value,"onUpdate:selectedChart":n[12]||(n[12]=u=>Jt.value=u),parentSelectedFrameworks:de.value?[q.value.value,Le.value.value]:[q.value.value],currentTimeValue:Hn.value,currentStartskog:re.value.value},null,8,["selectedChart","parentSelectedFrameworks","currentTimeValue","currentStartskog"])):$("",!0),n[75]||(n[75]=v("div",{class:"px-4 pb-4 text-xs text-muted"}," Fugiat irure tempor nisi dolor. Sit irure reprehenderit sint est nostrud. Voluptate reprehenderit amet laboris non nostrud. ",-1))]),_:1},8,["modelValue"])]),Mt.value?(h(),U(Ar,{key:0,open:Fe.value,"onUpdate:open":n[17]||(n[17]=u=>Fe.value=u),nested:"",direction:"bottom",modal:!0,overlay:!1,inset:!F(y),handle:!!F(y),ui:{container:"p-0 gap-0",content:"sm:max-w-sm w-full mx-auto",body:"p-4 space-y-3"}},{body:z(()=>[v("div",fd,[v("div",md,[Mn.value?(h(),U(k,{key:0,name:Mn.value,class:"size-5 text-primary-500 mt-0.5"},null,8,["name"])):$("",!0),v("h3",hd,W(Mt.value.title),1)]),v("div",pd,[_(b,{color:fa.value?"error":"primary",variant:"subtle",size:"xs",ui:{rounded:"rounded-full"},label:fa.value?"Ta bort":"Fäst i vyn",icon:fa.value?"i-tabler-pinned-off":"i-tabler-pinned","aria-pressed":fa.value,title:fa.value?"Lossa":"Fäst",onClick:n[14]||(n[14]=u=>gr(Mt.value.key,{hideWhenUnpin:!1}))},null,8,["color","label","icon","aria-pressed","title"])])]),v("p",gd,W(Mt.value.description),1),Mt.value.key==="naturvardsarter"?(h(),U(b,{key:0,size:"sm",color:"primary",variant:"soft",class:"mt-2",icon:"i-carbon-chart-line-smooth",onClick:n[15]||(n[15]=u=>kr())},{default:z(()=>[...n[76]||(n[76]=[wt(" Visa naturvårdsartsdiagram ",-1)])]),_:1})):$("",!0),Mt.value.key==="kanteffekt"?(h(),U(ga,{key:1,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"},class:"mt-2 backdrop-blur-xl border border-white/10"},{default:z(()=>[_(_e,{ui:{root:"flex-row-reverse justify-between",label:"",description:"",base:"data-[state=unchecked]:bg-neutral-600"},size:"md",color:"primary",modelValue:C.value,"onUpdate:modelValue":n[16]||(n[16]=u=>C.value=u),label:"Tidigare kanteffekt",description:"Visa spår från tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):$("",!0)]),_:1},8,["open","inset","handle"])):$("",!0)]),default:z(()=>[_(b,{size:(F(y),"xl"),label:(F(y),"Information"),color:"neutral",icon:"i-heroicons-chevron-up",class:"ring-muted rounded-full shadow",variant:Ne.value?"subtle":"outline"},null,8,["size","label","variant"])]),_:1},8,["direction","inset","dismissible","handle","open"])]),v("div",bd,[_(Wt,{class:"shrink-0 cursor-pointer h-fit z-50",open:da.value,"onUpdate:open":n[19]||(n[19]=u=>da.value=u),popper:{placement:"bottom-start"}},{content:z(()=>[n[77]||(n[77]=v("div",{class:"text-sm w-64 p-3 text-neutral-500 border-b border-neutral-200"}," Kort beskriving av betydelsen för skogens historik ",-1)),v("div",kd,[(h(),D(Oe,null,et(fr,u=>v("div",{key:u.value},[_(b,{onClick:Te=>hs(u),size:"lg",color:"white",variant:"ghost",class:ve(["hover:bg-neutral-100 w-full cursor-pointer text-neutral-400",{"w-full bg-neutral-100  text-neutral-800":re.value.value===u.value}])},{default:z(()=>[wt(W(u.label),1)]),_:2},1032,["onClick","class"])])),64))])]),default:z(()=>[_(b,{variant:(F(y),"outline"),color:"neutral",icon:"i-heroicons-clock",size:"lg",label:F(y)?null:re.value.label,class:"rounded-full ring-muted"},null,8,["variant","label"])]),_:1},8,["open"]),_(B,{modelValue:na.value,"onUpdate:modelValue":n[20]||(n[20]=u=>na.value=u),items:Ht.value,ui:{root:"min-w-max flex-shrink-0",list:"flex-nowrap rounded-xl bg-transparent -mb-1.5 gap-2",indicator:"bg-white border border-muted/50 shadow ",trigger:" data-[state=active]:text-neutral-800 dark:data-[state=active]:text-violet-400/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary "}},null,8,["modelValue","items"])])])]),v("div",yd,[v("div",_d,[v("div",xd,[F(y)?(h(),U(Ar,{key:1,modal:!1,ui:{content:"p-0",body:"p-0",container:"p-0 gap-0"}},{body:z(()=>[_(F(S))]),default:z(()=>[_(b,{size:F(y)?"xl":"md",color:"neutral",variant:"outline",label:F(y)?null:"Display",icon:"i-heroicons-adjustments-horizontal",class:"ring-muted rounded-full sm:rounded pointer-events-auto"},null,8,["size","label"])]),_:1})):(h(),U(Wt,{key:0,ui:{content:"p-0 w-80"},content:{side:"bottom",sideOffset:8,collisionPadding:8,align:"start"},class:"pointer-events-auto"},{content:z(()=>[_(F(S))]),default:z(()=>[_(b,{size:"md",color:"neutral",variant:"outline",label:"Display",icon:"i-heroicons-adjustments-horizontal",class:"ring-muted"})]),_:1}))]),On.value.length?(h(),D("div",wd,[(h(!0),D(Oe,null,et(On.value,u=>(h(),D("div",{key:u.key,class:"pointer-events-auto flex flex-col sm:flex sm:flex-wrap gap-1 items-end"},[_(Wt,{"open-delay":500,"close-delay":300,mode:"click",open:c[u.key],"onUpdate:open":Te=>c[u.key]=Te,popper:{placement:"bottom-end"},ui:{content:"p-0 w-80"}},{content:z(()=>[v("div",Td,[v("div",Cd,[v("div",Ad,[u.icon?(h(),U(k,{key:0,name:u.icon,class:"size-5 text-primary-500 mt-0.5"},null,8,["name"])):$("",!0),v("h3",Vd,W($a(u.key).title||u.title),1)]),_(b,{label:"Ta bort",variant:"subtle",color:"error",size:"xs",icon:"i-tabler-pinned-off",onClick:Te=>(gr(u.key),c[u.key]=!0)},null,8,["onClick"])]),$a(u.key).description?(h(),D("p",Ld,W($a(u.key).description),1)):(h(),D("div",Md,"Ingen beskrivning tillgänglig.")),u.key==="naturvardsarter"?(h(),U(b,{key:2,size:"sm",color:"primary",variant:"soft",icon:"i-carbon-chart-line-smooth",onClick:la(Te=>kr({badgeKey:u.key}),["stop"])},{default:z(()=>[...n[78]||(n[78]=[wt(" Visa naturvårdsartsdiagram ",-1)])]),_:1},8,["onClick"])):$("",!0),u.key==="kanteffekt"?(h(),U(ga,{key:3,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"},class:"mt-2 backdrop-blur-xl border border-white/10"},{default:z(()=>[_(_e,{ui:{root:"flex-row-reverse justify-between",label:"",description:"",base:"data-[state=unchecked]:bg-neutral-600"},size:"md",color:"primary",modelValue:C.value,"onUpdate:modelValue":n[21]||(n[21]=Te=>C.value=Te),label:"Tidigare kanteffekt",description:"Visa spår från tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):$("",!0)])]),default:z(()=>[v("div",null,[_(Dt,{color:"neutral",variant:"outline",size:"lg",class:ve(["cursor-pointer shadow-sm sm:ml-1.5 w-fit transition-opacity ring-muted/50",u.key==="staticOverlay"||E(u.key)?"":"opacity-50"])},{default:z(()=>[v("div",Sd,[u.icon?(h(),U(k,{key:0,name:u.icon,class:"size-5 text-primary-500"},null,8,["name"])):$("",!0),v("span",null,W(u.title),1)])]),_:2},1032,["class"])])]),_:2},1032,["open","onUpdate:open"])]))),128))])):$("",!0),v("div",{class:ve(["relative overflow-auto transition-all duration-300 ease-in-out ",va.value?"w-72 border-r border-neutral-300":"w-0"])},[va.value?(h(),D("div",Od,[v("div",zd,[n[79]||(n[79]=v("h1",{class:"font-semibold text-lg"},"Inställningar",-1)),_(b,{icon:va.value?"i-heroicons-chevron-left":"i-heroicons-chevron-right",variant:"outline",color:"neutral",class:"rounded-full left-4 z-10",onClick:n[22]||(n[22]=u=>va.value=!va.value)},null,8,["icon"])]),_(ga,{variant:"soft",ui:{body:"p-2 sm:p-3"},class:"mb-2"},{default:z(()=>[v("div",Dd,[n[81]||(n[81]=v("div",{class:"text-xs text-neutral-500"},"UI‑zoom",-1)),v("div",Fd,[_(b,{color:"neutral",variant:"soft",size:"xs",icon:"i-heroicons-minus",onClick:n[23]||(n[23]=u=>pt.value=Math.max(.75,+(pt.value-.1).toFixed(2)))}),v("div",$d,W(Math.round(pt.value*100))+"% ",1),_(b,{color:"neutral",variant:"soft",size:"xs",icon:"i-heroicons-plus",onClick:n[24]||(n[24]=u=>pt.value=Math.min(2,+(pt.value+.1).toFixed(2)))}),_(b,{color:"neutral",variant:"ghost",size:"xs",title:"Återställ (100%)",onClick:n[25]||(n[25]=u=>pt.value=1)},{default:z(()=>[...n[80]||(n[80]=[wt(" Reset ",-1)])]),_:1})])])]),_:1}),de.value?(h(),D("div",jd,[_(Ft,{size:"lg",items:ta.value,modelValue:Ge.value,"onUpdate:modelValue":n[26]||(n[26]=u=>Ge.value=u),placeholder:q.value.label,"append-to-body":"",variant:"outline",class:"w-full"},{item:z(({item:u})=>[v("div",Ed,[v("div",Bd,W(u.label),1),u.description?(h(),D("div",Nd,W(u.description),1)):$("",!0)])]),_:1},8,["items","modelValue","placeholder"]),_(Ft,{size:"lg",items:ta.value,modelValue:aa.value,"onUpdate:modelValue":n[27]||(n[27]=u=>aa.value=u),placeholder:Le.value.label,"append-to-body":"",variant:"outline",class:"w-full"},{item:z(({item:u})=>[v("div",Rd,[v("div",Ud,W(u.label),1),u.description?(h(),D("div",Pd,W(u.description),1)):$("",!0)])]),_:1},8,["items","modelValue","placeholder"])])):(h(),D(Oe,{key:1},[n[82]||(n[82]=v("h1",{class:"text-xs text-neutral-400"},"Skogsbruksmetod",-1)),_(Ft,{size:"xl",items:ta.value,modelValue:Ge.value,"onUpdate:modelValue":n[28]||(n[28]=u=>Ge.value=u),placeholder:q.value.label,"append-to-body":"",variant:"subtle",class:"w-full"},{item:z(({item:u})=>[v("div",Id,[v("div",qd,W(u.label),1),u.description?(h(),D("div",Hd,W(u.description),1)):$("",!0)])]),_:1},8,["items","modelValue","placeholder"])],64)),v("div",Wd,[v("div",Gd,[v("div",Yd,[yt.value||_t.value||Ye.value?(h(),U(_e,{key:0,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:he.value,"onUpdate:modelValue":n[29]||(n[29]=u=>he.value=u),label:"Hänsynsträd"},null,8,["modelValue"])):$("",!0),yt.value||_t.value||Ye.value?(h(),U(_e,{key:1,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:oe.value,"onUpdate:modelValue":n[30]||(n[30]=u=>oe.value=u),label:"Kanteffekt"},null,8,["modelValue"])):$("",!0),yt.value||_t.value||Ye.value?(h(),U(_e,{key:2,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ue.value,"onUpdate:modelValue":n[31]||(n[31]=u=>ue.value=u),label:"Omkringliggande skog"},null,8,["modelValue"])):$("",!0),_(_e,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ke.value,"onUpdate:modelValue":n[32]||(n[32]=u=>ke.value=u),label:"Småplantor"},null,8,["modelValue"]),_t.value&&oe.value?(h(),U(ga,{key:3,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"}},{default:z(()=>[_(_e,{ui:{root:"flex-row-reverse justify-between"},size:"xs",color:"neutral",modelValue:C.value,"onUpdate:modelValue":n[33]||(n[33]=u=>C.value=u),label:"Tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):$("",!0),Ye.value?(h(),U(_e,{key:4,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Me.value,"onUpdate:modelValue":n[34]||(n[34]=u=>Me.value=u),label:"Rottäcke skärmträd"},null,8,["modelValue"])):$("",!0),Fa.value?(h(),U(_e,{key:5,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ge.value,"onUpdate:modelValue":n[35]||(n[35]=u=>ge.value=u),label:"Rottäcke blädning"},null,8,["modelValue"])):$("",!0),_(_e,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Ae.value,"onUpdate:modelValue":n[36]||(n[36]=u=>Ae.value=u),label:"Högstubbar"},null,8,["modelValue"]),yt.value||_t.value||Fa.value||Ye.value?(h(),U(_e,{key:6,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:pe.value,"onUpdate:modelValue":n[37]||(n[37]=u=>pe.value=u),label:"Naturvårdsarter"},null,8,["modelValue"])):$("",!0),Ye.value?(h(),U(_e,{key:7,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:be.value,"onUpdate:modelValue":n[38]||(n[38]=u=>be.value=u),label:"Fröträd"},null,8,["modelValue"])):$("",!0),_(_e,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Ve.value,"onUpdate:modelValue":n[39]||(n[39]=u=>Ve.value=u),label:"Trädplantor"},null,8,["modelValue"]),_(_e,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:ht.value,"onUpdate:modelValue":n[40]||(n[40]=u=>ht.value=u),label:"Spara klick (dev)"},null,8,["modelValue"]),_(_e,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:Y.value,"onUpdate:modelValue":n[41]||(n[41]=u=>Y.value=u),label:"Visa myc-etiketter (dev)"},null,8,["modelValue"]),_(_e,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:Ce.value,"onUpdate:modelValue":n[42]||(n[42]=u=>Ce.value=u),label:"Visa naturvårdssiffra (dev)"},null,8,["modelValue"])])])])])):$("",!0)],2),v("div",Zd,[!fe.value&&!de.value?(h(),D("div",Xd,[_(F(s),{"tradplantor-visible":Ve.value,"naturvardsarter-visible":pe.value,"hogstubbar-visible":Ae.value,"smaplantor-visible":ke.value,"dev-save-clicks":ht.value,"show-overlay-labels":Y.value,"show-naturvard-counter":Ce.value,"seedTree-visible":be.value,"rottacke-skarmtrad-visible":Me.value,"rottacke-bladning-visible":ge.value,"retention-visible":he.value,"old-kanteffekt-visible":C.value,"kanteffekt-visible":oe.value,"omkringliggande-skog-visible":ue.value,"retention-points":le.value.retention,"seed-tree-points":le.value.seedTree,"smaplantor-points":le.value.smaplantor,"hogstubbar-points":le.value.hogstubbar,"naturvardsarter-points":le.value.naturvardsarter,"kanteffekt-features":le.value.kanteffekt,fullscreenLayout:!0,currentFramework:q.value,currentTime:je.value,currentStartskog:re.value,layoutMode:ee.value,ref_key:"singleViewerRef",ref:pa,frameworkLabel:q.value.label,timeLabel:$e.value,dziUrl:vs.value,overlayDziUrl:ha.value,allowPan:!0,annotations:is.value?Cs.value:[],selectedAnnotation:za.value,globalOpacity:We.value,"onUpdate:globalOpacity":n[43]||(n[43]=u=>We.value=u),onAnnotationClicked:fs,class:"w-full h-full ui-zoom-exempt"},null,8,["tradplantor-visible","naturvardsarter-visible","hogstubbar-visible","smaplantor-visible","dev-save-clicks","show-overlay-labels","show-naturvard-counter","seedTree-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","retention-visible","old-kanteffekt-visible","kanteffekt-visible","omkringliggande-skog-visible","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","annotations","selectedAnnotation","globalOpacity"]),_(Ys,{name:"slide-out"},{default:z(()=>[za.value?(h(),D("div",Kd,[n[83]||(n[83]=v("div",{class:"h-64 flex items-center justify-center text-neutral-300"}," Bild kommer snart ",-1)),_(b,{color:"white",ui:{rounded:"rounded-full"},icon:"heroicons:x-mark",onClick:ms,class:"absolute top-2 right-2"}),v("div",Jd,[v("h3",Qd,W(za.value.title),1),v("p",ev,W(za.value.text),1)])])):$("",!0)]),_:1})])):fe.value?(h(),U(Wn,{key:1,class:"w-full",ref_key:"comparisonSliderRef",ref:Ue,frameworkLabel:q.value.label,timeLabel:"Före avverkning",frameworkLabel2:q.value.label,timeLabel2:$e.value,layoutMode:ee.value},{first:z(()=>[Oa.value?(h(),U(F(s),{key:1,"naturvardsarter-visible":pe.value,"retention-visible":he.value,"kanteffekt-visible":oe.value,"omkringliggande-skog-visible":ue.value,"old-kanteffekt-visible":C.value,"rottacke-skarmtrad-visible":Me.value,"rottacke-bladning-visible":ge.value,"seedTree-visible":be.value,"smaplantor-visible":ke.value,"hogstubbar-visible":Ae.value,"tradplantor-visible":Ve.value,fullscreenLayout:!0,"show-overlay-labels":Y.value,"show-naturvard-counter":Ce.value,"retention-points":Ze.value.retention,"seed-tree-points":Ze.value.seedTree,"smaplantor-points":Ze.value.smaplantor,"hogstubbar-points":Ze.value.hogstubbar,"naturvardsarter-points":Ze.value.naturvardsarter,"kanteffekt-features":Ze.value.kanteffekt,currentFramework:q.value,currentTime:"innan",currentStartskog:re.value,layoutMode:ee.value,ref_key:"beforeViewerRef",ref:ot,comparisonMode:!0,frameworkLabel:q.value.label,timeLabel:"Före avverkning",dziUrl:xn.value,overlayDziUrl:Bn.value,allowPan:!0,onOpened:n[46]||(n[46]=u=>zt("before")),onActivated:n[47]||(n[47]=u=>xt.value.valueOf="before"),globalOpacity:We.value,"onUpdate:globalOpacity":n[48]||(n[48]=u=>We.value=u),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentStartskog","layoutMode","frameworkLabel","dziUrl","overlayDziUrl","globalOpacity"])):(h(),U(F(s),{key:0,"naturvardsarter-visible":pe.value,"retention-visible":he.value,"kanteffekt-visible":oe.value,"omkringliggande-skog-visible":ue.value,"old-kanteffekt-visible":C.value,"rottacke-skarmtrad-visible":Me.value,"rottacke-bladning-visible":ge.value,"seedTree-visible":be.value,"smaplantor-visible":ke.value,"hogstubbar-visible":Ae.value,"tradplantor-visible":Ve.value,fullscreenLayout:!0,"show-overlay-labels":Y.value,"show-naturvard-counter":Ce.value,"retention-points":Ze.value.retention,"seed-tree-points":Ze.value.seedTree,"smaplantor-points":Ze.value.smaplantor,"hogstubbar-points":Ze.value.hogstubbar,"naturvardsarter-points":Ze.value.naturvardsarter,"kanteffekt-features":Ze.value.kanteffekt,currentFramework:q.value,currentTime:"innan",currentStartskog:re.value,layoutMode:ee.value,ref_key:"beforeViewerRef",ref:ot,comparisonMode:!0,frameworkLabel:q.value.label,timeLabel:"Före avverkning",dziUrl:xn.value,overlayDziUrl:Bn.value,allowPan:!0,onOpened:n[44]||(n[44]=u=>zt("before")),onActivated:n[45]||(n[45]=u=>xt.value.valueOf="before"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentStartskog","layoutMode","frameworkLabel","dziUrl","overlayDziUrl"]))]),second:z(()=>[Oa.value?(h(),U(F(s),{key:1,"naturvardsarter-visible":pe.value,"retention-visible":he.value,"kanteffekt-visible":oe.value,"omkringliggande-skog-visible":ue.value,"old-kanteffekt-visible":C.value,"rottacke-skarmtrad-visible":Me.value,"rottacke-bladning-visible":ge.value,"seedTree-visible":be.value,"smaplantor-visible":ke.value,"hogstubbar-visible":Ae.value,"tradplantor-visible":Ve.value,fullscreenLayout:!0,"show-overlay-labels":Y.value,"show-naturvard-counter":Ce.value,"retention-points":le.value.retention,"seed-tree-points":le.value.seedTree,"smaplantor-points":le.value.smaplantor,"hogstubbar-points":le.value.hogstubbar,"naturvardsarter-points":le.value.naturvardsarter,"kanteffekt-features":le.value.kanteffekt,currentFramework:q.value,currentTime:je.value,currentStartskog:re.value,layoutMode:ee.value,ref_key:"afterViewerRef",ref:ut,comparisonMode:!0,frameworkLabel:q.value.label,timeLabel:$e.value,dziUrl:wn.value,overlayDziUrl:ha.value,allowPan:!0,sliderPosition:"right",onOpened:n[51]||(n[51]=u=>zt("after")),onActivated:n[52]||(n[52]=u=>xt.value.valueOf="after"),globalOpacity:We.value,"onUpdate:globalOpacity":n[53]||(n[53]=u=>We.value=u),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","globalOpacity"])):(h(),U(F(s),{key:0,"naturvardsarter-visible":pe.value,"retention-visible":he.value,"kanteffekt-visible":oe.value,"omkringliggande-skog-visible":ue.value,"old-kanteffekt-visible":C.value,"rottacke-skarmtrad-visible":Me.value,"rottacke-bladning-visible":ge.value,"seedTree-visible":be.value,"smaplantor-visible":ke.value,"hogstubbar-visible":Ae.value,"tradplantor-visible":Ve.value,fullscreenLayout:!0,"show-overlay-labels":Y.value,"show-naturvard-counter":Ce.value,"retention-points":le.value.retention,"seed-tree-points":le.value.seedTree,"smaplantor-points":le.value.smaplantor,"hogstubbar-points":le.value.hogstubbar,"naturvardsarter-points":le.value.naturvardsarter,"kanteffekt-features":le.value.kanteffekt,currentFramework:q.value,currentTime:je.value,currentStartskog:re.value,layoutMode:ee.value,ref_key:"afterViewerRef",ref:ut,comparisonMode:!0,frameworkLabel:q.value.label,timeLabel:$e.value,dziUrl:wn.value,overlayDziUrl:ha.value,allowPan:!0,sliderPosition:"right",onOpened:n[49]||(n[49]=u=>zt("after")),onActivated:n[50]||(n[50]=u=>xt.value.valueOf="after"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl"]))]),_:1},8,["frameworkLabel","frameworkLabel2","timeLabel2","layoutMode"])):de.value?(h(),U(Wn,{key:2,ref_key:"comparisonSliderRef",ref:Ue,frameworkLabel:q.value.label,timeLabel:$e.value,frameworkLabel2:Le.value.label,timeLabel2:$e.value,layoutMode:ee.value,class:"w-full"},{first:z(()=>[Oa.value?(h(),U(F(s),{key:1,"naturvardsarter-visible":pe.value,"retention-visible":he.value,"kanteffekt-visible":oe.value,"old-kanteffekt-visible":C.value,"rottacke-skarmtrad-visible":Me.value,"rottacke-bladning-visible":ge.value,"seedTree-visible":be.value,"smaplantor-visible":ke.value,"hogstubbar-visible":Ae.value,"tradplantor-visible":Ve.value,fullscreenLayout:!0,"show-overlay-labels":Y.value,"show-naturvard-counter":Ce.value,"retention-points":le.value.retention,"seed-tree-points":le.value.seedTree,"smaplantor-points":le.value.smaplantor,"hogstubbar-points":le.value.hogstubbar,"naturvardsarter-points":le.value.naturvardsarter,"kanteffekt-features":le.value.kanteffekt,currentFramework:q.value,currentTime:je.value,currentStartskog:re.value,layoutMode:ee.value,ref_key:"framework1ViewerRef",ref:ct,comparisonMode:!0,frameworkLabel:q.value.label,timeLabel:$e.value,dziUrl:Sn.value,overlayDziUrl:ha.value,allowPan:!fe.value&&!de.value,globalOpacity:We.value,"onUpdate:globalOpacity":n[57]||(n[57]=u=>We.value=u),onViewportChanged:n[58]||(n[58]=u=>Pa("framework1",u)),onOpened:n[59]||(n[59]=u=>zt("framework1")),onActivated:n[60]||(n[60]=u=>xt.value.valueOf="framework1"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan","globalOpacity"])):(h(),U(F(s),{key:0,"naturvardsarter-visible":pe.value,"retention-visible":he.value,"kanteffekt-visible":oe.value,"omkringliggande-skog-visible":ue.value,"old-kanteffekt-visible":C.value,"rottacke-skarmtrad-visible":Me.value,"rottacke-bladning-visible":ge.value,"seedTree-visible":be.value,"smaplantor-visible":ke.value,"hogstubbar-visible":Ae.value,"tradplantor-visible":Ve.value,fullscreenLayout:!0,"show-overlay-labels":Y.value,"show-naturvard-counter":Ce.value,"retention-points":le.value.retention,"seed-tree-points":le.value.seedTree,"smaplantor-points":le.value.smaplantor,"hogstubbar-points":le.value.hogstubbar,"naturvardsarter-points":le.value.naturvardsarter,"kanteffekt-features":le.value.kanteffekt,currentFramework:q.value,currentTime:je.value,currentStartskog:re.value,layoutMode:ee.value,ref_key:"framework1ViewerRef",ref:ct,comparisonMode:!0,frameworkLabel:q.value.label,timeLabel:$e.value,dziUrl:Sn.value,overlayDziUrl:ha.value,allowPan:!fe.value&&!de.value,onViewportChanged:n[54]||(n[54]=u=>Pa("framework1",u)),onOpened:n[55]||(n[55]=u=>zt("framework1")),onActivated:n[56]||(n[56]=u=>xt.value.valueOf="framework1"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan"]))]),second:z(()=>[Oa.value?(h(),U(F(s),{key:1,"naturvardsarter-visible":pe.value,"retention-visible":he.value,"kanteffekt-visible":oe.value,"old-kanteffekt-visible":C.value,"rottacke-skarmtrad-visible":Me.value,"rottacke-bladning-visible":ge.value,"seedTree-visible":be.value,"smaplantor-visible":ke.value,"hogstubbar-visible":Ae.value,"tradplantor-visible":Ve.value,fullscreenLayout:!0,"show-overlay-labels":Y.value,"show-naturvard-counter":Ce.value,"retention-points":Xe.value.retention,"seed-tree-points":Xe.value.seedTree,"smaplantor-points":Xe.value.smaplantor,"hogstubbar-points":Xe.value.hogstubbar,"naturvardsarter-points":Xe.value.naturvardsarter,"kanteffekt-features":Xe.value.kanteffekt,currentFramework:Le.value,currentTime:je.value,currentStartskog:re.value,layoutMode:ee.value,ref_key:"framework2ViewerRef",ref:dt,comparisonMode:!0,frameworkLabel:Le.value.label,timeLabel:$e.value,dziUrl:Tn.value,overlayDziUrl:Nn.value,globalOpacity:We.value,"onUpdate:globalOpacity":n[64]||(n[64]=u=>We.value=u),allowPan:!fe.value&&!de.value,sliderPosition:"right",onViewportChanged:n[65]||(n[65]=u=>Pa("framework2",u)),onOpened:n[66]||(n[66]=u=>zt("framework2")),onActivated:n[67]||(n[67]=u=>xt.value.valueOf="framework2"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","globalOpacity","allowPan"])):(h(),U(F(s),{key:0,"naturvardsarter-visible":pe.value,"retention-visible":he.value,"kanteffekt-visible":oe.value,"old-kanteffekt-visible":C.value,"rottacke-skarmtrad-visible":Me.value,"rottacke-bladning-visible":ge.value,"seedTree-visible":be.value,"smaplantor-visible":ke.value,"hogstubbar-visible":Ae.value,"tradplantor-visible":Ve.value,fullscreenLayout:!0,"show-overlay-labels":Y.value,"show-naturvard-counter":Ce.value,"retention-points":Xe.value.retention,"seed-tree-points":Xe.value.seedTree,"smaplantor-points":Xe.value.smaplantor,"hogstubbar-points":Xe.value.hogstubbar,"naturvardsarter-points":Xe.value.naturvardsarter,"kanteffekt-features":Xe.value.kanteffekt,currentFramework:Le.value,currentTime:je.value,currentStartskog:re.value,layoutMode:ee.value,ref_key:"framework2ViewerRef",ref:dt,comparisonMode:!0,frameworkLabel:Le.value.label,timeLabel:$e.value,dziUrl:Tn.value,overlayDziUrl:Nn.value,allowPan:!fe.value&&!de.value,sliderPosition:"right",onViewportChanged:n[61]||(n[61]=u=>Pa("framework2",u)),onOpened:n[62]||(n[62]=u=>zt("framework2")),onActivated:n[63]||(n[63]=u=>xt.value.valueOf="framework2"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan"]))]),_:1},8,["frameworkLabel","timeLabel","frameworkLabel2","timeLabel2","layoutMode"])):$("",!0)]),ss.value?$("",!0):(h(),D("div",tv,[v("div",av,[!fe.value&&!de.value?(h(),D("div",rv,[v("div",{class:"p-3 group text-base/7",onClick:Ut},[_(Wt,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:z(()=>[v("div",lv,[(h(),D(Oe,null,et(Vt,(u,Te)=>v("div",{key:u.id,onClick:Vr=>Ge.value=Te,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[v("div",null,[v("div",iv,W(u.label),1),v("div",ov,W(u.text),1)])],8,sv)),64))])]),default:z(()=>[v("h2",nv,W(q.value.label),1)]),_:1}),v("div",uv,[v("h3",cv,W($e.value),1),_(b,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",color:"neutral",variant:"soft",size:"xs",label:Se.value?"Dölj info":"Visa info",onClick:Bt},null,8,["label"])]),Se.value&&Ke.value?(h(),D("div",dv,[v("p",{class:"mb-4 text-neutral-50",innerHTML:ye(Ke.value.skog)},null,8,vv),v("div",null,[n[84]||(n[84]=v("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),v("span",{class:"text-neutral-50",innerHTML:ye(Ke.value.svamp)},null,8,fv)])])):Se.value?(h(),D("div",mv," Ingen tidslinjeinformation hittades för den här kombinationen. ")):$("",!0)])])):fe.value?(h(),D("div",hv,[Na.value?(h(),D("div",{key:0,class:"p-3 group text-base/7",onClick:Ut},[_(Wt,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:z(()=>[v("div",gv,[(h(),D(Oe,null,et(Vt,(u,Te)=>v("div",{key:u.id,onClick:Vr=>Ge.value=Te,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[v("div",null,[v("div",kv,W(u.label),1),v("div",yv,W(u.text),1)])],8,bv)),64))])]),default:z(()=>[v("h2",pv,W(q.value.label),1)]),_:1}),v("div",_v,[n[85]||(n[85]=v("h3",{class:"text-md text-neutral-200"}," Före avverkning ",-1)),_(b,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:Se.value?"Dölj info":"Visa info",onClick:Bt},null,8,["label"])]),Se.value?(h(),D("div",xv,[v("p",{class:"mb-2 text-neutral-50",innerHTML:ye(Na.value.skog)},null,8,wv),v("div",null,[n[86]||(n[86]=v("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),v("span",{class:"text-neutral-50",innerHTML:ye(Na.value.svamp)},null,8,Sv)])])):$("",!0)])):$("",!0),Ke.value?(h(),D("div",{key:1,class:"p-4 group border border-neutral-200/10 rounded-sm shadow bg-neutral-950/20",onClick:Ut},[v("div",Tv,[v("h3",Cv,W($e.value),1),_(b,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:tt.value?"Dölj info":"Visa info",onClick:Nt},null,8,["label"])]),tt.value?(h(),D("div",Av,[v("p",{class:"mb-2 text-neutral-50",innerHTML:ye(Ke.value.skog)},null,8,Vv),v("div",null,[n[87]||(n[87]=v("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),v("span",{class:"text-neutral-50",innerHTML:ye(Ke.value.svamp)},null,8,Lv)])])):$("",!0)])):$("",!0)])):de.value?(h(),D("div",Mv,[Ke.value?(h(),D("div",{key:0,class:"p-3 group text-base/7",onClick:Ut},[_(Wt,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:z(()=>[v("div",zv,[(h(),D(Oe,null,et(Vt,(u,Te)=>v("div",{key:u.id,onClick:Vr=>Ge.value=Te,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[v("div",null,[v("div",Fv,W(u.label),1),v("div",$v,W(u.text),1)])],8,Dv)),64))])]),default:z(()=>[v("h2",Ov,W(q.value.label),1)]),_:1}),v("div",jv,[v("h3",Ev,W($e.value),1),_(b,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:Se.value?"Dölj info":"Visa info",onClick:Bt},null,8,["label"])]),Se.value?(h(),D("div",Bv,[v("p",{class:"mb-2 text-neutral-50",innerHTML:ye(Ke.value.skog)},null,8,Nv),v("div",null,[n[88]||(n[88]=v("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),v("span",{class:"text-neutral-50",innerHTML:ye(Ke.value.svamp)},null,8,Rv)])])):$("",!0)])):$("",!0),Ba.value?(h(),D("div",{key:1,class:"p-4 group border border-neutral-200/10 rounded-sm shadow bg-neutral-950/20",onClick:Ut},[_(Wt,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:z(()=>[v("div",Pv,[(h(),D(Oe,null,et(Vt,(u,Te)=>v("div",{key:"framework2-"+u.id,onClick:Vr=>aa.value=Te,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[v("div",null,[v("div",qv,W(u.label),1),v("div",Hv,W(u.text),1)])],8,Iv)),64))])]),default:z(()=>[v("h2",Uv,W(Le.value.label),1)]),_:1}),v("div",Wv,[v("h3",Gv,W($e.value),1),_(b,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:tt.value?"Dölj info":"Visa info",onClick:Nt},null,8,["label"])]),tt.value?(h(),D("div",Yv,[v("p",{class:"mb-2 text-neutral-50",innerHTML:ye(Ba.value.skog)},null,8,Zv),v("div",null,[n[89]||(n[89]=v("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),v("span",{class:"text-neutral-50",innerHTML:ye(Ba.value.svamp)},null,8,Xv)])])):$("",!0)])):$("",!0)])):$("",!0),v("div",Kv,[v("div",Jv,[La.value?(h(),U(b,{key:0,size:"xl",onClick:we,variant:"ghost",class:"text-white hover:bg-neutral-500/20 w-full",label:O.value,icon:"i-heroicons-arrow-left-circle"},null,8,["label"])):$("",!0)]),v("div",Qv,[g.value?(h(),U(b,{key:0,size:"xl",onClick:ae,variant:"ghost",class:"w-full text-white hover:bg-neutral-500/20 flex justify-end",trailing:"",label:M.value,icon:"i-heroicons-arrow-right-circle"},null,8,["label"])):$("",!0)])])])]))])])])}}}),af=Object.assign(pl(tf,[["__scopeId","data-v-992ff45d"]]),{__name:"Model"}),rf={key:0,class:"flex-1"},nf=["onClick"],lf={class:"text-lg p-2 px-3 font-medium"},sf={class:"w-full ring ring-muted/50 rounded relative overflow-hidden shadow"},of={class:"sm:grid grid-cols-2"},uf={class:"px-6 sm:px-12 sm:border-r border-muted/50"},cf={class:"my-4 text-3xl sm:text-4xl font-medium text-neutral-900"},df={class:"px-6 sm:px-12"},vf={class:"p-6 pb-2"},ff={class:"font-semibold"},mf={class:"lg:flex gap-4 space-y-2 lg:space-y-0"},hf=["src"],pf={class:"w-full px-6 border border-muted/50 bg-muted/50 rounded h-fit"},gf={class:"w-full bg-white px-6 border border-muted/50 rounded h-fit"},bf={class:"bg-muted border-t border-muted mt-18"},kf=mt({__name:"index",async setup(e){let t,a;const r=w(!1),{data:s}=([t,a]=Ie(()=>Ee("skogsskotsel",()=>qe("skogsskotsel").first())),t=await t,a(),t);if(!s.value)throw Xs({statusCode:404,statusMessage:"Page not found",fatal:!0});const i=S=>{const y=S?.toLowerCase?.()??"";return y==="intekalavverkad"?"naturskog":y==="produktionsskog"?"produktionsskog_":S},c=S=>(S?.toLowerCase?.()??"")==="ingenatgard"?"naturskydd":S,o=S=>{const y=String(S).trim().toLowerCase();return y.includes("efter")?"efter":y.includes("innan")||y.includes("före")||y.includes("fore")?"fore":y.replace(/[^0-9]/g,"")||y},d=(S,y,R)=>{const L=X=>X.trim().normalize("NFD").replace(/å/gi,"a").replace(/ä/gi,"a").replace(/ö/gi,"o").replace(new RegExp("\\p{Diacritic}+","gu"),"").toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,"");return`/images/thumbnails/${`${L(S)}_${o(String(y))}_visa_visa_${L(R)}.webp`}`},{data:x}=([t,a]=Ie(()=>Ee("forestry-timeline-skogsskotsel",()=>qe("forestryTimelines").first())),t=await t,a(),t),f=p(()=>{const S=x.value?.entries??[],y=N.value.id,R=c(y);return S.map(L=>({...L,startskog:i(L.startskog),atgard:c(L.atgard)})).filter(L=>L.startskog==="naturskog"&&L.atgard===R).map(L=>({tid:L.tid,skog:L.skog,svamp:L.svamp,thumb:d(L.atgard,L.tid,L.startskog)}))}),m=w([{label:"Diagram",icon:"i-heroicons-presentation-chart-line",slot:"diagram"},{label:"Tidslinje",icon:"i-heroicons-list-bullet",slot:"timeline"},{label:"Text",icon:"i-heroicons-book-open",slot:"text"}]),A=p(()=>s.value?.methods??[]),V={id:"",title:"",image:"",shortdescription:"",description:"",descriptionsvamp:""},E=w("");Ks(()=>{const S=A.value[0];S&&!E.value&&(E.value=S.id)});const N=p(()=>{const S=A.value;return S.length?S.find(y=>y.id===E.value)??S[0]:V});return(S,y)=>{const R=rn,L=ei,P=af,X=ti,G=Ci,te=Js,me=nn,Q=ai,ie=Ai,Z=Vi,ne=ri,H=ls,ee=Li,Kt=bl,ht=Mi;return F(s)?(h(),D("div",rf,[_(te,{class:"w-full px-0"},{default:z(()=>[_(G,{ui:{container:"py-12 lg:py-24",title:"sm:text-7xl",headline:"text-neutral"},title:F(s).hero.title,description:F(s).hero.description,orientation:F(s).hero.orientation,class:""},Qs({_:2},[F(s)?.hero?.links?.[0]?{name:"links",fn:z(()=>[_(L,{color:"warning",size:"2xl"},{default:z(()=>[_(R,{label:F(s).hero.links[0].label,size:F(s).hero.links[0].size,color:F(s).hero.links[0].color,icon:F(s).hero.links[0].icon,onClick:y[0]||(y[0]=Y=>r.value=!0)},null,8,["label","size","color","icon"])]),_:1}),_(X,{open:r.value,"onUpdate:open":y[2]||(y[2]=Y=>r.value=Y),fullscreen:""},{content:z(()=>[_(P,{onClose:y[1]||(y[1]=Y=>r.value=!1)})]),_:1},8,["open"])]),key:"0"}:void 0]),1032,["title","description","orientation"])]),_:1}),_(te,{class:"w-full flex justify-between py-4 gap-6 overflow-scroll lg:overflow-hidden"},{default:z(()=>[(h(!0),D(Oe,null,et(A.value,Y=>(h(),U(ie,{key:Y.id,class:"relative",initial:{scale:1,transform:"translateY(10px)",opacity:0},animate:{scale:1,transform:"translateY(0px)",opacity:1},transition:{duration:.3,delay:.3+.05*(Y.index??0)}},{default:z(()=>[v("div",{onClick:Ce=>E.value=Y.id,class:ve(["shrink-0 lg:shrink w-58 lg:w-full bg-white transition-all hover:opacity-100 border border-muted/50 overflow-hidden rounded h-fit shadow hover:shadow-md relative cursor-pointer",E.value===Y.id?"opacity-100":"opacity-30"])},[Y.type?(h(),U(me,{key:0,class:"absolute top-2 left-2",label:Y.type,color:"neutral",variant:"subtle"},null,8,["label"])):$("",!0),_(Q,{src:Y.image,width:"300",height:"160",class:"w-full h-full"},null,8,["src"]),v("h1",lf,W(Y.title),1)],10,nf)]),_:2},1032,["transition"]))),128))]),_:1}),_(te,{class:"w-full pt-2 px-0 sm:px-6"},{default:z(()=>[_(ie,{class:"flex justify-center w-full",initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0px)"},transition:{duration:.5,delay:1}},{default:z(()=>[v("div",sf,[_(Kt,{ui:{list:"p-2 justify-center sm:justify-start",root:""},items:m.value,color:"primary",size:"md",class:"w-full",variant:"link"},{text:z(()=>[_(ne,{class:"pt-4 sm:p-6"},{default:z(()=>[v("div",of,[v("div",uf,[v("h1",cf,W(N.value.title),1),_(Z,{class:"text-lg text-neutral-800 mb-8",value:N.value.description},null,8,["value"])]),v("div",df,[y[3]||(y[3]=v("h1",{class:"my-4 text-2xl font-medium text-neutral-900"},"Påverkan på mykorrhizasvampar ",-1)),_(Z,{class:"text-lg text-neutral-800",value:N.value.descriptionsvamp},null,8,["value"])])])]),_:1})]),diagram:z(()=>[_(H,{parentSelectedFrameworks:[N.value.id],currentStartskog:"naturskog"},null,8,["parentSelectedFrameworks"])]),timeline:z(()=>[v("div",vf,[_(ee,{items:f.value,size:"3xs",ui:{indicator:"bg-neutral-200/50 ",separator:"bg-neutral-200/50",description:"p-0 mt-2 text-default"}},{title:z(({item:Y})=>[v("span",ff,W(Y.tid),1)]),description:z(({item:Y})=>[v("div",mf,[v("img",{src:Y.thumb,class:"w-80 h-fit rounded"},null,8,hf),v("div",pf,[_(Z,{value:Y.skog},null,8,["value"])]),v("div",gf,[_(Z,{value:Y.svamp},null,8,["value"])])])]),_:1},8,["items"])])]),_:1},8,["items"])])]),_:1})]),_:1}),v("div",bf,[_(ht,{section:F(s).carousel},null,8,["section"])])])):$("",!0)}}}),Of=Object.freeze(Object.defineProperty({__proto__:null,default:kf},Symbol.toStringTag,{value:"Module"}));export{Cc as D,Sc as a,Of as i,wc as u};
