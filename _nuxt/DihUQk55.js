import{A as he,V as i,a4 as pe,r as D,bg as me,aX as ge,J as P,b4 as ye,aS as we,d as u,f as r,h as p,M as _,g as b,w as I,O as X,U as R,bh as _e,aG as be,e as s,N as V,F as Q,t as j,S as Y,n as v,aA as xe,aL as ke,ae as Be,K as Z,_ as Ce}from"#entry";import{b as Se}from"./i4TTljSo.js";import{_ as De}from"./CkvY898q.js";import{M as ee}from"./CkLhoWVU.js";const Ie={key:0,class:"py-16 sm:py-20"},je={class:"px-0 mx-auto overflow-hidden"},$e={key:0,class:"text-3xl font-semibold sm:text-4xl text-neutral-900"},Me={key:1,class:"mt-2 text-neutral-600 max-w-2xl"},Te=["aria-expanded","onClick","onKeyup"],Ae={key:1,class:""},Ne={key:0,class:"relative overflow-hidden"},Fe={class:"p-4 space-y-2"},Le={key:0,class:"text-xl font-semibold text-neutral-900 text-start"},Re={key:0,class:"fixed inset-0 z-20 flex items-center justify-center"},Ve={class:"h-full w-full bg-white absolute"},ze={class:"flex flex-col sm:flex-row sm:items-end sm:justify-between"},Ue={class:"transition-all"},He=he({__name:"SCarousel",props:{section:{},items:{},title:{},description:{}},setup(te){const x=te,d=i(()=>x.items??x.section?.items??[]),$=pe(),ae=i(()=>!!$.card),le=i(()=>!!$.details),z=i(()=>!!$.header),k=i(()=>x.section?.title??x.title??null),B=i(()=>x.section?.description??x.description??null),se=i(()=>!!(k.value||B.value||z.value)),n=D(null),m=D(!1),M={duration:.25,easing:"easeInOut"},U=me(document.body),t=ge({initial:null,frame:null,source:null,showBackdrop:!1,showDetails:!1,closing:!1}),T=D([]),A=D(null);P(d,()=>{T.value=[]});const H=i(()=>t.initial),E=i(()=>t.frame),f=i(()=>t.showBackdrop),oe=i(()=>t.showDetails),ne=i(()=>t.closing),c=i(()=>n.value===null?null:d.value[n.value]??null);function C(e){return e?e.image??e.img??"":""}function K(e){return e?e.description??"":""}function ie(e){const l=["w-full object-cover transition-transform duration-500 group-hover:scale-[1.02]"];return(typeof e?.noBorder=="boolean"?e?.noBorder:!1)||l.push("ring ring-neutral-200 shadow"),l}function O(e){const l=window.innerWidth,a=window.innerHeight,o=Math.min(0,Math.max(32,l*.05));e.height/e.width;let g=Math.min(l-o*2,800),L=a;return{top:42,left:(l-g)/2,width:g,height:L}}async function N(e,l){if(m.value||!d.value[e])return;const a=l.currentTarget;if(!a)return;const o=a.getBoundingClientRect();t.source=a,t.initial={top:o.top,left:o.left,width:o.width,height:o.height},t.frame={...t.initial},t.showBackdrop=!1,t.showDetails=!1,t.closing=!1,n.value=e,m.value=!0,await Z(),A.value?.emblaApi?.scrollTo(e),requestAnimationFrame(()=>{t.showBackdrop=!0,t.frame=O(o),window.setTimeout(()=>{m.value&&n.value===e&&(t.showDetails=!0)},M.duration*1e3*.6)})}function F(){if(!m.value)return;t.showDetails=!1,t.closing=!0,t.showBackdrop=!1;const e=t.source?.getBoundingClientRect();t.frame=e?{top:e.top,left:e.left,width:e.width,height:e.height}:t.initial,window.setTimeout(()=>{m.value=!1,n.value=null,t.initial=null,t.frame=null,t.source=null,t.showDetails=!1,t.showBackdrop=!1,t.closing=!1},M.duration*1e3)}P(m,e=>{U.value=e,e||(t.showBackdrop=!1,t.showDetails=!1,t.closing=!1)}),ye(window,"keydown",e=>{e.key==="Escape"&&F()}),we(()=>{U.value=!1});function re(e,l){e&&(T.value[l]=e)}function ue(e,l=!1){const a=T.value[e];if(!a)return;const o=a.getBoundingClientRect();t.source=a,t.initial={top:o.top,left:o.left,width:o.width,height:o.height},l&&(t.frame=O(o))}const W=i(()=>d.value.length>1);function q(e,l){if(!W.value||n.value===null)return null;const a=d.value;if(!a.length)return null;const o=(n.value+l+a.length)%a.length,g=a[o]?.title;return g?`${e}: ${g}`:e}const ce=i(()=>q("Föregående",-1)),de=i(()=>q("Nästa",1));function G(e){const l=d.value;if(!l.length)return;const a=(e+l.length)%l.length;n.value!==a&&(t.showDetails=!1,n.value=a,Z(()=>{A.value?.emblaApi?.scrollTo(a),requestAnimationFrame(()=>{ue(a,!0),t.showDetails=!0})}))}function ve(){n.value!==null&&G(n.value+1)}function fe(){n.value!==null&&G(n.value-1)}return(e,l)=>{const a=be,o=xe,g=Se,L=De,J=ke,S=Be;return d.value.length?(s(),u("section",Ie,[p("div",je,[se.value?(s(),_(a,{key:0,class:"mb-8 sm:mb-10 px-6"},{default:I(()=>[z.value?V(e.$slots,"header",{key:0,title:k.value,description:B.value},void 0,!0):(s(),u(Q,{key:1},[k.value?(s(),u("h2",$e,j(k.value),1)):r("",!0),B.value?(s(),u("p",Me,j(B.value),1)):r("",!0)],64))]),_:3})):r("",!0),b(a,{class:"overflow-visible"},{default:I(()=>[d.value.length?(s(),_(g,{key:0,ref_key:"carouselRef",ref:A,items:d.value,arrows:"",class:"pb-6 mb-12",ui:{viewport:"overflow-visible",container:"",item:"basis-8/9 sm:basis-[350px]",controls:"mt-12 flex justify-center",arrows:"flex gap-4",prev:"!static !transform-none ring-0",next:"!static !transform-none ring-0"}},{default:I(({item:y,index:h})=>[p("button",{class:"group relative w-full focus-visible:outline focus-visible:outline-offset-4 focus-visible:outline-primary transition-opacity","aria-expanded":n.value===h,onClick:w=>N(h,w),onKeyup:[Y(R(w=>N(h,w),["prevent"]),["enter"]),Y(R(w=>N(h,w),["prevent"]),["space"])],ref:w=>re(w,h)},[p("div",{class:v(["relative overflow-hidden rounded border border-muted/50 bg-white group-hover:bg-neutral-50 cursor-pointer h-full",n.value===h&&(f.value||ne.value)?"opacity-0 pointer-events-none delay-25":"opacity-100"])},[ae.value?V(e.$slots,"card",{key:0,item:y,index:h,active:n.value===h},void 0,!0):(s(),u("div",Ae,[C(y)?(s(),u("div",Ne,[b(o,{src:C(y),alt:y.title||"",fit:"cover",width:"500",height:"300",class:v(ie(y)),loading:"lazy",decoding:"async"},null,8,["src","alt","class"])])):r("",!0),p("div",Fe,[y.title?(s(),u("h3",Le,j(y.title),1)):r("",!0)])]))],2)],40,Te)]),_:3},8,["items"])):r("",!0)]),_:3})]),(s(),_(_e,{to:"body"},[m.value&&H.value&&E.value?(s(),u("div",Re,[b(X(ee),{class:"absolute inset-0 bg-white",initial:{opacity:0},animate:{opacity:f.value?1:0},transition:{duration:.2,ease:"easeInOut"},onClick:F},null,8,["animate"]),b(X(ee),{class:"bg-white overflow-y-auto rounded-xl border border-muted/50 fixed will-change-transform shadow-xl overlay-scrollbar",initial:H.value,animate:E.value,transition:M,onClick:l[0]||(l[0]=R(()=>{},["stop"]))},{default:I(()=>[p("div",Ve,[p("div",{class:v([(oe.value,"p-0"),"transition-all"])},[c.value&&C(c.value)?(s(),_(o,{key:0,fit:"cover",width:"1000",height:"600",src:C(c.value),alt:c.value?.title??"",class:"w-full",loading:"eager",decoding:"async"},null,8,["src","alt"])):r("",!0),c.value?(s(),u("div",{key:1,class:v(["pointer-events-none pb-18",f.value?"p-4 py-8 sm:p-10 sm:mx-auto sm:max-w-2xl":"mx-0 p-4 w-full"])},[le.value?V(e.$slots,"details",{key:0,item:c.value,index:n.value},void 0,!0):(s(),u(Q,{key:1},[p("div",ze,[p("div",Ue,[c.value?.title?(s(),u("h3",{key:0,class:v(["font-semibold text-neutral-900 transition-opacity",f.value?"text-4xl mb-4 sm:text-5xl sm:mb-8 opacity-100 delay-75":"opacity-0 text-lg mb-0"])},j(c.value.title),3)):r("",!0),K(c.value)?(s(),_(L,{key:1,value:K(c.value),class:v(["mt-2 max-w-2xl sm:text-lg text-neutral-500 transition-opacity duration-100",f.value?"opacity-100 delay-100":"opacity-0"])},null,8,["value","class"])):r("",!0),c.value.img2?(s(),u("div",{key:2,class:v(["flex justify-center my-18",f.value?"opacity-100 delay-100":"opacity-0"])},[b(o,{src:c.value.img2,class:"rounded ring ring-muted/50"},null,8,["src"])],2)):r("",!0)])]),b(J,{class:"my-8"})],64)),W.value?(s(),u("div",{key:2,class:v(["pointer-events-auto flex flex-row sm:items-center justify-center gap-3 sm:gap-2 pb-6 my-12",f.value?"opacity-100 transition-opacity duration-300":"opacity-0"])},[ce.value?(s(),_(S,{key:0,icon:"i-heroicons-chevron-left",variant:"soft",color:"neutral",class:"justify-start whitespace-normal rounded-full",onClick:fe,"aria-label":"Föregående",size:"xl"})):r("",!0),de.value?(s(),_(S,{key:1,icon:"i-heroicons-chevron-right",variant:"soft",color:"neutral",class:"justify-end text-left whitespace-normal rounded-full",trailing:"",onClick:ve,"aria-label":"Nästa",size:"xl"})):r("",!0)],2)):r("",!0)],2)):r("",!0)],2)]),b(S,{class:v([f.value?"opacity-100":"opacity-0","fixed right-4 top-4 shadow hover:bg-white rounded-full md:m-0 transition-all"]),"aria-label":"Stäng kort",color:"neutral",variant:"soft",icon:"heroicons:x-mark",size:"xl",onClick:F},null,8,["class"])]),_:3},8,["initial","animate"])])):r("",!0)]))])):r("",!0)}}}),qe=Object.assign(Ce(He,[["__scopeId","data-v-be5735b9"]]),{__name:"SCarousel"});export{qe as _};
