import{A as J,aG as W,aL as X,r as Y,V as M,aQ as Z,M as ee,f as C,O as n,w as o,aO as le,aH as te,aI as ae,bc as oe,e as s,g as e,h as c,aK as ne,d as r,ad as se,aE as ie,aT as re,aF as de,ay as ce,ae as ue,F as b,af as y,t as x,ah as me,n as S,T as _e}from"#entry";import{_ as pe,a as fe,b as ge,c as he,d as be}from"./CLwBkB-r.js";import{b as ye,a as ve}from"./BxMnl4ub.js";import{_ as xe}from"./Do2HXh8B.js";import{_ as ke}from"./j6_sxaMg.js";import{u as we,v as $e,s as Ce,f as Ue,g as je}from"./CkM89MRv.js";import"./CBrca_9E.js";import"./DvIiUBOl.js";import"./C6aQJq_i.js";const Te={class:"w-full max-w-full p-4"},Ve={class:"flex flex-col"},Ae={class:"text-lg font-medium"},ze={key:0,class:"text-sm text-neutral-500"},Be={class:"grid grid-cols-2 gap-2 mt-1 mb-2"},Ie={class:"grid gap-2"},Me=["for"],Se={key:0},Le={class:"flex w-full justify-end mb-4"},Ne={class:"bg-neutral-50 border-t border-muted"},Oe={class:"group"},Re={key:0,class:"grid grid-cols-5 gap-4 lg:gap-6"},Ee={key:1,class:"grid grid-cols-3 gap-4 lg:gap-4"},Pe={key:2,class:"flex justify-center w-full"},Ge={key:3,class:"flex justify-center items-center w-full min-h-60 text-neutral-500"},Ze=J({__name:"index",async setup(De){let v,U;const{data:i}=([v,U]=W(()=>te("mykorrhizasvampar",()=>ae("mykorrhizasvampar").first())),v=await v,U(),v);if(!i.value)throw X({statusCode:404,statusMessage:"Page not found",fatal:!0});const d=we(),_=Y(!0);function j(){_.value=!_.value}const T=[{key:"geography",defaultLabel:"Välj plats"},{key:"forestType",defaultLabel:"Välj skogstyp"},{key:"standAge",defaultLabel:"Välj beståndsålder"},{key:"vegetationType",defaultLabel:"Välj fältskikt"}];function L(l,m){d.$patch({[l]:m})}const V=M(()=>({geography:je.map(l=>({...l,disabled:!1})),forestType:Ue.map(l=>({...l,disabled:!1})),standAge:Ce.map(l=>({...l,disabled:!1})),vegetationType:$e.map(l=>({...l,disabled:!1}))})),A=Z("(max-width: 767px)"),N=oe();function O(){const l=d.geography??"",m=d.forestType??"",f=d.standAge??"",g=d.vegetationType??"";return`/mykorrhizasvampar/${encodeURIComponent(l)}/${encodeURIComponent(m)}/${encodeURIComponent(f)}/${encodeURIComponent(g)}`}const k=M(()=>!!(d.geography&&d.forestType&&d.standAge&&d.vegetationType));function z(){k.value&&N.push(O())}function R(l){const m=l.gridCols??5,f=l.gridRows??4,g=m*f,p=l.gridTop||l.img||"",u=l.gridRest||l.img||"";return[p,...Array(Math.max(g-1,0)).fill(u)].filter(w=>!!w)}function E(l){return Array.isArray(l.bentoImgs)?l.bentoImgs.filter(Boolean):[]}return(l,m)=>{const f=de,g=re,p=ie,u=ue,B=pe,w=fe,P=ye,$=ce,G=ge,D=he,F=xe,K=be,I=ne,H=ke,Q=ve,q=le;return n(i)?(s(),ee(q,{key:0,class:"flex-1"},{default:o(()=>[e(I,{class:"w-full px-0"},{default:o(()=>[e(F,{ui:{container:" lg:py-24",title:"sm:text-6xl",headline:"text-neutral"},title:n(i).hero.title,description:n(i).hero.description,orientation:n(i).hero.orientation,class:""},se({default:o(()=>[e(p,{src:n(i).hero.src,width:"700",format:"webp",alt:"Illustration",class:"rounded ring ring-neutral-300"},null,8,["src"])]),_:2},[n(i).hero.headline.label?{name:"headline",fn:o(()=>[e(g,{to:n(i).hero.headline.to},{default:o(()=>[e(f,{icon:n(i).hero.headline.icon,label:n(i).hero.headline.label,color:n(i).hero.headline.color,variant:"subtle",size:"lg",trailing:"",ui:{base:"rounded-full"}},null,8,["icon","label","color"])]),_:1},8,["to"])]),key:"0"}:void 0,n(A)&&n(i)?.hero?.links?.[0]?{name:"links",fn:o(()=>[e($,{title:"Välj miljö",ui:{body:"p-0",title:"text-2xl"}},{body:o(()=>[c("div",Te,[(s(),r(b,null,y(T,t=>e(B,{size:"xl",key:t.key,items:V.value[t.key],modelValue:n(d)[t.key],"onUpdate:modelValue":a=>n(d)[t.key]=a,placeholder:t.defaultLabel,class:"flex-1 w-full my-1 text-lg","append-to-body":"",variant:"outline"},{item:o(({item:a})=>[c("div",Ve,[c("div",Ae,x(a.label),1),a.description?(s(),r("div",ze,x(a.description),1)):C("",!0)])]),_:1},8,["items","modelValue","onUpdate:modelValue","placeholder"])),64)),e(u,{trailing:"",disabled:!k.value,onClick:z,color:"primary",icon:"i-heroicons-arrow-right",label:"Gå till miljö",size:"xl",class:"w-full my-1"},null,8,["disabled"]),c("div",Be,[e(u,{label:"DNA-data",size:"xl",trailing:"",icon:_.value?"mdi:lock":"mdi:lock-open",onClick:j,variant:"subtle",color:_.value?"secondary":"neutral"},null,8,["icon","color"]),e($,{fullscreen:"",title:"Kombinationer",class:"w-full",ui:{title:"text-2xl"}},{body:o(()=>[e(u,{size:"xl",trailing:"",icon:_.value?"mdi:lock":"mdi:lock-open",onClick:j,shape:"full",class:"transition-all shrink-0 mb-2 w-full",variant:"soft",color:_.value?"secondary":"neutral"},{default:o(()=>[me(x(_.value?"Begränsar till där det finns DNA-data":"Inkluderar alla miljöer"),1)]),_:1},8,["icon","color"]),c("div",Ie,[(s(),r(b,null,y(T,t=>e(P,{key:t.key,variant:"soft"},{default:o(()=>[(s(!0),r(b,null,y(V.value[t.key],a=>(s(),r("div",{key:a.value,class:"flex justify-between mb-2 text-neutral-500 items-center"},[c("label",{for:`${t.key}-${a.value}`,class:S([{"opacity-40 cursor-not-allowed":a.disabled,"cursor-pointer":!a.disabled},"text-lg"])},x(a.label),11,Me),e(w,{id:`${t.key}-${a.value}`,color:"primary","model-value":n(d)[t.key]===a.value,"onUpdate:modelValue":()=>{a.disabled||L(t.key,a.value)},disabled:a.disabled},null,8,["id","model-value","onUpdate:modelValue","disabled"])]))),128))]),_:2},1024)),64))])]),default:o(()=>[e(u,{label:"Kombinationer",size:"xl",shape:"full",trailing:"",icon:"mdi:apps",color:"neutral",variant:"outline"})]),_:1}),e($,{fullscreen:"",title:"Miljööversikt",class:"col-span-2",ui:{content:"overflow-y-scroll px-0",body:"p-0",title:"text-2xl"}},{body:o(()=>[e(G)]),default:o(()=>[e(u,{size:"xl",label:"Alla miljöer",trailing:"",icon:"i-hugeicons-tree-06",color:"neutral",variant:"subtle"})]),_:1})]),e(_e,{name:"fade",mode:"out-in"},{default:o(()=>[e(D,{class:"rounded overflow-hidden border border-neutral-200 h-fit"})]),_:1})])]),default:o(()=>[e(u,{label:n(i).hero.links[0].label,size:"xl",color:"neutral",icon:"i-heroicons-magnifying-glass"},null,8,["label"])]),_:1})]),key:"1"}:void 0]),1032,["title","description","orientation"]),n(A)?C("",!0):(s(),r("div",Se,[e(K),c("div",Le,[e(u,{disabled:!k.value,onClick:z,color:"primary",icon:"i-heroicons-arrow-right",label:"Gå till miljö"},null,8,["disabled"])])]))]),_:1}),c("div",Ne,[e(I,{class:"w-full px-0 pb-8 pt-2 sm:pt-8"},{default:o(()=>[c("div",Oe,[e(Q,{ui:{prev:"ml-8 hidden group-hover:flex",next:"mr-8 hidden group-hover:flex"},items:n(i).carousel??[],class:"w-full mx-auto mb-8",arrows:"",dots:""},{default:o(({item:t})=>[e(H,{title:t.title,ui:{root:"mx-3 lg:mx-8 my-1",container:"border-none py-8",title:"lg:text-5xl/14 font-medium"},description:t.description,orientation:"horizontal"},{default:o(()=>[t.specialGrid?(s(),r("div",Re,[(s(!0),r(b,null,y(R(t),(a,h)=>(s(),r("div",{key:h,class:"rounded overflow-hidden ring ring-neutral-200 shadow"},[e(p,{src:a,alt:h===0?"Mycel: huvudbild":"Mycel: rutbild",width:"400",height:"400"},null,8,["src","alt"])]))),128))])):t.specialBento?(s(),r("div",Ee,[(s(!0),r(b,null,y(E(t),(a,h)=>(s(),r("div",{key:h,class:"rounded overflow-hidden ring ring-neutral-200 shadow"},[e(p,{src:a,alt:`Svampbild ${h+1}`,width:"500",height:"300"},null,8,["src","alt"])]))),128))])):t.img?(s(),r("div",Pe,[e(p,{src:t.img,class:S(["rounded ",{"ring ring-neutral-200 shadow":!t.noBorder}]),height:"400"},null,8,["src","class"])])):(s(),r("div",Ge,[...m[0]||(m[0]=[c("span",null,"Ingen bild tillgänglig",-1)])]))]),_:2},1032,["title","description"])]),_:1},8,["items"])])]),_:1})])]),_:1})):C("",!0)}}});export{Ze as default};
