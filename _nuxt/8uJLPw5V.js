const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BuGUMZQD.js","./CjEvrDbC.js","./entry.B-6UOPsD.css","./Cpj98o6Y.js","./BEyajBfV.js","./DsRBfmDe.js","./B0VoygWj.js","./1u_zx6wk.js","./BWuJ0jvd.js","./uTlnr8Tt.js","./CcbwAkLh.js","./hg6Rz1vw.js","./o2I9E7u7.js","./DSuDQZqg.js","./DfyBcFo5.js","./iik6CYzq.js","./B9i8ASNm.js","./CTXmFJ8l.js","./SCarousel.DbZX_4vZ.css","./OpenSeadragonViewer.CPIDwCYQ.css"])))=>i.map(i=>d[i]);
import{A as ut,C as Ts,I as Bl,Z as Cs,V as g,B as Rl,M as I,e as h,w as $,N as Wt,f as E,O as z,Y as As,S as Pl,U as ba,P as wn,a3 as ns,a4 as Ul,a5 as Il,y as Hl,a9 as ql,a8 as Wl,aQ as Gl,aR as Yl,aa as ss,h as v,d as D,n as he,g as S,am as nr,F as ze,ah as Lt,t as Y,aI as pr,r as L,o as Mt,K as Yt,c as ua,J as X,aC as He,aD as Re,aE as qe,aS as Vs,aT as Da,aU as Zl,af as Ze,aO as Kl,ae as Sn,aV as Ls,_ as Ms,aM as Fs,aW as ls,aB as Tn,aX as Cn,aY as Xl,p as Jl,aL as Ql,aZ as ei,a_ as ti,a$ as ai,b0 as ri,T as ni,b as si,aH as li,b1 as ii,aG as oi,ad as ui,ao as ci,au as di,aA as vi,aK as fi}from"#entry";import{_ as Os}from"./BEyajBfV.js";import{L as mi,_ as Ds,a as pi,b as hi}from"./1u_zx6wk.js";import{u as gi,V as bi}from"./BWuJ0jvd.js";import{X as hr,c as we,i as Ea,a as gr,D as oa,b as ya,d as ir,g as Vt,e as Gt,f as ja,s as xa,h as ki,j as Xe,O as zs,m as Zr,k as yi,l as _i,r as xi,n as wi,o as Si,p as Ti,q as Ci,t as Ai,u as Vi,v as Li,w as an,P as Mi,x as Fi,y as Oi,z as Di,A as zi,B as rn,C as br,E as Na,F as Ba,S as $i,G as is,H as ji,I as os}from"./uTlnr8Tt.js";import{d as Ei}from"./CcbwAkLh.js";import{_ as Ni}from"./hg6Rz1vw.js";import{M as Bi}from"./o2I9E7u7.js";import{_ as Ri}from"./DSuDQZqg.js";import{_ as Pi}from"./B9i8ASNm.js";import{_ as Ui}from"./CTXmFJ8l.js";const[Ii,Hi]=Rl("SwitchRoot");var qi=ut({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,r=t,{disabled:l}=Ts(a),i=Bl(a,"modelValue",r,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function u(){l.value||(i.value=!i.value)}const{forwardRef:o,currentElement:d}=Cs(),C=gi(d),p=g(()=>a.id&&d.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return Hi({modelValue:i,toggleCheck:u,disabled:l}),(m,T)=>(h(),I(z(wn),As(m.$attrs,{id:m.id,ref:z(o),role:"switch",type:m.as==="button"?"button":void 0,value:m.value,"aria-label":m.$attrs["aria-label"]||p.value,"aria-checked":z(i),"aria-required":m.required,"data-state":z(i)?"checked":"unchecked","data-disabled":z(l)?"":void 0,"as-child":m.asChild,as:m.as,disabled:z(l),onClick:u,onKeydown:Pl(ba(u,["prevent"]),["enter"])}),{default:$(()=>[Wt(m.$slots,"default",{modelValue:z(i)}),z(C)&&m.name?(h(),I(z(bi),{key:0,type:"checkbox",name:m.name,disabled:z(l),required:m.required,value:m.value,checked:!!z(i)},null,8,["name","disabled","required","value","checked"])):E("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),Wi=qi,Gi=ut({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=Ii();return Cs(),(a,r)=>(h(),I(z(wn),{"data-state":z(t).modelValue?.value?"checked":"unchecked","data-disabled":z(t).disabled.value?"":void 0,"as-child":a.asChild,as:a.as},{default:$(()=>[Wt(a.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"]))}}),Yi=Gi;const Zi={slots:{root:"relative flex items-start",base:["inline-flex items-center shrink-0 rounded-full border-2 border-transparent focus-visible:outline-2 focus-visible:outline-offset-2 data-[state=unchecked]:bg-accented","transition-[background] duration-200"],container:"flex items-center",thumb:"group pointer-events-none rounded-full bg-default shadow-lg ring-0 transition-transform duration-200 data-[state=unchecked]:translate-x-0 data-[state=unchecked]:rtl:-translate-x-0 flex items-center justify-center",icon:["absolute shrink-0 group-data-[state=unchecked]:text-dimmed opacity-0 size-10/12","transition-[color,opacity] duration-200"],wrapper:"ms-2",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"data-[state=checked]:bg-primary focus-visible:outline-primary",icon:"group-data-[state=checked]:text-primary"},secondary:{base:"data-[state=checked]:bg-secondary focus-visible:outline-secondary",icon:"group-data-[state=checked]:text-secondary"},tertiary:{base:"data-[state=checked]:bg-tertiary focus-visible:outline-tertiary",icon:"group-data-[state=checked]:text-tertiary"},rodeodust:{base:"data-[state=checked]:bg-rodeodust focus-visible:outline-rodeodust",icon:"group-data-[state=checked]:text-rodeodust"},poison:{base:"data-[state=checked]:bg-poison focus-visible:outline-poison",icon:"group-data-[state=checked]:text-poison"},signal:{base:"data-[state=checked]:bg-signal focus-visible:outline-signal",icon:"group-data-[state=checked]:text-signal"},info:{base:"data-[state=checked]:bg-info focus-visible:outline-info",icon:"group-data-[state=checked]:text-info"},success:{base:"data-[state=checked]:bg-success focus-visible:outline-success",icon:"group-data-[state=checked]:text-success"},warning:{base:"data-[state=checked]:bg-warning focus-visible:outline-warning",icon:"group-data-[state=checked]:text-warning"},error:{base:"data-[state=checked]:bg-error focus-visible:outline-error",icon:"group-data-[state=checked]:text-error"},kalkmark:{base:"data-[state=checked]:bg-kalkmark focus-visible:outline-kalkmark",icon:"group-data-[state=checked]:text-kalkmark"},vanligmark:{base:"data-[state=checked]:bg-vanligmark focus-visible:outline-vanligmark",icon:"group-data-[state=checked]:text-vanligmark"},time:{base:"data-[state=checked]:bg-time focus-visible:outline-time",icon:"group-data-[state=checked]:text-time"},neutral:{base:"data-[state=checked]:bg-inverted focus-visible:outline-inverted",icon:"group-data-[state=checked]:text-highlighted"}},size:{xs:{base:"w-7",container:"h-4",thumb:"size-3 data-[state=checked]:translate-x-3 data-[state=checked]:rtl:-translate-x-3",wrapper:"text-xs"},sm:{base:"w-8",container:"h-4",thumb:"size-3.5 data-[state=checked]:translate-x-3.5 data-[state=checked]:rtl:-translate-x-3.5",wrapper:"text-xs"},md:{base:"w-9",container:"h-5",thumb:"size-4 data-[state=checked]:translate-x-4 data-[state=checked]:rtl:-translate-x-4",wrapper:"text-sm"},lg:{base:"w-10",container:"h-5",thumb:"size-4.5 data-[state=checked]:translate-x-4.5 data-[state=checked]:rtl:-translate-x-4.5",wrapper:"text-sm"},xl:{base:"w-11",container:"h-6",thumb:"size-5 data-[state=checked]:translate-x-5 data-[state=checked]:rtl:-translate-x-5",wrapper:"text-base"}},checked:{true:{icon:"group-data-[state=checked]:opacity-100"}},unchecked:{true:{icon:"group-data-[state=unchecked]:opacity-100"}},loading:{true:{icon:"animate-spin"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75",description:"cursor-not-allowed opacity-75"}}},defaultVariants:{color:"primary",size:"md"}},Ki=Object.assign({inheritAttrs:!1},{__name:"USwitch",props:ns({as:{type:null,required:!1},color:{type:null,required:!1},size:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1},checkedIcon:{type:[String,Object],required:!1},uncheckedIcon:{type:[String,Object],required:!1},label:{type:String,required:!1},description:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},value:{type:String,required:!1},defaultValue:{type:Boolean,required:!1}},{modelValue:{type:Boolean,default:void 0},modelModifiers:{}}),emits:ns(["change"],["update:modelValue"]),setup(e,{emit:t}){const a=e,r=Ul(),l=t,i=Il(e,"modelValue",{type:Boolean,default:void 0}),u=Hl(),o=ql(Wl(a,"required","value","defaultValue")),{id:d,emitFormChange:C,emitFormInput:p,size:m,color:T,name:O,disabled:j,ariaAttrs:B}=Gl(a),V=d.value??Yl(),k=g(()=>ss({extend:ss(Zi),...u.ui?.switch||{}})({size:m.value,color:T.value,required:a.required,loading:a.loading,disabled:j.value||a.loading}));function N(A){const U=new Event("change",{target:{value:A}});l("change",U),C(),p()}return(A,U)=>(h(),I(z(wn),{as:e.as,class:he(k.value.root({class:[a.ui?.root,a.class]}))},{default:$(()=>[v("div",{class:he(k.value.container({class:a.ui?.container}))},[S(z(Wi),As({id:z(V)},{...z(o),...A.$attrs,...z(B)},{modelValue:i.value,"onUpdate:modelValue":[U[0]||(U[0]=Z=>i.value=Z),N],name:z(O),disabled:z(j)||e.loading,class:k.value.base({class:a.ui?.base})}),{default:$(()=>[S(z(Yi),{class:he(k.value.thumb({class:a.ui?.thumb}))},{default:$(()=>[e.loading?(h(),I(nr,{key:0,name:e.loadingIcon||z(u).ui.icons.loading,class:he(k.value.icon({class:a.ui?.icon,checked:!0,unchecked:!0}))},null,8,["name","class"])):(h(),D(ze,{key:1},[e.checkedIcon?(h(),I(nr,{key:0,name:e.checkedIcon,class:he(k.value.icon({class:a.ui?.icon,checked:!0}))},null,8,["name","class"])):E("",!0),e.uncheckedIcon?(h(),I(nr,{key:1,name:e.uncheckedIcon,class:he(k.value.icon({class:a.ui?.icon,unchecked:!0}))},null,8,["name","class"])):E("",!0)],64))]),_:1},8,["class"])]),_:1},16,["id","modelValue","name","disabled","class"])],2),e.label||r.label||e.description||r.description?(h(),D("div",{key:0,class:he(k.value.wrapper({class:a.ui?.wrapper}))},[e.label||r.label?(h(),I(z(mi),{key:0,for:z(V),class:he(k.value.label({class:a.ui?.label}))},{default:$(()=>[Wt(A.$slots,"label",{label:e.label},()=>[Lt(Y(e.label),1)])]),_:3},8,["for","class"])):E("",!0),e.description||r.description?(h(),D("p",{key:1,class:he(k.value.description({class:a.ui?.description}))},[Wt(A.$slots,"description",{description:e.description},()=>[Lt(Y(e.description),1)])],2)):E("",!0)],2)):E("",!0)]),_:3},8,["as","class"]))}});var nn=Math.PI,sn=2*nn,ia=1e-6,Xi=sn-ia;function ln(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function kr(){return new ln}ln.prototype=kr.prototype={constructor:ln,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,a,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+a)+","+(this._y1=+r)},bezierCurveTo:function(e,t,a,r,l,i){this._+="C"+ +e+","+ +t+","+ +a+","+ +r+","+(this._x1=+l)+","+(this._y1=+i)},arcTo:function(e,t,a,r,l){e=+e,t=+t,a=+a,r=+r,l=+l;var i=this._x1,u=this._y1,o=a-e,d=r-t,C=i-e,p=u-t,m=C*C+p*p;if(l<0)throw new Error("negative radius: "+l);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(m>ia)if(!(Math.abs(p*o-d*C)>ia)||!l)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var T=a-i,O=r-u,j=o*o+d*d,B=T*T+O*O,V=Math.sqrt(j),k=Math.sqrt(m),N=l*Math.tan((nn-Math.acos((j+m-B)/(2*V*k)))/2),A=N/k,U=N/V;Math.abs(A-1)>ia&&(this._+="L"+(e+A*C)+","+(t+A*p)),this._+="A"+l+","+l+",0,0,"+ +(p*T>C*O)+","+(this._x1=e+U*o)+","+(this._y1=t+U*d)}},arc:function(e,t,a,r,l,i){e=+e,t=+t,a=+a,i=!!i;var u=a*Math.cos(r),o=a*Math.sin(r),d=e+u,C=t+o,p=1^i,m=i?r-l:l-r;if(a<0)throw new Error("negative radius: "+a);this._x1===null?this._+="M"+d+","+C:(Math.abs(this._x1-d)>ia||Math.abs(this._y1-C)>ia)&&(this._+="L"+d+","+C),a&&(m<0&&(m=m%sn+sn),m>Xi?this._+="A"+a+","+a+",0,1,"+p+","+(e-u)+","+(t-o)+"A"+a+","+a+",0,1,"+p+","+(this._x1=d)+","+(this._y1=C):m>ia&&(this._+="A"+a+","+a+",0,"+ +(m>=nn)+","+p+","+(this._x1=e+a*Math.cos(l))+","+(this._y1=t+a*Math.sin(l))))},rect:function(e,t,a,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +a+"v"+ +r+"h"+-a+"Z"},toString:function(){return this._}};function Ee(e){return function(){return e}}var us=1e-12,or=Math.PI,yr=2*or;function $s(e){this._context=e}$s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function An(e){return new $s(e)}function js(e){return e[0]}function Es(e){return e[1]}function Ns(){var e=js,t=Es,a=Ee(!0),r=null,l=An,i=null;function u(o){var d,C=o.length,p,m=!1,T;for(r==null&&(i=l(T=kr())),d=0;d<=C;++d)!(d<C&&a(p=o[d],d,o))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(p,d,o),+t(p,d,o));if(T)return i=null,T+""||null}return u.x=function(o){return arguments.length?(e=typeof o=="function"?o:Ee(+o),u):e},u.y=function(o){return arguments.length?(t=typeof o=="function"?o:Ee(+o),u):t},u.defined=function(o){return arguments.length?(a=typeof o=="function"?o:Ee(!!o),u):a},u.curve=function(o){return arguments.length?(l=o,r!=null&&(i=l(r)),u):l},u.context=function(o){return arguments.length?(o==null?r=i=null:i=l(r=o),u):r},u}function Ji(){var e=js,t=null,a=Ee(0),r=Es,l=Ee(!0),i=null,u=An,o=null;function d(p){var m,T,O,j=p.length,B,V=!1,k,N=new Array(j),A=new Array(j);for(i==null&&(o=u(k=kr())),m=0;m<=j;++m){if(!(m<j&&l(B=p[m],m,p))===V)if(V=!V)T=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),O=m-1;O>=T;--O)o.point(N[O],A[O]);o.lineEnd(),o.areaEnd()}V&&(N[m]=+e(B,m,p),A[m]=+a(B,m,p),o.point(t?+t(B,m,p):N[m],r?+r(B,m,p):A[m]))}if(k)return o=null,k+""||null}function C(){return Ns().defined(l).curve(u).context(i)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:Ee(+p),t=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Ee(+p),d):e},d.x1=function(p){return arguments.length?(t=p==null?null:typeof p=="function"?p:Ee(+p),d):t},d.y=function(p){return arguments.length?(a=typeof p=="function"?p:Ee(+p),r=null,d):a},d.y0=function(p){return arguments.length?(a=typeof p=="function"?p:Ee(+p),d):a},d.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ee(+p),d):r},d.lineX0=d.lineY0=function(){return C().x(e).y(a)},d.lineY1=function(){return C().x(e).y(r)},d.lineX1=function(){return C().x(t).y(a)},d.defined=function(p){return arguments.length?(l=typeof p=="function"?p:Ee(!!p),d):l},d.curve=function(p){return arguments.length?(u=p,i!=null&&(o=u(i)),d):u},d.context=function(p){return arguments.length?(p==null?i=o=null:o=u(i=p),d):i},d}const Bs={draw:function(e,t){var a=Math.sqrt(t/or);e.moveTo(a,0),e.arc(0,0,a,0,yr)}},Qi={draw:function(e,t){var a=Math.sqrt(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}};var Rs=Math.sqrt(1/3),eo=Rs*2;const to={draw:function(e,t){var a=Math.sqrt(t/eo),r=a*Rs;e.moveTo(0,-a),e.lineTo(r,0),e.lineTo(0,a),e.lineTo(-r,0),e.closePath()}};var ao=.8908130915292852,Ps=Math.sin(or/10)/Math.sin(7*or/10),ro=Math.sin(yr/10)*Ps,no=-Math.cos(yr/10)*Ps;const so={draw:function(e,t){var a=Math.sqrt(t*ao),r=ro*a,l=no*a;e.moveTo(0,-a),e.lineTo(r,l);for(var i=1;i<5;++i){var u=yr*i/5,o=Math.cos(u),d=Math.sin(u);e.lineTo(d*a,-o*a),e.lineTo(o*r-d*l,d*r+o*l)}e.closePath()}},lo={draw:function(e,t){var a=Math.sqrt(t),r=-a/2;e.rect(r,r,a,a)}};var Kr=Math.sqrt(3);const io={draw:function(e,t){var a=-Math.sqrt(t/(Kr*3));e.moveTo(0,a*2),e.lineTo(-Kr*a,-a),e.lineTo(Kr*a,-a),e.closePath()}};var st=-.5,lt=Math.sqrt(3)/2,on=1/Math.sqrt(12),oo=(on/2+1)*3;const uo={draw:function(e,t){var a=Math.sqrt(t/oo),r=a/2,l=a*on,i=r,u=a*on+a,o=-i,d=u;e.moveTo(r,l),e.lineTo(i,u),e.lineTo(o,d),e.lineTo(st*r-lt*l,lt*r+st*l),e.lineTo(st*i-lt*u,lt*i+st*u),e.lineTo(st*o-lt*d,lt*o+st*d),e.lineTo(st*r+lt*l,st*l-lt*r),e.lineTo(st*i+lt*u,st*u-lt*i),e.lineTo(st*o+lt*d,st*d-lt*o),e.closePath()}};function co(){var e=Ee(Bs),t=Ee(64),a=null;function r(){var l;if(a||(a=l=kr()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),l)return a=null,l+""||null}return r.type=function(l){return arguments.length?(e=typeof l=="function"?l:Ee(l),r):e},r.size=function(l){return arguments.length?(t=typeof l=="function"?l:Ee(+l),r):t},r.context=function(l){return arguments.length?(a=l??null,r):a},r}function Zt(){}function ur(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function _r(e){this._context=e}_r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ur(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ur(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vo(e){return new _r(e)}function Us(e){this._context=e}Us.prototype={areaStart:Zt,areaEnd:Zt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ur(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fo(e){return new Us(e)}function Is(e){this._context=e}Is.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:ur(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mo(e){return new Is(e)}function Hs(e,t){this._basis=new _r(e),this._beta=t}Hs.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,a=e.length-1;if(a>0)for(var r=e[0],l=t[0],i=e[a]-r,u=t[a]-l,o=-1,d;++o<=a;)d=o/a,this._basis.point(this._beta*e[o]+(1-this._beta)*(r+d*i),this._beta*t[o]+(1-this._beta)*(l+d*u));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const po=(function e(t){function a(r){return t===1?new _r(r):new Hs(r,t)}return a.beta=function(r){return e(+r)},a})(.85);function cr(e,t,a){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-a),e._x2,e._y2)}function Vn(e,t){this._context=e,this._k=(1-t)/6}Vn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:cr(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:cr(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ho=(function e(t){function a(r){return new Vn(r,t)}return a.tension=function(r){return e(+r)},a})(0);function Ln(e,t){this._context=e,this._k=(1-t)/6}Ln.prototype={areaStart:Zt,areaEnd:Zt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:cr(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const go=(function e(t){function a(r){return new Ln(r,t)}return a.tension=function(r){return e(+r)},a})(0);function Mn(e,t){this._context=e,this._k=(1-t)/6}Mn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cr(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const bo=(function e(t){function a(r){return new Mn(r,t)}return a.tension=function(r){return e(+r)},a})(0);function Fn(e,t,a){var r=e._x1,l=e._y1,i=e._x2,u=e._y2;if(e._l01_a>us){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,d=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/d,l=(l*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/d}if(e._l23_a>us){var C=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,p=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*C+e._x1*e._l23_2a-t*e._l12_2a)/p,u=(u*C+e._y1*e._l23_2a-a*e._l12_2a)/p}e._context.bezierCurveTo(r,l,i,u,e._x2,e._y2)}function qs(e,t){this._context=e,this._alpha=t}qs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Fn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ko=(function e(t){function a(r){return t?new qs(r,t):new Vn(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function Ws(e,t){this._context=e,this._alpha=t}Ws.prototype={areaStart:Zt,areaEnd:Zt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Fn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const yo=(function e(t){function a(r){return t?new Ws(r,t):new Ln(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function Gs(e,t){this._context=e,this._alpha=t}Gs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const _o=(function e(t){function a(r){return t?new Gs(r,t):new Mn(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function Ys(e){this._context=e}Ys.prototype={areaStart:Zt,areaEnd:Zt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function xo(e){return new Ys(e)}function cs(e){return e<0?-1:1}function ds(e,t,a){var r=e._x1-e._x0,l=t-e._x1,i=(e._y1-e._y0)/(r||l<0&&-0),u=(a-e._y1)/(l||r<0&&-0),o=(i*l+u*r)/(r+l);return(cs(i)+cs(u))*Math.min(Math.abs(i),Math.abs(u),.5*Math.abs(o))||0}function vs(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function Xr(e,t,a){var r=e._x0,l=e._y0,i=e._x1,u=e._y1,o=(i-r)/3;e._context.bezierCurveTo(r+o,l+o*t,i-o,u-o*a,i,u)}function dr(e){this._context=e}dr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xr(this,this._t0,vs(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Xr(this,vs(this,a=ds(this,e,t)),a);break;default:Xr(this,this._t0,a=ds(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function Zs(e){this._context=new Ks(e)}(Zs.prototype=Object.create(dr.prototype)).point=function(e,t){dr.prototype.point.call(this,t,e)};function Ks(e){this._context=e}Ks.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,r,l,i){this._context.bezierCurveTo(t,e,r,a,i,l)}};function wo(e){return new dr(e)}function So(e){return new Zs(e)}function Xs(e){this._context=e}Xs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var r=fs(e),l=fs(t),i=0,u=1;u<a;++i,++u)this._context.bezierCurveTo(r[0][i],l[0][i],r[1][i],l[1][i],e[u],t[u]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function fs(e){var t,a=e.length-1,r,l=new Array(a),i=new Array(a),u=new Array(a);for(l[0]=0,i[0]=2,u[0]=e[0]+2*e[1],t=1;t<a-1;++t)l[t]=1,i[t]=4,u[t]=4*e[t]+2*e[t+1];for(l[a-1]=2,i[a-1]=7,u[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=l[t]/i[t-1],i[t]-=r,u[t]-=r*u[t-1];for(l[a-1]=u[a-1]/i[a-1],t=a-2;t>=0;--t)l[t]=(u[t]-l[t+1])/i[t];for(i[a-1]=(e[a]+l[a-1])/2,t=0;t<a-1;++t)i[t]=2*e[t+1]-l[t+1];return[l,i]}function To(e){return new Xs(e)}function xr(e,t){this._context=e,this._t=t}xr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function Co(e){return new xr(e,.5)}function Ao(e){return new xr(e,0)}function Vo(e){return new xr(e,1)}function ms(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,r)}return a}function Lo(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ms(Object(a),!0).forEach(function(r){Mo(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ms(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function za(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?za=function(t){return typeof t}:za=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(e)}function Mo(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function vr(){return vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},vr.apply(this,arguments)}function Fo(e,t){if(e){if(typeof e=="string")return ps(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ps(e,t)}}function ps(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Js(e,t){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=Fo(e))||t){a&&(e=a);var r=0,l=function(){};return{s:l,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,u=!1,o;return{s:function(){a=a.call(e)},n:function(){var d=a.next();return i=d.done,d},e:function(d){u=!0,o=d},f:function(){try{!i&&a.return!=null&&a.return()}finally{if(u)throw o}}}}function Oo(e,t){var a=[],r=[];function l(i,u){if(i.length===1)a.push(i[0]),r.push(i[0]);else{for(var o=Array(i.length-1),d=0;d<o.length;d++)d===0&&a.push(i[0]),d===o.length-1&&r.push(i[d+1]),o[d]=[(1-u)*i[d][0]+u*i[d+1][0],(1-u)*i[d][1]+u*i[d+1][1]];l(o,u)}}return e.length&&l(e,t),{left:a,right:r.reverse()}}function Do(e){var t={};return e.length===4&&(t.x2=e[2][0],t.y2=e[2][1]),e.length>=3&&(t.x1=e[1][0],t.y1=e[1][1]),t.x=e[e.length-1][0],t.y=e[e.length-1][1],e.length===4?t.type="C":e.length===3?t.type="Q":t.type="L",t}function zo(e,t){t=t||2;for(var a=[],r=e,l=1/t,i=0;i<t-1;i++){var u=l/(1-l*i),o=Oo(r,u);a.push(o.left),r=o.right}return a.push(r),a}function $o(e,t,a){var r=[[e.x,e.y]];return t.x1!=null&&r.push([t.x1,t.y1]),t.x2!=null&&r.push([t.x2,t.y2]),r.push([t.x,t.y]),zo(r,a).map(Do)}var jo=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,_a={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};Object.keys(_a).forEach(function(e){_a[e.toLowerCase()]=_a[e]});function un(e,t){for(var a=Array(e),r=0;r<e;r++)a[r]=t;return a}function Eo(e){return"".concat(e.type).concat(_a[e.type].map(function(t){return e[t]}).join(","))}function No(e,t){var a={x1:"x",y1:"y",x2:"x",y2:"y"},r=["xAxisRotation","largeArcFlag","sweepFlag"];if(e.type!==t.type&&t.type.toUpperCase()!=="M"){var l={};Object.keys(t).forEach(function(i){var u=t[i],o=e[i];o===void 0&&(r.includes(i)?o=u:(o===void 0&&a[i]&&(o=e[a[i]]),o===void 0&&(o=0))),l[i]=o}),l.type=t.type,e=l}return e}function Bo(e,t,a){var r=[];if(t.type==="L"||t.type==="Q"||t.type==="C")r=r.concat($o(e,t,a));else{var l=vr({},e);l.type==="M"&&(l.type="L"),r=r.concat(un(a-1).map(function(){return l})),r.push(t)}return r}function hs(e,t,a){var r=e.length-1,l=t.length-1,i=r/l,u=un(l).reduce(function(d,C,p){var m=Math.floor(i*p);if(a&&m<e.length-1&&a(e[m],e[m+1])){var T=i*p%1<.5;d[m]&&(T?m>0?m-=1:m<e.length-1&&(m+=1):m<e.length-1?m+=1:m>0&&(m-=1))}return d[m]=(d[m]||0)+1,d},[]),o=u.reduce(function(d,C,p){if(p===e.length-1){var m=un(C,vr({},e[e.length-1]));return m[0].type==="M"&&m.forEach(function(T){T.type="L"}),d.concat(m)}return d.concat(Bo(e[p],e[p+1],C))},[]);return o.unshift(e[0]),o}function gs(e){for(var t=(e||"").match(jo)||[],a=[],r,l,i=0;i<t.length;++i)if(r=_a[t[i]],r){l={type:t[i]};for(var u=0;u<r.length;++u)l[r[u]]=+t[i+u+1];i+=r.length,a.push(l)}return a}function Ro(e,t,a){var r=e==null?[]:e.slice(),l=t==null?[]:t.slice(),i=za(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},u=i.excludeSegment,o=i.snapEndsToInput;if(!r.length&&!l.length)return function(){return[]};var d=(r.length===0||r[r.length-1].type==="Z")&&(l.length===0||l[l.length-1].type==="Z");r.length>0&&r[r.length-1].type==="Z"&&r.pop(),l.length>0&&l[l.length-1].type==="Z"&&l.pop(),r.length?l.length||l.push(r[0]):r.push(l[0]);var C=Math.abs(l.length-r.length);C!==0&&(l.length>r.length?r=hs(r,l,u):l.length<r.length&&(l=hs(l,r,u))),r=r.map(function(m,T){return No(m,l[T])});var p=r.map(function(m){return Lo({},m)});return d&&(p.push({type:"Z"}),r.push({type:"Z"})),function(T){if(T===1&&o)return t??[];if(T===0)return r;for(var O=0;O<p.length;++O){var j=r[O],B=l[O],V=p[O],k=Js(_a[V.type]),N;try{for(k.s();!(N=k.n()).done;){var A=N.value;V[A]=(1-T)*j[A]+T*B[A],(A==="largeArcFlag"||A==="sweepFlag")&&(V[A]=Math.round(V[A]))}}catch(U){k.e(U)}finally{k.f()}}return p}}function Qs(e,t,a){var r=gs(e),l=gs(t),i=za(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},u=i.excludeSegment,o=i.snapEndsToInput;if(!r.length&&!l.length)return function(){return""};var d=Ro(r,l,{excludeSegment:u,snapEndsToInput:o});return function(p){if(p===1&&o)return t??"";var m=d(p),T="",O=Js(m),j;try{for(O.s();!(j=O.n()).done;){var B=j.value;T+=Eo(B)}}catch(V){O.e(V)}finally{O.f()}return T}}var ye;(function(e){e.Basis="basis",e.BasisClosed="basisClosed",e.BasisOpen="basisOpen",e.Bundle="bundle",e.Cardinal="cardinal",e.CardinalClosed="cardinalClosed",e.CardinalOpen="cardinalOpen",e.CatmullRom="catmullRom",e.CatmullRomClosed="catmullRomClosed",e.CatmullRomOpen="catmullRomOpen",e.Linear="linear",e.LinearClosed="linearClosed",e.MonotoneX="monotoneX",e.MonotoneY="monotoneY",e.Natural="natural",e.Step="step",e.StepAfter="stepAfter",e.StepBefore="stepBefore"})(ye||(ye={}));const cn={[ye.Basis]:vo,[ye.BasisClosed]:fo,[ye.BasisOpen]:mo,[ye.Bundle]:po,[ye.Cardinal]:ho,[ye.CardinalClosed]:go,[ye.CardinalOpen]:bo,[ye.CatmullRom]:ko,[ye.CatmullRomClosed]:yo,[ye.CatmullRomOpen]:_o,[ye.Linear]:An,[ye.LinearClosed]:xo,[ye.MonotoneX]:wo,[ye.MonotoneY]:So,[ye.Natural]:To,[ye.Step]:Co,[ye.StepAfter]:Vo,[ye.StepBefore]:Ao},Po=Object.assign(Object.assign({},hr),{curveType:ye.MonotoneX,lineWidth:2,lineDashArray:void 0,fallbackValue:void 0,highlightOnHover:!1,cursor:null,interpolateMissingData:!1}),Uo=Ea`
  :root {
    --vis-line-cursor: default;
    --vis-line-stroke-dasharray: none;
    --vis-line-stroke-dashoffset: 0;

    --vis-line-gapfill-stroke-dasharray: 2 3;
    --vis-line-gapfill-stroke-opacity: 0.8;
    --vis-line-gapfill-stroke-dashoffset: 0;
  }
`,Io=we`
  label: line-component;
`,Oa=we`
  label: line;
  transition: opacity 200ms;
  cursor: var(--vis-line-cursor);
`,dn=we`
  label: linePath;
  fill: none;
  stroke-dasharray: var(--vis-line-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-stroke-dashoffset);
`,vn=we`
  label: lineSelectionHelper;
  fill: none;
  stroke: rgba(0, 0, 0, 0);
  stroke-width: 8px;
`,fn=we`
  opacity: 0.2;
`,mn=we`
  label: interpolated-path;
  fill: none;
  stroke-dasharray: var(--vis-line-gapfill-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-gapfill-stroke-dashoffset);
  stroke-opacity: var(--vis-line-gapfill-stroke-opacity);
`,Ho=Object.freeze(Object.defineProperty({__proto__:null,dim:fn,globalStyles:Uo,interpolatedPath:mn,line:Oa,linePath:dn,lineSelectionHelper:vn,root:Io},Symbol.toStringTag,{value:"Module"}));class wr extends gr{constructor(t){super(),this._defaultConfig=Po,this.config=this._defaultConfig,this.curve=cn[ye.MonotoneX],this.events={[wr.selectors.line]:{mouseover:this._highlight.bind(this),mouseleave:this._resetHighlight.bind(this)}},t&&this.setConfig(t)}get bleed(){const{config:{lineWidth:t}}=this,a=this.yScale.domain(),l=(this.yScale.range()[0]>this.yScale.range()[1]?oa.North:oa.South)===oa.South,i=t>3,u=t>=10;return{top:!u&&(!l&&a[1]===0||l&&a[0]===0)?0:t/2,bottom:!u&&(!l&&a[0]===0||l&&a[1]===0)?0:t/2,left:i?t/2:0,right:i?t/2:0}}_render(t){super._render(t);const{config:a,datamodel:{data:r}}=this,l=ya(t)?t:a.duration;this.curve=cn[a.curveType],this.lineGen=Ns().x(m=>m.x).y(m=>m.y).defined(m=>m.defined).curve(this.curve);const i=ir(a.y)?a.y:[a.y],u=r.map((m,T)=>this.xScale(Vt(m,a.x,T))),o=i.map(m=>{const T=r.map((k,N)=>{const A=Vt(k,m,N),U=(ya(A)||A===null)&&isFinite(A)?A:a.fallbackValue,Z=a.interpolateMissingData?(ya(A)||A===null)&&isFinite(A):isFinite(U);return{x:u[N],y:this.yScale(U??0),defined:Z,value:U}}),O=T.reduce((k,N)=>N.defined||k,!1);let j=!1;const B=T.reduce((k,N,A)=>{!N.defined&&isFinite(a.fallbackValue)&&k.push(Object.assign(Object.assign({},N),{defined:!0})),!N.defined&&!j&&(j=!0);const U=A>0&&!T[A-1].defined||A<T.length-1&&!T[A+1].defined;return N.defined&&U&&(j||k.push(Object.assign(Object.assign({},N),{defined:!1})),k.push(N),j=!1),k},[]),V=O&&T.some(k=>k.value!==null);return{values:T,defined:O,gaps:B,visible:V}}),d=this.g.selectAll(`.${Oa}`).data(o),C=d.enter().append("g").attr("class",Oa);C.append("path").attr("class",dn).attr("stroke",(m,T)=>Gt(r,a.color,T)).attr("stroke-opacity",0).attr("stroke-width",a.lineWidth),C.append("path").attr("class",vn).attr("d",this._emptyPath()),C.append("path").attr("class",mn).attr("d",this._emptyPath()).style("opacity",0);const p=C.merge(d);p.style("cursor",(m,T)=>ja(r,a.cursor,T)),p.each((m,T,O)=>{var j;const B=xa(O[T]),V=B.select(`.${dn}`),k=B.select(`.${vn}`),N=B.select(`.${mn}`),A=m.visible,U=ki(r,a.lineDashArray,T),Z=Xe(V,l).attr("stroke",Gt(r,a.color,T)).attr("stroke-width",a.lineWidth).attr("stroke-opacity",A?1:0).style("stroke-dasharray",(j=U?.join(" "))!==null&&j!==void 0?j:null),re=m.values.some(Q=>!Q.defined),G=this.lineGen(m.values);if(l&&!re){const Q=V.attr("d")||this._emptyPath(),ee=G||this._emptyPath();Z.attrTween("d",()=>Qs(Q,ee))}else m.visible&&Z.attr("d",G);k.attr("d",G).attr("visibility",A?null:"hidden"),re&&a.interpolateMissingData?Xe(N,l).attr("d",this.lineGen(m.gaps)).attr("stroke",Gt(r,a.color,T)).attr("stroke-width",a.lineWidth-1).style("opacity",1):N.transition().duration(l).style("opacity",0)}),Xe(d.exit(),l).style("opacity",0).remove()}_emptyPath(){const t=this.xScale.range(),a=this.yScale.range();return`M${t[0]},${a[0]} L${t[1]},${a[0]}`}_highlight(t){const{config:a}=this;a.highlightOnHover&&this.g.selectAll(`.${Oa}`).classed(fn,r=>r!==t)}_resetHighlight(){const{config:t}=this;t.highlightOnHover&&this.g.selectAll(`.${Oa}`).classed(fn,!1)}}wr.selectors=Ho;const qo=Object.assign(Object.assign({},hr),{color:void 0,groupMaxWidth:void 0,groupWidth:void 0,dataStep:void 0,groupPadding:.05,barPadding:0,roundedCorners:2,barMinHeight:2,cursor:null,orientation:zs.Vertical}),el=we`
  label: grouped-bar-component;
`,Wo=Ea`
  :root {
    --vis-grouped-bar-cursor: default;
    --vis-grouped-bar-fill-color: var(--vis-color-main);
    --vis-grouped-bar-stroke-color: none;
    --vis-grouped-bar-stroke-width: 0px;
    --vis-grouped-bar-hover-stroke-width: 1px;
    --vis-grouped-bar-hover-stroke-color: none;


    /* Dark Theme */
    --vis-dark-grouped-bar-stroke-color: none;
  }

  body.theme-dark ${`.${el}`} {
    --vis-grouped-bar-stroke-color: var(--vis-dark-grouped-bar-stroke-color);
  }
`,sr=we`
  label: bar;
  fill: var(--vis-grouped-bar-fill-color);
  stroke: var(--vis-grouped-bar-stroke-color);
  stroke-width: var(--vis-grouped-bar-stroke-width);
  cursor: var(--vis-grouped-bar-cursor);

  &:hover {
    stroke-width: var(--vis-grouped-bar-hover-stroke-width);
    stroke: var(--vis-grouped-bar-hover-stroke-color);
  }
`,pn=we`
  label: barGroup;
`,tl=we`
  label: barGroupExit;
`,Go=Object.freeze(Object.defineProperty({__proto__:null,bar:sr,barGroup:pn,barGroupExit:tl,globalStyles:Wo,root:el},Symbol.toStringTag,{value:"Module"}));class al extends gr{constructor(t){super(),this._defaultConfig=qo,this.config=this._defaultConfig,this.getAccessors=()=>ir(this.config.y)?this.config.y:[this.config.y],this.events={},this._barData=[],t&&this.setConfig(t)}get bleed(){if(this._barData=this._getVisibleData(),this._barData.length===0)return{top:0,bottom:0,left:0,right:0};const t=!this.isVertical()&&this.dataScale.range()[0]>this.dataScale.range()[1],a=this.dataScale.domain(),r=this._getGroupWidth()/2,l=this._barData.map((O,j)=>Vt(O,this.config.x,j)),i=Zr(l),u=yi(l),o=this.dataScale(i),d=this.dataScale(u),C=this.dataScale.invert(o+(t?r:-r)),p=this.dataScale.invert(d+(t?-r:r)),m=C<=a[0]?this.dataScale(a[0])-this.dataScale(C):0,T=p>a[1]?this.dataScale(p)-this.dataScale(a[1]):0;return{top:this.isVertical()?0:t?-T:m,bottom:this.isVertical()?0:t?-m:T,left:this.isVertical()?m:0,right:this.isVertical()?T:0}}get dataScale(){return this.isVertical()?this.xScale:this.yScale}get valueScale(){return this.isVertical()?this.yScale:this.xScale}isVertical(){return this.config.orientation===zs.Vertical}_render(t){const{config:a}=this,r=ya(t)?t:a.duration,l=this._getGroupWidth(),i=this.getAccessors(),u=[-l/2,l/2],o=_i().domain(xi(i.length)).range(u).paddingInner(a.barPadding).paddingOuter(a.barPadding),d=this.g.selectAll(`.${pn}`).data(this._barData,(N,A)=>{var U;return`${(U=ja(N,a.id,A))!==null&&U!==void 0?U:A}`}),C=(N,A)=>{const U=this.dataScale(Vt(N,a.x,A)),Z=this.isVertical()?U:0,re=this.isVertical()?0:U;return`translate(${Z},${re})`},m=d.enter().append("g").attr("class",pn).attr("transform",C).style("opacity",1).merge(d);Xe(m,r).attr("transform",C).style("opacity",1);const T=d.exit().attr("class",tl);Xe(T,r).style("opacity",0).remove(),Xe(T.selectAll(`.${sr}`),r).attr("transform",(N,A,U)=>this.isVertical()?`translate(0,${this.yScale(0)}) scale(1,0)`:`translate(${this.xScale(0)},0) scale(0,1)`);const O=o.bandwidth(),j=m.selectAll(`.${sr}`).data(N=>i.map(()=>N)),B=this._getValueAxisDirection(),k=j.enter().append("path").attr("class",sr).attr("d",(N,A)=>{const U=o(A),Z=this.valueScale(0),re=O;return this._getBarPath(U,Z,re,0,!1,B)}).style("fill",(N,A)=>Gt(N,a.color,A)).merge(j);Xe(k,r).attr("d",(N,A)=>{const U=o(A),Z=O,re=Vt(N,i[A]),G=re<0;let Q=G?this.valueScale(0):this.valueScale(re||0),ee=Math.abs(this.valueScale(0)-this.valueScale(re))||0;if(ee<a.barMinHeight){const ce=B===oa.North?-1:1;Q=this.valueScale(0)+ce*a.barMinHeight,ee=a.barMinHeight}return this._getBarPath(U,Q,Z,ee,G,B)}).style("fill",(N,A)=>Gt(N,a.color,A)).style("cursor",(N,A)=>ja(N,a.cursor,A)),Xe(j.exit(),r).remove()}_getValueAxisDirection(){return this.valueScale.range()[0]>this.valueScale.range()[1]?oa.North:oa.South}_getVisibleData(){const{config:t,datamodel:{data:a}}=this,r=this._getGroupWidth(),l=a.length<2?0:r/2,i=this.dataScale,u=Math.abs(i.invert(l)-i.invert(0));return a?.filter((d,C)=>{const p=Vt(d,t.x,C),m=i.domain(),T=+m[0],O=+m[1];return p>=T-u&&p<=O+u})}_getBarPath(t,a,r,l,i,u){const{config:o}=this,d=o.roundedCorners?ya(o.roundedCorners)?+o.roundedCorners:r/2:0,C=Vi(d,0,Math.min(l,r)/2),p=u===oa.North,m=this.isVertical()&&i!==p,T=this.isVertical()&&i===p,O=!this.isVertical()&&i,j=!this.isVertical()&&!i;return wi({x:this.isVertical()?t:a+(p?0:-l),y:this.isVertical()?a+(p?0:-l):t,w:this.isVertical()?r:l,h:this.isVertical()?l:r,tl:m||O,tr:m||j,bl:T||O,br:T||j,r:C})}_getGroupWidth(){const{config:t,datamodel:{data:a}}=this;if(Si(a))return 0;if(t.groupWidth)return Zr([t.groupWidth,t.groupMaxWidth]);const r=this.dataScale.bandwidth,l=this.dataScale.domain?this.dataScale.domain():[];let u=1+(r?l.length:l[1]-l[0])/t.dataStep||!r&&a.filter((C,p)=>{const m=Vt(C,t.x,p);return m>=l[0]&&m<=l[1]}).length||a.length;!r&&u>=2&&(u+=1);const d=(u<2?1:1-t.groupPadding)*(this.isVertical()?this._width:this._height)/u;return Zr([d,t.groupMaxWidth])}getValueScaleExtent(t){const{datamodel:a}=this,r=this.getAccessors(),l=t?this._getVisibleData():a.data,i=Ti(l,...r),u=Ci(l,...r);return[i>0?0:i,u<0?0:u]}getDataScaleExtent(){const{config:t,datamodel:a}=this;return Ai(a.data,t.x)}getYDataExtent(t){return this.isVertical()?this.getValueScaleExtent(t):this.getDataScaleExtent()}getXDataExtent(){return this.isVertical()?this.getDataScaleExtent():this.getValueScaleExtent(!1)}}al.selectors=Go;var yt;(function(e){e.Circle="circle",e.Cross="cross",e.Diamond="diamond",e.Square="square",e.Star="star",e.Triangle="triangle",e.Wye="wye"})(yt||(yt={}));const Yo={[yt.Circle]:Bs,[yt.Cross]:Qi,[yt.Diamond]:to,[yt.Square]:lo,[yt.Star]:so,[yt.Triangle]:io,[yt.Wye]:uo},Ke=Object.assign(Object.assign({},yt),{Line:"line"});var fr;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(fr||(fr={}));const Zo={items:[],labelClassName:"",onLegendItemClick:void 0,labelFontSize:null,labelMaxWidth:null,bulletSize:null,bulletSpacing:4,bulletShape:e=>{var t;return(t=e.shape)!==null&&t!==void 0?t:Ke.Circle},orientation:fr.Horizontal,renderIntoProvidedDomNode:!1},rr=Mi*3,Ko={[Ke.Circle]:Math.PI/4,[Ke.Cross]:5/9,[Ke.Diamond]:Math.sqrt(3)/6,[Ke.Square]:1,[Ke.Star]:.3,[Ke.Triangle]:Math.sqrt(3)/4,[Ke.Wye]:5/11};function rl(e,t,a){return t<1?0:e*t+a*(t-1)}function Xo(e){e.each((t,a,r)=>{xa(r[a]).append("svg").attr("width","100%").attr("height","100%").append("path")})}function Jo(e,t,a){e.each((r,l,i)=>{var u;const o=ja(r,t.bulletShape,l),d=Li((u=r.color)!==null&&u!==void 0?u:Gt(r,a,l)),C=d.length,p=rr,m=an(getComputedStyle(i[l]).getPropertyValue("--vis-legend-bullet-size")),T=t.bulletSpacing*(rr/m),O=rl(p,C,T),j=o===Ke.Line?rr/2.5:rr,B=xa(i[l]).select("svg").attr("viewBox",`0 0 ${O} ${j}`);B.selectAll("path").remove();const V=r.inactive?"var(--vis-legend-bullet-inactive-opacity)":1;d.forEach((k,N)=>{const A=B.append("path");if(o===Ke.Line){const U=N*(p+T),Z=U+p;A.attr("d",`M${U},${j/2} L${Z},${j/2}`).attr("transform",null).style("opacity",V).style("stroke",k).style("stroke-width","3px").style("fill",null).style("fill-opacity",null).style("marker-start","none").style("marker-end","none")}else{const U=co().type(Yo[o]).size(p*j*Ko[o]),Z=(p-2)/p;let re=j/2;switch(o){case Ke.Triangle:re+=j/8;break;case Ke.Star:re+=j/16;break;case Ke.Wye:re-=j/16;break}const G=N*(p+T)+p/2;A.attr("d",U).attr("transform",`translate(${G}, ${Math.round(re)}) scale(${Z})`).style("stroke",k).style("stroke-width","1px").style("opacity",null).style("fill",k).style("fill-opacity",V)}})})}const On=we`
  label: bullet-legend-component;
`,Qo=Ea`
  :root {
    // Undefined by default to allow proper fallback to var(--vis-font-family)
    /* --vis-legend-font-family: */

    --vis-legend-label-color: #6c778c;
    --vis-legend-label-max-width: 300px;
    --vis-legend-label-font-size: 12px;
    --vis-legend-bullet-size: 9px;
    --vis-legend-bullet-inactive-opacity: 0.15;
    --vis-legend-item-spacing: 20px;
    --vis-legend-vertical-item-spacing: 5px;
    --vis-legend-bullet-label-spacing: 8px;

    --vis-dark-legend-label-color: #eee;
  }

  body.theme-dark ${`.${On}`} {
    --vis-legend-label-color: var(--vis-dark-legend-label-color);
  }

  body.theme-patterns {
    --vis-legend-bullet-size: 14px;
  }
`,lr=we`
  label: legendItem;
  display: inline-flex;
  align-items: center;
  font-family: var(--vis-legend-font-family, var(--vis-font-family));
  margin-right: var(--vis-legend-item-spacing);
  white-space: nowrap;
  cursor: default;
  user-select: none;
  max-width: min-content;
`,nl=we`
  label: legendItemVertical;
  display: flex;
  margin-top: var(--vis-legend-vertical-item-spacing);
`,sl=we`
  cursor: pointer;
`,hn=we`
  label: legendItemLabel;
  font-size: var(--vis-legend-label-font-size);
  display: inline-block;
  vertical-align: middle;
  color: var(--vis-legend-label-color);
  max-width: var(--vis-legend-label-max-width);
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
`,gn=we`
  flex: 0 0 auto;
  label: legendItemBullet;
  margin-right: var(--vis-legend-bullet-label-spacing);
  height: var(--vis-legend-bullet-size);
  width: var(--vis-legend-bullet-size);

  svg {
    display: block;
  }
`,eu=Object.freeze(Object.defineProperty({__proto__:null,bullet:gn,clickable:sl,item:lr,itemVertical:nl,label:hn,root:On,variables:Qo},Symbol.toStringTag,{value:"Module"}));class ll{constructor(t,a){this._defaultConfig=Zo,this.config=this._defaultConfig,this._colorAccessor=r=>r.color,this._container=t,this.div=a?.renderIntoProvidedDomNode?xa(this._container):xa(this._container).append("div"),this.div.classed(On,!0),this.element=this.div.node(),a&&this.update(a)}update(t){this.prevConfig=this.config,this.config=Fi(this._defaultConfig,t),this.render()}render(){const{config:t}=this,a=this.div.selectAll(`.${lr}`).data(t.items),r=a.enter().append("div").on("click",this._onItemClick.bind(this)),l=r.merge(a);l.attr("class",i=>{var u;return`${lr} ${(u=i.className)!==null&&u!==void 0?u:""}`}).classed(nl,t.orientation===fr.Vertical).classed(sl,i=>!!t.onLegendItemClick&&this._isItemClickable(i)).attr("title",i=>i.name).style("display",i=>i.hidden?"none":null),r.append("span").attr("class",gn).call(Xo),l.select(`.${gn}`).style("width",function(i){const o=(Array.isArray(i.color)?i.color:[i.color]).length,d=an(getComputedStyle(this).getPropertyValue("--vis-legend-bullet-size"))||9,C=t.bulletSize?an(t.bulletSize):d,p=t.bulletSpacing;return`${rl(C,o,p)}px`}).style("height",t.bulletSize).style("box-sizing","content-box").call(Jo,this.config,this._colorAccessor),r.append("span").attr("class",hn).classed(t.labelClassName,!0).style("max-width",t.labelMaxWidth).style("font-size",t.labelFontSize),l.select(`.${hn}`).text(i=>i.name),a.exit().remove()}_isItemClickable(t){return t.pointer===void 0?!0:t.pointer}_onItemClick(t,a){const{config:{onLegendItemClick:r}}=this,i=this.div.selectAll(`.${lr}`).nodes().indexOf(t.currentTarget);r&&r(a,i)}destroy(){this.element!==this._container&&this.div.remove()}}ll.selectors=eu;var bn;(function(e){e.Solid="solid",e.Dash="dash",e.DashDot="dashDot",e.Dot="dot",e.LongDash="longDash",e.LongDashDot="longDashDot",e.LongDashDotDot="longDashDotDot",e.ShortDash="shortDash",e.ShortDashDot="shortDashDot",e.ShortDashDotDot="shortDashDotDot",e.ShortDot="shortDot"})(bn||(bn={}));var te;(function(e){e.TopLeft="top-left",e.Top="top",e.TopRight="top-right",e.Right="right",e.BottomRight="bottom-right",e.Bottom="bottom",e.BottomLeft="bottom-left",e.Left="left"})(te||(te={}));var mr;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(mr||(mr={}));const tu=Object.assign(Object.assign({},hr),{color:void 0,curveType:ye.MonotoneX,baseline:()=>0,opacity:1,cursor:null,minHeight1Px:!1,minHeight:void 0}),il=we`
  label: area-component;
`,au=Ea`
  :root {
    --vis-area-cursor: default;
    --vis-area-fill-opacity: 1;
    --vis-area-stroke-color: none;
    --vis-area-stroke-width: 0px;
    --vis-area-stroke-dasharray: none;
    --vis-area-stroke-opacity: 1;
    --vis-area-hover-fill-opacity: none;
    --vis-area-hover-stroke-width: none;

    /* Dark Theme */
    --vis-dark-area-stroke-color: none;
  }

  body.theme-dark ${`.${il}`} {
    --vis-area-stroke-color: var(--vis-dark-area-stroke-color);
  }

`,kn=we`
  label: area;
  cursor: var(--vis-area-cursor);
  fill-opacity: var(--vis-area-fill-opacity);
  stroke-width: var(--vis-area-stroke-width);
  stroke-dasharray: var(--vis-area-stroke-dasharray);
  stroke: var(--vis-area-stroke-color);
  stroke-opacity: var(--vis-area-stroke-opacity);

  &:hover {
    fill-opacity: var(--vis-area-hover-fill-opacity);
    stroke-width: var(--vis-area-hover-stroke-width);
  }
`,ru=Object.freeze(Object.defineProperty({__proto__:null,area:kn,globalStyles:au,root:il},Symbol.toStringTag,{value:"Module"}));class Sr extends gr{constructor(t){super(),this._defaultConfig=tu,this.config=this._defaultConfig,this.stacked=!0,this.events={[Sr.selectors.area]:{}},t&&this.setConfig(t),this.stacked=Array.isArray(this.config.y)}_render(t){super._render(t);const{config:a,datamodel:{data:r}}=this,l=ya(t)?t:a.duration,i=cn[a.curveType];this._areaGen=Ji().x(V=>V.x).y0(V=>V.y0).y1(V=>V.y1).curve(i);const u=ir(a.y)?a.y:[a.y],o=r.map((V,k)=>this.xScale(Vt(V,a.x,k))),d=Oi(r,a.baseline,u,this._prevNegative);this._prevNegative=d.map(V=>!!V.isMostlyNegative);const C=[],p=d.map(V=>V.map((k,N)=>{var A,U;const Z=o[N],re=this.yScale(k[0]),G=this.yScale(k[1]),Q=G>re,ee=C[N]||0,ce=Q?re+ee:re-ee,ne=Q?G+ee:G-ee;let de=0;return(a.minHeight||a.minHeight1Px)&&Math.abs(ne-ce)<((A=a.minHeight)!==null&&A!==void 0?A:1)&&(de=((U=a.minHeight)!==null&&U!==void 0?U:1)-Math.abs(ne-ce),C[N]=ee+de),{x:Z,y0:ce,y1:Q?ne+de:ne-de}})),m=p.length-1,T=p.reverse(),O=this.g.selectAll(`.${kn}`).data(T),j=O.enter().append("path").attr("class",kn).attr("d",V=>this._areaGen(V)||this._emptyPath()).style("opacity",0).style("fill",(V,k)=>Gt(r,a.color,m-k)),B=Xe(j.merge(O),l).style("opacity",(V,k)=>V.some(A=>A.y0-A.y1!==0)?Vt(r,a.opacity,m-k):0).style("fill",(V,k)=>Gt(r,a.color,m-k)).style("cursor",(V,k)=>ja(r,a.cursor,m-k));l?B.attrTween("d",(k,N,A)=>{const U=xa(A[N]).attr("d"),Z=this._areaGen(k)||this._emptyPath();return Qs(U,Z)}):B.attr("d",V=>this._areaGen(V)||this._emptyPath()),Xe(O.exit(),l).style("opacity",0).remove()}getYDataExtent(t){const{config:a,datamodel:r}=this,l=ir(a.y)?a.y:[a.y],i=this.xScale.domain(),u=t?Di(r.data,i,a.x,!0):r.data;return zi(u,a.baseline,...l)}_emptyPath(){const t=this.xScale.range(),a=this.yScale.domain(),r=this.yScale((a[0]+a[1])/2),l=r;return this._areaGen([{y0:r,y1:l,x:t[0]},{y0:r,y1:l,x:t[1]}])}}Sr.selectors=ru;const nu={solid:"none",shortDash:"6,2",shortDot:"2,2",shortDashDot:"6,2,2,2",shortDashDotDot:"6,2,2,2,2,2",dot:"2,6",dash:"8,6",longDash:"16,6",dashDot:"8,6,2,6",longDashDot:"16,6,2,6",longDashDotDot:"16,6,2,6,2,6"},su={[te.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[te.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[te.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[te.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"start",dominantBaseline:"middle"}),[te.BottomRight]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[te.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[te.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[te.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"end",dominantBaseline:"middle"})},lu={[te.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-after-edge"}),[te.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"end",dominantBaseline:"middle"}),[te.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[te.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[te.BottomRight]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[te.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"middle"}),[te.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[te.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"middle",dominantBaseline:"text-after-edge"})},iu={[te.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-after-edge"}),[te.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[te.TopRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[te.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"middle"}),[te.BottomRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a+r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[te.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[te.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[te.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"start",dominantBaseline:"middle"})},ou={[te.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[te.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"start",dominantBaseline:"central"}),[te.TopRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[te.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[te.BottomRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a+r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[te.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"end",dominantBaseline:"central"}),[te.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[te.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"})},uu=Object.assign(Object.assign({},hr),{lineWidth:2,axis:rn.Y,value:0,duration:300,color:void 0,lineStyle:bn.Solid,labelPosition:te.TopRight,labelOffsetX:14,labelOffsetY:14,labelOrientation:mr.Horizontal}),cu=Ea`
  :root {
    --vis-plotline-color: rgb(226, 32, 58);
    --vis-plotline-width: 2;
    --vis-plotline-dasharray: none;
    --vis-plotline-stroke-dashoffset: 0;
    --vis-plotline-label-font-size: 12px;
    --vis-plotline-label-color: #000;

    --vis-dark-plotline-label-color: #e5e9f7;
  }

  body.theme-dark {
    --vis-plotline-label-color: var(--vis-dark-tooltip-text-color);
  }
`,du=we`
  label: plotline-component;
`,ol=we`
  label: plotline;
  transition: opacity 200ms;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke: var(--vis-plotline-color);
  stroke-width: var(--vis-plotline-width);
  stroke-dasharray: var(--vis-plotline-dasharray);
  stroke-dashoffset: var(--vis-plotline-stroke-dashoffset);
`,ul=we`
  label: plotline-label;
  text-anchor: middle;
  /* dominant-baseline: middle; */
  pointer-events: none;
  font-size: var(--vis-plotline-label-font-size);
  fill: var(--vis-plotline-label-color);
`,vu=Object.freeze(Object.defineProperty({__proto__:null,globalStyles:cu,label:ul,plotline:ol,root:du},Symbol.toStringTag,{value:"Module"}));class cl extends gr{constructor(t){super(),this._defaultConfig=uu,t&&this.setConfig(t),this.plotline=this.g.append("line").attr("class",ol),this.label=this.g.append("text").attr("class",ul)}_render(t){super._render(t);const{config:a}=this;this.value=a.value;let r;typeof a?.lineStyle=="string"?r=nu[a.lineStyle]:Array.isArray(a.lineStyle)?r=a.lineStyle.join(","):r="none",this.value=a.value,this.plotline.attr("stroke-opacity",1).style("stroke-width",a.lineWidth).style("stroke-dasharray",r).style("stroke",a.color);let l=0,i=0,u=0,o=0;if(a.axis===rn.Y?(u=this.yScale(this.value),o=this.yScale(this.value),l=0,i=this._width):(u=0,o=this._height,l=this.xScale(this.value),i=this.xScale(this.value)),Xe(this.plotline,a.duration).attr("x1",l).attr("x2",i).attr("y1",u).attr("y2",o),a.labelText){const d=this.computeLabel(a.axis,i,o,a.labelPosition,a.labelOffsetX,a.labelOffsetY,a.labelOrientation);this.label.text(a.labelText).attr("transform",d.transform).attr("dominant-baseline",d.dominantBaseline).style("fill",a.labelColor).style("text-anchor",d.textAnchor).style("font-size",a.labelSize?`${a.labelSize}px`:void 0),Xe(this.label,a.duration).attr("x",d.x).attr("y",d.y)}Xe(this.plotline.exit()).style("opacity",0).remove()}computeLabel(t,a,r,l,i,u,o){const d=o===mr.Vertical,C=d?-90:0;let p;t===rn.X?p=(d?lu:su)[l]({width:a,height:r,offsetX:i,offsetY:u}):p=(d?ou:iu)[l]({width:a,height:r,offsetX:i,offsetY:u});const m=C?`rotate(${C}, ${p.x}, ${p.y})`:"";return Object.assign(Object.assign({},p),{rotation:C,transform:m})}}cl.selectors=vu;const fu={"data-vis-component":""},Jr=ut({__name:"index",props:{color:{},curveType:{},baseline:{},opacity:{},cursor:{},minHeight1Px:{type:Boolean},minHeight:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=pr(br),r=e,l=g(()=>a.data.value??r.data),i=Na(r),u=L();return Mt(()=>{Yt(()=>{var o;u.value=new Sr(i.value),(o=u.value)==null||o.setData(l.value),a.update(u.value)})}),ua(()=>{var o;(o=u.value)==null||o.destroy(),a.destroy()}),X(i,(o,d)=>{var C;Ba(o,d)||(C=u.value)==null||C.setConfig(i.value)}),X(l,()=>{var o;(o=u.value)==null||o.setData(l.value)}),t({component:u}),(o,d)=>(h(),D("div",fu))}}),mu={"data-vis-component":""},pu=ut({__name:"index",props:{color:{},groupWidth:{},groupMaxWidth:{},dataStep:{},groupPadding:{},barPadding:{},roundedCorners:{type:[Number,Boolean]},barMinHeight:{},cursor:{},orientation:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=pr(br),r=e,l=g(()=>a.data.value??r.data),i=Na(r),u=L();return Mt(()=>{Yt(()=>{var o;u.value=new al(i.value),(o=u.value)==null||o.setData(l.value),a.update(u.value)})}),ua(()=>{var o;(o=u.value)==null||o.destroy(),a.destroy()}),X(i,(o,d)=>{var C;Ba(o,d)||(C=u.value)==null||C.setConfig(i.value)}),X(l,()=>{var o;(o=u.value)==null||o.setData(l.value)}),t({component:u}),(o,d)=>(h(),D("div",mu))}}),hu={"data-vis-component":""},bs=ut({__name:"index",props:{color:{},curveType:{},lineWidth:{},lineDashArray:{},fallbackValue:{},highlightOnHover:{type:Boolean},cursor:{},interpolateMissingData:{type:Boolean},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=pr(br),r=e,l=g(()=>a.data.value??r.data),i=Na(r),u=L();return Mt(()=>{Yt(()=>{var o;u.value=new wr(i.value),(o=u.value)==null||o.setData(l.value),a.update(u.value)})}),ua(()=>{var o;(o=u.value)==null||o.destroy(),a.destroy()}),X(i,(o,d)=>{var C;Ba(o,d)||(C=u.value)==null||C.setConfig(i.value)}),X(l,()=>{var o;(o=u.value)==null||o.setData(l.value)}),t({component:u}),(o,d)=>(h(),D("div",hu))}}),gu={"data-vis-component":""},bu=ut({__name:"index",props:{color:{},lineWidth:{},axis:{},value:{},duration:{},lineStyle:{},labelText:{},labelPosition:{},labelOffsetX:{},labelOffsetY:{},labelOrientation:{},labelColor:{},labelSize:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=pr(br),r=Na(e),l=L();return Mt(()=>{Yt(()=>{l.value=new cl(r.value),a.update(l.value)})}),ua(()=>{var i;(i=l.value)==null||i.destroy(),a.destroy()}),X(r,(i,u)=>{var o;Ba(i,u)||(o=l.value)==null||o.setConfig(r.value)}),t({component:l}),(i,u)=>(h(),D("div",gu))}}),ku=ut({__name:"index",props:{items:{},labelClassName:{},onLegendItemClick:{type:Function},labelFontSize:{},labelMaxWidth:{},bulletSize:{},bulletSpacing:{},bulletShape:{},orientation:{},renderIntoProvidedDomNode:{type:Boolean},data:{}},setup(e,{expose:t}){const a=e;g(()=>a.data);const r=Na(a),l=L(),i=L();return Mt(()=>{Yt(()=>{i.value&&(l.value=new ll(i.value,{...r.value,renderIntoProvidedDomNode:!0}))})}),ua(()=>{var u;(u=l.value)==null||u.destroy()}),X(r,(u,o)=>{var d;Ba(u,o)||(d=l.value)==null||d.update(r.value)}),t({component:l}),(u,o)=>(h(),D("div",{"data-vis-bullet-legend":"",ref_key:"elRef",ref:i},null,512))}});var yu=typeof global=="object"&&global&&global.Object===Object&&global,_u=typeof self=="object"&&self&&self.Object===Object&&self,xu=yu||_u||Function("return this")(),wa=xu.Symbol,dl=Object.prototype,wu=dl.hasOwnProperty,Su=dl.toString,Fa=wa?wa.toStringTag:void 0;function Tu(e){var t=wu.call(e,Fa),a=e[Fa];try{e[Fa]=void 0;var r=!0}catch{}var l=Su.call(e);return r&&(t?e[Fa]=a:delete e[Fa]),l}var Cu=Object.prototype,Au=Cu.toString;function Vu(e){return Au.call(e)}var Lu="[object Null]",Mu="[object Undefined]",ks=wa?wa.toStringTag:void 0;function Fu(e){return e==null?e===void 0?Mu:Lu:ks&&ks in Object(e)?Tu(e):Vu(e)}function Ou(e){return e!=null&&typeof e=="object"}var Du="[object Symbol]";function zu(e){return typeof e=="symbol"||Ou(e)&&Fu(e)==Du}function $u(e,t){for(var a=-1,r=e==null?0:e.length,l=Array(r);++a<r;)l[a]=t(e[a],a,e);return l}var ju=Array.isArray,ys=wa?wa.prototype:void 0,_s=ys?ys.toString:void 0;function vl(e){if(typeof e=="string")return e;if(ju(e))return $u(e,vl)+"";if(zu(e))return _s?_s.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function fl(e){return e==null?"":vl(e)}function Eu(e,t,a){var r=-1,l=e.length;t<0&&(t=-t>l?0:l+t),a=a>l?l:a,a<0&&(a+=l),l=t>a?0:a-t>>>0,t>>>=0;for(var i=Array(l);++r<l;)i[r]=e[r+t];return i}function Nu(e,t,a){var r=e.length;return a=a===void 0?r:a,!t&&a>=r?e:Eu(e,t,a)}var Bu="\\ud800-\\udfff",Ru="\\u0300-\\u036f",Pu="\\ufe20-\\ufe2f",Uu="\\u20d0-\\u20ff",Iu=Ru+Pu+Uu,Hu="\\ufe0e\\ufe0f",qu="\\u200d",Wu=RegExp("["+qu+Bu+Iu+Hu+"]");function ml(e){return Wu.test(e)}function Gu(e){return e.split("")}var pl="\\ud800-\\udfff",Yu="\\u0300-\\u036f",Zu="\\ufe20-\\ufe2f",Ku="\\u20d0-\\u20ff",Xu=Yu+Zu+Ku,Ju="\\ufe0e\\ufe0f",Qu="["+pl+"]",yn="["+Xu+"]",_n="\\ud83c[\\udffb-\\udfff]",ec="(?:"+yn+"|"+_n+")",hl="[^"+pl+"]",gl="(?:\\ud83c[\\udde6-\\uddff]){2}",bl="[\\ud800-\\udbff][\\udc00-\\udfff]",tc="\\u200d",kl=ec+"?",yl="["+Ju+"]?",ac="(?:"+tc+"(?:"+[hl,gl,bl].join("|")+")"+yl+kl+")*",rc=yl+kl+ac,nc="(?:"+[hl+yn+"?",yn,gl,bl,Qu].join("|")+")",sc=RegExp(_n+"(?="+_n+")|"+nc+rc,"g");function lc(e){return e.match(sc)||[]}function ic(e){return ml(e)?lc(e):Gu(e)}function oc(e){return function(t){t=fl(t);var a=ml(t)?ic(t):void 0,r=a?a[0]:t.charAt(0),l=a?Nu(a,1).join(""):t.slice(1);return r[e]()+l}}var uc=oc("toUpperCase");function xs(e){return uc(fl(e).toLowerCase())}const cc=ut({__name:"ForestryChartDisplay",props:{selectedFrameworks:{default:()=>[]},selectedArtkategori:{},chartType:{},currentTimeValue:{},singleFrameworkSelection:{type:Boolean,default:!1},frameworkComparisonMode:{type:Boolean,default:!1},selectedStartskog:{},redColor:{type:Boolean,default:!1},yellowColor:{type:Boolean,default:!1},maxYValue:{},matsvampVariant:{default:"standard"}},async setup(e){let t,a;const{data:r}=([t,a]=He(()=>Re("matsvamp-skogsbruk",()=>qe("matsvampSkogsbruk").first())),t=await t,a(),t),{data:l}=([t,a]=He(()=>Re("goda-matsvampar-skogsbruk",()=>qe("godaMatsvamparSkogsbruk").first())),t=await t,a(),t),{data:i}=([t,a]=He(()=>Re("kg-matsvamp-skogsbruk",()=>qe("kgMatsvampSkogsbruk").first())),t=await t,a(),t),{data:u}=([t,a]=He(()=>Re("signal-rodlistade-skogsbruk",()=>qe("signalRodlistadeSkogsbruk").first())),t=await t,a(),t),{data:o}=([t,a]=He(()=>Re("atheliales-skogsbruk",()=>qe("athelialesSkogsbruk").first())),t=await t,a(),t),{data:d}=([t,a]=He(()=>Re("boletales-skogsbruk",()=>qe("boletalesSkogsbruk").first())),t=await t,a(),t),{data:C}=([t,a]=He(()=>Re("cantharellales-skogsbruk",()=>qe("cantharellalesSkogsbruk").first())),t=await t,a(),t),{data:p}=([t,a]=He(()=>Re("spindlingar-skogsbruk",()=>qe("spindlingarSkogsbruk").first())),t=await t,a(),t),{data:m}=([t,a]=He(()=>Re("russulales-skogsbruk",()=>qe("russulalesSkogsbruk").first())),t=await t,a(),t),{data:T}=([t,a]=He(()=>Re("thelephorales-skogsbruk",()=>qe("thelephoralesSkogsbruk").first())),t=await t,a(),t),{data:O}=([t,a]=He(()=>Re("ascomycota-skogsbruk",()=>qe("ascomycotaSkogsbruk").first())),t=await t,a(),t),{data:j}=([t,a]=He(()=>Re("total-svampar-skogsbruk",()=>qe("totalSvamparSkogsbruk").first())),t=await t,a(),t),B=g(()=>Array.isArray(r.value?.entries)?r.value.entries:[]),V=g(()=>Array.isArray(l.value?.entries)?l.value.entries:[]),k=g(()=>Array.isArray(i.value?.entries)?i.value.entries:[]),N=g(()=>Array.isArray(u.value?.entries)?u.value.entries:[]),A=g(()=>Array.isArray(N.value)?N.value:[]),U=g(()=>Array.isArray(o.value?.entries)?o.value.entries:[]),Z=g(()=>Array.isArray(d.value?.entries)?d.value.entries:[]),re=g(()=>Array.isArray(C.value?.entries)?C.value.entries:[]),G=g(()=>Array.isArray(p.value?.entries)?p.value.entries:[]),Q=g(()=>Array.isArray(m.value?.entries)?m.value.entries:[]),ee=g(()=>Array.isArray(T.value?.entries)?T.value.entries:[]),ce=g(()=>Array.isArray(O.value?.entries)?O.value.entries:[]),ne=g(()=>Array.isArray(j.value?.entries)?j.value.entries:[]),de=g(()=>{const f=Number(x.maxYValue);if(!(x.chartType==="area")||!_e.value)return Number.isFinite(f)?[0,f]:void 0;const M=Array.isArray(ot.value)?ot.value:[];if(!M.length)return Number.isFinite(f)?[0,f]:void 0;let b=-1/0;const F=q=>2*q-q/20,P=0;if(x.singleFrameworkSelection)if(x.frameworkComparisonMode){const q=le.value[0]||(x.selectedArtkategori?.[0]||"").toLowerCase(),ve=va.value||[];for(const ie of M)for(const me of ve){const Ve=ie?.[`${me}__compare`],vt=Number(Ve?.[q]);if(!Number.isFinite(vt))continue;const ea=F(vt);Number.isFinite(ea)&&(b=Math.max(b,ea))}}else{const q=le.value.length?le.value:(x.selectedArtkategori||[]).map(ve=>(ve||"").toLowerCase());for(const ve of M)for(const ie of q){const me=Number(ve?.[ie]);if(!Number.isFinite(me))continue;const Ve=F(me);Number.isFinite(Ve)&&(b=Math.max(b,Ve))}}else{const q=va.value||[];for(const ve of M)for(const ie of q){const me=Number(ve?.[ie]);if(!Number.isFinite(me))continue;const Ve=F(me);Number.isFinite(Ve)&&(b=Math.max(b,Ve))}}if(!Number.isFinite(b))return Number.isFinite(f)?[0,f]:void 0;const R=Number.isFinite(f)?Math.max(f,b):b;return[P,R]}),K=g(()=>x.chartType==="bar"?Qt.value:x.singleFrameworkSelection&&x.frameworkComparisonMode?jt.value:Pa.value),J=g(()=>{const f=K.value.map(y=>Number(y?.age)).filter(y=>Number.isFinite(y));return f.length?[Math.min(...f),Math.max(...f)]:[0,1]});g(()=>[(x.selectedFrameworks||[]).join(","),x.selectedStartskog||"",x.chartType||"",x.singleFrameworkSelection?"S":"M",x.currentTimeValue||""].join("|"));const Ft=g(()=>Array.isArray(K.value)&&K.value.length>0),le=g(()=>{if(!x.singleFrameworkSelection)return[];if(x.frameworkComparisonMode){const f=x.selectedArtkategori?.[0];return f?[f.toLowerCase()]:[]}return(x.selectedArtkategori||[]).map(f=>(f||"").toLowerCase()).filter(f=>!Ce.value.has(f))}),ae={left:10,right:10,top:10,bottom:10},Se=L(null),Te=L(!1);let ge=null;Mt(async()=>{await Yt(),Te.value=!0,requestAnimationFrame(()=>{Se.value?.offsetWidth}),typeof window<"u"&&"ResizeObserver"in window&&(ge=new ResizeObserver(()=>{Se.value?.offsetWidth}),Se.value&&ge.observe(Se.value))}),Vs(()=>{ge&&(ge.disconnect(),ge=null)});const Ce=L(new Set),fe=L(new Set),x=e,be=g(()=>x.matsvampVariant==="goda"?"goda":x.matsvampVariant==="kg"?"kg":"standard"),Fe=g(()=>be.value==="goda"?"goda matsvampar":be.value==="kg"?"kg matsvamp":"matsvamp"),_e=g(()=>(x.selectedArtkategori||[]).map(y=>(y||"").toLowerCase()).includes("matsvamp")&&be.value==="kg"),Ae=f=>_e.value?2*f-f/20:f,Le=(f,y)=>{const M=Number(f?.[y]);return Number.isFinite(M)?Ae(M):NaN},Oe=(f,y)=>{const M=Number(f?.[y]);return Number.isFinite(M)?Ae(M):NaN},_t=(f,y,M)=>{const b=y+"__compare",F=Number(f?.[b]?.[M]);return Number.isFinite(F)?Ae(F):NaN},it=f=>(y,M)=>{if(!_e.value)return 0;const b=Number(y?.[f]);return Number.isFinite(b)?b/20:NaN},Ot=f=>(y,M)=>{if(!_e.value)return 0;const b=Jt.value,F=f+"__compare",P=y?.[F]?.[b],R=Number(P);return Number.isFinite(R)?R/20:NaN},Sa=(f,y)=>{if(!_e.value)return 0;const M=le.value[0]||x.selectedArtkategori[0]?.toLowerCase(),b=Number(f?.[M]);return Number.isFinite(b)?b/20:NaN};function Dt(f,y=1){const M=f.replace("#",""),b=M.length===3?M.split("").map(ve=>ve+ve).join(""):M,F=parseInt(b,16),P=F>>16&255,R=F>>8&255,q=F&255;return`rgba(${P}, ${R}, ${q}, ${y})`}g(()=>{const f={före:-5,efter:1,10:10,20:20,50:50,80:80};return[x.currentTimeValue?f[x.currentTimeValue]??J.value[0]:J.value[0],J.value[1]]});const xt={atheliales:"#8B5CF6",boletales:"#EC4899",cantharellales:"#0EA5E9",spindlingar:"#F97316",russulales:"#22C55E",thelephorales:"#A855F7",ascomycota:"#DC2626",matsvamp:"#eab308","goda matsvampar":"#eab308","kg matsvamp":"#eab308","rödlistade + signalarter":"#14b8a6",total:"#64748b"},Ra=["atheliales","boletales","cantharellales","spindlingar","russulales","thelephorales","ascomycota","matsvamp","goda matsvampar","rödlistade + signalarter","total"],Tr={atheliales:"Skinnsvampar (Atheliales)",boletales:"Soppar i vid bemärkelse (Boletales)",cantharellales:"Kantarellsläktingar (Cantharellales)",spindlingar:"Spindelskivlingar (Cortinarius)",russulales:"Kremlor & riskor (Russulales)",thelephorales:"Skinn- & taggsvampar (Theleophorales)",ascomycota:"Sporsäckssvampar (Ascomycota)",matsvamp:"Matsvampar","goda matsvampar":"Goda matsvampar","rödlistade + signalarter":"Rödlistade + signalarter",total:"Total"},ca=g(()=>(x.selectedArtkategori||[]).map(f=>(f||"").toLowerCase()));function da(f){const y=(f||"").toLowerCase();return y==="kg matsvampar"?"kg matsvamp":y}function Ne(f){if(!f)return xt.total;const y=da(f);return xt[y]||xt.total}const Pe=g(()=>x.singleFrameworkSelection&&!x.frameworkComparisonMode?le.value[0]||ca.value[0]||"total":ca.value[0]||"total"),zt=g(()=>Ne(Pe.value)),Kt=f=>f==="matsvamp"&&be.value==="goda"?"Goda matsvampar":f==="matsvamp"&&be.value==="kg"?"Kg matsvampar":Tr[f]||xs(f);function ct(f){const y=f.toLowerCase();return y==="naturskydd"?"Ingen åtgärd":y==="trakthygge"?"Trakhyggesbruk":y==="skärmträd"?"Överhållen skärm":xs(f)}const $e=["naturskydd","trakthygge","skärmträd","luckhuggning","blädning"],wt=g(()=>(x.selectedFrameworks||[]).map(f=>f.toLowerCase())),va=g(()=>wt.value.filter(f=>$e.includes(f)&&!fe.value.has(f))),Xt=g(()=>{const f={};for(const y of wt.value){const M=Ia(y).map(b=>({age:Number(b.age),value:Number(b.klassning)})).filter(b=>Number.isFinite(b.age)&&Number.isFinite(b.value)).sort((b,F)=>b.age-F.age);f[y]=M}return f}),fa=g(()=>{const f=Object.values(Xt.value);if(!f.length)return[];let y=1/0,M=-1/0;const b=new Set;for(const F of f)for(const P of F){const R=Number(P.age);Number.isFinite(R)&&(b.add(R),R<y&&(y=R),R>M&&(M=R))}if(!Number.isFinite(y)||!Number.isFinite(M))return[];for(let F=Math.floor(y);F<=Math.ceil(M)+1e-9;F+=1)b.add(Number(F.toFixed(6)));return Array.from(b).sort((F,P)=>F-P)});function ma(f,y){const M=f.findIndex(P=>P.age===y);if(M!==-1)return f[M].value;let b=-1,F=-1;for(let P=0;P<f.length;P++)if(f[P].age<y&&(b=P),f[P].age>y){F=P;break}if(b!==-1&&F!==-1){const P=f[b],R=f[F],q=(y-P.age)/(R.age-P.age);return P.value+q*(R.value-P.value)}}const Pa=g(()=>{const f=[];for(const y of fa.value){const M={age:y};if(x.singleFrameworkSelection&&!x.frameworkComparisonMode){const b=le.value.length?le.value:(x.selectedArtkategori||[]).map(P=>(P||"").toLowerCase()).filter(Boolean),F=$t.value;for(const P of b){const R=F[P]||[],q=ma(R,y);typeof q=="number"&&Number.isFinite(q)&&(M[P]=q)}}else for(const b of va.value){const F=Xt.value[b]||[],P=ma(F,y);typeof P=="number"&&Number.isFinite(P)&&(M[b]=P)}f.push(M)}return f}),$t=g(()=>{if(!(x.singleFrameworkSelection&&!x.frameworkComparisonMode))return{};const f={},y=le.value.length?le.value:(x.selectedArtkategori||[]).map(b=>(b||"").toLowerCase()).filter(Boolean),M=Array.isArray(Qt.value)?Qt.value:[];for(const b of M){const F=Number(b?.age);if(Number.isFinite(F))for(const P of y){const R=Number(b?.[P]);Number.isFinite(R)&&(f[P]=f[P]||[]).push({age:F,value:R})}}for(const b of Object.keys(f))f[b].sort((F,P)=>F.age-P.age);return f}),Jt=g(()=>le.value[0]||x.selectedArtkategori?.[0]?.toLowerCase()||""),jt=g(()=>{if(!(x.singleFrameworkSelection&&x.frameworkComparisonMode&&x.chartType==="area"))return[];const f=Jt.value;if(!f)return[];const y=fe.value,M=$e.filter(F=>x.selectedFrameworks.map(P=>P.toLowerCase()).includes(F)&&!y.has(F)),b=[];for(const F of fa.value){const P={age:F};let R=!1;for(const q of M){const ve=Xt.value[q]||[],ie=ma(ve,F);if(typeof ie=="number"&&Number.isFinite(ie)){const me=q+"__compare",Ve=P[me]||{};Ve[f]=ie,P[me]=Ve,R=!0}}R&&b.push(P)}return b});g(()=>{const f={},y=Array.isArray(Qt.value)?Qt.value:[];for(const M of va.value)f[M]=y.filter(b=>Number.isFinite(Number(b?.age))&&Number.isFinite(Number(b?.[M]))).map(b=>({age:Number(b.age),value:Number(b[M]),__row:b})).sort((b,F)=>b.age-F.age);return f});const dt=g(()=>{if(x.singleFrameworkSelection){if(x.frameworkComparisonMode){const R=$e.filter(ie=>x.selectedFrameworks.map(me=>me.toLowerCase()).includes(ie)),q=zt.value,ve=.5;return R.map(ie=>{const me=ct(ie),Ve=fe.value.has(ie);return{key:ie,name:me,label:me,color:q,colorArea:Dt(q,ve),colorLine:q,inactive:Ve}})}const b=le.value.length?le.value:ca.value,F=Ra.filter(R=>b.includes(R));return(F.length?F:b).map(R=>{const q=Ne(R);return{key:R,name:Kt(R),label:Kt(R),color:q,colorArea:q,colorLine:q,inactive:Ce.value.has(R)}})}const f=$e.filter(b=>x.selectedFrameworks.map(F=>F.toLowerCase()).includes(b)),y=zt.value,M=.5;return f.map(b=>{const F=ct(b),P=fe.value.has(b);return{key:b,name:F,label:F,color:y,colorArea:Dt(y,M),colorLine:y,inactive:P}})}),We=g(()=>x.singleFrameworkSelection&&!x.frameworkComparisonMode?[]:dt.value.filter(f=>!f.inactive));function Ua(f){return f==="total"?ne.value:f==="matsvamp"?be.value==="goda"?V.value:be.value==="kg"?k.value:B.value:f==="goda matsvampar"?V.value:f==="rödlistade + signalarter"?A.value:f==="atheliales"?U.value:f==="boletales"?Z.value:f==="cantharellales"?re.value:f==="spindlingar"?G.value:f==="russulales"?Q.value:f==="thelephorales"?ee.value:f==="ascomycota"?ce.value:[]}function Ta(f){const y=f.toLowerCase();return y==="matsvamp"?Fe.value:y}function Ia(f){const y=x.selectedArtkategori.map(F=>F.toLowerCase()),M=x.selectedStartskog?x.selectedStartskog.toLowerCase():null,b=[];return y.forEach(F=>{const P=Ta(F);(Ua(F)||[]).forEach(q=>{q.artkategori?.toLowerCase()===P&&q.frameworks?.toLowerCase()===f.toLowerCase()&&(M&&(q.startskog?.toLowerCase()??M)!==M||b.push({age:q.ålder,klassning:+q.klassning}))})}),b}const Qt=g(()=>{const f=new Map;if(x.singleFrameworkSelection){const y=x.frameworkComparisonMode?(x.selectedFrameworks||[]).map(M=>M.toLowerCase()).slice(0,2):[x.selectedFrameworks[0]?.toLowerCase()].filter(Boolean);x.selectedArtkategori.forEach(M=>{const b=M.toLowerCase(),F=Ua(b),P=x.selectedStartskog?x.selectedStartskog.toLowerCase():null,R=Ta(b);y.forEach(q=>{(F||[]).filter(ie=>{const me=ie.artkategori?.toLowerCase()===R,Ve=ie.frameworks?.toLowerCase()===q,vt=!P||(ie.startskog?.toLowerCase()??P)===P;return me&&Ve&&vt}).map(ie=>({age:ie.ålder,klassning:+ie.klassning})).forEach(ie=>{const me=f.get(ie.age)||{age:ie.age};if(x.frameworkComparisonMode){const Ve=`${q}__compare`,vt=me[Ve]||{};vt[b]=ie.klassning,me[Ve]=vt}else me[b]=ie.klassning;f.set(ie.age,me)})})})}else wt.value.forEach(y=>{Ia(y).forEach(b=>{const F=f.get(b.age)||{age:b.age};F[y]=b.klassning,f.set(b.age,F)})});return Array.from(f.values()).sort((y,M)=>y.age-M.age)}),Et=f=>{const y=Number(f?.age);return Number.isFinite(y)?y:void 0},Cr=g(()=>{if(x.singleFrameworkSelection){if(x.frameworkComparisonMode){const y=le.value[0]||x.selectedArtkategori[0]?.toLowerCase();return We.value.map(M=>{const b=M.key;return F=>{const R=F?.[`${b}__compare`]?.[y];return Number.isFinite(Number(R))?Number(R):NaN}})}return(le.value.length?le.value:x.selectedArtkategori.map(y=>y.toLowerCase())).filter(y=>!Ce.value.has(y)).map(y=>M=>M[y])}return We.value.map(f=>y=>y[f.key])}),Ar=g(()=>x.singleFrameworkSelection?x.frameworkComparisonMode?We.value.map(y=>Dt(y.colorLine||y.color,.7)||"#000000"):(le.value.length?le.value:x.selectedArtkategori.map(y=>y.toLowerCase())).filter(y=>!Ce.value.has(y)).map(y=>Ne(y)):We.value.map(f=>f.color||"#000000"));function Vr(f){const y=(f.key||f.name||"").toLowerCase();if(y)if(x.singleFrameworkSelection)if(x.frameworkComparisonMode){const M=new Set(fe.value);M.has(y)?M.delete(y):M.add(y),fe.value=M}else{const M=new Set(Ce.value);M.has(y)?M.delete(y):M.add(y),Ce.value=M}else{const M=$e.find(F=>F===y)||$e.find(F=>ct(F).toLowerCase()===y);if(!M)return;const b=new Set(fe.value);b.has(M)?b.delete(M):b.add(M),fe.value=b}}const Lr=g(()=>!x.singleFrameworkSelection||x.frameworkComparisonMode?[]:le.value.map(f=>y=>Oe(y,f))),Mr=g(()=>!x.singleFrameworkSelection||x.frameworkComparisonMode?[]:le.value.map(f=>Ne(f))),je=Da({age:0});function Fr(f){return f?Object.keys(f).filter(M=>M!=="age"&&M!=="__markerY").some(M=>{const b=f[M];return b&&typeof b=="object"?Object.values(b).some(F=>Number.isFinite(Number(F))):Number.isFinite(Number(b))}):!1}const Ha=g(()=>x.singleFrameworkSelection?x.frameworkComparisonMode?We.value.length:le.value.length:We.value.length),Je=g(()=>Ha.value>0),ot=g(()=>{const f=K.value;return Ha.value?f.filter(y=>Fr(y)):x.frameworkComparisonMode&&x.singleFrameworkSelection&&f.length?f.map(y=>{const M={age:y.age};for(const b of x.selectedFrameworks||[]){const F=b.toLowerCase();M[`${F}__compare`]={[le.value[0]||x.selectedArtkategori[0]?.toLowerCase()||""]:NaN}}return M}):f.length?f:[je]}),qa=f=>{if(!f)return"";const y=f.age;if(!Number.isFinite(Number(y)))return"";const b=y===-5?"före":y===1?"1 år":`${(R=>Number.isInteger(R)?`${R}`:`${R}`.replace(".5",",5"))(y)} år`;let F;if(x.singleFrameworkSelection)if(x.frameworkComparisonMode){const R=le.value[0]||x.selectedArtkategori[0]?.toLowerCase();F=We.value.map(q=>{const ve=q.key;return{key:`${ve}__compare`,label:ct(ve),color:q.color||"#999",category:R}})}else F=x.selectedArtkategori.map(R=>{const q=R.toLowerCase();return{key:q,label:Kt(q),color:Ne(q)}});else F=We.value.map(R=>({key:R.key,label:ct(R.key),color:R.color||"#999"}));const P=F.map(R=>{const q=x.singleFrameworkSelection&&x.frameworkComparisonMode?f?.[R.key]?.[R.category]:f[R.key];if(q==null)return"";const ve=typeof q=="number"?q>=10?Math.round(q).toString():q.toFixed(2):String(q);return`
        <div style="display:flex;align-items:center;gap:0.5rem;line-height:1.2;">
          <span style="display:inline-block;width:8px;height:8px;border-radius:50%;background:${R.color};"></span>
          <span>${R.label}: <strong>${ve}</strong></span>
        </div>`}).filter(Boolean).join("");return`
    <div style="min-width:120px">
      <div style="font-weight:600;margin-bottom:4px">${b}</div>
      ${P}
    </div>`};return(f,y)=>{const M=Zl;return h(),D("div",{class:"custom-area",ref_key:"rootEl",ref:Se,style:{"--vis-area-stroke-color":"none"}},[S(M,null,{default:$(()=>[Te.value&&Ft.value&&dt.value.length?(h(),I(z(ku),{key:0,items:dt.value,onLegendItemClick:Vr,class:"mx-4 flex flex-wrap gap-2"},null,8,["items"])):E("",!0),Te.value&&Ft.value?(h(),I(z($i),{key:1,data:ot.value.length?ot.value:[je],height:120,margin:ae,xDomain:J.value,yDomain:de.value},{default:$(()=>[x.chartType==="area"&&x.singleFrameworkSelection&&!x.frameworkComparisonMode?(h(),I(z(Jr),{key:0,duration:1,x:Et,y:Lr.value,color:Mr.value,interpolateMissingData:!0,baseline:Sa},null,8,["y","color"])):x.chartType==="area"&&x.singleFrameworkSelection&&x.frameworkComparisonMode?(h(),D(ze,{key:1},[(h(!0),D(ze,null,Ze(We.value,b=>(h(),I(z(Jr),{duration:1,key:b.key+"-compare-area",x:Et,y:F=>_t(F,b.key,Jt.value),baseline:Ot(b.key),color:()=>b.colorArea||b.color,interpolateMissingData:!0,zIndex:1},null,8,["y","baseline","color"]))),128)),(h(!0),D(ze,null,Ze(We.value,b=>(h(),I(z(bs),{key:b.key+"-compare-line",x:Et,y:F=>_t(F,b.key,Jt.value),color:()=>Dt(b.colorLine||b.color,.4),duration:1},null,8,["y","color"]))),128)),Je.value?(h(),I(z(is),{key:0,template:qa})):E("",!0),Je.value?(h(),I(z(ji),{key:1,horizontalShift:30})):E("",!0)],64)):x.chartType==="area"?(h(),D(ze,{key:2},[(h(!0),D(ze,null,Ze(We.value,b=>(h(),I(z(Jr),{duration:1,key:b.key+"-area",x:Et,y:F=>Le(F,b.key),baseline:it(b.key),color:()=>b.colorArea||b.color,interpolateMissingData:!0,zIndex:1},null,8,["y","baseline","color"]))),128)),Je.value?(h(),I(z(is),{key:0,template:qa})):E("",!0),(h(!0),D(ze,null,Ze(We.value,b=>(h(),I(z(bs),{key:b.key+"-line",x:Et,y:F=>Le(F,b.key),color:()=>Dt(b.colorLine||b.color,.4),duration:1},null,8,["y","color"]))),128)),Je.value?(h(),I(z(bu),{key:1,value:f.currentTimeValue,color:"rgba(220, 114, 0, 1)",axis:"x",labelOrientation:"vertical",zIndex:20},null,8,["value"])):E("",!0)],64)):x.chartType==="bar"?(h(),I(z(pu),{key:3,color:Ar.value,x:Et,y:Cr.value,groupPadding:.5,groupMaxWidth:20},null,8,["color","y"])):E("",!0),S(z(os),{tickTextFontSize:"12px",gridLine:!0,type:"x",tickValues:[0,10,20,30,40,50,60,70,80,90],tickFormat:b=>b===10||b===30||b===40||b===60||b===70||b===90?"":b},null,8,["tickFormat"]),S(z(os),{tickTextFontSize:"12px",type:"y"})]),_:1},8,["data","xDomain","yDomain"])):E("",!0)]),_:1})],512)}}}),dc=Object.assign(cc,{__name:"ForestryChartDisplay"}),vc={class:"mt-2 ml-2 flex justify-between"},fc={class:"flex items-center cursor-pointer w-fit hover:bg-muted px-2"},mc={class:"text-neutral-800 text-md font-semibold leading-loose pr-2 rounded-sm"},pc={class:"p-2 flex flex-col gap-2"},hc={key:0},gc={key:0,class:"text-base/7"},bc={key:1},kc={key:0,class:"text-base/7"},yc={key:2},_c={key:0,class:"text-base/7"},xc={class:"px-2 pb-2"},wc={key:3},Sc={key:0,class:"text-base/7"},Tc=ut({__name:"ForestryChartMain",props:{parentSelectedFrameworks:{},currentTimeValue:{},currentStartskog:{},selectedChart:{}},emits:["update:selectedChart"],setup(e,{expose:t,emit:a}){const r=e,l=a;L("naturskog"),L("naturskog"),L("naturskog");const i=L("trakthygge");L(!0),L(!1);const u=L(!1),o=L(!1),d=L(!1),C=L(!1),p=[{label:"Total mängd mykorrhizasvamp",value:"skogsskole"},{label:"Naturvårdsarter",value:"rodlistade"},{label:"Matsvampar",value:"matsvampar"},{label:"Olika svampgrupper",value:"grupper"}],m=L(p.some(G=>G.value===r.selectedChart)?r.selectedChart:p[0].value),T=g(()=>(r.parentSelectedFrameworks?.length??0)===2);function O(G){p.some(Q=>Q.value===G)&&(m.value=G)}t({setSelectedChart:O}),X(()=>r.selectedChart,G=>{typeof G=="string"&&p.some(Q=>Q.value===G)&&m.value!==G&&(m.value=G)}),X(m,G=>{l("update:selectedChart",G)});const j=[{label:"Naturskydd",value:"naturskydd"},{label:"Blädning",value:"blädning"},{label:"Trakthygge",value:"trakthygge"},{label:"Skärmträd",value:"skärmträd"},{label:"Luckhuggning",value:"luckhuggning"}],B=["atheliales","boletales","cantharellales","spindlingar","russulales","thelephorales","ascomycota"],V=L("area");L("area");const k=[{label:"Standard matsvampar",value:"standard"},{label:"Goda matsvampar",value:"goda"},{label:"Kg matsvampar",value:"kg"}],N=L("standard"),A=g(()=>N.value==="kg"?55:28);L(j.map(G=>G.value));const U=L([...B]),Z=[{label:"Atheliales",value:"atheliales"},{label:"Boletales",value:"boletales"},{label:"Cantharellales",value:"cantharellales"},{label:"Spindlingar",value:"spindlingar"},{label:"Russulales",value:"russulales"},{label:"Thelephorales",value:"thelephorales"},{label:"Sporsäckssvampar",value:"ascomycota"}],re=L(Z[0].value);return X([m,T],([G,Q])=>{G==="grupper"&&Q||(re.value=Z[0].value),G==="grupper"&&!Q&&(U.value=[...B])}),X(()=>r.parentSelectedFrameworks?.length,()=>{m.value==="grupper"&&T.value&&(re.value=Z[0].value)}),(G,Q)=>{const ee=Kl,ce=Sn,ne=Ls,de=Ds,K=dc;return h(),D("div",null,[v("div",vc,[S(ne,{content:{align:"start",side:"bottom",sideOffset:8}},{content:$(()=>[v("div",pc,[(h(),D(ze,null,Ze(p,J=>S(ce,{size:"lg",key:J.value,color:"neutral",variant:"ghost",onClick:Ft=>m.value=J.value},{default:$(()=>[Lt(Y(J.label),1)]),_:2},1032,["onClick"])),64))])]),default:$(()=>[v("div",fc,[v("h1",mc,Y(p.find(J=>J.value===m.value)?.label||"Välj diagram"),1),S(ee,{name:"i-heroicons-chevron-up-down",class:"size-4"})])]),_:1}),m.value==="grupper"&&T.value?(h(),I(de,{key:0,modelValue:re.value,"onUpdate:modelValue":Q[0]||(Q[0]=J=>re.value=J),items:Z,size:"sm",class:"w-56",placeholder:"Välj svampgrupp"},null,8,["modelValue"])):E("",!0)]),v("div",null,[m.value==="skogsskole"?(h(),D("div",hc,[u.value?(h(),D("p",gc," Vid trakthyggesbruk minskar mängden mykorrhizasvamp nästan till noll direkt efter avverkning. I takt med att träden växer upp etableras ett nytt svampsamhälle. När träden är mellan 40-70 år, är fotosyntesen som mest effektiv — vilket kan leda till att mängden mykorrhiza blir större än innan avverkningen. Överhållen skärm följer ett liknande mönster, men eftersom marken aldrig blir helt kal minskar svampmängden inte lika mycket. Blädning och luckhuggning innebär återkommande mindre ingrepp, där svampmängden sjunker något ungefär vart trettionde år men i övrigt hålls relativt stabil över tid. ")):E("",!0),S(K,{selectedFrameworks:r.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","blädning","skärmträd"],selectedArtkategori:["total"],chartType:V.value,maxYValue:130,currentTimeValue:r.currentTimeValue},null,8,["selectedFrameworks","chartType","currentTimeValue"])])):E("",!0),m.value==="rodlistade"?(h(),D("div",bc,[o.value?(h(),D("p",kc," Praesent elementum ut lacus a pharetra. Sed a malesuada mauris. Morbi et convallis libero. Aliquam vestibulum, felis eu fringilla elementum, nibh nunc tincidunt ex, quis vulputate nunc erat eu quam. Phasellus rutrum bibendum lacinia. Fusce aliquam aliquet lectus, eget gravida purus lobortis id. Curabitur viverra quam a risus sagittis maximus. ")):E("",!0),S(K,{selectedFrameworks:r.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","blädning","skärmträd"],selectedArtkategori:["rödlistade + signalarter"],chartType:V.value,selectedStartskog:r.currentStartskog,redColor:!0,maxYValue:.65,currentTimeValue:r.currentTimeValue},null,8,["selectedFrameworks","chartType","selectedStartskog","currentTimeValue"])])):E("",!0),m.value==="matsvampar"?(h(),D("div",yc,[d.value?(h(),D("p",_c," Praesent elementum ut lacus a pharetra. Sed a malesuada mauris. Morbi et convallis libero. Aliquam vestibulum, felis eu fringilla elementum, nibh nunc tincidunt ex, quis vulputate nunc erat eu quam. Phasellus rutrum bibendum lacinia. Fusce aliquam aliquet lectus, eget gravida purus lobortis id. Curabitur viverra quam a risus sagittis maximus. ")):E("",!0),v("div",xc,[S(de,{modelValue:N.value,"onUpdate:modelValue":Q[1]||(Q[1]=J=>N.value=J),items:k,size:"sm",class:"w-56",placeholder:"Välj dataset"},null,8,["modelValue"])]),S(K,{selectedFrameworks:r.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","blädning","skärmträd"],selectedArtkategori:["matsvamp"],chartType:V.value,selectedStartskog:r.currentStartskog,yellowColor:!0,maxYValue:A.value,currentTimeValue:r.currentTimeValue,matsvampVariant:N.value},null,8,["selectedFrameworks","chartType","selectedStartskog","maxYValue","currentTimeValue","matsvampVariant"])])):E("",!0),m.value==="grupper"?(h(),D("div",wc,[C.value?(h(),D("p",Sc," Praesent elementum ut lacus a pharetra. Sed a malesuada mauris. Morbi et convallis libero. Aliquam vestibulum, felis eu fringilla elementum, nibh nunc tincidunt ex, quis vulputate nunc erat eu quam. Phasellus rutrum bibendum lacinia. Fusce aliquam aliquet lectus, eget gravida purus lobortis id. Curabitur viverra quam a risus sagittis maximus. ")):E("",!0),S(K,{selectedFrameworks:r.parentSelectedFrameworks??[i.value],selectedArtkategori:T.value?[re.value]:U.value,frameworkComparisonMode:T.value,chartType:V.value,singleFrameworkSelection:!0,selectedStartskog:r.currentStartskog,currentTimeValue:r.currentTimeValue},null,8,["selectedFrameworks","selectedArtkategori","frameworkComparisonMode","chartType","selectedStartskog","currentTimeValue"])])):E("",!0)])])}}}),_l=Object.assign(Ms(Tc,[["__scopeId","data-v-2970acf5"]]),{__name:"ForestryChartMain"}),Cc={class:"absolute inset-0",style:{"z-index":"0"}},Ac={class:"flex h-full relative"},Vc={class:"absolute text-end right-3 top-2"},Lc={class:"absolute top-2 left-3"},Mc={key:1,class:"flex w-full h-full gap-1"},Fc={class:"w-1/2 h-full"},Oc={class:"w-1/2 h-full"},Dc={__name:"CustomImageComparisonSlider",props:{frameworkLabel:{type:String,default:""},timeLabel:{type:String,default:""},frameworkLabel2:{type:String,default:""},timeLabel2:{type:String,default:""},layoutMode:{type:String,default:"slider"}},setup(e,{expose:t}){Fs("(max-width: 767px)");const a=e,r=L(a.layoutMode);X(()=>a.layoutMode,O=>{(O==="slider"||O==="side-by-side"||O==="sideBySide")&&(r.value=O)});const l=L(null),i=L(.5);let u=!1;function o(O){if(!l.value)return;const j=l.value.getBoundingClientRect();let V=((O.touches?O.touches[0].clientX:O.clientX)-j.left)/j.width;V=Math.max(0,Math.min(V,1)),i.value=V}function d(O){r.value==="slider"&&(u=!0,o(O),window.addEventListener("mousemove",C),window.addEventListener("mouseup",p),window.addEventListener("touchmove",C),window.addEventListener("touchend",p))}function C(O){u&&o(O)}function p(){u=!1,window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",p),window.removeEventListener("touchmove",C),window.removeEventListener("touchend",p)}function m(){r.value=r.value==="slider"?"sideBySide":"slider"}function T(O){(O==="slider"||O==="sideBySide")&&(r.value=O)}return t({toggleLayoutMode:m,setLayoutMode:T}),Mt(()=>{i.value=.5}),(O,j)=>{const B=Tn;return r.value==="slider"?(h(),D("div",{key:0,ref_key:"container",ref:l,class:"relative w-full h-full overflow-hidden select-none"},[v("div",Cc,[Wt(O.$slots,"second")]),v("div",{class:"absolute inset-0 overflow-hidden",style:ls({clipPath:"inset(0 calc(100% - "+i.value*100+"%) 0 0)",zIndex:10})},[Wt(O.$slots,"first")],4),v("div",{class:"absolute top-0 flex items-center justify-center h-full w-10 cursor-ew-resize",style:ls({left:i.value*100+"%",transform:"translateX(-50%)",zIndex:20}),onMousedown:d,onTouchstart:d},[v("div",Ac,[v("div",Vc,[S(B,{size:"lg",class:"backdrop-blur-xl bg-neutral-950/50 text-neutral-100 h-fit whitespace-nowrap"},{default:$(()=>[Lt(Y(e.timeLabel),1)]),_:1})]),j[0]||(j[0]=v("div",{class:"h-full w-1.5 bg-neutral-100/90 backdrop-blur-md inset-shadow-sm inset-shadow-neutral-400"},null,-1)),v("div",Lc,[S(B,{size:"lg",class:"backdrop-blur-xl bg-neutral-950/50 text-neutral-100 h-fit whitespace-nowrap"},{default:$(()=>[Lt(Y(e.timeLabel2),1)]),_:1})])])],36)],512)):r.value==="sideBySide"?(h(),D("div",Mc,[v("div",Fc,[Wt(O.$slots,"first")]),v("div",Oc,[Wt(O.$slots,"second")])])):E("",!0)}}},zc=Cn("onboardingStore",{state:()=>({selectedStartskog:0,selectedFramework:1})}),$c=[{id:"manga_arter_pa_trad",title:"Många arter på ett träd",text:"På rötterna av äldre träd kan det finnas mycel av 50-100 olika arter mykorrhizasvampar.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["före"],placement:"LEFT"},{framework:["trakthygge"],times:["före"],placement:"LEFT"},{framework:["blädning"],times:["förr"],placement:"LEFT"},{framework:["skärmträd"],times:["före"],placement:"LEFT"},{framework:["luckhuggning"],times:["före"],placement:"LEFT"}]},{id:"mykorrhiza_dar_det_finns_rotter",title:"Mykorrhiza där det finns rötter",text:"Mykorrhizasvamparnas mycel finns lika djupt ner i marken som rötter når, och så långt träds rötter breder ut sig, 10-15 meter från stammen. Men det är rikligast med mykorrhiza närmast trädet och i de översta 10 cm av skogsmarken.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["före"],placement:"LEFT"},{framework:["trakthygge"],times:["före"],placement:"LEFT"},{framework:["blädning"],times:["förr"],placement:"LEFT"},{framework:["skärmträd"],times:["före"],placement:"LEFT"},{framework:["luckhuggning"],times:["före"],placement:"LEFT"}]},{id:"matsvampsmycel_kort_tid",title:"Matsvamp efter avverkning",text:"Nästan alla matsvampar är mykorrhizasvampar och försvinner efter avverkning. De överlever om dess mycel växer med hänsynsträd som lämnats eller nära en skogskant. Annars behöver de återetableras i ungskog från sporer som sprids in från näraliggande skogar.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["trakthygge"],times:["efter"],placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],placement:"LEFT"}]},{id:"matsvampsmycel_i_aldrre_skog",title:"Mer matsvamp i äldre skog",text:"Mängden matsvampar är större i äldre skog eftersom större träd har högre fotosyntes och kan skicka ner mer socker till sina rötter.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["före","efter","10","20","50","80"],placement:"LEFT"},{framework:["trakthygge"],times:["före","50","80"],placement:"LEFT"},{framework:["blädning"],times:["före","efter","10","20","50","80"],placement:"LEFT"},{framework:["skärmträd"],times:["före","50","80"],placement:"LEFT"},{framework:["luckhuggning"],times:["före","50","80"],placement:"LEFT"}]},{id:"mycel_av_rodlistade_svampar",title:"Rödlistade svampar",text:"Rödlistade mykorrhizasvampar har ofta speciella miljökrav, och förekommer främst i äldre skog. Generellt kan mycel av mykorrhizasvampar leva vidare på en plast så länge det finns levande träd. Svampindividers mycel kan bli många decennier till potentiellt sekler gamla.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-award-star-outline",color:"signal-500",positions:[{framework:["naturskydd"],times:["före","efter","10","20","50","80"],placement:"LEFT"},{framework:["trakthygge"],times:["före"],placement:"LEFT"},{framework:["blädning"],times:["före"],placement:"LEFT"},{framework:["skärmträd"],times:["före"],placement:"LEFT"},{framework:["luckhuggning"],times:["före"],placement:"LEFT"}]},{id:"hogstubbe",title:"Högstubbe",text:"Här finns inga levande mykorrhizamycel. Trädets rötter är döda.",thumbnail:"/images/Skogsbruk.png",icon:"i-fluent-emoji-high-contrast-wood",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter"],x:.51,y:.26,placement:"LEFT"},{framework:["trakthygge"],times:["efter"],x:.621,y:.3,placement:"LEFT"}]},{id:"stubbe",title:"Stubbe",text:"Trädets fotosyntes och flöde av energi till sina rötter har upphört. Efter avverkning tynar mykorrhizasvamparna bort och dör efter ett par månader - ett år.",thumbnail:"/images/Skogsbruk.png",icon:"i-fluent-emoji-high-contrast-wood",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter"],x:.422,y:.185,placement:"LEFT"},{framework:["trakthygge"],times:["efter"],x:.573,y:.32,placement:"LEFT"}]},{id:"hansynstrad",title:"Hänsynsträd",text:"De flesta mykorrhizasvamparna som växte med trädets rötter i skogen före avverkningen finns kvar och lever vidare. Dessa mycel kan växa in i och spridas till uppväxande trädplantor.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-tree-circle",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter","20","50","80"],x:.335,y:.38,placement:"LEFT"},{framework:["trakthygge"],times:["efter","20","50","80"],x:.4502,y:.2228,placement:"LEFT"},{framework:["skärmträd"],times:["20","50","80"],x:.469,y:.2577,placement:"LEFT"}]},{id:"grupp_av_hansynstrad",title:"Grupp av hänsynsträd",text:"De flesta mykorrhizasvampar som växte i denna trädgrupps rötter före avverkningen finns kvar och lever vidare. Fanns det mat- och naturvårdssvampar, kan de fortleva.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-tree-circle",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter","20","50","80"],x:.3736,y:.2832,placement:"LEFT"}]},{id:"sjalforyngrade_sma_tradplantor",title:"Självföryngrade trädplantor",text:"Små mycel av mykorrhizasvampar växer i plantornas rötter. Om de växer nära hänsynsträd kan mycel vuxint in från dessas rötter. Annars etableras mycel från svampsporer som sprid in från näraliggande skogar. Vissa svamparter har också en sporbank i marken.",thumbnail:"/images/Skogsbruk.png",icon:"i-hugeicons-plant-03",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.4344,y:.1971,placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],x:.4344,y:.1971,placement:"LEFT"}]},{id:"planterade_sma_tradplantor",title:"Planterade små trädplantor",text:"Har med sig spontant etablerad mykorrhiza från plantskolan där de odlades upp. Det är dock få arter. Dessa ersätts succesivt med bättre anpassade och svamparter som finns på platsen.",thumbnail:"/images/Skogsbruk.png",icon:"i-hugeicons-plant-02",color:"neutral-500",positions:[{framework:["trakthygge"],times:["20"],x:.45,y:.32,placement:"LEFT"}]},{id:"yngre_trad_vid_avverkningen",title:"Yngre träd som lämnats",text:"Undviks underröjning före avverkning, kommer mykorrhizasvampar att överleva på dessa plantor och träd på samma sätt som de gör på rötterna av hänsynsträd.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-seedling-circle",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.33,y:.37,placement:"LEFT"}]},{id:"tradkant_mot_avverkning",title:"Trädkant mot avverkning",text:"Mykorrhizasvampars mycel växer med i skogskantsträdens rötter så långt de sträcker sig in på avverkningen. Mest närmast skogskanten, men når 10–15 meter in på hygget.",thumbnail:"/images/Skogsbruk.png",icon:"i-healthicons-square-medium-negative",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter","20"],x:.46,y:.409,placement:"LEFT"},{framework:["luckhuggning"],times:["efter","20"],x:.64,y:.352,placement:"LEFT"},{framework:["luckhuggning"],times:["50"],x:.511,y:.3245,placement:"LEFT"},{framework:["luckhuggning"],times:["80"],x:.3278,y:.2383,placement:"LEFT"}]},{id:"tomma_omraden_avverkning",title:"Tomma områden ",text:"Vid områden utan nära träd och småplantor direkt efter avverkning finns inte mykorrhizasvampar. I mark där det saknas trädrötter finns inte mykorrhizasvampar. Några, men få mykorrhizasvampar har en sporbank.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.6095,y:.2081,placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],x:.485,y:.292,placement:"LEFT"}]}],jc={annotations:$c},Ec=Cn("selectedAnnotation",{state:()=>({selectedAnnotation:null}),actions:{setSelectedAnnotation(e){this.selectedAnnotation=e},clearSelectedAnnotation(){this.selectedAnnotation=null}}}),Nc=Cn("overlay",{state:()=>({staticOverlayVisible:!1}),actions:{toggleStaticOverlay(){this.staticOverlayVisible=!this.staticOverlayVisible},setStaticOverlayVisible(e){this.staticOverlayVisible=e}}}),xn={retention:{slug:"retention-trees",fields:{framework:"framework",startskog:"startskog",time:"time"}},seedTree:{slug:"seed-trees",fields:{framework:"framework",startskog:"startskog",time:"time"}},smaplantor:{slug:"smaplantor",fields:{framework:"framework",startskog:"startskog",time:"time"}},hogstubbar:{slug:"hogstubbar",fields:{framework:"framework",startskog:"startskog",time:"time"}},naturvardsarter:{slug:"naturvard",fields:{framework:"framework",startskog:"startskog",time:"time"}},kanteffekt:{slug:"kanteffekt",fields:{framework:"framework",startskog:null,time:"start"}}},Qr=Object.keys(xn);function $a(e){return e?e.replace(/_+$/g,""):e??null}function en(e,t,a=!0){if(!t)return!1;if(e==null)return!0;const r=$a(t);return Array.isArray(e)?a&&e.includes("alla")||e.some(l=>$a(String(l))===r):typeof e=="string"?a&&e==="alla"?!0:$a(e)===r:!1}function ws(e,t,a,r={}){const{ignoreStartskog:l=!1}=r,{fields:i}=a;return e.filter(u=>{if(!u)return!1;if(i.framework){const o=u[i.framework];if(!en(o,t.framework,!1))return!1}if(i.startskog&&!l&&t.startskog){const o=u[i.startskog];if(!en(o,t.startskog,!0))return!1}if(i.time){const o=u[i.time];if(!en(o,t.time,!0))return!1}return!0})}function Bc(e,t,a){if(!Array.isArray(e)||e.length===0)return[];if(!t?.framework||!t?.time)return e;const r={framework:$a(t.framework),startskog:$a(t.startskog),time:t.time};let l=ws(e,r,a);return l.length===0&&a.fields.startskog&&r.startskog&&(l=ws(e,r,a,{ignoreStartskog:!0})),l}const Rc=["innan","efter","10 år","20 år","50 år","80 år"],Pc={retention:!0,kanteffekt:!0,rottacke:!0,seedTree:!0,smaplantor:!0,hogstubbar:!0,naturvardsarter:!0,tradplantor:!0};function Uc(e){const t=e.framework,a=e.time;if(!t||!a)return!0;const r=t==="skärmträd"||t==="skarmtrad",l=t==="blädning"||t==="bladning",i=r&&a==="efter",u=l&&["efter","20 år","50 år","80 år"].includes(a);return i||u}function Ic(e){const t=e.framework,a=e.time;return!t||!a?!0:t==="trakthygge"&&a==="20 år"}async function ka(e){try{return await $fetch(e)}catch{return null}}function Hc(e){switch(e){case"blädning":return["blädning","bladning"];case"skärmträd":return["skärmträd","skarmtrad"];default:return[e]}}function qc(e){if(!e||typeof e!="object")return[];const t=Array.isArray(e.points)?e.points:[],a=new Map;t.length&&t.forEach(T=>{T?.id!=null&&a.set(T.id,T)});const r=e.startskogSets??null,l=e.markers??{},i=e.defaults??{},u=e.frameworks??{},o=Array.isArray(e.timelineOrder)?[...e.timelineOrder]:[...Rc],d=new Set(o);Object.values(u).forEach(T=>{!T||typeof T!="object"||Object.values(T).forEach(O=>{Array.isArray(O)&&O.forEach(j=>{const B=j?.time;B&&!d.has(B)&&(d.add(B),o.push(B))})})});const C=o,p=new Map;t.length&&r&&typeof r=="object"?Object.entries(r).forEach(([T,O])=>{const j=new Map;Array.isArray(O)&&O.forEach(B=>{const V=a.get(B);V&&j.set(B,V)}),p.set(T,j)}):Object.entries(l).forEach(([T,O])=>{const j=new Map;Array.isArray(O)&&O.forEach(B=>{B?.id!=null&&j.set(B.id,B)}),p.set(T,j)});const m=[];return Object.entries(u).forEach(([T,O])=>{const j=Hc(T),B=O??{};p.forEach((V,k)=>{if(!V||V.size===0)return;const N=Array.from(V.keys()),A=Array.isArray(i[k])?i[k]:N;let U=new Set(A),Z=new Set;const re=Array.isArray(B[k])?B[k]:[],G=new Map;re.forEach(Q=>{Q?.time&&G.set(Q.time,Q)}),C.forEach(Q=>{let ee=new Set(U);const ce=G.get(Q);ce&&(ce.set&&(ce.set==="base"?ee=new Set(A):ce.set==="all"?ee=new Set(N):Array.isArray(ce.set)&&(ee=new Set(ce.set))),Array.isArray(ce.remove)&&ce.remove.forEach(ne=>{ee.delete(ne),Z.add(ne)}),Array.isArray(ce.add)&&ce.add.forEach(ne=>{ee.add(ne),Z.delete(ne)})),U.forEach(ne=>{ee.has(ne)||Z.add(ne)}),ee.forEach(ne=>{Z.has(ne)&&Z.delete(ne)}),j.forEach(ne=>{ee.forEach(de=>{const K=V.get(de)||a.get(de);K&&m.push({id:K.id,x:K.x,y:K.y,framework:ne,startskog:k,time:Q,removed:!1})}),Z.forEach(de=>{const K=V.get(de)||a.get(de);K&&m.push({id:K.id,x:K.x,y:K.y,framework:ne,startskog:k,time:Q,removed:!0})})}),U=new Set(ee)})})}),m}function Wc(e){return e?Array.isArray(e.mycelium)?e.mycelium:e.markers&&e.frameworks||e.points&&e.startskogSets&&e.frameworks?qc(e):[]:[]}async function Gc(){const e=["/småplantor.json","/småplantor.json"];for(const t of e){const a=await ka(t);if(a)return a}return null}function Yc(){const{data:e,pending:t}=Re("overlay-datasets-json",async()=>{const[o,d,C,p,m,T]=await Promise.all([ka("/retentionTrees.json"),ka("/api/seedTrees"),Gc(),ka("/hogstubbar.json"),ka("/naturvard.json"),ka("/api/kanteffekt")]);return{"retention-trees":Array.isArray(o?.trees)?o.trees:[],"seed-trees":Array.isArray(d?.trees)?d.trees:[],smaplantor:Array.isArray(C?.trees)?C.trees:Array.isArray(C)?C:[],hogstubbar:Array.isArray(p?.stubbar)?p.stubbar:[],naturvard:Wc(m),kanteffekt:Array.isArray(T?.features)?T.features:[]}}),a={};Qr.forEach(o=>{const d=xn[o].slug;a[o]={data:g(()=>e.value?.[d]??[]),pending:g(()=>t.value)}});const r=(o,d)=>Bc(a[o].data.value,d,xn[o]),l=o=>{const d={};return Qr.forEach(C=>{d[C]=r(C,o)}),d},i=o=>{if(!o?.framework||!o?.time||!o?.startskog)return{...Pc};const d=l(o);return{retention:a.retention.pending.value||d.retention.length>0,kanteffekt:a.kanteffekt.pending.value||d.kanteffekt.length>0,rottacke:Uc(o),seedTree:a.seedTree.pending.value||d.seedTree.length>0,smaplantor:a.smaplantor.pending.value||d.smaplantor.length>0,hogstubbar:a.hogstubbar.pending.value||d.hogstubbar.length>0,naturvardsarter:a.naturvardsarter.pending.value||d.naturvardsarter.length>0,tradplantor:Ic(o)}},u=g(()=>t.value||Qr.some(o=>a[o].pending.value));return{datasets:a,filterDataset:r,filterAll:l,availabilityFor:i,pendingAny:u}}const la=Da({open:!1,key:null,anchor:null});function Zc(e){if(e instanceof HTMLElement){const t=e.getBoundingClientRect();return{x:t.left,y:t.top,width:t.width,height:t.height}}return e}function Kc(){function e(a,r){const l=Zc(r);la.key=a,la.anchor=l,la.open=!0}function t(){la.open=!1,la.key=null,la.anchor=null}return{...Ts(la),show:e,hide:t}}const Xc={class:"relative flex flex-col w-full h-dvh"},Jc={class:"space-y-0.5 p-3"},Qc={class:"grid grid-cols-2 gap-2"},ed={class:"flex flex-col text-center items-center w-full space-y-1"},td={class:"flex flex-col text-center items-center w-full space-y-1"},ad={class:"p-3 flex flex-col gap-3"},rd={class:"flex items-center justify-between gap-3"},nd={class:"flex flex-wrap gap-1"},sd={class:"w-full sm:flex items-center justify-center border-muted sm:p-1"},ld={class:"flex w-full sm:w-fit h-fit justify-center p-0 pb-0 sm:pb-0 items-center"},id={key:0,class:"absolute top-3 right-3"},od={class:"flex justify-center sm:p-1 border-b border-muted"},ud={class:"absolute top-3 left-3 flex flex-col gap-1 pointer-events-auto"},cd={class:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-50 p-4 sm:p-0 space-y-2 sm:space-y-0 pointer-events-none sm:flex gap-2 items-center"},dd={class:"relative"},vd={key:0,class:""},fd={class:"space-y-2"},md=["innerHTML"],pd={class:"space-y-2"},hd=["innerHTML"],gd={key:1,class:"text-sm text-neutral-400"},bd={key:1,class:"sm:hidden"},kd={class:"flex items-center justify-between gap-3"},yd={class:"text-sm font-medium text-neutral-700"},_d={key:0},xd={class:"space-y-2"},wd=["innerHTML"],Sd={class:"space-y-2"},Td=["innerHTML"],Cd={key:1,class:"text-sm text-neutral-400"},Ad={class:"flex items-start justify-between gap-3"},Vd={class:"flex items-start gap-2"},Ld={class:"text-base font-semibold text-neutral-800"},Md={class:"flex gap-1"},Fd={class:"text-sm text-neutral-600 leading-relaxed"},Od={class:"flex sm:justify-center items-center overflow-x-scroll md:overflow-hidden my-1 sm:my-0 gap-4 px-3"},Dd={class:"p-1 flex flex-col gap-1"},zd={class:"ui-zoom-reapply relative flex flex-col flex-1 w-full"},$d={class:"flex flex-1"},jd={class:"absolute top-3 left-3 z-50"},Ed={key:0,class:"space-y-1.5 sm:p-4 p-2 pt-3 max-w-sm z-50 absolute top-0 right-0 transform-all text-end pointer-events-none"},Nd={class:"flex items-center gap-1"},Bd={class:"p-3 space-y-2"},Rd={class:"flex w-full justify-between"},Pd={class:"flex items-start gap-2"},Ud={class:"text-sm font-semibold text-neutral-800"},Id={key:0,class:"text-sm text-neutral-600 leading-relaxed"},Hd={key:1,class:"text-xs text-neutral-400"},qd={key:0,class:"absolute p-2 w-full"},Wd={class:"flex justify-between p-2 items-center mb-2"},Gd={class:"flex items-center justify-between gap-2"},Yd={class:"flex items-center gap-1"},Zd={class:"min-w-[3ch] text-sm text-neutral-700 dark:text-neutral-200 text-center"},Kd={key:0,class:"space-y-2 w-full"},Xd={class:"flex flex-col"},Jd={class:"text-md font-medium"},Qd={key:0,class:"text-sm text-neutral-500"},ev={class:"flex flex-col"},tv={class:"text-md font-medium"},av={key:0,class:"text-sm text-neutral-500"},rv={class:"flex flex-col"},nv={class:"text-md font-medium"},sv={key:0,class:"text-sm text-neutral-500"},lv={class:"w-full mt-1 relative"},iv={class:""},ov={class:"space-y-2"},uv={class:"relative flex-1"},cv={key:0,class:"w-full h-full"},dv={key:0,class:"absolute inset-y-0 right-0 w-68 bg-white dark:bg-neutral-950/70 backdrop-blur-2xl overflow-auto z-10 pointer-events-auto border-neutral-300 dark:border-neutral-700 border-l"},vv={class:"px-4 py-2"},fv={class:"text-lg font-semibold text-neutral-800 dark:text-neutral-200"},mv={class:"text-neutral-400"},pv={key:1,class:he(["absolute max-h-screen z-50 top-0 w-sm left-0 overflow-auto transition-all shadow-2xl border-r bg-white border-neutral-100/10 rounded-br-sm duration-300 ease-in-out backdrop-blur-2xl hide-scrollbar"])},hv={class:"p-4"},gv={key:0},bv={class:"text-xl font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},kv={class:"p-2 flex flex-col gap-2"},yv=["onClick"],_v={class:"font-medium"},xv={class:"text-sm text-neutral-300"},wv={class:"flex justify-between"},Sv={class:"text-md text-neutral-200"},Tv={key:0,class:"my-4"},Cv=["innerHTML"],Av=["innerHTML"],Vv={key:1,class:"my-4 text-neutral-300 text-sm"},Lv={key:1,class:"space-y-2"},Mv={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},Fv={class:"p-2 flex flex-col gap-2"},Ov=["onClick"],Dv={class:"font-medium"},zv={class:"text-sm text-neutral-300"},$v={class:"flex justify-between"},jv={key:0,class:"my-4"},Ev=["innerHTML"],Nv=["innerHTML"],Bv={class:"flex justify-between"},Rv={class:"text-md text-neutral-200"},Pv={key:0,class:"my-4"},Uv=["innerHTML"],Iv=["innerHTML"],Hv={key:2,class:"space-y-2"},qv={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},Wv={class:"p-2 flex flex-col gap-2"},Gv=["onClick"],Yv={class:"font-medium"},Zv={class:"text-sm text-neutral-300"},Kv={class:"flex justify-between"},Xv={class:"text-md text-neutral-200"},Jv={key:0,class:"my-4"},Qv=["innerHTML"],ef=["innerHTML"],tf={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},af={class:"p-2 flex flex-col gap-2"},rf=["onClick"],nf={class:"font-medium"},sf={class:"text-sm text-neutral-300"},lf={class:"flex justify-between"},of={class:"text-md text-neutral-200"},uf={key:0,class:"my-4"},cf=["innerHTML"],df=["innerHTML"],vf={class:"grid grid-cols-2 gap-4"},ff={class:"w-full"},mf={class:"w-full"},tn="rodlistade",pf=220,Ss="Ingen tidslinjeinformation hittades för den här kombinationen.",hf=ut({__name:"Model",emits:["close"],async setup(e,{emit:t}){let a,r;const l=ri(()=>si(()=>import("./BuGUMZQD.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url));let i;const u=Da({}),o=Yc(),{hide:d}=Kc(),C=L(null);function p(s){if(!s)return null;if(typeof s=="string")return s;if(typeof s=="object"){if("value"in s&&typeof s.value=="string")return s.value;if("framework"in s&&typeof s.framework=="string")return s.framework;if("label"in s&&typeof s.label=="string")return s.label}return String(s??"")}const m={retention:()=>!!Te.value,kanteffekt:()=>!!ge.value,omkringSkog:()=>!!Ce.value,rottackeSkarmtrad:()=>!!be.value,rottackeBladning:()=>!!Fe.value,seedTree:()=>!!_e.value,smaplantor:()=>!!Ae.value,hogstubbar:()=>!!Le.value,naturvardsarter:()=>!!x.value,tradplantor:()=>!!Oe.value};function T(s,n){const w=m[s];if(w&&!w())return!1;const _=p(n.framework)||"",H=typeof n.time=="string"?n.time:p(n.time);if(s==="rottackeSkarmtrad")return(_==="skärmträd"||_==="skarmtrad")&&H==="efter";if(s==="rottackeBladning")return _==="blädning"||_==="bladning"?H==="efter"||H==="20 år"||H==="50 år"||H==="80 år":!1;if(s==="omkringSkog")try{const ue=o.availabilityFor({framework:_,startskog:p(n.startskog),time:H});return!!(ue&&ue.kanteffekt)}catch{return!1}try{const ue=o.availabilityFor({framework:_,startskog:p(n.startskog),time:H});return!!(ue&&ue[s])}catch{return!1}}const O=g(()=>{const s=[],n=p(W?.value??W),w=p(De?.value??De),_=se?.value??se,H=Ie;return ke.value?(s.push({framework:n,startskog:_?.value??_,time:"innan"}),s.push({framework:n,startskog:_?.value??_,time:H})):pe.value?(s.push({framework:n,startskog:_?.value??_,time:H}),s.push({framework:w,startskog:_?.value??_,time:H})):s.push({framework:n,startskog:_?.value??_,time:H}),s});function j(s){const n=O.value;for(const w of n)if(T(s,w))return!0;return!1}const[B,V]=Xl(),k=Fs("(max-width: 767px)"),N=[{label:"Text",icon:"i-heroicons-book-open",slot:"text",value:"text"},{label:"Diagram",icon:"i-carbon-chart-line-smooth",slot:"diagram",value:"diagram"}],{public:{dziBaseUrl:A="https://assets.svampskog.se/dzi_v2",dziVersionSuffix:U=""}={}}=Jl(),Z=A,re=U;function G(s){return s?s.toString().toLowerCase().replace(/å/g,"a").replace(/ä/g,"a").replace(/ö/g,"o").replace(/[^a-z0-9_-]/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,""):""}function Q({framework:s,timeLabel:n,fungiVisibility:w,treeVisibility:_,startskog:H}){const Ht=[s,n,w,_,H].map(xe=>G(xe)).filter(Boolean).join("_"),qt=G(re);return qt?`${Ht}_${qt}`:Ht}function ee(s){return`${Z}/${Q(s)}.dzi`}const{data:ce}=([a,r]=He(()=>Re("forestry-timeline-modelc",()=>qe("forestryTimelines").first())),a=await a,r(),a),ne=g(()=>{const s=ce.value;if(!s)return[];if(Array.isArray(s)){const n=s.find(w=>w?.id==="skogsskotsel")||s[0];return Array.isArray(n?.entries)?n.entries:[]}return Array.isArray(s.entries)?s.entries:[]}),de=L(!1),K=L("beforeAfterCompare"),J=L("slider"),Ft=t,le=L(!1),ae=L(!1),Se=L(!1),Te=L(!1),ge=L(!1),Ce=L(!1),fe=L(!1),x=L(!1),be=L(!1),Fe=L(!1),_e=L(!1),Ae=L(!1),Le=L(!1),Oe=L(!1),_t=L(1),it=L(!1),Ot=L(!1);function Sa(){it.value=!it.value}function Dt(){Ot.value=!Ot.value}const xt=["retention","kanteffekt","omkringSkog","rottackeSkarmtrad","rottackeBladning","seedTree","smaplantor","hogstubbar","naturvardsarter","tradplantor"],Ra=L([]);function Tr(s,n){const w=Ra.value,_=w.indexOf(s);n?(_!==-1&&w.splice(_,1),w.push(s)):_!==-1&&w.splice(_,1)}const ca=Nc(),da=g({get:()=>ca.staticOverlayVisible,set:s=>ca.setStaticOverlayVisible(s)}),Ne=L(!1),Pe=L(null);L(!1);const zt=L(!1),Kt=L("skogsskole"),ct=L(!1),$e=L(!1),wt=L("text");function va(){wt.value="diagram",$e.value=!0;try{k.value||d?.()}catch{}}const Xt=g({get:()=>$e.value,set:s=>{$e.value=s}}),fa=L(!1);g({get:()=>zt.value,set:s=>{zt.value=s}});function ma(s){const n=Array.isArray(na?.value)?na.value:[];if(!n.length)return;const w=n.map(ue=>String(ue.value)),_=String(ga.value);let H=w.indexOf(_);if(H===-1&&(H=0),s<0){for(let ue=H-1;ue>=0;ue--)if(!n[ue]?.disabled){ga.value=String(n[ue].value);return}return}else{for(let ue=H+1;ue<n.length;ue++)if(!n[ue]?.disabled){ga.value=String(n[ue].value);return}return}}function Pa(s){return(s||"").toString().trim().toLowerCase()}const $t=g(()=>Array.isArray(na?.value)?na.value:Array.isArray(na)?na:[]),Jt=g(()=>{const n=$t.value.map(w=>String(w.value)).indexOf(String(ga.value));return n===-1?0:n}),jt=g(()=>{for(let s=Jt.value-1;s>=0;s--)if(!$t.value[s]?.disabled)return $t.value[s];return null}),dt=g(()=>{for(let s=Jt.value+1;s<$t.value.length;s++)if(!$t.value[s]?.disabled)return $t.value[s];return null}),We=g(()=>!!jt.value),Ua=g(()=>!!dt.value);function Ta(s){try{const n=W.value&&W.value.value,w=se.value&&se.value.value;return ne.value.find(H=>H.atgard===n&&H.startskog===w&&Pa(H.tid)===Pa(s))?.skog||""}catch{return""}}const Ia=g(()=>jt.value?String(jt.value.label??jt.value.value):""),Qt=g(()=>dt.value?String(dt.value.label??dt.value.value):""),Et=g(()=>jt.value?Xa(Number(jt.value.value)):null),Cr=g(()=>dt.value?Xa(Number(dt.value.value)):null);g(()=>Ta(Et.value)),g(()=>Ta(Cr.value));function Ar(){ma(-1)}function Vr(){ma(1)}const Lr=[{re:/näraliggande skogar/gi,overlay:"omkringSkog"},{re:/hänsynsträd/gi,overlay:"retention"},{re:/evighetsträd/gi,overlay:"retention"},{re:/hyggeskanterna/gi,overlay:"kanteffekt"},{re:/luckorna/gi,overlay:"kanteffekt"},{re:/fröträdens rötter/gi,overlay:"seedTree"},{re:/fröträd/gi,overlay:"seedTree"},{re:/skärmträdens rötter/gi,overlay:"rottackeSkarmtrad"},{re:/småplantor/gi,overlay:"smaplantor"},{re:/högstubbar/gi,overlay:"hogstubbar"},{re:/rödlistade svampar/gi,overlay:"naturvardsarter"},{re:/rödlistad art/gi,overlay:"naturvardsarter"},{re:/Trädplantor/gi,overlay:"tradplantor"}];function Mr(s=""){return String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function je(s=""){let n=Mr(s);n=n.replace(/Visa\s+naturvårdsdiagram/gi,()=>'<a href="#" data-action="show-diagram">Visa naturvårdsdiagram</a>');for(const w of Lr)n=n.replace(w.re,_=>`<span class=" text-primary-500 font-medium underline cursor-pointer hover:opacity-80" data-overlay="${w.overlay}">${_}</span>`);return n}const Fr=new Set(xt),Ha=s=>typeof s=="string"&&Fr.has(s);function Je(s){const n=s.target;if(!n)return;const w=n.closest("[data-action]");if(w&&w.getAttribute("data-action")==="show-diagram"){s.preventDefault(),Br();return}const _=n.closest("[data-overlay]");if(!_)return;const H=_.getAttribute("data-overlay");Ha(H)&&Al(H)}L(!1),g(()=>[{value:"sideBySide",label:"Sida vid sida"},{value:"slider",label:"Skjutreglage"}]);const ot=g(()=>Bt.map((s,n)=>({value:n,label:s.label,description:s.text}))),qa=L(!0),f=L(!1),y=L(!1),M=L(85);let b=0,F=M.value;function P(s){if(!ve)return;const w=(s.clientX-b)/16;M.value=F+w}function R(){ve=!1,window.removeEventListener("pointermove",P),window.removeEventListener("pointerup",R)}ua(()=>{window.removeEventListener("pointermove",P),window.removeEventListener("pointerup",R)});const q=L(600);let ve=!1,ie=0,me=q.value;function Ve(s){if(!ve)return;const n=s.clientY-ie;q.value=me+n}function vt(){ve=!1,window.removeEventListener("pointermove",Ve),window.removeEventListener("pointerup",vt)}ua(()=>{window.removeEventListener("pointermove",Ve),window.removeEventListener("pointerup",vt)}),L(!1),L(!1);const ea=L(!0),Qe=L(0),xl=g(()=>{const s=W.value.value,n=ra(Be.value),w="visa",_=Nt.value?"visa":"dölj",H=se.value.value;return ee({framework:s,timeLabel:n,fungiVisibility:_,treeVisibility:w,startskog:H})}),Dn=g(()=>{const s=W.value.value,n="före",w="visa",_=Nt.value?"visa":"dölj",H=se.value.value;return ee({framework:s,timeLabel:n,fungiVisibility:_,treeVisibility:w,startskog:H})}),zn=g(()=>{const s=W.value.value,n=ra(Be.value),w="visa",_=Nt.value?"visa":"dölj",H=se.value.value;return ee({framework:s,timeLabel:n,fungiVisibility:_,treeVisibility:w,startskog:H})}),$n=g(()=>{const s=W.value.value,n=ra(Be.value),w="visa",_=Nt.value?"visa":"dölj",H=se.value.value;return ee({framework:s,timeLabel:n,fungiVisibility:_,treeVisibility:w,startskog:H})}),jn=g(()=>{const s=De.value.value,n=ra(Be.value),w="visa",_=Nt.value?"visa":"dölj",H=se.value.value;return ee({framework:s,timeLabel:n,fungiVisibility:_,treeVisibility:w,startskog:H})}),Or=Ec(),Wa=g(()=>Or.selectedAnnotation);function wl(s){if(Or.setSelectedAnnotation(s),s.position&&La.value){const n=La.value.getZoom();La.value.setZoomAndCenter(n,s.position)}}function Sl(){Or.clearSelectedAnnotation()}const Ge=L(null);L("line");const Ga=zc();L(!1);const Nt=L(!0),ke=g(()=>de.value&&K.value==="beforeAfterCompare"),pe=g(()=>de.value&&K.value==="frameworkCompare"),et=g({get:()=>Ga.selectedFramework,set:s=>Ga.selectedFramework=s}),En=g({get:()=>Ga.selectedStartskog??0,set:s=>{Ga.selectedStartskog=s}}),pa=L(et.value),De=g(()=>Bt[pa.value]||Bt[0]);X([pe,ke],([s,n])=>{(!s||!n)&&(zl.value="framework1")}),Mt(()=>{i=Ei({o:()=>Xt.value=!Xt.value,n:()=>{x.value=!x.value}})}),Vs(()=>{typeof i=="function"&&i(),ft&&(clearTimeout(ft),ft=null),aa=!1,ta=!0});const Tl=s=>{const n=Dr.findIndex(w=>w.value===s.value);n!==-1&&(En.value=n),fa.value=!1},Bt=[{id:0,label:"Ingen åtgärd",value:"naturskydd",text:"Orörd skog",icon:"pepicons-pop:tree-circle",iconColor:"text-green-500"},{id:1,label:"Trakthygge",value:"trakthygge",text:"Kalavverkning med hänsyn",icon:"material-symbols:resize",iconColor:"text-violet-500"},{id:2,label:"Luckhuggning",value:"luckhuggning",text:"Mindre ytor kalavverkas",icon:"pixelarticons:chess",iconColor:"text-sky-500"},{id:3,label:"Överhållen skärm",value:"skärmträd",text:"Avverkning i tre steg under 20 år",icon:"catppuccin:redwood",iconColor:"text-orange-500"},{id:4,label:"Blädning",value:"blädning",text:"Enstaka träd gallras",icon:"lineicons:trees",iconColor:"text-teal-500"}],Dr=[{label:"Kontinuitetsskog",value:"naturskog"},{label:"Kalavverkad",value:"produktionsskog_"}],W=g(()=>Bt[et.value!==void 0?et.value:0]),se=g(()=>Dr[En.value]),St=g(()=>W.value?.value),zr=g(()=>se.value?.value??null),Tt=g(()=>St.value==="trakthygge"),Ct=g(()=>St.value==="luckhuggning"),Ya=g(()=>St.value==="blädning"||St.value==="bladning"),tt=g(()=>St.value==="skärmträd"||St.value==="skarmtrad"),$r={retention:{title:"Hänsynsträd",description:"De flesta mykorrhizasvamparna som växte med trädens rötter före avverkningen finns kvar och lever vidare. Mycel kan växa in i och spridas till uppväxande trädplantor.",condition:()=>Te.value&&(Tt.value||Ct.value||tt.value),close:()=>{Te.value=!1}},kanteffekt:{title:"Kanteffekt",description:"Mykorrhizasvamp på trädens rötter i skogskanten kan sträcka sig 10–15 meter in på hygget; starkast närmast kanten.",condition:()=>ge.value&&(Tt.value||Ct.value||tt.value),close:()=>{ge.value=!1}},omkringSkog:{title:"Näraliggande skog",description:"Vanliga arter sprids in med sporer från närheten. Sporer sprids bara korta sträckor med vinden. Ovanliga arter har svårt att komma tillbaka eftersom de är ovanliga. ",condition:()=>Ce.value&&(Tt.value||Ct.value||tt.value),close:()=>{Ce.value=!1}},rottackeSkarmtrad:{title:"Rottäcke skärmträd",description:"Kontinuerligt rottäcke kopplat till överhållen skärm (1 år efter).",condition:()=>be.value&&tt.value,close:()=>{be.value=!1}},rottackeBladning:{title:"Rottäcke blädning",description:"Kontinuerligt rottäcke kopplat till blädning (efter, 20, 50, 80 år).",condition:()=>Fe.value&&Ya.value,close:()=>{Fe.value=!1}},seedTree:{title:"Fröträd",description:"Mycel fortsätter leva på fröträdens rötter och kan koppla till nya plantor.",condition:()=>_e.value&&tt.value,close:()=>{_e.value=!1}},smaplantor:{title:"Yngre träd och plantor som lämnats",description:"Undviks underröjning före avverkning, kommer mykorrhizasvampar att överleva på dessa plantor och träd på samma sätt som de gör på rötterna av hänsynsträd.",condition:()=>Ae.value,close:()=>{Ae.value=!1}},hogstubbar:{title:"Högstubbar",description:"Här finns inga levande mykorrhizamycel. Trädets rötter är döda.",condition:()=>Le.value,close:()=>{Le.value=!1}},naturvardsarter:{title:"Naturvårdsarter",description:"Naturvårdsarter har ofta speciella miljökrav, och förekommer främst i äldre skog. Generellt kan mycel av mykorrhizasvampar leva vidare på en plats så länge det finns levande träd. Svampindividers mycel kan likt träd bli många decennier till potentiellt sekler gamla.",condition:()=>x.value&&(Tt.value||Ct.value||Ya.value||tt.value),close:()=>{x.value=!1}},tradplantor:{title:"Planterade små trädplantor",description:"Har med sig spontant etablerad mykorrhiza från plantskolan där de odlades upp. Det är dock få arter. Dessa ersätts succesivt med bättre anpassade och svamparter som finns på platsen.",condition:()=>Oe.value&&Tt.value,close:()=>{Oe.value=!1}}},jr={staticOverlay:"i-material-symbols-light-rectangle-outline",retention:"i-pepicons-pop-tree-circle",kanteffekt:"i-healthicons-square-medium-negative",omkringSkog:"fluent-weather-duststorm-48-regular",rottackeSkarmtrad:"i-fluent-emoji-high-contrast-blue-square",rottackeBladning:"i-fluent-emoji-high-contrast-blue-square",seedTree:"i-teenyicons-redwoodjs-outline",smaplantor:"i-pepicons-pop-seedling-circle",hogstubbar:"i-fluent-emoji-high-contrast-wood",naturvardsarter:"i-material-symbols-award-star-outline",tradplantor:"i-hugeicons-plant-02"},Nn=g(()=>{const s={staticOverlay:{title:"Beståndsgräns",description:"Visar gränsen för den berörda skogen"}};return xt.forEach(n=>{const w=$r[n];s[n]={title:w.title,description:w.description}}),s});function Za(s){const n=Nn.value[s]??{title:s,description:""},w=jr[s];return{title:n.title,description:n.description,icon:w}}const Ye=Da({staticOverlay:!1,retention:!1,kanteffekt:!1,omkringSkog:!1,rottackeSkarmtrad:!1,rottackeBladning:!1,seedTree:!1,smaplantor:!1,hogstubbar:!1,naturvardsarter:!1,tradplantor:!1}),Rt={staticOverlay:da,retention:Te,kanteffekt:ge,omkringSkog:Ce,rottackeSkarmtrad:be,rottackeBladning:Fe,seedTree:_e,smaplantor:Ae,hogstubbar:Le,naturvardsarter:x,tradplantor:Oe};function Er(s,n={}){const w=Rt[s];if(!w)return;const _=s,H=n.hideWhenUnpin??!0,ue=!Ye[_];if(Ye[_]=ue,ue){w.value||(w.value=!0),Pe.value=_,Ne.value=!0;return}H&&(Pe.value===_?Ka({hideOverlay:!0}):w.value&&(w.value=!1))}const Bn=g(()=>{const s=Nn.value;return[{key:"staticOverlay",label:s.staticOverlay?.title??"Beståndsgräns",description:s.staticOverlay?.description??"",icon:jr.staticOverlay},...xt.map(n=>({key:n,label:s[n]?.title??n,description:s[n]?.description??"",icon:jr[n]??void 0}))]}),Rn=g(()=>{const s={};return Bn.value.forEach(n=>{s[n.key]={label:n.label,icon:n.icon}}),s}),Pt=g(()=>{const s=Pe.value;if(!s||!Nr(s))return null;const n=Za(s);return{key:s,title:n.title,description:n.description}}),Ca=g(()=>{const s=Pe.value;return s?Ye[s]:!1}),Pn=g(()=>{const s=Pe.value;return s?Rn.value[s]?.icon??null:null}),Un=g(()=>{const s=Rn.value,n=Ll.value,w=[];return Ye.staticOverlay&&w.push({key:"staticOverlay",title:s.staticOverlay?.label??"Beståndsgräns",icon:s.staticOverlay?.icon||null,isAssociated:!0}),xt.forEach(_=>{Ye[_]&&w.push({key:_,title:s[_]?.label??$r[_].title,icon:s[_]?.icon||null,isAssociated:n[_]??!0})}),w});X($e,s=>{s&&zt.value&&(zt.value=!1)}),X(zt,s=>{s&&$e.value&&($e.value=!1)});let ft=null,ta=!0,aa=!1;function Cl(s){Er(s)}function mt(s){Object.keys(Rt).forEach(n=>{n!==s&&(Ye[n]||Rt[n]?.value&&(Rt[n].value=!1))})}function Nr(s){const n=$r[s];return!!n&&n.condition()}function pt(s){const n=Nr(s);if(Tr(s,n),n){Pe.value=s,Ne.value=!0,k.value||d();return}if(Pe.value===s){const w=Ra.value.slice().reverse().find(_=>Nr(_));w?(Pe.value=w,Ne.value=!0,k.value||d()):(Ka({hideOverlay:!1}),d())}}function Al(s){const n=Rt[s];if(n){if(n.value){Ye[s]?In(s):(n.value=!1,d());return}n.value=!0,In(s)}}async function Br(s={}){va(),Kt.value=tn,ct.value=!0,await Yt(),C.value?.setSelectedChart&&(C.value.setSelectedChart(tn),ct.value=!1),s.badgeKey&&(u[s.badgeKey]=!1),k.value||d();try{Ka({hideOverlay:!1})}catch{}try{Ye.naturvardsarter=!0;const n=Rt.naturvardsarter;n&&!n.value&&(n.value=!0)}catch{}}X([wt,()=>C.value],async([s,n])=>{if(s==="diagram"&&ct.value&&n?.setSelectedChart){await Yt();try{n.setSelectedChart(tn)}finally{ct.value=!1}}});function In(s){Rt[s]&&(Pe.value=s,Ne.value=!0)}function Ka(s={}){aa=!0;const n=Pe.value;if(ta=s.hideOverlay??(n?!Ye[n]:!0),!n){aa=!1,ta=!0,Ne.value=!1,d();return}if(!Ne.value){Hn();return}Ne.value=!1}function Hn(){ft&&(clearTimeout(ft),ft=null);const s=Pe.value;if(!s){ta=!0,aa=!1;return}const n=ta;if(Pe.value=null,ta=!0,aa=!1,n){const w=Rt[s];w&&w.value&&(w.value=!1),d()}}X(Ne,(s,n)=>{if(ft&&(clearTimeout(ft),ft=null),!s&&n){if(!aa){const w=Pe.value;ta=w?!Ye[w]:!0}ft=setTimeout(()=>{Hn()},pf)}else s&&(aa=!1)}),X(Xt,s=>{s||(Ka({hideOverlay:!1}),k.value||d())}),Mt(()=>{try{da.value||(da.value=!0)}catch{}Ye.staticOverlay=!0}),X(Te,s=>{s&&mt("retention"),pt("retention")},{immediate:!0}),X(ge,s=>{s&&mt("kanteffekt"),pt("kanteffekt")},{immediate:!0}),X(Ce,s=>{s&&mt("omkringSkog"),pt("omkringSkog")},{immediate:!0}),X(Fe,s=>{s&&mt("rottackeBladning"),pt("rottackeBladning")},{immediate:!0}),X(_e,s=>{s&&mt("seedTree"),pt("seedTree")},{immediate:!0}),X(Ae,s=>{s&&mt("smaplantor"),pt("smaplantor")},{immediate:!0}),X(Le,s=>{s&&mt("hogstubbar"),pt("hogstubbar")},{immediate:!0}),X(x,s=>{s&&mt("naturvardsarter"),pt("naturvardsarter")},{immediate:!0}),X(Oe,s=>{s&&mt("tradplantor"),pt("tradplantor")},{immediate:!0}),X(da,s=>{s&&mt("staticOverlay")}),X(St,()=>{xt.forEach(s=>pt(s))});const Be=L(3);function Vl(s){ke.value&&s.value===3||(Be.value=s.value)}function Xa(s){return{3:"innan",15:"efter",30:"10 år",45:"20 år",70:"50 år",99:"80 år"}[s]||"innan"}function ra(s){const n=ha.value.find(w=>w.value===s);return n?n.timeLabel:"före"}const ha=g(()=>{const n=[{value:3,label:W.value?.value==="naturskydd"?"Ingen avverkning":"Före avverkning",timeLabel:"före"},{value:15,label:"1 år efter ",timeLabel:"efter"}];return W.value?.value==="skärmträd"&&!pe.value&&n.push({value:30,label:"10 år efter",timeLabel:"10"}),n.push({value:45,label:"20 år efter ",timeLabel:"20"},{value:70,label:"50 år efter ",timeLabel:"50"},{value:99,label:"+ 80 år efter ",timeLabel:"80"}),n}),na=g(()=>ha.value.map(s=>({value:String(s.value),label:s.label,disabled:ke.value&&s.value===3}))),ga=g({get(){return String(Be.value)},set(s){const n=ha.value.find(w=>String(w.value)===s);n&&Vl(n)}}),Ue=g(()=>{const s=ha.value.find(n=>n.value===Be.value);return s?s.label:""}),qn=g(()=>ke.value?3:null);g(()=>qn.value!==null?Xa(qn.value):null);const Ie=g(()=>Xa(Be.value)),Wn=g(()=>({framework:St.value??null,startskog:zr.value??null,time:Ie.value??null})),Ll=g(()=>o.availabilityFor(Wn.value)),oe=g(()=>o.filterAll(Wn.value)),Ml=g(()=>({framework:St.value??null,startskog:zr.value??null,time:ke.value?"innan":Ie.value??null})),at=g(()=>o.filterAll(Ml.value)),Fl=g(()=>({framework:De.value?.value??null,startskog:zr.value??null,time:Ie.value??null})),rt=g(()=>o.filterAll(Fl.value)),nt=g(()=>!W.value?.value||!Ie.value||!se.value?.value?null:ne.value.find(s=>s.atgard===W.value.value&&s.tid===Ie.value&&s.startskog===se.value.value)),Ja=g(()=>!De.value?.value||!Ie.value||!se.value?.value?null:ne.value.find(s=>s.atgard===De.value.value&&s.tid===Ie.value&&s.startskog===se.value.value)),Qa=g(()=>!W.value?.value||!se.value?.value?null:ne.value.find(s=>s.atgard===W.value.value&&s.tid==="innan"&&s.startskog===se.value.value)),er=g(()=>{const s=[],n=W.value?.label??"",w=De.value?.label??"",_=Ue.value??"";return ke.value?(s.push({key:"before",left:n,right:"Före avverkning",info:Qa.value??null}),s.push({key:"after",left:n,right:_,info:nt.value??null})):pe.value?(s.push({key:"framework1",left:n,right:_,info:nt.value??null}),s.push({key:"framework2",left:w,right:_,info:Ja.value??null})):s.push({key:"single",left:n,right:_,info:nt.value??null}),s}),Gn=g(()=>{const s=er.value.filter(n=>!!n.info).length;return k.value&&s>1&&(ke.value||pe.value)}),Aa=Da({});function Rr(s){Aa[s]||(Aa[s]={skog:!1,svamp:!1})}function Ut(s,n){return Rr(s),Aa[s][n]}function tr(s,n){Rr(s),Aa[s][n]=!Aa[s][n]}X(er,s=>{s.forEach(n=>Rr(n.key))},{immediate:!0});function Yn(s){de.value=s,s&&K.value||(K.value="beforeAfterCompare")}const Zn=g(()=>{const s=W.value.value,n="före",w="dölj",_=Nt.value?"visa":"dölj",H=se.value.value;return ee({framework:s,timeLabel:n,fungiVisibility:_,treeVisibility:w,startskog:H})}),Kn=g(()=>{const s=De.value.value,n=ra(Be.value),w="dölj",_=Nt.value?"visa":"dölj",H=se.value.value;return ee({framework:s,timeLabel:n,fungiVisibility:_,treeVisibility:w,startskog:H})});g(()=>{const s=W.value.value.toLowerCase(),n=ra(Be.value);return`${s}_${n}`});const Va=g(()=>{const s=W.value.value,n=ra(Be.value),w="dölj",_=Nt.value?"visa":"dölj",H=se.value.value;return ee({framework:s,timeLabel:n,fungiVisibility:_,treeVisibility:w,startskog:H})});X([W,ke,pe],()=>{ha.value.map(n=>n.value).includes(Be.value)||(Be.value=15)});const La=L(null),ht=L(null),gt=L(null);let Pr=!1,Ur=!1;function Xn(){if(Ur)return;Pr=!0;const s=ht.value?.getZoom(),n=ht.value?.getCenter();s&&n&&gt.value&&gt.value.setZoomAndCenter(s,n),Pr=!1}function Jn(){if(Pr)return;Ur=!0;const s=gt.value?.getZoom(),n=gt.value?.getCenter();s&&n&&ht.value&&ht.value.setZoomAndCenter(s,n),Ur=!1}function It(s){s==="before"&&ht.value?(ht.value.addSyncHandler("zoom",Xn),ht.value.addSyncHandler("pan",Xn)):s==="after"&&gt.value?(gt.value.addSyncHandler("zoom",Jn),gt.value.addSyncHandler("pan",Jn)):s==="framework1"&&bt.value?(bt.value.addSyncHandler("zoom",Qn),bt.value.addSyncHandler("pan",Qn)):s==="framework2"&&kt.value&&(kt.value.addSyncHandler("zoom",es),kt.value.addSyncHandler("pan",es))}let Ir=!1,Hr=!1;function Qn(){if(Hr)return;Ir=!0;const s=bt.value?.getZoom(),n=bt.value?.getCenter();s&&n&&kt.value&&kt.value.setZoomAndCenter(s,n),Ir=!1}function es(){if(Ir)return;Hr=!0;const s=kt.value?.getZoom(),n=kt.value?.getCenter();s&&n&&bt.value&&bt.value.setZoomAndCenter(s,n),Hr=!1}const bt=L(null),kt=L(null);let qr=null;const ts=L({zoom:1,center:null});function ar(s,{zoom:n,center:w}={}){!n||!w||qr!==s&&(qr=s,ts.value={zoom:n,center:w})}function Ol(){return!ke.value&&!pe.value?{single:La.value}:ke.value?{before:ht.value,after:gt.value}:pe.value?{framework1:bt.value,framework2:kt.value}:{}}X(ts,({zoom:s,center:n})=>{const w=Ol();Object.entries(w).forEach(([_,H])=>{_!==qr&&H&&H.setZoomAndCenter&&H.setZoomAndCenter(s,n)})});const At=L("single");g(()=>[{key:"framework1",label:W.value.label},{key:"framework2",label:De.value.label}]);const Dl=L(0);X(pe,s=>{s||(Dl.value=0)});const zl=L("none"),Wr=[{label:"Före / efter",value:"beforeAfterCompare"},{label:"Två metoder",value:"frameworkCompare"}];function $l(){Ge.value&&Ge.value.toggleLayoutMode&&Ge.value.toggleLayoutMode(),console.log("Current layout:",J.value)}g(()=>({label:J.value==="sideBySide"?"Sida vid sida":"Skjutreglage",type:"button",onSelect(s){s.preventDefault(),$l()},icon:J.value==="sideBySide"?"i-circum-grid-2-v":"iconamoon:compare-duotone"})),g(()=>[{label:Wr[0].label,type:"checkbox",checked:K.value==="frameworkCompare",onUpdateChecked(s){s?K.value="frameworkCompare":K.value==="frameworkCompare"&&(K.value=null)},onSelect(s){s.preventDefault()}},{label:Wr[1].label,type:"checkbox",checked:K.value==="beforeAfterCompare",onUpdateChecked(s){s?K.value="beforeAfterCompare":K.value==="beforeAfterCompare"&&(K.value=null)},onSelect(s){s.preventDefault()}},{type:"separator"},{label:"Sida vid sida",type:"checkbox",checked:J.value==="sideBySide",onUpdateChecked(s){s&&(J.value="sideBySide",Ge.value&&Ge.value.setLayoutMode&&Ge.value.setLayoutMode("sideBySide"))},onSelect(s){s.preventDefault()},icon:"i-circum-grid-2-v"},{label:"Skjutreglage",type:"checkbox",checked:J.value==="slider",onUpdateChecked(s){s&&(J.value="slider",Ge.value&&Ge.value.setLayoutMode&&Ge.value.setLayoutMode("slider"))},onSelect(s){s.preventDefault()},icon:"iconamoon:compare-duotone"}]),g(()=>J.value==="sideBySide"?"i-circum-grid-2-v":"iconamoon:compare-duotone"),g(()=>K.value==="frameworkCompare"?"Två metoder":K.value==="beforeAfterCompare"?"Före / efter":"Jämför"),X(K,s=>{s==="frameworkCompare"?(ke.value=!1,pe.value=!0):s==="beforeAfterCompare"?(ke.value=!0,pe.value=!1):(ke.value=!1,pe.value=!1)}),X(J,s=>{Ge.value&&Ge.value.setLayoutMode&&Ge.value.setLayoutMode(s)}),X(ke,s=>{s&&Be.value===3&&(Be.value=15)});const as=g(()=>{const s=ha.value.find(n=>n.value===Be.value);return s?s.timeLabel:""}),jl=g(()=>{const s=W.value.value,n=as.value.toLowerCase();return jc.annotations.flatMap(w=>{if(w.positions&&Array.isArray(w.positions))return w.positions.filter(_=>{const H=Array.isArray(_.framework)?_.framework.includes(s):_.framework===s,ue=Array.isArray(_.times)?_.times.map(Ht=>Ht.toLowerCase()).includes(n):_.times.toLowerCase()===n;return H&&ue}).map(_=>({...w,position:{x:_.x,y:_.y,placement:_.placement}}));{const _=Array.isArray(w.frameworks)?w.frameworks.includes(s):w.framework===s,H=Array.isArray(w.times)?w.times.map(ue=>ue.toLowerCase()).includes(n):w.time.toLowerCase()===n;return _&&H?[w]:[]}})});return X(At,s=>{console.log("activeViewer updated to:",s)}),(s,n)=>{const w=nr,_=Sn,H=Os,ue=Ql,Ht=Tn,qt=Ds,xe=Ki,Ma=hi,El=pi,Nl=_l,Gr=ai,sa=Ls,rs=Dc;return h(),D("div",Xc,[S(z(B),null,{default:$(()=>[v("div",Jc,[v("div",Qc,[S(_,{size:"xs",variant:"outline",color:"neutral",onClick:n[0]||(n[0]=c=>Yn(!1)),class:he(de.value?"text-muted/60 hover:text-muted ring-muted/50":"bg-neutral-100 shadow ring-muted")},{default:$(()=>[v("div",ed,[S(w,{name:"i-bx-rectangle",class:"size-4"}),n[68]||(n[68]=v("h1",null,"Enkelvy",-1))])]),_:1},8,["class"]),S(_,{size:"xs",variant:"outline",color:"neutral",onClick:n[1]||(n[1]=c=>Yn(!0)),class:he(de.value?"bg-neutral-100 shadow ring-muted":"text-muted/60 hover:text-muted ring-muted/50")},{default:$(()=>[v("div",td,[S(w,{name:"iconamoon:compare-duotone",class:"size-4"}),n[69]||(n[69]=v("h1",null,"Jämför",-1))])]),_:1},8,["class"])]),de.value?(h(),I(H,{key:0,modelValue:K.value,"onUpdate:modelValue":n[2]||(n[2]=c=>K.value=c),items:Wr,size:"xs",placeholder:"Välj",clearable:!0,class:"w-full ring-muted -mb-2 mt-2",ui:{root:"min-w-max flex-shrink-0",list:"flex-nowrap rounded-xl bg-muted/50 -mb-1.5 gap-2",indicator:"bg-white border border-muted/50 shadow ",trigger:" data-[state=active]:text-neutral-800 dark:data-[state=active]:text-violet-400/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary "}},null,8,["modelValue"])):E("",!0)]),S(ue,{ui:{border:"border-muted/50"}}),v("div",ad,[v("div",rd,[n[70]||(n[70]=v("span",{class:"text-sm tracking-wide text-neutral-400"},"Trädens synlighet",-1)),ei(v("input",{type:"range",min:"0",max:"1",step:"0.01","onUpdate:modelValue":n[3]||(n[3]=c=>Qe.value=c),class:"accent-primary-500 h-[5px] w-32"},null,512),[[ti,Qe.value]])]),v("div",nd,[(h(!0),D(ze,null,Ze(Bn.value,c=>(h(),I(Ht,{key:c.key,label:c.label,icon:c.icon,color:Ye[c.key]?"primary":"neutral",variant:Ye[c.key]?"solid":"subtle",class:he(["cursor-pointer",Ye[c.key]?"shadow-sm":"opacity-70 hover:opacity-100"]),onClick:Me=>Cl(c.key)},null,8,["label","icon","color","variant","class","onClick"]))),128))])])]),_:1}),v("div",null,[v("div",sd,[v("div",ld,[ot.value.length?(h(),D("div",{key:0,class:he(["grid sm:gap-4 gap-2 p-2 sm:py-1 sm:flex-row sm:items-center sm:justify-start h-fit w-full sm:w-fit",pe.value?"grid-cols-2":"grid-cols-1"])},[S(qt,{size:"xl",items:ot.value,modelValue:et.value,"onUpdate:modelValue":n[4]||(n[4]=c=>et.value=c),placeholder:W.value.label,"append-to-body":"",variant:"soft",class:"ring-muted w-full shadow",ui:{content:"min-w-fit",viewport:"text-center"}},null,8,["items","modelValue","placeholder"]),pe.value?(h(),I(qt,{key:0,size:"xl",items:ot.value,modelValue:pa.value,"onUpdate:modelValue":n[5]||(n[5]=c=>pa.value=c),placeholder:De.value.label,"append-to-body":"",variant:"soft",class:"ring-muted shadow"},null,8,["items","modelValue","placeholder"])):E("",!0)],2)):E("",!0),z(k)?(h(),I(_,{key:1,icon:"i-heroicons-x-mark",variant:"soft",color:"neutral",class:"rounded-full h-fit mr-2 ml-1",ui:{rounded:"rounded-full"},onClick:n[6]||(n[6]=c=>Ft("close")),"aria-label":"Stäng modellvy",size:"lg"})):E("",!0)]),z(k)?E("",!0):(h(),D("div",id,[S(_,{icon:"i-heroicons-x-mark",variant:"ghost",color:"neutral",class:"rounded-full",ui:{rounded:"rounded-full"},onClick:n[7]||(n[7]=c=>Ft("close")),"aria-label":"Stäng modellvy"})]))]),v("div",od,[v("div",ud,[S(xe,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:le.value,"onUpdate:modelValue":n[8]||(n[8]=c=>le.value=c),label:"Spara klick (dev)"},null,8,["modelValue"]),S(xe,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:ae.value,"onUpdate:modelValue":n[9]||(n[9]=c=>ae.value=c),label:"Visa myc-etiketter (dev)"},null,8,["modelValue"]),S(xe,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:Se.value,"onUpdate:modelValue":n[10]||(n[10]=c=>Se.value=c),label:"Visa naturvårdssiffra (dev)"},null,8,["modelValue"])]),v("div",cd,[S(Gr,{direction:(z(k),"bottom"),inset:!z(k),dismissible:!!z(k),overlay:!1,handle:(z(k),!1),modal:!1,open:$e.value,"onUpdate:open":n[18]||(n[18]=c=>$e.value=c),class:"pointer-events-auto",ui:{header:"flex items-center justify-between",body:"p-0 ",container:"p-0 gap-0 ",content:"max-w-4xl mx-auto ring-muted/50",footer:"gap-0"}},{body:$(()=>[S(_,{class:"absolute top-1.5 right-1.5 z-50",variant:"ghost",color:"neutral",label:"Stäng",onClick:n[11]||(n[11]=c=>$e.value=!1)}),v("div",dd,[S(H,{modelValue:wt.value,"onUpdate:modelValue":n[13]||(n[13]=c=>wt.value=c),items:N,variant:"pill",size:"xs",color:"neutral",ui:{indicator:"bg-white shadow",trigger:"data-[state=active]:text-neutral-700 ",list:"bg-muted gap-2 m-1.5 w-fit",root:"gap-0"}},{text:$(()=>[v("div",{class:he(["sm:grid divide-y sm:divide-y-0 sm:divide-x divide-muted/70 transition-all relative",[de.value?"sm:grid-cols-2":"sm:grid-cols-1",Pt.value?"sm:opacity-40":""]])},[v("div",{class:he(["absolute inset-0 bg-neutral-500 transition-all pointer-events-none",Pt.value?"opacity-0 sm:opacity-40 sm:bg-neutral-500/50":"opacity-0"])},null,2),Gn.value?E("",!0):(h(!0),D(ze,{key:0},Ze(er.value,c=>(h(),D("div",{key:c.key,class:"p-3 sm:p-3 group",onClick:Je},[c.info?(h(),D("div",vd,[v("div",fd,[S(_,{type:"button",variant:"ghost",color:"neutral",class:"flex w-full items-center font-semibold gap-2 tracking-wide text-neutral-500 transition",onClick:ba(Me=>tr(c.key,"skog"),["stop"])},{default:$(()=>[n[71]||(n[71]=v("span",null,"Utveckling i skogen",-1)),S(w,{name:"i-heroicons-chevron-down",class:he(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!Ut(c.key,"skog")}])},null,8,["class"])]),_:2},1032,["onClick"]),Ut(c.key,"skog")?(h(),D("p",{key:0,class:"text-sm text-neutral-800 leading-relaxed p-2 mb-2 bg-muted rounded",innerHTML:je(c.info.skog)},null,8,md)):E("",!0)]),v("div",pd,[S(_,{type:"button",variant:"ghost",color:"neutral",class:"flex w-full items-center gap-2 font-semibold tracking-wide text-neutral-500 transition",onClick:ba(Me=>tr(c.key,"svamp"),["stop"])},{default:$(()=>[n[72]||(n[72]=v("span",null,"Påverkan på mykorrhizasvampar",-1)),S(w,{name:"i-heroicons-chevron-down",class:he(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!Ut(c.key,"svamp")}])},null,8,["class"])]),_:2},1032,["onClick"]),Ut(c.key,"svamp")?(h(),D("span",{key:0,class:"block text-sm text-neutral-800 leading-relaxed p-2 bg-muted rounded",innerHTML:je(c.info.svamp)},null,8,hd)):E("",!0)])])):(h(),D("div",gd,Y(c.emptyMessage||Ss),1))]))),128)),Gn.value?(h(),D("div",bd,[S(El,{items:er.value,ui:{item:"basis-12/13",viewport:"p-3"}},{default:$(({item:c})=>[S(Ma,{ui:{body:"p-4 space-y-4"},class:"",variant:"soft",onClick:Je},{default:$(()=>[v("div",kd,[v("h2",yd,Y(c.left),1),S(Ht,{label:c.right,class:"ring-muted/50 py-1",variant:"outline",color:"neutral"},null,8,["label"])]),c.info?(h(),D("div",_d,[v("div",xd,[S(_,{type:"button",variant:"ghost",color:"neutral",class:"-mx-2 flex w-full items-center font-semibold gap-2 tracking-wide text-neutral-500 transition",onClick:ba(Me=>tr(c.key,"skog"),["stop"])},{default:$(()=>[n[73]||(n[73]=v("span",null,"Utveckling i skogen",-1)),S(w,{name:"i-heroicons-chevron-down",class:he(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!Ut(c.key,"skog")}])},null,8,["class"])]),_:2},1032,["onClick"]),Ut(c.key,"skog")?(h(),D("p",{key:0,class:"text-sm text-neutral-800 leading-relaxed mb-2 bg-muted rounded",innerHTML:je(c.info.skog)},null,8,wd)):E("",!0)]),v("div",Sd,[S(_,{type:"button",variant:"ghost",color:"neutral",class:"-mx-2 flex w-full items-center gap-2 font-semibold tracking-wide text-neutral-500 transition",onClick:ba(Me=>tr(c.key,"svamp"),["stop"])},{default:$(()=>[n[74]||(n[74]=v("span",null,"Påverkan på mykorrhizasvampar",-1)),S(w,{name:"i-heroicons-chevron-down",class:he(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!Ut(c.key,"svamp")}])},null,8,["class"])]),_:2},1032,["onClick"]),Ut(c.key,"svamp")?(h(),D("span",{key:0,class:"block text-sm text-neutral-800 leading-relaxed bg-muted rounded",innerHTML:je(c.info.svamp)},null,8,Td)):E("",!0)])])):(h(),D("div",Cd,Y(c.emptyMessage||Ss),1))]),_:2},1024)]),_:1},8,["items"])])):E("",!0)],2)]),diagram:$(()=>[wt.value==="diagram"?(h(),I(Nl,{key:0,ref_key:"chartMainRef",ref:C,selectedChart:Kt.value,"onUpdate:selectedChart":n[12]||(n[12]=c=>Kt.value=c),parentSelectedFrameworks:pe.value?[W.value.value,De.value.value]:[W.value.value],currentTimeValue:as.value,currentStartskog:se.value.value},null,8,["selectedChart","parentSelectedFrameworks","currentTimeValue","currentStartskog"])):E("",!0),n[75]||(n[75]=v("div",{class:"px-4 pb-4 text-xs text-muted"}," Fugiat irure tempor nisi dolor. Sit irure reprehenderit sint est nostrud. Voluptate reprehenderit amet laboris non nostrud. ",-1))]),_:1},8,["modelValue"])]),Pt.value?(h(),I(Gr,{key:0,open:Ne.value,"onUpdate:open":n[17]||(n[17]=c=>Ne.value=c),nested:"",direction:"bottom",modal:!0,overlay:!1,inset:!z(k),handle:!!z(k),ui:{container:"p-0 gap-0",content:"sm:max-w-sm w-full mx-auto",body:"p-4 space-y-3"}},{body:$(()=>[v("div",Ad,[v("div",Vd,[Pn.value?(h(),I(w,{key:0,name:Pn.value,class:"size-5 text-primary-500 mt-0.5"},null,8,["name"])):E("",!0),v("h3",Ld,Y(Pt.value.title),1)]),v("div",Md,[S(_,{color:Ca.value?"error":"primary",variant:"subtle",size:"xs",ui:{rounded:"rounded-full"},label:Ca.value?"Ta bort":"Fäst i vyn",icon:Ca.value?"i-tabler-pinned-off":"i-tabler-pinned","aria-pressed":Ca.value,title:Ca.value?"Lossa":"Fäst",onClick:n[14]||(n[14]=c=>Er(Pt.value.key,{hideWhenUnpin:!1}))},null,8,["color","label","icon","aria-pressed","title"])])]),v("p",Fd,Y(Pt.value.description),1),Pt.value.key==="naturvardsarter"?(h(),I(_,{key:0,size:"sm",color:"primary",variant:"soft",class:"mt-2",icon:"i-carbon-chart-line-smooth",onClick:n[15]||(n[15]=c=>Br())},{default:$(()=>[...n[76]||(n[76]=[Lt(" Visa naturvårdsartsdiagram ",-1)])]),_:1})):E("",!0),Pt.value.key==="kanteffekt"?(h(),I(Ma,{key:1,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"},class:"mt-2 backdrop-blur-xl border border-white/10"},{default:$(()=>[S(xe,{ui:{root:"flex-row-reverse justify-between",label:"",description:"",base:"data-[state=unchecked]:bg-neutral-600"},size:"md",color:"primary",modelValue:fe.value,"onUpdate:modelValue":n[16]||(n[16]=c=>fe.value=c),label:"Tidigare kanteffekt",description:"Visa spår från tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):E("",!0)]),_:1},8,["open","inset","handle"])):E("",!0)]),default:$(()=>[S(_,{size:(z(k),"xl"),label:(z(k),"Information"),color:"neutral",icon:"i-heroicons-chevron-up",class:"ring-muted rounded-full shadow",variant:$e.value?"subtle":"outline"},null,8,["size","label","variant"])]),_:1},8,["direction","inset","dismissible","handle","open"])]),v("div",Od,[S(sa,{class:"shrink-0 cursor-pointer h-fit z-50",open:fa.value,"onUpdate:open":n[19]||(n[19]=c=>fa.value=c),popper:{placement:"bottom-start"}},{content:$(()=>[n[77]||(n[77]=v("div",{class:"text-sm w-64 p-3 text-neutral-500 border-b border-neutral-200"}," Kort beskriving av betydelsen för skogens historik ",-1)),v("div",Dd,[(h(),D(ze,null,Ze(Dr,c=>v("div",{key:c.value},[S(_,{onClick:Me=>Tl(c),size:"lg",color:"white",variant:"ghost",class:he(["hover:bg-neutral-100 w-full cursor-pointer text-neutral-400",{"w-full bg-neutral-100  text-neutral-800":se.value.value===c.value}])},{default:$(()=>[Lt(Y(c.label),1)]),_:2},1032,["onClick","class"])])),64))])]),default:$(()=>[S(_,{variant:(z(k),"outline"),color:"neutral",icon:"i-heroicons-clock",size:"lg",label:z(k)?null:se.value.label,class:"rounded-full ring-muted"},null,8,["variant","label"])]),_:1},8,["open"]),S(H,{modelValue:ga.value,"onUpdate:modelValue":n[20]||(n[20]=c=>ga.value=c),items:na.value,ui:{root:"min-w-max flex-shrink-0",list:"flex-nowrap rounded-xl bg-transparent -mb-1.5 gap-2",indicator:"bg-white border border-muted/50 shadow ",trigger:" data-[state=active]:text-neutral-800 dark:data-[state=active]:text-violet-400/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary "}},null,8,["modelValue","items"])])])]),v("div",zd,[v("div",$d,[v("div",jd,[z(k)?(h(),I(Gr,{key:1,modal:!1,ui:{content:"p-0",body:"p-0",container:"p-0 gap-0"}},{body:$(()=>[S(z(V))]),default:$(()=>[S(_,{size:z(k)?"xl":"md",color:"neutral",variant:"outline",label:z(k)?null:"Display",icon:"i-heroicons-adjustments-horizontal",class:"ring-muted rounded-full sm:rounded pointer-events-auto"},null,8,["size","label"])]),_:1})):(h(),I(sa,{key:0,ui:{content:"p-0 w-80"},content:{side:"bottom",sideOffset:8,collisionPadding:8,align:"start"},class:"pointer-events-auto"},{content:$(()=>[S(z(V))]),default:$(()=>[S(_,{size:"md",color:"neutral",variant:"outline",label:"Display",icon:"i-heroicons-adjustments-horizontal",class:"ring-muted"})]),_:1}))]),Un.value.length?(h(),D("div",Ed,[(h(!0),D(ze,null,Ze(Un.value,c=>(h(),D("div",{key:c.key,class:"pointer-events-auto flex flex-col sm:flex sm:flex-wrap gap-1 items-end"},[S(sa,{"open-delay":500,"close-delay":300,mode:"click",open:u[c.key],"onUpdate:open":Me=>u[c.key]=Me,popper:{placement:"bottom-end"},ui:{content:"p-0 w-80"}},{content:$(()=>[v("div",Bd,[v("div",Rd,[v("div",Pd,[c.icon?(h(),I(w,{key:0,name:c.icon,class:"size-5 text-primary-500 mt-0.5"},null,8,["name"])):E("",!0),v("h3",Ud,Y(Za(c.key).title||c.title),1)]),S(_,{label:"Ta bort",variant:"subtle",color:"error",size:"xs",icon:"i-tabler-pinned-off",onClick:Me=>(Er(c.key),u[c.key]=!0)},null,8,["onClick"])]),Za(c.key).description?(h(),D("p",Id,Y(Za(c.key).description),1)):(h(),D("div",Hd,"Ingen beskrivning tillgänglig.")),c.key==="naturvardsarter"?(h(),I(_,{key:2,size:"sm",color:"primary",variant:"soft",icon:"i-carbon-chart-line-smooth",onClick:ba(Me=>Br({badgeKey:c.key}),["stop"])},{default:$(()=>[...n[78]||(n[78]=[Lt(" Visa naturvårdsartsdiagram ",-1)])]),_:1},8,["onClick"])):E("",!0),c.key==="kanteffekt"?(h(),I(Ma,{key:3,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"},class:"mt-2 backdrop-blur-xl border border-white/10"},{default:$(()=>[S(xe,{ui:{root:"flex-row-reverse justify-between",label:"",description:"",base:"data-[state=unchecked]:bg-neutral-600"},size:"md",color:"primary",modelValue:fe.value,"onUpdate:modelValue":n[21]||(n[21]=Me=>fe.value=Me),label:"Tidigare kanteffekt",description:"Visa spår från tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):E("",!0)])]),default:$(()=>[v("div",null,[S(Ht,{color:"neutral",variant:"outline",size:"lg",class:he(["cursor-pointer shadow-sm sm:ml-1.5 w-fit transition-opacity ring-muted/50",c.key==="staticOverlay"||j(c.key)?"":"opacity-50"])},{default:$(()=>[v("div",Nd,[c.icon?(h(),I(w,{key:0,name:c.icon,class:"size-5 text-primary-500"},null,8,["name"])):E("",!0),v("span",null,Y(c.title),1)])]),_:2},1032,["class"])])]),_:2},1032,["open","onUpdate:open"])]))),128))])):E("",!0),v("div",{class:he(["relative overflow-auto transition-all duration-300 ease-in-out ",f.value?"w-72 border-r border-neutral-300":"w-0"])},[f.value?(h(),D("div",qd,[v("div",Wd,[n[79]||(n[79]=v("h1",{class:"font-semibold text-lg"},"Inställningar",-1)),S(_,{icon:f.value?"i-heroicons-chevron-left":"i-heroicons-chevron-right",variant:"outline",color:"neutral",class:"rounded-full left-4 z-10",onClick:n[22]||(n[22]=c=>f.value=!f.value)},null,8,["icon"])]),S(Ma,{variant:"soft",ui:{body:"p-2 sm:p-3"},class:"mb-2"},{default:$(()=>[v("div",Gd,[n[81]||(n[81]=v("div",{class:"text-xs text-neutral-500"},"UI‑zoom",-1)),v("div",Yd,[S(_,{color:"neutral",variant:"soft",size:"xs",icon:"i-heroicons-minus",onClick:n[23]||(n[23]=c=>_t.value=Math.max(.75,+(_t.value-.1).toFixed(2)))}),v("div",Zd,Y(Math.round(_t.value*100))+"% ",1),S(_,{color:"neutral",variant:"soft",size:"xs",icon:"i-heroicons-plus",onClick:n[24]||(n[24]=c=>_t.value=Math.min(2,+(_t.value+.1).toFixed(2)))}),S(_,{color:"neutral",variant:"ghost",size:"xs",title:"Återställ (100%)",onClick:n[25]||(n[25]=c=>_t.value=1)},{default:$(()=>[...n[80]||(n[80]=[Lt(" Reset ",-1)])]),_:1})])])]),_:1}),pe.value?(h(),D("div",Kd,[S(qt,{size:"lg",items:ot.value,modelValue:et.value,"onUpdate:modelValue":n[26]||(n[26]=c=>et.value=c),placeholder:W.value.label,"append-to-body":"",variant:"outline",class:"w-full"},{item:$(({item:c})=>[v("div",Xd,[v("div",Jd,Y(c.label),1),c.description?(h(),D("div",Qd,Y(c.description),1)):E("",!0)])]),_:1},8,["items","modelValue","placeholder"]),S(qt,{size:"lg",items:ot.value,modelValue:pa.value,"onUpdate:modelValue":n[27]||(n[27]=c=>pa.value=c),placeholder:De.value.label,"append-to-body":"",variant:"outline",class:"w-full"},{item:$(({item:c})=>[v("div",ev,[v("div",tv,Y(c.label),1),c.description?(h(),D("div",av,Y(c.description),1)):E("",!0)])]),_:1},8,["items","modelValue","placeholder"])])):(h(),D(ze,{key:1},[n[82]||(n[82]=v("h1",{class:"text-xs text-neutral-400"},"Skogsbruksmetod",-1)),S(qt,{size:"xl",items:ot.value,modelValue:et.value,"onUpdate:modelValue":n[28]||(n[28]=c=>et.value=c),placeholder:W.value.label,"append-to-body":"",variant:"subtle",class:"w-full"},{item:$(({item:c})=>[v("div",rv,[v("div",nv,Y(c.label),1),c.description?(h(),D("div",sv,Y(c.description),1)):E("",!0)])]),_:1},8,["items","modelValue","placeholder"])],64)),v("div",lv,[v("div",iv,[v("div",ov,[Tt.value||Ct.value||tt.value?(h(),I(xe,{key:0,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Te.value,"onUpdate:modelValue":n[29]||(n[29]=c=>Te.value=c),label:"Hänsynsträd"},null,8,["modelValue"])):E("",!0),Tt.value||Ct.value||tt.value?(h(),I(xe,{key:1,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ge.value,"onUpdate:modelValue":n[30]||(n[30]=c=>ge.value=c),label:"Kanteffekt"},null,8,["modelValue"])):E("",!0),Tt.value||Ct.value||tt.value?(h(),I(xe,{key:2,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Ce.value,"onUpdate:modelValue":n[31]||(n[31]=c=>Ce.value=c),label:"Omkringliggande skog"},null,8,["modelValue"])):E("",!0),S(xe,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Ae.value,"onUpdate:modelValue":n[32]||(n[32]=c=>Ae.value=c),label:"Småplantor"},null,8,["modelValue"]),Ct.value&&ge.value?(h(),I(Ma,{key:3,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"}},{default:$(()=>[S(xe,{ui:{root:"flex-row-reverse justify-between"},size:"xs",color:"neutral",modelValue:fe.value,"onUpdate:modelValue":n[33]||(n[33]=c=>fe.value=c),label:"Tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):E("",!0),tt.value?(h(),I(xe,{key:4,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:be.value,"onUpdate:modelValue":n[34]||(n[34]=c=>be.value=c),label:"Rottäcke skärmträd"},null,8,["modelValue"])):E("",!0),Ya.value?(h(),I(xe,{key:5,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Fe.value,"onUpdate:modelValue":n[35]||(n[35]=c=>Fe.value=c),label:"Rottäcke blädning"},null,8,["modelValue"])):E("",!0),S(xe,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Le.value,"onUpdate:modelValue":n[36]||(n[36]=c=>Le.value=c),label:"Högstubbar"},null,8,["modelValue"]),Tt.value||Ct.value||Ya.value||tt.value?(h(),I(xe,{key:6,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:x.value,"onUpdate:modelValue":n[37]||(n[37]=c=>x.value=c),label:"Naturvårdsarter"},null,8,["modelValue"])):E("",!0),tt.value?(h(),I(xe,{key:7,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:_e.value,"onUpdate:modelValue":n[38]||(n[38]=c=>_e.value=c),label:"Fröträd"},null,8,["modelValue"])):E("",!0),S(xe,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Oe.value,"onUpdate:modelValue":n[39]||(n[39]=c=>Oe.value=c),label:"Trädplantor"},null,8,["modelValue"]),S(xe,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:le.value,"onUpdate:modelValue":n[40]||(n[40]=c=>le.value=c),label:"Spara klick (dev)"},null,8,["modelValue"]),S(xe,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:ae.value,"onUpdate:modelValue":n[41]||(n[41]=c=>ae.value=c),label:"Visa myc-etiketter (dev)"},null,8,["modelValue"]),S(xe,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:Se.value,"onUpdate:modelValue":n[42]||(n[42]=c=>Se.value=c),label:"Visa naturvårdssiffra (dev)"},null,8,["modelValue"])])])])])):E("",!0)],2),v("div",uv,[!ke.value&&!pe.value?(h(),D("div",cv,[S(z(l),{"tradplantor-visible":Oe.value,"naturvardsarter-visible":x.value,"hogstubbar-visible":Le.value,"smaplantor-visible":Ae.value,"dev-save-clicks":le.value,"show-overlay-labels":ae.value,"show-naturvard-counter":Se.value,"seedTree-visible":_e.value,"rottacke-skarmtrad-visible":be.value,"rottacke-bladning-visible":Fe.value,"retention-visible":Te.value,"old-kanteffekt-visible":fe.value,"kanteffekt-visible":ge.value,"omkringliggande-skog-visible":Ce.value,"retention-points":oe.value.retention,"seed-tree-points":oe.value.seedTree,"smaplantor-points":oe.value.smaplantor,"hogstubbar-points":oe.value.hogstubbar,"naturvardsarter-points":oe.value.naturvardsarter,"kanteffekt-features":oe.value.kanteffekt,fullscreenLayout:!0,currentFramework:W.value,currentTime:Ie.value,currentStartskog:se.value,layoutMode:J.value,ref_key:"singleViewerRef",ref:La,frameworkLabel:W.value.label,timeLabel:Ue.value,dziUrl:xl.value,overlayDziUrl:Va.value,allowPan:!0,annotations:y.value?jl.value:[],selectedAnnotation:Wa.value,globalOpacity:Qe.value,"onUpdate:globalOpacity":n[43]||(n[43]=c=>Qe.value=c),onAnnotationClicked:wl,class:"w-full h-full ui-zoom-exempt"},null,8,["tradplantor-visible","naturvardsarter-visible","hogstubbar-visible","smaplantor-visible","dev-save-clicks","show-overlay-labels","show-naturvard-counter","seedTree-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","retention-visible","old-kanteffekt-visible","kanteffekt-visible","omkringliggande-skog-visible","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","annotations","selectedAnnotation","globalOpacity"]),S(ni,{name:"slide-out"},{default:$(()=>[Wa.value?(h(),D("div",dv,[n[83]||(n[83]=v("div",{class:"h-64 flex items-center justify-center text-neutral-300"}," Bild kommer snart ",-1)),S(_,{color:"white",ui:{rounded:"rounded-full"},icon:"heroicons:x-mark",onClick:Sl,class:"absolute top-2 right-2"}),v("div",vv,[v("h3",fv,Y(Wa.value.title),1),v("p",mv,Y(Wa.value.text),1)])])):E("",!0)]),_:1})])):ke.value?(h(),I(rs,{key:1,class:"w-full",ref_key:"comparisonSliderRef",ref:Ge,frameworkLabel:W.value.label,timeLabel:"Före avverkning",frameworkLabel2:W.value.label,timeLabel2:Ue.value,layoutMode:J.value},{first:$(()=>[ea.value?(h(),I(z(l),{key:1,"naturvardsarter-visible":x.value,"retention-visible":Te.value,"kanteffekt-visible":ge.value,"omkringliggande-skog-visible":Ce.value,"old-kanteffekt-visible":fe.value,"rottacke-skarmtrad-visible":be.value,"rottacke-bladning-visible":Fe.value,"seedTree-visible":_e.value,"smaplantor-visible":Ae.value,"hogstubbar-visible":Le.value,"tradplantor-visible":Oe.value,fullscreenLayout:!0,"show-overlay-labels":ae.value,"show-naturvard-counter":Se.value,"retention-points":at.value.retention,"seed-tree-points":at.value.seedTree,"smaplantor-points":at.value.smaplantor,"hogstubbar-points":at.value.hogstubbar,"naturvardsarter-points":at.value.naturvardsarter,"kanteffekt-features":at.value.kanteffekt,currentFramework:W.value,currentTime:"innan",currentStartskog:se.value,layoutMode:J.value,ref_key:"beforeViewerRef",ref:ht,comparisonMode:!0,frameworkLabel:W.value.label,timeLabel:"Före avverkning",dziUrl:Dn.value,overlayDziUrl:Zn.value,allowPan:!0,onOpened:n[46]||(n[46]=c=>It("before")),onActivated:n[47]||(n[47]=c=>At.value.valueOf="before"),globalOpacity:Qe.value,"onUpdate:globalOpacity":n[48]||(n[48]=c=>Qe.value=c),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentStartskog","layoutMode","frameworkLabel","dziUrl","overlayDziUrl","globalOpacity"])):(h(),I(z(l),{key:0,"naturvardsarter-visible":x.value,"retention-visible":Te.value,"kanteffekt-visible":ge.value,"omkringliggande-skog-visible":Ce.value,"old-kanteffekt-visible":fe.value,"rottacke-skarmtrad-visible":be.value,"rottacke-bladning-visible":Fe.value,"seedTree-visible":_e.value,"smaplantor-visible":Ae.value,"hogstubbar-visible":Le.value,"tradplantor-visible":Oe.value,fullscreenLayout:!0,"show-overlay-labels":ae.value,"show-naturvard-counter":Se.value,"retention-points":at.value.retention,"seed-tree-points":at.value.seedTree,"smaplantor-points":at.value.smaplantor,"hogstubbar-points":at.value.hogstubbar,"naturvardsarter-points":at.value.naturvardsarter,"kanteffekt-features":at.value.kanteffekt,currentFramework:W.value,currentTime:"innan",currentStartskog:se.value,layoutMode:J.value,ref_key:"beforeViewerRef",ref:ht,comparisonMode:!0,frameworkLabel:W.value.label,timeLabel:"Före avverkning",dziUrl:Dn.value,overlayDziUrl:Zn.value,allowPan:!0,onOpened:n[44]||(n[44]=c=>It("before")),onActivated:n[45]||(n[45]=c=>At.value.valueOf="before"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentStartskog","layoutMode","frameworkLabel","dziUrl","overlayDziUrl"]))]),second:$(()=>[ea.value?(h(),I(z(l),{key:1,"naturvardsarter-visible":x.value,"retention-visible":Te.value,"kanteffekt-visible":ge.value,"omkringliggande-skog-visible":Ce.value,"old-kanteffekt-visible":fe.value,"rottacke-skarmtrad-visible":be.value,"rottacke-bladning-visible":Fe.value,"seedTree-visible":_e.value,"smaplantor-visible":Ae.value,"hogstubbar-visible":Le.value,"tradplantor-visible":Oe.value,fullscreenLayout:!0,"show-overlay-labels":ae.value,"show-naturvard-counter":Se.value,"retention-points":oe.value.retention,"seed-tree-points":oe.value.seedTree,"smaplantor-points":oe.value.smaplantor,"hogstubbar-points":oe.value.hogstubbar,"naturvardsarter-points":oe.value.naturvardsarter,"kanteffekt-features":oe.value.kanteffekt,currentFramework:W.value,currentTime:Ie.value,currentStartskog:se.value,layoutMode:J.value,ref_key:"afterViewerRef",ref:gt,comparisonMode:!0,frameworkLabel:W.value.label,timeLabel:Ue.value,dziUrl:zn.value,overlayDziUrl:Va.value,allowPan:!0,sliderPosition:"right",onOpened:n[51]||(n[51]=c=>It("after")),onActivated:n[52]||(n[52]=c=>At.value.valueOf="after"),globalOpacity:Qe.value,"onUpdate:globalOpacity":n[53]||(n[53]=c=>Qe.value=c),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","globalOpacity"])):(h(),I(z(l),{key:0,"naturvardsarter-visible":x.value,"retention-visible":Te.value,"kanteffekt-visible":ge.value,"omkringliggande-skog-visible":Ce.value,"old-kanteffekt-visible":fe.value,"rottacke-skarmtrad-visible":be.value,"rottacke-bladning-visible":Fe.value,"seedTree-visible":_e.value,"smaplantor-visible":Ae.value,"hogstubbar-visible":Le.value,"tradplantor-visible":Oe.value,fullscreenLayout:!0,"show-overlay-labels":ae.value,"show-naturvard-counter":Se.value,"retention-points":oe.value.retention,"seed-tree-points":oe.value.seedTree,"smaplantor-points":oe.value.smaplantor,"hogstubbar-points":oe.value.hogstubbar,"naturvardsarter-points":oe.value.naturvardsarter,"kanteffekt-features":oe.value.kanteffekt,currentFramework:W.value,currentTime:Ie.value,currentStartskog:se.value,layoutMode:J.value,ref_key:"afterViewerRef",ref:gt,comparisonMode:!0,frameworkLabel:W.value.label,timeLabel:Ue.value,dziUrl:zn.value,overlayDziUrl:Va.value,allowPan:!0,sliderPosition:"right",onOpened:n[49]||(n[49]=c=>It("after")),onActivated:n[50]||(n[50]=c=>At.value.valueOf="after"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl"]))]),_:1},8,["frameworkLabel","frameworkLabel2","timeLabel2","layoutMode"])):pe.value?(h(),I(rs,{key:2,ref_key:"comparisonSliderRef",ref:Ge,frameworkLabel:W.value.label,timeLabel:Ue.value,frameworkLabel2:De.value.label,timeLabel2:Ue.value,layoutMode:J.value,class:"w-full"},{first:$(()=>[ea.value?(h(),I(z(l),{key:1,"naturvardsarter-visible":x.value,"retention-visible":Te.value,"kanteffekt-visible":ge.value,"old-kanteffekt-visible":fe.value,"rottacke-skarmtrad-visible":be.value,"rottacke-bladning-visible":Fe.value,"seedTree-visible":_e.value,"smaplantor-visible":Ae.value,"hogstubbar-visible":Le.value,"tradplantor-visible":Oe.value,fullscreenLayout:!0,"show-overlay-labels":ae.value,"show-naturvard-counter":Se.value,"retention-points":oe.value.retention,"seed-tree-points":oe.value.seedTree,"smaplantor-points":oe.value.smaplantor,"hogstubbar-points":oe.value.hogstubbar,"naturvardsarter-points":oe.value.naturvardsarter,"kanteffekt-features":oe.value.kanteffekt,currentFramework:W.value,currentTime:Ie.value,currentStartskog:se.value,layoutMode:J.value,ref_key:"framework1ViewerRef",ref:bt,comparisonMode:!0,frameworkLabel:W.value.label,timeLabel:Ue.value,dziUrl:$n.value,overlayDziUrl:Va.value,allowPan:!ke.value&&!pe.value,globalOpacity:Qe.value,"onUpdate:globalOpacity":n[57]||(n[57]=c=>Qe.value=c),onViewportChanged:n[58]||(n[58]=c=>ar("framework1",c)),onOpened:n[59]||(n[59]=c=>It("framework1")),onActivated:n[60]||(n[60]=c=>At.value.valueOf="framework1"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan","globalOpacity"])):(h(),I(z(l),{key:0,"naturvardsarter-visible":x.value,"retention-visible":Te.value,"kanteffekt-visible":ge.value,"omkringliggande-skog-visible":Ce.value,"old-kanteffekt-visible":fe.value,"rottacke-skarmtrad-visible":be.value,"rottacke-bladning-visible":Fe.value,"seedTree-visible":_e.value,"smaplantor-visible":Ae.value,"hogstubbar-visible":Le.value,"tradplantor-visible":Oe.value,fullscreenLayout:!0,"show-overlay-labels":ae.value,"show-naturvard-counter":Se.value,"retention-points":oe.value.retention,"seed-tree-points":oe.value.seedTree,"smaplantor-points":oe.value.smaplantor,"hogstubbar-points":oe.value.hogstubbar,"naturvardsarter-points":oe.value.naturvardsarter,"kanteffekt-features":oe.value.kanteffekt,currentFramework:W.value,currentTime:Ie.value,currentStartskog:se.value,layoutMode:J.value,ref_key:"framework1ViewerRef",ref:bt,comparisonMode:!0,frameworkLabel:W.value.label,timeLabel:Ue.value,dziUrl:$n.value,overlayDziUrl:Va.value,allowPan:!ke.value&&!pe.value,onViewportChanged:n[54]||(n[54]=c=>ar("framework1",c)),onOpened:n[55]||(n[55]=c=>It("framework1")),onActivated:n[56]||(n[56]=c=>At.value.valueOf="framework1"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan"]))]),second:$(()=>[ea.value?(h(),I(z(l),{key:1,"naturvardsarter-visible":x.value,"retention-visible":Te.value,"kanteffekt-visible":ge.value,"old-kanteffekt-visible":fe.value,"rottacke-skarmtrad-visible":be.value,"rottacke-bladning-visible":Fe.value,"seedTree-visible":_e.value,"smaplantor-visible":Ae.value,"hogstubbar-visible":Le.value,"tradplantor-visible":Oe.value,fullscreenLayout:!0,"show-overlay-labels":ae.value,"show-naturvard-counter":Se.value,"retention-points":rt.value.retention,"seed-tree-points":rt.value.seedTree,"smaplantor-points":rt.value.smaplantor,"hogstubbar-points":rt.value.hogstubbar,"naturvardsarter-points":rt.value.naturvardsarter,"kanteffekt-features":rt.value.kanteffekt,currentFramework:De.value,currentTime:Ie.value,currentStartskog:se.value,layoutMode:J.value,ref_key:"framework2ViewerRef",ref:kt,comparisonMode:!0,frameworkLabel:De.value.label,timeLabel:Ue.value,dziUrl:jn.value,overlayDziUrl:Kn.value,globalOpacity:Qe.value,"onUpdate:globalOpacity":n[64]||(n[64]=c=>Qe.value=c),allowPan:!ke.value&&!pe.value,sliderPosition:"right",onViewportChanged:n[65]||(n[65]=c=>ar("framework2",c)),onOpened:n[66]||(n[66]=c=>It("framework2")),onActivated:n[67]||(n[67]=c=>At.value.valueOf="framework2"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","globalOpacity","allowPan"])):(h(),I(z(l),{key:0,"naturvardsarter-visible":x.value,"retention-visible":Te.value,"kanteffekt-visible":ge.value,"old-kanteffekt-visible":fe.value,"rottacke-skarmtrad-visible":be.value,"rottacke-bladning-visible":Fe.value,"seedTree-visible":_e.value,"smaplantor-visible":Ae.value,"hogstubbar-visible":Le.value,"tradplantor-visible":Oe.value,fullscreenLayout:!0,"show-overlay-labels":ae.value,"show-naturvard-counter":Se.value,"retention-points":rt.value.retention,"seed-tree-points":rt.value.seedTree,"smaplantor-points":rt.value.smaplantor,"hogstubbar-points":rt.value.hogstubbar,"naturvardsarter-points":rt.value.naturvardsarter,"kanteffekt-features":rt.value.kanteffekt,currentFramework:De.value,currentTime:Ie.value,currentStartskog:se.value,layoutMode:J.value,ref_key:"framework2ViewerRef",ref:kt,comparisonMode:!0,frameworkLabel:De.value.label,timeLabel:Ue.value,dziUrl:jn.value,overlayDziUrl:Kn.value,allowPan:!ke.value&&!pe.value,sliderPosition:"right",onViewportChanged:n[61]||(n[61]=c=>ar("framework2",c)),onOpened:n[62]||(n[62]=c=>It("framework2")),onActivated:n[63]||(n[63]=c=>At.value.valueOf="framework2"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan"]))]),_:1},8,["frameworkLabel","timeLabel","frameworkLabel2","timeLabel2","layoutMode"])):E("",!0)]),qa.value?E("",!0):(h(),D("div",pv,[v("div",hv,[!ke.value&&!pe.value?(h(),D("div",gv,[v("div",{class:"p-3 group text-base/7",onClick:Je},[S(sa,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:$(()=>[v("div",kv,[(h(),D(ze,null,Ze(Bt,(c,Me)=>v("div",{key:c.id,onClick:Yr=>et.value=Me,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[v("div",null,[v("div",_v,Y(c.label),1),v("div",xv,Y(c.text),1)])],8,yv)),64))])]),default:$(()=>[v("h2",bv,Y(W.value.label),1)]),_:1}),v("div",wv,[v("h3",Sv,Y(Ue.value),1),S(_,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",color:"neutral",variant:"soft",size:"xs",label:it.value?"Dölj info":"Visa info",onClick:Sa},null,8,["label"])]),it.value&&nt.value?(h(),D("div",Tv,[v("p",{class:"mb-4 text-neutral-50",innerHTML:je(nt.value.skog)},null,8,Cv),v("div",null,[n[84]||(n[84]=v("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),v("span",{class:"text-neutral-50",innerHTML:je(nt.value.svamp)},null,8,Av)])])):it.value?(h(),D("div",Vv," Ingen tidslinjeinformation hittades för den här kombinationen. ")):E("",!0)])])):ke.value?(h(),D("div",Lv,[Qa.value?(h(),D("div",{key:0,class:"p-3 group text-base/7",onClick:Je},[S(sa,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:$(()=>[v("div",Fv,[(h(),D(ze,null,Ze(Bt,(c,Me)=>v("div",{key:c.id,onClick:Yr=>et.value=Me,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[v("div",null,[v("div",Dv,Y(c.label),1),v("div",zv,Y(c.text),1)])],8,Ov)),64))])]),default:$(()=>[v("h2",Mv,Y(W.value.label),1)]),_:1}),v("div",$v,[n[85]||(n[85]=v("h3",{class:"text-md text-neutral-200"}," Före avverkning ",-1)),S(_,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:it.value?"Dölj info":"Visa info",onClick:Sa},null,8,["label"])]),it.value?(h(),D("div",jv,[v("p",{class:"mb-2 text-neutral-50",innerHTML:je(Qa.value.skog)},null,8,Ev),v("div",null,[n[86]||(n[86]=v("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),v("span",{class:"text-neutral-50",innerHTML:je(Qa.value.svamp)},null,8,Nv)])])):E("",!0)])):E("",!0),nt.value?(h(),D("div",{key:1,class:"p-4 group border border-neutral-200/10 rounded-sm shadow bg-neutral-950/20",onClick:Je},[v("div",Bv,[v("h3",Rv,Y(Ue.value),1),S(_,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:Ot.value?"Dölj info":"Visa info",onClick:Dt},null,8,["label"])]),Ot.value?(h(),D("div",Pv,[v("p",{class:"mb-2 text-neutral-50",innerHTML:je(nt.value.skog)},null,8,Uv),v("div",null,[n[87]||(n[87]=v("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),v("span",{class:"text-neutral-50",innerHTML:je(nt.value.svamp)},null,8,Iv)])])):E("",!0)])):E("",!0)])):pe.value?(h(),D("div",Hv,[nt.value?(h(),D("div",{key:0,class:"p-3 group text-base/7",onClick:Je},[S(sa,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:$(()=>[v("div",Wv,[(h(),D(ze,null,Ze(Bt,(c,Me)=>v("div",{key:c.id,onClick:Yr=>et.value=Me,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[v("div",null,[v("div",Yv,Y(c.label),1),v("div",Zv,Y(c.text),1)])],8,Gv)),64))])]),default:$(()=>[v("h2",qv,Y(W.value.label),1)]),_:1}),v("div",Kv,[v("h3",Xv,Y(Ue.value),1),S(_,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:it.value?"Dölj info":"Visa info",onClick:Sa},null,8,["label"])]),it.value?(h(),D("div",Jv,[v("p",{class:"mb-2 text-neutral-50",innerHTML:je(nt.value.skog)},null,8,Qv),v("div",null,[n[88]||(n[88]=v("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),v("span",{class:"text-neutral-50",innerHTML:je(nt.value.svamp)},null,8,ef)])])):E("",!0)])):E("",!0),Ja.value?(h(),D("div",{key:1,class:"p-4 group border border-neutral-200/10 rounded-sm shadow bg-neutral-950/20",onClick:Je},[S(sa,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:$(()=>[v("div",af,[(h(),D(ze,null,Ze(Bt,(c,Me)=>v("div",{key:"framework2-"+c.id,onClick:Yr=>pa.value=Me,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[v("div",null,[v("div",nf,Y(c.label),1),v("div",sf,Y(c.text),1)])],8,rf)),64))])]),default:$(()=>[v("h2",tf,Y(De.value.label),1)]),_:1}),v("div",lf,[v("h3",of,Y(Ue.value),1),S(_,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:Ot.value?"Dölj info":"Visa info",onClick:Dt},null,8,["label"])]),Ot.value?(h(),D("div",uf,[v("p",{class:"mb-2 text-neutral-50",innerHTML:je(Ja.value.skog)},null,8,cf),v("div",null,[n[89]||(n[89]=v("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),v("span",{class:"text-neutral-50",innerHTML:je(Ja.value.svamp)},null,8,df)])])):E("",!0)])):E("",!0)])):E("",!0),v("div",vf,[v("div",ff,[We.value?(h(),I(_,{key:0,size:"xl",onClick:Ar,variant:"ghost",class:"text-white hover:bg-neutral-500/20 w-full",label:Ia.value,icon:"i-heroicons-arrow-left-circle"},null,8,["label"])):E("",!0)]),v("div",mf,[Ua.value?(h(),I(_,{key:0,size:"xl",onClick:Vr,variant:"ghost",class:"w-full text-white hover:bg-neutral-500/20 flex justify-end",trailing:"",label:Qt.value,icon:"i-heroicons-arrow-right-circle"},null,8,["label"])):E("",!0)])])])]))])])])}}}),gf=Object.assign(Ms(hf,[["__scopeId","data-v-992ff45d"]]),{__name:"Model"}),bf={key:0,class:"flex-1"},kf=["onClick"],yf={class:"text-lg p-2 px-3 font-medium"},_f={class:"w-full ring ring-muted/50 rounded relative overflow-hidden shadow"},xf={class:"sm:grid grid-cols-2"},wf={class:"px-6 sm:px-12 sm:border-r border-muted/50"},Sf={class:"my-4 text-3xl sm:text-4xl font-medium text-neutral-900"},Tf={class:"px-6 sm:px-12"},Cf={class:"p-6 pb-2"},Af={class:"font-semibold"},Vf={class:"lg:flex gap-4 space-y-2 lg:space-y-0"},Lf=["src"],Mf={class:"w-full px-6 border border-muted/50 bg-muted/50 rounded h-fit"},Ff={class:"w-full bg-white px-6 border border-muted/50 rounded h-fit"},Of={class:"bg-muted border-t border-muted mt-18"},Df=ut({__name:"index",async setup(e){let t,a;const r=L(!1),{data:l}=([t,a]=He(()=>Re("skogsskotsel",()=>qe("skogsskotsel").first())),t=await t,a(),t);if(!l.value)throw li({statusCode:404,statusMessage:"Page not found",fatal:!0});const i=V=>{const k=V?.toLowerCase?.()??"";return k==="intekalavverkad"?"naturskog":k==="produktionsskog"?"produktionsskog_":V},u=V=>(V?.toLowerCase?.()??"")==="ingenatgard"?"naturskydd":V,o=V=>{const k=String(V).trim().toLowerCase();return k.includes("efter")?"efter":k.includes("innan")||k.includes("före")||k.includes("fore")?"fore":k.replace(/[^0-9]/g,"")||k},d=(V,k,N)=>{const A=Z=>Z.trim().normalize("NFD").replace(/å/gi,"a").replace(/ä/gi,"a").replace(/ö/gi,"o").replace(new RegExp("\\p{Diacritic}+","gu"),"").toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,"");return`/images/thumbnails/${`${A(V)}_${o(String(k))}_visa_visa_${A(N)}.webp`}`},{data:C}=([t,a]=He(()=>Re("forestry-timeline-skogsskotsel",()=>qe("forestryTimelines").first())),t=await t,a(),t),p=g(()=>{const V=C.value?.entries??[],k=B.value.id,N=u(k);return V.map(A=>({...A,startskog:i(A.startskog),atgard:u(A.atgard)})).filter(A=>A.startskog==="naturskog"&&A.atgard===N).map(A=>({tid:A.tid,skog:A.skog,svamp:A.svamp,thumb:d(A.atgard,A.tid,A.startskog)}))}),m=L([{label:"Diagram",icon:"i-heroicons-presentation-chart-line",slot:"diagram"},{label:"Tidslinje",icon:"i-heroicons-list-bullet",slot:"timeline"},{label:"Text",icon:"i-heroicons-book-open",slot:"text"}]),T=g(()=>l.value?.methods??[]),O={id:"",title:"",image:"",shortdescription:"",description:"",descriptionsvamp:""},j=L("");ii(()=>{const V=T.value[0];V&&!j.value&&(j.value=V.id)});const B=g(()=>{const V=T.value;return V.length?V.find(k=>k.id===j.value)??V[0]:O});return(V,k)=>{const N=Sn,A=ci,U=gf,Z=di,re=Ni,G=oi,Q=Tn,ee=vi,ce=Bi,ne=Ri,de=fi,K=_l,J=Pi,Ft=Os,le=Ui;return z(l)?(h(),D("div",bf,[S(G,{class:"w-full px-0"},{default:$(()=>[S(re,{ui:{container:"py-12 lg:py-24",title:"sm:text-7xl",headline:"text-neutral"},title:z(l).hero.title,description:z(l).hero.description,orientation:z(l).hero.orientation,class:""},ui({_:2},[z(l)?.hero?.links?.[0]?{name:"links",fn:$(()=>[S(A,{color:"warning",size:"2xl"},{default:$(()=>[S(N,{label:z(l).hero.links[0].label,size:z(l).hero.links[0].size,color:z(l).hero.links[0].color,icon:z(l).hero.links[0].icon,onClick:k[0]||(k[0]=ae=>r.value=!0)},null,8,["label","size","color","icon"])]),_:1}),S(Z,{open:r.value,"onUpdate:open":k[2]||(k[2]=ae=>r.value=ae),fullscreen:""},{content:$(()=>[S(U,{onClose:k[1]||(k[1]=ae=>r.value=!1)})]),_:1},8,["open"])]),key:"0"}:void 0]),1032,["title","description","orientation"])]),_:1}),S(G,{class:"w-full flex justify-between py-4 gap-6 overflow-scroll lg:overflow-hidden"},{default:$(()=>[(h(!0),D(ze,null,Ze(T.value,ae=>(h(),I(ce,{key:ae.id,class:"relative",initial:{scale:1,transform:"translateY(10px)",opacity:0},animate:{scale:1,transform:"translateY(0px)",opacity:1},transition:{duration:.3,delay:.3+.05*(ae.index??0)}},{default:$(()=>[v("div",{onClick:Se=>j.value=ae.id,class:he(["shrink-0 lg:shrink w-58 lg:w-full bg-white transition-all hover:opacity-100 border border-muted/50 overflow-hidden rounded h-fit shadow hover:shadow-md relative cursor-pointer",j.value===ae.id?"opacity-100":"opacity-30"])},[ae.type?(h(),I(Q,{key:0,class:"absolute top-2 left-2",label:ae.type,color:"neutral",variant:"subtle"},null,8,["label"])):E("",!0),S(ee,{src:ae.image,width:"300",height:"160",class:"w-full h-full"},null,8,["src"]),v("h1",yf,Y(ae.title),1)],10,kf)]),_:2},1032,["transition"]))),128))]),_:1}),S(G,{class:"w-full pt-2 px-0 sm:px-6"},{default:$(()=>[S(ce,{class:"flex justify-center w-full",initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0px)"},transition:{duration:.5,delay:1}},{default:$(()=>[v("div",_f,[S(Ft,{ui:{list:"p-2 justify-center sm:justify-start",root:""},items:m.value,color:"primary",size:"md",class:"w-full",variant:"link"},{text:$(()=>[S(de,{class:"pt-4 sm:p-6"},{default:$(()=>[v("div",xf,[v("div",wf,[v("h1",Sf,Y(B.value.title),1),S(ne,{class:"text-lg text-neutral-800 mb-8",value:B.value.description},null,8,["value"])]),v("div",Tf,[k[3]||(k[3]=v("h1",{class:"my-4 text-2xl font-medium text-neutral-900"},"Påverkan på mykorrhizasvampar ",-1)),S(ne,{class:"text-lg text-neutral-800",value:B.value.descriptionsvamp},null,8,["value"])])])]),_:1})]),diagram:$(()=>[S(K,{parentSelectedFrameworks:[B.value.id],currentStartskog:"naturskog"},null,8,["parentSelectedFrameworks"])]),timeline:$(()=>[v("div",Cf,[S(J,{items:p.value,size:"3xs",ui:{indicator:"bg-neutral-200/50 ",separator:"bg-neutral-200/50",description:"p-0 mt-2 text-default"}},{title:$(({item:ae})=>[v("span",Af,Y(ae.tid),1)]),description:$(({item:ae})=>[v("div",Vf,[v("img",{src:ae.thumb,class:"w-80 h-fit rounded"},null,8,Lf),v("div",Mf,[S(ne,{value:ae.skog},null,8,["value"])]),v("div",Ff,[S(ne,{value:ae.svamp},null,8,["value"])])])]),_:1},8,["items"])])]),_:1},8,["items"])])]),_:1})]),_:1}),v("div",Of,[S(le,{section:z(l).carousel},null,8,["section"])])])):E("",!0)}}}),qf=Object.freeze(Object.defineProperty({__proto__:null,default:Df},Symbol.toStringTag,{value:"Module"}));export{Rc as D,Nc as a,qf as i,Ec as u};
