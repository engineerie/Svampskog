const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DMwyQ_V7.js","./DXohsJyc.js","./entry.B-6UOPsD.css","./Cpj98o6Y.js","./D6cKXRgt.js","./747IVAhr.js","./B0VoygWj.js","./DMQLQ62E.js","./BWuJ0jvd.js","./DgyrdPy0.js","./CcbwAkLh.js","./hg6Rz1vw.js","./o2I9E7u7.js","./DSuDQZqg.js","./DfyBcFo5.js","./iik6CYzq.js","./B9i8ASNm.js","./Bef1NJ4Y.js","./SCarousel.DbZX_4vZ.css","./OpenSeadragonViewer.CRlQGVcM.css"])))=>i.map(i=>d[i]);
import{A as yt,C as gs,I as Ml,Z as ks,V as h,B as Fl,M as q,e as g,w as z,N as Rt,f as N,O as E,Y as bs,S as Ol,U as ua,P as dn,a3 as Qn,a4 as zl,a5 as $l,y as Dl,a9 as jl,a8 as El,aQ as Nl,aR as Pl,aa as es,h as v,d as D,n as he,g as w,am as Za,F as Pe,ah as At,t as Y,aI as vn,r as M,o as Bt,K as ea,c as fa,J as X,aC as Ee,aD as Oe,aE as Ne,aS as ys,aT as Aa,aU as Hr,aV as Ul,af as Ge,aO as Rl,ae as fn,aW as _s,_ as xs,aM as ws,aB as mn,aX as pn,aY as Il,p as Bl,aL as ql,aZ as Hl,a_ as Gl,a$ as Wl,b0 as Yl,T as Zl,b as Kl,aH as Xl,b1 as Jl,aG as Ql,ad as ei,ao as ti,au as ai,aA as ri,aK as ni}from"#entry";import{_ as Ss}from"./D6cKXRgt.js";import{L as si,_ as Cs,a as li,b as ii}from"./DMQLQ62E.js";import{u as oi,V as ui}from"./BWuJ0jvd.js";import{X as hn,c as Le,i as sr,a as gn,D as Qt,b as da,d as Ja,g as Tt,e as It,f as Ma,s as ma,h as ci,j as bt,O as Ts,m as Nr,k as di,l as vi,r as fi,n as mi,o as pi,p as hi,q as gi,t as ki,u as bi,v as yi,w as Gr,P as _i,x as xi,y as wi,z as Si,A as Ci,B as kn,C as lr,E as ir,S as Ti,F as Ai,G as ts}from"./DgyrdPy0.js";import{d as Vi}from"./CcbwAkLh.js";import{_ as Li}from"./hg6Rz1vw.js";import{M as Mi}from"./o2I9E7u7.js";import{_ as Fi}from"./DSuDQZqg.js";import{_ as Oi}from"./B9i8ASNm.js";import{_ as zi}from"./Bef1NJ4Y.js";const[$i,Di]=Fl("SwitchRoot");var ji=yt({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,n=t,{disabled:l}=gs(a),i=Ml(a,"modelValue",n,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function c(){l.value||(i.value=!i.value)}const{forwardRef:o,currentElement:d}=ks(),A=oi(d),m=h(()=>a.id&&d.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return Di({modelValue:i,toggleCheck:c,disabled:l}),(f,C)=>(g(),q(E(dn),bs(f.$attrs,{id:f.id,ref:E(o),role:"switch",type:f.as==="button"?"button":void 0,value:f.value,"aria-label":f.$attrs["aria-label"]||m.value,"aria-checked":E(i),"aria-required":f.required,"data-state":E(i)?"checked":"unchecked","data-disabled":E(l)?"":void 0,"as-child":f.asChild,as:f.as,disabled:E(l),onClick:c,onKeydown:Ol(ua(c,["prevent"]),["enter"])}),{default:z(()=>[Rt(f.$slots,"default",{modelValue:E(i)}),E(A)&&f.name?(g(),q(E(ui),{key:0,type:"checkbox",name:f.name,disabled:E(l),required:f.required,value:f.value,checked:!!E(i)},null,8,["name","disabled","required","value","checked"])):N("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),Ei=ji,Ni=yt({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=$i();return ks(),(a,n)=>(g(),q(E(dn),{"data-state":E(t).modelValue?.value?"checked":"unchecked","data-disabled":E(t).disabled.value?"":void 0,"as-child":a.asChild,as:a.as},{default:z(()=>[Rt(a.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"]))}}),Pi=Ni;const Ui={slots:{root:"relative flex items-start",base:["inline-flex items-center shrink-0 rounded-full border-2 border-transparent focus-visible:outline-2 focus-visible:outline-offset-2 data-[state=unchecked]:bg-accented","transition-[background] duration-200"],container:"flex items-center",thumb:"group pointer-events-none rounded-full bg-default shadow-lg ring-0 transition-transform duration-200 data-[state=unchecked]:translate-x-0 data-[state=unchecked]:rtl:-translate-x-0 flex items-center justify-center",icon:["absolute shrink-0 group-data-[state=unchecked]:text-dimmed opacity-0 size-10/12","transition-[color,opacity] duration-200"],wrapper:"ms-2",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"data-[state=checked]:bg-primary focus-visible:outline-primary",icon:"group-data-[state=checked]:text-primary"},secondary:{base:"data-[state=checked]:bg-secondary focus-visible:outline-secondary",icon:"group-data-[state=checked]:text-secondary"},tertiary:{base:"data-[state=checked]:bg-tertiary focus-visible:outline-tertiary",icon:"group-data-[state=checked]:text-tertiary"},rodeodust:{base:"data-[state=checked]:bg-rodeodust focus-visible:outline-rodeodust",icon:"group-data-[state=checked]:text-rodeodust"},poison:{base:"data-[state=checked]:bg-poison focus-visible:outline-poison",icon:"group-data-[state=checked]:text-poison"},signal:{base:"data-[state=checked]:bg-signal focus-visible:outline-signal",icon:"group-data-[state=checked]:text-signal"},info:{base:"data-[state=checked]:bg-info focus-visible:outline-info",icon:"group-data-[state=checked]:text-info"},success:{base:"data-[state=checked]:bg-success focus-visible:outline-success",icon:"group-data-[state=checked]:text-success"},warning:{base:"data-[state=checked]:bg-warning focus-visible:outline-warning",icon:"group-data-[state=checked]:text-warning"},error:{base:"data-[state=checked]:bg-error focus-visible:outline-error",icon:"group-data-[state=checked]:text-error"},kalkmark:{base:"data-[state=checked]:bg-kalkmark focus-visible:outline-kalkmark",icon:"group-data-[state=checked]:text-kalkmark"},vanligmark:{base:"data-[state=checked]:bg-vanligmark focus-visible:outline-vanligmark",icon:"group-data-[state=checked]:text-vanligmark"},time:{base:"data-[state=checked]:bg-time focus-visible:outline-time",icon:"group-data-[state=checked]:text-time"},neutral:{base:"data-[state=checked]:bg-inverted focus-visible:outline-inverted",icon:"group-data-[state=checked]:text-highlighted"}},size:{xs:{base:"w-7",container:"h-4",thumb:"size-3 data-[state=checked]:translate-x-3 data-[state=checked]:rtl:-translate-x-3",wrapper:"text-xs"},sm:{base:"w-8",container:"h-4",thumb:"size-3.5 data-[state=checked]:translate-x-3.5 data-[state=checked]:rtl:-translate-x-3.5",wrapper:"text-xs"},md:{base:"w-9",container:"h-5",thumb:"size-4 data-[state=checked]:translate-x-4 data-[state=checked]:rtl:-translate-x-4",wrapper:"text-sm"},lg:{base:"w-10",container:"h-5",thumb:"size-4.5 data-[state=checked]:translate-x-4.5 data-[state=checked]:rtl:-translate-x-4.5",wrapper:"text-sm"},xl:{base:"w-11",container:"h-6",thumb:"size-5 data-[state=checked]:translate-x-5 data-[state=checked]:rtl:-translate-x-5",wrapper:"text-base"}},checked:{true:{icon:"group-data-[state=checked]:opacity-100"}},unchecked:{true:{icon:"group-data-[state=unchecked]:opacity-100"}},loading:{true:{icon:"animate-spin"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75",description:"cursor-not-allowed opacity-75"}}},defaultVariants:{color:"primary",size:"md"}},Ri=Object.assign({inheritAttrs:!1},{__name:"USwitch",props:Qn({as:{type:null,required:!1},color:{type:null,required:!1},size:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1},checkedIcon:{type:[String,Object],required:!1},uncheckedIcon:{type:[String,Object],required:!1},label:{type:String,required:!1},description:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},value:{type:String,required:!1},defaultValue:{type:Boolean,required:!1}},{modelValue:{type:Boolean,default:void 0},modelModifiers:{}}),emits:Qn(["change"],["update:modelValue"]),setup(e,{emit:t}){const a=e,n=zl(),l=t,i=$l(e,"modelValue",{type:Boolean,default:void 0}),c=Dl(),o=jl(El(a,"required","value","defaultValue")),{id:d,emitFormChange:A,emitFormInput:m,size:f,color:C,name:F,disabled:$,ariaAttrs:U}=Nl(a),V=d.value??Pl(),k=h(()=>es({extend:es(Ui),...c.ui?.switch||{}})({size:f.value,color:C.value,required:a.required,loading:a.loading,disabled:$.value||a.loading}));function j(T){const R=new Event("change",{target:{value:T}});l("change",R),A(),m()}return(T,R)=>(g(),q(E(dn),{as:e.as,class:he(k.value.root({class:[a.ui?.root,a.class]}))},{default:z(()=>[v("div",{class:he(k.value.container({class:a.ui?.container}))},[w(E(Ei),bs({id:E(V)},{...E(o),...T.$attrs,...E(U)},{modelValue:i.value,"onUpdate:modelValue":[R[0]||(R[0]=Z=>i.value=Z),j],name:E(F),disabled:E($)||e.loading,class:k.value.base({class:a.ui?.base})}),{default:z(()=>[w(E(Pi),{class:he(k.value.thumb({class:a.ui?.thumb}))},{default:z(()=>[e.loading?(g(),q(Za,{key:0,name:e.loadingIcon||E(c).ui.icons.loading,class:he(k.value.icon({class:a.ui?.icon,checked:!0,unchecked:!0}))},null,8,["name","class"])):(g(),D(Pe,{key:1},[e.checkedIcon?(g(),q(Za,{key:0,name:e.checkedIcon,class:he(k.value.icon({class:a.ui?.icon,checked:!0}))},null,8,["name","class"])):N("",!0),e.uncheckedIcon?(g(),q(Za,{key:1,name:e.uncheckedIcon,class:he(k.value.icon({class:a.ui?.icon,unchecked:!0}))},null,8,["name","class"])):N("",!0)],64))]),_:1},8,["class"])]),_:1},16,["id","modelValue","name","disabled","class"])],2),e.label||n.label||e.description||n.description?(g(),D("div",{key:0,class:he(k.value.wrapper({class:a.ui?.wrapper}))},[e.label||n.label?(g(),q(E(si),{key:0,for:E(V),class:he(k.value.label({class:a.ui?.label}))},{default:z(()=>[Rt(T.$slots,"label",{label:e.label},()=>[At(Y(e.label),1)])]),_:3},8,["for","class"])):N("",!0),e.description||n.description?(g(),D("p",{key:1,class:he(k.value.description({class:a.ui?.description}))},[Rt(T.$slots,"description",{description:e.description},()=>[At(Y(e.description),1)])],2)):N("",!0)],2)):N("",!0)]),_:3},8,["as","class"]))}});var Wr=Math.PI,Yr=2*Wr,Jt=1e-6,Ii=Yr-Jt;function Zr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function or(){return new Zr}Zr.prototype=or.prototype={constructor:Zr,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,a,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+a)+","+(this._y1=+n)},bezierCurveTo:function(e,t,a,n,l,i){this._+="C"+ +e+","+ +t+","+ +a+","+ +n+","+(this._x1=+l)+","+(this._y1=+i)},arcTo:function(e,t,a,n,l){e=+e,t=+t,a=+a,n=+n,l=+l;var i=this._x1,c=this._y1,o=a-e,d=n-t,A=i-e,m=c-t,f=A*A+m*m;if(l<0)throw new Error("negative radius: "+l);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>Jt)if(!(Math.abs(m*o-d*A)>Jt)||!l)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var C=a-i,F=n-c,$=o*o+d*d,U=C*C+F*F,V=Math.sqrt($),k=Math.sqrt(f),j=l*Math.tan((Wr-Math.acos(($+f-U)/(2*V*k)))/2),T=j/k,R=j/V;Math.abs(T-1)>Jt&&(this._+="L"+(e+T*A)+","+(t+T*m)),this._+="A"+l+","+l+",0,0,"+ +(m*C>A*F)+","+(this._x1=e+R*o)+","+(this._y1=t+R*d)}},arc:function(e,t,a,n,l,i){e=+e,t=+t,a=+a,i=!!i;var c=a*Math.cos(n),o=a*Math.sin(n),d=e+c,A=t+o,m=1^i,f=i?n-l:l-n;if(a<0)throw new Error("negative radius: "+a);this._x1===null?this._+="M"+d+","+A:(Math.abs(this._x1-d)>Jt||Math.abs(this._y1-A)>Jt)&&(this._+="L"+d+","+A),a&&(f<0&&(f=f%Yr+Yr),f>Ii?this._+="A"+a+","+a+",0,1,"+m+","+(e-c)+","+(t-o)+"A"+a+","+a+",0,1,"+m+","+(this._x1=d)+","+(this._y1=A):f>Jt&&(this._+="A"+a+","+a+",0,"+ +(f>=Wr)+","+m+","+(this._x1=e+a*Math.cos(l))+","+(this._y1=t+a*Math.sin(l))))},rect:function(e,t,a,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +a+"v"+ +n+"h"+-a+"Z"},toString:function(){return this._}};function ze(e){return function(){return e}}var as=1e-12,Qa=Math.PI,ur=2*Qa;function As(e){this._context=e}As.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function bn(e){return new As(e)}function Vs(e){return e[0]}function Ls(e){return e[1]}function Ms(){var e=Vs,t=Ls,a=ze(!0),n=null,l=bn,i=null;function c(o){var d,A=o.length,m,f=!1,C;for(n==null&&(i=l(C=or())),d=0;d<=A;++d)!(d<A&&a(m=o[d],d,o))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(m,d,o),+t(m,d,o));if(C)return i=null,C+""||null}return c.x=function(o){return arguments.length?(e=typeof o=="function"?o:ze(+o),c):e},c.y=function(o){return arguments.length?(t=typeof o=="function"?o:ze(+o),c):t},c.defined=function(o){return arguments.length?(a=typeof o=="function"?o:ze(!!o),c):a},c.curve=function(o){return arguments.length?(l=o,n!=null&&(i=l(n)),c):l},c.context=function(o){return arguments.length?(o==null?n=i=null:i=l(n=o),c):n},c}function Bi(){var e=Vs,t=null,a=ze(0),n=Ls,l=ze(!0),i=null,c=bn,o=null;function d(m){var f,C,F,$=m.length,U,V=!1,k,j=new Array($),T=new Array($);for(i==null&&(o=c(k=or())),f=0;f<=$;++f){if(!(f<$&&l(U=m[f],f,m))===V)if(V=!V)C=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),F=f-1;F>=C;--F)o.point(j[F],T[F]);o.lineEnd(),o.areaEnd()}V&&(j[f]=+e(U,f,m),T[f]=+a(U,f,m),o.point(t?+t(U,f,m):j[f],n?+n(U,f,m):T[f]))}if(k)return o=null,k+""||null}function A(){return Ms().defined(l).curve(c).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:ze(+m),t=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:ze(+m),d):e},d.x1=function(m){return arguments.length?(t=m==null?null:typeof m=="function"?m:ze(+m),d):t},d.y=function(m){return arguments.length?(a=typeof m=="function"?m:ze(+m),n=null,d):a},d.y0=function(m){return arguments.length?(a=typeof m=="function"?m:ze(+m),d):a},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:ze(+m),d):n},d.lineX0=d.lineY0=function(){return A().x(e).y(a)},d.lineY1=function(){return A().x(e).y(n)},d.lineX1=function(){return A().x(t).y(a)},d.defined=function(m){return arguments.length?(l=typeof m=="function"?m:ze(!!m),d):l},d.curve=function(m){return arguments.length?(c=m,i!=null&&(o=c(i)),d):c},d.context=function(m){return arguments.length?(m==null?i=o=null:o=c(i=m),d):i},d}const Fs={draw:function(e,t){var a=Math.sqrt(t/Qa);e.moveTo(a,0),e.arc(0,0,a,0,ur)}},qi={draw:function(e,t){var a=Math.sqrt(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}};var Os=Math.sqrt(1/3),Hi=Os*2;const Gi={draw:function(e,t){var a=Math.sqrt(t/Hi),n=a*Os;e.moveTo(0,-a),e.lineTo(n,0),e.lineTo(0,a),e.lineTo(-n,0),e.closePath()}};var Wi=.8908130915292852,zs=Math.sin(Qa/10)/Math.sin(7*Qa/10),Yi=Math.sin(ur/10)*zs,Zi=-Math.cos(ur/10)*zs;const Ki={draw:function(e,t){var a=Math.sqrt(t*Wi),n=Yi*a,l=Zi*a;e.moveTo(0,-a),e.lineTo(n,l);for(var i=1;i<5;++i){var c=ur*i/5,o=Math.cos(c),d=Math.sin(c);e.lineTo(d*a,-o*a),e.lineTo(o*n-d*l,d*n+o*l)}e.closePath()}},Xi={draw:function(e,t){var a=Math.sqrt(t),n=-a/2;e.rect(n,n,a,a)}};var Pr=Math.sqrt(3);const Ji={draw:function(e,t){var a=-Math.sqrt(t/(Pr*3));e.moveTo(0,a*2),e.lineTo(-Pr*a,-a),e.lineTo(Pr*a,-a),e.closePath()}};var nt=-.5,st=Math.sqrt(3)/2,Kr=1/Math.sqrt(12),Qi=(Kr/2+1)*3;const eo={draw:function(e,t){var a=Math.sqrt(t/Qi),n=a/2,l=a*Kr,i=n,c=a*Kr+a,o=-i,d=c;e.moveTo(n,l),e.lineTo(i,c),e.lineTo(o,d),e.lineTo(nt*n-st*l,st*n+nt*l),e.lineTo(nt*i-st*c,st*i+nt*c),e.lineTo(nt*o-st*d,st*o+nt*d),e.lineTo(nt*n+st*l,nt*l-st*n),e.lineTo(nt*i+st*c,nt*c-st*i),e.lineTo(nt*o+st*d,nt*d-st*o),e.closePath()}};function to(){var e=ze(Fs),t=ze(64),a=null;function n(){var l;if(a||(a=l=or()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),l)return a=null,l+""||null}return n.type=function(l){return arguments.length?(e=typeof l=="function"?l:ze(l),n):e},n.size=function(l){return arguments.length?(t=typeof l=="function"?l:ze(+l),n):t},n.context=function(l){return arguments.length?(a=l??null,n):a},n}function qt(){}function er(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function cr(e){this._context=e}cr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:er(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:er(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ao(e){return new cr(e)}function $s(e){this._context=e}$s.prototype={areaStart:qt,areaEnd:qt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:er(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ro(e){return new $s(e)}function Ds(e){this._context=e}Ds.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,n):this._context.moveTo(a,n);break;case 3:this._point=4;default:er(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function no(e){return new Ds(e)}function js(e,t){this._basis=new cr(e),this._beta=t}js.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,a=e.length-1;if(a>0)for(var n=e[0],l=t[0],i=e[a]-n,c=t[a]-l,o=-1,d;++o<=a;)d=o/a,this._basis.point(this._beta*e[o]+(1-this._beta)*(n+d*i),this._beta*t[o]+(1-this._beta)*(l+d*c));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const so=(function e(t){function a(n){return t===1?new cr(n):new js(n,t)}return a.beta=function(n){return e(+n)},a})(.85);function tr(e,t,a){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-a),e._x2,e._y2)}function yn(e,t){this._context=e,this._k=(1-t)/6}yn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:tr(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:tr(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const lo=(function e(t){function a(n){return new yn(n,t)}return a.tension=function(n){return e(+n)},a})(0);function _n(e,t){this._context=e,this._k=(1-t)/6}_n.prototype={areaStart:qt,areaEnd:qt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:tr(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const io=(function e(t){function a(n){return new _n(n,t)}return a.tension=function(n){return e(+n)},a})(0);function xn(e,t){this._context=e,this._k=(1-t)/6}xn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:tr(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const oo=(function e(t){function a(n){return new xn(n,t)}return a.tension=function(n){return e(+n)},a})(0);function wn(e,t,a){var n=e._x1,l=e._y1,i=e._x2,c=e._y2;if(e._l01_a>as){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,d=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/d,l=(l*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/d}if(e._l23_a>as){var A=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,m=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*A+e._x1*e._l23_2a-t*e._l12_2a)/m,c=(c*A+e._y1*e._l23_2a-a*e._l12_2a)/m}e._context.bezierCurveTo(n,l,i,c,e._x2,e._y2)}function Es(e,t){this._context=e,this._alpha=t}Es.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:wn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const uo=(function e(t){function a(n){return t?new Es(n,t):new yn(n,0)}return a.alpha=function(n){return e(+n)},a})(.5);function Ns(e,t){this._context=e,this._alpha=t}Ns.prototype={areaStart:qt,areaEnd:qt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:wn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const co=(function e(t){function a(n){return t?new Ns(n,t):new _n(n,0)}return a.alpha=function(n){return e(+n)},a})(.5);function Ps(e,t){this._context=e,this._alpha=t}Ps.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:wn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const vo=(function e(t){function a(n){return t?new Ps(n,t):new xn(n,0)}return a.alpha=function(n){return e(+n)},a})(.5);function Us(e){this._context=e}Us.prototype={areaStart:qt,areaEnd:qt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function fo(e){return new Us(e)}function rs(e){return e<0?-1:1}function ns(e,t,a){var n=e._x1-e._x0,l=t-e._x1,i=(e._y1-e._y0)/(n||l<0&&-0),c=(a-e._y1)/(l||n<0&&-0),o=(i*l+c*n)/(n+l);return(rs(i)+rs(c))*Math.min(Math.abs(i),Math.abs(c),.5*Math.abs(o))||0}function ss(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function Ur(e,t,a){var n=e._x0,l=e._y0,i=e._x1,c=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,l+o*t,i-o,c-o*a,i,c)}function ar(e){this._context=e}ar.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ur(this,this._t0,ss(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ur(this,ss(this,a=ns(this,e,t)),a);break;default:Ur(this,this._t0,a=ns(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function Rs(e){this._context=new Is(e)}(Rs.prototype=Object.create(ar.prototype)).point=function(e,t){ar.prototype.point.call(this,t,e)};function Is(e){this._context=e}Is.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,n,l,i){this._context.bezierCurveTo(t,e,n,a,i,l)}};function mo(e){return new ar(e)}function po(e){return new Rs(e)}function Bs(e){this._context=e}Bs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var n=ls(e),l=ls(t),i=0,c=1;c<a;++i,++c)this._context.bezierCurveTo(n[0][i],l[0][i],n[1][i],l[1][i],e[c],t[c]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ls(e){var t,a=e.length-1,n,l=new Array(a),i=new Array(a),c=new Array(a);for(l[0]=0,i[0]=2,c[0]=e[0]+2*e[1],t=1;t<a-1;++t)l[t]=1,i[t]=4,c[t]=4*e[t]+2*e[t+1];for(l[a-1]=2,i[a-1]=7,c[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)n=l[t]/i[t-1],i[t]-=n,c[t]-=n*c[t-1];for(l[a-1]=c[a-1]/i[a-1],t=a-2;t>=0;--t)l[t]=(c[t]-l[t+1])/i[t];for(i[a-1]=(e[a]+l[a-1])/2,t=0;t<a-1;++t)i[t]=2*e[t+1]-l[t+1];return[l,i]}function ho(e){return new Bs(e)}function dr(e,t){this._context=e,this._t=t}dr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function go(e){return new dr(e,.5)}function ko(e){return new dr(e,0)}function bo(e){return new dr(e,1)}function is(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,n)}return a}function yo(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?is(Object(a),!0).forEach(function(n){_o(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):is(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Va(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Va=function(t){return typeof t}:Va=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(e)}function _o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function rr(){return rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},rr.apply(this,arguments)}function xo(e,t){if(e){if(typeof e=="string")return os(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return os(e,t)}}function os(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function qs(e,t){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=xo(e))||t){a&&(e=a);var n=0,l=function(){};return{s:l,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(d){throw d},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,c=!1,o;return{s:function(){a=a.call(e)},n:function(){var d=a.next();return i=d.done,d},e:function(d){c=!0,o=d},f:function(){try{!i&&a.return!=null&&a.return()}finally{if(c)throw o}}}}function wo(e,t){var a=[],n=[];function l(i,c){if(i.length===1)a.push(i[0]),n.push(i[0]);else{for(var o=Array(i.length-1),d=0;d<o.length;d++)d===0&&a.push(i[0]),d===o.length-1&&n.push(i[d+1]),o[d]=[(1-c)*i[d][0]+c*i[d+1][0],(1-c)*i[d][1]+c*i[d+1][1]];l(o,c)}}return e.length&&l(e,t),{left:a,right:n.reverse()}}function So(e){var t={};return e.length===4&&(t.x2=e[2][0],t.y2=e[2][1]),e.length>=3&&(t.x1=e[1][0],t.y1=e[1][1]),t.x=e[e.length-1][0],t.y=e[e.length-1][1],e.length===4?t.type="C":e.length===3?t.type="Q":t.type="L",t}function Co(e,t){t=t||2;for(var a=[],n=e,l=1/t,i=0;i<t-1;i++){var c=l/(1-l*i),o=wo(n,c);a.push(o.left),n=o.right}return a.push(n),a}function To(e,t,a){var n=[[e.x,e.y]];return t.x1!=null&&n.push([t.x1,t.y1]),t.x2!=null&&n.push([t.x2,t.y2]),n.push([t.x,t.y]),Co(n,a).map(So)}var Ao=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,va={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};Object.keys(va).forEach(function(e){va[e.toLowerCase()]=va[e]});function Xr(e,t){for(var a=Array(e),n=0;n<e;n++)a[n]=t;return a}function Vo(e){return"".concat(e.type).concat(va[e.type].map(function(t){return e[t]}).join(","))}function Lo(e,t){var a={x1:"x",y1:"y",x2:"x",y2:"y"},n=["xAxisRotation","largeArcFlag","sweepFlag"];if(e.type!==t.type&&t.type.toUpperCase()!=="M"){var l={};Object.keys(t).forEach(function(i){var c=t[i],o=e[i];o===void 0&&(n.includes(i)?o=c:(o===void 0&&a[i]&&(o=e[a[i]]),o===void 0&&(o=0))),l[i]=o}),l.type=t.type,e=l}return e}function Mo(e,t,a){var n=[];if(t.type==="L"||t.type==="Q"||t.type==="C")n=n.concat(To(e,t,a));else{var l=rr({},e);l.type==="M"&&(l.type="L"),n=n.concat(Xr(a-1).map(function(){return l})),n.push(t)}return n}function us(e,t,a){var n=e.length-1,l=t.length-1,i=n/l,c=Xr(l).reduce(function(d,A,m){var f=Math.floor(i*m);if(a&&f<e.length-1&&a(e[f],e[f+1])){var C=i*m%1<.5;d[f]&&(C?f>0?f-=1:f<e.length-1&&(f+=1):f<e.length-1?f+=1:f>0&&(f-=1))}return d[f]=(d[f]||0)+1,d},[]),o=c.reduce(function(d,A,m){if(m===e.length-1){var f=Xr(A,rr({},e[e.length-1]));return f[0].type==="M"&&f.forEach(function(C){C.type="L"}),d.concat(f)}return d.concat(Mo(e[m],e[m+1],A))},[]);return o.unshift(e[0]),o}function cs(e){for(var t=(e||"").match(Ao)||[],a=[],n,l,i=0;i<t.length;++i)if(n=va[t[i]],n){l={type:t[i]};for(var c=0;c<n.length;++c)l[n[c]]=+t[i+c+1];i+=n.length,a.push(l)}return a}function Fo(e,t,a){var n=e==null?[]:e.slice(),l=t==null?[]:t.slice(),i=Va(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},c=i.excludeSegment,o=i.snapEndsToInput;if(!n.length&&!l.length)return function(){return[]};var d=(n.length===0||n[n.length-1].type==="Z")&&(l.length===0||l[l.length-1].type==="Z");n.length>0&&n[n.length-1].type==="Z"&&n.pop(),l.length>0&&l[l.length-1].type==="Z"&&l.pop(),n.length?l.length||l.push(n[0]):n.push(l[0]);var A=Math.abs(l.length-n.length);A!==0&&(l.length>n.length?n=us(n,l,c):l.length<n.length&&(l=us(l,n,c))),n=n.map(function(f,C){return Lo(f,l[C])});var m=n.map(function(f){return yo({},f)});return d&&(m.push({type:"Z"}),n.push({type:"Z"})),function(C){if(C===1&&o)return t??[];if(C===0)return n;for(var F=0;F<m.length;++F){var $=n[F],U=l[F],V=m[F],k=qs(va[V.type]),j;try{for(k.s();!(j=k.n()).done;){var T=j.value;V[T]=(1-C)*$[T]+C*U[T],(T==="largeArcFlag"||T==="sweepFlag")&&(V[T]=Math.round(V[T]))}}catch(R){k.e(R)}finally{k.f()}}return m}}function Hs(e,t,a){var n=cs(e),l=cs(t),i=Va(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},c=i.excludeSegment,o=i.snapEndsToInput;if(!n.length&&!l.length)return function(){return""};var d=Fo(n,l,{excludeSegment:c,snapEndsToInput:o});return function(m){if(m===1&&o)return t??"";var f=d(m),C="",F=qs(f),$;try{for(F.s();!($=F.n()).done;){var U=$.value;C+=Vo(U)}}catch(V){F.e(V)}finally{F.f()}return C}}var ke;(function(e){e.Basis="basis",e.BasisClosed="basisClosed",e.BasisOpen="basisOpen",e.Bundle="bundle",e.Cardinal="cardinal",e.CardinalClosed="cardinalClosed",e.CardinalOpen="cardinalOpen",e.CatmullRom="catmullRom",e.CatmullRomClosed="catmullRomClosed",e.CatmullRomOpen="catmullRomOpen",e.Linear="linear",e.LinearClosed="linearClosed",e.MonotoneX="monotoneX",e.MonotoneY="monotoneY",e.Natural="natural",e.Step="step",e.StepAfter="stepAfter",e.StepBefore="stepBefore"})(ke||(ke={}));const Jr={[ke.Basis]:ao,[ke.BasisClosed]:ro,[ke.BasisOpen]:no,[ke.Bundle]:so,[ke.Cardinal]:lo,[ke.CardinalClosed]:io,[ke.CardinalOpen]:oo,[ke.CatmullRom]:uo,[ke.CatmullRomClosed]:co,[ke.CatmullRomOpen]:vo,[ke.Linear]:bn,[ke.LinearClosed]:fo,[ke.MonotoneX]:mo,[ke.MonotoneY]:po,[ke.Natural]:ho,[ke.Step]:go,[ke.StepAfter]:bo,[ke.StepBefore]:ko},Oo=Object.assign(Object.assign({},hn),{curveType:ke.MonotoneX,lineWidth:2,lineDashArray:void 0,fallbackValue:void 0,highlightOnHover:!1,cursor:null,interpolateMissingData:!1}),zo=sr`
  :root {
    --vis-line-cursor: default;
    --vis-line-stroke-dasharray: none;
    --vis-line-stroke-dashoffset: 0;

    --vis-line-gapfill-stroke-dasharray: 2 3;
    --vis-line-gapfill-stroke-opacity: 0.8;
    --vis-line-gapfill-stroke-dashoffset: 0;
  }
`,$o=Le`
  label: line-component;
`,Ta=Le`
  label: line;
  transition: opacity 200ms;
  cursor: var(--vis-line-cursor);
`,Qr=Le`
  label: linePath;
  fill: none;
  stroke-dasharray: var(--vis-line-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-stroke-dashoffset);
`,en=Le`
  label: lineSelectionHelper;
  fill: none;
  stroke: rgba(0, 0, 0, 0);
  stroke-width: 8px;
`,tn=Le`
  opacity: 0.2;
`,an=Le`
  label: interpolated-path;
  fill: none;
  stroke-dasharray: var(--vis-line-gapfill-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-gapfill-stroke-dashoffset);
  stroke-opacity: var(--vis-line-gapfill-stroke-opacity);
`,Do=Object.freeze(Object.defineProperty({__proto__:null,dim:tn,globalStyles:zo,interpolatedPath:an,line:Ta,linePath:Qr,lineSelectionHelper:en,root:$o},Symbol.toStringTag,{value:"Module"}));class vr extends gn{constructor(t){super(),this._defaultConfig=Oo,this.config=this._defaultConfig,this.curve=Jr[ke.MonotoneX],this.events={[vr.selectors.line]:{mouseover:this._highlight.bind(this),mouseleave:this._resetHighlight.bind(this)}},t&&this.setConfig(t)}get bleed(){const{config:{lineWidth:t}}=this,a=this.yScale.domain(),l=(this.yScale.range()[0]>this.yScale.range()[1]?Qt.North:Qt.South)===Qt.South,i=t>3,c=t>=10;return{top:!c&&(!l&&a[1]===0||l&&a[0]===0)?0:t/2,bottom:!c&&(!l&&a[0]===0||l&&a[1]===0)?0:t/2,left:i?t/2:0,right:i?t/2:0}}_render(t){super._render(t);const{config:a,datamodel:{data:n}}=this,l=da(t)?t:a.duration;this.curve=Jr[a.curveType],this.lineGen=Ms().x(f=>f.x).y(f=>f.y).defined(f=>f.defined).curve(this.curve);const i=Ja(a.y)?a.y:[a.y],c=n.map((f,C)=>this.xScale(Tt(f,a.x,C))),o=i.map(f=>{const C=n.map((k,j)=>{const T=Tt(k,f,j),R=(da(T)||T===null)&&isFinite(T)?T:a.fallbackValue,Z=a.interpolateMissingData?(da(T)||T===null)&&isFinite(T):isFinite(R);return{x:c[j],y:this.yScale(R??0),defined:Z,value:R}}),F=C.reduce((k,j)=>j.defined||k,!1);let $=!1;const U=C.reduce((k,j,T)=>{!j.defined&&isFinite(a.fallbackValue)&&k.push(Object.assign(Object.assign({},j),{defined:!0})),!j.defined&&!$&&($=!0);const R=T>0&&!C[T-1].defined||T<C.length-1&&!C[T+1].defined;return j.defined&&R&&($||k.push(Object.assign(Object.assign({},j),{defined:!1})),k.push(j),$=!1),k},[]),V=F&&C.some(k=>k.value!==null);return{values:C,defined:F,gaps:U,visible:V}}),d=this.g.selectAll(`.${Ta}`).data(o),A=d.enter().append("g").attr("class",Ta);A.append("path").attr("class",Qr).attr("stroke",(f,C)=>It(n,a.color,C)).attr("stroke-opacity",0).attr("stroke-width",a.lineWidth),A.append("path").attr("class",en).attr("d",this._emptyPath()),A.append("path").attr("class",an).attr("d",this._emptyPath()).style("opacity",0);const m=A.merge(d);m.style("cursor",(f,C)=>Ma(n,a.cursor,C)),m.each((f,C,F)=>{var $;const U=ma(F[C]),V=U.select(`.${Qr}`),k=U.select(`.${en}`),j=U.select(`.${an}`),T=f.visible,R=ci(n,a.lineDashArray,C),Z=bt(V,l).attr("stroke",It(n,a.color,C)).attr("stroke-width",a.lineWidth).attr("stroke-opacity",T?1:0).style("stroke-dasharray",($=R?.join(" "))!==null&&$!==void 0?$:null),ae=f.values.some(J=>!J.defined),G=this.lineGen(f.values);if(l&&!ae){const J=V.attr("d")||this._emptyPath(),Q=G||this._emptyPath();Z.attrTween("d",()=>Hs(J,Q))}else f.visible&&Z.attr("d",G);k.attr("d",G).attr("visibility",T?null:"hidden"),ae&&a.interpolateMissingData?bt(j,l).attr("d",this.lineGen(f.gaps)).attr("stroke",It(n,a.color,C)).attr("stroke-width",a.lineWidth-1).style("opacity",1):j.transition().duration(l).style("opacity",0)}),bt(d.exit(),l).style("opacity",0).remove()}_emptyPath(){const t=this.xScale.range(),a=this.yScale.range();return`M${t[0]},${a[0]} L${t[1]},${a[0]}`}_highlight(t){const{config:a}=this;a.highlightOnHover&&this.g.selectAll(`.${Ta}`).classed(tn,n=>n!==t)}_resetHighlight(){const{config:t}=this;t.highlightOnHover&&this.g.selectAll(`.${Ta}`).classed(tn,!1)}}vr.selectors=Do;const jo=Object.assign(Object.assign({},hn),{color:void 0,groupMaxWidth:void 0,groupWidth:void 0,dataStep:void 0,groupPadding:.05,barPadding:0,roundedCorners:2,barMinHeight:2,cursor:null,orientation:Ts.Vertical}),Gs=Le`
  label: grouped-bar-component;
`,Eo=sr`
  :root {
    --vis-grouped-bar-cursor: default;
    --vis-grouped-bar-fill-color: var(--vis-color-main);
    --vis-grouped-bar-stroke-color: none;
    --vis-grouped-bar-stroke-width: 0px;
    --vis-grouped-bar-hover-stroke-width: 1px;
    --vis-grouped-bar-hover-stroke-color: none;


    /* Dark Theme */
    --vis-dark-grouped-bar-stroke-color: none;
  }

  body.theme-dark ${`.${Gs}`} {
    --vis-grouped-bar-stroke-color: var(--vis-dark-grouped-bar-stroke-color);
  }
`,Ka=Le`
  label: bar;
  fill: var(--vis-grouped-bar-fill-color);
  stroke: var(--vis-grouped-bar-stroke-color);
  stroke-width: var(--vis-grouped-bar-stroke-width);
  cursor: var(--vis-grouped-bar-cursor);

  &:hover {
    stroke-width: var(--vis-grouped-bar-hover-stroke-width);
    stroke: var(--vis-grouped-bar-hover-stroke-color);
  }
`,rn=Le`
  label: barGroup;
`,Ws=Le`
  label: barGroupExit;
`,No=Object.freeze(Object.defineProperty({__proto__:null,bar:Ka,barGroup:rn,barGroupExit:Ws,globalStyles:Eo,root:Gs},Symbol.toStringTag,{value:"Module"}));class Ys extends gn{constructor(t){super(),this._defaultConfig=jo,this.config=this._defaultConfig,this.getAccessors=()=>Ja(this.config.y)?this.config.y:[this.config.y],this.events={},this._barData=[],t&&this.setConfig(t)}get bleed(){if(this._barData=this._getVisibleData(),this._barData.length===0)return{top:0,bottom:0,left:0,right:0};const t=!this.isVertical()&&this.dataScale.range()[0]>this.dataScale.range()[1],a=this.dataScale.domain(),n=this._getGroupWidth()/2,l=this._barData.map((F,$)=>Tt(F,this.config.x,$)),i=Nr(l),c=di(l),o=this.dataScale(i),d=this.dataScale(c),A=this.dataScale.invert(o+(t?n:-n)),m=this.dataScale.invert(d+(t?-n:n)),f=A<=a[0]?this.dataScale(a[0])-this.dataScale(A):0,C=m>a[1]?this.dataScale(m)-this.dataScale(a[1]):0;return{top:this.isVertical()?0:t?-C:f,bottom:this.isVertical()?0:t?-f:C,left:this.isVertical()?f:0,right:this.isVertical()?C:0}}get dataScale(){return this.isVertical()?this.xScale:this.yScale}get valueScale(){return this.isVertical()?this.yScale:this.xScale}isVertical(){return this.config.orientation===Ts.Vertical}_render(t){const{config:a}=this,n=da(t)?t:a.duration,l=this._getGroupWidth(),i=this.getAccessors(),c=[-l/2,l/2],o=vi().domain(fi(i.length)).range(c).paddingInner(a.barPadding).paddingOuter(a.barPadding),d=this.g.selectAll(`.${rn}`).data(this._barData,(j,T)=>{var R;return`${(R=Ma(j,a.id,T))!==null&&R!==void 0?R:T}`}),A=(j,T)=>{const R=this.dataScale(Tt(j,a.x,T)),Z=this.isVertical()?R:0,ae=this.isVertical()?0:R;return`translate(${Z},${ae})`},f=d.enter().append("g").attr("class",rn).attr("transform",A).style("opacity",1).merge(d);bt(f,n).attr("transform",A).style("opacity",1);const C=d.exit().attr("class",Ws);bt(C,n).style("opacity",0).remove(),bt(C.selectAll(`.${Ka}`),n).attr("transform",(j,T,R)=>this.isVertical()?`translate(0,${this.yScale(0)}) scale(1,0)`:`translate(${this.xScale(0)},0) scale(0,1)`);const F=o.bandwidth(),$=f.selectAll(`.${Ka}`).data(j=>i.map(()=>j)),U=this._getValueAxisDirection(),k=$.enter().append("path").attr("class",Ka).attr("d",(j,T)=>{const R=o(T),Z=this.valueScale(0),ae=F;return this._getBarPath(R,Z,ae,0,!1,U)}).style("fill",(j,T)=>It(j,a.color,T)).merge($);bt(k,n).attr("d",(j,T)=>{const R=o(T),Z=F,ae=Tt(j,i[T]),G=ae<0;let J=G?this.valueScale(0):this.valueScale(ae||0),Q=Math.abs(this.valueScale(0)-this.valueScale(ae))||0;if(Q<a.barMinHeight){const ue=U===Qt.North?-1:1;J=this.valueScale(0)+ue*a.barMinHeight,Q=a.barMinHeight}return this._getBarPath(R,J,Z,Q,G,U)}).style("fill",(j,T)=>It(j,a.color,T)).style("cursor",(j,T)=>Ma(j,a.cursor,T)),bt($.exit(),n).remove()}_getValueAxisDirection(){return this.valueScale.range()[0]>this.valueScale.range()[1]?Qt.North:Qt.South}_getVisibleData(){const{config:t,datamodel:{data:a}}=this,n=this._getGroupWidth(),l=a.length<2?0:n/2,i=this.dataScale,c=Math.abs(i.invert(l)-i.invert(0));return a?.filter((d,A)=>{const m=Tt(d,t.x,A),f=i.domain(),C=+f[0],F=+f[1];return m>=C-c&&m<=F+c})}_getBarPath(t,a,n,l,i,c){const{config:o}=this,d=o.roundedCorners?da(o.roundedCorners)?+o.roundedCorners:n/2:0,A=bi(d,0,Math.min(l,n)/2),m=c===Qt.North,f=this.isVertical()&&i!==m,C=this.isVertical()&&i===m,F=!this.isVertical()&&i,$=!this.isVertical()&&!i;return mi({x:this.isVertical()?t:a+(m?0:-l),y:this.isVertical()?a+(m?0:-l):t,w:this.isVertical()?n:l,h:this.isVertical()?l:n,tl:f||F,tr:f||$,bl:C||F,br:C||$,r:A})}_getGroupWidth(){const{config:t,datamodel:{data:a}}=this;if(pi(a))return 0;if(t.groupWidth)return Nr([t.groupWidth,t.groupMaxWidth]);const n=this.dataScale.bandwidth,l=this.dataScale.domain?this.dataScale.domain():[];let c=1+(n?l.length:l[1]-l[0])/t.dataStep||!n&&a.filter((A,m)=>{const f=Tt(A,t.x,m);return f>=l[0]&&f<=l[1]}).length||a.length;!n&&c>=2&&(c+=1);const d=(c<2?1:1-t.groupPadding)*(this.isVertical()?this._width:this._height)/c;return Nr([d,t.groupMaxWidth])}getValueScaleExtent(t){const{datamodel:a}=this,n=this.getAccessors(),l=t?this._getVisibleData():a.data,i=hi(l,...n),c=gi(l,...n);return[i>0?0:i,c<0?0:c]}getDataScaleExtent(){const{config:t,datamodel:a}=this;return ki(a.data,t.x)}getYDataExtent(t){return this.isVertical()?this.getValueScaleExtent(t):this.getDataScaleExtent()}getXDataExtent(){return this.isVertical()?this.getDataScaleExtent():this.getValueScaleExtent(!1)}}Ys.selectors=No;var kt;(function(e){e.Circle="circle",e.Cross="cross",e.Diamond="diamond",e.Square="square",e.Star="star",e.Triangle="triangle",e.Wye="wye"})(kt||(kt={}));const Po={[kt.Circle]:Fs,[kt.Cross]:qi,[kt.Diamond]:Gi,[kt.Square]:Xi,[kt.Star]:Ki,[kt.Triangle]:Ji,[kt.Wye]:eo},We=Object.assign(Object.assign({},kt),{Line:"line"});var nr;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(nr||(nr={}));const Uo={items:[],labelClassName:"",onLegendItemClick:void 0,labelFontSize:null,labelMaxWidth:null,bulletSize:null,bulletSpacing:4,bulletShape:e=>{var t;return(t=e.shape)!==null&&t!==void 0?t:We.Circle},orientation:nr.Horizontal,renderIntoProvidedDomNode:!1},Ya=_i*3,Ro={[We.Circle]:Math.PI/4,[We.Cross]:5/9,[We.Diamond]:Math.sqrt(3)/6,[We.Square]:1,[We.Star]:.3,[We.Triangle]:Math.sqrt(3)/4,[We.Wye]:5/11};function Zs(e,t,a){return t<1?0:e*t+a*(t-1)}function Io(e){e.each((t,a,n)=>{ma(n[a]).append("svg").attr("width","100%").attr("height","100%").append("path")})}function Bo(e,t,a){e.each((n,l,i)=>{var c;const o=Ma(n,t.bulletShape,l),d=yi((c=n.color)!==null&&c!==void 0?c:It(n,a,l)),A=d.length,m=Ya,f=Gr(getComputedStyle(i[l]).getPropertyValue("--vis-legend-bullet-size")),C=t.bulletSpacing*(Ya/f),F=Zs(m,A,C),$=o===We.Line?Ya/2.5:Ya,U=ma(i[l]).select("svg").attr("viewBox",`0 0 ${F} ${$}`);U.selectAll("path").remove();const V=n.inactive?"var(--vis-legend-bullet-inactive-opacity)":1;d.forEach((k,j)=>{const T=U.append("path");if(o===We.Line){const R=j*(m+C),Z=R+m;T.attr("d",`M${R},${$/2} L${Z},${$/2}`).attr("transform",null).style("opacity",V).style("stroke",k).style("stroke-width","3px").style("fill",null).style("fill-opacity",null).style("marker-start","none").style("marker-end","none")}else{const R=to().type(Po[o]).size(m*$*Ro[o]),Z=(m-2)/m;let ae=$/2;switch(o){case We.Triangle:ae+=$/8;break;case We.Star:ae+=$/16;break;case We.Wye:ae-=$/16;break}const G=j*(m+C)+m/2;T.attr("d",R).attr("transform",`translate(${G}, ${Math.round(ae)}) scale(${Z})`).style("stroke",k).style("stroke-width","1px").style("opacity",null).style("fill",k).style("fill-opacity",V)}})})}const Sn=Le`
  label: bullet-legend-component;
`,qo=sr`
  :root {
    // Undefined by default to allow proper fallback to var(--vis-font-family)
    /* --vis-legend-font-family: */

    --vis-legend-label-color: #6c778c;
    --vis-legend-label-max-width: 300px;
    --vis-legend-label-font-size: 12px;
    --vis-legend-bullet-size: 9px;
    --vis-legend-bullet-inactive-opacity: 0.15;
    --vis-legend-item-spacing: 20px;
    --vis-legend-vertical-item-spacing: 5px;
    --vis-legend-bullet-label-spacing: 8px;

    --vis-dark-legend-label-color: #eee;
  }

  body.theme-dark ${`.${Sn}`} {
    --vis-legend-label-color: var(--vis-dark-legend-label-color);
  }

  body.theme-patterns {
    --vis-legend-bullet-size: 14px;
  }
`,Xa=Le`
  label: legendItem;
  display: inline-flex;
  align-items: center;
  font-family: var(--vis-legend-font-family, var(--vis-font-family));
  margin-right: var(--vis-legend-item-spacing);
  white-space: nowrap;
  cursor: default;
  user-select: none;
  max-width: min-content;
`,Ks=Le`
  label: legendItemVertical;
  display: flex;
  margin-top: var(--vis-legend-vertical-item-spacing);
`,Xs=Le`
  cursor: pointer;
`,nn=Le`
  label: legendItemLabel;
  font-size: var(--vis-legend-label-font-size);
  display: inline-block;
  vertical-align: middle;
  color: var(--vis-legend-label-color);
  max-width: var(--vis-legend-label-max-width);
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
`,sn=Le`
  flex: 0 0 auto;
  label: legendItemBullet;
  margin-right: var(--vis-legend-bullet-label-spacing);
  height: var(--vis-legend-bullet-size);
  width: var(--vis-legend-bullet-size);

  svg {
    display: block;
  }
`,Ho=Object.freeze(Object.defineProperty({__proto__:null,bullet:sn,clickable:Xs,item:Xa,itemVertical:Ks,label:nn,root:Sn,variables:qo},Symbol.toStringTag,{value:"Module"}));class Js{constructor(t,a){this._defaultConfig=Uo,this.config=this._defaultConfig,this._colorAccessor=n=>n.color,this._container=t,this.div=a?.renderIntoProvidedDomNode?ma(this._container):ma(this._container).append("div"),this.div.classed(Sn,!0),this.element=this.div.node(),a&&this.update(a)}update(t){this.prevConfig=this.config,this.config=xi(this._defaultConfig,t),this.render()}render(){const{config:t}=this,a=this.div.selectAll(`.${Xa}`).data(t.items),n=a.enter().append("div").on("click",this._onItemClick.bind(this)),l=n.merge(a);l.attr("class",i=>{var c;return`${Xa} ${(c=i.className)!==null&&c!==void 0?c:""}`}).classed(Ks,t.orientation===nr.Vertical).classed(Xs,i=>!!t.onLegendItemClick&&this._isItemClickable(i)).attr("title",i=>i.name).style("display",i=>i.hidden?"none":null),n.append("span").attr("class",sn).call(Io),l.select(`.${sn}`).style("width",function(i){const o=(Array.isArray(i.color)?i.color:[i.color]).length,d=Gr(getComputedStyle(this).getPropertyValue("--vis-legend-bullet-size"))||9,A=t.bulletSize?Gr(t.bulletSize):d,m=t.bulletSpacing;return`${Zs(A,o,m)}px`}).style("height",t.bulletSize).style("box-sizing","content-box").call(Bo,this.config,this._colorAccessor),n.append("span").attr("class",nn).classed(t.labelClassName,!0).style("max-width",t.labelMaxWidth).style("font-size",t.labelFontSize),l.select(`.${nn}`).text(i=>i.name),a.exit().remove()}_isItemClickable(t){return t.pointer===void 0?!0:t.pointer}_onItemClick(t,a){const{config:{onLegendItemClick:n}}=this,i=this.div.selectAll(`.${Xa}`).nodes().indexOf(t.currentTarget);n&&n(a,i)}destroy(){this.element!==this._container&&this.div.remove()}}Js.selectors=Ho;const Go=Object.assign(Object.assign({},hn),{color:void 0,curveType:ke.MonotoneX,baseline:()=>0,opacity:1,cursor:null,minHeight1Px:!1,minHeight:void 0}),Qs=Le`
  label: area-component;
`,Wo=sr`
  :root {
    --vis-area-cursor: default;
    --vis-area-fill-opacity: 1;
    --vis-area-stroke-color: none;
    --vis-area-stroke-width: 0px;
    --vis-area-stroke-dasharray: none;
    --vis-area-stroke-opacity: 1;
    --vis-area-hover-fill-opacity: none;
    --vis-area-hover-stroke-width: none;

    /* Dark Theme */
    --vis-dark-area-stroke-color: none;
  }

  body.theme-dark ${`.${Qs}`} {
    --vis-area-stroke-color: var(--vis-dark-area-stroke-color);
  }

`,ln=Le`
  label: area;
  cursor: var(--vis-area-cursor);
  fill-opacity: var(--vis-area-fill-opacity);
  stroke-width: var(--vis-area-stroke-width);
  stroke-dasharray: var(--vis-area-stroke-dasharray);
  stroke: var(--vis-area-stroke-color);
  stroke-opacity: var(--vis-area-stroke-opacity);

  &:hover {
    fill-opacity: var(--vis-area-hover-fill-opacity);
    stroke-width: var(--vis-area-hover-stroke-width);
  }
`,Yo=Object.freeze(Object.defineProperty({__proto__:null,area:ln,globalStyles:Wo,root:Qs},Symbol.toStringTag,{value:"Module"}));class fr extends gn{constructor(t){super(),this._defaultConfig=Go,this.config=this._defaultConfig,this.stacked=!0,this.events={[fr.selectors.area]:{}},t&&this.setConfig(t),this.stacked=Array.isArray(this.config.y)}_render(t){super._render(t);const{config:a,datamodel:{data:n}}=this,l=da(t)?t:a.duration,i=Jr[a.curveType];this._areaGen=Bi().x(V=>V.x).y0(V=>V.y0).y1(V=>V.y1).curve(i);const c=Ja(a.y)?a.y:[a.y],o=n.map((V,k)=>this.xScale(Tt(V,a.x,k))),d=wi(n,a.baseline,c,this._prevNegative);this._prevNegative=d.map(V=>!!V.isMostlyNegative);const A=[],m=d.map(V=>V.map((k,j)=>{var T,R;const Z=o[j],ae=this.yScale(k[0]),G=this.yScale(k[1]),J=G>ae,Q=A[j]||0,ue=J?ae+Q:ae-Q,re=J?G+Q:G-Q;let de=0;return(a.minHeight||a.minHeight1Px)&&Math.abs(re-ue)<((T=a.minHeight)!==null&&T!==void 0?T:1)&&(de=((R=a.minHeight)!==null&&R!==void 0?R:1)-Math.abs(re-ue),A[j]=Q+de),{x:Z,y0:ue,y1:J?re+de:re-de}})),f=m.length-1,C=m.reverse(),F=this.g.selectAll(`.${ln}`).data(C),$=F.enter().append("path").attr("class",ln).attr("d",V=>this._areaGen(V)||this._emptyPath()).style("opacity",0).style("fill",(V,k)=>It(n,a.color,f-k)),U=bt($.merge(F),l).style("opacity",(V,k)=>V.some(T=>T.y0-T.y1!==0)?Tt(n,a.opacity,f-k):0).style("fill",(V,k)=>It(n,a.color,f-k)).style("cursor",(V,k)=>Ma(n,a.cursor,f-k));l?U.attrTween("d",(k,j,T)=>{const R=ma(T[j]).attr("d"),Z=this._areaGen(k)||this._emptyPath();return Hs(R,Z)}):U.attr("d",V=>this._areaGen(V)||this._emptyPath()),bt(F.exit(),l).style("opacity",0).remove()}getYDataExtent(t){const{config:a,datamodel:n}=this,l=Ja(a.y)?a.y:[a.y],i=this.xScale.domain(),c=t?Si(n.data,i,a.x,!0):n.data;return Ci(c,a.baseline,...l)}_emptyPath(){const t=this.xScale.range(),a=this.yScale.domain(),n=this.yScale((a[0]+a[1])/2),l=n;return this._areaGen([{y0:n,y1:l,x:t[0]},{y0:n,y1:l,x:t[1]}])}}fr.selectors=Yo;const Zo={"data-vis-component":""},Rr=yt({__name:"index",props:{color:{},curveType:{},baseline:{},opacity:{},cursor:{},minHeight1Px:{type:Boolean},minHeight:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=vn(kn),n=e,l=h(()=>a.data.value??n.data),i=lr(n),c=M();return Bt(()=>{ea(()=>{var o;c.value=new fr(i.value),(o=c.value)==null||o.setData(l.value),a.update(c.value)})}),fa(()=>{var o;(o=c.value)==null||o.destroy(),a.destroy()}),X(i,(o,d)=>{var A;ir(o,d)||(A=c.value)==null||A.setConfig(i.value)}),X(l,()=>{var o;(o=c.value)==null||o.setData(l.value)}),t({component:c}),(o,d)=>(g(),D("div",Zo))}}),Ko={"data-vis-component":""},Xo=yt({__name:"index",props:{color:{},groupWidth:{},groupMaxWidth:{},dataStep:{},groupPadding:{},barPadding:{},roundedCorners:{type:[Number,Boolean]},barMinHeight:{},cursor:{},orientation:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=vn(kn),n=e,l=h(()=>a.data.value??n.data),i=lr(n),c=M();return Bt(()=>{ea(()=>{var o;c.value=new Ys(i.value),(o=c.value)==null||o.setData(l.value),a.update(c.value)})}),fa(()=>{var o;(o=c.value)==null||o.destroy(),a.destroy()}),X(i,(o,d)=>{var A;ir(o,d)||(A=c.value)==null||A.setConfig(i.value)}),X(l,()=>{var o;(o=c.value)==null||o.setData(l.value)}),t({component:c}),(o,d)=>(g(),D("div",Ko))}}),Jo={"data-vis-component":""},Qo=yt({__name:"index",props:{color:{},curveType:{},lineWidth:{},lineDashArray:{},fallbackValue:{},highlightOnHover:{type:Boolean},cursor:{},interpolateMissingData:{type:Boolean},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=vn(kn),n=e,l=h(()=>a.data.value??n.data),i=lr(n),c=M();return Bt(()=>{ea(()=>{var o;c.value=new vr(i.value),(o=c.value)==null||o.setData(l.value),a.update(c.value)})}),fa(()=>{var o;(o=c.value)==null||o.destroy(),a.destroy()}),X(i,(o,d)=>{var A;ir(o,d)||(A=c.value)==null||A.setConfig(i.value)}),X(l,()=>{var o;(o=c.value)==null||o.setData(l.value)}),t({component:c}),(o,d)=>(g(),D("div",Jo))}}),eu=yt({__name:"index",props:{items:{},labelClassName:{},onLegendItemClick:{type:Function},labelFontSize:{},labelMaxWidth:{},bulletSize:{},bulletSpacing:{},bulletShape:{},orientation:{},renderIntoProvidedDomNode:{type:Boolean},data:{}},setup(e,{expose:t}){const a=e;h(()=>a.data);const n=lr(a),l=M(),i=M();return Bt(()=>{ea(()=>{i.value&&(l.value=new Js(i.value,{...n.value,renderIntoProvidedDomNode:!0}))})}),fa(()=>{var c;(c=l.value)==null||c.destroy()}),X(n,(c,o)=>{var d;ir(c,o)||(d=l.value)==null||d.update(n.value)}),t({component:l}),(c,o)=>(g(),D("div",{"data-vis-bullet-legend":"",ref_key:"elRef",ref:i},null,512))}});var tu=typeof global=="object"&&global&&global.Object===Object&&global,au=typeof self=="object"&&self&&self.Object===Object&&self,ru=tu||au||Function("return this")(),pa=ru.Symbol,el=Object.prototype,nu=el.hasOwnProperty,su=el.toString,Ca=pa?pa.toStringTag:void 0;function lu(e){var t=nu.call(e,Ca),a=e[Ca];try{e[Ca]=void 0;var n=!0}catch{}var l=su.call(e);return n&&(t?e[Ca]=a:delete e[Ca]),l}var iu=Object.prototype,ou=iu.toString;function uu(e){return ou.call(e)}var cu="[object Null]",du="[object Undefined]",ds=pa?pa.toStringTag:void 0;function vu(e){return e==null?e===void 0?du:cu:ds&&ds in Object(e)?lu(e):uu(e)}function fu(e){return e!=null&&typeof e=="object"}var mu="[object Symbol]";function pu(e){return typeof e=="symbol"||fu(e)&&vu(e)==mu}function hu(e,t){for(var a=-1,n=e==null?0:e.length,l=Array(n);++a<n;)l[a]=t(e[a],a,e);return l}var gu=Array.isArray,vs=pa?pa.prototype:void 0,fs=vs?vs.toString:void 0;function tl(e){if(typeof e=="string")return e;if(gu(e))return hu(e,tl)+"";if(pu(e))return fs?fs.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function al(e){return e==null?"":tl(e)}function ku(e,t,a){var n=-1,l=e.length;t<0&&(t=-t>l?0:l+t),a=a>l?l:a,a<0&&(a+=l),l=t>a?0:a-t>>>0,t>>>=0;for(var i=Array(l);++n<l;)i[n]=e[n+t];return i}function bu(e,t,a){var n=e.length;return a=a===void 0?n:a,!t&&a>=n?e:ku(e,t,a)}var yu="\\ud800-\\udfff",_u="\\u0300-\\u036f",xu="\\ufe20-\\ufe2f",wu="\\u20d0-\\u20ff",Su=_u+xu+wu,Cu="\\ufe0e\\ufe0f",Tu="\\u200d",Au=RegExp("["+Tu+yu+Su+Cu+"]");function rl(e){return Au.test(e)}function Vu(e){return e.split("")}var nl="\\ud800-\\udfff",Lu="\\u0300-\\u036f",Mu="\\ufe20-\\ufe2f",Fu="\\u20d0-\\u20ff",Ou=Lu+Mu+Fu,zu="\\ufe0e\\ufe0f",$u="["+nl+"]",on="["+Ou+"]",un="\\ud83c[\\udffb-\\udfff]",Du="(?:"+on+"|"+un+")",sl="[^"+nl+"]",ll="(?:\\ud83c[\\udde6-\\uddff]){2}",il="[\\ud800-\\udbff][\\udc00-\\udfff]",ju="\\u200d",ol=Du+"?",ul="["+zu+"]?",Eu="(?:"+ju+"(?:"+[sl,ll,il].join("|")+")"+ul+ol+")*",Nu=ul+ol+Eu,Pu="(?:"+[sl+on+"?",on,ll,il,$u].join("|")+")",Uu=RegExp(un+"(?="+un+")|"+Pu+Nu,"g");function Ru(e){return e.match(Uu)||[]}function Iu(e){return rl(e)?Ru(e):Vu(e)}function Bu(e){return function(t){t=al(t);var a=rl(t)?Iu(t):void 0,n=a?a[0]:t.charAt(0),l=a?bu(a,1).join(""):t.slice(1);return n[e]()+l}}var qu=Bu("toUpperCase");function ms(e){return qu(al(e).toLowerCase())}const Hu=yt({__name:"ForestryChartDisplay",props:{selectedFrameworks:{default:()=>[]},selectedArtkategori:{},chartType:{},currentTimeValue:{},singleFrameworkSelection:{type:Boolean,default:!1},frameworkComparisonMode:{type:Boolean,default:!1},selectedStartskog:{},redColor:{type:Boolean,default:!1},yellowColor:{type:Boolean,default:!1},maxYValue:{},matsvampVariant:{default:"standard"}},async setup(e){let t,a;const{data:n}=([t,a]=Ee(()=>Oe("svampar-skogsbruk",()=>Ne("svamparSkogsbruk").first())),t=await t,a(),t),{data:l}=([t,a]=Ee(()=>Oe("matsvamp-skogsbruk",()=>Ne("matsvampSkogsbruk").first())),t=await t,a(),t),{data:i}=([t,a]=Ee(()=>Oe("goda-matsvampar-skogsbruk",()=>Ne("godaMatsvamparSkogsbruk").first())),t=await t,a(),t),{data:c}=([t,a]=Ee(()=>Oe("kg-matsvamp-skogsbruk",()=>Ne("kgMatsvampSkogsbruk").first())),t=await t,a(),t),{data:o}=([t,a]=Ee(()=>Oe("signal-rodlistade-skogsbruk",()=>Ne("signalRodlistadeSkogsbruk").first())),t=await t,a(),t),{data:d}=([t,a]=Ee(()=>Oe("atheliales-skogsbruk",()=>Ne("athelialesSkogsbruk").first())),t=await t,a(),t),{data:A}=([t,a]=Ee(()=>Oe("boletales-skogsbruk",()=>Ne("boletalesSkogsbruk").first())),t=await t,a(),t),{data:m}=([t,a]=Ee(()=>Oe("cantharellales-skogsbruk",()=>Ne("cantharellalesSkogsbruk").first())),t=await t,a(),t),{data:f}=([t,a]=Ee(()=>Oe("spindlingar-skogsbruk",()=>Ne("spindlingarSkogsbruk").first())),t=await t,a(),t),{data:C}=([t,a]=Ee(()=>Oe("russulales-skogsbruk",()=>Ne("russulalesSkogsbruk").first())),t=await t,a(),t),{data:F}=([t,a]=Ee(()=>Oe("thelephorales-skogsbruk",()=>Ne("thelephoralesSkogsbruk").first())),t=await t,a(),t),{data:$}=([t,a]=Ee(()=>Oe("ascomycota-skogsbruk",()=>Ne("ascomycotaSkogsbruk").first())),t=await t,a(),t),{data:U}=([t,a]=Ee(()=>Oe("total-svampar-skogsbruk",()=>Ne("totalSvamparSkogsbruk").first())),t=await t,a(),t),V=h(()=>Array.isArray(n.value?.entries)?n.value.entries:[]),k=h(()=>Array.isArray(l.value?.entries)?l.value.entries:[]),j=h(()=>Array.isArray(i.value?.entries)?i.value.entries:[]),T=h(()=>Array.isArray(c.value?.entries)?c.value.entries:[]),R=h(()=>Array.isArray(o.value?.entries)?o.value.entries:[]),Z=h(()=>{const p=Array.isArray(R.value)?R.value:[],y=Array.isArray(V.value)?V.value.filter(L=>L.artkategori?.toLowerCase()==="rödlistade + signalarter"&&(L.startskog?.toLowerCase()||"")!=="naturskog"):[];return[...p,...y]}),ae=h(()=>Array.isArray(d.value?.entries)?d.value.entries:[]),G=h(()=>Array.isArray(A.value?.entries)?A.value.entries:[]),J=h(()=>Array.isArray(m.value?.entries)?m.value.entries:[]),Q=h(()=>Array.isArray(f.value?.entries)?f.value.entries:[]),ue=h(()=>Array.isArray(C.value?.entries)?C.value.entries:[]),re=h(()=>Array.isArray(F.value?.entries)?F.value.entries:[]),de=h(()=>Array.isArray($.value?.entries)?$.value.entries:[]),K=h(()=>Array.isArray(U.value?.entries)?U.value.entries:[]),te=h(()=>{const p=Number(S.maxYValue);if(!(S.chartType==="area")||!ve.value)return Number.isFinite(p)?[0,p]:void 0;const L=Array.isArray(sa.value)?sa.value:[];if(!L.length)return Number.isFinite(p)?[0,p]:void 0;let _=-1/0;const O=I=>2*I-I/20,P=0;if(S.singleFrameworkSelection)if(S.frameworkComparisonMode){const I=ne.value[0]||(S.selectedArtkategori?.[0]||"").toLowerCase(),ce=Ze.value||[];for(const ye of L)for(const De of ce){const Be=ye?.[`${De}__compare`],ct=Number(Be?.[I]);if(!Number.isFinite(ct))continue;const ba=O(ct);Number.isFinite(ba)&&(_=Math.max(_,ba))}}else{const I=ne.value.length?ne.value:(S.selectedArtkategori||[]).map(ce=>(ce||"").toLowerCase());for(const ce of L)for(const ye of I){const De=Number(ce?.[ye]);if(!Number.isFinite(De))continue;const Be=O(De);Number.isFinite(Be)&&(_=Math.max(_,Be))}}else{const I=Ze.value||[];for(const ce of L)for(const ye of I){const De=Number(ce?.[ye]);if(!Number.isFinite(De))continue;const Be=O(De);Number.isFinite(Be)&&(_=Math.max(_,Be))}}if(!Number.isFinite(_))return Number.isFinite(p)?[0,p]:void 0;const W=Number.isFinite(p)?Math.max(p,_):_;return[P,W]}),ot=h(()=>S.singleFrameworkSelection&&S.chartType==="area"?na.value:Ht.value),Ye=h(()=>{const p=ot.value.map(y=>Number(y?.age)).filter(y=>Number.isFinite(y));return p.length?[Math.min(...p),Math.max(...p)]:[0,1]});h(()=>[(S.selectedFrameworks||[]).join(","),S.selectedStartskog||"",S.chartType||"",S.singleFrameworkSelection?"S":"M",S.currentTimeValue||""].join("|"));const ee=h(()=>Array.isArray(ot.value)&&ot.value.length>0),ne=h(()=>{if(!S.singleFrameworkSelection)return[];if(S.frameworkComparisonMode){const p=S.selectedArtkategori?.[0];return p?[p.toLowerCase()]:[]}return(S.selectedArtkategori||[]).map(p=>(p||"").toLowerCase()).filter(p=>!be.value.has(p))}),Te=h(()=>Fe.value.length===1?Fe.value[0].color:"#000000"),xe={left:10,right:10,top:10,bottom:10},we=M(null),Se=M(!1);let fe=null;Bt(async()=>{await ea(),Se.value=!0,requestAnimationFrame(()=>{we.value?.offsetWidth}),typeof window<"u"&&"ResizeObserver"in window&&(fe=new ResizeObserver(()=>{we.value?.offsetWidth}),we.value&&fe.observe(we.value))}),ys(()=>{fe&&(fe.disconnect(),fe=null)});const be=M(new Set),oe=M(new Set),S=e,me=h(()=>S.matsvampVariant==="goda"?"goda":S.matsvampVariant==="kg"?"kg":"standard"),Ae=h(()=>me.value==="goda"?"goda matsvampar":me.value==="kg"?"kg matsvamp":"matsvamp"),ve=h(()=>(S.selectedArtkategori||[]).map(y=>(y||"").toLowerCase()).includes("matsvamp")&&me.value==="kg"),Vt=p=>(y,L)=>{if(!ve.value)return 0;const _=Number(y?.[p]);return Number.isFinite(_)?_/20:NaN},lt=p=>(y,L)=>{if(!ve.value)return 0;const _=ne.value[0]||S.selectedArtkategori[0]?.toLowerCase(),O=p+"__compare",P=y?.[O]?.[_],W=Number(P);return Number.isFinite(W)?W/20:NaN},Lt=(p,y)=>{if(!ve.value)return 0;const L=ne.value[0]||S.selectedArtkategori[0]?.toLowerCase(),_=Number(p?.[L]);return Number.isFinite(_)?_/20:NaN},ut=h(()=>S.redColor?{naturskydd:"#808080",trakthygge:"#7f1d1d",skärmträd:"#b91c1c",luckhuggning:"#f87171",blädning:"#fca5a5"}:S.yellowColor?{naturskydd:"#808080",trakthygge:"#713f12",skärmträd:"#a16207",luckhuggning:"#eab308",blädning:"#fde047"}:{naturskydd:"#808080",trakthygge:"#a855f7",luckhuggning:"#3b82f6",skärmträd:"#eab308",blädning:"#22c55e"});function Mt(p,y=1){const L=p.replace("#",""),_=L.length===3?L.split("").map(ce=>ce+ce).join(""):L,O=parseInt(_,16),P=O>>16&255,W=O>>8&255,I=O&255;return`rgba(${P}, ${W}, ${I}, ${y})`}h(()=>{const p={före:-5,efter:1,10:10,20:20,50:50,80:80};return[S.currentTimeValue?p[S.currentTimeValue]??Ye.value[0]:Ye.value[0],Ye.value[1]]});const it={atheliales:"#8B5CF6",boletales:"#EC4899",cantharellales:"#0EA5E9",spindlingar:"#F97316",russulales:"#22C55E",thelephorales:"#A855F7",ascomycota:"#DC2626",matsvamp:"#eab308","goda matsvampar":"#eab308","rödlistade + signalarter":"#5eead4",total:"#808080"},Fa=["atheliales","boletales","cantharellales","spindlingar","russulales","thelephorales","ascomycota","matsvamp","goda matsvampar","rödlistade + signalarter","total"],mr={atheliales:"Skinnsvampar (Atheliales)",boletales:"Soppar i vid bemärkelse (Boletales)",cantharellales:"Kantarellsläktingar (Cantharellales)",spindlingar:"Spindelskivlingar (Cortinarius)",russulales:"Kremlor & riskor (Russulales)",thelephorales:"Skinn- & taggsvampar (Theleophorales)",ascomycota:"Sporsäckssvampar (Ascomycota)",matsvamp:"Matsvampar","goda matsvampar":"Goda matsvampar","rödlistade + signalarter":"Rödlistade + signalarter",total:"Total"},ta=p=>p==="matsvamp"&&me.value==="goda"?"Goda matsvampar":p==="matsvamp"&&me.value==="kg"?"Kg matsvampar":mr[p]||ms(p);function $e(p){const y=p.toLowerCase();return y==="naturskydd"?"Ingen åtgärd":y==="trakthygge"?"Trakhyggesbruk":y==="skärmträd"?"Överhållen skärm":ms(p)}const Ue=["naturskydd","trakthygge","skärmträd","luckhuggning","blädning"],Me=h(()=>(S.selectedFrameworks||[]).map(p=>p.toLowerCase())),Ze=h(()=>Me.value.filter(p=>Ue.includes(p)&&!oe.value.has(p))),aa=h(()=>{const p={};for(const y of Me.value){const L=_t(y).map(_=>({age:Number(_.age),value:Number(_.klassning)})).filter(_=>Number.isFinite(_.age)&&Number.isFinite(_.value)).sort((_,O)=>_.age-O.age);p[y]=L}return p}),ra=h(()=>{const p=Object.values(aa.value);if(!p.length)return[];const y=p.map(I=>I.length?I[0].age:1/0),L=p.map(I=>I.length?I[I.length-1].age:-1/0),_=Math.min(...y),O=Math.max(...L);if(!Number.isFinite(_)||!Number.isFinite(O))return[];const P=[],W=1;for(let I=_;I<=O+1e-9;I+=W){const ce=Math.round(I);P.push(ce)}return P});function Ke(p,y){const L=p.findIndex(P=>P.age===y);if(L!==-1)return p[L].value;let _=-1,O=-1;for(let P=0;P<p.length;P++)if(p[P].age<y&&(_=P),p[P].age>y){O=P;break}if(_!==-1&&O!==-1){const P=p[_],W=p[O],I=(y-P.age)/(W.age-P.age);return P.value+I*(W.value-P.value)}}const Ht=h(()=>{const p=[];for(const y of ra.value){const L={age:y};for(const _ of Ze.value){const O=aa.value[_]||[],P=Ke(O,y);typeof P=="number"&&Number.isFinite(P)&&(L[_]=P)}p.push(L)}return p});h(()=>{const p={},y=Array.isArray(na.value)?na.value:[];for(const L of Ze.value)p[L]=y.filter(_=>Number.isFinite(Number(_?.age))&&Number.isFinite(Number(_?.[L]))).map(_=>({age:Number(_.age),value:Number(_[L]),__row:_})).sort((_,O)=>_.age-O.age);return p});const ha=h(()=>{if(S.singleFrameworkSelection||Ze.value.length!==1)return null;const p=(S.selectedArtkategori?.[0]||"").toLowerCase();return p==="total"?"#808080":p==="matsvamp"?"#eab308":p==="rödlistade + signalarter"?"#5eead4":null}),Ft=h(()=>{if(S.singleFrameworkSelection){if(S.frameworkComparisonMode)return(S.selectedFrameworks||[]).map(_=>{const O=_.toLowerCase(),P=ut.value[O]||"#000000";return{key:O,name:$e(O),label:$e(O),color:P,colorArea:Mt(P,.4),colorLine:P,inactive:oe.value.has(O)}});const p=S.selectedArtkategori.map(L=>L.toLowerCase());return Fa.filter(L=>p.includes(L)).map(L=>({key:L,name:ta(L),label:ta(L),color:it[L]||"#000000",inactive:be.value.has(L)}))}else{const p=Ze.value,y=(S.selectedArtkategori?.[0]||"").toLowerCase(),L=it[y]||null;if(p.length===2){const[O,P]=p,W=L||ut.value[O]||"#000000",I="#0a0a0a";return[{key:O,name:$e(O),label:$e(O),color:W,colorArea:Mt(W,.5),colorLine:Mt(W,.5),inactive:oe.value.has(O),isSecondary:!0},{key:P,name:$e(P),label:$e(P),color:I,colorArea:Mt(I,.5),colorLine:Mt(I,.5),lineDashArray:[5],inactive:oe.value.has(P),isSecondary:!1}]}return Ue.filter(O=>S.selectedFrameworks.map(P=>P.toLowerCase()).includes(O)).map(O=>({key:O,name:$e(O),label:$e(O),color:ha.value||ut.value[O]||"#000000",colorArea:ha.value||ut.value[O]||"#000000",colorLine:ha.value||ut.value[O]||"#000000",inactive:oe.value.has(O)}))}}),Fe=h(()=>S.singleFrameworkSelection?S.frameworkComparisonMode?Ft.value.filter(p=>!oe.value.has(p.key)):[]:Ft.value.filter(p=>!p.inactive));function ga(p){return p==="total"?K.value:p==="matsvamp"?me.value==="goda"?j.value:me.value==="kg"?T.value:k.value:p==="goda matsvampar"?j.value:p==="rödlistade + signalarter"?Z.value:p==="atheliales"?ae.value:p==="boletales"?G.value:p==="cantharellales"?J.value:p==="spindlingar"?Q.value:p==="russulales"?ue.value:p==="thelephorales"?re.value:p==="ascomycota"?de.value:V.value}function ka(p){const y=p.toLowerCase();return y==="matsvamp"?Ae.value:y}function _t(p){const y=S.selectedArtkategori.map(O=>O.toLowerCase()),L=S.selectedStartskog?S.selectedStartskog.toLowerCase():null,_=[];return y.forEach(O=>{const P=ka(O);(ga(O)||[]).forEach(I=>{I.artkategori?.toLowerCase()===P&&I.frameworks?.toLowerCase()===p.toLowerCase()&&(L&&(I.startskog?.toLowerCase()??L)!==L||_.push({age:I.ålder,klassning:+I.klassning}))})}),_}const na=h(()=>{const p=new Map;if(S.singleFrameworkSelection){const y=S.frameworkComparisonMode?(S.selectedFrameworks||[]).map(L=>L.toLowerCase()).slice(0,2):[S.selectedFrameworks[0]?.toLowerCase()].filter(Boolean);S.selectedArtkategori.forEach(L=>{const _=L.toLowerCase(),O=ga(_),P=S.selectedStartskog?S.selectedStartskog.toLowerCase():null,W=ka(_);y.forEach(I=>{(O||[]).filter(ye=>{const De=ye.artkategori?.toLowerCase()===W,Be=ye.frameworks?.toLowerCase()===I,ct=!P||(ye.startskog?.toLowerCase()??P)===P;return De&&Be&&ct}).map(ye=>({age:ye.ålder,klassning:+ye.klassning})).forEach(ye=>{const De=p.get(ye.age)||{age:ye.age};if(S.frameworkComparisonMode){const Be=`${I}__compare`,ct=De[Be]||{};ct[_]=ye.klassning,De[Be]=ct}else De[_]=ye.klassning;p.set(ye.age,De)})})})}else Me.value.forEach(y=>{_t(y).forEach(_=>{const O=p.get(_.age)||{age:_.age};O[y]=_.klassning,p.set(_.age,O)})});return Array.from(p.values()).sort((y,L)=>y.age-L.age)}),Xe=p=>{const y=Number(p?.age);return Number.isFinite(y)?y:void 0},Ot=h(()=>{if(S.singleFrameworkSelection){if(S.frameworkComparisonMode){const y=ne.value[0]||S.selectedArtkategori[0]?.toLowerCase();return Fe.value.map(L=>{const _=L.key;return O=>{const W=O?.[`${_}__compare`]?.[y];return Number.isFinite(Number(W))?Number(W):NaN}})}return(ne.value.length?ne.value:S.selectedArtkategori.map(y=>y.toLowerCase())).filter(y=>!be.value.has(y)).map(y=>L=>L[y])}return Fe.value.map(p=>y=>y[p.key])}),pr=h(()=>S.singleFrameworkSelection?S.frameworkComparisonMode?Fe.value.map(y=>y.colorLine||y.color||"#000000"):(ne.value.length?ne.value:S.selectedArtkategori.map(y=>y.toLowerCase())).filter(y=>!be.value.has(y)).map(y=>it[y]||"#000000"):Fe.value.map(p=>p.color||"#000000"));function hr(p){const y=(p.key||p.name||"").toLowerCase();if(y)if(S.singleFrameworkSelection)if(S.frameworkComparisonMode){const L=new Set(oe.value);L.has(y)?L.delete(y):L.add(y),oe.value=L}else{const L=new Set(be.value);L.has(y)?L.delete(y):L.add(y),be.value=L}else{const L=Ue.find(O=>O===y)||Ue.find(O=>$e(O).toLowerCase()===y);if(!L)return;const _=new Set(oe.value);_.has(L)?_.delete(L):_.add(L),oe.value=_}}const Oa=h(()=>!S.singleFrameworkSelection||S.frameworkComparisonMode?[]:ne.value.map(p=>y=>{const L=Number(y?.[p]);return Number.isFinite(L)?ve.value?2*L-L/20:L:NaN})),gr=h(()=>!S.singleFrameworkSelection||S.frameworkComparisonMode?[]:ne.value.map(p=>it[p]||"#999")),za=Aa({age:0});function kr(p){return p?Object.keys(p).filter(L=>L!=="age"&&L!=="__markerY").some(L=>{const _=p[L];return _&&typeof _=="object"?Object.values(_).some(O=>Number.isFinite(Number(O))):Number.isFinite(Number(_))}):!1}const $a=h(()=>S.singleFrameworkSelection?S.frameworkComparisonMode?Fe.value.length:ne.value.length:Fe.value.length),br=h(()=>$a.value>0),sa=h(()=>{const p=ot.value;return $a.value?p.filter(y=>kr(y)):S.frameworkComparisonMode&&S.singleFrameworkSelection&&p.length?p.map(y=>{const L={age:y.age};for(const _ of S.selectedFrameworks||[]){const O=_.toLowerCase();L[`${O}__compare`]={[ne.value[0]||S.selectedArtkategori[0]?.toLowerCase()||""]:NaN}}return L}):p.length?p:[za]}),yr=p=>{if(!p)return"";const y=p.age;if(!Number.isFinite(Number(y)))return"";const _=y===-5?"före":y===1?"1 år":`${(W=>Number.isInteger(W)?`${W}`:`${W}`.replace(".5",",5"))(y)} år`;let O;if(S.singleFrameworkSelection)if(S.frameworkComparisonMode){const W=ne.value[0]||S.selectedArtkategori[0]?.toLowerCase();O=Fe.value.map(I=>{const ce=I.key;return{key:`${ce}__compare`,label:$e(ce),color:I.color||ut.value[ce]||"#999",category:W}})}else O=S.selectedArtkategori.map(W=>{const I=W.toLowerCase();return{key:I,label:ta(I),color:it[I]||"#999"}});else O=Fe.value.map(W=>({key:W.key,label:$e(W.key),color:W.color||"#999"}));const P=O.map(W=>{const I=S.singleFrameworkSelection&&S.frameworkComparisonMode?p?.[W.key]?.[W.category]:p[W.key];if(I==null)return"";const ce=typeof I=="number"?I>=10?Math.round(I).toString():I.toFixed(2):String(I);return`
        <div style="display:flex;align-items:center;gap:0.5rem;line-height:1.2;">
          <span style="display:inline-block;width:8px;height:8px;border-radius:50%;background:${W.color};"></span>
          <span>${W.label}: <strong>${ce}</strong></span>
        </div>`}).filter(Boolean).join("");return`
    <div style="min-width:120px">
      <div style="font-weight:600;margin-bottom:4px">${_}</div>
      ${P}
    </div>`};return(p,y)=>{const L=Ul;return g(),D("div",{class:"custom-area",ref_key:"rootEl",ref:we,style:Hr({"--vis-area-stroke-color":Te.value})},[w(L,null,{default:z(()=>[Se.value&&ee.value&&Ft.value.length?(g(),q(E(eu),{key:0,items:Ft.value,onLegendItemClick:hr,class:"mx-4 flex flex-wrap gap-2"},null,8,["items"])):N("",!0),Se.value&&ee.value?(g(),q(E(Ti),{key:1,data:sa.value.length?sa.value:[za],height:120,margin:xe,xDomain:Ye.value,yDomain:te.value},{default:z(()=>[S.chartType==="area"&&S.singleFrameworkSelection&&!S.frameworkComparisonMode?(g(),q(E(Rr),{key:0,x:Xe,y:Oa.value,color:gr.value,interpolateMissingData:!0,baseline:Lt},null,8,["y","color"])):S.chartType==="area"&&S.singleFrameworkSelection&&S.frameworkComparisonMode?(g(!0),D(Pe,{key:1},Ge(Fe.value,_=>(g(),q(E(Rr),{key:_.key+"-compare-area",x:Xe,y:O=>{const P=ne.value[0]||S.selectedArtkategori[0]?.toLowerCase(),W=_.key+"__compare",I=O?.[W]?.[P],ce=Number(I);return Number.isFinite(ce)?ve.value?2*ce-ce/20:ce:NaN},baseline:lt(_.key),color:()=>_.colorArea||_.color,interpolateMissingData:!0,zIndex:1},null,8,["y","baseline","color"]))),128)):S.chartType==="area"?(g(),D(Pe,{key:2},[(g(!0),D(Pe,null,Ge(Fe.value,_=>(g(),q(E(Rr),{key:_.key+"-area",x:Xe,y:O=>{const P=Number(O?.[_.key]);return Number.isFinite(P)?ve.value?2*P-P/20:P:NaN},baseline:Vt(_.key),color:()=>_.colorArea||_.color,interpolateMissingData:!0,zIndex:1},null,8,["y","baseline","color"]))),128)),br.value?(g(),q(E(Ai),{key:0,template:yr})):N("",!0),ve.value?(g(!0),D(Pe,{key:1},Ge(Fe.value,_=>(g(),q(E(Qo),{key:_.key+"-line-overlay",x:Xe,y:O=>{const P=Number(O?.[_.key]);return Number.isFinite(P)?P:NaN},color:()=>_.colorLine||_.color,dashArray:[4,4]},null,8,["y","color"]))),128)):N("",!0)],64)):S.chartType==="bar"?(g(),q(E(Xo),{key:3,color:pr.value,x:Xe,y:Ot.value,groupPadding:.5,groupMaxWidth:20},null,8,["color","y"])):N("",!0),w(E(ts),{tickTextFontSize:"12px",gridLine:!0,type:"x",tickValues:[0,10,20,30,40,50,60,70,80,90],tickFormat:_=>_===10||_===30||_===40||_===60||_===70||_===90?"":_},null,8,["tickFormat"]),w(E(ts),{tickTextFontSize:"12px",type:"y"})]),_:1},8,["data","xDomain","yDomain"])):N("",!0)]),_:1})],4)}}}),Gu=Object.assign(Hu,{__name:"ForestryChartDisplay"}),Wu={class:"mt-2 ml-2 flex justify-between"},Yu={class:"flex items-center cursor-pointer w-fit hover:bg-muted px-2"},Zu={class:"text-neutral-800 text-md font-semibold leading-loose pr-2 rounded-sm"},Ku={class:"p-2 flex flex-col gap-2"},Xu={key:0},Ju={key:0,class:"text-base/7"},Qu={key:1},ec={key:0,class:"text-base/7"},tc={key:2},ac={key:0,class:"text-base/7"},rc={class:"px-2 pb-2"},nc={key:3},sc={key:0,class:"text-base/7"},lc=yt({__name:"ForestryChartMain",props:{parentSelectedFrameworks:{},currentTimeValue:{},currentStartskog:{},selectedChart:{}},emits:["update:selectedChart"],setup(e,{expose:t,emit:a}){const n=e,l=a;M("naturskog"),M("naturskog"),M("naturskog");const i=M("trakthygge");M(!0),M(!1);const c=M(!1),o=M(!1),d=M(!1),A=M(!1),m=[{label:"Total mängd mykorrhizasvamp",value:"skogsskole"},{label:"Naturvårdsarter",value:"rodlistade"},{label:"Matsvampar",value:"matsvampar"},{label:"Olika svampgrupper",value:"grupper"}],f=M(m.some(G=>G.value===n.selectedChart)?n.selectedChart:m[0].value),C=h(()=>(n.parentSelectedFrameworks?.length??0)===2);function F(G){m.some(J=>J.value===G)&&(f.value=G)}t({setSelectedChart:F}),X(()=>n.selectedChart,G=>{typeof G=="string"&&m.some(J=>J.value===G)&&f.value!==G&&(f.value=G)}),X(f,G=>{l("update:selectedChart",G)});const $=[{label:"Naturskydd",value:"naturskydd"},{label:"Blädning",value:"blädning"},{label:"Trakthygge",value:"trakthygge"},{label:"Skärmträd",value:"skärmträd"},{label:"Luckhuggning",value:"luckhuggning"}],U=["atheliales","boletales","cantharellales","spindlingar","russulales","thelephorales","ascomycota"],V=M("area");M("area");const k=[{label:"Standard matsvampar",value:"standard"},{label:"Goda matsvampar",value:"goda"},{label:"Kg matsvampar",value:"kg"}],j=M("standard"),T=h(()=>j.value==="kg"?55:28);M($.map(G=>G.value));const R=M([...U]),Z=[{label:"Atheliales",value:"atheliales"},{label:"Boletales",value:"boletales"},{label:"Cantharellales",value:"cantharellales"},{label:"Spindlingar",value:"spindlingar"},{label:"Russulales",value:"russulales"},{label:"Thelephorales",value:"thelephorales"},{label:"Sporsäckssvampar",value:"ascomycota"}],ae=M(Z[0].value);return X([f,C],([G,J])=>{G==="grupper"&&J||(ae.value=Z[0].value),G==="grupper"&&!J&&(R.value=[...U])}),X(()=>n.parentSelectedFrameworks?.length,()=>{f.value==="grupper"&&C.value&&(ae.value=Z[0].value)}),(G,J)=>{const Q=Rl,ue=fn,re=_s,de=Cs,K=Gu;return g(),D("div",null,[v("div",Wu,[w(re,{content:{align:"start",side:"bottom",sideOffset:8}},{content:z(()=>[v("div",Ku,[(g(),D(Pe,null,Ge(m,te=>w(ue,{size:"lg",key:te.value,color:"neutral",variant:"ghost",onClick:ot=>f.value=te.value},{default:z(()=>[At(Y(te.label),1)]),_:2},1032,["onClick"])),64))])]),default:z(()=>[v("div",Yu,[v("h1",Zu,Y(m.find(te=>te.value===f.value)?.label||"Välj diagram"),1),w(Q,{name:"i-heroicons-chevron-up-down",class:"size-4"})])]),_:1}),f.value==="grupper"&&C.value?(g(),q(de,{key:0,modelValue:ae.value,"onUpdate:modelValue":J[0]||(J[0]=te=>ae.value=te),items:Z,size:"sm",class:"w-56",placeholder:"Välj svampgrupp"},null,8,["modelValue"])):N("",!0)]),v("div",null,[f.value==="skogsskole"?(g(),D("div",Xu,[c.value?(g(),D("p",Ju," Vid trakthyggesbruk minskar mängden mykorrhizasvamp nästan till noll direkt efter avverkning. I takt med att träden växer upp etableras ett nytt svampsamhälle. När träden är mellan 40-70 år, är fotosyntesen som mest effektiv — vilket kan leda till att mängden mykorrhiza blir större än innan avverkningen. Överhållen skärm följer ett liknande mönster, men eftersom marken aldrig blir helt kal minskar svampmängden inte lika mycket. Blädning och luckhuggning innebär återkommande mindre ingrepp, där svampmängden sjunker något ungefär vart trettionde år men i övrigt hålls relativt stabil över tid. ")):N("",!0),w(K,{selectedFrameworks:n.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","blädning","skärmträd"],selectedArtkategori:["total"],chartType:V.value,maxYValue:130,currentTimeValue:n.currentTimeValue},null,8,["selectedFrameworks","chartType","currentTimeValue"])])):N("",!0),f.value==="rodlistade"?(g(),D("div",Qu,[o.value?(g(),D("p",ec," Praesent elementum ut lacus a pharetra. Sed a malesuada mauris. Morbi et convallis libero. Aliquam vestibulum, felis eu fringilla elementum, nibh nunc tincidunt ex, quis vulputate nunc erat eu quam. Phasellus rutrum bibendum lacinia. Fusce aliquam aliquet lectus, eget gravida purus lobortis id. Curabitur viverra quam a risus sagittis maximus. ")):N("",!0),w(K,{selectedFrameworks:n.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","blädning","skärmträd"],selectedArtkategori:["rödlistade + signalarter"],chartType:V.value,selectedStartskog:n.currentStartskog,redColor:!0,maxYValue:.65,currentTimeValue:n.currentTimeValue},null,8,["selectedFrameworks","chartType","selectedStartskog","currentTimeValue"])])):N("",!0),f.value==="matsvampar"?(g(),D("div",tc,[d.value?(g(),D("p",ac," Praesent elementum ut lacus a pharetra. Sed a malesuada mauris. Morbi et convallis libero. Aliquam vestibulum, felis eu fringilla elementum, nibh nunc tincidunt ex, quis vulputate nunc erat eu quam. Phasellus rutrum bibendum lacinia. Fusce aliquam aliquet lectus, eget gravida purus lobortis id. Curabitur viverra quam a risus sagittis maximus. ")):N("",!0),v("div",rc,[w(de,{modelValue:j.value,"onUpdate:modelValue":J[1]||(J[1]=te=>j.value=te),items:k,size:"sm",class:"w-56",placeholder:"Välj dataset"},null,8,["modelValue"])]),w(K,{selectedFrameworks:n.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","blädning","skärmträd"],selectedArtkategori:["matsvamp"],chartType:V.value,selectedStartskog:n.currentStartskog,yellowColor:!0,maxYValue:T.value,currentTimeValue:n.currentTimeValue,matsvampVariant:j.value},null,8,["selectedFrameworks","chartType","selectedStartskog","maxYValue","currentTimeValue","matsvampVariant"])])):N("",!0),f.value==="grupper"?(g(),D("div",nc,[A.value?(g(),D("p",sc," Praesent elementum ut lacus a pharetra. Sed a malesuada mauris. Morbi et convallis libero. Aliquam vestibulum, felis eu fringilla elementum, nibh nunc tincidunt ex, quis vulputate nunc erat eu quam. Phasellus rutrum bibendum lacinia. Fusce aliquam aliquet lectus, eget gravida purus lobortis id. Curabitur viverra quam a risus sagittis maximus. ")):N("",!0),w(K,{selectedFrameworks:n.parentSelectedFrameworks??[i.value],selectedArtkategori:C.value?[ae.value]:R.value,frameworkComparisonMode:C.value,chartType:V.value,singleFrameworkSelection:!0,selectedStartskog:n.currentStartskog,currentTimeValue:n.currentTimeValue},null,8,["selectedFrameworks","selectedArtkategori","frameworkComparisonMode","chartType","selectedStartskog","currentTimeValue"])])):N("",!0)])])}}}),cl=Object.assign(xs(lc,[["__scopeId","data-v-2970acf5"]]),{__name:"ForestryChartMain"}),ic={class:"absolute inset-0",style:{"z-index":"0"}},oc={class:"flex h-full relative"},uc={class:"absolute text-end right-3 top-2"},cc={class:"absolute top-2 left-3"},dc={key:1,class:"flex w-full h-full gap-1"},vc={class:"w-1/2 h-full"},fc={class:"w-1/2 h-full"},mc={__name:"CustomImageComparisonSlider",props:{frameworkLabel:{type:String,default:""},timeLabel:{type:String,default:""},frameworkLabel2:{type:String,default:""},timeLabel2:{type:String,default:""},layoutMode:{type:String,default:"slider"}},setup(e,{expose:t}){ws("(max-width: 767px)");const a=e,n=M(a.layoutMode);X(()=>a.layoutMode,F=>{(F==="slider"||F==="side-by-side"||F==="sideBySide")&&(n.value=F)});const l=M(null),i=M(.5);let c=!1;function o(F){if(!l.value)return;const $=l.value.getBoundingClientRect();let V=((F.touches?F.touches[0].clientX:F.clientX)-$.left)/$.width;V=Math.max(0,Math.min(V,1)),i.value=V}function d(F){n.value==="slider"&&(c=!0,o(F),window.addEventListener("mousemove",A),window.addEventListener("mouseup",m),window.addEventListener("touchmove",A),window.addEventListener("touchend",m))}function A(F){c&&o(F)}function m(){c=!1,window.removeEventListener("mousemove",A),window.removeEventListener("mouseup",m),window.removeEventListener("touchmove",A),window.removeEventListener("touchend",m)}function f(){n.value=n.value==="slider"?"sideBySide":"slider"}function C(F){(F==="slider"||F==="sideBySide")&&(n.value=F)}return t({toggleLayoutMode:f,setLayoutMode:C}),Bt(()=>{i.value=.5}),(F,$)=>{const U=mn;return n.value==="slider"?(g(),D("div",{key:0,ref_key:"container",ref:l,class:"relative w-full h-full overflow-hidden select-none"},[v("div",ic,[Rt(F.$slots,"second")]),v("div",{class:"absolute inset-0 overflow-hidden",style:Hr({clipPath:"inset(0 calc(100% - "+i.value*100+"%) 0 0)",zIndex:10})},[Rt(F.$slots,"first")],4),v("div",{class:"absolute top-0 flex items-center justify-center h-full w-10 cursor-ew-resize",style:Hr({left:i.value*100+"%",transform:"translateX(-50%)",zIndex:20}),onMousedown:d,onTouchstart:d},[v("div",oc,[v("div",uc,[w(U,{size:"lg",class:"backdrop-blur-xl bg-neutral-950/50 text-neutral-100 h-fit whitespace-nowrap"},{default:z(()=>[At(Y(e.timeLabel),1)]),_:1})]),$[0]||($[0]=v("div",{class:"h-full w-1.5 bg-neutral-100/90 backdrop-blur-md inset-shadow-sm inset-shadow-neutral-400"},null,-1)),v("div",cc,[w(U,{size:"lg",class:"backdrop-blur-xl bg-neutral-950/50 text-neutral-100 h-fit whitespace-nowrap"},{default:z(()=>[At(Y(e.timeLabel2),1)]),_:1})])])],36)],512)):n.value==="sideBySide"?(g(),D("div",dc,[v("div",vc,[Rt(F.$slots,"first")]),v("div",fc,[Rt(F.$slots,"second")])])):N("",!0)}}},pc=pn("onboardingStore",{state:()=>({selectedStartskog:0,selectedFramework:1})}),hc=[{id:"manga_arter_pa_trad",title:"Många arter på ett träd",text:"På rötterna av äldre träd kan det finnas mycel av 50-100 olika arter mykorrhizasvampar.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["före"],placement:"LEFT"},{framework:["trakthygge"],times:["före"],placement:"LEFT"},{framework:["blädning"],times:["förr"],placement:"LEFT"},{framework:["skärmträd"],times:["före"],placement:"LEFT"},{framework:["luckhuggning"],times:["före"],placement:"LEFT"}]},{id:"mykorrhiza_dar_det_finns_rotter",title:"Mykorrhiza där det finns rötter",text:"Mykorrhizasvamparnas mycel finns lika djupt ner i marken som rötter når, och så långt träds rötter breder ut sig, 10-15 meter från stammen. Men det är rikligast med mykorrhiza närmast trädet och i de översta 10 cm av skogsmarken.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["före"],placement:"LEFT"},{framework:["trakthygge"],times:["före"],placement:"LEFT"},{framework:["blädning"],times:["förr"],placement:"LEFT"},{framework:["skärmträd"],times:["före"],placement:"LEFT"},{framework:["luckhuggning"],times:["före"],placement:"LEFT"}]},{id:"matsvampsmycel_kort_tid",title:"Matsvamp efter avverkning",text:"Nästan alla matsvampar är mykorrhizasvampar och försvinner efter avverkning. De överlever om dess mycel växer med hänsynsträd som lämnats eller nära en skogskant. Annars behöver de återetableras i ungskog från sporer som sprids in från näraliggande skogar.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["trakthygge"],times:["efter"],placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],placement:"LEFT"}]},{id:"matsvampsmycel_i_aldrre_skog",title:"Mer matsvamp i äldre skog",text:"Mängden matsvampar är större i äldre skog eftersom större träd har högre fotosyntes och kan skicka ner mer socker till sina rötter.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["före","efter","10","20","50","80"],placement:"LEFT"},{framework:["trakthygge"],times:["före","50","80"],placement:"LEFT"},{framework:["blädning"],times:["före","efter","10","20","50","80"],placement:"LEFT"},{framework:["skärmträd"],times:["före","50","80"],placement:"LEFT"},{framework:["luckhuggning"],times:["före","50","80"],placement:"LEFT"}]},{id:"mycel_av_rodlistade_svampar",title:"Rödlistade svampar",text:"Rödlistade mykorrhizasvampar har ofta speciella miljökrav, och förekommer främst i äldre skog. Generellt kan mycel av mykorrhizasvampar leva vidare på en plast så länge det finns levande träd. Svampindividers mycel kan bli många decennier till potentiellt sekler gamla.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-award-star-outline",color:"signal-500",positions:[{framework:["naturskydd"],times:["före","efter","10","20","50","80"],placement:"LEFT"},{framework:["trakthygge"],times:["före"],placement:"LEFT"},{framework:["blädning"],times:["före"],placement:"LEFT"},{framework:["skärmträd"],times:["före"],placement:"LEFT"},{framework:["luckhuggning"],times:["före"],placement:"LEFT"}]},{id:"hogstubbe",title:"Högstubbe",text:"Här finns inga levande mykorrhizamycel. Trädets rötter är döda.",thumbnail:"/images/Skogsbruk.png",icon:"i-fluent-emoji-high-contrast-wood",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter"],x:.51,y:.26,placement:"LEFT"},{framework:["trakthygge"],times:["efter"],x:.621,y:.3,placement:"LEFT"}]},{id:"stubbe",title:"Stubbe",text:"Trädets fotosyntes och flöde av energi till sina rötter har upphört. Efter avverkning tynar mykorrhizasvamparna bort och dör efter ett par månader - ett år.",thumbnail:"/images/Skogsbruk.png",icon:"i-fluent-emoji-high-contrast-wood",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter"],x:.422,y:.185,placement:"LEFT"},{framework:["trakthygge"],times:["efter"],x:.573,y:.32,placement:"LEFT"}]},{id:"hansynstrad",title:"Hänsynsträd",text:"De flesta mykorrhizasvamparna som växte med trädets rötter i skogen före avverkningen finns kvar och lever vidare. Dessa mycel kan växa in i och spridas till uppväxande trädplantor.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-tree-circle",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter","20","50","80"],x:.335,y:.38,placement:"LEFT"},{framework:["trakthygge"],times:["efter","20","50","80"],x:.4502,y:.2228,placement:"LEFT"},{framework:["skärmträd"],times:["20","50","80"],x:.469,y:.2577,placement:"LEFT"}]},{id:"grupp_av_hansynstrad",title:"Grupp av hänsynsträd",text:"De flesta mykorrhizasvampar som växte i denna trädgrupps rötter före avverkningen finns kvar och lever vidare. Fanns det mat- och naturvårdssvampar, kan de fortleva.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-tree-circle",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter","20","50","80"],x:.3736,y:.2832,placement:"LEFT"}]},{id:"sjalforyngrade_sma_tradplantor",title:"Självföryngrade trädplantor",text:"Små mycel av mykorrhizasvampar växer i plantornas rötter. Om de växer nära hänsynsträd kan mycel vuxint in från dessas rötter. Annars etableras mycel från svampsporer som sprid in från näraliggande skogar. Vissa svamparter har också en sporbank i marken.",thumbnail:"/images/Skogsbruk.png",icon:"i-hugeicons-plant-03",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.4344,y:.1971,placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],x:.4344,y:.1971,placement:"LEFT"}]},{id:"planterade_sma_tradplantor",title:"Planterade små trädplantor",text:"Har med sig spontant etablerad mykorrhiza från plantskolan där de odlades upp. Det är dock få arter. Dessa ersätts succesivt med bättre anpassade och svamparter som finns på platsen.",thumbnail:"/images/Skogsbruk.png",icon:"i-hugeicons-plant-02",color:"neutral-500",positions:[{framework:["trakthygge"],times:["20"],x:.45,y:.32,placement:"LEFT"}]},{id:"yngre_trad_vid_avverkningen",title:"Yngre träd som lämnats",text:"Undviks underröjning före avverkning, kommer mykorrhizasvampar att överleva på dessa plantor och träd på samma sätt som de gör på rötterna av hänsynsträd.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-seedling-circle",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.33,y:.37,placement:"LEFT"}]},{id:"tradkant_mot_avverkning",title:"Trädkant mot avverkning",text:"Mykorrhizasvampars mycel växer med i skogskantsträdens rötter så långt de sträcker sig in på avverkningen. Mest närmast skogskanten, men når 10–15 meter in på hygget.",thumbnail:"/images/Skogsbruk.png",icon:"i-healthicons-square-medium-negative",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter","20"],x:.46,y:.409,placement:"LEFT"},{framework:["luckhuggning"],times:["efter","20"],x:.64,y:.352,placement:"LEFT"},{framework:["luckhuggning"],times:["50"],x:.511,y:.3245,placement:"LEFT"},{framework:["luckhuggning"],times:["80"],x:.3278,y:.2383,placement:"LEFT"}]},{id:"tomma_omraden_avverkning",title:"Tomma områden ",text:"Vid områden utan nära träd och småplantor direkt efter avverkning finns inte mykorrhizasvampar. I mark där det saknas trädrötter finns inte mykorrhizasvampar. Några, men få mykorrhizasvampar har en sporbank.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.6095,y:.2081,placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],x:.485,y:.292,placement:"LEFT"}]}],gc={annotations:hc},kc=pn("selectedAnnotation",{state:()=>({selectedAnnotation:null}),actions:{setSelectedAnnotation(e){this.selectedAnnotation=e},clearSelectedAnnotation(){this.selectedAnnotation=null}}}),bc=pn("overlay",{state:()=>({staticOverlayVisible:!1}),actions:{toggleStaticOverlay(){this.staticOverlayVisible=!this.staticOverlayVisible},setStaticOverlayVisible(e){this.staticOverlayVisible=e}}}),cn={retention:{slug:"retention-trees",fields:{framework:"framework",startskog:"startskog",time:"time"}},seedTree:{slug:"seed-trees",fields:{framework:"framework",startskog:"startskog",time:"time"}},smaplantor:{slug:"smaplantor",fields:{framework:"framework",startskog:"startskog",time:"time"}},hogstubbar:{slug:"hogstubbar",fields:{framework:"framework",startskog:"startskog",time:"time"}},naturvardsarter:{slug:"naturvard",fields:{framework:"framework",startskog:"startskog",time:"time"}},kanteffekt:{slug:"kanteffekt",fields:{framework:"framework",startskog:null,time:"start"}}},Ir=Object.keys(cn);function La(e){return e?e.replace(/_+$/g,""):e??null}function Br(e,t,a=!0){if(!t)return!1;if(e==null)return!0;const n=La(t);return Array.isArray(e)?a&&e.includes("alla")||e.some(l=>La(String(l))===n):typeof e=="string"?a&&e==="alla"?!0:La(e)===n:!1}function ps(e,t,a,n={}){const{ignoreStartskog:l=!1}=n,{fields:i}=a;return e.filter(c=>{if(!c)return!1;if(i.framework){const o=c[i.framework];if(!Br(o,t.framework,!1))return!1}if(i.startskog&&!l&&t.startskog){const o=c[i.startskog];if(!Br(o,t.startskog,!0))return!1}if(i.time){const o=c[i.time];if(!Br(o,t.time,!0))return!1}return!0})}function yc(e,t,a){if(!Array.isArray(e)||e.length===0)return[];if(!t?.framework||!t?.time)return e;const n={framework:La(t.framework),startskog:La(t.startskog),time:t.time};let l=ps(e,n,a);return l.length===0&&a.fields.startskog&&n.startskog&&(l=ps(e,n,a,{ignoreStartskog:!0})),l}const _c=["innan","efter","10 år","20 år","50 år","80 år"],xc={retention:!0,kanteffekt:!0,rottacke:!0,seedTree:!0,smaplantor:!0,hogstubbar:!0,naturvardsarter:!0,tradplantor:!0};function wc(e){const t=e.framework,a=e.time;if(!t||!a)return!0;const n=t==="skärmträd"||t==="skarmtrad",l=t==="blädning"||t==="bladning",i=n&&a==="efter",c=l&&["efter","20 år","50 år","80 år"].includes(a);return i||c}function Sc(e){const t=e.framework,a=e.time;return!t||!a?!0:t==="trakthygge"&&a==="20 år"}async function ca(e){try{return await $fetch(e)}catch{return null}}function Cc(e){switch(e){case"blädning":return["blädning","bladning"];case"skärmträd":return["skärmträd","skarmtrad"];default:return[e]}}function Tc(e){if(!e||typeof e!="object")return[];const t=Array.isArray(e.points)?e.points:[],a=new Map;t.length&&t.forEach(C=>{C?.id!=null&&a.set(C.id,C)});const n=e.startskogSets??null,l=e.markers??{},i=e.defaults??{},c=e.frameworks??{},o=Array.isArray(e.timelineOrder)?[...e.timelineOrder]:[..._c],d=new Set(o);Object.values(c).forEach(C=>{!C||typeof C!="object"||Object.values(C).forEach(F=>{Array.isArray(F)&&F.forEach($=>{const U=$?.time;U&&!d.has(U)&&(d.add(U),o.push(U))})})});const A=o,m=new Map;t.length&&n&&typeof n=="object"?Object.entries(n).forEach(([C,F])=>{const $=new Map;Array.isArray(F)&&F.forEach(U=>{const V=a.get(U);V&&$.set(U,V)}),m.set(C,$)}):Object.entries(l).forEach(([C,F])=>{const $=new Map;Array.isArray(F)&&F.forEach(U=>{U?.id!=null&&$.set(U.id,U)}),m.set(C,$)});const f=[];return Object.entries(c).forEach(([C,F])=>{const $=Cc(C),U=F??{};m.forEach((V,k)=>{if(!V||V.size===0)return;const j=Array.from(V.keys()),T=Array.isArray(i[k])?i[k]:j;let R=new Set(T),Z=new Set;const ae=Array.isArray(U[k])?U[k]:[],G=new Map;ae.forEach(J=>{J?.time&&G.set(J.time,J)}),A.forEach(J=>{let Q=new Set(R);const ue=G.get(J);ue&&(ue.set&&(ue.set==="base"?Q=new Set(T):ue.set==="all"?Q=new Set(j):Array.isArray(ue.set)&&(Q=new Set(ue.set))),Array.isArray(ue.remove)&&ue.remove.forEach(re=>{Q.delete(re),Z.add(re)}),Array.isArray(ue.add)&&ue.add.forEach(re=>{Q.add(re),Z.delete(re)})),R.forEach(re=>{Q.has(re)||Z.add(re)}),Q.forEach(re=>{Z.has(re)&&Z.delete(re)}),$.forEach(re=>{Q.forEach(de=>{const K=V.get(de)||a.get(de);K&&f.push({id:K.id,x:K.x,y:K.y,framework:re,startskog:k,time:J,removed:!1})}),Z.forEach(de=>{const K=V.get(de)||a.get(de);K&&f.push({id:K.id,x:K.x,y:K.y,framework:re,startskog:k,time:J,removed:!0})})}),R=new Set(Q)})})}),f}function Ac(e){return e?Array.isArray(e.mycelium)?e.mycelium:e.markers&&e.frameworks||e.points&&e.startskogSets&&e.frameworks?Tc(e):[]:[]}async function Vc(){const e=["/småplantor.json","/småplantor.json"];for(const t of e){const a=await ca(t);if(a)return a}return null}function Lc(){const{data:e,pending:t}=Oe("overlay-datasets-json",async()=>{const[o,d,A,m,f,C]=await Promise.all([ca("/retentionTrees.json"),ca("/api/seedTrees"),Vc(),ca("/hogstubbar.json"),ca("/naturvard.json"),ca("/api/kanteffekt")]);return{"retention-trees":Array.isArray(o?.trees)?o.trees:[],"seed-trees":Array.isArray(d?.trees)?d.trees:[],smaplantor:Array.isArray(A?.trees)?A.trees:Array.isArray(A)?A:[],hogstubbar:Array.isArray(m?.stubbar)?m.stubbar:[],naturvard:Ac(f),kanteffekt:Array.isArray(C?.features)?C.features:[]}}),a={};Ir.forEach(o=>{const d=cn[o].slug;a[o]={data:h(()=>e.value?.[d]??[]),pending:h(()=>t.value)}});const n=(o,d)=>yc(a[o].data.value,d,cn[o]),l=o=>{const d={};return Ir.forEach(A=>{d[A]=n(A,o)}),d},i=o=>{if(!o?.framework||!o?.time||!o?.startskog)return{...xc};const d=l(o);return{retention:a.retention.pending.value||d.retention.length>0,kanteffekt:a.kanteffekt.pending.value||d.kanteffekt.length>0,rottacke:wc(o),seedTree:a.seedTree.pending.value||d.seedTree.length>0,smaplantor:a.smaplantor.pending.value||d.smaplantor.length>0,hogstubbar:a.hogstubbar.pending.value||d.hogstubbar.length>0,naturvardsarter:a.naturvardsarter.pending.value||d.naturvardsarter.length>0,tradplantor:Sc(o)}},c=h(()=>t.value||Ir.some(o=>a[o].pending.value));return{datasets:a,filterDataset:n,filterAll:l,availabilityFor:i,pendingAny:c}}const Xt=Aa({open:!1,key:null,anchor:null});function Mc(e){if(e instanceof HTMLElement){const t=e.getBoundingClientRect();return{x:t.left,y:t.top,width:t.width,height:t.height}}return e}function Fc(){function e(a,n){const l=Mc(n);Xt.key=a,Xt.anchor=l,Xt.open=!0}function t(){Xt.open=!1,Xt.key=null,Xt.anchor=null}return{...gs(Xt),show:e,hide:t}}const Oc={class:"relative flex flex-col w-full h-dvh"},zc={class:"space-y-0.5 p-3"},$c={class:"grid grid-cols-2 gap-2"},Dc={class:"flex flex-col text-center items-center w-full space-y-1"},jc={class:"flex flex-col text-center items-center w-full space-y-1"},Ec={class:"p-3 flex flex-col gap-3"},Nc={class:"flex items-center justify-between gap-3"},Pc={class:"flex flex-wrap gap-1"},Uc={class:"w-full sm:flex items-center justify-center border-muted sm:p-1"},Rc={class:"flex w-full sm:w-fit h-fit justify-center p-0 pb-0 sm:pb-0 items-center"},Ic={key:0,class:"absolute top-3 right-3"},Bc={class:"flex justify-center sm:p-1 border-b border-muted"},qc={class:"absolute top-3 left-3 flex flex-col gap-1 pointer-events-auto"},Hc={class:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-50 p-4 sm:p-0 space-y-2 sm:space-y-0 pointer-events-none sm:flex gap-2 items-center"},Gc={class:"relative"},Wc={key:0,class:""},Yc={class:"space-y-2"},Zc=["innerHTML"],Kc={class:"space-y-2"},Xc=["innerHTML"],Jc={key:1,class:"text-sm text-neutral-400"},Qc={key:1,class:"sm:hidden"},ed={class:"flex items-center justify-between gap-3"},td={class:"text-sm font-medium text-neutral-700"},ad={key:0},rd={class:"space-y-2"},nd=["innerHTML"],sd={class:"space-y-2"},ld=["innerHTML"],id={key:1,class:"text-sm text-neutral-400"},od={class:"flex items-start justify-between gap-3"},ud={class:"flex items-start gap-2"},cd={class:"text-base font-semibold text-neutral-800"},dd={class:"flex gap-1"},vd={class:"text-sm text-neutral-600 leading-relaxed"},fd={class:"flex sm:justify-center items-center overflow-x-scroll md:overflow-hidden my-1 sm:my-0 gap-4 px-3"},md={class:"p-1 flex flex-col gap-1"},pd={class:"ui-zoom-reapply relative flex flex-col flex-1 w-full"},hd={class:"flex flex-1"},gd={class:"absolute top-3 left-3 z-50"},kd={key:0,class:"space-y-1.5 sm:p-4 p-2 pt-3 max-w-sm z-50 absolute top-0 right-0 transform-all text-end pointer-events-none"},bd={class:"flex items-center gap-1"},yd={class:"p-3 space-y-2"},_d={class:"flex w-full justify-between"},xd={class:"flex items-start gap-2"},wd={class:"text-sm font-semibold text-neutral-800"},Sd={key:0,class:"text-sm text-neutral-600 leading-relaxed"},Cd={key:1,class:"text-xs text-neutral-400"},Td={key:0,class:"absolute p-2 w-full"},Ad={class:"flex justify-between p-2 items-center mb-2"},Vd={class:"flex items-center justify-between gap-2"},Ld={class:"flex items-center gap-1"},Md={class:"min-w-[3ch] text-sm text-neutral-700 dark:text-neutral-200 text-center"},Fd={key:0,class:"space-y-2 w-full"},Od={class:"flex flex-col"},zd={class:"text-md font-medium"},$d={key:0,class:"text-sm text-neutral-500"},Dd={class:"flex flex-col"},jd={class:"text-md font-medium"},Ed={key:0,class:"text-sm text-neutral-500"},Nd={class:"flex flex-col"},Pd={class:"text-md font-medium"},Ud={key:0,class:"text-sm text-neutral-500"},Rd={class:"w-full mt-1 relative"},Id={class:""},Bd={class:"space-y-2"},qd={class:"relative flex-1"},Hd={key:0,class:"w-full h-full"},Gd={key:0,class:"absolute inset-y-0 right-0 w-68 bg-white dark:bg-neutral-950/70 backdrop-blur-2xl overflow-auto z-10 pointer-events-auto border-neutral-300 dark:border-neutral-700 border-l"},Wd={class:"px-4 py-2"},Yd={class:"text-lg font-semibold text-neutral-800 dark:text-neutral-200"},Zd={class:"text-neutral-400"},Kd={key:1,class:he(["absolute max-h-screen z-50 top-0 w-sm left-0 overflow-auto transition-all shadow-2xl border-r bg-white border-neutral-100/10 rounded-br-sm duration-300 ease-in-out backdrop-blur-2xl hide-scrollbar"])},Xd={class:"p-4"},Jd={key:0},Qd={class:"text-xl font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},ev={class:"p-2 flex flex-col gap-2"},tv=["onClick"],av={class:"font-medium"},rv={class:"text-sm text-neutral-300"},nv={class:"flex justify-between"},sv={class:"text-md text-neutral-200"},lv={key:0,class:"my-4"},iv=["innerHTML"],ov=["innerHTML"],uv={key:1,class:"my-4 text-neutral-300 text-sm"},cv={key:1,class:"space-y-2"},dv={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},vv={class:"p-2 flex flex-col gap-2"},fv=["onClick"],mv={class:"font-medium"},pv={class:"text-sm text-neutral-300"},hv={class:"flex justify-between"},gv={key:0,class:"my-4"},kv=["innerHTML"],bv=["innerHTML"],yv={class:"flex justify-between"},_v={class:"text-md text-neutral-200"},xv={key:0,class:"my-4"},wv=["innerHTML"],Sv=["innerHTML"],Cv={key:2,class:"space-y-2"},Tv={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},Av={class:"p-2 flex flex-col gap-2"},Vv=["onClick"],Lv={class:"font-medium"},Mv={class:"text-sm text-neutral-300"},Fv={class:"flex justify-between"},Ov={class:"text-md text-neutral-200"},zv={key:0,class:"my-4"},$v=["innerHTML"],Dv=["innerHTML"],jv={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},Ev={class:"p-2 flex flex-col gap-2"},Nv=["onClick"],Pv={class:"font-medium"},Uv={class:"text-sm text-neutral-300"},Rv={class:"flex justify-between"},Iv={class:"text-md text-neutral-200"},Bv={key:0,class:"my-4"},qv=["innerHTML"],Hv=["innerHTML"],Gv={class:"grid grid-cols-2 gap-4"},Wv={class:"w-full"},Yv={class:"w-full"},qr="rodlistade",Zv=220,hs="Ingen tidslinjeinformation hittades för den här kombinationen.",Kv=yt({__name:"Model",emits:["close"],async setup(e,{emit:t}){let a,n;const l=Yl(()=>Kl(()=>import("./DMwyQ_V7.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url));let i;const c=Aa({}),o=Lc(),{hide:d}=Fc(),A=M(null);function m(s){if(!s)return null;if(typeof s=="string")return s;if(typeof s=="object"){if("value"in s&&typeof s.value=="string")return s.value;if("framework"in s&&typeof s.framework=="string")return s.framework;if("label"in s&&typeof s.label=="string")return s.label}return String(s??"")}const f={retention:()=>!!Te.value,kanteffekt:()=>!!xe.value,omkringSkog:()=>!!we.value,rottackeSkarmtrad:()=>!!be.value,rottackeBladning:()=>!!oe.value,seedTree:()=>!!S.value,smaplantor:()=>!!me.value,hogstubbar:()=>!!Ae.value,naturvardsarter:()=>!!fe.value,tradplantor:()=>!!ve.value};function C(s,r){const x=f[s];if(x&&!x())return!1;const b=m(r.framework)||"",B=typeof r.time=="string"?r.time:m(r.time);if(s==="rottackeSkarmtrad")return(b==="skärmträd"||b==="skarmtrad")&&B==="efter";if(s==="rottackeBladning")return b==="blädning"||b==="bladning"?B==="efter"||B==="20 år"||B==="50 år"||B==="80 år":!1;if(s==="omkringSkog")try{const ie=o.availabilityFor({framework:b,startskog:m(r.startskog),time:B});return!!(ie&&ie.kanteffekt)}catch{return!1}try{const ie=o.availabilityFor({framework:b,startskog:m(r.startskog),time:B});return!!(ie&&ie[s])}catch{return!1}}const F=h(()=>{const s=[],r=m(H?.value??H),x=m(Ve?.value??Ve),b=se?.value??se,B=Ie;return ge.value?(s.push({framework:r,startskog:b?.value??b,time:"innan"}),s.push({framework:r,startskog:b?.value??b,time:B})):pe.value?(s.push({framework:r,startskog:b?.value??b,time:B}),s.push({framework:x,startskog:b?.value??b,time:B})):s.push({framework:r,startskog:b?.value??b,time:B}),s});function $(s){const r=F.value;for(const x of r)if(C(s,x))return!0;return!1}const[U,V]=Il(),k=ws("(max-width: 767px)"),j=[{label:"Text",icon:"i-heroicons-book-open",slot:"text",value:"text"},{label:"Diagram",icon:"i-carbon-chart-line-smooth",slot:"diagram",value:"diagram"}],{public:{dziBaseUrl:T="https://assets.svampskog.se/dzi_v2",dziVersionSuffix:R=""}={}}=Bl(),Z=T,ae=R;function G(s){return s?s.toString().toLowerCase().replace(/å/g,"a").replace(/ä/g,"a").replace(/ö/g,"o").replace(/[^a-z0-9_-]/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,""):""}function J({framework:s,timeLabel:r,fungiVisibility:x,treeVisibility:b,startskog:B}){const Pt=[s,r,x,b,B].map(_e=>G(_e)).filter(Boolean).join("_"),Ut=G(ae);return Ut?`${Pt}_${Ut}`:Pt}function Q(s){return`${Z}/${J(s)}.dzi`}const{data:ue}=([a,n]=Ee(()=>Oe("forestry-timeline-modelc",()=>Ne("forestryTimelines").first())),a=await a,n(),a),re=h(()=>{const s=ue.value;if(!s)return[];if(Array.isArray(s)){const r=s.find(x=>x?.id==="skogsskotsel")||s[0];return Array.isArray(r?.entries)?r.entries:[]}return Array.isArray(s.entries)?s.entries:[]}),de=M(!1),K=M("beforeAfterCompare"),te=M("slider"),ot=t,Ye=M(!1),ee=M(!1),ne=M(!1),Te=M(!1),xe=M(!1),we=M(!1),Se=M(!1),fe=M(!1),be=M(!1),oe=M(!1),S=M(!1),me=M(!1),Ae=M(!1),ve=M(!1),Vt=M(1),lt=M(!1),Lt=M(!1);function ut(){lt.value=!lt.value}function Mt(){Lt.value=!Lt.value}const it=["retention","kanteffekt","omkringSkog","rottackeSkarmtrad","rottackeBladning","seedTree","smaplantor","hogstubbar","naturvardsarter","tradplantor"],Fa=M([]);function mr(s,r){const x=Fa.value,b=x.indexOf(s);r?(b!==-1&&x.splice(b,1),x.push(s)):b!==-1&&x.splice(b,1)}const ta=bc(),$e=h({get:()=>ta.staticOverlayVisible,set:s=>ta.setStaticOverlayVisible(s)}),Ue=M(!1),Me=M(null);M(!1);const Ze=M(!1),aa=M("skogsskole"),ra=M(!1),Ke=M(!1),Ht=M("text");function ha(){Ht.value="diagram",Ke.value=!0;try{k.value||d?.()}catch{}}const Ft=h({get:()=>Ke.value,set:s=>{Ke.value=s}}),Fe=M(!1);h({get:()=>Ze.value,set:s=>{Ze.value=s}});function ga(s){const r=Array.isArray(Zt?.value)?Zt.value:[];if(!r.length)return;const x=r.map(ie=>String(ie.value)),b=String(oa.value);let B=x.indexOf(b);if(B===-1&&(B=0),s<0){for(let ie=B-1;ie>=0;ie--)if(!r[ie]?.disabled){oa.value=String(r[ie].value);return}return}else{for(let ie=B+1;ie<r.length;ie++)if(!r[ie]?.disabled){oa.value=String(r[ie].value);return}return}}function ka(s){return(s||"").toString().trim().toLowerCase()}const _t=h(()=>Array.isArray(Zt?.value)?Zt.value:Array.isArray(Zt)?Zt:[]),na=h(()=>{const r=_t.value.map(x=>String(x.value)).indexOf(String(oa.value));return r===-1?0:r}),Xe=h(()=>{for(let s=na.value-1;s>=0;s--)if(!_t.value[s]?.disabled)return _t.value[s];return null}),Ot=h(()=>{for(let s=na.value+1;s<_t.value.length;s++)if(!_t.value[s]?.disabled)return _t.value[s];return null}),pr=h(()=>!!Xe.value),hr=h(()=>!!Ot.value);function Oa(s){try{const r=H.value&&H.value.value,x=se.value&&se.value.value;return re.value.find(B=>B.atgard===r&&B.startskog===x&&ka(B.tid)===ka(s))?.skog||""}catch{return""}}const gr=h(()=>Xe.value?String(Xe.value.label??Xe.value.value):""),za=h(()=>Ot.value?String(Ot.value.label??Ot.value.value):""),kr=h(()=>Xe.value?Ia(Number(Xe.value.value)):null),$a=h(()=>Ot.value?Ia(Number(Ot.value.value)):null);h(()=>Oa(kr.value)),h(()=>Oa($a.value));function br(){ga(-1)}function sa(){ga(1)}const yr=[{re:/näraliggande skogar/gi,overlay:"omkringSkog"},{re:/hänsynsträd/gi,overlay:"retention"},{re:/evighetsträd/gi,overlay:"retention"},{re:/hyggeskanterna/gi,overlay:"kanteffekt"},{re:/luckorna/gi,overlay:"kanteffekt"},{re:/fröträdens rötter/gi,overlay:"seedTree"},{re:/fröträd/gi,overlay:"seedTree"},{re:/skärmträdens rötter/gi,overlay:"rottackeSkarmtrad"},{re:/småplantor/gi,overlay:"smaplantor"},{re:/högstubbar/gi,overlay:"hogstubbar"},{re:/rödlistade svampar/gi,overlay:"naturvardsarter"},{re:/rödlistad art/gi,overlay:"naturvardsarter"},{re:/Trädplantor/gi,overlay:"tradplantor"}];function p(s=""){return String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function y(s=""){let r=p(s);r=r.replace(/Visa\s+naturvårdsdiagram/gi,()=>'<a href="#" data-action="show-diagram">Visa naturvårdsdiagram</a>');for(const x of yr)r=r.replace(x.re,b=>`<span class=" text-primary-500 font-medium underline cursor-pointer hover:opacity-80" data-overlay="${x.overlay}">${b}</span>`);return r}const L=new Set(it),_=s=>typeof s=="string"&&L.has(s);function O(s){const r=s.target;if(!r)return;const x=r.closest("[data-action]");if(x&&x.getAttribute("data-action")==="show-diagram"){s.preventDefault(),Vr();return}const b=r.closest("[data-overlay]");if(!b)return;const B=b.getAttribute("data-overlay");_(B)&&kl(B)}M(!1),h(()=>[{value:"sideBySide",label:"Sida vid sida"},{value:"slider",label:"Skjutreglage"}]);const P=h(()=>$t.map((s,r)=>({value:r,label:s.label,description:s.text}))),W=M(!0),I=M(!1),ce=M(!1),ye=M(85);let De=0,Be=ye.value;function ct(s){if(!Da)return;const x=(s.clientX-De)/16;ye.value=Be+x}function ba(){Da=!1,window.removeEventListener("pointermove",ct),window.removeEventListener("pointerup",ba)}fa(()=>{window.removeEventListener("pointermove",ct),window.removeEventListener("pointerup",ba)});const Cn=M(600);let Da=!1,dl=0,vl=Cn.value;function Tn(s){if(!Da)return;const r=s.clientY-dl;Cn.value=vl+r}function An(){Da=!1,window.removeEventListener("pointermove",Tn),window.removeEventListener("pointerup",An)}fa(()=>{window.removeEventListener("pointermove",Tn),window.removeEventListener("pointerup",An)}),M(!1),M(!1);const ja=M(!0),Je=M(0),fl=h(()=>{const s=H.value.value,r=Yt(je.value),x="visa",b=zt.value?"visa":"dölj",B=se.value.value;return Q({framework:s,timeLabel:r,fungiVisibility:b,treeVisibility:x,startskog:B})}),Vn=h(()=>{const s=H.value.value,r="före",x="visa",b=zt.value?"visa":"dölj",B=se.value.value;return Q({framework:s,timeLabel:r,fungiVisibility:b,treeVisibility:x,startskog:B})}),Ln=h(()=>{const s=H.value.value,r=Yt(je.value),x="visa",b=zt.value?"visa":"dölj",B=se.value.value;return Q({framework:s,timeLabel:r,fungiVisibility:b,treeVisibility:x,startskog:B})}),Mn=h(()=>{const s=H.value.value,r=Yt(je.value),x="visa",b=zt.value?"visa":"dölj",B=se.value.value;return Q({framework:s,timeLabel:r,fungiVisibility:b,treeVisibility:x,startskog:B})}),Fn=h(()=>{const s=Ve.value.value,r=Yt(je.value),x="visa",b=zt.value?"visa":"dölj",B=se.value.value;return Q({framework:s,timeLabel:r,fungiVisibility:b,treeVisibility:x,startskog:B})}),_r=kc(),Ea=h(()=>_r.selectedAnnotation);function ml(s){if(_r.setSelectedAnnotation(s),s.position&&wa.value){const r=wa.value.getZoom();wa.value.setZoomAndCenter(r,s.position)}}function pl(){_r.clearSelectedAnnotation()}const qe=M(null);M("line");const Na=pc();M(!1);const zt=M(!0),ge=h(()=>de.value&&K.value==="beforeAfterCompare"),pe=h(()=>de.value&&K.value==="frameworkCompare"),Qe=h({get:()=>Na.selectedFramework,set:s=>Na.selectedFramework=s}),On=h({get:()=>Na.selectedStartskog??0,set:s=>{Na.selectedStartskog=s}}),la=M(Qe.value),Ve=h(()=>$t[la.value]||$t[0]);X([pe,ge],([s,r])=>{(!s||!r)&&(Cl.value="framework1")}),Bt(()=>{i=Vi({o:()=>Ft.value=!Ft.value,n:()=>{fe.value=!fe.value}})}),ys(()=>{typeof i=="function"&&i(),dt&&(clearTimeout(dt),dt=null),Wt=!1,Gt=!0});const hl=s=>{const r=xr.findIndex(x=>x.value===s.value);r!==-1&&(On.value=r),Fe.value=!1},$t=[{id:0,label:"Ingen åtgärd",value:"naturskydd",text:"Orörd skog",icon:"pepicons-pop:tree-circle",iconColor:"text-green-500"},{id:1,label:"Trakthygge",value:"trakthygge",text:"Kalavverkning med hänsyn",icon:"material-symbols:resize",iconColor:"text-violet-500"},{id:2,label:"Luckhuggning",value:"luckhuggning",text:"Mindre ytor kalavverkas",icon:"pixelarticons:chess",iconColor:"text-sky-500"},{id:3,label:"Överhållen skärm",value:"skärmträd",text:"Avverkning i tre steg under 20 år",icon:"catppuccin:redwood",iconColor:"text-orange-500"},{id:4,label:"Blädning",value:"blädning",text:"Enstaka träd gallras",icon:"lineicons:trees",iconColor:"text-teal-500"}],xr=[{label:"Kontinuitetsskog",value:"naturskog"},{label:"Kalavverkad",value:"produktionsskog_"}],H=h(()=>$t[Qe.value!==void 0?Qe.value:0]),se=h(()=>xr[On.value]),xt=h(()=>H.value?.value),wr=h(()=>se.value?.value??null),wt=h(()=>xt.value==="trakthygge"),St=h(()=>xt.value==="luckhuggning"),Pa=h(()=>xt.value==="blädning"||xt.value==="bladning"),et=h(()=>xt.value==="skärmträd"||xt.value==="skarmtrad"),Sr={retention:{title:"Hänsynsträd",description:"De flesta mykorrhizasvamparna som växte med trädens rötter före avverkningen finns kvar och lever vidare. Mycel kan växa in i och spridas till uppväxande trädplantor.",condition:()=>Te.value&&(wt.value||St.value||et.value),close:()=>{Te.value=!1}},kanteffekt:{title:"Kanteffekt",description:"Mykorrhizasvamp på trädens rötter i skogskanten kan sträcka sig 10–15 meter in på hygget; starkast närmast kanten.",condition:()=>xe.value&&(wt.value||St.value||et.value),close:()=>{xe.value=!1}},omkringSkog:{title:"Näraliggande skog",description:"Vanliga arter sprids in med sporer från närheten. Sporer sprids bara korta sträckor med vinden. Ovanliga arter har svårt att komma tillbaka eftersom de är ovanliga. ",condition:()=>we.value&&(wt.value||St.value||et.value),close:()=>{we.value=!1}},rottackeSkarmtrad:{title:"Rottäcke skärmträd",description:"Kontinuerligt rottäcke kopplat till överhållen skärm (1 år efter).",condition:()=>be.value&&et.value,close:()=>{be.value=!1}},rottackeBladning:{title:"Rottäcke blädning",description:"Kontinuerligt rottäcke kopplat till blädning (efter, 20, 50, 80 år).",condition:()=>oe.value&&Pa.value,close:()=>{oe.value=!1}},seedTree:{title:"Fröträd",description:"Mycel fortsätter leva på fröträdens rötter och kan koppla till nya plantor.",condition:()=>S.value&&et.value,close:()=>{S.value=!1}},smaplantor:{title:"Yngre träd och plantor som lämnats",description:"Undviks underröjning före avverkning, kommer mykorrhizasvampar att överleva på dessa plantor och träd på samma sätt som de gör på rötterna av hänsynsträd.",condition:()=>me.value,close:()=>{me.value=!1}},hogstubbar:{title:"Högstubbar",description:"Här finns inga levande mykorrhizamycel. Trädets rötter är döda.",condition:()=>Ae.value,close:()=>{Ae.value=!1}},naturvardsarter:{title:"Naturvårdsarter",description:"Naturvårdsarter har ofta speciella miljökrav, och förekommer främst i äldre skog. Generellt kan mycel av mykorrhizasvampar leva vidare på en plats så länge det finns levande träd. Svampindividers mycel kan likt träd bli många decennier till potentiellt sekler gamla.",condition:()=>fe.value&&(wt.value||St.value||Pa.value||et.value),close:()=>{fe.value=!1}},tradplantor:{title:"Planterade små trädplantor",description:"Har med sig spontant etablerad mykorrhiza från plantskolan där de odlades upp. Det är dock få arter. Dessa ersätts succesivt med bättre anpassade och svamparter som finns på platsen.",condition:()=>ve.value&&wt.value,close:()=>{ve.value=!1}}},Cr={staticOverlay:"i-material-symbols-light-rectangle-outline",retention:"i-pepicons-pop-tree-circle",kanteffekt:"i-healthicons-square-medium-negative",omkringSkog:"fluent-weather-duststorm-48-regular",rottackeSkarmtrad:"i-fluent-emoji-high-contrast-blue-square",rottackeBladning:"i-fluent-emoji-high-contrast-blue-square",seedTree:"i-teenyicons-redwoodjs-outline",smaplantor:"i-pepicons-pop-seedling-circle",hogstubbar:"i-fluent-emoji-high-contrast-wood",naturvardsarter:"i-material-symbols-award-star-outline",tradplantor:"i-hugeicons-plant-02"},zn=h(()=>{const s={staticOverlay:{title:"Beståndsgräns",description:"Visar gränsen för den berörda skogen"}};return it.forEach(r=>{const x=Sr[r];s[r]={title:x.title,description:x.description}}),s});function Ua(s){const r=zn.value[s]??{title:s,description:""},x=Cr[s];return{title:r.title,description:r.description,icon:x}}const He=Aa({staticOverlay:!1,retention:!1,kanteffekt:!1,omkringSkog:!1,rottackeSkarmtrad:!1,rottackeBladning:!1,seedTree:!1,smaplantor:!1,hogstubbar:!1,naturvardsarter:!1,tradplantor:!1}),Dt={staticOverlay:$e,retention:Te,kanteffekt:xe,omkringSkog:we,rottackeSkarmtrad:be,rottackeBladning:oe,seedTree:S,smaplantor:me,hogstubbar:Ae,naturvardsarter:fe,tradplantor:ve};function Tr(s,r={}){const x=Dt[s];if(!x)return;const b=s,B=r.hideWhenUnpin??!0,ie=!He[b];if(He[b]=ie,ie){x.value||(x.value=!0),Me.value=b,Ue.value=!0;return}B&&(Me.value===b?Ra({hideOverlay:!0}):x.value&&(x.value=!1))}const $n=h(()=>{const s=zn.value;return[{key:"staticOverlay",label:s.staticOverlay?.title??"Beståndsgräns",description:s.staticOverlay?.description??"",icon:Cr.staticOverlay},...it.map(r=>({key:r,label:s[r]?.title??r,description:s[r]?.description??"",icon:Cr[r]??void 0}))]}),Dn=h(()=>{const s={};return $n.value.forEach(r=>{s[r.key]={label:r.label,icon:r.icon}}),s}),jt=h(()=>{const s=Me.value;if(!s||!Ar(s))return null;const r=Ua(s);return{key:s,title:r.title,description:r.description}}),ya=h(()=>{const s=Me.value;return s?He[s]:!1}),jn=h(()=>{const s=Me.value;return s?Dn.value[s]?.icon??null:null}),En=h(()=>{const s=Dn.value,r=yl.value,x=[];return He.staticOverlay&&x.push({key:"staticOverlay",title:s.staticOverlay?.label??"Beståndsgräns",icon:s.staticOverlay?.icon||null,isAssociated:!0}),it.forEach(b=>{He[b]&&x.push({key:b,title:s[b]?.label??Sr[b].title,icon:s[b]?.icon||null,isAssociated:r[b]??!0})}),x});X(Ke,s=>{s&&Ze.value&&(Ze.value=!1)}),X(Ze,s=>{s&&Ke.value&&(Ke.value=!1)});let dt=null,Gt=!0,Wt=!1;function gl(s){Tr(s)}function vt(s){Object.keys(Dt).forEach(r=>{r!==s&&(He[r]||Dt[r]?.value&&(Dt[r].value=!1))})}function Ar(s){const r=Sr[s];return!!r&&r.condition()}function ft(s){const r=Ar(s);if(mr(s,r),r){Me.value=s,Ue.value=!0,k.value||d();return}if(Me.value===s){const x=Fa.value.slice().reverse().find(b=>Ar(b));x?(Me.value=x,Ue.value=!0,k.value||d()):(Ra({hideOverlay:!1}),d())}}function kl(s){const r=Dt[s];if(r){if(r.value){He[s]?Nn(s):(r.value=!1,d());return}r.value=!0,Nn(s)}}async function Vr(s={}){ha(),aa.value=qr,ra.value=!0,await ea(),A.value?.setSelectedChart&&(A.value.setSelectedChart(qr),ra.value=!1),s.badgeKey&&(c[s.badgeKey]=!1),k.value||d();try{Ra({hideOverlay:!1})}catch{}try{He.naturvardsarter=!0;const r=Dt.naturvardsarter;r&&!r.value&&(r.value=!0)}catch{}}X([Ht,()=>A.value],async([s,r])=>{if(s==="diagram"&&ra.value&&r?.setSelectedChart){await ea();try{r.setSelectedChart(qr)}finally{ra.value=!1}}});function Nn(s){Dt[s]&&(Me.value=s,Ue.value=!0)}function Ra(s={}){Wt=!0;const r=Me.value;if(Gt=s.hideOverlay??(r?!He[r]:!0),!r){Wt=!1,Gt=!0,Ue.value=!1,d();return}if(!Ue.value){Pn();return}Ue.value=!1}function Pn(){dt&&(clearTimeout(dt),dt=null);const s=Me.value;if(!s){Gt=!0,Wt=!1;return}const r=Gt;if(Me.value=null,Gt=!0,Wt=!1,r){const x=Dt[s];x&&x.value&&(x.value=!1),d()}}X(Ue,(s,r)=>{if(dt&&(clearTimeout(dt),dt=null),!s&&r){if(!Wt){const x=Me.value;Gt=x?!He[x]:!0}dt=setTimeout(()=>{Pn()},Zv)}else s&&(Wt=!1)}),X(Ft,s=>{s||(Ra({hideOverlay:!1}),k.value||d())}),Bt(()=>{try{$e.value||($e.value=!0)}catch{}He.staticOverlay=!0}),X(Te,s=>{s&&vt("retention"),ft("retention")},{immediate:!0}),X(xe,s=>{s&&vt("kanteffekt"),ft("kanteffekt")},{immediate:!0}),X(we,s=>{s&&vt("omkringSkog"),ft("omkringSkog")},{immediate:!0}),X(oe,s=>{s&&vt("rottackeBladning"),ft("rottackeBladning")},{immediate:!0}),X(S,s=>{s&&vt("seedTree"),ft("seedTree")},{immediate:!0}),X(me,s=>{s&&vt("smaplantor"),ft("smaplantor")},{immediate:!0}),X(Ae,s=>{s&&vt("hogstubbar"),ft("hogstubbar")},{immediate:!0}),X(fe,s=>{s&&vt("naturvardsarter"),ft("naturvardsarter")},{immediate:!0}),X(ve,s=>{s&&vt("tradplantor"),ft("tradplantor")},{immediate:!0}),X($e,s=>{s&&vt("staticOverlay")}),X(xt,()=>{it.forEach(s=>ft(s))});const je=M(3);function bl(s){ge.value&&s.value===3||(je.value=s.value)}function Ia(s){return{3:"innan",15:"efter",30:"10 år",45:"20 år",70:"50 år",99:"80 år"}[s]||"innan"}function Yt(s){const r=ia.value.find(x=>x.value===s);return r?r.timeLabel:"före"}const ia=h(()=>{const r=[{value:3,label:H.value?.value==="naturskydd"?"Ingen avverkning":"Före avverkning",timeLabel:"före"},{value:15,label:"1 år efter ",timeLabel:"efter"}];return H.value?.value==="skärmträd"&&!pe.value&&r.push({value:30,label:"10 år efter",timeLabel:"10"}),r.push({value:45,label:"20 år efter ",timeLabel:"20"},{value:70,label:"50 år efter ",timeLabel:"50"},{value:99,label:"+ 80 år efter ",timeLabel:"80"}),r}),Zt=h(()=>ia.value.map(s=>({value:String(s.value),label:s.label,disabled:ge.value&&s.value===3}))),oa=h({get(){return String(je.value)},set(s){const r=ia.value.find(x=>String(x.value)===s);r&&bl(r)}}),Re=h(()=>{const s=ia.value.find(r=>r.value===je.value);return s?s.label:""}),Un=h(()=>ge.value?3:null);h(()=>Un.value!==null?Ia(Un.value):null);const Ie=h(()=>Ia(je.value)),Rn=h(()=>({framework:xt.value??null,startskog:wr.value??null,time:Ie.value??null})),yl=h(()=>o.availabilityFor(Rn.value)),le=h(()=>o.filterAll(Rn.value)),_l=h(()=>({framework:xt.value??null,startskog:wr.value??null,time:ge.value?"innan":Ie.value??null})),tt=h(()=>o.filterAll(_l.value)),xl=h(()=>({framework:Ve.value?.value??null,startskog:wr.value??null,time:Ie.value??null})),at=h(()=>o.filterAll(xl.value)),rt=h(()=>!H.value?.value||!Ie.value||!se.value?.value?null:re.value.find(s=>s.atgard===H.value.value&&s.tid===Ie.value&&s.startskog===se.value.value)),Ba=h(()=>!Ve.value?.value||!Ie.value||!se.value?.value?null:re.value.find(s=>s.atgard===Ve.value.value&&s.tid===Ie.value&&s.startskog===se.value.value)),qa=h(()=>!H.value?.value||!se.value?.value?null:re.value.find(s=>s.atgard===H.value.value&&s.tid==="innan"&&s.startskog===se.value.value)),Ha=h(()=>{const s=[],r=H.value?.label??"",x=Ve.value?.label??"",b=Re.value??"";return ge.value?(s.push({key:"before",left:r,right:"Före avverkning",info:qa.value??null}),s.push({key:"after",left:r,right:b,info:rt.value??null})):pe.value?(s.push({key:"framework1",left:r,right:b,info:rt.value??null}),s.push({key:"framework2",left:x,right:b,info:Ba.value??null})):s.push({key:"single",left:r,right:b,info:rt.value??null}),s}),In=h(()=>{const s=Ha.value.filter(r=>!!r.info).length;return k.value&&s>1&&(ge.value||pe.value)}),_a=Aa({});function Lr(s){_a[s]||(_a[s]={skog:!1,svamp:!1})}function Et(s,r){return Lr(s),_a[s][r]}function Ga(s,r){Lr(s),_a[s][r]=!_a[s][r]}X(Ha,s=>{s.forEach(r=>Lr(r.key))},{immediate:!0});function Bn(s){de.value=s,s&&K.value||(K.value="beforeAfterCompare")}const qn=h(()=>{const s=H.value.value,r="före",x="dölj",b=zt.value?"visa":"dölj",B=se.value.value;return Q({framework:s,timeLabel:r,fungiVisibility:b,treeVisibility:x,startskog:B})}),Hn=h(()=>{const s=Ve.value.value,r=Yt(je.value),x="dölj",b=zt.value?"visa":"dölj",B=se.value.value;return Q({framework:s,timeLabel:r,fungiVisibility:b,treeVisibility:x,startskog:B})});h(()=>{const s=H.value.value.toLowerCase(),r=Yt(je.value);return`${s}_${r}`});const xa=h(()=>{const s=H.value.value,r=Yt(je.value),x="dölj",b=zt.value?"visa":"dölj",B=se.value.value;return Q({framework:s,timeLabel:r,fungiVisibility:b,treeVisibility:x,startskog:B})});X([H,ge,pe],()=>{ia.value.map(r=>r.value).includes(je.value)||(je.value=15)});const wa=M(null),mt=M(null),pt=M(null);let Mr=!1,Fr=!1;function Gn(){if(Fr)return;Mr=!0;const s=mt.value?.getZoom(),r=mt.value?.getCenter();s&&r&&pt.value&&pt.value.setZoomAndCenter(s,r),Mr=!1}function Wn(){if(Mr)return;Fr=!0;const s=pt.value?.getZoom(),r=pt.value?.getCenter();s&&r&&mt.value&&mt.value.setZoomAndCenter(s,r),Fr=!1}function Nt(s){s==="before"&&mt.value?(mt.value.addSyncHandler("zoom",Gn),mt.value.addSyncHandler("pan",Gn)):s==="after"&&pt.value?(pt.value.addSyncHandler("zoom",Wn),pt.value.addSyncHandler("pan",Wn)):s==="framework1"&&ht.value?(ht.value.addSyncHandler("zoom",Yn),ht.value.addSyncHandler("pan",Yn)):s==="framework2"&&gt.value&&(gt.value.addSyncHandler("zoom",Zn),gt.value.addSyncHandler("pan",Zn))}let Or=!1,zr=!1;function Yn(){if(zr)return;Or=!0;const s=ht.value?.getZoom(),r=ht.value?.getCenter();s&&r&&gt.value&&gt.value.setZoomAndCenter(s,r),Or=!1}function Zn(){if(Or)return;zr=!0;const s=gt.value?.getZoom(),r=gt.value?.getCenter();s&&r&&ht.value&&ht.value.setZoomAndCenter(s,r),zr=!1}const ht=M(null),gt=M(null);let $r=null;const Kn=M({zoom:1,center:null});function Wa(s,{zoom:r,center:x}={}){!r||!x||$r!==s&&($r=s,Kn.value={zoom:r,center:x})}function wl(){return!ge.value&&!pe.value?{single:wa.value}:ge.value?{before:mt.value,after:pt.value}:pe.value?{framework1:ht.value,framework2:gt.value}:{}}X(Kn,({zoom:s,center:r})=>{const x=wl();Object.entries(x).forEach(([b,B])=>{b!==$r&&B&&B.setZoomAndCenter&&B.setZoomAndCenter(s,r)})});const Ct=M("single");h(()=>[{key:"framework1",label:H.value.label},{key:"framework2",label:Ve.value.label}]);const Sl=M(0);X(pe,s=>{s||(Sl.value=0)});const Cl=M("none"),Dr=[{label:"Före / efter",value:"beforeAfterCompare"},{label:"Två metoder",value:"frameworkCompare"}];function Tl(){qe.value&&qe.value.toggleLayoutMode&&qe.value.toggleLayoutMode(),console.log("Current layout:",te.value)}h(()=>({label:te.value==="sideBySide"?"Sida vid sida":"Skjutreglage",type:"button",onSelect(s){s.preventDefault(),Tl()},icon:te.value==="sideBySide"?"i-circum-grid-2-v":"iconamoon:compare-duotone"})),h(()=>[{label:Dr[0].label,type:"checkbox",checked:K.value==="frameworkCompare",onUpdateChecked(s){s?K.value="frameworkCompare":K.value==="frameworkCompare"&&(K.value=null)},onSelect(s){s.preventDefault()}},{label:Dr[1].label,type:"checkbox",checked:K.value==="beforeAfterCompare",onUpdateChecked(s){s?K.value="beforeAfterCompare":K.value==="beforeAfterCompare"&&(K.value=null)},onSelect(s){s.preventDefault()}},{type:"separator"},{label:"Sida vid sida",type:"checkbox",checked:te.value==="sideBySide",onUpdateChecked(s){s&&(te.value="sideBySide",qe.value&&qe.value.setLayoutMode&&qe.value.setLayoutMode("sideBySide"))},onSelect(s){s.preventDefault()},icon:"i-circum-grid-2-v"},{label:"Skjutreglage",type:"checkbox",checked:te.value==="slider",onUpdateChecked(s){s&&(te.value="slider",qe.value&&qe.value.setLayoutMode&&qe.value.setLayoutMode("slider"))},onSelect(s){s.preventDefault()},icon:"iconamoon:compare-duotone"}]),h(()=>te.value==="sideBySide"?"i-circum-grid-2-v":"iconamoon:compare-duotone"),h(()=>K.value==="frameworkCompare"?"Två metoder":K.value==="beforeAfterCompare"?"Före / efter":"Jämför"),X(K,s=>{s==="frameworkCompare"?(ge.value=!1,pe.value=!0):s==="beforeAfterCompare"?(ge.value=!0,pe.value=!1):(ge.value=!1,pe.value=!1)}),X(te,s=>{qe.value&&qe.value.setLayoutMode&&qe.value.setLayoutMode(s)}),X(ge,s=>{s&&je.value===3&&(je.value=15)});const Xn=h(()=>{const s=ia.value.find(r=>r.value===je.value);return s?s.timeLabel:""}),Al=h(()=>{const s=H.value.value,r=Xn.value.toLowerCase();return gc.annotations.flatMap(x=>{if(x.positions&&Array.isArray(x.positions))return x.positions.filter(b=>{const B=Array.isArray(b.framework)?b.framework.includes(s):b.framework===s,ie=Array.isArray(b.times)?b.times.map(Pt=>Pt.toLowerCase()).includes(r):b.times.toLowerCase()===r;return B&&ie}).map(b=>({...x,position:{x:b.x,y:b.y,placement:b.placement}}));{const b=Array.isArray(x.frameworks)?x.frameworks.includes(s):x.framework===s,B=Array.isArray(x.times)?x.times.map(ie=>ie.toLowerCase()).includes(r):x.time.toLowerCase()===r;return b&&B?[x]:[]}})});return X(Ct,s=>{console.log("activeViewer updated to:",s)}),(s,r)=>{const x=Za,b=fn,B=Ss,ie=ql,Pt=mn,Ut=Cs,_e=Ri,Sa=ii,Vl=li,Ll=cl,jr=Wl,Kt=_s,Jn=mc;return g(),D("div",Oc,[w(E(U),null,{default:z(()=>[v("div",zc,[v("div",$c,[w(b,{size:"xs",variant:"outline",color:"neutral",onClick:r[0]||(r[0]=u=>Bn(!1)),class:he(de.value?"text-muted/60 hover:text-muted ring-muted/50":"bg-neutral-100 shadow ring-muted")},{default:z(()=>[v("div",Dc,[w(x,{name:"i-bx-rectangle",class:"size-4"}),r[68]||(r[68]=v("h1",null,"Enkelvy",-1))])]),_:1},8,["class"]),w(b,{size:"xs",variant:"outline",color:"neutral",onClick:r[1]||(r[1]=u=>Bn(!0)),class:he(de.value?"bg-neutral-100 shadow ring-muted":"text-muted/60 hover:text-muted ring-muted/50")},{default:z(()=>[v("div",jc,[w(x,{name:"iconamoon:compare-duotone",class:"size-4"}),r[69]||(r[69]=v("h1",null,"Jämför",-1))])]),_:1},8,["class"])]),de.value?(g(),q(B,{key:0,modelValue:K.value,"onUpdate:modelValue":r[2]||(r[2]=u=>K.value=u),items:Dr,size:"xs",placeholder:"Välj",clearable:!0,class:"w-full ring-muted -mb-2 mt-2",ui:{root:"min-w-max flex-shrink-0",list:"flex-nowrap rounded-xl bg-muted/50 -mb-1.5 gap-2",indicator:"bg-white border border-muted/50 shadow ",trigger:" data-[state=active]:text-neutral-800 dark:data-[state=active]:text-violet-400/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary "}},null,8,["modelValue"])):N("",!0)]),w(ie,{ui:{border:"border-muted/50"}}),v("div",Ec,[v("div",Nc,[r[70]||(r[70]=v("span",{class:"text-sm tracking-wide text-neutral-400"},"Trädens synlighet",-1)),Hl(v("input",{type:"range",min:"0",max:"1",step:"0.01","onUpdate:modelValue":r[3]||(r[3]=u=>Je.value=u),class:"accent-primary-500 h-[5px] w-32"},null,512),[[Gl,Je.value]])]),v("div",Pc,[(g(!0),D(Pe,null,Ge($n.value,u=>(g(),q(Pt,{key:u.key,label:u.label,icon:u.icon,color:He[u.key]?"primary":"neutral",variant:He[u.key]?"solid":"subtle",class:he(["cursor-pointer",He[u.key]?"shadow-sm":"opacity-70 hover:opacity-100"]),onClick:Ce=>gl(u.key)},null,8,["label","icon","color","variant","class","onClick"]))),128))])])]),_:1}),v("div",null,[v("div",Uc,[v("div",Rc,[P.value.length?(g(),D("div",{key:0,class:he(["grid sm:gap-4 gap-2 p-2 sm:py-1 sm:flex-row sm:items-center sm:justify-start h-fit w-full sm:w-fit",pe.value?"grid-cols-2":"grid-cols-1"])},[w(Ut,{size:"xl",items:P.value,modelValue:Qe.value,"onUpdate:modelValue":r[4]||(r[4]=u=>Qe.value=u),placeholder:H.value.label,"append-to-body":"",variant:"soft",class:"ring-muted w-full shadow",ui:{content:"min-w-fit",viewport:"text-center"}},null,8,["items","modelValue","placeholder"]),pe.value?(g(),q(Ut,{key:0,size:"xl",items:P.value,modelValue:la.value,"onUpdate:modelValue":r[5]||(r[5]=u=>la.value=u),placeholder:Ve.value.label,"append-to-body":"",variant:"soft",class:"ring-muted shadow"},null,8,["items","modelValue","placeholder"])):N("",!0)],2)):N("",!0),E(k)?(g(),q(b,{key:1,icon:"i-heroicons-x-mark",variant:"soft",color:"neutral",class:"rounded-full h-fit mr-2 ml-1",ui:{rounded:"rounded-full"},onClick:r[6]||(r[6]=u=>ot("close")),"aria-label":"Stäng modellvy",size:"lg"})):N("",!0)]),E(k)?N("",!0):(g(),D("div",Ic,[w(b,{icon:"i-heroicons-x-mark",variant:"ghost",color:"neutral",class:"rounded-full",ui:{rounded:"rounded-full"},onClick:r[7]||(r[7]=u=>ot("close")),"aria-label":"Stäng modellvy"})]))]),v("div",Bc,[v("div",qc,[w(_e,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:Ye.value,"onUpdate:modelValue":r[8]||(r[8]=u=>Ye.value=u),label:"Spara klick (dev)"},null,8,["modelValue"]),w(_e,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:ee.value,"onUpdate:modelValue":r[9]||(r[9]=u=>ee.value=u),label:"Visa myc-etiketter (dev)"},null,8,["modelValue"]),w(_e,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:ne.value,"onUpdate:modelValue":r[10]||(r[10]=u=>ne.value=u),label:"Visa naturvårdssiffra (dev)"},null,8,["modelValue"])]),v("div",Hc,[w(jr,{direction:(E(k),"bottom"),inset:!E(k),dismissible:!!E(k),overlay:!1,handle:(E(k),!1),modal:!1,open:Ke.value,"onUpdate:open":r[18]||(r[18]=u=>Ke.value=u),class:"pointer-events-auto",ui:{header:"flex items-center justify-between",body:"p-0 ",container:"p-0 gap-0 ",content:"max-w-4xl mx-auto ring-muted/50",footer:"gap-0"}},{body:z(()=>[w(b,{class:"absolute top-1.5 right-1.5 z-50",variant:"ghost",color:"neutral",label:"Stäng",onClick:r[11]||(r[11]=u=>Ke.value=!1)}),v("div",Gc,[w(B,{modelValue:Ht.value,"onUpdate:modelValue":r[13]||(r[13]=u=>Ht.value=u),items:j,variant:"pill",size:"xs",color:"neutral",ui:{indicator:"bg-white shadow",trigger:"data-[state=active]:text-neutral-700 ",list:"bg-muted gap-2 m-1.5 w-fit",root:"gap-0"}},{text:z(()=>[v("div",{class:he(["sm:grid divide-y sm:divide-y-0 sm:divide-x divide-muted/70 transition-all relative",[de.value?"sm:grid-cols-2":"sm:grid-cols-1",jt.value?"sm:opacity-40":""]])},[v("div",{class:he(["absolute inset-0 bg-neutral-500 transition-all pointer-events-none",jt.value?"opacity-0 sm:opacity-40 sm:bg-neutral-500/50":"opacity-0"])},null,2),In.value?N("",!0):(g(!0),D(Pe,{key:0},Ge(Ha.value,u=>(g(),D("div",{key:u.key,class:"p-3 sm:p-3 group",onClick:O},[u.info?(g(),D("div",Wc,[v("div",Yc,[w(b,{type:"button",variant:"ghost",color:"neutral",class:"flex w-full items-center font-semibold gap-2 tracking-wide text-neutral-500 transition",onClick:ua(Ce=>Ga(u.key,"skog"),["stop"])},{default:z(()=>[r[71]||(r[71]=v("span",null,"Utveckling i skogen",-1)),w(x,{name:"i-heroicons-chevron-down",class:he(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!Et(u.key,"skog")}])},null,8,["class"])]),_:2},1032,["onClick"]),Et(u.key,"skog")?(g(),D("p",{key:0,class:"text-sm text-neutral-800 leading-relaxed p-2 mb-2 bg-muted rounded",innerHTML:y(u.info.skog)},null,8,Zc)):N("",!0)]),v("div",Kc,[w(b,{type:"button",variant:"ghost",color:"neutral",class:"flex w-full items-center gap-2 font-semibold tracking-wide text-neutral-500 transition",onClick:ua(Ce=>Ga(u.key,"svamp"),["stop"])},{default:z(()=>[r[72]||(r[72]=v("span",null,"Påverkan på mykorrhizasvampar",-1)),w(x,{name:"i-heroicons-chevron-down",class:he(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!Et(u.key,"svamp")}])},null,8,["class"])]),_:2},1032,["onClick"]),Et(u.key,"svamp")?(g(),D("span",{key:0,class:"block text-sm text-neutral-800 leading-relaxed p-2 bg-muted rounded",innerHTML:y(u.info.svamp)},null,8,Xc)):N("",!0)])])):(g(),D("div",Jc,Y(u.emptyMessage||hs),1))]))),128)),In.value?(g(),D("div",Qc,[w(Vl,{items:Ha.value,ui:{item:"basis-12/13",viewport:"p-3"}},{default:z(({item:u})=>[w(Sa,{ui:{body:"p-4 space-y-4"},class:"",variant:"soft",onClick:O},{default:z(()=>[v("div",ed,[v("h2",td,Y(u.left),1),w(Pt,{label:u.right,class:"ring-muted/50 py-1",variant:"outline",color:"neutral"},null,8,["label"])]),u.info?(g(),D("div",ad,[v("div",rd,[w(b,{type:"button",variant:"ghost",color:"neutral",class:"-mx-2 flex w-full items-center font-semibold gap-2 tracking-wide text-neutral-500 transition",onClick:ua(Ce=>Ga(u.key,"skog"),["stop"])},{default:z(()=>[r[73]||(r[73]=v("span",null,"Utveckling i skogen",-1)),w(x,{name:"i-heroicons-chevron-down",class:he(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!Et(u.key,"skog")}])},null,8,["class"])]),_:2},1032,["onClick"]),Et(u.key,"skog")?(g(),D("p",{key:0,class:"text-sm text-neutral-800 leading-relaxed mb-2 bg-muted rounded",innerHTML:y(u.info.skog)},null,8,nd)):N("",!0)]),v("div",sd,[w(b,{type:"button",variant:"ghost",color:"neutral",class:"-mx-2 flex w-full items-center gap-2 font-semibold tracking-wide text-neutral-500 transition",onClick:ua(Ce=>Ga(u.key,"svamp"),["stop"])},{default:z(()=>[r[74]||(r[74]=v("span",null,"Påverkan på mykorrhizasvampar",-1)),w(x,{name:"i-heroicons-chevron-down",class:he(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!Et(u.key,"svamp")}])},null,8,["class"])]),_:2},1032,["onClick"]),Et(u.key,"svamp")?(g(),D("span",{key:0,class:"block text-sm text-neutral-800 leading-relaxed bg-muted rounded",innerHTML:y(u.info.svamp)},null,8,ld)):N("",!0)])])):(g(),D("div",id,Y(u.emptyMessage||hs),1))]),_:2},1024)]),_:1},8,["items"])])):N("",!0)],2)]),diagram:z(()=>[Ht.value==="diagram"?(g(),q(Ll,{key:0,ref_key:"chartMainRef",ref:A,selectedChart:aa.value,"onUpdate:selectedChart":r[12]||(r[12]=u=>aa.value=u),parentSelectedFrameworks:pe.value?[H.value.value,Ve.value.value]:[H.value.value],currentTimeValue:Xn.value,currentStartskog:se.value.value},null,8,["selectedChart","parentSelectedFrameworks","currentTimeValue","currentStartskog"])):N("",!0),r[75]||(r[75]=v("div",{class:"px-4 pb-4 text-xs text-muted"}," Fugiat irure tempor nisi dolor. Sit irure reprehenderit sint est nostrud. Voluptate reprehenderit amet laboris non nostrud. ",-1))]),_:1},8,["modelValue"])]),jt.value?(g(),q(jr,{key:0,open:Ue.value,"onUpdate:open":r[17]||(r[17]=u=>Ue.value=u),nested:"",direction:"bottom",modal:!0,overlay:!1,inset:!E(k),handle:!!E(k),ui:{container:"p-0 gap-0",content:"sm:max-w-sm w-full mx-auto",body:"p-4 space-y-3"}},{body:z(()=>[v("div",od,[v("div",ud,[jn.value?(g(),q(x,{key:0,name:jn.value,class:"size-5 text-primary-500 mt-0.5"},null,8,["name"])):N("",!0),v("h3",cd,Y(jt.value.title),1)]),v("div",dd,[w(b,{color:ya.value?"error":"primary",variant:"subtle",size:"xs",ui:{rounded:"rounded-full"},label:ya.value?"Ta bort":"Fäst i vyn",icon:ya.value?"i-tabler-pinned-off":"i-tabler-pinned","aria-pressed":ya.value,title:ya.value?"Lossa":"Fäst",onClick:r[14]||(r[14]=u=>Tr(jt.value.key,{hideWhenUnpin:!1}))},null,8,["color","label","icon","aria-pressed","title"])])]),v("p",vd,Y(jt.value.description),1),jt.value.key==="naturvardsarter"?(g(),q(b,{key:0,size:"sm",color:"primary",variant:"soft",class:"mt-2",icon:"i-carbon-chart-line-smooth",onClick:r[15]||(r[15]=u=>Vr())},{default:z(()=>[...r[76]||(r[76]=[At(" Visa naturvårdsartsdiagram ",-1)])]),_:1})):N("",!0),jt.value.key==="kanteffekt"?(g(),q(Sa,{key:1,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"},class:"mt-2 backdrop-blur-xl border border-white/10"},{default:z(()=>[w(_e,{ui:{root:"flex-row-reverse justify-between",label:"",description:"",base:"data-[state=unchecked]:bg-neutral-600"},size:"md",color:"primary",modelValue:Se.value,"onUpdate:modelValue":r[16]||(r[16]=u=>Se.value=u),label:"Tidigare kanteffekt",description:"Visa spår från tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):N("",!0)]),_:1},8,["open","inset","handle"])):N("",!0)]),default:z(()=>[w(b,{size:(E(k),"xl"),label:(E(k),"Information"),color:"neutral",icon:"i-heroicons-chevron-up",class:"ring-muted rounded-full shadow",variant:Ke.value?"subtle":"outline"},null,8,["size","label","variant"])]),_:1},8,["direction","inset","dismissible","handle","open"])]),v("div",fd,[w(Kt,{class:"shrink-0 cursor-pointer h-fit z-50",open:Fe.value,"onUpdate:open":r[19]||(r[19]=u=>Fe.value=u),popper:{placement:"bottom-start"}},{content:z(()=>[r[77]||(r[77]=v("div",{class:"text-sm w-64 p-3 text-neutral-500 border-b border-neutral-200"}," Kort beskriving av betydelsen för skogens historik ",-1)),v("div",md,[(g(),D(Pe,null,Ge(xr,u=>v("div",{key:u.value},[w(b,{onClick:Ce=>hl(u),size:"lg",color:"white",variant:"ghost",class:he(["hover:bg-neutral-100 w-full cursor-pointer text-neutral-400",{"w-full bg-neutral-100  text-neutral-800":se.value.value===u.value}])},{default:z(()=>[At(Y(u.label),1)]),_:2},1032,["onClick","class"])])),64))])]),default:z(()=>[w(b,{variant:(E(k),"outline"),color:"neutral",icon:"i-heroicons-clock",size:"lg",label:E(k)?null:se.value.label,class:"rounded-full ring-muted"},null,8,["variant","label"])]),_:1},8,["open"]),w(B,{modelValue:oa.value,"onUpdate:modelValue":r[20]||(r[20]=u=>oa.value=u),items:Zt.value,ui:{root:"min-w-max flex-shrink-0",list:"flex-nowrap rounded-xl bg-transparent -mb-1.5 gap-2",indicator:"bg-white border border-muted/50 shadow ",trigger:" data-[state=active]:text-neutral-800 dark:data-[state=active]:text-violet-400/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary "}},null,8,["modelValue","items"])])])]),v("div",pd,[v("div",hd,[v("div",gd,[E(k)?(g(),q(jr,{key:1,modal:!1,ui:{content:"p-0",body:"p-0",container:"p-0 gap-0"}},{body:z(()=>[w(E(V))]),default:z(()=>[w(b,{size:E(k)?"xl":"md",color:"neutral",variant:"outline",label:E(k)?null:"Display",icon:"i-heroicons-adjustments-horizontal",class:"ring-muted rounded-full sm:rounded pointer-events-auto"},null,8,["size","label"])]),_:1})):(g(),q(Kt,{key:0,ui:{content:"p-0 w-80"},content:{side:"bottom",sideOffset:8,collisionPadding:8,align:"start"},class:"pointer-events-auto"},{content:z(()=>[w(E(V))]),default:z(()=>[w(b,{size:"md",color:"neutral",variant:"outline",label:"Display",icon:"i-heroicons-adjustments-horizontal",class:"ring-muted"})]),_:1}))]),En.value.length?(g(),D("div",kd,[(g(!0),D(Pe,null,Ge(En.value,u=>(g(),D("div",{key:u.key,class:"pointer-events-auto flex flex-col sm:flex sm:flex-wrap gap-1 items-end"},[w(Kt,{"open-delay":500,"close-delay":300,mode:"click",open:c[u.key],"onUpdate:open":Ce=>c[u.key]=Ce,popper:{placement:"bottom-end"},ui:{content:"p-0 w-80"}},{content:z(()=>[v("div",yd,[v("div",_d,[v("div",xd,[u.icon?(g(),q(x,{key:0,name:u.icon,class:"size-5 text-primary-500 mt-0.5"},null,8,["name"])):N("",!0),v("h3",wd,Y(Ua(u.key).title||u.title),1)]),w(b,{label:"Ta bort",variant:"subtle",color:"error",size:"xs",icon:"i-tabler-pinned-off",onClick:Ce=>(Tr(u.key),c[u.key]=!0)},null,8,["onClick"])]),Ua(u.key).description?(g(),D("p",Sd,Y(Ua(u.key).description),1)):(g(),D("div",Cd,"Ingen beskrivning tillgänglig.")),u.key==="naturvardsarter"?(g(),q(b,{key:2,size:"sm",color:"primary",variant:"soft",icon:"i-carbon-chart-line-smooth",onClick:ua(Ce=>Vr({badgeKey:u.key}),["stop"])},{default:z(()=>[...r[78]||(r[78]=[At(" Visa naturvårdsartsdiagram ",-1)])]),_:1},8,["onClick"])):N("",!0),u.key==="kanteffekt"?(g(),q(Sa,{key:3,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"},class:"mt-2 backdrop-blur-xl border border-white/10"},{default:z(()=>[w(_e,{ui:{root:"flex-row-reverse justify-between",label:"",description:"",base:"data-[state=unchecked]:bg-neutral-600"},size:"md",color:"primary",modelValue:Se.value,"onUpdate:modelValue":r[21]||(r[21]=Ce=>Se.value=Ce),label:"Tidigare kanteffekt",description:"Visa spår från tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):N("",!0)])]),default:z(()=>[v("div",null,[w(Pt,{color:"neutral",variant:"outline",size:"lg",class:he(["cursor-pointer shadow-sm sm:ml-1.5 w-fit transition-opacity ring-muted/50",u.key==="staticOverlay"||$(u.key)?"":"opacity-50"])},{default:z(()=>[v("div",bd,[u.icon?(g(),q(x,{key:0,name:u.icon,class:"size-5 text-primary-500"},null,8,["name"])):N("",!0),v("span",null,Y(u.title),1)])]),_:2},1032,["class"])])]),_:2},1032,["open","onUpdate:open"])]))),128))])):N("",!0),v("div",{class:he(["relative overflow-auto transition-all duration-300 ease-in-out ",I.value?"w-72 border-r border-neutral-300":"w-0"])},[I.value?(g(),D("div",Td,[v("div",Ad,[r[79]||(r[79]=v("h1",{class:"font-semibold text-lg"},"Inställningar",-1)),w(b,{icon:I.value?"i-heroicons-chevron-left":"i-heroicons-chevron-right",variant:"outline",color:"neutral",class:"rounded-full left-4 z-10",onClick:r[22]||(r[22]=u=>I.value=!I.value)},null,8,["icon"])]),w(Sa,{variant:"soft",ui:{body:"p-2 sm:p-3"},class:"mb-2"},{default:z(()=>[v("div",Vd,[r[81]||(r[81]=v("div",{class:"text-xs text-neutral-500"},"UI‑zoom",-1)),v("div",Ld,[w(b,{color:"neutral",variant:"soft",size:"xs",icon:"i-heroicons-minus",onClick:r[23]||(r[23]=u=>Vt.value=Math.max(.75,+(Vt.value-.1).toFixed(2)))}),v("div",Md,Y(Math.round(Vt.value*100))+"% ",1),w(b,{color:"neutral",variant:"soft",size:"xs",icon:"i-heroicons-plus",onClick:r[24]||(r[24]=u=>Vt.value=Math.min(2,+(Vt.value+.1).toFixed(2)))}),w(b,{color:"neutral",variant:"ghost",size:"xs",title:"Återställ (100%)",onClick:r[25]||(r[25]=u=>Vt.value=1)},{default:z(()=>[...r[80]||(r[80]=[At(" Reset ",-1)])]),_:1})])])]),_:1}),pe.value?(g(),D("div",Fd,[w(Ut,{size:"lg",items:P.value,modelValue:Qe.value,"onUpdate:modelValue":r[26]||(r[26]=u=>Qe.value=u),placeholder:H.value.label,"append-to-body":"",variant:"outline",class:"w-full"},{item:z(({item:u})=>[v("div",Od,[v("div",zd,Y(u.label),1),u.description?(g(),D("div",$d,Y(u.description),1)):N("",!0)])]),_:1},8,["items","modelValue","placeholder"]),w(Ut,{size:"lg",items:P.value,modelValue:la.value,"onUpdate:modelValue":r[27]||(r[27]=u=>la.value=u),placeholder:Ve.value.label,"append-to-body":"",variant:"outline",class:"w-full"},{item:z(({item:u})=>[v("div",Dd,[v("div",jd,Y(u.label),1),u.description?(g(),D("div",Ed,Y(u.description),1)):N("",!0)])]),_:1},8,["items","modelValue","placeholder"])])):(g(),D(Pe,{key:1},[r[82]||(r[82]=v("h1",{class:"text-xs text-neutral-400"},"Skogsbruksmetod",-1)),w(Ut,{size:"xl",items:P.value,modelValue:Qe.value,"onUpdate:modelValue":r[28]||(r[28]=u=>Qe.value=u),placeholder:H.value.label,"append-to-body":"",variant:"subtle",class:"w-full"},{item:z(({item:u})=>[v("div",Nd,[v("div",Pd,Y(u.label),1),u.description?(g(),D("div",Ud,Y(u.description),1)):N("",!0)])]),_:1},8,["items","modelValue","placeholder"])],64)),v("div",Rd,[v("div",Id,[v("div",Bd,[wt.value||St.value||et.value?(g(),q(_e,{key:0,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Te.value,"onUpdate:modelValue":r[29]||(r[29]=u=>Te.value=u),label:"Hänsynsträd"},null,8,["modelValue"])):N("",!0),wt.value||St.value||et.value?(g(),q(_e,{key:1,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:xe.value,"onUpdate:modelValue":r[30]||(r[30]=u=>xe.value=u),label:"Kanteffekt"},null,8,["modelValue"])):N("",!0),wt.value||St.value||et.value?(g(),q(_e,{key:2,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:we.value,"onUpdate:modelValue":r[31]||(r[31]=u=>we.value=u),label:"Omkringliggande skog"},null,8,["modelValue"])):N("",!0),w(_e,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:me.value,"onUpdate:modelValue":r[32]||(r[32]=u=>me.value=u),label:"Småplantor"},null,8,["modelValue"]),St.value&&xe.value?(g(),q(Sa,{key:3,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"}},{default:z(()=>[w(_e,{ui:{root:"flex-row-reverse justify-between"},size:"xs",color:"neutral",modelValue:Se.value,"onUpdate:modelValue":r[33]||(r[33]=u=>Se.value=u),label:"Tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):N("",!0),et.value?(g(),q(_e,{key:4,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:be.value,"onUpdate:modelValue":r[34]||(r[34]=u=>be.value=u),label:"Rottäcke skärmträd"},null,8,["modelValue"])):N("",!0),Pa.value?(g(),q(_e,{key:5,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:oe.value,"onUpdate:modelValue":r[35]||(r[35]=u=>oe.value=u),label:"Rottäcke blädning"},null,8,["modelValue"])):N("",!0),w(_e,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Ae.value,"onUpdate:modelValue":r[36]||(r[36]=u=>Ae.value=u),label:"Högstubbar"},null,8,["modelValue"]),wt.value||St.value||Pa.value||et.value?(g(),q(_e,{key:6,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:fe.value,"onUpdate:modelValue":r[37]||(r[37]=u=>fe.value=u),label:"Naturvårdsarter"},null,8,["modelValue"])):N("",!0),et.value?(g(),q(_e,{key:7,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:S.value,"onUpdate:modelValue":r[38]||(r[38]=u=>S.value=u),label:"Fröträd"},null,8,["modelValue"])):N("",!0),w(_e,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ve.value,"onUpdate:modelValue":r[39]||(r[39]=u=>ve.value=u),label:"Trädplantor"},null,8,["modelValue"]),w(_e,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:Ye.value,"onUpdate:modelValue":r[40]||(r[40]=u=>Ye.value=u),label:"Spara klick (dev)"},null,8,["modelValue"]),w(_e,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:ee.value,"onUpdate:modelValue":r[41]||(r[41]=u=>ee.value=u),label:"Visa myc-etiketter (dev)"},null,8,["modelValue"]),w(_e,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:ne.value,"onUpdate:modelValue":r[42]||(r[42]=u=>ne.value=u),label:"Visa naturvårdssiffra (dev)"},null,8,["modelValue"])])])])])):N("",!0)],2),v("div",qd,[!ge.value&&!pe.value?(g(),D("div",Hd,[w(E(l),{"tradplantor-visible":ve.value,"naturvardsarter-visible":fe.value,"hogstubbar-visible":Ae.value,"smaplantor-visible":me.value,"dev-save-clicks":Ye.value,"show-overlay-labels":ee.value,"show-naturvard-counter":ne.value,"seedTree-visible":S.value,"rottacke-skarmtrad-visible":be.value,"rottacke-bladning-visible":oe.value,"retention-visible":Te.value,"old-kanteffekt-visible":Se.value,"kanteffekt-visible":xe.value,"omkringliggande-skog-visible":we.value,"retention-points":le.value.retention,"seed-tree-points":le.value.seedTree,"smaplantor-points":le.value.smaplantor,"hogstubbar-points":le.value.hogstubbar,"naturvardsarter-points":le.value.naturvardsarter,"kanteffekt-features":le.value.kanteffekt,fullscreenLayout:!0,currentFramework:H.value,currentTime:Ie.value,currentStartskog:se.value,layoutMode:te.value,ref_key:"singleViewerRef",ref:wa,frameworkLabel:H.value.label,timeLabel:Re.value,dziUrl:fl.value,overlayDziUrl:xa.value,allowPan:!0,annotations:ce.value?Al.value:[],selectedAnnotation:Ea.value,globalOpacity:Je.value,"onUpdate:globalOpacity":r[43]||(r[43]=u=>Je.value=u),onAnnotationClicked:ml,class:"w-full h-full ui-zoom-exempt"},null,8,["tradplantor-visible","naturvardsarter-visible","hogstubbar-visible","smaplantor-visible","dev-save-clicks","show-overlay-labels","show-naturvard-counter","seedTree-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","retention-visible","old-kanteffekt-visible","kanteffekt-visible","omkringliggande-skog-visible","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","annotations","selectedAnnotation","globalOpacity"]),w(Zl,{name:"slide-out"},{default:z(()=>[Ea.value?(g(),D("div",Gd,[r[83]||(r[83]=v("div",{class:"h-64 flex items-center justify-center text-neutral-300"}," Bild kommer snart ",-1)),w(b,{color:"white",ui:{rounded:"rounded-full"},icon:"heroicons:x-mark",onClick:pl,class:"absolute top-2 right-2"}),v("div",Wd,[v("h3",Yd,Y(Ea.value.title),1),v("p",Zd,Y(Ea.value.text),1)])])):N("",!0)]),_:1})])):ge.value?(g(),q(Jn,{key:1,class:"w-full",ref_key:"comparisonSliderRef",ref:qe,frameworkLabel:H.value.label,timeLabel:"Före avverkning",frameworkLabel2:H.value.label,timeLabel2:Re.value,layoutMode:te.value},{first:z(()=>[ja.value?(g(),q(E(l),{key:1,"naturvardsarter-visible":fe.value,"retention-visible":Te.value,"kanteffekt-visible":xe.value,"omkringliggande-skog-visible":we.value,"old-kanteffekt-visible":Se.value,"rottacke-skarmtrad-visible":be.value,"rottacke-bladning-visible":oe.value,"seedTree-visible":S.value,"smaplantor-visible":me.value,"hogstubbar-visible":Ae.value,"tradplantor-visible":ve.value,fullscreenLayout:!0,"show-overlay-labels":ee.value,"show-naturvard-counter":ne.value,"retention-points":tt.value.retention,"seed-tree-points":tt.value.seedTree,"smaplantor-points":tt.value.smaplantor,"hogstubbar-points":tt.value.hogstubbar,"naturvardsarter-points":tt.value.naturvardsarter,"kanteffekt-features":tt.value.kanteffekt,currentFramework:H.value,currentTime:"innan",currentStartskog:se.value,layoutMode:te.value,ref_key:"beforeViewerRef",ref:mt,comparisonMode:!0,frameworkLabel:H.value.label,timeLabel:"Före avverkning",dziUrl:Vn.value,overlayDziUrl:qn.value,allowPan:!0,onOpened:r[46]||(r[46]=u=>Nt("before")),onActivated:r[47]||(r[47]=u=>Ct.value.valueOf="before"),globalOpacity:Je.value,"onUpdate:globalOpacity":r[48]||(r[48]=u=>Je.value=u),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentStartskog","layoutMode","frameworkLabel","dziUrl","overlayDziUrl","globalOpacity"])):(g(),q(E(l),{key:0,"naturvardsarter-visible":fe.value,"retention-visible":Te.value,"kanteffekt-visible":xe.value,"omkringliggande-skog-visible":we.value,"old-kanteffekt-visible":Se.value,"rottacke-skarmtrad-visible":be.value,"rottacke-bladning-visible":oe.value,"seedTree-visible":S.value,"smaplantor-visible":me.value,"hogstubbar-visible":Ae.value,"tradplantor-visible":ve.value,fullscreenLayout:!0,"show-overlay-labels":ee.value,"show-naturvard-counter":ne.value,"retention-points":tt.value.retention,"seed-tree-points":tt.value.seedTree,"smaplantor-points":tt.value.smaplantor,"hogstubbar-points":tt.value.hogstubbar,"naturvardsarter-points":tt.value.naturvardsarter,"kanteffekt-features":tt.value.kanteffekt,currentFramework:H.value,currentTime:"innan",currentStartskog:se.value,layoutMode:te.value,ref_key:"beforeViewerRef",ref:mt,comparisonMode:!0,frameworkLabel:H.value.label,timeLabel:"Före avverkning",dziUrl:Vn.value,overlayDziUrl:qn.value,allowPan:!0,onOpened:r[44]||(r[44]=u=>Nt("before")),onActivated:r[45]||(r[45]=u=>Ct.value.valueOf="before"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentStartskog","layoutMode","frameworkLabel","dziUrl","overlayDziUrl"]))]),second:z(()=>[ja.value?(g(),q(E(l),{key:1,"naturvardsarter-visible":fe.value,"retention-visible":Te.value,"kanteffekt-visible":xe.value,"omkringliggande-skog-visible":we.value,"old-kanteffekt-visible":Se.value,"rottacke-skarmtrad-visible":be.value,"rottacke-bladning-visible":oe.value,"seedTree-visible":S.value,"smaplantor-visible":me.value,"hogstubbar-visible":Ae.value,"tradplantor-visible":ve.value,fullscreenLayout:!0,"show-overlay-labels":ee.value,"show-naturvard-counter":ne.value,"retention-points":le.value.retention,"seed-tree-points":le.value.seedTree,"smaplantor-points":le.value.smaplantor,"hogstubbar-points":le.value.hogstubbar,"naturvardsarter-points":le.value.naturvardsarter,"kanteffekt-features":le.value.kanteffekt,currentFramework:H.value,currentTime:Ie.value,currentStartskog:se.value,layoutMode:te.value,ref_key:"afterViewerRef",ref:pt,comparisonMode:!0,frameworkLabel:H.value.label,timeLabel:Re.value,dziUrl:Ln.value,overlayDziUrl:xa.value,allowPan:!0,sliderPosition:"right",onOpened:r[51]||(r[51]=u=>Nt("after")),onActivated:r[52]||(r[52]=u=>Ct.value.valueOf="after"),globalOpacity:Je.value,"onUpdate:globalOpacity":r[53]||(r[53]=u=>Je.value=u),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","globalOpacity"])):(g(),q(E(l),{key:0,"naturvardsarter-visible":fe.value,"retention-visible":Te.value,"kanteffekt-visible":xe.value,"omkringliggande-skog-visible":we.value,"old-kanteffekt-visible":Se.value,"rottacke-skarmtrad-visible":be.value,"rottacke-bladning-visible":oe.value,"seedTree-visible":S.value,"smaplantor-visible":me.value,"hogstubbar-visible":Ae.value,"tradplantor-visible":ve.value,fullscreenLayout:!0,"show-overlay-labels":ee.value,"show-naturvard-counter":ne.value,"retention-points":le.value.retention,"seed-tree-points":le.value.seedTree,"smaplantor-points":le.value.smaplantor,"hogstubbar-points":le.value.hogstubbar,"naturvardsarter-points":le.value.naturvardsarter,"kanteffekt-features":le.value.kanteffekt,currentFramework:H.value,currentTime:Ie.value,currentStartskog:se.value,layoutMode:te.value,ref_key:"afterViewerRef",ref:pt,comparisonMode:!0,frameworkLabel:H.value.label,timeLabel:Re.value,dziUrl:Ln.value,overlayDziUrl:xa.value,allowPan:!0,sliderPosition:"right",onOpened:r[49]||(r[49]=u=>Nt("after")),onActivated:r[50]||(r[50]=u=>Ct.value.valueOf="after"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl"]))]),_:1},8,["frameworkLabel","frameworkLabel2","timeLabel2","layoutMode"])):pe.value?(g(),q(Jn,{key:2,ref_key:"comparisonSliderRef",ref:qe,frameworkLabel:H.value.label,timeLabel:Re.value,frameworkLabel2:Ve.value.label,timeLabel2:Re.value,layoutMode:te.value,class:"w-full"},{first:z(()=>[ja.value?(g(),q(E(l),{key:1,"naturvardsarter-visible":fe.value,"retention-visible":Te.value,"kanteffekt-visible":xe.value,"old-kanteffekt-visible":Se.value,"rottacke-skarmtrad-visible":be.value,"rottacke-bladning-visible":oe.value,"seedTree-visible":S.value,"smaplantor-visible":me.value,"hogstubbar-visible":Ae.value,"tradplantor-visible":ve.value,fullscreenLayout:!0,"show-overlay-labels":ee.value,"show-naturvard-counter":ne.value,"retention-points":le.value.retention,"seed-tree-points":le.value.seedTree,"smaplantor-points":le.value.smaplantor,"hogstubbar-points":le.value.hogstubbar,"naturvardsarter-points":le.value.naturvardsarter,"kanteffekt-features":le.value.kanteffekt,currentFramework:H.value,currentTime:Ie.value,currentStartskog:se.value,layoutMode:te.value,ref_key:"framework1ViewerRef",ref:ht,comparisonMode:!0,frameworkLabel:H.value.label,timeLabel:Re.value,dziUrl:Mn.value,overlayDziUrl:xa.value,allowPan:!ge.value&&!pe.value,globalOpacity:Je.value,"onUpdate:globalOpacity":r[57]||(r[57]=u=>Je.value=u),onViewportChanged:r[58]||(r[58]=u=>Wa("framework1",u)),onOpened:r[59]||(r[59]=u=>Nt("framework1")),onActivated:r[60]||(r[60]=u=>Ct.value.valueOf="framework1"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan","globalOpacity"])):(g(),q(E(l),{key:0,"naturvardsarter-visible":fe.value,"retention-visible":Te.value,"kanteffekt-visible":xe.value,"omkringliggande-skog-visible":we.value,"old-kanteffekt-visible":Se.value,"rottacke-skarmtrad-visible":be.value,"rottacke-bladning-visible":oe.value,"seedTree-visible":S.value,"smaplantor-visible":me.value,"hogstubbar-visible":Ae.value,"tradplantor-visible":ve.value,fullscreenLayout:!0,"show-overlay-labels":ee.value,"show-naturvard-counter":ne.value,"retention-points":le.value.retention,"seed-tree-points":le.value.seedTree,"smaplantor-points":le.value.smaplantor,"hogstubbar-points":le.value.hogstubbar,"naturvardsarter-points":le.value.naturvardsarter,"kanteffekt-features":le.value.kanteffekt,currentFramework:H.value,currentTime:Ie.value,currentStartskog:se.value,layoutMode:te.value,ref_key:"framework1ViewerRef",ref:ht,comparisonMode:!0,frameworkLabel:H.value.label,timeLabel:Re.value,dziUrl:Mn.value,overlayDziUrl:xa.value,allowPan:!ge.value&&!pe.value,onViewportChanged:r[54]||(r[54]=u=>Wa("framework1",u)),onOpened:r[55]||(r[55]=u=>Nt("framework1")),onActivated:r[56]||(r[56]=u=>Ct.value.valueOf="framework1"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan"]))]),second:z(()=>[ja.value?(g(),q(E(l),{key:1,"naturvardsarter-visible":fe.value,"retention-visible":Te.value,"kanteffekt-visible":xe.value,"old-kanteffekt-visible":Se.value,"rottacke-skarmtrad-visible":be.value,"rottacke-bladning-visible":oe.value,"seedTree-visible":S.value,"smaplantor-visible":me.value,"hogstubbar-visible":Ae.value,"tradplantor-visible":ve.value,fullscreenLayout:!0,"show-overlay-labels":ee.value,"show-naturvard-counter":ne.value,"retention-points":at.value.retention,"seed-tree-points":at.value.seedTree,"smaplantor-points":at.value.smaplantor,"hogstubbar-points":at.value.hogstubbar,"naturvardsarter-points":at.value.naturvardsarter,"kanteffekt-features":at.value.kanteffekt,currentFramework:Ve.value,currentTime:Ie.value,currentStartskog:se.value,layoutMode:te.value,ref_key:"framework2ViewerRef",ref:gt,comparisonMode:!0,frameworkLabel:Ve.value.label,timeLabel:Re.value,dziUrl:Fn.value,overlayDziUrl:Hn.value,globalOpacity:Je.value,"onUpdate:globalOpacity":r[64]||(r[64]=u=>Je.value=u),allowPan:!ge.value&&!pe.value,sliderPosition:"right",onViewportChanged:r[65]||(r[65]=u=>Wa("framework2",u)),onOpened:r[66]||(r[66]=u=>Nt("framework2")),onActivated:r[67]||(r[67]=u=>Ct.value.valueOf="framework2"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","globalOpacity","allowPan"])):(g(),q(E(l),{key:0,"naturvardsarter-visible":fe.value,"retention-visible":Te.value,"kanteffekt-visible":xe.value,"old-kanteffekt-visible":Se.value,"rottacke-skarmtrad-visible":be.value,"rottacke-bladning-visible":oe.value,"seedTree-visible":S.value,"smaplantor-visible":me.value,"hogstubbar-visible":Ae.value,"tradplantor-visible":ve.value,fullscreenLayout:!0,"show-overlay-labels":ee.value,"show-naturvard-counter":ne.value,"retention-points":at.value.retention,"seed-tree-points":at.value.seedTree,"smaplantor-points":at.value.smaplantor,"hogstubbar-points":at.value.hogstubbar,"naturvardsarter-points":at.value.naturvardsarter,"kanteffekt-features":at.value.kanteffekt,currentFramework:Ve.value,currentTime:Ie.value,currentStartskog:se.value,layoutMode:te.value,ref_key:"framework2ViewerRef",ref:gt,comparisonMode:!0,frameworkLabel:Ve.value.label,timeLabel:Re.value,dziUrl:Fn.value,overlayDziUrl:Hn.value,allowPan:!ge.value&&!pe.value,sliderPosition:"right",onViewportChanged:r[61]||(r[61]=u=>Wa("framework2",u)),onOpened:r[62]||(r[62]=u=>Nt("framework2")),onActivated:r[63]||(r[63]=u=>Ct.value.valueOf="framework2"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan"]))]),_:1},8,["frameworkLabel","timeLabel","frameworkLabel2","timeLabel2","layoutMode"])):N("",!0)]),W.value?N("",!0):(g(),D("div",Kd,[v("div",Xd,[!ge.value&&!pe.value?(g(),D("div",Jd,[v("div",{class:"p-3 group text-base/7",onClick:O},[w(Kt,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:z(()=>[v("div",ev,[(g(),D(Pe,null,Ge($t,(u,Ce)=>v("div",{key:u.id,onClick:Er=>Qe.value=Ce,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[v("div",null,[v("div",av,Y(u.label),1),v("div",rv,Y(u.text),1)])],8,tv)),64))])]),default:z(()=>[v("h2",Qd,Y(H.value.label),1)]),_:1}),v("div",nv,[v("h3",sv,Y(Re.value),1),w(b,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",color:"neutral",variant:"soft",size:"xs",label:lt.value?"Dölj info":"Visa info",onClick:ut},null,8,["label"])]),lt.value&&rt.value?(g(),D("div",lv,[v("p",{class:"mb-4 text-neutral-50",innerHTML:y(rt.value.skog)},null,8,iv),v("div",null,[r[84]||(r[84]=v("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),v("span",{class:"text-neutral-50",innerHTML:y(rt.value.svamp)},null,8,ov)])])):lt.value?(g(),D("div",uv," Ingen tidslinjeinformation hittades för den här kombinationen. ")):N("",!0)])])):ge.value?(g(),D("div",cv,[qa.value?(g(),D("div",{key:0,class:"p-3 group text-base/7",onClick:O},[w(Kt,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:z(()=>[v("div",vv,[(g(),D(Pe,null,Ge($t,(u,Ce)=>v("div",{key:u.id,onClick:Er=>Qe.value=Ce,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[v("div",null,[v("div",mv,Y(u.label),1),v("div",pv,Y(u.text),1)])],8,fv)),64))])]),default:z(()=>[v("h2",dv,Y(H.value.label),1)]),_:1}),v("div",hv,[r[85]||(r[85]=v("h3",{class:"text-md text-neutral-200"}," Före avverkning ",-1)),w(b,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:lt.value?"Dölj info":"Visa info",onClick:ut},null,8,["label"])]),lt.value?(g(),D("div",gv,[v("p",{class:"mb-2 text-neutral-50",innerHTML:y(qa.value.skog)},null,8,kv),v("div",null,[r[86]||(r[86]=v("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),v("span",{class:"text-neutral-50",innerHTML:y(qa.value.svamp)},null,8,bv)])])):N("",!0)])):N("",!0),rt.value?(g(),D("div",{key:1,class:"p-4 group border border-neutral-200/10 rounded-sm shadow bg-neutral-950/20",onClick:O},[v("div",yv,[v("h3",_v,Y(Re.value),1),w(b,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:Lt.value?"Dölj info":"Visa info",onClick:Mt},null,8,["label"])]),Lt.value?(g(),D("div",xv,[v("p",{class:"mb-2 text-neutral-50",innerHTML:y(rt.value.skog)},null,8,wv),v("div",null,[r[87]||(r[87]=v("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),v("span",{class:"text-neutral-50",innerHTML:y(rt.value.svamp)},null,8,Sv)])])):N("",!0)])):N("",!0)])):pe.value?(g(),D("div",Cv,[rt.value?(g(),D("div",{key:0,class:"p-3 group text-base/7",onClick:O},[w(Kt,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:z(()=>[v("div",Av,[(g(),D(Pe,null,Ge($t,(u,Ce)=>v("div",{key:u.id,onClick:Er=>Qe.value=Ce,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[v("div",null,[v("div",Lv,Y(u.label),1),v("div",Mv,Y(u.text),1)])],8,Vv)),64))])]),default:z(()=>[v("h2",Tv,Y(H.value.label),1)]),_:1}),v("div",Fv,[v("h3",Ov,Y(Re.value),1),w(b,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:lt.value?"Dölj info":"Visa info",onClick:ut},null,8,["label"])]),lt.value?(g(),D("div",zv,[v("p",{class:"mb-2 text-neutral-50",innerHTML:y(rt.value.skog)},null,8,$v),v("div",null,[r[88]||(r[88]=v("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),v("span",{class:"text-neutral-50",innerHTML:y(rt.value.svamp)},null,8,Dv)])])):N("",!0)])):N("",!0),Ba.value?(g(),D("div",{key:1,class:"p-4 group border border-neutral-200/10 rounded-sm shadow bg-neutral-950/20",onClick:O},[w(Kt,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:z(()=>[v("div",Ev,[(g(),D(Pe,null,Ge($t,(u,Ce)=>v("div",{key:"framework2-"+u.id,onClick:Er=>la.value=Ce,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[v("div",null,[v("div",Pv,Y(u.label),1),v("div",Uv,Y(u.text),1)])],8,Nv)),64))])]),default:z(()=>[v("h2",jv,Y(Ve.value.label),1)]),_:1}),v("div",Rv,[v("h3",Iv,Y(Re.value),1),w(b,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:Lt.value?"Dölj info":"Visa info",onClick:Mt},null,8,["label"])]),Lt.value?(g(),D("div",Bv,[v("p",{class:"mb-2 text-neutral-50",innerHTML:y(Ba.value.skog)},null,8,qv),v("div",null,[r[89]||(r[89]=v("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),v("span",{class:"text-neutral-50",innerHTML:y(Ba.value.svamp)},null,8,Hv)])])):N("",!0)])):N("",!0)])):N("",!0),v("div",Gv,[v("div",Wv,[pr.value?(g(),q(b,{key:0,size:"xl",onClick:br,variant:"ghost",class:"text-white hover:bg-neutral-500/20 w-full",label:gr.value,icon:"i-heroicons-arrow-left-circle"},null,8,["label"])):N("",!0)]),v("div",Yv,[hr.value?(g(),q(b,{key:0,size:"xl",onClick:sa,variant:"ghost",class:"w-full text-white hover:bg-neutral-500/20 flex justify-end",trailing:"",label:za.value,icon:"i-heroicons-arrow-right-circle"},null,8,["label"])):N("",!0)])])])]))])])])}}}),Xv=Object.assign(xs(Kv,[["__scopeId","data-v-992ff45d"]]),{__name:"Model"}),Jv={key:0,class:"flex-1"},Qv=["onClick"],ef={class:"text-lg p-2 px-3 font-medium"},tf={class:"w-full ring ring-muted/50 rounded relative overflow-hidden shadow"},af={class:"sm:grid grid-cols-2"},rf={class:"px-6 sm:px-12 sm:border-r border-muted/50"},nf={class:"my-4 text-3xl sm:text-4xl font-medium text-neutral-900"},sf={class:"px-6 sm:px-12"},lf={class:"p-6 pb-2"},of={class:"font-semibold"},uf={class:"lg:flex gap-4 space-y-2 lg:space-y-0"},cf=["src"],df={class:"w-full px-6 border border-muted/50 bg-muted/50 rounded h-fit"},vf={class:"w-full bg-white px-6 border border-muted/50 rounded h-fit"},ff={class:"bg-muted border-t border-muted mt-18"},mf=yt({__name:"index",async setup(e){let t,a;const n=M(!1),{data:l}=([t,a]=Ee(()=>Oe("skogsskotsel",()=>Ne("skogsskotsel").first())),t=await t,a(),t);if(!l.value)throw Xl({statusCode:404,statusMessage:"Page not found",fatal:!0});const i=V=>{const k=V?.toLowerCase?.()??"";return k==="intekalavverkad"?"naturskog":k==="produktionsskog"?"produktionsskog_":V},c=V=>(V?.toLowerCase?.()??"")==="ingenatgard"?"naturskydd":V,o=V=>{const k=String(V).trim().toLowerCase();return k.includes("efter")?"efter":k.includes("innan")||k.includes("före")||k.includes("fore")?"fore":k.replace(/[^0-9]/g,"")||k},d=(V,k,j)=>{const T=Z=>Z.trim().normalize("NFD").replace(/å/gi,"a").replace(/ä/gi,"a").replace(/ö/gi,"o").replace(new RegExp("\\p{Diacritic}+","gu"),"").toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,"");return`/images/thumbnails/${`${T(V)}_${o(String(k))}_visa_visa_${T(j)}.webp`}`},{data:A}=([t,a]=Ee(()=>Oe("forestry-timeline-skogsskotsel",()=>Ne("forestryTimelines").first())),t=await t,a(),t),m=h(()=>{const V=A.value?.entries??[],k=U.value.id,j=c(k);return V.map(T=>({...T,startskog:i(T.startskog),atgard:c(T.atgard)})).filter(T=>T.startskog==="naturskog"&&T.atgard===j).map(T=>({tid:T.tid,skog:T.skog,svamp:T.svamp,thumb:d(T.atgard,T.tid,T.startskog)}))}),f=M([{label:"Diagram",icon:"i-heroicons-presentation-chart-line",slot:"diagram"},{label:"Tidslinje",icon:"i-heroicons-list-bullet",slot:"timeline"},{label:"Text",icon:"i-heroicons-book-open",slot:"text"}]),C=h(()=>l.value?.methods??[]),F={id:"",title:"",image:"",shortdescription:"",description:"",descriptionsvamp:""},$=M("");Jl(()=>{const V=C.value[0];V&&!$.value&&($.value=V.id)});const U=h(()=>{const V=C.value;return V.length?V.find(k=>k.id===$.value)??V[0]:F});return(V,k)=>{const j=fn,T=ti,R=Xv,Z=ai,ae=Li,G=Ql,J=mn,Q=ri,ue=Mi,re=Fi,de=ni,K=cl,te=Oi,ot=Ss,Ye=zi;return E(l)?(g(),D("div",Jv,[w(G,{class:"w-full px-0"},{default:z(()=>[w(ae,{ui:{container:"py-12 lg:py-24",title:"sm:text-7xl",headline:"text-neutral"},title:E(l).hero.title,description:E(l).hero.description,orientation:E(l).hero.orientation,class:""},ei({_:2},[E(l)?.hero?.links?.[0]?{name:"links",fn:z(()=>[w(T,{color:"warning",size:"2xl"},{default:z(()=>[w(j,{label:E(l).hero.links[0].label,size:E(l).hero.links[0].size,color:E(l).hero.links[0].color,icon:E(l).hero.links[0].icon,onClick:k[0]||(k[0]=ee=>n.value=!0)},null,8,["label","size","color","icon"])]),_:1}),w(Z,{open:n.value,"onUpdate:open":k[2]||(k[2]=ee=>n.value=ee),fullscreen:""},{content:z(()=>[w(R,{onClose:k[1]||(k[1]=ee=>n.value=!1)})]),_:1},8,["open"])]),key:"0"}:void 0]),1032,["title","description","orientation"])]),_:1}),w(G,{class:"w-full flex justify-between py-4 gap-6 overflow-scroll lg:overflow-hidden"},{default:z(()=>[(g(!0),D(Pe,null,Ge(C.value,ee=>(g(),q(ue,{key:ee.id,class:"relative",initial:{scale:1,transform:"translateY(10px)",opacity:0},animate:{scale:1,transform:"translateY(0px)",opacity:1},transition:{duration:.3,delay:.3+.05*(ee.index??0)}},{default:z(()=>[v("div",{onClick:ne=>$.value=ee.id,class:he(["shrink-0 lg:shrink w-58 lg:w-full bg-white transition-all hover:opacity-100 border border-muted/50 overflow-hidden rounded h-fit shadow hover:shadow-md relative cursor-pointer",$.value===ee.id?"opacity-100":"opacity-30"])},[ee.type?(g(),q(J,{key:0,class:"absolute top-2 left-2",label:ee.type,color:"neutral",variant:"subtle"},null,8,["label"])):N("",!0),w(Q,{src:ee.image,width:"300",height:"160",class:"w-full h-full"},null,8,["src"]),v("h1",ef,Y(ee.title),1)],10,Qv)]),_:2},1032,["transition"]))),128))]),_:1}),w(G,{class:"w-full pt-2 px-0 sm:px-6"},{default:z(()=>[w(ue,{class:"flex justify-center w-full",initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0px)"},transition:{duration:.5,delay:1}},{default:z(()=>[v("div",tf,[w(ot,{ui:{list:"p-2 justify-center sm:justify-start",root:""},items:f.value,color:"primary",size:"md",class:"w-full",variant:"link"},{text:z(()=>[w(de,{class:"pt-4 sm:p-6"},{default:z(()=>[v("div",af,[v("div",rf,[v("h1",nf,Y(U.value.title),1),w(re,{class:"text-lg text-neutral-800 mb-8",value:U.value.description},null,8,["value"])]),v("div",sf,[k[3]||(k[3]=v("h1",{class:"my-4 text-2xl font-medium text-neutral-900"},"Påverkan på mykorrhizasvampar ",-1)),w(re,{class:"text-lg text-neutral-800",value:U.value.descriptionsvamp},null,8,["value"])])])]),_:1})]),diagram:z(()=>[w(K,{parentSelectedFrameworks:[U.value.id],currentStartskog:"naturskog"},null,8,["parentSelectedFrameworks"])]),timeline:z(()=>[v("div",lf,[w(te,{items:m.value,size:"3xs",ui:{indicator:"bg-neutral-200/50 ",separator:"bg-neutral-200/50",description:"p-0 mt-2 text-default"}},{title:z(({item:ee})=>[v("span",of,Y(ee.tid),1)]),description:z(({item:ee})=>[v("div",uf,[v("img",{src:ee.thumb,class:"w-80 h-fit rounded"},null,8,cf),v("div",df,[w(re,{value:ee.skog},null,8,["value"])]),v("div",vf,[w(re,{value:ee.svamp},null,8,["value"])])])]),_:1},8,["items"])])]),_:1},8,["items"])])]),_:1})]),_:1}),v("div",ff,[w(Ye,{section:E(l).carousel},null,8,["section"])])])):N("",!0)}}}),Tf=Object.freeze(Object.defineProperty({__proto__:null,default:mf},Symbol.toStringTag,{value:"Module"}));export{_c as D,bc as a,Tf as i,kc as u};
