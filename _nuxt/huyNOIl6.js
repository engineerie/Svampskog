const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./COgc1wYo.js","./jNrLEVhN.js","./entry.rfHDFkBY.css","./Cpj98o6Y.js","./CCgS_u6R.js","./CGRtDSyY.js","./wHDpdQR8.js","./CQsjKb-3.js","./DBzJlu46.js","./DKEXpoYC.js","./Dd28W9ZZ.js","./OpenSeadragonViewer.Kkz2VGSG.css"])))=>i.map(i=>d[i]);
import{C as Rn,B as Ee,D as tr,$ as Dt,r as O,W as v,N as j,e as b,w as P,O as Ye,P as k,aU as va,I as fi,E as jn,J as Rs,az as mi,Z as Ht,f as I,aW as pi,Q as fa,bb as hi,bc as gi,o as mt,c as Ot,g as F,U as bi,V as js,a4 as Lr,a6 as Is,z as Ns,a8 as yi,a9 as Ps,bd as Us,ab as Mr,d as R,n as we,F as Te,ag as Ne,be as ki,aJ as ar,L as Bt,K as se,aD as ua,aE as Ut,aF as ca,b6 as Sa,aT as qs,bf as _i,af as In,h as m,t as ae,aN as Nn,an as Ga,av as xi,_ as Hs,a5 as wi,aa as Si,bg as Ci,ai as Xa,bh as Pn,a$ as Ai,p as Ti,aS as Vi,aC as Li,bi as Mi,a_ as zi,T as Oi,b as Bi}from"#entry";import{_ as Di}from"./CCgS_u6R.js";import{c as Ks,_ as Ws,L as Fi,a as Ei}from"./CQsjKb-3.js";import{X as rr,c as Se,i as Ma,a as nr,D as da,b as Ca,d as zr,g as zt,e as qt,f as Qa,s as Va,h as $i,j as We,O as Ys,m as dn,k as Ri,l as ji,r as Ii,n as Ni,o as Pi,p as Ui,q as qi,t as Hi,u as Ki,v as Wi,w as bn,P as Yi,x as Gi,y as Xi,z as Zi,A as Ji,B as er,C as sr,E as za,F as Oa,S as Qi,G as ks,_ as eo}from"./DKEXpoYC.js";import{u as Gs,V as Xs}from"./DBzJlu46.js";import{d as to}from"./Dd28W9ZZ.js";function ao(e=[],t,a){const r=[...e];return r[a]=t,r.sort((s,o)=>s-o)}function Zs(e,t,a){const o=100/(a-t)*(e-t);return Ks(o,0,100)}function ro(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function no(e,t){if(e.length===1)return 0;const a=e.map(s=>Math.abs(s-t)),r=Math.min(...a);return a.indexOf(r)}function so(e,t,a){const r=e/2,o=Un([0,50],[0,r]);return(r-o(t)*a)*a}function lo(e){return e.slice(0,-1).map((t,a)=>e[a+1]-t)}function io(e,t){if(t>0){const a=lo(e);return Math.min(...a)>=t}return!0}function Un(e,t){return a=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(a-e[0])}}function oo(e){return(String(e).split(".")[1]||"").length}function uo(e,t){const a=10**t;return Math.round(e*a)/a}const Js=["PageUp","PageDown"],Qs=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],el={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageUp","ArrowUp","ArrowLeft"]},[tl,al]=Rn(["SliderVertical","SliderHorizontal"]);var co=Ee({__name:"SliderHorizontal",props:{dir:{type:String,required:!1},min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(e,{emit:t}){const a=e,r=t,{max:s,min:o,dir:u,inverted:i}=tr(a),{forwardRef:c,currentElement:C}=Dt(),h=Ba(),p=O(),A=O(),L=v(()=>u?.value!=="rtl"&&!i.value||u?.value!=="ltr"&&i.value);function D(M,_){const B=A.value||C.value.getBoundingClientRect(),K=[...h.thumbElements.value][h.valueIndexToChangeRef.value],X=h.thumbAlignment.value==="contain"?K.clientWidth:0;!p.value&&!_&&h.thumbAlignment.value==="contain"&&(p.value=M.clientX-K.getBoundingClientRect().left);const Q=[0,B.width-X],ce=L.value?[o.value,s.value]:[s.value,o.value],W=Un(Q,ce);A.value=B;const te=_?M.clientX-B.left-X/2:M.clientX-B.left-(p.value??0);return W(te)}const N=v(()=>L.value?"left":"right"),E=v(()=>L.value?"right":"left"),V=v(()=>L.value?1:-1);return al({startEdge:N,endEdge:E,direction:V,size:"width"}),(M,_)=>(b(),j(rl,{ref:k(c),dir:k(u),"data-orientation":"horizontal",style:va({"--reka-slider-thumb-transform":!L.value&&k(h).thumbAlignment.value==="overflow"?"translateX(50%)":"translateX(-50%)"}),onSlideStart:_[0]||(_[0]=B=>{const K=D(B,!0);r("slideStart",K)}),onSlideMove:_[1]||(_[1]=B=>{const K=D(B);r("slideMove",K)}),onSlideEnd:_[2]||(_[2]=()=>{A.value=void 0,p.value=void 0,r("slideEnd")}),onStepKeyDown:_[3]||(_[3]=B=>{const K=L.value?"from-left":"from-right",X=k(el)[K].includes(B.key);r("stepKeyDown",B,X?-1:1)}),onEndKeyDown:_[4]||(_[4]=B=>r("endKeyDown",B)),onHomeKeyDown:_[5]||(_[5]=B=>r("homeKeyDown",B))},{default:P(()=>[Ye(M.$slots,"default")]),_:3},8,["dir","style"]))}}),vo=co,fo=Ee({__name:"SliderVertical",props:{min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(e,{emit:t}){const a=e,r=t,{max:s,min:o,inverted:u}=tr(a),i=Ba(),{forwardRef:c,currentElement:C}=Dt(),h=O(),p=O(),A=v(()=>!u.value);function L(V,M){const _=p.value||C.value.getBoundingClientRect(),B=[...i.thumbElements.value][i.valueIndexToChangeRef.value],K=i.thumbAlignment.value==="contain"?B.clientHeight:0;!h.value&&!M&&i.thumbAlignment.value==="contain"&&(h.value=V.clientY-B.getBoundingClientRect().top);const X=[0,_.height-K],Q=A.value?[s.value,o.value]:[o.value,s.value],ce=Un(X,Q),W=M?V.clientY-_.top-K/2:V.clientY-_.top-(h.value??0);return p.value=_,ce(W)}const D=v(()=>A.value?"bottom":"top"),N=v(()=>A.value?"top":"bottom"),E=v(()=>A.value?1:-1);return al({startEdge:D,endEdge:N,direction:E,size:"height"}),(V,M)=>(b(),j(rl,{ref:k(c),"data-orientation":"vertical",style:va({"--reka-slider-thumb-transform":!A.value&&k(i).thumbAlignment.value==="overflow"?"translateY(-50%)":"translateY(50%)"}),onSlideStart:M[0]||(M[0]=_=>{const B=L(_,!0);r("slideStart",B)}),onSlideMove:M[1]||(M[1]=_=>{const B=L(_);r("slideMove",B)}),onSlideEnd:M[2]||(M[2]=()=>{p.value=void 0,h.value=void 0,r("slideEnd")}),onStepKeyDown:M[3]||(M[3]=_=>{const B=A.value?"from-bottom":"from-top",K=k(el)[B].includes(_.key);r("stepKeyDown",_,K?-1:1)}),onEndKeyDown:M[4]||(M[4]=_=>r("endKeyDown",_)),onHomeKeyDown:M[5]||(M[5]=_=>r("homeKeyDown",_))},{default:P(()=>[Ye(V.$slots,"default")]),_:3},8,["style"]))}}),mo=fo;const[Ba,po]=Rn("SliderRoot");var ho=Ee({inheritAttrs:!1,__name:"SliderRoot",props:{defaultValue:{type:Array,required:!1,default:()=>[0]},modelValue:{type:[Array,null],required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},inverted:{type:Boolean,required:!1,default:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},minStepsBetweenThumbs:{type:Number,required:!1,default:0},thumbAlignment:{type:String,required:!1,default:"contain"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","valueCommit"],setup(e,{emit:t}){const a=e,r=t,{min:s,max:o,step:u,minStepsBetweenThumbs:i,orientation:c,disabled:C,thumbAlignment:h,dir:p}=tr(a),A=fi(p),{forwardRef:L,currentElement:D}=Dt(),N=Gs(D),{CollectionSlot:E}=jn({isProvider:!0}),V=Rs(a,"modelValue",r,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),M=v(()=>Array.isArray(V.value)?[...V.value]:[]),_=O(0),B=O(M.value);function K(te){const Z=no(M.value,te);ce(te,Z)}function X(te){ce(te,_.value)}function Q(){const te=B.value[_.value];M.value[_.value]!==te&&r("valueCommit",pi(M.value))}function ce(te,Z,{commit:le}={commit:!1}){const ge=oo(u.value),oe=uo(Math.round((te-s.value)/u.value)*u.value+s.value,ge),be=Ks(oe,s.value,o.value),Be=ao(M.value,be,Z);if(io(Be,i.value*u.value)){_.value=Be.indexOf(be);const Re=String(Be)!==String(V.value);Re&&le&&r("valueCommit",Be),Re&&(W.value[_.value]?.focus(),V.value=Be)}}const W=O([]);return po({modelValue:V,currentModelValue:M,valueIndexToChangeRef:_,thumbElements:W,orientation:c,min:s,max:o,disabled:C,thumbAlignment:h}),(te,Z)=>(b(),j(k(E),null,{default:P(()=>[(b(),j(mi(k(c)==="horizontal"?vo:mo),Ht(te.$attrs,{ref:k(L),"as-child":te.asChild,as:te.as,min:k(s),max:k(o),dir:k(A),inverted:te.inverted,"aria-disabled":k(C),"data-disabled":k(C)?"":void 0,onPointerdown:Z[0]||(Z[0]=()=>{k(C)||(B.value=M.value)}),onSlideStart:Z[1]||(Z[1]=le=>!k(C)&&K(le)),onSlideMove:Z[2]||(Z[2]=le=>!k(C)&&X(le)),onSlideEnd:Z[3]||(Z[3]=le=>!k(C)&&Q()),onHomeKeyDown:Z[4]||(Z[4]=le=>!k(C)&&ce(k(s),0,{commit:!0})),onEndKeyDown:Z[5]||(Z[5]=le=>!k(C)&&ce(k(o),M.value.length-1,{commit:!0})),onStepKeyDown:Z[6]||(Z[6]=(le,ge)=>{if(!k(C)){const Be=k(Js).includes(le.key)||le.shiftKey&&k(Qs).includes(le.key)?10:1,Re=_.value,$e=M.value[Re],je=k(u)*Be*ge;ce($e+je,Re,{commit:!0})}})}),{default:P(()=>[Ye(te.$slots,"default",{modelValue:k(V)}),k(N)&&te.name?(b(),j(k(Xs),{key:0,type:"number",value:k(V),name:te.name,required:te.required,disabled:k(C),step:k(u)},null,8,["value","name","required","disabled","step"])):I("v-if",!0)]),_:3},16,["as-child","as","min","max","dir","inverted","aria-disabled","data-disabled"]))]),_:3}))}}),go=ho,bo=Ee({__name:"SliderImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},emits:["slideStart","slideMove","slideEnd","homeKeyDown","endKeyDown","stepKeyDown"],setup(e,{emit:t}){const a=e,r=t,s=Ba();return(o,u)=>(b(),j(k(fa),Ht({"data-slider-impl":""},a,{onKeydown:u[0]||(u[0]=i=>{i.key==="Home"?(r("homeKeyDown",i),i.preventDefault()):i.key==="End"?(r("endKeyDown",i),i.preventDefault()):k(Js).concat(k(Qs)).includes(i.key)&&(r("stepKeyDown",i),i.preventDefault())}),onPointerdown:u[1]||(u[1]=i=>{const c=i.target;c.setPointerCapture(i.pointerId),i.preventDefault(),k(s).thumbElements.value.includes(c)?c.focus():r("slideStart",i)}),onPointermove:u[2]||(u[2]=i=>{i.target.hasPointerCapture(i.pointerId)&&r("slideMove",i)}),onPointerup:u[3]||(u[3]=i=>{const c=i.target;c.hasPointerCapture(i.pointerId)&&(c.releasePointerCapture(i.pointerId),r("slideEnd",i))})}),{default:P(()=>[Ye(o.$slots,"default")]),_:3},16))}}),rl=bo,yo=Ee({__name:"SliderRange",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=Ba(),a=tl();Dt();const r=v(()=>t.currentModelValue.value.map(u=>Zs(u,t.min.value,t.max.value))),s=v(()=>t.currentModelValue.value.length>1?Math.min(...r.value):0),o=v(()=>100-Math.max(...r.value,0));return(u,i)=>(b(),j(k(fa),{"data-disabled":k(t).disabled.value?"":void 0,"data-orientation":k(t).orientation.value,"as-child":u.asChild,as:u.as,style:va({[k(a).startEdge.value]:`${s.value}%`,[k(a).endEdge.value]:`${o.value}%`})},{default:P(()=>[Ye(u.$slots,"default")]),_:3},8,["data-disabled","data-orientation","as-child","as","style"]))}}),ko=yo,_o=Ee({inheritAttrs:!1,__name:"SliderThumbImpl",props:{index:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,a=Ba(),r=tl(),{forwardRef:s,currentElement:o}=Dt(),{CollectionItem:u}=jn(),i=v(()=>a.modelValue?.value?.[t.index]),c=v(()=>i.value===void 0?0:Zs(i.value,a.min.value??0,a.max.value??100)),C=v(()=>ro(t.index,a.modelValue?.value?.length??0)),h=hi(o),p=v(()=>h[r.size].value),A=v(()=>a.thumbAlignment.value==="overflow"||!p.value?0:so(p.value,c.value,r.direction.value)),L=gi();return mt(()=>{a.thumbElements.value.push(o.value)}),Ot(()=>{const D=a.thumbElements.value.findIndex(N=>N===o.value)??-1;a.thumbElements.value.splice(D,1)}),(D,N)=>(b(),j(k(u),null,{default:P(()=>[F(k(fa),Ht(D.$attrs,{ref:k(s),role:"slider",tabindex:k(a).disabled.value?void 0:0,"aria-label":D.$attrs["aria-label"]||C.value,"data-disabled":k(a).disabled.value?"":void 0,"data-orientation":k(a).orientation.value,"aria-valuenow":i.value,"aria-valuemin":k(a).min.value,"aria-valuemax":k(a).max.value,"aria-orientation":k(a).orientation.value,"as-child":D.asChild,as:D.as,style:{transform:"var(--reka-slider-thumb-transform)",position:"absolute",[k(r).startEdge.value]:`calc(${c.value}% + ${A.value}px)`,display:!k(L)&&i.value===void 0?"none":void 0},onFocus:N[0]||(N[0]=()=>{k(a).valueIndexToChangeRef.value=D.index})}),{default:P(()=>[Ye(D.$slots,"default")]),_:3},16,["tabindex","aria-label","data-disabled","data-orientation","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","as-child","as","style"])]),_:3}))}}),xo=_o,wo=Ee({__name:"SliderThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=e,{getItems:a}=jn(),{forwardRef:r,currentElement:s}=Dt(),o=v(()=>s.value?a(!0).findIndex(u=>u.ref===s.value):-1);return(u,i)=>(b(),j(xo,Ht({ref:k(r)},t,{index:o.value}),{default:P(()=>[Ye(u.$slots,"default")]),_:3},16,["index"]))}}),_s=wo,So=Ee({__name:"SliderTrack",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=Ba();return Dt(),(a,r)=>(b(),j(k(fa),{"as-child":a.asChild,as:a.as,"data-disabled":k(t).disabled.value?"":void 0,"data-orientation":k(t).orientation.value},{default:P(()=>[Ye(a.$slots,"default")]),_:3},8,["as-child","as","data-disabled","data-orientation"]))}}),Co=So;const[Ao,To]=Rn("SwitchRoot");var Vo=Ee({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,r=t,{disabled:s}=tr(a),o=Rs(a,"modelValue",r,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function u(){s.value||(o.value=!o.value)}const{forwardRef:i,currentElement:c}=Dt(),C=Gs(c),h=v(()=>a.id&&c.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return To({modelValue:o,toggleCheck:u,disabled:s}),(p,A)=>(b(),j(k(fa),Ht(p.$attrs,{id:p.id,ref:k(i),role:"switch",type:p.as==="button"?"button":void 0,value:p.value,"aria-label":p.$attrs["aria-label"]||h.value,"aria-checked":k(o),"aria-required":p.required,"data-state":k(o)?"checked":"unchecked","data-disabled":k(s)?"":void 0,"as-child":p.asChild,as:p.as,disabled:k(s),onClick:u,onKeydown:bi(js(u,["prevent"]),["enter"])}),{default:P(()=>[Ye(p.$slots,"default",{modelValue:k(o)}),k(C)&&p.name?(b(),j(k(Xs),{key:0,type:"checkbox",name:p.name,disabled:k(s),required:p.required,value:p.value,checked:!!k(o)},null,8,["name","disabled","required","value","checked"])):I("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),Lo=Vo,Mo=Ee({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=Ao();return Dt(),(a,r)=>(b(),j(k(fa),{"data-state":k(t).modelValue?.value?"checked":"unchecked","data-disabled":k(t).disabled.value?"":void 0,"as-child":a.asChild,as:a.as},{default:P(()=>[Ye(a.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"]))}}),zo=Mo;const Oo={slots:{root:"relative flex items-center select-none touch-none",track:"relative bg-accented overflow-hidden rounded-full grow",range:"absolute rounded-full",thumb:"rounded-full bg-default ring-2 focus-visible:outline-2 focus-visible:outline-offset-2"},variants:{color:{primary:{range:"bg-primary",thumb:"ring-primary focus-visible:outline-primary/50"},secondary:{range:"bg-secondary",thumb:"ring-secondary focus-visible:outline-secondary/50"},tertiary:{range:"bg-tertiary",thumb:"ring-tertiary focus-visible:outline-tertiary/50"},rodeodust:{range:"bg-rodeodust",thumb:"ring-rodeodust focus-visible:outline-rodeodust/50"},poison:{range:"bg-poison",thumb:"ring-poison focus-visible:outline-poison/50"},signal:{range:"bg-signal",thumb:"ring-signal focus-visible:outline-signal/50"},info:{range:"bg-info",thumb:"ring-info focus-visible:outline-info/50"},success:{range:"bg-success",thumb:"ring-success focus-visible:outline-success/50"},warning:{range:"bg-warning",thumb:"ring-warning focus-visible:outline-warning/50"},error:{range:"bg-error",thumb:"ring-error focus-visible:outline-error/50"},kalkmark:{range:"bg-kalkmark",thumb:"ring-kalkmark focus-visible:outline-kalkmark/50"},vanligmark:{range:"bg-vanligmark",thumb:"ring-vanligmark focus-visible:outline-vanligmark/50"},time:{range:"bg-time",thumb:"ring-time focus-visible:outline-time/50"},neutral:{range:"bg-inverted",thumb:"ring-inverted focus-visible:outline-inverted/50"}},size:{xs:{thumb:"size-3"},sm:{thumb:"size-3.5"},md:{thumb:"size-4"},lg:{thumb:"size-4.5"},xl:{thumb:"size-5"}},orientation:{horizontal:{root:"w-full",range:"h-full"},vertical:{root:"flex-col h-full",range:"w-full"}},disabled:{true:{root:"opacity-75 cursor-not-allowed"}}},compoundVariants:[{orientation:"horizontal",size:"xs",class:{track:"h-[6px]"}},{orientation:"horizontal",size:"sm",class:{track:"h-[7px]"}},{orientation:"horizontal",size:"md",class:{track:"h-[8px]"}},{orientation:"horizontal",size:"lg",class:{track:"h-[9px]"}},{orientation:"horizontal",size:"xl",class:{track:"h-[10px]"}},{orientation:"vertical",size:"xs",class:{track:"w-[6px]"}},{orientation:"vertical",size:"sm",class:{track:"w-[7px]"}},{orientation:"vertical",size:"md",class:{track:"w-[8px]"}},{orientation:"vertical",size:"lg",class:{track:"w-[9px]"}},{orientation:"vertical",size:"xl",class:{track:"w-[10px]"}}],defaultVariants:{size:"md",color:"primary"}},Bo={__name:"USlider",props:Lr({as:{type:null,required:!1},size:{type:null,required:!1},color:{type:null,required:!1},orientation:{type:null,required:!1,default:"horizontal"},tooltip:{type:[Boolean,Object],required:!1},defaultValue:{type:[Number,Array],required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},name:{type:String,required:!1},disabled:{type:Boolean,required:!1},inverted:{type:Boolean,required:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},minStepsBetweenThumbs:{type:Number,required:!1}},{modelValue:{type:null},modelModifiers:{}}),emits:Lr(["change"],["update:modelValue"]),setup(e,{emit:t}){const a=e,r=t,s=Is(e,"modelValue"),o=Ns(),u=yi(Ps(a,"as","orientation","min","max","step","minStepsBetweenThumbs","inverted"),r),{id:i,emitFormChange:c,emitFormInput:C,size:h,color:p,name:A,disabled:L,ariaAttrs:D}=Us(a),N=v(()=>typeof a.defaultValue=="number"?[a.defaultValue]:a.defaultValue),E=v({get(){return typeof s.value=="number"?[s.value]:s.value??N.value},set(B){s.value=B?.length!==1?B:B[0]}}),V=v(()=>E.value?.length??1),M=v(()=>Mr({extend:Mr(Oo),...o.ui?.slider||{}})({disabled:L.value,size:h.value,color:p.value,orientation:a.orientation}));function _(B){const K=new Event("change",{target:{value:B}});r("change",K),c()}return(B,K)=>(b(),j(k(go),Ht({...k(u),...k(D)},{id:k(i),modelValue:E.value,"onUpdate:modelValue":[K[0]||(K[0]=X=>E.value=X),K[1]||(K[1]=X=>k(C)())],name:k(A),disabled:k(L),class:M.value.root({class:[a.ui?.root,a.class]}),"default-value":N.value,onValueCommit:_}),{default:P(()=>[F(k(Co),{class:we(M.value.track({class:a.ui?.track}))},{default:P(()=>[F(k(ko),{class:we(M.value.range({class:a.ui?.range}))},null,8,["class"])]),_:1},8,["class"]),(b(!0),R(Te,null,Ne(V.value,X=>(b(),R(Te,{key:X},[e.tooltip?(b(),j(ki,Ht({key:0,text:V.value>1?String(E.value?.[X-1]):String(E.value),"disable-closing-trigger":""},{ref_for:!0},typeof e.tooltip=="object"?e.tooltip:{}),{default:P(()=>[F(k(_s),{class:we(M.value.thumb({class:a.ui?.thumb}))},null,8,["class"])]),_:2},1040,["text"])):(b(),j(k(_s),{key:1,class:we(M.value.thumb({class:a.ui?.thumb}))},null,8,["class"]))],64))),128))]),_:1},16,["id","modelValue","name","disabled","class","default-value"]))}};var yn=Math.PI,kn=2*yn,oa=1e-6,Do=kn-oa;function _n(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function jr(){return new _n}_n.prototype=jr.prototype={constructor:_n,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,a,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+a)+","+(this._y1=+r)},bezierCurveTo:function(e,t,a,r,s,o){this._+="C"+ +e+","+ +t+","+ +a+","+ +r+","+(this._x1=+s)+","+(this._y1=+o)},arcTo:function(e,t,a,r,s){e=+e,t=+t,a=+a,r=+r,s=+s;var o=this._x1,u=this._y1,i=a-e,c=r-t,C=o-e,h=u-t,p=C*C+h*h;if(s<0)throw new Error("negative radius: "+s);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>oa)if(!(Math.abs(h*i-c*C)>oa)||!s)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var A=a-o,L=r-u,D=i*i+c*c,N=A*A+L*L,E=Math.sqrt(D),V=Math.sqrt(p),M=s*Math.tan((yn-Math.acos((D+p-N)/(2*E*V)))/2),_=M/V,B=M/E;Math.abs(_-1)>oa&&(this._+="L"+(e+_*C)+","+(t+_*h)),this._+="A"+s+","+s+",0,0,"+ +(h*A>C*L)+","+(this._x1=e+B*i)+","+(this._y1=t+B*c)}},arc:function(e,t,a,r,s,o){e=+e,t=+t,a=+a,o=!!o;var u=a*Math.cos(r),i=a*Math.sin(r),c=e+u,C=t+i,h=1^o,p=o?r-s:s-r;if(a<0)throw new Error("negative radius: "+a);this._x1===null?this._+="M"+c+","+C:(Math.abs(this._x1-c)>oa||Math.abs(this._y1-C)>oa)&&(this._+="L"+c+","+C),a&&(p<0&&(p=p%kn+kn),p>Do?this._+="A"+a+","+a+",0,1,"+h+","+(e-u)+","+(t-i)+"A"+a+","+a+",0,1,"+h+","+(this._x1=c)+","+(this._y1=C):p>oa&&(this._+="A"+a+","+a+",0,"+ +(p>=yn)+","+h+","+(this._x1=e+a*Math.cos(s))+","+(this._y1=t+a*Math.sin(s))))},rect:function(e,t,a,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +a+"v"+ +r+"h"+-a+"Z"},toString:function(){return this._}};function Pe(e){return function(){return e}}var xs=1e-12,Or=Math.PI,Ir=2*Or;function nl(e){this._context=e}nl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qn(e){return new nl(e)}function sl(e){return e[0]}function ll(e){return e[1]}function il(){var e=sl,t=ll,a=Pe(!0),r=null,s=qn,o=null;function u(i){var c,C=i.length,h,p=!1,A;for(r==null&&(o=s(A=jr())),c=0;c<=C;++c)!(c<C&&a(h=i[c],c,i))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+e(h,c,i),+t(h,c,i));if(A)return o=null,A+""||null}return u.x=function(i){return arguments.length?(e=typeof i=="function"?i:Pe(+i),u):e},u.y=function(i){return arguments.length?(t=typeof i=="function"?i:Pe(+i),u):t},u.defined=function(i){return arguments.length?(a=typeof i=="function"?i:Pe(!!i),u):a},u.curve=function(i){return arguments.length?(s=i,r!=null&&(o=s(r)),u):s},u.context=function(i){return arguments.length?(i==null?r=o=null:o=s(r=i),u):r},u}function Fo(){var e=sl,t=null,a=Pe(0),r=ll,s=Pe(!0),o=null,u=qn,i=null;function c(h){var p,A,L,D=h.length,N,E=!1,V,M=new Array(D),_=new Array(D);for(o==null&&(i=u(V=jr())),p=0;p<=D;++p){if(!(p<D&&s(N=h[p],p,h))===E)if(E=!E)A=p,i.areaStart(),i.lineStart();else{for(i.lineEnd(),i.lineStart(),L=p-1;L>=A;--L)i.point(M[L],_[L]);i.lineEnd(),i.areaEnd()}E&&(M[p]=+e(N,p,h),_[p]=+a(N,p,h),i.point(t?+t(N,p,h):M[p],r?+r(N,p,h):_[p]))}if(V)return i=null,V+""||null}function C(){return il().defined(s).curve(u).context(o)}return c.x=function(h){return arguments.length?(e=typeof h=="function"?h:Pe(+h),t=null,c):e},c.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Pe(+h),c):e},c.x1=function(h){return arguments.length?(t=h==null?null:typeof h=="function"?h:Pe(+h),c):t},c.y=function(h){return arguments.length?(a=typeof h=="function"?h:Pe(+h),r=null,c):a},c.y0=function(h){return arguments.length?(a=typeof h=="function"?h:Pe(+h),c):a},c.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Pe(+h),c):r},c.lineX0=c.lineY0=function(){return C().x(e).y(a)},c.lineY1=function(){return C().x(e).y(r)},c.lineX1=function(){return C().x(t).y(a)},c.defined=function(h){return arguments.length?(s=typeof h=="function"?h:Pe(!!h),c):s},c.curve=function(h){return arguments.length?(u=h,o!=null&&(i=u(o)),c):u},c.context=function(h){return arguments.length?(h==null?o=i=null:i=u(o=h),c):o},c}const ol={draw:function(e,t){var a=Math.sqrt(t/Or);e.moveTo(a,0),e.arc(0,0,a,0,Ir)}},Eo={draw:function(e,t){var a=Math.sqrt(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}};var ul=Math.sqrt(1/3),$o=ul*2;const Ro={draw:function(e,t){var a=Math.sqrt(t/$o),r=a*ul;e.moveTo(0,-a),e.lineTo(r,0),e.lineTo(0,a),e.lineTo(-r,0),e.closePath()}};var jo=.8908130915292852,cl=Math.sin(Or/10)/Math.sin(7*Or/10),Io=Math.sin(Ir/10)*cl,No=-Math.cos(Ir/10)*cl;const Po={draw:function(e,t){var a=Math.sqrt(t*jo),r=Io*a,s=No*a;e.moveTo(0,-a),e.lineTo(r,s);for(var o=1;o<5;++o){var u=Ir*o/5,i=Math.cos(u),c=Math.sin(u);e.lineTo(c*a,-i*a),e.lineTo(i*r-c*s,c*r+i*s)}e.closePath()}},Uo={draw:function(e,t){var a=Math.sqrt(t),r=-a/2;e.rect(r,r,a,a)}};var vn=Math.sqrt(3);const qo={draw:function(e,t){var a=-Math.sqrt(t/(vn*3));e.moveTo(0,a*2),e.lineTo(-vn*a,-a),e.lineTo(vn*a,-a),e.closePath()}};var dt=-.5,vt=Math.sqrt(3)/2,xn=1/Math.sqrt(12),Ho=(xn/2+1)*3;const Ko={draw:function(e,t){var a=Math.sqrt(t/Ho),r=a/2,s=a*xn,o=r,u=a*xn+a,i=-o,c=u;e.moveTo(r,s),e.lineTo(o,u),e.lineTo(i,c),e.lineTo(dt*r-vt*s,vt*r+dt*s),e.lineTo(dt*o-vt*u,vt*o+dt*u),e.lineTo(dt*i-vt*c,vt*i+dt*c),e.lineTo(dt*r+vt*s,dt*s-vt*r),e.lineTo(dt*o+vt*u,dt*u-vt*o),e.lineTo(dt*i+vt*c,dt*c-vt*i),e.closePath()}};function Wo(){var e=Pe(ol),t=Pe(64),a=null;function r(){var s;if(a||(a=s=jr()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),s)return a=null,s+""||null}return r.type=function(s){return arguments.length?(e=typeof s=="function"?s:Pe(s),r):e},r.size=function(s){return arguments.length?(t=typeof s=="function"?s:Pe(+s),r):t},r.context=function(s){return arguments.length?(a=s??null,r):a},r}function Kt(){}function Br(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function Nr(e){this._context=e}Nr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Br(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Br(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Yo(e){return new Nr(e)}function dl(e){this._context=e}dl.prototype={areaStart:Kt,areaEnd:Kt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Br(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Go(e){return new dl(e)}function vl(e){this._context=e}vl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:Br(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Xo(e){return new vl(e)}function fl(e,t){this._basis=new Nr(e),this._beta=t}fl.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,a=e.length-1;if(a>0)for(var r=e[0],s=t[0],o=e[a]-r,u=t[a]-s,i=-1,c;++i<=a;)c=i/a,this._basis.point(this._beta*e[i]+(1-this._beta)*(r+c*o),this._beta*t[i]+(1-this._beta)*(s+c*u));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Zo=(function e(t){function a(r){return t===1?new Nr(r):new fl(r,t)}return a.beta=function(r){return e(+r)},a})(.85);function Dr(e,t,a){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-a),e._x2,e._y2)}function Hn(e,t){this._context=e,this._k=(1-t)/6}Hn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Dr(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Dr(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Jo=(function e(t){function a(r){return new Hn(r,t)}return a.tension=function(r){return e(+r)},a})(0);function Kn(e,t){this._context=e,this._k=(1-t)/6}Kn.prototype={areaStart:Kt,areaEnd:Kt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Dr(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Qo=(function e(t){function a(r){return new Kn(r,t)}return a.tension=function(r){return e(+r)},a})(0);function Wn(e,t){this._context=e,this._k=(1-t)/6}Wn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Dr(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const eu=(function e(t){function a(r){return new Wn(r,t)}return a.tension=function(r){return e(+r)},a})(0);function Yn(e,t,a){var r=e._x1,s=e._y1,o=e._x2,u=e._y2;if(e._l01_a>xs){var i=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*i-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,s=(s*i-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>xs){var C=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,h=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*C+e._x1*e._l23_2a-t*e._l12_2a)/h,u=(u*C+e._y1*e._l23_2a-a*e._l12_2a)/h}e._context.bezierCurveTo(r,s,o,u,e._x2,e._y2)}function ml(e,t){this._context=e,this._alpha=t}ml.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Yn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const tu=(function e(t){function a(r){return t?new ml(r,t):new Hn(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function pl(e,t){this._context=e,this._alpha=t}pl.prototype={areaStart:Kt,areaEnd:Kt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Yn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const au=(function e(t){function a(r){return t?new pl(r,t):new Kn(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function hl(e,t){this._context=e,this._alpha=t}hl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ru=(function e(t){function a(r){return t?new hl(r,t):new Wn(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function gl(e){this._context=e}gl.prototype={areaStart:Kt,areaEnd:Kt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function nu(e){return new gl(e)}function ws(e){return e<0?-1:1}function Ss(e,t,a){var r=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(r||s<0&&-0),u=(a-e._y1)/(s||r<0&&-0),i=(o*s+u*r)/(r+s);return(ws(o)+ws(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(i))||0}function Cs(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function fn(e,t,a){var r=e._x0,s=e._y0,o=e._x1,u=e._y1,i=(o-r)/3;e._context.bezierCurveTo(r+i,s+i*t,o-i,u-i*a,o,u)}function Fr(e){this._context=e}Fr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fn(this,this._t0,Cs(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,fn(this,Cs(this,a=Ss(this,e,t)),a);break;default:fn(this,this._t0,a=Ss(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function bl(e){this._context=new yl(e)}(bl.prototype=Object.create(Fr.prototype)).point=function(e,t){Fr.prototype.point.call(this,t,e)};function yl(e){this._context=e}yl.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,r,s,o){this._context.bezierCurveTo(t,e,r,a,o,s)}};function su(e){return new Fr(e)}function lu(e){return new bl(e)}function kl(e){this._context=e}kl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var r=As(e),s=As(t),o=0,u=1;u<a;++o,++u)this._context.bezierCurveTo(r[0][o],s[0][o],r[1][o],s[1][o],e[u],t[u]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function As(e){var t,a=e.length-1,r,s=new Array(a),o=new Array(a),u=new Array(a);for(s[0]=0,o[0]=2,u[0]=e[0]+2*e[1],t=1;t<a-1;++t)s[t]=1,o[t]=4,u[t]=4*e[t]+2*e[t+1];for(s[a-1]=2,o[a-1]=7,u[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=s[t]/o[t-1],o[t]-=r,u[t]-=r*u[t-1];for(s[a-1]=u[a-1]/o[a-1],t=a-2;t>=0;--t)s[t]=(u[t]-s[t+1])/o[t];for(o[a-1]=(e[a]+s[a-1])/2,t=0;t<a-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function iu(e){return new kl(e)}function Pr(e,t){this._context=e,this._t=t}Pr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function ou(e){return new Pr(e,.5)}function uu(e){return new Pr(e,0)}function cu(e){return new Pr(e,1)}function Ts(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function du(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ts(Object(a),!0).forEach(function(r){vu(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ts(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Za(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Za=function(t){return typeof t}:Za=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}function vu(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Er(){return Er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Er.apply(this,arguments)}function fu(e,t){if(e){if(typeof e=="string")return Vs(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Vs(e,t)}}function Vs(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function _l(e,t){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=fu(e))||t){a&&(e=a);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,u=!1,i;return{s:function(){a=a.call(e)},n:function(){var c=a.next();return o=c.done,c},e:function(c){u=!0,i=c},f:function(){try{!o&&a.return!=null&&a.return()}finally{if(u)throw i}}}}function mu(e,t){var a=[],r=[];function s(o,u){if(o.length===1)a.push(o[0]),r.push(o[0]);else{for(var i=Array(o.length-1),c=0;c<i.length;c++)c===0&&a.push(o[0]),c===i.length-1&&r.push(o[c+1]),i[c]=[(1-u)*o[c][0]+u*o[c+1][0],(1-u)*o[c][1]+u*o[c+1][1]];s(i,u)}}return e.length&&s(e,t),{left:a,right:r.reverse()}}function pu(e){var t={};return e.length===4&&(t.x2=e[2][0],t.y2=e[2][1]),e.length>=3&&(t.x1=e[1][0],t.y1=e[1][1]),t.x=e[e.length-1][0],t.y=e[e.length-1][1],e.length===4?t.type="C":e.length===3?t.type="Q":t.type="L",t}function hu(e,t){t=t||2;for(var a=[],r=e,s=1/t,o=0;o<t-1;o++){var u=s/(1-s*o),i=mu(r,u);a.push(i.left),r=i.right}return a.push(r),a}function gu(e,t,a){var r=[[e.x,e.y]];return t.x1!=null&&r.push([t.x1,t.y1]),t.x2!=null&&r.push([t.x2,t.y2]),r.push([t.x,t.y]),hu(r,a).map(pu)}var bu=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,Aa={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};Object.keys(Aa).forEach(function(e){Aa[e.toLowerCase()]=Aa[e]});function wn(e,t){for(var a=Array(e),r=0;r<e;r++)a[r]=t;return a}function yu(e){return"".concat(e.type).concat(Aa[e.type].map(function(t){return e[t]}).join(","))}function ku(e,t){var a={x1:"x",y1:"y",x2:"x",y2:"y"},r=["xAxisRotation","largeArcFlag","sweepFlag"];if(e.type!==t.type&&t.type.toUpperCase()!=="M"){var s={};Object.keys(t).forEach(function(o){var u=t[o],i=e[o];i===void 0&&(r.includes(o)?i=u:(i===void 0&&a[o]&&(i=e[a[o]]),i===void 0&&(i=0))),s[o]=i}),s.type=t.type,e=s}return e}function _u(e,t,a){var r=[];if(t.type==="L"||t.type==="Q"||t.type==="C")r=r.concat(gu(e,t,a));else{var s=Er({},e);s.type==="M"&&(s.type="L"),r=r.concat(wn(a-1).map(function(){return s})),r.push(t)}return r}function Ls(e,t,a){var r=e.length-1,s=t.length-1,o=r/s,u=wn(s).reduce(function(c,C,h){var p=Math.floor(o*h);if(a&&p<e.length-1&&a(e[p],e[p+1])){var A=o*h%1<.5;c[p]&&(A?p>0?p-=1:p<e.length-1&&(p+=1):p<e.length-1?p+=1:p>0&&(p-=1))}return c[p]=(c[p]||0)+1,c},[]),i=u.reduce(function(c,C,h){if(h===e.length-1){var p=wn(C,Er({},e[e.length-1]));return p[0].type==="M"&&p.forEach(function(A){A.type="L"}),c.concat(p)}return c.concat(_u(e[h],e[h+1],C))},[]);return i.unshift(e[0]),i}function Ms(e){for(var t=(e||"").match(bu)||[],a=[],r,s,o=0;o<t.length;++o)if(r=Aa[t[o]],r){s={type:t[o]};for(var u=0;u<r.length;++u)s[r[u]]=+t[o+u+1];o+=r.length,a.push(s)}return a}function xu(e,t,a){var r=e==null?[]:e.slice(),s=t==null?[]:t.slice(),o=Za(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},u=o.excludeSegment,i=o.snapEndsToInput;if(!r.length&&!s.length)return function(){return[]};var c=(r.length===0||r[r.length-1].type==="Z")&&(s.length===0||s[s.length-1].type==="Z");r.length>0&&r[r.length-1].type==="Z"&&r.pop(),s.length>0&&s[s.length-1].type==="Z"&&s.pop(),r.length?s.length||s.push(r[0]):r.push(s[0]);var C=Math.abs(s.length-r.length);C!==0&&(s.length>r.length?r=Ls(r,s,u):s.length<r.length&&(s=Ls(s,r,u))),r=r.map(function(p,A){return ku(p,s[A])});var h=r.map(function(p){return du({},p)});return c&&(h.push({type:"Z"}),r.push({type:"Z"})),function(A){if(A===1&&i)return t??[];if(A===0)return r;for(var L=0;L<h.length;++L){var D=r[L],N=s[L],E=h[L],V=_l(Aa[E.type]),M;try{for(V.s();!(M=V.n()).done;){var _=M.value;E[_]=(1-A)*D[_]+A*N[_],(_==="largeArcFlag"||_==="sweepFlag")&&(E[_]=Math.round(E[_]))}}catch(B){V.e(B)}finally{V.f()}}return h}}function xl(e,t,a){var r=Ms(e),s=Ms(t),o=Za(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},u=o.excludeSegment,i=o.snapEndsToInput;if(!r.length&&!s.length)return function(){return""};var c=xu(r,s,{excludeSegment:u,snapEndsToInput:i});return function(h){if(h===1&&i)return t??"";var p=c(h),A="",L=_l(p),D;try{for(L.s();!(D=L.n()).done;){var N=D.value;A+=yu(N)}}catch(E){L.e(E)}finally{L.f()}return A}}var Ae;(function(e){e.Basis="basis",e.BasisClosed="basisClosed",e.BasisOpen="basisOpen",e.Bundle="bundle",e.Cardinal="cardinal",e.CardinalClosed="cardinalClosed",e.CardinalOpen="cardinalOpen",e.CatmullRom="catmullRom",e.CatmullRomClosed="catmullRomClosed",e.CatmullRomOpen="catmullRomOpen",e.Linear="linear",e.LinearClosed="linearClosed",e.MonotoneX="monotoneX",e.MonotoneY="monotoneY",e.Natural="natural",e.Step="step",e.StepAfter="stepAfter",e.StepBefore="stepBefore"})(Ae||(Ae={}));const Sn={[Ae.Basis]:Yo,[Ae.BasisClosed]:Go,[Ae.BasisOpen]:Xo,[Ae.Bundle]:Zo,[Ae.Cardinal]:Jo,[Ae.CardinalClosed]:Qo,[Ae.CardinalOpen]:eu,[Ae.CatmullRom]:tu,[Ae.CatmullRomClosed]:au,[Ae.CatmullRomOpen]:ru,[Ae.Linear]:qn,[Ae.LinearClosed]:nu,[Ae.MonotoneX]:su,[Ae.MonotoneY]:lu,[Ae.Natural]:iu,[Ae.Step]:ou,[Ae.StepAfter]:cu,[Ae.StepBefore]:uu},wu=Object.assign(Object.assign({},rr),{curveType:Ae.MonotoneX,lineWidth:2,lineDashArray:void 0,fallbackValue:void 0,highlightOnHover:!1,cursor:null,interpolateMissingData:!1}),Su=Ma`
  :root {
    --vis-line-cursor: default;
    --vis-line-stroke-dasharray: none;
    --vis-line-stroke-dashoffset: 0;

    --vis-line-gapfill-stroke-dasharray: 2 3;
    --vis-line-gapfill-stroke-opacity: 0.8;
    --vis-line-gapfill-stroke-dashoffset: 0;
  }
`,Cu=Se`
  label: line-component;
`,Ya=Se`
  label: line;
  transition: opacity 200ms;
  cursor: var(--vis-line-cursor);
`,Cn=Se`
  label: linePath;
  fill: none;
  stroke-dasharray: var(--vis-line-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-stroke-dashoffset);
`,An=Se`
  label: lineSelectionHelper;
  fill: none;
  stroke: rgba(0, 0, 0, 0);
  stroke-width: 8px;
`,Tn=Se`
  opacity: 0.2;
`,Vn=Se`
  label: interpolated-path;
  fill: none;
  stroke-dasharray: var(--vis-line-gapfill-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-gapfill-stroke-dashoffset);
  stroke-opacity: var(--vis-line-gapfill-stroke-opacity);
`,Au=Object.freeze(Object.defineProperty({__proto__:null,dim:Tn,globalStyles:Su,interpolatedPath:Vn,line:Ya,linePath:Cn,lineSelectionHelper:An,root:Cu},Symbol.toStringTag,{value:"Module"}));class Ur extends nr{constructor(t){super(),this._defaultConfig=wu,this.config=this._defaultConfig,this.curve=Sn[Ae.MonotoneX],this.events={[Ur.selectors.line]:{mouseover:this._highlight.bind(this),mouseleave:this._resetHighlight.bind(this)}},t&&this.setConfig(t)}get bleed(){const{config:{lineWidth:t}}=this,a=this.yScale.domain(),s=(this.yScale.range()[0]>this.yScale.range()[1]?da.North:da.South)===da.South,o=t>3,u=t>=10;return{top:!u&&(!s&&a[1]===0||s&&a[0]===0)?0:t/2,bottom:!u&&(!s&&a[0]===0||s&&a[1]===0)?0:t/2,left:o?t/2:0,right:o?t/2:0}}_render(t){super._render(t);const{config:a,datamodel:{data:r}}=this,s=Ca(t)?t:a.duration;this.curve=Sn[a.curveType],this.lineGen=il().x(p=>p.x).y(p=>p.y).defined(p=>p.defined).curve(this.curve);const o=zr(a.y)?a.y:[a.y],u=r.map((p,A)=>this.xScale(zt(p,a.x,A))),i=o.map(p=>{const A=r.map((V,M)=>{const _=zt(V,p,M),B=(Ca(_)||_===null)&&isFinite(_)?_:a.fallbackValue,K=a.interpolateMissingData?(Ca(_)||_===null)&&isFinite(_):isFinite(B);return{x:u[M],y:this.yScale(B??0),defined:K,value:B}}),L=A.reduce((V,M)=>M.defined||V,!1);let D=!1;const N=A.reduce((V,M,_)=>{!M.defined&&isFinite(a.fallbackValue)&&V.push(Object.assign(Object.assign({},M),{defined:!0})),!M.defined&&!D&&(D=!0);const B=_>0&&!A[_-1].defined||_<A.length-1&&!A[_+1].defined;return M.defined&&B&&(D||V.push(Object.assign(Object.assign({},M),{defined:!1})),V.push(M),D=!1),V},[]),E=L&&A.some(V=>V.value!==null);return{values:A,defined:L,gaps:N,visible:E}}),c=this.g.selectAll(`.${Ya}`).data(i),C=c.enter().append("g").attr("class",Ya);C.append("path").attr("class",Cn).attr("stroke",(p,A)=>qt(r,a.color,A)).attr("stroke-opacity",0).attr("stroke-width",a.lineWidth),C.append("path").attr("class",An).attr("d",this._emptyPath()),C.append("path").attr("class",Vn).attr("d",this._emptyPath()).style("opacity",0);const h=C.merge(c);h.style("cursor",(p,A)=>Qa(r,a.cursor,A)),h.each((p,A,L)=>{var D;const N=Va(L[A]),E=N.select(`.${Cn}`),V=N.select(`.${An}`),M=N.select(`.${Vn}`),_=p.visible,B=$i(r,a.lineDashArray,A),K=We(E,s).attr("stroke",qt(r,a.color,A)).attr("stroke-width",a.lineWidth).attr("stroke-opacity",_?1:0).style("stroke-dasharray",(D=B?.join(" "))!==null&&D!==void 0?D:null),X=p.values.some(ce=>!ce.defined),Q=this.lineGen(p.values);if(s&&!X){const ce=E.attr("d")||this._emptyPath(),W=Q||this._emptyPath();K.attrTween("d",()=>xl(ce,W))}else p.visible&&K.attr("d",Q);V.attr("d",Q).attr("visibility",_?null:"hidden"),X&&a.interpolateMissingData?We(M,s).attr("d",this.lineGen(p.gaps)).attr("stroke",qt(r,a.color,A)).attr("stroke-width",a.lineWidth-1).style("opacity",1):M.transition().duration(s).style("opacity",0)}),We(c.exit(),s).style("opacity",0).remove()}_emptyPath(){const t=this.xScale.range(),a=this.yScale.range();return`M${t[0]},${a[0]} L${t[1]},${a[0]}`}_highlight(t){const{config:a}=this;a.highlightOnHover&&this.g.selectAll(`.${Ya}`).classed(Tn,r=>r!==t)}_resetHighlight(){const{config:t}=this;t.highlightOnHover&&this.g.selectAll(`.${Ya}`).classed(Tn,!1)}}Ur.selectors=Au;const Tu=Object.assign(Object.assign({},rr),{color:void 0,groupMaxWidth:void 0,groupWidth:void 0,dataStep:void 0,groupPadding:.05,barPadding:0,roundedCorners:2,barMinHeight:2,cursor:null,orientation:Ys.Vertical}),wl=Se`
  label: grouped-bar-component;
`,Vu=Ma`
  :root {
    --vis-grouped-bar-cursor: default;
    --vis-grouped-bar-fill-color: var(--vis-color-main);
    --vis-grouped-bar-stroke-color: none;
    --vis-grouped-bar-stroke-width: 0px;
    --vis-grouped-bar-hover-stroke-width: 1px;
    --vis-grouped-bar-hover-stroke-color: none;


    /* Dark Theme */
    --vis-dark-grouped-bar-stroke-color: none;
  }

  body.theme-dark ${`.${wl}`} {
    --vis-grouped-bar-stroke-color: var(--vis-dark-grouped-bar-stroke-color);
  }
`,Tr=Se`
  label: bar;
  fill: var(--vis-grouped-bar-fill-color);
  stroke: var(--vis-grouped-bar-stroke-color);
  stroke-width: var(--vis-grouped-bar-stroke-width);
  cursor: var(--vis-grouped-bar-cursor);

  &:hover {
    stroke-width: var(--vis-grouped-bar-hover-stroke-width);
    stroke: var(--vis-grouped-bar-hover-stroke-color);
  }
`,Ln=Se`
  label: barGroup;
`,Sl=Se`
  label: barGroupExit;
`,Lu=Object.freeze(Object.defineProperty({__proto__:null,bar:Tr,barGroup:Ln,barGroupExit:Sl,globalStyles:Vu,root:wl},Symbol.toStringTag,{value:"Module"}));class Cl extends nr{constructor(t){super(),this._defaultConfig=Tu,this.config=this._defaultConfig,this.getAccessors=()=>zr(this.config.y)?this.config.y:[this.config.y],this.events={},this._barData=[],t&&this.setConfig(t)}get bleed(){if(this._barData=this._getVisibleData(),this._barData.length===0)return{top:0,bottom:0,left:0,right:0};const t=!this.isVertical()&&this.dataScale.range()[0]>this.dataScale.range()[1],a=this.dataScale.domain(),r=this._getGroupWidth()/2,s=this._barData.map((L,D)=>zt(L,this.config.x,D)),o=dn(s),u=Ri(s),i=this.dataScale(o),c=this.dataScale(u),C=this.dataScale.invert(i+(t?r:-r)),h=this.dataScale.invert(c+(t?-r:r)),p=C<=a[0]?this.dataScale(a[0])-this.dataScale(C):0,A=h>a[1]?this.dataScale(h)-this.dataScale(a[1]):0;return{top:this.isVertical()?0:t?-A:p,bottom:this.isVertical()?0:t?-p:A,left:this.isVertical()?p:0,right:this.isVertical()?A:0}}get dataScale(){return this.isVertical()?this.xScale:this.yScale}get valueScale(){return this.isVertical()?this.yScale:this.xScale}isVertical(){return this.config.orientation===Ys.Vertical}_render(t){const{config:a}=this,r=Ca(t)?t:a.duration,s=this._getGroupWidth(),o=this.getAccessors(),u=[-s/2,s/2],i=ji().domain(Ii(o.length)).range(u).paddingInner(a.barPadding).paddingOuter(a.barPadding),c=this.g.selectAll(`.${Ln}`).data(this._barData,(M,_)=>{var B;return`${(B=Qa(M,a.id,_))!==null&&B!==void 0?B:_}`}),C=(M,_)=>{const B=this.dataScale(zt(M,a.x,_)),K=this.isVertical()?B:0,X=this.isVertical()?0:B;return`translate(${K},${X})`},p=c.enter().append("g").attr("class",Ln).attr("transform",C).style("opacity",1).merge(c);We(p,r).attr("transform",C).style("opacity",1);const A=c.exit().attr("class",Sl);We(A,r).style("opacity",0).remove(),We(A.selectAll(`.${Tr}`),r).attr("transform",(M,_,B)=>this.isVertical()?`translate(0,${this.yScale(0)}) scale(1,0)`:`translate(${this.xScale(0)},0) scale(0,1)`);const L=i.bandwidth(),D=p.selectAll(`.${Tr}`).data(M=>o.map(()=>M)),N=this._getValueAxisDirection(),V=D.enter().append("path").attr("class",Tr).attr("d",(M,_)=>{const B=i(_),K=this.valueScale(0),X=L;return this._getBarPath(B,K,X,0,!1,N)}).style("fill",(M,_)=>qt(M,a.color,_)).merge(D);We(V,r).attr("d",(M,_)=>{const B=i(_),K=L,X=zt(M,o[_]),Q=X<0;let ce=Q?this.valueScale(0):this.valueScale(X||0),W=Math.abs(this.valueScale(0)-this.valueScale(X))||0;if(W<a.barMinHeight){const te=N===da.North?-1:1;ce=this.valueScale(0)+te*a.barMinHeight,W=a.barMinHeight}return this._getBarPath(B,ce,K,W,Q,N)}).style("fill",(M,_)=>qt(M,a.color,_)).style("cursor",(M,_)=>Qa(M,a.cursor,_)),We(D.exit(),r).remove()}_getValueAxisDirection(){return this.valueScale.range()[0]>this.valueScale.range()[1]?da.North:da.South}_getVisibleData(){const{config:t,datamodel:{data:a}}=this,r=this._getGroupWidth(),s=a.length<2?0:r/2,o=this.dataScale,u=Math.abs(o.invert(s)-o.invert(0));return a?.filter((c,C)=>{const h=zt(c,t.x,C),p=o.domain(),A=+p[0],L=+p[1];return h>=A-u&&h<=L+u})}_getBarPath(t,a,r,s,o,u){const{config:i}=this,c=i.roundedCorners?Ca(i.roundedCorners)?+i.roundedCorners:r/2:0,C=Ki(c,0,Math.min(s,r)/2),h=u===da.North,p=this.isVertical()&&o!==h,A=this.isVertical()&&o===h,L=!this.isVertical()&&o,D=!this.isVertical()&&!o;return Ni({x:this.isVertical()?t:a+(h?0:-s),y:this.isVertical()?a+(h?0:-s):t,w:this.isVertical()?r:s,h:this.isVertical()?s:r,tl:p||L,tr:p||D,bl:A||L,br:A||D,r:C})}_getGroupWidth(){const{config:t,datamodel:{data:a}}=this;if(Pi(a))return 0;if(t.groupWidth)return dn([t.groupWidth,t.groupMaxWidth]);const r=this.dataScale.bandwidth,s=this.dataScale.domain?this.dataScale.domain():[];let u=1+(r?s.length:s[1]-s[0])/t.dataStep||!r&&a.filter((C,h)=>{const p=zt(C,t.x,h);return p>=s[0]&&p<=s[1]}).length||a.length;!r&&u>=2&&(u+=1);const c=(u<2?1:1-t.groupPadding)*(this.isVertical()?this._width:this._height)/u;return dn([c,t.groupMaxWidth])}getValueScaleExtent(t){const{datamodel:a}=this,r=this.getAccessors(),s=t?this._getVisibleData():a.data,o=Ui(s,...r),u=qi(s,...r);return[o>0?0:o,u<0?0:u]}getDataScaleExtent(){const{config:t,datamodel:a}=this;return Hi(a.data,t.x)}getYDataExtent(t){return this.isVertical()?this.getValueScaleExtent(t):this.getDataScaleExtent()}getXDataExtent(){return this.isVertical()?this.getDataScaleExtent():this.getValueScaleExtent(!1)}}Cl.selectors=Lu;var wt;(function(e){e.Circle="circle",e.Cross="cross",e.Diamond="diamond",e.Square="square",e.Star="star",e.Triangle="triangle",e.Wye="wye"})(wt||(wt={}));const Mu={[wt.Circle]:ol,[wt.Cross]:Eo,[wt.Diamond]:Ro,[wt.Square]:Uo,[wt.Star]:Po,[wt.Triangle]:qo,[wt.Wye]:Ko},rt=Object.assign(Object.assign({},wt),{Line:"line"});var $r;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})($r||($r={}));const zu={items:[],labelClassName:"",onLegendItemClick:void 0,labelFontSize:null,labelMaxWidth:null,bulletSize:null,bulletSpacing:4,bulletShape:e=>{var t;return(t=e.shape)!==null&&t!==void 0?t:rt.Circle},orientation:$r.Horizontal,renderIntoProvidedDomNode:!1},Sr=Yi*3,Ou={[rt.Circle]:Math.PI/4,[rt.Cross]:5/9,[rt.Diamond]:Math.sqrt(3)/6,[rt.Square]:1,[rt.Star]:.3,[rt.Triangle]:Math.sqrt(3)/4,[rt.Wye]:5/11};function Al(e,t,a){return t<1?0:e*t+a*(t-1)}function Bu(e){e.each((t,a,r)=>{Va(r[a]).append("svg").attr("width","100%").attr("height","100%").append("path")})}function Du(e,t,a){e.each((r,s,o)=>{var u;const i=Qa(r,t.bulletShape,s),c=Wi((u=r.color)!==null&&u!==void 0?u:qt(r,a,s)),C=c.length,h=Sr,p=bn(getComputedStyle(o[s]).getPropertyValue("--vis-legend-bullet-size")),A=t.bulletSpacing*(Sr/p),L=Al(h,C,A),D=i===rt.Line?Sr/2.5:Sr,N=Va(o[s]).select("svg").attr("viewBox",`0 0 ${L} ${D}`);N.selectAll("path").remove();const E=r.inactive?"var(--vis-legend-bullet-inactive-opacity)":1;c.forEach((V,M)=>{const _=N.append("path");if(i===rt.Line){const B=M*(h+A),K=B+h;_.attr("d",`M${B},${D/2} L${K},${D/2}`).attr("transform",null).style("opacity",E).style("stroke",V).style("stroke-width","3px").style("fill",null).style("fill-opacity",null).style("marker-start","none").style("marker-end","none")}else{const B=Wo().type(Mu[i]).size(h*D*Ou[i]),K=(h-2)/h;let X=D/2;switch(i){case rt.Triangle:X+=D/8;break;case rt.Star:X+=D/16;break;case rt.Wye:X-=D/16;break}const Q=M*(h+A)+h/2;_.attr("d",B).attr("transform",`translate(${Q}, ${Math.round(X)}) scale(${K})`).style("stroke",V).style("stroke-width","1px").style("opacity",null).style("fill",V).style("fill-opacity",E)}})})}const Gn=Se`
  label: bullet-legend-component;
`,Fu=Ma`
  :root {
    // Undefined by default to allow proper fallback to var(--vis-font-family)
    /* --vis-legend-font-family: */

    --vis-legend-label-color: #6c778c;
    --vis-legend-label-max-width: 300px;
    --vis-legend-label-font-size: 12px;
    --vis-legend-bullet-size: 9px;
    --vis-legend-bullet-inactive-opacity: 0.15;
    --vis-legend-item-spacing: 20px;
    --vis-legend-vertical-item-spacing: 5px;
    --vis-legend-bullet-label-spacing: 8px;

    --vis-dark-legend-label-color: #eee;
  }

  body.theme-dark ${`.${Gn}`} {
    --vis-legend-label-color: var(--vis-dark-legend-label-color);
  }

  body.theme-patterns {
    --vis-legend-bullet-size: 14px;
  }
`,Vr=Se`
  label: legendItem;
  display: inline-flex;
  align-items: center;
  font-family: var(--vis-legend-font-family, var(--vis-font-family));
  margin-right: var(--vis-legend-item-spacing);
  white-space: nowrap;
  cursor: default;
  user-select: none;
  max-width: min-content;
`,Tl=Se`
  label: legendItemVertical;
  display: flex;
  margin-top: var(--vis-legend-vertical-item-spacing);
`,Vl=Se`
  cursor: pointer;
`,Mn=Se`
  label: legendItemLabel;
  font-size: var(--vis-legend-label-font-size);
  display: inline-block;
  vertical-align: middle;
  color: var(--vis-legend-label-color);
  max-width: var(--vis-legend-label-max-width);
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
`,zn=Se`
  flex: 0 0 auto;
  label: legendItemBullet;
  margin-right: var(--vis-legend-bullet-label-spacing);
  height: var(--vis-legend-bullet-size);
  width: var(--vis-legend-bullet-size);

  svg {
    display: block;
  }
`,Eu=Object.freeze(Object.defineProperty({__proto__:null,bullet:zn,clickable:Vl,item:Vr,itemVertical:Tl,label:Mn,root:Gn,variables:Fu},Symbol.toStringTag,{value:"Module"}));class Ll{constructor(t,a){this._defaultConfig=zu,this.config=this._defaultConfig,this._colorAccessor=r=>r.color,this._container=t,this.div=a?.renderIntoProvidedDomNode?Va(this._container):Va(this._container).append("div"),this.div.classed(Gn,!0),this.element=this.div.node(),a&&this.update(a)}update(t){this.prevConfig=this.config,this.config=Gi(this._defaultConfig,t),this.render()}render(){const{config:t}=this,a=this.div.selectAll(`.${Vr}`).data(t.items),r=a.enter().append("div").on("click",this._onItemClick.bind(this)),s=r.merge(a);s.attr("class",o=>{var u;return`${Vr} ${(u=o.className)!==null&&u!==void 0?u:""}`}).classed(Tl,t.orientation===$r.Vertical).classed(Vl,o=>!!t.onLegendItemClick&&this._isItemClickable(o)).attr("title",o=>o.name).style("display",o=>o.hidden?"none":null),r.append("span").attr("class",zn).call(Bu),s.select(`.${zn}`).style("width",function(o){const i=(Array.isArray(o.color)?o.color:[o.color]).length,c=bn(getComputedStyle(this).getPropertyValue("--vis-legend-bullet-size"))||9,C=t.bulletSize?bn(t.bulletSize):c,h=t.bulletSpacing;return`${Al(C,i,h)}px`}).style("height",t.bulletSize).style("box-sizing","content-box").call(Du,this.config,this._colorAccessor),r.append("span").attr("class",Mn).classed(t.labelClassName,!0).style("max-width",t.labelMaxWidth).style("font-size",t.labelFontSize),s.select(`.${Mn}`).text(o=>o.name),a.exit().remove()}_isItemClickable(t){return t.pointer===void 0?!0:t.pointer}_onItemClick(t,a){const{config:{onLegendItemClick:r}}=this,o=this.div.selectAll(`.${Vr}`).nodes().indexOf(t.currentTarget);r&&r(a,o)}destroy(){this.element!==this._container&&this.div.remove()}}Ll.selectors=Eu;var On;(function(e){e.Solid="solid",e.Dash="dash",e.DashDot="dashDot",e.Dot="dot",e.LongDash="longDash",e.LongDashDot="longDashDot",e.LongDashDotDot="longDashDotDot",e.ShortDash="shortDash",e.ShortDashDot="shortDashDot",e.ShortDashDotDot="shortDashDotDot",e.ShortDot="shortDot"})(On||(On={}));var ue;(function(e){e.TopLeft="top-left",e.Top="top",e.TopRight="top-right",e.Right="right",e.BottomRight="bottom-right",e.Bottom="bottom",e.BottomLeft="bottom-left",e.Left="left"})(ue||(ue={}));var Rr;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(Rr||(Rr={}));var U;(function(e){e.TopLeftInside="top-left-inside",e.TopLeftOutside="top-left-outside",e.TopInside="top-inside",e.TopOutside="top-outside",e.TopRightInside="top-right-inside",e.TopRightOutside="top-right-outside",e.RightInside="right-inside",e.RightOutside="right-outside",e.BottomRightInside="bottom-right-inside",e.BottomRightOutside="bottom-right-outside",e.BottomInside="bottom-inside",e.BottomOutside="bottom-outside",e.BottomLeftInside="bottom-left-inside",e.BottomLeftOutside="bottom-left-outside",e.LeftInside="left-inside",e.LeftOutside="left-outside"})(U||(U={}));var Bn;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(Bn||(Bn={}));const $u=Object.assign(Object.assign({},rr),{color:void 0,curveType:Ae.MonotoneX,baseline:()=>0,opacity:1,cursor:null,minHeight1Px:!1,minHeight:void 0}),Ml=Se`
  label: area-component;
`,Ru=Ma`
  :root {
    --vis-area-cursor: default;
    --vis-area-fill-opacity: 1;
    --vis-area-stroke-color: none;
    --vis-area-stroke-width: 0px;
    --vis-area-stroke-dasharray: none;
    --vis-area-stroke-opacity: 1;
    --vis-area-hover-fill-opacity: none;
    --vis-area-hover-stroke-width: none;

    /* Dark Theme */
    --vis-dark-area-stroke-color: none;
  }

  body.theme-dark ${`.${Ml}`} {
    --vis-area-stroke-color: var(--vis-dark-area-stroke-color);
  }

`,Dn=Se`
  label: area;
  cursor: var(--vis-area-cursor);
  fill-opacity: var(--vis-area-fill-opacity);
  stroke-width: var(--vis-area-stroke-width);
  stroke-dasharray: var(--vis-area-stroke-dasharray);
  stroke: var(--vis-area-stroke-color);
  stroke-opacity: var(--vis-area-stroke-opacity);

  &:hover {
    fill-opacity: var(--vis-area-hover-fill-opacity);
    stroke-width: var(--vis-area-hover-stroke-width);
  }
`,ju=Object.freeze(Object.defineProperty({__proto__:null,area:Dn,globalStyles:Ru,root:Ml},Symbol.toStringTag,{value:"Module"}));class qr extends nr{constructor(t){super(),this._defaultConfig=$u,this.config=this._defaultConfig,this.stacked=!0,this.events={[qr.selectors.area]:{}},t&&this.setConfig(t),this.stacked=Array.isArray(this.config.y)}_render(t){super._render(t);const{config:a,datamodel:{data:r}}=this,s=Ca(t)?t:a.duration,o=Sn[a.curveType];this._areaGen=Fo().x(E=>E.x).y0(E=>E.y0).y1(E=>E.y1).curve(o);const u=zr(a.y)?a.y:[a.y],i=r.map((E,V)=>this.xScale(zt(E,a.x,V))),c=Xi(r,a.baseline,u,this._prevNegative);this._prevNegative=c.map(E=>!!E.isMostlyNegative);const C=[],h=c.map(E=>E.map((V,M)=>{var _,B;const K=i[M],X=this.yScale(V[0]),Q=this.yScale(V[1]),ce=Q>X,W=C[M]||0,te=ce?X+W:X-W,Z=ce?Q+W:Q-W;let le=0;return(a.minHeight||a.minHeight1Px)&&Math.abs(Z-te)<((_=a.minHeight)!==null&&_!==void 0?_:1)&&(le=((B=a.minHeight)!==null&&B!==void 0?B:1)-Math.abs(Z-te),C[M]=W+le),{x:K,y0:te,y1:ce?Z+le:Z-le}})),p=h.length-1,A=h.reverse(),L=this.g.selectAll(`.${Dn}`).data(A),D=L.enter().append("path").attr("class",Dn).attr("d",E=>this._areaGen(E)||this._emptyPath()).style("opacity",0).style("fill",(E,V)=>qt(r,a.color,p-V)),N=We(D.merge(L),s).style("opacity",(E,V)=>E.some(_=>_.y0-_.y1!==0)?zt(r,a.opacity,p-V):0).style("fill",(E,V)=>qt(r,a.color,p-V)).style("cursor",(E,V)=>Qa(r,a.cursor,p-V));s?N.attrTween("d",(V,M,_)=>{const B=Va(_[M]).attr("d"),K=this._areaGen(V)||this._emptyPath();return xl(B,K)}):N.attr("d",E=>this._areaGen(E)||this._emptyPath()),We(L.exit(),s).style("opacity",0).remove()}getYDataExtent(t){const{config:a,datamodel:r}=this,s=zr(a.y)?a.y:[a.y],o=this.xScale.domain(),u=t?Zi(r.data,o,a.x,!0):r.data;return Ji(u,a.baseline,...s)}_emptyPath(){const t=this.xScale.range(),a=this.yScale.domain(),r=this.yScale((a[0]+a[1])/2),s=r;return this._areaGen([{y0:r,y1:s,x:t[0]},{y0:r,y1:s,x:t[1]}])}}qr.selectors=ju;const Iu={[U.TopLeftOutside]:({startX:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[U.TopLeftInside]:({startX:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[U.TopOutside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[U.TopInside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[U.TopRightOutside]:({startX:e,width:t,offsetX:a,offsetY:r})=>({x:e+t+a,y:r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[U.TopRightInside]:({startX:e,width:t,offsetX:a,offsetY:r})=>({x:e+t-a,y:r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[U.RightOutside]:({startX:e,width:t,height:a,offsetX:r})=>({x:e+t+r,y:a/2,textAnchor:"start",dominantBaseline:"middle"}),[U.RightInside]:({startX:e,width:t,height:a,offsetX:r})=>({x:e+t-r,y:a/2,textAnchor:"end",dominantBaseline:"middle"}),[U.BottomRightOutside]:({startX:e,width:t,height:a,offsetX:r,offsetY:s})=>({x:e+t+r,y:a-s,textAnchor:"start",dominantBaseline:"text-after-edge"}),[U.BottomRightInside]:({startX:e,width:t,height:a,offsetX:r,offsetY:s})=>({x:e+t-r,y:a-s,textAnchor:"end",dominantBaseline:"text-after-edge"}),[U.BottomOutside]:({startX:e,width:t,height:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[U.BottomInside]:({startX:e,width:t,height:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[U.BottomLeftOutside]:({startX:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[U.BottomLeftInside]:({startX:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[U.LeftOutside]:({startX:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"end",dominantBaseline:"middle"}),[U.LeftInside]:({startX:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"start",dominantBaseline:"middle"})},Nu={[U.TopLeftOutside]:({startX:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-after-edge"}),[U.TopLeftInside]:({startX:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[U.TopOutside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"end",dominantBaseline:"middle"}),[U.TopInside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"end",dominantBaseline:"middle"}),[U.TopRightOutside]:({startX:e,width:t,offsetX:a,offsetY:r})=>({x:e+t+a,y:r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[U.TopRightInside]:({startX:e,width:t,offsetX:a,offsetY:r})=>({x:e+t-a,y:r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[U.RightOutside]:({startX:e,width:t,height:a,offsetX:r})=>({x:e+t+r,y:a/2,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[U.RightInside]:({startX:e,width:t,height:a,offsetX:r})=>({x:e+t-r,y:a/2,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[U.BottomRightOutside]:({startX:e,width:t,height:a,offsetX:r,offsetY:s})=>({x:e+t+r,y:a-s,textAnchor:"start",dominantBaseline:"text-before-edge"}),[U.BottomRightInside]:({startX:e,width:t,height:a,offsetX:r,offsetY:s})=>({x:e+t-r,y:a-s,textAnchor:"start",dominantBaseline:"text-after-edge"}),[U.BottomOutside]:({startX:e,width:t,height:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"start",dominantBaseline:"middle"}),[U.BottomInside]:({startX:e,width:t,height:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"start",dominantBaseline:"middle"}),[U.BottomLeftOutside]:({startX:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[U.BottomLeftInside]:({startX:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[U.LeftOutside]:({startX:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[U.LeftInside]:({startX:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"middle",dominantBaseline:"text-before-edge"})},Pu={[U.TopLeftOutside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e-a,textAnchor:"start",dominantBaseline:"text-after-edge"}),[U.TopLeftInside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e+a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[U.TopOutside]:({startX:e,width:t,startY:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[U.TopInside]:({startX:e,width:t,startY:a,offsetY:r})=>({x:e+t/2,y:a+r,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[U.TopRightOutside]:({startY:e,width:t,offsetX:a,offsetY:r})=>({x:t-a,y:e-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[U.TopRightInside]:({startY:e,width:t,offsetX:a,offsetY:r})=>({x:t-a,y:e+r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[U.RightOutside]:({startY:e,height:t,width:a,offsetX:r})=>({x:a-r,y:e+t/2,textAnchor:"end",dominantBaseline:"middle"}),[U.RightInside]:({startY:e,height:t,width:a,offsetX:r})=>({x:a-r,y:e+t/2,textAnchor:"end",dominantBaseline:"middle"}),[U.BottomRightOutside]:({startY:e,height:t,width:a,offsetX:r,offsetY:s})=>({x:a-r,y:e+t+s,textAnchor:"end",dominantBaseline:"text-before-edge"}),[U.BottomRightInside]:({startY:e,height:t,width:a,offsetX:r,offsetY:s})=>({x:a-r,y:e+t-s,textAnchor:"end",dominantBaseline:"text-after-edge"}),[U.BottomOutside]:({startX:e,width:t,startY:a,height:r,offsetY:s})=>({x:e+t/2,y:a+r+s,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[U.BottomInside]:({startX:e,width:t,startY:a,height:r,offsetY:s})=>({x:e+t/2,y:a+r-s,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[U.BottomLeftOutside]:({startY:e,height:t,offsetX:a,offsetY:r})=>({x:a,y:e+t+r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[U.BottomLeftInside]:({startY:e,height:t,offsetX:a,offsetY:r})=>({x:a,y:e+t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[U.LeftOutside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"start",dominantBaseline:"middle"}),[U.LeftInside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"start",dominantBaseline:"middle"})},Uu={[U.TopLeftOutside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e-a,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[U.TopLeftInside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e+a,textAnchor:"end",dominantBaseline:"text-before-edge",rotation:-90}),[U.TopOutside]:({startX:e,width:t,startY:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"end",dominantBaseline:"middle",rotation:-90}),[U.TopInside]:({startX:e,width:t,startY:a,offsetY:r})=>({x:e+t/2,y:a+r,textAnchor:"end",dominantBaseline:"middle",rotation:-90}),[U.TopRightOutside]:({startY:e,width:t,offsetX:a,offsetY:r})=>({x:t-a,y:e-r,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[U.TopRightInside]:({startY:e,width:t,offsetX:a,offsetY:r})=>({x:t-a,y:e+r,textAnchor:"end",dominantBaseline:"text-after-edge",rotation:-90}),[U.RightOutside]:({startY:e,height:t,width:a,offsetX:r})=>({x:a-r,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-after-edge",rotation:-90}),[U.RightInside]:({startY:e,height:t,width:a,offsetX:r})=>({x:a-r,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-after-edge",rotation:-90}),[U.BottomRightOutside]:({startY:e,height:t,width:a,offsetX:r,offsetY:s})=>({x:a-r,y:e+t+s,textAnchor:"start",dominantBaseline:"text-before-edge",rotation:-90}),[U.BottomRightInside]:({startY:e,height:t,width:a,offsetX:r,offsetY:s})=>({x:a-r,y:e+t-s,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[U.BottomOutside]:({startX:e,width:t,startY:a,height:r,offsetY:s})=>({x:e+t/2,y:a+r+s,textAnchor:"start",dominantBaseline:"middle",rotation:-90}),[U.BottomInside]:({startX:e,width:t,startY:a,height:r,offsetY:s})=>({x:e+t/2,y:a+r-s,textAnchor:"start",dominantBaseline:"middle",rotation:-90}),[U.BottomLeftOutside]:({startY:e,height:t,offsetX:a,offsetY:r})=>({x:a,y:e+t+r,textAnchor:"end",dominantBaseline:"text-before-edge",rotation:-90}),[U.BottomLeftInside]:({startY:e,height:t,offsetX:a,offsetY:r})=>({x:a,y:e+t-r,textAnchor:"start",dominantBaseline:"text-before-edge",rotation:-90}),[U.LeftOutside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-before-edge",rotation:-90}),[U.LeftInside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-before-edge",rotation:-90})},qu=Object.assign(Object.assign({},rr),{axis:er.Y,from:0,to:0,color:void 0,duration:300,labelPosition:U.TopLeftOutside,labelOffsetX:14,labelOffsetY:14,labelOrientation:Bn.Horizontal}),Hu=Ma`
  :root {
    --vis-plotband-color: rgba(255, 255, 90, 0.2);
    --vis-plotband-label-font-size: 12px;
    --vis-plotband-label-color: #000;

    --vis-dark-plotband-color: rgba(220, 220, 90, 0.2);
    --vis-dark-plotband-label-color: #e5e9f7;
  }

  body.theme-dark {
    --vis-plotband-color: var(--vis-dark-plotband-color);
    --vis-plotband-label-color: var(--vis-dark-tooltip-text-color);
  }
`,Ku=Se`
  label: plotband-component;
`,zl=Se`
  label: plotband-area;
  transition: opacity 200ms;
  cursor: var(--vis-line-cursor);
  fill: var(--vis-plotband-color);
`,Ol=Se`
  label: plotline-label;

  user-select: none;
  text-anchor: middle;
  pointer-events: none;
  font-size: var(--vis-plotband-label-font-size);
  fill: var(--vis-plotband-label-color);
`,Wu=Object.freeze(Object.defineProperty({__proto__:null,globalStyles:Hu,label:Ol,plotband:zl,root:Ku},Symbol.toStringTag,{value:"Module"}));class Bl extends nr{constructor(t){super(),this._defaultConfig=qu,t&&this.setConfig(t),this.plotband=this.g.append("rect").attr("class",zl),this.label=this.g.append("text").attr("class",Ol)}_render(t){super._render(t);const{config:a}=this;if(this.from=a.from,this.to=a.to,this.plotband.style("fill",a.color),this.from==null||this.to==null)return;let r=0,s=0,o=0,u=0;if(a.axis==="y"){const i=this.yScale(this.from),c=this.yScale(this.to);s=Math.min(i,c),u=Math.abs(i-c),r=0,o=this._width}else{const i=this.xScale(this.from),c=this.xScale(this.to);r=Math.min(i,c),o=Math.abs(i-c),s=0,u=this._height}if(We(this.plotband,a.duration).attr("x",r).attr("y",s).attr("width",o).attr("height",u),a.labelText){const i=this.computeLabel(a.axis,r,s,o,u,a.labelPosition,a.labelOffsetX,a.labelOffsetY,a.labelOrientation);this.label.attr("dominant-baseline",i.dominantBaseline).attr("transform",i.transform).style("text-anchor",i.textAnchor).style("fill",a.labelColor).style("font-size",a.labelSize?`${a.labelSize}px`:void 0),We(this.label,a.duration).text(a.labelText).attr("x",i.x).attr("y",i.y)}We(this.plotband.exit()).style("opacity",0).remove()}computeLabel(t,a,r,s,o,u,i,c,C){const h=C==="vertical",p=h?-90:0,A={startX:a,startY:r,width:s,height:o,offsetX:i,offsetY:c};let L;t===er.X?L=(h?Nu:Iu)[u](A):L=(h?Uu:Pu)[u](A);const{x:D,y:N,textAnchor:E,dominantBaseline:V}=L,M=p!==0?`rotate(${p}, ${D}, ${N})`:"";return{x:D,y:N,rotation:p,textAnchor:E,transform:M,dominantBaseline:V}}}Bl.selectors=Wu;const Yu={solid:"none",shortDash:"6,2",shortDot:"2,2",shortDashDot:"6,2,2,2",shortDashDotDot:"6,2,2,2,2,2",dot:"2,6",dash:"8,6",longDash:"16,6",dashDot:"8,6,2,6",longDashDot:"16,6,2,6",longDashDotDot:"16,6,2,6,2,6"},Gu={[ue.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[ue.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[ue.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[ue.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"start",dominantBaseline:"middle"}),[ue.BottomRight]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[ue.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[ue.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[ue.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"end",dominantBaseline:"middle"})},Xu={[ue.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-after-edge"}),[ue.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"end",dominantBaseline:"middle"}),[ue.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[ue.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[ue.BottomRight]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[ue.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"middle"}),[ue.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[ue.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"middle",dominantBaseline:"text-after-edge"})},Zu={[ue.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-after-edge"}),[ue.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[ue.TopRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[ue.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"middle"}),[ue.BottomRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a+r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[ue.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[ue.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[ue.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"start",dominantBaseline:"middle"})},Ju={[ue.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[ue.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"start",dominantBaseline:"central"}),[ue.TopRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[ue.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[ue.BottomRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a+r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[ue.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"end",dominantBaseline:"central"}),[ue.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[ue.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"})},Qu=Object.assign(Object.assign({},rr),{lineWidth:2,axis:er.Y,value:0,duration:300,color:void 0,lineStyle:On.Solid,labelPosition:ue.TopRight,labelOffsetX:14,labelOffsetY:14,labelOrientation:Rr.Horizontal}),ec=Ma`
  :root {
    --vis-plotline-color: rgb(226, 32, 58);
    --vis-plotline-width: 2;
    --vis-plotline-dasharray: none;
    --vis-plotline-stroke-dashoffset: 0;
    --vis-plotline-label-font-size: 12px;
    --vis-plotline-label-color: #000;

    --vis-dark-plotline-label-color: #e5e9f7;
  }

  body.theme-dark {
    --vis-plotline-label-color: var(--vis-dark-tooltip-text-color);
  }
`,tc=Se`
  label: plotline-component;
`,Dl=Se`
  label: plotline;
  transition: opacity 200ms;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke: var(--vis-plotline-color);
  stroke-width: var(--vis-plotline-width);
  stroke-dasharray: var(--vis-plotline-dasharray);
  stroke-dashoffset: var(--vis-plotline-stroke-dashoffset);
`,Fl=Se`
  label: plotline-label;
  text-anchor: middle;
  /* dominant-baseline: middle; */
  pointer-events: none;
  font-size: var(--vis-plotline-label-font-size);
  fill: var(--vis-plotline-label-color);
`,ac=Object.freeze(Object.defineProperty({__proto__:null,globalStyles:ec,label:Fl,plotline:Dl,root:tc},Symbol.toStringTag,{value:"Module"}));class El extends nr{constructor(t){super(),this._defaultConfig=Qu,t&&this.setConfig(t),this.plotline=this.g.append("line").attr("class",Dl),this.label=this.g.append("text").attr("class",Fl)}_render(t){super._render(t);const{config:a}=this;this.value=a.value;let r;typeof a?.lineStyle=="string"?r=Yu[a.lineStyle]:Array.isArray(a.lineStyle)?r=a.lineStyle.join(","):r="none",this.value=a.value,this.plotline.attr("stroke-opacity",1).style("stroke-width",a.lineWidth).style("stroke-dasharray",r).style("stroke",a.color);let s=0,o=0,u=0,i=0;if(a.axis===er.Y?(u=this.yScale(this.value),i=this.yScale(this.value),s=0,o=this._width):(u=0,i=this._height,s=this.xScale(this.value),o=this.xScale(this.value)),We(this.plotline,a.duration).attr("x1",s).attr("x2",o).attr("y1",u).attr("y2",i),a.labelText){const c=this.computeLabel(a.axis,o,i,a.labelPosition,a.labelOffsetX,a.labelOffsetY,a.labelOrientation);this.label.text(a.labelText).attr("transform",c.transform).attr("dominant-baseline",c.dominantBaseline).style("fill",a.labelColor).style("text-anchor",c.textAnchor).style("font-size",a.labelSize?`${a.labelSize}px`:void 0),We(this.label,a.duration).attr("x",c.x).attr("y",c.y)}We(this.plotline.exit()).style("opacity",0).remove()}computeLabel(t,a,r,s,o,u,i){const c=i===Rr.Vertical,C=c?-90:0;let h;t===er.X?h=(c?Xu:Gu)[s]({width:a,height:r,offsetX:o,offsetY:u}):h=(c?Ju:Zu)[s]({width:a,height:r,offsetX:o,offsetY:u});const p=C?`rotate(${C}, ${h.x}, ${h.y})`:"";return Object.assign(Object.assign({},h),{rotation:C,transform:p})}}El.selectors=ac;const rc={"data-vis-component":""},Cr=Ee({__name:"index",props:{color:{},curveType:{},baseline:{},opacity:{},cursor:{},minHeight1Px:{type:Boolean},minHeight:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=ar(sr),r=e,s=v(()=>a.data.value??r.data),o=za(r),u=O();return mt(()=>{Bt(()=>{var i;u.value=new qr(o.value),(i=u.value)==null||i.setData(s.value),a.update(u.value)})}),Ot(()=>{var i;(i=u.value)==null||i.destroy(),a.destroy()}),se(o,(i,c)=>{var C;Oa(i,c)||(C=u.value)==null||C.setConfig(o.value)}),se(s,()=>{var i;(i=u.value)==null||i.setData(s.value)}),t({component:u}),(i,c)=>(b(),R("div",rc))}}),nc={"data-vis-component":""},sc=Ee({__name:"index",props:{color:{},groupWidth:{},groupMaxWidth:{},dataStep:{},groupPadding:{},barPadding:{},roundedCorners:{type:[Number,Boolean]},barMinHeight:{},cursor:{},orientation:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=ar(sr),r=e,s=v(()=>a.data.value??r.data),o=za(r),u=O();return mt(()=>{Bt(()=>{var i;u.value=new Cl(o.value),(i=u.value)==null||i.setData(s.value),a.update(u.value)})}),Ot(()=>{var i;(i=u.value)==null||i.destroy(),a.destroy()}),se(o,(i,c)=>{var C;Oa(i,c)||(C=u.value)==null||C.setConfig(o.value)}),se(s,()=>{var i;(i=u.value)==null||i.setData(s.value)}),t({component:u}),(i,c)=>(b(),R("div",nc))}}),lc={"data-vis-component":""},zs=Ee({__name:"index",props:{color:{},curveType:{},lineWidth:{},lineDashArray:{},fallbackValue:{},highlightOnHover:{type:Boolean},cursor:{},interpolateMissingData:{type:Boolean},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=ar(sr),r=e,s=v(()=>a.data.value??r.data),o=za(r),u=O();return mt(()=>{Bt(()=>{var i;u.value=new Ur(o.value),(i=u.value)==null||i.setData(s.value),a.update(u.value)})}),Ot(()=>{var i;(i=u.value)==null||i.destroy(),a.destroy()}),se(o,(i,c)=>{var C;Oa(i,c)||(C=u.value)==null||C.setConfig(o.value)}),se(s,()=>{var i;(i=u.value)==null||i.setData(s.value)}),t({component:u}),(i,c)=>(b(),R("div",lc))}}),ic={"data-vis-component":""},mn=Ee({__name:"index",props:{color:{},axis:{},from:{},to:{},duration:{},labelText:{},labelPosition:{},labelOffsetX:{},labelOffsetY:{},labelOrientation:{},labelColor:{},labelSize:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=ar(sr),r=za(e),s=O();return mt(()=>{Bt(()=>{s.value=new Bl(r.value),a.update(s.value)})}),Ot(()=>{var o;(o=s.value)==null||o.destroy(),a.destroy()}),se(r,(o,u)=>{var i;Oa(o,u)||(i=s.value)==null||i.setConfig(r.value)}),t({component:s}),(o,u)=>(b(),R("div",ic))}}),oc={"data-vis-component":""},Ar=Ee({__name:"index",props:{color:{},lineWidth:{},axis:{},value:{},duration:{},lineStyle:{},labelText:{},labelPosition:{},labelOffsetX:{},labelOffsetY:{},labelOrientation:{},labelColor:{},labelSize:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=ar(sr),r=za(e),s=O();return mt(()=>{Bt(()=>{s.value=new El(r.value),a.update(s.value)})}),Ot(()=>{var o;(o=s.value)==null||o.destroy(),a.destroy()}),se(r,(o,u)=>{var i;Oa(o,u)||(i=s.value)==null||i.setConfig(r.value)}),t({component:s}),(o,u)=>(b(),R("div",oc))}}),uc=Ee({__name:"index",props:{items:{},labelClassName:{},onLegendItemClick:{type:Function},labelFontSize:{},labelMaxWidth:{},bulletSize:{},bulletSpacing:{},bulletShape:{},orientation:{},renderIntoProvidedDomNode:{type:Boolean},data:{}},setup(e,{expose:t}){const a=e;v(()=>a.data);const r=za(a),s=O(),o=O();return mt(()=>{Bt(()=>{o.value&&(s.value=new Ll(o.value,{...r.value,renderIntoProvidedDomNode:!0}))})}),Ot(()=>{var u;(u=s.value)==null||u.destroy()}),se(r,(u,i)=>{var c;Oa(u,i)||(c=s.value)==null||c.update(r.value)}),t({component:s}),(u,i)=>(b(),R("div",{"data-vis-bullet-legend":"",ref_key:"elRef",ref:o},null,512))}});var cc=typeof global=="object"&&global&&global.Object===Object&&global,dc=typeof self=="object"&&self&&self.Object===Object&&self,vc=cc||dc||Function("return this")(),La=vc.Symbol,$l=Object.prototype,fc=$l.hasOwnProperty,mc=$l.toString,Wa=La?La.toStringTag:void 0;function pc(e){var t=fc.call(e,Wa),a=e[Wa];try{e[Wa]=void 0;var r=!0}catch{}var s=mc.call(e);return r&&(t?e[Wa]=a:delete e[Wa]),s}var hc=Object.prototype,gc=hc.toString;function bc(e){return gc.call(e)}var yc="[object Null]",kc="[object Undefined]",Os=La?La.toStringTag:void 0;function _c(e){return e==null?e===void 0?kc:yc:Os&&Os in Object(e)?pc(e):bc(e)}function xc(e){return e!=null&&typeof e=="object"}var wc="[object Symbol]";function Sc(e){return typeof e=="symbol"||xc(e)&&_c(e)==wc}function Cc(e,t){for(var a=-1,r=e==null?0:e.length,s=Array(r);++a<r;)s[a]=t(e[a],a,e);return s}var Ac=Array.isArray,Bs=La?La.prototype:void 0,Ds=Bs?Bs.toString:void 0;function Rl(e){if(typeof e=="string")return e;if(Ac(e))return Cc(e,Rl)+"";if(Sc(e))return Ds?Ds.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function jl(e){return e==null?"":Rl(e)}function Tc(e,t,a){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),a=a>s?s:a,a<0&&(a+=s),s=t>a?0:a-t>>>0,t>>>=0;for(var o=Array(s);++r<s;)o[r]=e[r+t];return o}function Vc(e,t,a){var r=e.length;return a=a===void 0?r:a,!t&&a>=r?e:Tc(e,t,a)}var Lc="\\ud800-\\udfff",Mc="\\u0300-\\u036f",zc="\\ufe20-\\ufe2f",Oc="\\u20d0-\\u20ff",Bc=Mc+zc+Oc,Dc="\\ufe0e\\ufe0f",Fc="\\u200d",Ec=RegExp("["+Fc+Lc+Bc+Dc+"]");function Il(e){return Ec.test(e)}function $c(e){return e.split("")}var Nl="\\ud800-\\udfff",Rc="\\u0300-\\u036f",jc="\\ufe20-\\ufe2f",Ic="\\u20d0-\\u20ff",Nc=Rc+jc+Ic,Pc="\\ufe0e\\ufe0f",Uc="["+Nl+"]",Fn="["+Nc+"]",En="\\ud83c[\\udffb-\\udfff]",qc="(?:"+Fn+"|"+En+")",Pl="[^"+Nl+"]",Ul="(?:\\ud83c[\\udde6-\\uddff]){2}",ql="[\\ud800-\\udbff][\\udc00-\\udfff]",Hc="\\u200d",Hl=qc+"?",Kl="["+Pc+"]?",Kc="(?:"+Hc+"(?:"+[Pl,Ul,ql].join("|")+")"+Kl+Hl+")*",Wc=Kl+Hl+Kc,Yc="(?:"+[Pl+Fn+"?",Fn,Ul,ql,Uc].join("|")+")",Gc=RegExp(En+"(?="+En+")|"+Yc+Wc,"g");function Xc(e){return e.match(Gc)||[]}function Zc(e){return Il(e)?Xc(e):$c(e)}function Jc(e){return function(t){t=jl(t);var a=Il(t)?Zc(t):void 0,r=a?a[0]:t.charAt(0),s=a?Vc(a,1).join(""):t.slice(1);return r[e]()+s}}var Qc=Jc("toUpperCase");function Fs(e){return Qc(jl(e).toLowerCase())}const ed={key:1,class:"mx-1.5 flex flex-wrap gap-0 gap-y-1"},td=Ee({__name:"ForestryChartDisplay",props:{selectedFrameworks:{default:()=>[]},selectedArtkategori:{},chartType:{},currentTimeValue:{},singleFrameworkSelection:{type:Boolean,default:!1},frameworkComparisonMode:{type:Boolean,default:!1},selectedStartskog:{},redColor:{type:Boolean,default:!1},yellowColor:{type:Boolean,default:!1},maxYValue:{},matsvampVariant:{default:"standard"},relativeChart:{type:Boolean,default:!1}},async setup(e){let t,a;const r={matsvamp:"Alla matsvampar","goda matsvampar":"Goda matsvampar","rdlistade + signalarter":"Signal + rdlistade",atheliales:"Atheliales",boletales:"Boletales",cantharellales:"Cantharellales",spindlingar:"Cortinariaceae",russulales:"Russulales",thelephorales:"Thelephorales",ascomycota:"Ascomyceter",vriga:"vriga"},s={trakthygge:"trakthygge",bldning:"bldning",luckhuggning:"luckhuggning",skrm:"skrmtrd",skarm:"skrmtrd","ingen tgrd":"naturskydd"};function o(d){const g=(d||"").trim().toLowerCase();return g?s[g]||g:""}function u(d){return typeof d=="string"?d:typeof d=="number"?String(d):""}function i(d){if(typeof d=="number")return d;if(typeof d=="string"){const g=d.replace(",","."),w=Number(g);return Number.isFinite(w)?w:NaN}return NaN}const{data:c}=([t,a]=ua(()=>Ut("skogsbruk-svampar",()=>ca("skogsbrukSvampar").first())),t=await t,a(),t);function C(d){return d?Array.isArray(d)?d:Array.isArray(d?.entries)?d.entries:Array.isArray(d?.body)?d.body:Array.isArray(d?.data)?d.data:[]:[]}const h=v(()=>C(c.value)),p=v(()=>{const d={};for(const g of h.value){const w=o(String(g?.metod??"")),S=u(g?.startskog),x=i(g?.lder);if(!(!Number.isFinite(x)||!w))for(const[$,Y]of Object.entries(r)){const J=i(g?.[Y]);Number.isFinite(J)&&(d[$]||(d[$]=[]),d[$].push({artkategori:$,startskog:S,frameworks:w,lder:x,klassning:J}))}}return Object.values(d).forEach(g=>g.sort((w,S)=>w.lder-S.lder)),d}),{data:A}=([t,a]=ua(()=>Ut("kg-matsvamp-skogsbruk",()=>ca("kgMatsvampSkogsbruk").first())),t=await t,a(),t),{data:L}=([t,a]=ua(()=>Ut("total-svampar-skogsbruk",()=>ca("totalSvamparSkogsbruk").first())),t=await t,a(),t),D=v(()=>p.value.matsvamp??[]),N=v(()=>p.value["goda matsvampar"]??[]),E=v(()=>Array.isArray(A.value?.entries)?A.value.entries:[]),V=v(()=>p.value["rdlistade + signalarter"]??[]),M=v(()=>V.value),_=v(()=>p.value.atheliales??[]),B=v(()=>p.value.boletales??[]),K=v(()=>p.value.cantharellales??[]),X=v(()=>p.value.spindlingar??[]),Q=v(()=>p.value.russulales??[]),ce=v(()=>p.value.ascomycota??[]),W=v(()=>p.value.thelephorales??[]),te=v(()=>p.value.vriga??[]),Z=v(()=>Array.isArray(L.value?.entries)?L.value.entries:[]),{data:le}=([t,a]=ua(()=>Ut("svampgrupper-relative-skogsbruk",()=>ca("svampgrupperRelativeSkogsbruk").first())),t=await t,a(),t),ge=["atheliales","boletales","cantharellales","spindlingar","russulales","thelephorales","ascomycota","vriga"],oe=v(()=>{const d=Array.isArray(le.value?.entries)?le.value.entries:[],g=new Map;for(const S of d){if(!S)continue;const x=Number(S?.lder);if(!Number.isFinite(x))continue;const $=g.get(x)||{age:x};if(typeof S.artkategori=="string"&&S.klassning!==void 0){const Y=$a(S.artkategori),J=Number(S.klassning);Y&&Number.isFinite(J)&&($[Y]=J)}else for(const Y of ge){const J=r[Y],Fe=S?.[J];if(Fe==null)continue;const re=Number(Fe);Number.isFinite(re)&&($[Y]=re)}g.set(x,$)}return Array.from(g.values()).map(S=>{for(const x of ge)Number.isFinite(Number(S[x]))||(S[x]=0);return S}).sort((S,x)=>Number(S.age)-Number(x.age))}),be=v(()=>{const d=Number(z.maxYValue);if(Fa.value){if(Number.isFinite(d))return[0,d*2];const g=Array.isArray(Be.value)?Be.value:[];let w=0;for(const S of g){const x=ne.value[0]||(z.selectedArtkategori[0]?.toLowerCase()??"");if(!x)continue;const $=Number(S?.[x]);Number.isFinite($)&&$>w&&(w=$)}return[0,w*2||1]}return Number.isFinite(d)?[0,d]:void 0}),Be=v(()=>z.relativeChart?oe.value:z.chartType==="bar"?Xt.value:z.singleFrameworkSelection&&z.frameworkComparisonMode?Yr.value:Kr.value),Re=v(()=>{const g=(z.relativeChart?oe.value:Be.value).map(S=>Number(S?.age)).filter(S=>Number.isFinite(S));return g.length?[z.relativeChart?Math.max(0,Math.min(...g)):Math.min(...g),Math.max(...g)]:[0,1]}),$e=v(()=>{const d=oe.value.map(x=>Number(x?.age)).filter(x=>Number.isFinite(x));if(!d.length)return[0,50,100,150,200];const g=Math.max(...d);if(g<=80)return[0,20,50,80];const w=[0],S=50;for(let x=S;x<=g;x+=S)w.push(x);return w[w.length-1]!==g&&w.push(g),w}),je=v(()=>z.relativeChart?$e.value:[0,10,20,30,40,50,60,70,80,90]),Me=d=>z.relativeChart?d===0?"0 r":$e.value.includes(d)?`${d} r`:"":d===0?"Avverkning":d===10?"":d===20?(_e.value,"20 r"):d===30||d===40?"":d===50?(_e.value,"50 r"):d===60||d===70?"":d===80?(_e.value,"80 r"):"";v(()=>[(z.selectedFrameworks||[]).join(","),z.selectedStartskog||"",z.chartType||"",z.singleFrameworkSelection?"S":"M",z.currentTimeValue||""].join("|"));const ye=v(()=>Array.isArray(Be.value)&&Be.value.length>0),ne=v(()=>{if(!z.singleFrameworkSelection)return[];if(z.frameworkComparisonMode){const S=z.selectedArtkategori?.[0];return S?[S.toLowerCase()]:[]}const d=(z.selectedArtkategori||[]).map(S=>(S||"").toLowerCase()).filter(S=>!fe.value.has(S)),g=De.filter(S=>d.includes(S)),w=d.filter(S=>!De.includes(S));return g.concat(w)}),Ve={left:10,right:10,top:10,bottom:10},H=O(null),ee=O(!1);let ve=null;const Ce=Sa({width:0,height:0}),_e=O(!1);function Le(){if(!H.value){Ce.width=0,Ce.height=0;return}const d=H.value.getBoundingClientRect();Ce.width=d.width,Ce.height=d.height,ft()}function ft(){typeof window>"u"||(_e.value=window.innerWidth<=640)}mt(async()=>{await Bt(),ee.value=!0,Le(),ft(),requestAnimationFrame(()=>{Le()}),typeof window<"u"&&"ResizeObserver"in window&&(ve=new ResizeObserver(()=>{Le()}),H.value&&ve.observe(H.value))}),qs(()=>{ve&&(ve.disconnect(),ve=null)});const fe=O(new Set),Ue=O(new Set),Da=v(()=>z.frameworkComparisonMode||z.singleFrameworkSelection),z=e,Ge=v(()=>z.matsvampVariant==="goda"?"goda":z.matsvampVariant==="kg"?"kg":"standard"),lr=v(()=>Ge.value==="goda"?"goda matsvampar":Ge.value==="kg"?"kg matsvamp":"matsvamp"),Fa=v(()=>(z.selectedArtkategori||[]).map(g=>(g||"").toLowerCase()).includes("matsvamp")&&Ge.value==="kg"),ma=d=>d,pa=d=>g=>{if(!Fa.value)return NaN;const w=Number(g?.[d]);return Number.isFinite(w)?w*2:NaN},nt=(d,g)=>{const w=Number(d?.[g]);return Number.isFinite(w)?ma(w):NaN},Ft=(d,g)=>{const w=Number(d?.[g]);return Number.isFinite(w)?ma(w):NaN},qe=(d,g,w)=>{const S=g+"__compare",x=Number(d?.[S]?.[w]);return Number.isFinite(x)?ma(x):NaN};function st(d,g=1){const w=d.replace("#",""),S=w.length===3?w.split("").map(Fe=>Fe+Fe).join(""):w,x=parseInt(S,16),$=x>>16&255,Y=x>>8&255,J=x&255;return`rgba(${$}, ${Y}, ${J}, ${g})`}v(()=>{const d={fre:-5,efter:1,10:10,20:20,50:50,80:80};return[z.currentTimeValue?d[z.currentTimeValue]??Re.value[0]:Re.value[0],Re.value[1]]});const Qe=v(()=>{const d=z.currentTimeValue;if(!d)return null;const g={fre:-5,efter:1,10:10,20:20,50:50,80:80};if(d in g)return g[d];const w=Number(d);return Number.isFinite(w)?w:null});v(()=>{const d=(z.selectedFrameworks||[]).map(w=>w.toLowerCase()).join(","),g=(z.selectedArtkategori||[]).map(w=>w.toLowerCase()).join(",");return`${d}|${g}|${z.currentTimeValue||""}`});const Et={atheliales:"#8B5CF6",boletales:"#EC4899",cantharellales:"#eab308",spindlingar:"#F97316",russulales:"#22C55E",ascomycota:"#DC2626",vriga:"#94A3B8",thelephorales:"#0EA5E9",matsvamp:"#eab308","goda matsvampar":"#eab308","kg matsvamp":"#eab308","rdlistade + signalarter":"#14b8a6",total:"#64748b"},De=["atheliales","ascomycota","vriga","spindlingar","russulales","boletales","cantharellales","thelephorales","matsvamp","goda matsvampar","rdlistade + signalarter","total"],Wt={atheliales:"Skinnsvampar",boletales:"Soppar",cantharellales:"Kantarellslktingar",spindlingar:"Spindelskivlingar",russulales:"Kremlor & riskor",ascomycota:"Sporsckssvampar",vriga:"vriga",thelephorales:"Tagg- och tomentelloida svampar",matsvamp:"Alla matsvampar","goda matsvampar":"Goda matsvampar","rdlistade + signalarter":"Naturvrdssvampar",total:"Total"},Hr={atheliales:"/images/svampgrupp/skinnsvamp.png",boletales:"/images/svampgrupp/sopp.png",cantharellales:"/images/svampgrupp/kantarell.png",spindlingar:"/images/svampgrupp/hattsvamp.png",russulales:"/images/svampgrupp/hattsvamp.png",thelephorales:"/images/svampgrupp/taggsvamp.png",ascomycota:"/images/svampgrupp/skalsvamp.png",vriga:"/images/svampgrupp/ovrigt.png"},Ea={trakthygge:[{age:0,text:"Avverkning"}],luckhuggning:[{age:0,text:"Avverkning 3 luckor"},{age:30,text:"Avverkning 3 luckor"},{age:60,text:"Avverkning 3 luckor"},{age:90,text:"Avverkning 3 luckor"}],bldning:[{age:0,text:"Avverkning 30% av trden"},{age:30,text:"Avverkning 30% av trden"},{age:60,text:"Avverkning 30% av trden"},{age:90,text:"Avverkning 30% av trden"}],skrmtrd:[{age:0,text:"Frberedande avverkning"},{age:10,text:"Frtrdsstllning"},{age:20,text:"Avverkning av frtrden"}]},ha=v(()=>(z.selectedArtkategori||[]).map(d=>(d||"").toLowerCase()));function $a(d){const g=(d||"").toLowerCase();return g==="kg matsvampar"?"kg matsvamp":g==="cortinariaceae"?"spindlingar":g==="ascomyceter"?"ascomycota":g==="ovriga"||g==="vrigt"||g==="ovrigt"?"vriga":g}function Yt(d){if(!d)return Et.total;const g=$a(d);return Et[g]||Et.total}const $t=v(()=>z.singleFrameworkSelection&&!z.frameworkComparisonMode?ne.value[0]||ha.value[0]||"total":ha.value[0]||"total"),Gt=v(()=>Yt($t.value)),Rt=d=>d==="matsvamp"&&Ge.value==="goda"?"Goda matsvampar":d==="matsvamp"&&Ge.value==="kg"?"Kg matsvampar":Wt[d]||Fs(d);function pt(d){const g=d.toLowerCase();return g==="naturskydd"?"Ingen tgrd":g==="trakthygge"?"Trakhyggesbruk":g==="skrmtrd"?"verhllen skrm":Fs(d)}const St=["naturskydd","trakthygge","skrmtrd","luckhuggning","bldning"],Ra=v(()=>(z.selectedFrameworks||[]).map(d=>d.toLowerCase())),ga=v(()=>Ra.value.filter(d=>St.includes(d)&&!Ue.value.has(d))),ja=v(()=>{const d={};for(const g of Ra.value){const w=At(g).map(S=>({age:Number(S.age),value:Number(S.klassning)})).filter(S=>Number.isFinite(S.age)&&Number.isFinite(S.value)).sort((S,x)=>S.age-x.age);d[g]=w}return d}),ir=v(()=>{const d=Object.values(ja.value);if(!d.length)return[];let g=1/0,w=-1/0;const S=new Set;for(const x of d)for(const $ of x){const Y=Number($.age);Number.isFinite(Y)&&(S.add(Y),Y<g&&(g=Y),Y>w&&(w=Y))}if(!Number.isFinite(g)||!Number.isFinite(w))return[];for(let x=Math.floor(g);x<=Math.ceil(w)+1e-9;x+=1)S.add(Number(x.toFixed(6)));return Array.from(S).sort((x,$)=>x-$)});function Ia(d,g){const w=d.findIndex($=>$.age===g);if(w!==-1)return d[w].value;let S=-1,x=-1;for(let $=0;$<d.length;$++)if(d[$].age<g&&(S=$),d[$].age>g){x=$;break}if(S!==-1&&x!==-1){const $=d[S],Y=d[x],J=(g-$.age)/(Y.age-$.age);return $.value+J*(Y.value-$.value)}}const Kr=v(()=>{const d=[];for(const g of ir.value){const w={age:g};if(z.singleFrameworkSelection&&!z.frameworkComparisonMode){const S=ne.value.length?ne.value:(z.selectedArtkategori||[]).map($=>($||"").toLowerCase()).filter(Boolean),x=Wr.value;for(const $ of S){const Y=x[$]||[],J=Ia(Y,g);typeof J=="number"&&Number.isFinite(J)&&(w[$]=J)}}else for(const S of ga.value){const x=ja.value[S]||[],$=Ia(x,g);typeof $=="number"&&Number.isFinite($)&&(w[S]=$)}d.push(w)}return d}),Wr=v(()=>{if(!(z.singleFrameworkSelection&&!z.frameworkComparisonMode))return{};const d={},g=ne.value.length?ne.value:(z.selectedArtkategori||[]).map(S=>(S||"").toLowerCase()).filter(Boolean),w=Array.isArray(Xt.value)?Xt.value:[];for(const S of w){const x=Number(S?.age);if(Number.isFinite(x))for(const $ of g){const Y=Number(S?.[$]);Number.isFinite(Y)&&(d[$]=d[$]||[]).push({age:x,value:Y})}}for(const S of Object.keys(d))d[S].sort((x,$)=>x.age-$.age);return d}),Na=v(()=>ne.value[0]||z.selectedArtkategori?.[0]?.toLowerCase()||""),Yr=v(()=>{if(!(z.singleFrameworkSelection&&z.frameworkComparisonMode&&z.chartType==="area"))return[];const d=Na.value;if(!d)return[];const g=Ue.value,w=St.filter(x=>z.selectedFrameworks.map($=>$.toLowerCase()).includes(x)&&!g.has(x)),S=[];for(const x of ir.value){const $={age:x};let Y=!1;for(const J of w){const Fe=ja.value[J]||[],re=Ia(Fe,x);if(typeof re=="number"&&Number.isFinite(re)){const ze=J+"__compare",He=$[ze]||{};He[d]=re,$[ze]=He,Y=!0}}Y&&S.push($)}return S});v(()=>{const d={},g=Array.isArray(Xt.value)?Xt.value:[];for(const w of ga.value)d[w]=g.filter(S=>Number.isFinite(Number(S?.age))&&Number.isFinite(Number(S?.[w]))).map(S=>({age:Number(S.age),value:Number(S[w]),__row:S})).sort((S,x)=>S.age-x.age);return d});const Ct=v(()=>{if(z.singleFrameworkSelection){if(z.frameworkComparisonMode){const re=St.filter(me=>z.selectedFrameworks.map(It=>It.toLowerCase()).includes(me)),ze=Gt.value,He=.5;return re.map((me,It)=>{const lt=pt(me),xe=Ue.value.has(me),pe=It===1?"#c3a283":ze;return{key:me,name:lt,label:lt,color:pe,colorArea:st(pe,He),colorLine:pe,inactive:xe}})}const S=(z.selectedArtkategori||[]).map(re=>(re||"").toLowerCase()).filter(Boolean),x=S.length?S:ne.value.concat(Array.from(fe.value)),$=new Set(x),Y=De.filter(re=>$.has(re)),J=Array.from($).filter(re=>!De.includes(re)).sort();return Y.concat(J).map(re=>{const ze=Yt(re),He=Rt(re);return{key:re,name:He,label:He,color:ze,colorArea:st(ze,.5),colorLine:ze,inactive:fe.value.has(re),icon:Hr[re]}})}const d=St.filter(S=>z.selectedFrameworks.map(x=>x.toLowerCase()).includes(S)),g=Gt.value,w=.5;return d.map((S,x)=>{const $=pt(S),Y=Ue.value.has(S),J=x===1?"#c3a283":g;return{key:S,name:$,label:$,color:J,colorArea:st(J,w),colorLine:J,inactive:Y}})}),ke=v(()=>z.singleFrameworkSelection&&!z.frameworkComparisonMode?[]:Ct.value.filter(d=>!d.inactive));U.TopOutside;const Gr=v(()=>{if(z.singleFrameworkSelection){if(z.frameworkComparisonMode)return ke.value.map(g=>g.key);const d=(z.selectedFrameworks||[]).map(g=>(g||"").toLowerCase()).filter(g=>St.includes(g)).filter(g=>!Ue.value.has(g));return d.length?d:ga.value}return ke.value.map(d=>d.key)});function or(d){return d==="total"?Z.value:d==="matsvamp"?Ge.value==="goda"?N.value:Ge.value==="kg"?E.value:D.value:d==="goda matsvampar"?N.value:d==="rdlistade + signalarter"?M.value:d==="atheliales"?_.value:d==="boletales"?B.value:d==="cantharellales"?K.value:d==="spindlingar"?X.value:d==="russulales"?Q.value:d==="ascomycota"?ce.value:d==="thelephorales"?W.value:d==="vriga"?te.value:[]}function ht(d){const g=d.toLowerCase();return g==="matsvamp"?lr.value:g}function At(d){const g=z.selectedArtkategori.map(x=>x.toLowerCase()),w=z.selectedStartskog?z.selectedStartskog.toLowerCase():null,S=[];return g.forEach(x=>{const $=ht(x);(or(x)||[]).forEach(J=>{J.artkategori?.toLowerCase()===$&&J.frameworks?.toLowerCase()===d.toLowerCase()&&(w&&(J.startskog?.toLowerCase()??w)!==w||S.push({age:J.lder,klassning:+J.klassning}))})}),S}const Xt=v(()=>{if(z.relativeChart)return oe.value;const d=new Map;if(z.singleFrameworkSelection){const g=z.frameworkComparisonMode?(z.selectedFrameworks||[]).map(w=>w.toLowerCase()).slice(0,2):[z.selectedFrameworks[0]?.toLowerCase()].filter(Boolean);z.selectedArtkategori.forEach(w=>{const S=w.toLowerCase(),x=or(S),$=z.selectedStartskog?z.selectedStartskog.toLowerCase():null,Y=ht(S);g.forEach(J=>{(x||[]).filter(re=>{const ze=re.artkategori?.toLowerCase()===Y,He=re.frameworks?.toLowerCase()===J,me=!$||(re.startskog?.toLowerCase()??$)===$;return ze&&He&&me}).map(re=>({age:re.lder,klassning:+re.klassning})).forEach(re=>{const ze=d.get(re.age)||{age:re.age};if(z.frameworkComparisonMode){const He=`${J}__compare`,me=ze[He]||{};me[S]=re.klassning,ze[He]=me}else ze[S]=re.klassning;d.set(re.age,ze)})})})}else Ra.value.forEach(g=>{At(g).forEach(S=>{const x=d.get(S.age)||{age:S.age};x[g]=S.klassning,d.set(S.age,x)})});return Array.from(d.values()).sort((g,w)=>g.age-w.age)}),et=d=>{const g=Number(d?.age);return Number.isFinite(g)?g:void 0},Xr=v(()=>{if(z.singleFrameworkSelection){if(z.frameworkComparisonMode){const g=ne.value[0]||z.selectedArtkategori[0]?.toLowerCase();return ke.value.map(w=>{const S=w.key;return x=>{const Y=x?.[`${S}__compare`]?.[g];return Number.isFinite(Number(Y))?Number(Y):NaN}})}return(ne.value.length?ne.value:z.selectedArtkategori.map(g=>g.toLowerCase())).filter(g=>!fe.value.has(g)).map(g=>w=>w[g])}return ke.value.map(d=>g=>g[d.key])}),ur=v(()=>z.singleFrameworkSelection?z.frameworkComparisonMode?ke.value.map(g=>st(g.colorLine||g.color,.7)||"#000000"):(ne.value.length?ne.value:z.selectedArtkategori.map(g=>g.toLowerCase())).filter(g=>!fe.value.has(g)).map(g=>Yt(g)):ke.value.map(d=>d.color||"#000000"));function cr(d){const g=(d.key||d.name||"").toLowerCase();if(g)if(z.singleFrameworkSelection)if(z.frameworkComparisonMode){const w=new Set(Ue.value);w.has(g)?w.delete(g):w.add(g),Ue.value=w}else{const w=new Set(fe.value);w.has(g)?w.delete(g):w.add(g),fe.value=w}else{const w=St.find(x=>x===g)||St.find(x=>pt(x).toLowerCase()===g);if(!w)return;const S=new Set(Ue.value);S.has(w)?S.delete(w):S.add(w),Ue.value=S}}const Zr=v(()=>!z.singleFrameworkSelection||z.frameworkComparisonMode?[]:ne.value.map(d=>g=>Ft(g,d))),dr=v(()=>!z.singleFrameworkSelection||z.frameworkComparisonMode?[]:ne.value.map(d=>Yt(d))),Pa=Sa({age:0});function vr(d){return d?Object.keys(d).filter(w=>w!=="age"&&w!=="__markerY").some(w=>{const S=d[w];return S&&typeof S=="object"?Object.values(S).some(x=>Number.isFinite(Number(x))):Number.isFinite(Number(S))}):!1}const Zt=v(()=>z.singleFrameworkSelection?z.frameworkComparisonMode?ke.value.length:ne.value.length:ke.value.length),jt=v(()=>Zt.value>0),fr=v(()=>{const d=Be.value;return Zt.value?d.filter(g=>vr(g)):z.frameworkComparisonMode&&z.singleFrameworkSelection&&d.length?d.map(g=>{const w={age:g.age};for(const S of z.selectedFrameworks||[]){const x=S.toLowerCase();w[`${x}__compare`]={[ne.value[0]||z.selectedArtkategori[0]?.toLowerCase()||""]:NaN}}return w}):d.length?d:[Pa]}),mr=v(()=>{if(!ye.value)return[];const d=Gr.value;if(!d.length)return[];const[g,w]=Re.value;if(!Number.isFinite(g)||!Number.isFinite(w)||g===w)return[];const S=[],x=Y=>{const J=Ct.value.find(re=>re.key===Y);return J?.colorLine||J?.colorArea||J?.color||Gt.value||"#64748b"},$=Y=>{const J=Ct.value.find(Fe=>Fe.key===Y);return J?.colorLine||J?.color||Gt.value||"#1f2937"};return d.forEach(Y=>{const J=Ea[Y];if(!J?.length)return;const Fe=x(Y),re=$(Y);J.forEach((ze,He)=>{const me=Number(ze.age);Number.isFinite(me)&&(me<g||me>w||S.push({id:`${Y}-${me}-${He}`,value:me,color:Fe,labelText:ze.text,labelColor:re}))})}),S});return(d,g)=>{const w=In,S=_i;return b(),R("div",{class:"custom-area",ref_key:"rootEl",ref:H},[F(S,null,{default:P(()=>[ee.value&&ye.value&&Da.value&&Ct.value.length&&!(z.singleFrameworkSelection&&!z.frameworkComparisonMode)?(b(),j(k(uc),{key:0,items:Ct.value,onLegendItemClick:cr,class:"mx-2 flex flex-wrap gap-2"},null,8,["items"])):I("",!0),ee.value&&ye.value&&Ct.value.length&&z.singleFrameworkSelection&&!z.frameworkComparisonMode?(b(),R("div",ed,[(b(!0),R(Te,null,Ne(Ct.value,x=>(b(),j(w,{key:x.key,type:"button",variant:"ghost",color:"neutral",size:"sm",class:"flex items-center px-2 py-1 gap-2 hover:opacity-95 transition ring-muted/50",onClick:$=>cr(x)},{default:P(()=>[x.icon?(b(),R("div",{key:0,class:"h-5 w-5",style:va({backgroundColor:x.color||x.colorLine||x.colorArea||"#000",WebkitMask:`url(${x.icon}) center / contain no-repeat`,mask:`url(${x.icon}) center / contain no-repeat`,opacity:x.inactive?.2:1})},null,4)):I("",!0),m("span",{style:va({opacity:x.inactive?.2:1})},ae(x.label),5)]),_:2},1032,["onClick"]))),128))])):I("",!0),ee.value&&ye.value?(b(),j(k(Qi),{key:2,data:fr.value.length?fr.value:[Pa],height:200,margin:Ve,xDomain:Re.value,yDomain:be.value},{default:P(()=>[z.chartType==="area"&&z.singleFrameworkSelection&&!z.frameworkComparisonMode?(b(),R(Te,{key:0},[F(k(Cr),{x:et,y:Zr.value,color:dr.value,interpolateMissingData:!0},null,8,["y","color"]),jt.value&&Qe.value!==null?(b(),j(k(mn),{key:0,axis:"x",from:-7,to:Qe.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):I("",!0),jt.value?(b(),j(k(Ar),{key:1,value:Qe.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):I("",!0)],64)):z.chartType==="area"&&z.singleFrameworkSelection&&z.frameworkComparisonMode?(b(),R(Te,{key:1},[(b(!0),R(Te,null,Ne(ke.value,x=>(b(),j(k(Cr),{x:et,y:$=>qe($,x.key,Na.value),color:()=>x.colorArea||x.color,interpolateMissingData:!0,zIndex:1},null,8,["y","color"]))),256)),(b(!0),R(Te,null,Ne(ke.value,x=>(b(),j(k(zs),{x:et,y:$=>qe($,x.key,Na.value),color:()=>st(x.colorLine||x.color,.6)},null,8,["y","color"]))),256)),jt.value&&Qe.value!==null?(b(),j(k(mn),{key:0,axis:"x",from:-7,to:Qe.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):I("",!0),jt.value?(b(),j(k(Ar),{key:1,value:Qe.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):I("",!0)],64)):z.chartType==="area"?(b(),R(Te,{key:2},[(b(!0),R(Te,null,Ne(ke.value,x=>(b(),j(k(Cr),{x:et,y:$=>nt($,x.key),color:()=>x.colorArea||x.color,interpolateMissingData:!0,zIndex:1},null,8,["y","color"]))),256)),(b(!0),R(Te,null,Ne(ke.value,x=>(b(),j(k(zs),{x:et,y:$=>nt($,x.key),color:()=>st(x.colorLine||x.color,.6)},null,8,["y","color"]))),256)),Fa.value?(b(!0),R(Te,{key:0},Ne(ke.value,x=>(b(),j(k(Cr),{key:x.key+"-kg-x2",x:et,y:pa(x.key),color:()=>"rgba(234,179,8,0.3)"},null,8,["y"]))),128)):I("",!0),jt.value&&Qe.value!==null?(b(),j(k(mn),{key:1,axis:"x",from:-7,to:Qe.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):I("",!0),jt.value?(b(),j(k(Ar),{key:2,value:Qe.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):I("",!0)],64)):z.chartType==="bar"?(b(),j(k(sc),{key:3,color:ur.value,x:et,y:Xr.value,groupPadding:.5,groupMaxWidth:20},null,8,["color","y"])):I("",!0),(b(!0),R(Te,null,Ne(mr.value,x=>(b(),j(k(Ar),{axis:"x",value:x.value,color:"rgba(69,10,10, 0.5)",lineStyle:[2,3],label:x.labelText,labelColor:x.labelColor,zIndex:100,lineWidth:1},null,8,["value","label","labelColor"]))),256)),F(k(ks),{tickTextFontSize:"12px",gridLine:!0,type:"x",tickValues:je.value,tickFormat:Me},null,8,["tickValues"]),F(k(ks),{tickTextFontSize:"12px",type:"y"})]),_:1},8,["data","xDomain","yDomain"])):I("",!0)]),_:1})],512)}}}),ad=Object.assign(td,{__name:"ForestryChartDisplay"}),rd={class:"mt-2 mb-1 flex justify-between"},nd={class:"pr-2"},sd={class:"flex items-center gap-2"},ld=["src"],id={class:"flex items-center gap-2"},od={key:0},ud={class:"px-4 pb-4 text-sm text-muted"},cd={key:1},dd={class:"px-4 pb-4 text-sm text-muted"},vd={key:2},fd={class:"px-4 pb-4 text-sm text-muted"},md={key:3},pd={class:"px-4 pb-4 text-sm text-muted"},hd={class:"mx-2"},gd={class:"flex flex-col gap-4"},bd={class:"text-sm text-muted"},yd="Den relativa frdelningen av olika grupper mykorrhizasvampar vid olika skogsldrar. Uppgifterna baseras enbart p frekomst i skogar av olika ldrar och r inte kopplade till vilken skogssktselmetod som anvnts.",kd=Ee({__name:"ForestryChartMain",props:{parentSelectedFrameworks:{},currentTimeValue:{},currentStartskog:{},selectedChart:{}},emits:["update:selectedChart"],async setup(e,{expose:t,emit:a}){let r,s;const o=Nn("(max-width: 767px)"),u={skogsskole:"Mngd mykorrhizasvamp i marken i frhllande till frekomsten i ldre skog/fre avverkning (%).",rodlistade:"Mngden av mykorrhizasvampar som r rdlistade/signalarter i marken i frhllande till frekomsten i ldre skog/fre avverkning (%).",grupper:"Mngden av olika grupper svampar i frhllande till frekomsten i ldre skog/fre avverkning (%)."},i={standard:"Mngden av alla matsvampar i marken frhllande till frekomsten i ldre skog/fre avverkning (%).",goda:"Mngden av alla goda matsvampar i frhllande till frekomsten i ldre skog/fre avverkning (%).",kg:"Frskvikten av alla matsvampar (kg/ha) under en ssong i frhllande till frekomsten i ldre skog/fre avverkning. Medel- samt min-maxvrde."},c=["standard","goda","kg"],{data:C}=([r,s]=ua(()=>Ut("forestry-chart-texts",()=>ca("forestryChartTexts").first())),r=await r,s(),r);function h(H){return H?Array.isArray(H)?H:Array.isArray(H?.entries)?H.entries:Array.isArray(H?.body)?H.body:Array.isArray(H?.data)?H.data:[]:[]}const p=v(()=>h(C.value)),A=v(()=>{const H={};for(const ee of p.value)ee?.id&&(H[ee.id]=ee);return H}),L=v(()=>A.value.skogsskole?.description??u.skogsskole),D=v(()=>A.value.rodlistade?.description??u.rodlistade),N=v(()=>A.value.grupper?.description??u.grupper),E=v(()=>A.value.grupper?.modalDescription??yd),V=v(()=>{const H={...i},ee=A.value.matsvampar;if(ee?.variants?.length)for(const ve of ee.variants)M(ve?.id)&&ve.description&&(H[ve.id]=ve.description);else ee?.description&&(H.standard=ee.description);return H});function M(H){return H?c.includes(H):!1}const _=e,B=a;O("naturskog"),O("naturskog"),O("naturskog");const K=O("trakthygge");O(!0),O(!1),O(!1),O(!1),O(!1),O(!1);const X=[{label:"Mngd mykorrhizasvamp",value:"skogsskole",icon:"i-lineicons-mushroom-1"},{label:"Svampgrupper",value:"grupper",icon:"i-material-symbols-category-rounded"},{label:"Naturvrdssvampar",value:"rodlistade",icon:"i-material-symbols-award-star"},{label:"Matsvampar",value:"matsvampar",icon:"icon-park-solid:knife-fork"}],Q=O(X.some(H=>H.value===_.selectedChart)?_.selectedChart:X[0].value),ce=v(()=>X.find(H=>H.value===Q.value)?.icon),W=v(()=>(_.parentSelectedFrameworks?.length??0)===2);function te(H){X.some(ee=>ee.value===H)&&(Q.value=H)}t({setSelectedChart:te}),se(()=>_.selectedChart,H=>{typeof H=="string"&&X.some(ee=>ee.value===H)&&Q.value!==H&&(Q.value=H)}),se(Q,H=>{B("update:selectedChart",H)});const Z=["atheliales","boletales","cantharellales","spindlingar","russulales","thelephorales","ascomycota","vriga"],le=O("area");O("area");const ge=[{label:"Alla matsvampar",value:"standard",icon:"i-lineicons-mushroom-1"},{label:"Goda matsvampar",value:"goda",icon:"i-heroicons-star-16-solid"},{label:"Kg matsvampar",value:"kg",icon:"i-material-symbols-scale-outline-rounded"}],oe=O("standard"),be=v(()=>oe.value==="goda"?"goda matsvampar":"matsvamp"),Be=v(()=>ge.find(H=>H.value===oe.value)?.icon),Re=v(()=>ge.find(H=>H.value===oe.value)?.label??"Vlj dataset"),$e=v(()=>V.value[oe.value]),je=v(()=>oe.value==="kg"?55:28),Me=O([...Z]),ye=[{label:"Skinnsvampar",value:"atheliales",icon:"/images/svampgrupp/skinnsvamp.png",avatar:{src:"/images/svampgrupp/skinnsvamp.png",alt:"Skinnsvampar"}},{label:"Soppar",value:"boletales",icon:"/images/svampgrupp/sopp.png",avatar:{src:"/images/svampgrupp/sopp.png",alt:"Soppar"}},{label:"Kantarellslktingar",value:"cantharellales",icon:"/images/svampgrupp/kantarell.png",avatar:{src:"/images/svampgrupp/kantarell.png",alt:"Kantarellslktingar"}},{label:"Spindelskivlingar",value:"spindlingar",icon:"/images/svampgrupp/hattsvamp.png",avatar:{src:"/images/svampgrupp/hattsvamp.png",alt:"Spindelskivlingar"}},{label:"Kremlor & riskor",value:"russulales",icon:"/images/svampgrupp/hattsvamp.png",avatar:{src:"/images/svampgrupp/hattsvamp.png",alt:"Kremlor & riskor"}},{label:"Tagg- och tomentelloida svampar",value:"thelephorales",icon:"/images/svampgrupp/taggsvamp.png",avatar:{src:"/images/svampgrupp/taggsvamp.png",alt:"Tagg- och tomentelloida svampar"}},{label:"Sporsckssvampar",value:"ascomycota",icon:"/images/svampgrupp/skalsvamp.png",avatar:{src:"/images/svampgrupp/skalsvamp.png",alt:"Sporsckssvampar"}},{label:"vriga svampar",value:"vriga",icon:"/images/svampgrupp/ovrigt.png",avatar:{src:"/images/svampgrupp/ovrigt.png",alt:"vriga svampar"}}],ne=O(ye[0].value),Ve=v(()=>ye.find(H=>H.value===ne.value)?.avatar);return se([Q,W],([H,ee])=>{H==="grupper"&&ee||(ne.value=ye[0].value),H==="grupper"&&!ee&&(Me.value=[...Z])}),se(()=>_.parentSelectedFrameworks?.length,()=>{Q.value==="grupper"&&W.value&&(ne.value=ye[0].value)}),(H,ee)=>{const ve=Ws,Ce=Ga,_e=ad,Le=In,ft=xi;return b(),R("div",null,[m("div",rd,[F(ve,{modelValue:Q.value,"onUpdate:modelValue":ee[0]||(ee[0]=fe=>Q.value=fe),items:X,"value-key":"value","option-attribute":"label",size:"xl",variant:"none",class:"hover:cursor-pointer",icon:ce.value,ui:{content:"min-w-fit",value:"sm:text-lg sm:font-medium text-neutral-700"}},null,8,["modelValue","icon"]),m("div",nd,[Q.value==="grupper"&&W.value?(b(),j(ve,{key:0,modelValue:ne.value,"onUpdate:modelValue":ee[1]||(ee[1]=fe=>ne.value=fe),items:ye,"option-attribute":"label","value-key":"value",size:"lg",variant:"soft",placeholder:"Vlj svampgrupp",class:"hover:cursor-pointer rounded-full",ui:{content:"min-w-fit",value:"hidden sm:flex",base:"min-h-8"},avatar:Ve.value},{item:P(({item:fe})=>[m("div",sd,[fe.icon?(b(),R("img",{key:0,src:fe.icon,alt:"",class:"size-5 rounded-sm object-contain"},null,8,ld)):I("",!0),m("span",null,ae(fe.label),1)])]),_:1},8,["modelValue","avatar"])):I("",!0),Q.value==="matsvampar"?(b(),j(ve,{key:1,modelValue:oe.value,"onUpdate:modelValue":ee[2]||(ee[2]=fe=>oe.value=fe),items:ge,content:{align:"end",side:"bottom",sideOffset:8},"option-attribute":"label","value-key":"value",placeholder:"Vlj dataset",class:"hover:cursor-pointer rounded-full",size:"lg",variant:"soft",ui:{content:"w-fit shrink-0",value:"hidden",base:"min-h-8",item:"gap-0"},icon:Be.value,"aria-label":Re.value},{item:P(({item:fe})=>[m("div",id,[fe.icon?(b(),j(Ce,{key:0,name:fe.icon,class:"size-4"},null,8,["name"])):I("",!0),m("span",null,ae(fe.label),1)])]),_:1},8,["modelValue","icon","aria-label"])):I("",!0)])]),m("div",null,[Q.value==="skogsskole"?(b(),R("div",od,[F(_e,{selectedFrameworks:_.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","bldning","skrmtrd"],selectedArtkategori:["total"],chartType:le.value,maxYValue:130,currentTimeValue:_.currentTimeValue,frameworkComparisonMode:W.value},null,8,["selectedFrameworks","chartType","currentTimeValue","frameworkComparisonMode"]),m("div",ud,ae(L.value),1)])):I("",!0),Q.value==="rodlistade"?(b(),R("div",cd,[F(_e,{selectedFrameworks:_.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","bldning","skrmtrd"],selectedArtkategori:["rdlistade + signalarter"],chartType:le.value,selectedStartskog:_.currentStartskog,redColor:!0,maxYValue:.65,currentTimeValue:_.currentTimeValue,frameworkComparisonMode:W.value},null,8,["selectedFrameworks","chartType","selectedStartskog","currentTimeValue","frameworkComparisonMode"]),m("div",dd,ae(D.value),1)])):I("",!0),Q.value==="matsvampar"?(b(),R("div",vd,[F(_e,{selectedFrameworks:_.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","bldning","skrmtrd"],selectedArtkategori:[be.value],chartType:le.value,selectedStartskog:_.currentStartskog,yellowColor:!0,maxYValue:je.value,currentTimeValue:_.currentTimeValue,matsvampVariant:oe.value,frameworkComparisonMode:W.value},null,8,["selectedFrameworks","selectedArtkategori","chartType","selectedStartskog","maxYValue","currentTimeValue","matsvampVariant","frameworkComparisonMode"]),m("div",fd,ae($e.value),1)])):I("",!0),Q.value==="grupper"?(b(),R("div",md,[F(_e,{selectedFrameworks:_.parentSelectedFrameworks??[K.value],selectedArtkategori:W.value?[ne.value]:Me.value,frameworkComparisonMode:W.value,chartType:le.value,singleFrameworkSelection:!0,selectedStartskog:_.currentStartskog,currentTimeValue:_.currentTimeValue},null,8,["selectedFrameworks","selectedArtkategori","frameworkComparisonMode","chartType","selectedStartskog","currentTimeValue"]),m("div",pd,ae(N.value),1),m("div",hd,[Q.value==="grupper"?(b(),j(ft,{key:0,fullscreen:!!k(o),title:"Relativ mngd",description:""},{body:P(()=>[m("div",gd,[F(_e,{selectedFrameworks:["trakthygge"],selectedArtkategori:Z,chartType:"area",singleFrameworkSelection:!0,relativeChart:!0}),m("p",bd,ae(E.value),1)])]),default:P(()=>[F(Le,{size:"lg",class:"px-3 w-full flex justify-center",color:"neutral",icon:"i-carbon-diagram-reference",label:"Visa diagram fr relativ mngd vid olika ldrar"})]),_:1},8,["fullscreen"])):I("",!0)])])):I("",!0)])])}}}),_d=Object.assign(Hs(kd,[["__scopeId","data-v-41bbd5e7"]]),{__name:"ForestryChartMain"}),xd={slots:{root:"relative flex items-start",base:["inline-flex items-center shrink-0 rounded-full border-2 border-transparent focus-visible:outline-2 focus-visible:outline-offset-2 data-[state=unchecked]:bg-accented","transition-[background] duration-200"],container:"flex items-center",thumb:"group pointer-events-none rounded-full bg-default shadow-lg ring-0 transition-transform duration-200 data-[state=unchecked]:translate-x-0 data-[state=unchecked]:rtl:-translate-x-0 flex items-center justify-center",icon:["absolute shrink-0 group-data-[state=unchecked]:text-dimmed opacity-0 size-10/12","transition-[color,opacity] duration-200"],wrapper:"ms-2",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"data-[state=checked]:bg-primary focus-visible:outline-primary",icon:"group-data-[state=checked]:text-primary"},secondary:{base:"data-[state=checked]:bg-secondary focus-visible:outline-secondary",icon:"group-data-[state=checked]:text-secondary"},tertiary:{base:"data-[state=checked]:bg-tertiary focus-visible:outline-tertiary",icon:"group-data-[state=checked]:text-tertiary"},rodeodust:{base:"data-[state=checked]:bg-rodeodust focus-visible:outline-rodeodust",icon:"group-data-[state=checked]:text-rodeodust"},poison:{base:"data-[state=checked]:bg-poison focus-visible:outline-poison",icon:"group-data-[state=checked]:text-poison"},signal:{base:"data-[state=checked]:bg-signal focus-visible:outline-signal",icon:"group-data-[state=checked]:text-signal"},info:{base:"data-[state=checked]:bg-info focus-visible:outline-info",icon:"group-data-[state=checked]:text-info"},success:{base:"data-[state=checked]:bg-success focus-visible:outline-success",icon:"group-data-[state=checked]:text-success"},warning:{base:"data-[state=checked]:bg-warning focus-visible:outline-warning",icon:"group-data-[state=checked]:text-warning"},error:{base:"data-[state=checked]:bg-error focus-visible:outline-error",icon:"group-data-[state=checked]:text-error"},kalkmark:{base:"data-[state=checked]:bg-kalkmark focus-visible:outline-kalkmark",icon:"group-data-[state=checked]:text-kalkmark"},vanligmark:{base:"data-[state=checked]:bg-vanligmark focus-visible:outline-vanligmark",icon:"group-data-[state=checked]:text-vanligmark"},time:{base:"data-[state=checked]:bg-time focus-visible:outline-time",icon:"group-data-[state=checked]:text-time"},neutral:{base:"data-[state=checked]:bg-inverted focus-visible:outline-inverted",icon:"group-data-[state=checked]:text-highlighted"}},size:{xs:{base:"w-7",container:"h-4",thumb:"size-3 data-[state=checked]:translate-x-3 data-[state=checked]:rtl:-translate-x-3",wrapper:"text-xs"},sm:{base:"w-8",container:"h-4",thumb:"size-3.5 data-[state=checked]:translate-x-3.5 data-[state=checked]:rtl:-translate-x-3.5",wrapper:"text-xs"},md:{base:"w-9",container:"h-5",thumb:"size-4 data-[state=checked]:translate-x-4 data-[state=checked]:rtl:-translate-x-4",wrapper:"text-sm"},lg:{base:"w-10",container:"h-5",thumb:"size-4.5 data-[state=checked]:translate-x-4.5 data-[state=checked]:rtl:-translate-x-4.5",wrapper:"text-sm"},xl:{base:"w-11",container:"h-6",thumb:"size-5 data-[state=checked]:translate-x-5 data-[state=checked]:rtl:-translate-x-5",wrapper:"text-base"}},checked:{true:{icon:"group-data-[state=checked]:opacity-100"}},unchecked:{true:{icon:"group-data-[state=unchecked]:opacity-100"}},loading:{true:{icon:"animate-spin"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75",description:"cursor-not-allowed opacity-75"}}},defaultVariants:{color:"primary",size:"md"}},wd=Object.assign({inheritAttrs:!1},{__name:"USwitch",props:Lr({as:{type:null,required:!1},color:{type:null,required:!1},size:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1},checkedIcon:{type:[String,Object],required:!1},uncheckedIcon:{type:[String,Object],required:!1},label:{type:String,required:!1},description:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},value:{type:String,required:!1},defaultValue:{type:Boolean,required:!1}},{modelValue:{type:Boolean,default:void 0},modelModifiers:{}}),emits:Lr(["change"],["update:modelValue"]),setup(e,{emit:t}){const a=e,r=wi(),s=t,o=Is(e,"modelValue",{type:Boolean,default:void 0}),u=Ns(),i=Si(Ps(a,"required","value","defaultValue")),{id:c,emitFormChange:C,emitFormInput:h,size:p,color:A,name:L,disabled:D,ariaAttrs:N}=Us(a),E=c.value??Ci(),V=v(()=>Mr({extend:Mr(xd),...u.ui?.switch||{}})({size:p.value,color:A.value,required:a.required,loading:a.loading,disabled:D.value||a.loading}));function M(_){const B=new Event("change",{target:{value:_}});s("change",B),C(),h()}return(_,B)=>(b(),j(k(fa),{as:e.as,class:we(V.value.root({class:[a.ui?.root,a.class]}))},{default:P(()=>[m("div",{class:we(V.value.container({class:a.ui?.container}))},[F(k(Lo),Ht({id:k(E)},{...k(i),..._.$attrs,...k(N)},{modelValue:o.value,"onUpdate:modelValue":[B[0]||(B[0]=K=>o.value=K),M],name:k(L),disabled:k(D)||e.loading,class:V.value.base({class:a.ui?.base})}),{default:P(()=>[F(k(zo),{class:we(V.value.thumb({class:a.ui?.thumb}))},{default:P(()=>[e.loading?(b(),j(Ga,{key:0,name:e.loadingIcon||k(u).ui.icons.loading,class:we(V.value.icon({class:a.ui?.icon,checked:!0,unchecked:!0}))},null,8,["name","class"])):(b(),R(Te,{key:1},[e.checkedIcon?(b(),j(Ga,{key:0,name:e.checkedIcon,class:we(V.value.icon({class:a.ui?.icon,checked:!0}))},null,8,["name","class"])):I("",!0),e.uncheckedIcon?(b(),j(Ga,{key:1,name:e.uncheckedIcon,class:we(V.value.icon({class:a.ui?.icon,unchecked:!0}))},null,8,["name","class"])):I("",!0)],64))]),_:1},8,["class"])]),_:1},16,["id","modelValue","name","disabled","class"])],2),e.label||r.label||e.description||r.description?(b(),R("div",{key:0,class:we(V.value.wrapper({class:a.ui?.wrapper}))},[e.label||r.label?(b(),j(k(Fi),{key:0,for:k(E),class:we(V.value.label({class:a.ui?.label}))},{default:P(()=>[Ye(_.$slots,"label",{label:e.label},()=>[Xa(ae(e.label),1)])]),_:3},8,["for","class"])):I("",!0),e.description||r.description?(b(),R("p",{key:1,class:we(V.value.description({class:a.ui?.description}))},[Ye(_.$slots,"description",{description:e.description},()=>[Xa(ae(e.description),1)])],2)):I("",!0)],2)):I("",!0)]),_:3},8,["as","class"]))}}),Sd={class:"absolute inset-0",style:{"z-index":"0"}},Cd={key:1,class:"flex w-full h-full gap-1"},Ad={class:"w-1/2 h-full"},Td={class:"w-1/2 h-full"},Vd={__name:"CustomImageComparisonSlider",props:{frameworkLabel:{type:String,default:""},timeLabel:{type:String,default:""},frameworkLabel2:{type:String,default:""},timeLabel2:{type:String,default:""},layoutMode:{type:String,default:"slider"}},setup(e,{expose:t}){Nn("(max-width: 767px)");const a=e,r=O(a.layoutMode);se(()=>a.layoutMode,L=>{(L==="slider"||L==="side-by-side"||L==="sideBySide")&&(r.value=L)});const s=O(null),o=O(.5);let u=!1;function i(L){if(!s.value)return;const D=s.value.getBoundingClientRect();let E=((L.touches?L.touches[0].clientX:L.clientX)-D.left)/D.width;E=Math.max(0,Math.min(E,1)),o.value=E}function c(L){r.value==="slider"&&(u=!0,i(L),window.addEventListener("mousemove",C),window.addEventListener("mouseup",h),window.addEventListener("touchmove",C),window.addEventListener("touchend",h))}function C(L){u&&i(L)}function h(){u=!1,window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",h),window.removeEventListener("touchmove",C),window.removeEventListener("touchend",h)}function p(){r.value=r.value==="slider"?"sideBySide":"slider"}function A(L){(L==="slider"||L==="sideBySide")&&(r.value=L)}return t({toggleLayoutMode:p,setLayoutMode:A}),mt(()=>{o.value=.5}),(L,D)=>r.value==="slider"?(b(),R("div",{key:0,ref_key:"container",ref:s,class:"relative w-full h-full overflow-hidden select-none"},[m("div",Sd,[Ye(L.$slots,"second")]),m("div",{class:"absolute inset-0 overflow-hidden",style:va({clipPath:"inset(0 calc(100% - "+o.value*100+"%) 0 0)",zIndex:10})},[Ye(L.$slots,"first")],4),m("div",{class:"absolute top-0 flex items-center justify-center h-full w-10 cursor-ew-resize",style:va({left:o.value*100+"%",transform:"translateX(-50%)",zIndex:20}),onMousedown:c,onTouchstart:c},[...D[0]||(D[0]=[m("div",{class:"flex h-full relative"},[m("div",{class:"absolute text-end right-3 top-14"}),m("div",{class:"h-full w-1.5 bg-neutral-50/90 backdrop-blur-md inset-shadow-sm inset-shadow-neutral-300"}),m("div",{class:"absolute top-14 left-3"})],-1)])],36)],512)):r.value==="sideBySide"?(b(),R("div",Cd,[m("div",Ad,[Ye(L.$slots,"first")]),m("div",Td,[Ye(L.$slots,"second")])])):I("",!0)}},Ld=Pn("onboardingStore",{state:()=>({selectedStartskog:0,selectedFramework:1})}),Md=[{id:"manga_arter_pa_trad",title:"Mnga arter p ett trd",text:"P rtterna av ldre trd kan det finnas mycel av 50-100 olika arter mykorrhizasvampar.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["fre"],placement:"LEFT"},{framework:["trakthygge"],times:["fre"],placement:"LEFT"},{framework:["bldning"],times:["frr"],placement:"LEFT"},{framework:["skrmtrd"],times:["fre"],placement:"LEFT"},{framework:["luckhuggning"],times:["fre"],placement:"LEFT"}]},{id:"mykorrhiza_dar_det_finns_rotter",title:"Mykorrhiza dr det finns rtter",text:"Mykorrhizasvamparnas mycel finns lika djupt ner i marken som rtter nr, och s lngt trds rtter breder ut sig, 10-15 meter frn stammen. Men det r rikligast med mykorrhiza nrmast trdet och i de versta 10 cm av skogsmarken.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["fre"],placement:"LEFT"},{framework:["trakthygge"],times:["fre"],placement:"LEFT"},{framework:["bldning"],times:["frr"],placement:"LEFT"},{framework:["skrmtrd"],times:["fre"],placement:"LEFT"},{framework:["luckhuggning"],times:["fre"],placement:"LEFT"}]},{id:"matsvampsmycel_kort_tid",title:"Matsvamp efter avverkning",text:"Nstan alla matsvampar r mykorrhizasvampar och frsvinner efter avverkning. De verlever om dess mycel vxer med hnsynstrd som lmnats eller nra en skogskant. Annars behver de teretableras i ungskog frn sporer som sprids in frn nraliggande skogar.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["trakthygge"],times:["efter"],placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],placement:"LEFT"}]},{id:"matsvampsmycel_i_aldrre_skog",title:"Mer matsvamp i ldre skog",text:"Mngden matsvampar r strre i ldre skog eftersom strre trd har hgre fotosyntes och kan skicka ner mer socker till sina rtter.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["fre","efter","10","20","50","80"],placement:"LEFT"},{framework:["trakthygge"],times:["fre","50","80"],placement:"LEFT"},{framework:["bldning"],times:["fre","efter","10","20","50","80"],placement:"LEFT"},{framework:["skrmtrd"],times:["fre","50","80"],placement:"LEFT"},{framework:["luckhuggning"],times:["fre","50","80"],placement:"LEFT"}]},{id:"mycel_av_rodlistade_svampar",title:"Rdlistade svampar",text:"Rdlistade mykorrhizasvampar har ofta speciella miljkrav, och frekommer frmst i ldre skog. Generellt kan mycel av mykorrhizasvampar leva vidare p en plast s lnge det finns levande trd. Svampindividers mycel kan bli mnga decennier till potentiellt sekler gamla.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-award-star-outline",color:"signal-500",positions:[{framework:["naturskydd"],times:["fre","efter","10","20","50","80"],placement:"LEFT"},{framework:["trakthygge"],times:["fre"],placement:"LEFT"},{framework:["bldning"],times:["fre"],placement:"LEFT"},{framework:["skrmtrd"],times:["fre"],placement:"LEFT"},{framework:["luckhuggning"],times:["fre"],placement:"LEFT"}]},{id:"hogstubbe",title:"Hgstubbe",text:"Hr finns inga levande mykorrhizamycel. Trdets rtter r dda.",thumbnail:"/images/Skogsbruk.png",icon:"i-fluent-emoji-high-contrast-wood",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter"],x:.51,y:.26,placement:"LEFT"},{framework:["trakthygge"],times:["efter"],x:.621,y:.3,placement:"LEFT"}]},{id:"stubbe",title:"Stubbe",text:"Trdets fotosyntes och flde av energi till sina rtter har upphrt. Efter avverkning tynar mykorrhizasvamparna bort och dr efter ett par mnader - ett r.",thumbnail:"/images/Skogsbruk.png",icon:"i-fluent-emoji-high-contrast-wood",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter"],x:.422,y:.185,placement:"LEFT"},{framework:["trakthygge"],times:["efter"],x:.573,y:.32,placement:"LEFT"}]},{id:"hansynstrad",title:"Hnsynstrd",text:"De flesta mykorrhizasvamparna som vxte med trdets rtter i skogen fre avverkningen finns kvar och lever vidare. Dessa mycel kan vxa in i och spridas till uppvxande trdplantor.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-tree-circle",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter","20","50","80"],x:.335,y:.38,placement:"LEFT"},{framework:["trakthygge"],times:["efter","20","50","80"],x:.4502,y:.2228,placement:"LEFT"},{framework:["skrmtrd"],times:["20","50","80"],x:.469,y:.2577,placement:"LEFT"}]},{id:"grupp_av_hansynstrad",title:"Grupp av hnsynstrd",text:"De flesta mykorrhizasvampar som vxte i denna trdgrupps rtter fre avverkningen finns kvar och lever vidare. Fanns det mat- och naturvrdssvampar, kan de fortleva.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-tree-circle",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter","20","50","80"],x:.3736,y:.2832,placement:"LEFT"}]},{id:"sjalforyngrade_sma_tradplantor",title:"Sjlvfryngrade trdplantor",text:"Sm mycel av mykorrhizasvampar vxer i plantornas rtter. Om de vxer nra hnsynstrd kan mycel vuxint in frn dessas rtter. Annars etableras mycel frn svampsporer som sprid in frn nraliggande skogar. Vissa svamparter har ocks en sporbank i marken.",thumbnail:"/images/Skogsbruk.png",icon:"i-hugeicons-plant-03",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.4344,y:.1971,placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],x:.4344,y:.1971,placement:"LEFT"}]},{id:"planterade_sma_tradplantor",title:"Planterade sm trdplantor",text:"Har med sig spontant etablerad mykorrhiza frn plantskolan dr de odlades upp. Det r dock f arter. Dessa erstts succesivt med bttre anpassade och svamparter som finns p platsen.",thumbnail:"/images/Skogsbruk.png",icon:"i-hugeicons-plant-02",color:"neutral-500",positions:[{framework:["trakthygge"],times:["20"],x:.45,y:.32,placement:"LEFT"}]},{id:"yngre_trad_vid_avverkningen",title:"Yngre trd som lmnats",text:"Undviks underrjning fre avverkning, kommer mykorrhizasvampar att verleva p dessa plantor och trd p samma stt som de gr p rtterna av hnsynstrd.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-seedling-circle",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.33,y:.37,placement:"LEFT"}]},{id:"tradkant_mot_avverkning",title:"Trdkant mot avverkning",text:"Mykorrhizasvampars mycel vxer med i skogskantstrdens rtter s lngt de strcker sig in p avverkningen. Mest nrmast skogskanten, men nr 1015 meter in p hygget.",thumbnail:"/images/Skogsbruk.png",icon:"i-healthicons-square-medium-negative",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter","20"],x:.46,y:.409,placement:"LEFT"},{framework:["luckhuggning"],times:["efter","20"],x:.64,y:.352,placement:"LEFT"},{framework:["luckhuggning"],times:["50"],x:.511,y:.3245,placement:"LEFT"},{framework:["luckhuggning"],times:["80"],x:.3278,y:.2383,placement:"LEFT"}]},{id:"tomma_omraden_avverkning",title:"Tomma omrden ",text:"Vid omrden utan nra trd och smplantor direkt efter avverkning finns inte mykorrhizasvampar. I mark dr det saknas trdrtter finns inte mykorrhizasvampar. Ngra, men f mykorrhizasvampar har en sporbank.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.6095,y:.2081,placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],x:.485,y:.292,placement:"LEFT"}]}],zd={annotations:Md},Od=Pn("selectedAnnotation",{state:()=>({selectedAnnotation:null}),actions:{setSelectedAnnotation(e){this.selectedAnnotation=e},clearSelectedAnnotation(){this.selectedAnnotation=null}}}),Bd=Pn("overlay",{state:()=>({staticOverlayVisible:!1}),actions:{toggleStaticOverlay(){this.staticOverlayVisible=!this.staticOverlayVisible},setStaticOverlayVisible(e){this.staticOverlayVisible=e}}}),$n={retention:{slug:"retention-trees",fields:{framework:"framework",startskog:"startskog",time:"time"}},seedTree:{slug:"seed-trees",fields:{framework:"framework",startskog:"startskog",time:"time"}},smaplantor:{slug:"smaplantor",fields:{framework:"framework",startskog:"startskog",time:"time"}},hogstubbar:{slug:"hogstubbar",fields:{framework:"framework",startskog:"startskog",time:"time"}},naturvardsarter:{slug:"naturvard",fields:{framework:"framework",startskog:"startskog",time:"time"}},kanteffekt:{slug:"kanteffekt",fields:{framework:"framework",startskog:null,time:"start"}}},pn=Object.keys($n);function Ja(e){return e?e.replace(/_+$/g,""):e??null}function hn(e,t,a=!0){if(!t)return!1;if(e==null)return!0;const r=Ja(t);return Array.isArray(e)?a&&e.includes("alla")||e.some(s=>Ja(String(s))===r):typeof e=="string"?a&&e==="alla"?!0:Ja(e)===r:!1}function Es(e,t,a,r={}){const{ignoreStartskog:s=!1}=r,{fields:o}=a;return e.filter(u=>{if(!u)return!1;if(o.framework){const i=u[o.framework];if(!hn(i,t.framework,!1))return!1}if(o.startskog&&!s&&t.startskog){const i=u[o.startskog];if(!hn(i,t.startskog,!0))return!1}if(o.time){const i=u[o.time];if(!hn(i,t.time,!0))return!1}return!0})}function Dd(e,t,a){if(!Array.isArray(e)||e.length===0)return[];if(!t?.framework||!t?.time)return e;const r={framework:Ja(t.framework),startskog:Ja(t.startskog),time:t.time};if(a.slug==="retention-trees"){const u=r.framework,i=r.time;return!u||u==="naturskydd"?[]:!i||i==="innan"?[]:(Array.isArray(e)?e:[]).map(C=>({...C,framework:"alla",startskog:"alla",time:"alla"}))}let o=Es(e,r,a);return o.length===0&&a.fields.startskog&&r.startskog&&(o=Es(e,r,a,{ignoreStartskog:!0})),o}const Fd=["innan","efter","10 r","20 r","50 r","80 r"],Ed={retention:!0,kanteffekt:!0,rottacke:!0,seedTree:!0,smaplantor:!0,hogstubbar:!0,naturvardsarter:!0,tradplantor:!0};function $d(e){const t=e.framework,a=e.time;if(!t||!a)return!0;const r=t==="skrmtrd"||t==="skarmtrad",s=t==="bldning"||t==="bladning",o=r&&a==="efter",u=s&&["efter","20 r","50 r","80 r"].includes(a);return o||u}function Rd(e){const t=e.framework,a=e.time;return!t||!a?!0:t==="trakthygge"&&a==="20 r"}async function Ta(e){try{return await $fetch(e)}catch{return null}}function jd(e){switch(e){case"bldning":return["bldning","bladning"];case"skrmtrd":return["skrmtrd","skarmtrad"];default:return[e]}}function Id(e){if(!e||typeof e!="object")return[];const t=Array.isArray(e.points)?e.points:[],a=new Map;t.length&&t.forEach(A=>{A?.id!=null&&a.set(A.id,A)});const r=e.startskogSets??null,s=e.markers??{},o=e.defaults??{},u=e.frameworks??{},i=Array.isArray(e.timelineOrder)?[...e.timelineOrder]:[...Fd],c=new Set(i);Object.values(u).forEach(A=>{!A||typeof A!="object"||Object.values(A).forEach(L=>{Array.isArray(L)&&L.forEach(D=>{const N=D?.time;N&&!c.has(N)&&(c.add(N),i.push(N))})})});const C=i,h=new Map;t.length&&r&&typeof r=="object"?Object.entries(r).forEach(([A,L])=>{const D=new Map;Array.isArray(L)&&L.forEach(N=>{const E=a.get(N);E&&D.set(N,E)}),h.set(A,D)}):Object.entries(s).forEach(([A,L])=>{const D=new Map;Array.isArray(L)&&L.forEach(N=>{N?.id!=null&&D.set(N.id,N)}),h.set(A,D)});const p=[];return Object.entries(u).forEach(([A,L])=>{const D=jd(A),N=L??{};h.forEach((E,V)=>{if(!E||E.size===0)return;const M=Array.from(E.keys()),_=Array.isArray(o[V])?o[V]:M;let B=new Set(_),K=new Set;const X=Array.isArray(N[V])?N[V]:[],Q=new Map;X.forEach(ce=>{ce?.time&&Q.set(ce.time,ce)}),C.forEach(ce=>{let W=new Set(B);const te=Q.get(ce);te&&(te.set&&(te.set==="base"?W=new Set(_):te.set==="all"?W=new Set(M):Array.isArray(te.set)&&(W=new Set(te.set))),Array.isArray(te.remove)&&te.remove.forEach(Z=>{W.delete(Z),K.add(Z)}),Array.isArray(te.add)&&te.add.forEach(Z=>{W.add(Z),K.delete(Z)})),B.forEach(Z=>{W.has(Z)||K.add(Z)}),W.forEach(Z=>{K.has(Z)&&K.delete(Z)}),D.forEach(Z=>{W.forEach(le=>{const ge=E.get(le)||a.get(le);ge&&p.push({id:ge.id,x:ge.x,y:ge.y,framework:Z,startskog:V,time:ce,removed:!1})}),K.forEach(le=>{const ge=E.get(le)||a.get(le);ge&&p.push({id:ge.id,x:ge.x,y:ge.y,framework:Z,startskog:V,time:ce,removed:!0})})}),B=new Set(W)})})}),p}function Nd(e){return e?Array.isArray(e.mycelium)?e.mycelium:e.markers&&e.frameworks||e.points&&e.startskogSets&&e.frameworks?Id(e):[]:[]}async function Pd(){const e=["/smplantor.json","/smaplantor.json"];for(const t of e){const a=await Ta(t);if(a)return a}return null}async function Ud(){const e=["/seedTrees.json","/overlays/seedTrees.json","/api/seedTrees"];for(const t of e){const a=await Ta(t);if(a)return a}return null}async function qd(){const e=["/kanteffekt.json","/overlays/kanteffekt.json","/api/kanteffekt"];for(const t of e){const a=await Ta(t);if(a)return a}return null}function Hd(){const{data:e,pending:t}=Ut("overlay-datasets-json",async()=>{const[i,c,C,h,p,A]=await Promise.all([Ta("/retentionTrees.json"),Ud(),Pd(),Ta("/hogstubbar.json"),Ta("/naturvard.json"),qd()]);return{"retention-trees":Array.isArray(i?.trees)?i.trees:[],"seed-trees":Array.isArray(c?.trees)?c.trees:[],smaplantor:Array.isArray(C?.trees)?C.trees:Array.isArray(C)?C:[],hogstubbar:Array.isArray(h?.stubbar)?h.stubbar:[],naturvard:Nd(p),kanteffekt:Array.isArray(A?.features)?A.features:[]}}),a={};pn.forEach(i=>{const c=$n[i].slug;a[i]={data:v(()=>e.value?.[c]??[]),pending:v(()=>t.value)}});const r=(i,c)=>Dd(a[i].data.value,c,$n[i]),s=i=>{const c={};return pn.forEach(C=>{c[C]=r(C,i)}),c},o=i=>{if(!i?.framework||!i?.time||!i?.startskog)return{...Ed};const c=s(i);return{retention:a.retention.pending.value||c.retention.length>0,kanteffekt:a.kanteffekt.pending.value||c.kanteffekt.length>0,rottacke:$d(i),seedTree:a.seedTree.pending.value||c.seedTree.length>0,smaplantor:a.smaplantor.pending.value||c.smaplantor.length>0,hogstubbar:a.hogstubbar.pending.value||c.hogstubbar.length>0,naturvardsarter:a.naturvardsarter.pending.value||c.naturvardsarter.length>0,tradplantor:Rd(i)}},u=v(()=>t.value||pn.some(i=>a[i].pending.value));return{datasets:a,filterDataset:r,filterAll:s,availabilityFor:o,pendingAny:u}}const ia=Sa({open:!1,key:null,anchor:null});function Kd(e){if(e instanceof HTMLElement){const t=e.getBoundingClientRect();return{x:t.left,y:t.top,width:t.width,height:t.height}}return e}function Wd(){function e(a,r){const s=Kd(r);ia.key=a,ia.anchor=s,ia.open=!0}function t(){ia.open=!1,ia.key=null,ia.anchor=null}return{...tr(ia),show:e,hide:t}}const Yd={class:"relative flex flex-col w-full h-dvh"},Gd={class:"space-y-0.5 p-3"},Xd={class:"grid grid-cols-2 gap-2"},Zd={class:"flex flex-col text-center items-center w-full space-y-1"},Jd={class:"flex flex-col text-center items-center w-full space-y-1"},Qd={class:"absolute top-0 z-50 w-full sm:flex"},ev={class:"sm:flex items-center border-muted sm:p-1"},tv={class:"flex w-full sm:w-fit h-fit justify-center pt-5 pb-0 sm:pb-0 items-center sm:items-start"},av={class:"w-full"},rv={class:"hidden sm:block pl-4 pt-4"},nv={key:0,class:"absolute top-3 right-3"},sv={class:"flex sm:justify-center items-center overflow-x-scroll md:overflow-hidden my-3 h-fit sm:mt-8 sm:my-0 gap-2"},lv={class:"p-1 flex flex-col gap-1"},iv={class:"w-full max-w-full"},ov={class:"inline-flex flex-nowrap whitespace-nowrap gap-2"},uv={class:"flex justify-center"},cv={class:"absolute bottom-8 left-1/2 transform -translate-x-1/2 p-4 sm:p-0 space-y-2 sm:space-y-0 pointer-events-none sm:flex gap-2 items-center z-40"},dv={class:"sm:hidden z-50"},vv={class:"relative"},fv={key:0,class:"space-y-4"},mv={class:"space-y-2"},pv=["innerHTML"],hv={class:"space-y-2"},gv=["innerHTML"],bv={key:1,class:"text-sm text-neutral-400"},yv={key:1,class:"w-full"},kv={class:"flex items-center justify-between gap-3"},_v={class:"text-sm font-medium text-neutral-700"},xv={key:0,class:"space-y-2"},wv=["innerHTML"],Sv={class:"space-y-2"},Cv=["innerHTML"],Av={key:1,class:"text-sm text-neutral-400"},Tv={class:"sm:p-3 sm:pt-0"},Vv={class:"flex flex-wrap gap-1.5 sm:gap-2 p-2 sm:p-4"},Lv={class:"flex items-start justify-between gap-3"},Mv={class:"flex items-start gap-2"},zv={class:"text-base font-semibold text-neutral-800"},Ov={class:"flex gap-1"},Bv={class:"text-sm text-neutral-600 leading-relaxed"},Dv={class:"ui-zoom-reapply relative flex flex-col flex-1 w-full"},Fv={class:"flex flex-1"},Ev={class:"absolute bottom-4 right-0 z-50 flex flex-col items-center"},$v={class:"flex items-center justify-center gap-2"},Rv={class:"flex w-full mt-4"},jv={class:"flex flex-col gap-2 p-4"},Iv={class:"flex w-full"},Nv={class:"flex w-full justify-between"},Pv={class:"flex w-full justify-between"},Uv={key:0,class:"space-y-1.5 sm:p-4 p-2 max-w-sm z-50 absolute top-28 right-0 transform-all text-end pointer-events-none"},qv={class:"flex items-center gap-1"},Hv={key:1},Kv={class:"p-3 space-y-2"},Wv={class:"flex w-full justify-between"},Yv={class:"flex items-start gap-2"},Gv={class:"text-sm font-semibold text-neutral-800"},Xv={key:0,class:"text-sm text-neutral-600 leading-relaxed"},Zv={key:1,class:"text-xs text-neutral-400"},Jv={key:0,class:"absolute p-2 w-full"},Qv={class:"flex justify-between p-2 items-center mb-2"},ef={class:"flex items-center justify-between gap-2"},tf={class:"flex items-center gap-1"},af={class:"min-w-[3ch] text-sm text-neutral-700 dark:text-neutral-200 text-center"},rf={key:0,class:"space-y-2 w-full"},nf={class:"flex flex-col"},sf={class:"text-md font-medium"},lf={key:0,class:"text-sm text-neutral-500"},of={class:"flex flex-col"},uf={class:"text-md font-medium"},cf={key:0,class:"text-sm text-neutral-500"},df={class:"flex flex-col"},vf={class:"text-md font-medium"},ff={key:0,class:"text-sm text-neutral-500"},mf={class:"w-full mt-1 relative"},pf={class:""},hf={class:"space-y-2"},gf={class:"relative flex-1"},bf={key:0,class:"w-full h-full"},yf={key:0,class:"absolute inset-y-0 right-0 w-68 bg-white dark:bg-neutral-950/70 backdrop-blur-2xl overflow-auto z-10 pointer-events-auto border-neutral-300 dark:border-neutral-700 border-l"},kf={class:"px-4 py-2"},_f={class:"text-lg font-semibold text-neutral-800 dark:text-neutral-200"},xf={class:"text-neutral-400"},wf={key:1,class:we(["absolute max-h-screen z-50 top-0 w-sm left-0 overflow-auto transition-all shadow-2xl border-r bg-white border-neutral-100/10 rounded-br-sm duration-300 ease-in-out backdrop-blur-2xl hide-scrollbar"])},Sf={class:"p-4"},Cf={key:0},Af={class:"text-xl font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},Tf={class:"p-2 flex flex-col gap-2"},Vf=["onClick"],Lf={class:"font-medium"},Mf={class:"text-sm text-neutral-300"},zf={class:"flex justify-between"},Of={class:"text-md text-neutral-200"},Bf={key:0,class:"my-4"},Df=["innerHTML"],Ff=["innerHTML"],Ef={key:1,class:"my-4 text-neutral-300 text-sm"},$f={key:1,class:"space-y-2"},Rf={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},jf={class:"p-2 flex flex-col gap-2"},If=["onClick"],Nf={class:"font-medium"},Pf={class:"text-sm text-neutral-300"},Uf={class:"flex justify-between"},qf={key:0,class:"my-4"},Hf=["innerHTML"],Kf=["innerHTML"],Wf={class:"flex justify-between"},Yf={class:"text-md text-neutral-200"},Gf={key:0,class:"my-4"},Xf=["innerHTML"],Zf=["innerHTML"],Jf={key:2,class:"space-y-2"},Qf={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},em={class:"p-2 flex flex-col gap-2"},tm=["onClick"],am={class:"font-medium"},rm={class:"text-sm text-neutral-300"},nm={class:"flex justify-between"},sm={class:"text-md text-neutral-200"},lm={key:0,class:"my-4"},im=["innerHTML"],om=["innerHTML"],um={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},cm={class:"p-2 flex flex-col gap-2"},dm=["onClick"],vm={class:"font-medium"},fm={class:"text-sm text-neutral-300"},mm={class:"flex justify-between"},pm={class:"text-md text-neutral-200"},hm={key:0,class:"my-4"},gm=["innerHTML"],bm=["innerHTML"],ym={class:"grid grid-cols-2 gap-4"},km={class:"w-full"},_m={class:"w-full"},gn="rodlistade",xm=220,$s="Ingen tidslinjeinformation hittades fr den hr kombinationen.",wm=Ee({__name:"Model",emits:["close"],async setup(e,{emit:t}){let a,r;const s=zi(()=>Bi(()=>import("./COgc1wYo.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url));let o;const u=Sa({}),i=Hd(),{hide:c}=Wd(),C=O(null);function h(l){if(!l)return null;if(typeof l=="string")return l;if(typeof l=="object"){if("value"in l&&typeof l.value=="string")return l.value;if("framework"in l&&typeof l.framework=="string")return l.framework;if("label"in l&&typeof l.label=="string")return l.label}return String(l??"")}const p={retention:()=>!!Me.value,kanteffekt:()=>!!ye.value,rottackeSkarmtrad:()=>!!H.value,rottackeBladning:()=>!!ee.value,seedTree:()=>!!ve.value,smaplantor:()=>!!Ce.value,hogstubbar:()=>!!_e.value,naturvardsarter:()=>!!Ve.value,tradplantor:()=>!!Le.value};function A(l,n){const y=p[l];if(y&&!y())return!1;const T=h(n.framework)||"",q=typeof n.time=="string"?n.time:h(n.time);if(l==="rottackeSkarmtrad")return(T==="skrmtrd"||T==="skarmtrad")&&q==="efter";if(l==="rottackeBladning")return T==="bldning"||T==="bladning"?q==="efter"||q==="20 r"||q==="50 r"||q==="80 r":!1;try{const ie=i.availabilityFor({framework:T,startskog:h(n.startskog),time:q});return!!(ie&&ie[l])}catch{return!1}}const L=v(()=>{const l=[],n=h(G?.value??G),y=h(Oe?.value??Oe),T=de?.value??de,q=Ze;return xe.value?(l.push({framework:n,startskog:T?.value??T,time:"innan"}),l.push({framework:n,startskog:T?.value??T,time:q})):pe.value?(l.push({framework:n,startskog:T?.value??T,time:q}),l.push({framework:y,startskog:T?.value??T,time:q})):l.push({framework:n,startskog:T?.value??T,time:q}),l});function D(l){const n=L.value;for(const y of n)if(A(l,y))return!0;return!1}const[N,E]=Ai(),V=Nn("(max-width: 767px)"),M=[{label:"Text",icon:"i-heroicons-book-open",slot:"text",value:"text"},{label:"Markrer",icon:"i-material-symbols-location-on",slot:"markers",value:"markers"},{label:"Diagram",icon:"i-carbon-chart-line-smooth",slot:"diagram",value:"diagram"}],{public:{dziBaseUrl:_="https://assets.svampskog.se/dzi_v3",dziVersionSuffix:B=""}={}}=Ti(),K=_,X=B;function Q(l){return l?l.toString().toLowerCase().replace(//g,"a").replace(//g,"a").replace(//g,"o").replace(/[^a-z0-9_-]/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,""):""}function ce({framework:l,timeLabel:n,fungiVisibility:y,treeVisibility:T,startskog:q}){const at=[l,n,y,T,q].map(la=>Q(la)).filter(Boolean).join("_"),wa=Q(X);return wa?`${at}_${wa}`:at}function W(l){return`${K}/${ce(l)}.dzi`}const{data:te}=([a,r]=ua(()=>Ut("forestry-timeline-modelc",()=>ca("forestryTimelines").first())),a=await a,r(),a),{data:Z}=([a,r]=ua(()=>Ut("overlay-texts-model",()=>ca("overlayTexts").first())),a=await a,r(),a),le=v(()=>{const l=te.value;if(!l)return[];if(Array.isArray(l)){const n=l.find(y=>y?.id==="skogsskotsel")||l[0];return Array.isArray(n?.entries)?n.entries:[]}return Array.isArray(l.entries)?l.entries:[]}),ge=O(!1),oe=O("beforeAfterCompare"),be=O("slider"),Be=t,Re=O(!1),$e=O(!1),je=O(!1),Me=O(!1),ye=O(!1),ne=O(!1),Ve=O(!1),H=O(!1),ee=O(!1),ve=O(!1),Ce=O(!1),_e=O(!1),Le=O(!1),ft=O(1),fe=O(!1),Ue=O(!1);function Da(){fe.value=!fe.value}function z(){Ue.value=!Ue.value}const Ge=["retention","kanteffekt","rottackeSkarmtrad","rottackeBladning","seedTree","smaplantor","hogstubbar","naturvardsarter","tradplantor"],lr=O([]);function Fa(l,n){const y=lr.value,T=y.indexOf(l);n?(T!==-1&&y.splice(T,1),y.push(l)):T!==-1&&y.splice(T,1)}const ma=Bd(),pa=v({get:()=>ma.staticOverlayVisible,set:l=>ma.setStaticOverlayVisible(l)}),nt=O(!1),Ft=O(!1),qe=O(null);O(!1);const st=O(!1),Qe=O("skogsskole"),Et=O(!1),De=O(!1),Wt=O("text");function Hr(){Wt.value="diagram",De.value=!0;try{V.value||c?.()}catch{}}const Ea=v({get:()=>De.value,set:l=>{De.value=l}}),ha=O(!1);v({get:()=>st.value,set:l=>{st.value=l}});function $a(l){const n=Array.isArray(na?.value)?na.value:[];if(!n.length)return;const y=n.map(ie=>String(ie.value)),T=String(sa.value);let q=y.indexOf(T);if(q===-1&&(q=0),l<0){for(let ie=q-1;ie>=0;ie--)if(!n[ie]?.disabled){sa.value=String(n[ie].value);return}return}else{for(let ie=q+1;ie<n.length;ie++)if(!n[ie]?.disabled){sa.value=String(n[ie].value);return}return}}function Yt(l){return(l||"").toString().trim().toLowerCase()}const $t=v(()=>Array.isArray(na?.value)?na.value:Array.isArray(na)?na:[]),Gt=v(()=>{const n=$t.value.map(y=>String(y.value)).indexOf(String(sa.value));return n===-1?0:n}),Rt=v(()=>{for(let l=Gt.value-1;l>=0;l--)if(!$t.value[l]?.disabled)return $t.value[l];return null}),pt=v(()=>{for(let l=Gt.value+1;l<$t.value.length;l++)if(!$t.value[l]?.disabled)return $t.value[l];return null}),St=v(()=>!!Rt.value),Ra=v(()=>!!pt.value);function ga(l){try{const n=G.value&&G.value.value,y=de.value&&de.value.value;return le.value.find(q=>q.atgard===n&&q.startskog===y&&Yt(q.tid)===Yt(l))?.skog||""}catch{return""}}const ja=v(()=>Rt.value?String(Rt.value.label??Rt.value.value):""),ir=v(()=>pt.value?String(pt.value.label??pt.value.value):""),Ia=v(()=>Rt.value?br(Number(Rt.value.value)):null),Kr=v(()=>pt.value?br(Number(pt.value.value)):null);v(()=>ga(Ia.value)),v(()=>ga(Kr.value));function Wr(){$a(-1)}function Na(){$a(1)}const Yr=[{re:/hnsynstrd/gi,overlay:"retention"},{re:/evighetstrd/gi,overlay:"retention"},{re:/hyggeskanterna/gi,overlay:"kanteffekt"},{re:/luckorna/gi,overlay:"kanteffekt"},{re:/frtrdens rtter/gi,overlay:"seedTree"},{re:/frtrd/gi,overlay:"seedTree"},{re:/skrmtrdens rtter/gi,overlay:"rottackeSkarmtrad"},{re:/smplantor/gi,overlay:"smaplantor"},{re:/hgstubbar/gi,overlay:"hogstubbar"},{re:/rdlistade svampar/gi,overlay:"naturvardsarter"},{re:/rdlistad art/gi,overlay:"naturvardsarter"},{re:/Trdplantor/gi,overlay:"tradplantor"}];function Ct(l=""){return String(l).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ke(l=""){let n=Ct(l);n=n.replace(/Visa\s+naturvrdsdiagram/gi,()=>'<a href="#" data-action="show-diagram">Visa naturvrdsdiagram</a>');for(const y of Yr)n=n.replace(y.re,T=>`<span class=" text-primary-500 font-medium underline cursor-pointer hover:opacity-80" data-overlay="${y.overlay}">${T}</span>`);return n}const Gr=new Set(Ge),or=l=>typeof l=="string"&&Gr.has(l);function ht(l){const n=l.target;if(!n)return;const y=n.closest("[data-action]");if(y&&y.getAttribute("data-action")==="show-diagram"){l.preventDefault(),rn();return}const T=n.closest("[data-overlay]");if(!T)return;const q=T.getAttribute("data-overlay");or(q)&&Ql(q)}O(!1),v(()=>[{value:"sideBySide",label:"Sida vid sida"},{value:"slider",label:"Skjutreglage"}]);const At=v(()=>Nt.map((l,n)=>({value:n,label:l.label,description:l.text}))),Xt=O(!0),et=O(!1),Xr=O(!1),ur=O(85);let cr=0,Zr=ur.value;function dr(l){if(!Zt)return;const y=(l.clientX-cr)/16;ur.value=Zr+y}function Pa(){Zt=!1,window.removeEventListener("pointermove",dr),window.removeEventListener("pointerup",Pa)}Ot(()=>{window.removeEventListener("pointermove",dr),window.removeEventListener("pointerup",Pa)});const vr=O(600);let Zt=!1,jt=0,fr=vr.value;function mr(l){if(!Zt)return;const n=l.clientY-jt;vr.value=fr+n}function d(){Zt=!1,window.removeEventListener("pointermove",mr),window.removeEventListener("pointerup",d)}Ot(()=>{window.removeEventListener("pointermove",mr),window.removeEventListener("pointerup",d)}),O(!1),O(!1);const g=O(!0),w=O(1),S=v(()=>{const l=G.value.value,n=ra(Ke.value),y="visa",T=lt.value?"visa":"dlj",q=de.value.value;return W({framework:l,timeLabel:n,fungiVisibility:T,treeVisibility:y,startskog:q})}),x=v(()=>{const l=G.value.value,n="fre",y="visa",T=lt.value?"visa":"dlj",q=de.value.value;return W({framework:l,timeLabel:n,fungiVisibility:T,treeVisibility:y,startskog:q})}),$=v(()=>{const l=G.value.value,n=ra(Ke.value),y="visa",T=lt.value?"visa":"dlj",q=de.value.value;return W({framework:l,timeLabel:n,fungiVisibility:T,treeVisibility:y,startskog:q})}),Y=v(()=>{const l=G.value.value,n=ra(Ke.value),y="visa",T=lt.value?"visa":"dlj",q=de.value.value;return W({framework:l,timeLabel:n,fungiVisibility:T,treeVisibility:y,startskog:q})}),J=v(()=>{const l=Oe.value.value,n=ra(Ke.value),y="visa",T=lt.value?"visa":"dlj",q=de.value.value;return W({framework:l,timeLabel:n,fungiVisibility:T,treeVisibility:y,startskog:q})}),Fe=Od(),re=v(()=>Fe.selectedAnnotation);function ze(l){if(Fe.setSelectedAnnotation(l),l.position&&Ka.value){const n=Ka.value.getZoom();Ka.value.setZoomAndCenter(n,l.position)}}function He(){Fe.clearSelectedAnnotation()}const me=O(null);O("line");const It=Ld();O(!1);const lt=O(!0),xe=v(()=>ge.value&&oe.value==="beforeAfterCompare"),pe=v(()=>ge.value&&oe.value==="frameworkCompare"),it=v({get:()=>It.selectedFramework,set:l=>It.selectedFramework=l}),Xn=v({get:()=>It.selectedStartskog??0,set:l=>{It.selectedStartskog=l}}),ba=O(it.value),Oe=v(()=>Nt[ba.value]||Nt[0]);function Wl(l){if(!l)return[];const n=["fre","efter"];return l==="skrmtrd"&&!pe.value&&n.push("10"),n.push("20","50","80"),n}function Zn(l){if(!l)return[];const n=de.value?.value;if(!n)return[];const y=lt.value?"visa":"dlj",T=Wl(l),q=[];for(const ie of T)q.push(W({framework:l,timeLabel:ie,fungiVisibility:y,treeVisibility:"dlj",startskog:n})),q.push(W({framework:l,timeLabel:ie,fungiVisibility:y,treeVisibility:"visa",startskog:n}));return Array.from(new Set(q))}const Jt=v(()=>Zn(G.value?.value)),Jn=v(()=>Zn(Oe.value?.value));se([pe,xe],([l,n])=>{(!l||!n)&&(ii.value="framework1")}),mt(()=>{o=to({o:()=>Ea.value=!Ea.value,n:()=>{Ve.value=!Ve.value}})}),qs(()=>{typeof o=="function"&&o(),bt&&(clearTimeout(bt),bt=null),aa=!1,ta=!0});const Yl=l=>{const n=Jr.findIndex(y=>y.value===l.value);n!==-1&&(Xn.value=n),ha.value=!1},Nt=[{id:0,label:"Ingen tgrd",value:"naturskydd",text:"Orrd skog",icon:"pepicons-pop:tree-circle",iconColor:"text-green-500"},{id:1,label:"Trakthygge",value:"trakthygge",text:"Kalavverkning med hnsyn",icon:"material-symbols:resize",iconColor:"text-violet-500"},{id:2,label:"Luckhuggning",value:"luckhuggning",text:"Mindre ytor kalavverkas",icon:"pixelarticons:chess",iconColor:"text-sky-500"},{id:3,label:"verhllen skrm",value:"skrmtrd",text:"Avverkning i tre steg under 20 r",icon:"catppuccin:redwood",iconColor:"text-orange-500"},{id:4,label:"Bldning",value:"bldning",text:"Enstaka trd gallras",icon:"lineicons:trees",iconColor:"text-teal-500"}],Jr=[{label:"Inte kalavverkad",value:"naturskog"},{label:"Kalavverkad",value:"produktionsskog_"}],G=v(()=>Nt[it.value!==void 0?it.value:0]),de=v(()=>Jr[Xn.value]),gt=v(()=>G.value?.value),Qr=v(()=>de.value?.value??null),ya=v(()=>gt.value==="trakthygge"),ka=v(()=>gt.value==="luckhuggning"),pr=v(()=>gt.value==="bldning"||gt.value==="bladning"),Tt=v(()=>gt.value==="skrmtrd"||gt.value==="skarmtrad"),Qt={retention:{title:"Hnsynstrd",description:"De flesta mykorrhizasvamparna som vxte med trdens rtter fre avverkningen finns kvar och lever vidare. Mycel kan vxa in i och spridas till uppvxande trdplantor.",condition:()=>Me.value&&gt.value!=="naturskydd",close:()=>{Me.value=!1}},kanteffekt:{title:"Kanteffekt",description:"Mykorrhizasvamp p trdens rtter i skogskanten kan strcka sig 1015 meter in p hygget; starkast nrmast kanten.",condition:()=>ye.value&&(ya.value||ka.value||Tt.value),close:()=>{ye.value=!1}},rottackeSkarmtrad:{title:"Rottcke skrmtrd",description:"Kontinuerligt rottcke kopplat till verhllen skrm (1 r efter).",condition:()=>H.value&&Tt.value,close:()=>{H.value=!1}},rottackeBladning:{title:"Rottcke bldning",description:"Kontinuerligt rottcke kopplat till bldning (efter, 20, 50, 80 r).",condition:()=>ee.value&&pr.value,close:()=>{ee.value=!1}},seedTree:{title:"Frtrd",description:"Mycel fortstter leva p frtrdens rtter och kan koppla till nya plantor.",condition:()=>ve.value&&Tt.value,close:()=>{ve.value=!1}},smaplantor:{title:"Yngre trd och plantor som lmnats",description:"Undviks underrjning fre avverkning, kommer mykorrhizasvampar att verleva p dessa plantor och trd p samma stt som de gr p rtterna av hnsynstrd.",condition:()=>Ce.value,close:()=>{Ce.value=!1}},hogstubbar:{title:"Hgstubbar",description:"Hr finns inga levande mykorrhizamycel. Trdets rtter r dda.",condition:()=>_e.value,close:()=>{_e.value=!1}},naturvardsarter:{title:"Naturvrdsarter",description:"Naturvrdsarter har ofta speciella miljkrav, och frekommer frmst i ldre skog. Generellt kan mycel av mykorrhizasvampar leva vidare p en plats s lnge det finns levande trd. Svampindividers mycel kan likt trd bli mnga decennier till potentiellt sekler gamla.",condition:()=>Ve.value&&(ya.value||ka.value||pr.value||Tt.value),close:()=>{Ve.value=!1}},tradplantor:{title:"Planterade sm trdplantor",description:"Har med sig spontant etablerad mykorrhiza frn plantskolan dr de odlades upp. Det r dock f arter. Dessa erstts succesivt med bttre anpassade och svamparter som finns p platsen.",condition:()=>Le.value&&ya.value,close:()=>{Le.value=!1}}},Qn=v(()=>{const l=Z.value,n=Array.isArray(l)?l.find(T=>Array.isArray(T?.entries))?.entries??[]:l?.entries??[],y={};return n.forEach(T=>{const q=T?.key;if(!q||!(q in Qt))return;const ie=Qt[q];y[q]={title:T.title??ie.title,description:T.description??ie.description}}),Ge.forEach(T=>{if(!y[T]){const q=Qt[T];y[T]={title:q.title,description:q.description}}}),y}),Ua={staticOverlay:"i-material-symbols-light-rectangle-outline",retention:"i-pepicons-pop-tree-circle",kanteffekt:"i-healthicons-square-medium-negative",rottackeSkarmtrad:"i-game-icons-tree-roots",rottackeBladning:"i-game-icons-tree-roots",seedTree:"i-teenyicons-redwoodjs-outline",smaplantor:"i-pepicons-pop-seedling-circle",hogstubbar:"i-roentgen-wood",naturvardsarter:"i-material-symbols-award-star-outline",tradplantor:"i-hugeicons-plant-02"},en=v(()=>{const l={staticOverlay:{title:"Bestndsgrns",description:"Visar grnsen fr den berrda skogen"}};return Ge.forEach(n=>{const y=Qt[n],T=Qn.value[n];l[n]={title:T?.title??y.title,description:T?.description??y.description}}),l});function hr(l){const n=en.value[l]??{title:l,description:""},y=Ua[l];return{title:n.title,description:n.description,icon:y}}const tt=Sa({staticOverlay:!1,retention:!1,kanteffekt:!1,rottackeSkarmtrad:!1,rottackeBladning:!1,seedTree:!1,smaplantor:!1,hogstubbar:!1,naturvardsarter:!1,tradplantor:!1}),ea={staticOverlay:pa,retention:Me,kanteffekt:ye,rottackeSkarmtrad:H,rottackeBladning:ee,seedTree:ve,smaplantor:Ce,hogstubbar:_e,naturvardsarter:Ve,tradplantor:Le};function tn(l,n={}){const y=ea[l];if(!y)return;const T=l,q=n.hideWhenUnpin??!0,ie=!tt[T];if(tt[T]=ie,ie){y.value||(y.value=!0),qe.value=T;return}q&&(qe.value===T?gr({hideOverlay:!0}):y.value&&(y.value=!1))}const Gl=l=>(l||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),Xl=v(()=>{const l=new Set,n=y=>{const T=Gl(y);T&&l.add(T)};return n(G.value?.value),pe.value&&n(Oe.value?.value),l}),Zl={staticOverlay:"all",naturvardsarter:"all",retention:["trakthygge","luckhuggning","skarmtrad","bladning"],kanteffekt:["trakthygge","luckhuggning","skarmtrad"],tradplantor:["trakthygge"],smaplantor:["trakthygge"],hogstubbar:["trakthygge"],rottackeBladning:["bladning"],rottackeSkarmtrad:["skarmtrad"],seedTree:["skarmtrad"]};function es(l){const n=Zl[l];if(!n||n==="all")return!0;const y=Xl.value;return y.size?n.some(T=>y.has(T)):!0}const ts=v(()=>{const l=en.value,n=[];return es("staticOverlay")&&n.push({key:"staticOverlay",label:l.staticOverlay?.title??"Bestndsgrns",description:l.staticOverlay?.description??"",icon:Ua.staticOverlay}),Ge.forEach(y=>{es(y)&&n.push({key:y,label:l[y]?.title??y,description:l[y]?.description??"",icon:Ua[y]??void 0})}),n}),as=v(()=>{const l={staticOverlay:{label:en.value.staticOverlay?.title??"Bestndsgrns",icon:Ua.staticOverlay}};return Ge.forEach(n=>{l[n]={label:Qn.value[n]?.title??Qt[n].title,icon:Ua[n]??void 0}}),ts.value.forEach(n=>{l[n.key]={label:n.label,icon:n.icon}}),l}),_a=v(()=>{const l=qe.value;if(!l||!an(l))return null;const n=hr(l);return{key:l,title:n.title,description:n.description}}),qa=v(()=>{const l=qe.value;return l?tt[l]:!1}),rs=v(()=>{const l=qe.value;return l?as.value[l]?.icon??null:null}),ns=v(()=>{const l=as.value,n=ti.value,y=[];return tt.staticOverlay&&y.push({key:"staticOverlay",title:l.staticOverlay?.label??"Bestndsgrns",icon:l.staticOverlay?.icon||null,isAssociated:!0}),Ge.forEach(T=>{tt[T]&&y.push({key:T,title:l[T]?.label??Qt[T].title,icon:l[T]?.icon||null,isAssociated:n[T]??!0})}),y});se(De,l=>{l&&st.value&&(st.value=!1)}),se(st,l=>{l&&De.value&&(De.value=!1)});let bt=null,ta=!0,aa=!1;function Jl(l){tn(l)}function Vt(l){Object.keys(ea).forEach(n=>{n!==l&&(tt[n]||ea[n]?.value&&(ea[n].value=!1))})}function an(l){const n=Qt[l];return!!n&&n.condition()}function Lt(l){const n=an(l);if(Fa(l,n),n){qe.value=l,Ft.value&&(nt.value=!0,Ft.value=!1,V.value||c());return}if(qe.value===l){const y=lr.value.slice().reverse().find(T=>an(T));y?(qe.value=y,Ft.value&&(nt.value=!0,Ft.value=!1,V.value||c())):(gr({hideOverlay:!1}),c())}}function Ql(l){const n=ea[l];if(n){if(Ft.value=!0,!n.value){n.value=!0;return}qe.value=l,nt.value=!0,Ft.value=!1,c()}}async function rn(l={}){Hr(),Qe.value=gn,Et.value=!0,await Bt(),C.value?.setSelectedChart&&(C.value.setSelectedChart(gn),Et.value=!1),l.badgeKey&&(u[l.badgeKey]=!1),V.value||c();try{gr({hideOverlay:!1})}catch{}try{tt.naturvardsarter=!0;const n=ea.naturvardsarter;n&&!n.value&&(n.value=!0)}catch{}}se([Wt,()=>C.value],async([l,n])=>{if(l==="diagram"&&Et.value&&n?.setSelectedChart){await Bt();try{n.setSelectedChart(gn)}finally{Et.value=!1}}});function gr(l={}){aa=!0;const n=qe.value;if(ta=l.hideOverlay??(n?!tt[n]:!0),!n){aa=!1,ta=!0,nt.value=!1,c();return}if(!nt.value){ss();return}nt.value=!1}function ss(){bt&&(clearTimeout(bt),bt=null);const l=qe.value;if(!l){ta=!0,aa=!1;return}const n=ta;if(qe.value=null,ta=!0,aa=!1,n){const y=ea[l];y&&y.value&&(y.value=!1),c()}}se(nt,(l,n)=>{if(bt&&(clearTimeout(bt),bt=null),!l&&n){if(!aa){const y=qe.value;ta=y?!tt[y]:!0}bt=setTimeout(()=>{ss()},xm)}else l&&(aa=!1)}),se(Ea,l=>{l||(gr({hideOverlay:!1}),V.value||c())}),mt(()=>{try{pa.value||(pa.value=!0)}catch{}tt.staticOverlay=!0}),se(Me,l=>{l&&Vt("retention"),Lt("retention")},{immediate:!0}),se(ye,l=>{l&&Vt("kanteffekt"),Lt("kanteffekt")},{immediate:!0}),se(ee,l=>{l&&Vt("rottackeBladning"),Lt("rottackeBladning")},{immediate:!0}),se(ve,l=>{l&&Vt("seedTree"),Lt("seedTree")},{immediate:!0}),se(Ce,l=>{l&&Vt("smaplantor"),Lt("smaplantor")},{immediate:!0}),se(_e,l=>{l&&Vt("hogstubbar"),Lt("hogstubbar")},{immediate:!0}),se(Ve,l=>{l&&Vt("naturvardsarter"),Lt("naturvardsarter")},{immediate:!0}),se(Le,l=>{l&&Vt("tradplantor"),Lt("tradplantor")},{immediate:!0}),se(pa,l=>{l&&Vt("staticOverlay")}),se(gt,()=>{Ge.forEach(l=>Lt(l))});const Ke=O(3);function ei(l){xe.value&&l.value===3||(Ke.value=l.value)}function br(l){return{3:"innan",15:"efter",30:"10 r",45:"20 r",70:"50 r",99:"80 r"}[l]||"innan"}function ra(l){const n=xa.value.find(y=>y.value===l);return n?n.timeLabel:"fre"}const xa=v(()=>{const n=[{value:3,label:G.value?.value==="naturskydd"?"Ingen avverkning":"Fre avverkning",timeLabel:"fre"},{value:15,label:"1 r efter",timeLabel:"efter"}];return G.value?.value==="skrmtrd"&&!pe.value&&n.push({value:30,label:"10 r efter",timeLabel:"10"}),n.push({value:45,label:"20 r efter ",timeLabel:"20"},{value:70,label:"50 r efter ",timeLabel:"50"},{value:99,label:"+ 80 r efter ",timeLabel:"80"}),n}),na=v(()=>xa.value.map(l=>({value:String(l.value),label:l.label,disabled:xe.value&&l.value===3}))),sa=v({get(){return String(Ke.value)},set(l){const n=xa.value.find(y=>String(y.value)===l);n&&ei(n)}}),Xe=v(()=>{const l=xa.value.find(n=>n.value===Ke.value);return l?l.label:""}),ls=v(()=>xe.value?3:null);v(()=>ls.value!==null?br(ls.value):null);const Ze=v(()=>br(Ke.value)),is=v(()=>({framework:gt.value??null,startskog:Qr.value??null,time:Ze.value??null})),ti=v(()=>i.availabilityFor(is.value)),he=v(()=>i.filterAll(is.value)),ai=v(()=>({framework:gt.value??null,startskog:Qr.value??null,time:xe.value?"innan":Ze.value??null})),ot=v(()=>i.filterAll(ai.value)),ri=v(()=>({framework:Oe.value?.value??null,startskog:Qr.value??null,time:Ze.value??null})),ut=v(()=>i.filterAll(ri.value)),ct=v(()=>!G.value?.value||!Ze.value||!de.value?.value?null:le.value.find(l=>l.atgard===G.value.value&&l.tid===Ze.value&&l.startskog===de.value.value)),yr=v(()=>!Oe.value?.value||!Ze.value||!de.value?.value?null:le.value.find(l=>l.atgard===Oe.value.value&&l.tid===Ze.value&&l.startskog===de.value.value)),kr=v(()=>!G.value?.value||!de.value?.value?null:le.value.find(l=>l.atgard===G.value.value&&l.tid==="innan"&&l.startskog===de.value.value)),_r=v(()=>{const l=[],n=G.value?.label??"",y=Oe.value?.label??"",T=Xe.value??"";return xe.value?(l.push({key:"before",left:n,right:"Fre avverkning",info:kr.value??null}),l.push({key:"after",left:n,right:T,info:ct.value??null})):pe.value?(l.push({key:"framework1",left:n,right:T,info:ct.value??null}),l.push({key:"framework2",left:y,right:T,info:yr.value??null})):l.push({key:"single",left:n,right:T,info:ct.value??null}),l});v(()=>{const l=_r.value.filter(n=>!!n.info).length;return V.value&&l>1&&(xe.value||pe.value)});const os=Sa({});function ni(l){os[l]||(os[l]={skog:!0,svamp:!0})}se(_r,l=>{l.forEach(n=>ni(n.key))},{immediate:!0});function us(l){ge.value=l,l&&oe.value||(oe.value="beforeAfterCompare")}const cs=v(()=>{const l=G.value.value,n="fre",y="dlj",T=lt.value?"visa":"dlj",q=de.value.value;return W({framework:l,timeLabel:n,fungiVisibility:T,treeVisibility:y,startskog:q})}),ds=v(()=>{const l=Oe.value.value,n=ra(Ke.value),y="dlj",T=lt.value?"visa":"dlj",q=de.value.value;return W({framework:l,timeLabel:n,fungiVisibility:T,treeVisibility:y,startskog:q})});v(()=>{const l=G.value.value.toLowerCase(),n=ra(Ke.value);return`${l}_${n}`});const Ha=v(()=>{const l=G.value.value,n=ra(Ke.value),y="dlj",T=lt.value?"visa":"dlj",q=de.value.value;return W({framework:l,timeLabel:n,fungiVisibility:T,treeVisibility:y,startskog:q})});se([G,xe,pe],()=>{xa.value.map(n=>n.value).includes(Ke.value)||(Ke.value=15)});const Ka=O(null),yt=O(null),kt=O(null);let nn=!1,sn=!1;function vs(){if(sn)return;nn=!0;const l=yt.value?.getZoom(),n=yt.value?.getCenter();l&&n&&kt.value&&kt.value.setZoomAndCenter(l,n),nn=!1}function fs(){if(nn)return;sn=!0;const l=kt.value?.getZoom(),n=kt.value?.getCenter();l&&n&&yt.value&&yt.value.setZoomAndCenter(l,n),sn=!1}function Pt(l){l==="before"&&yt.value?(yt.value.addSyncHandler("zoom",vs),yt.value.addSyncHandler("pan",vs)):l==="after"&&kt.value?(kt.value.addSyncHandler("zoom",fs),kt.value.addSyncHandler("pan",fs)):l==="framework1"&&_t.value?(_t.value.addSyncHandler("zoom",ms),_t.value.addSyncHandler("pan",ms)):l==="framework2"&&xt.value&&(xt.value.addSyncHandler("zoom",ps),xt.value.addSyncHandler("pan",ps))}let ln=!1,on=!1;function ms(){if(on)return;ln=!0;const l=_t.value?.getZoom(),n=_t.value?.getCenter();l&&n&&xt.value&&xt.value.setZoomAndCenter(l,n),ln=!1}function ps(){if(ln)return;on=!0;const l=xt.value?.getZoom(),n=xt.value?.getCenter();l&&n&&_t.value&&_t.value.setZoomAndCenter(l,n),on=!1}const _t=O(null),xt=O(null);let un=null;const hs=O({zoom:1,center:null});function xr(l,{zoom:n,center:y}={}){!n||!y||un!==l&&(un=l,hs.value={zoom:n,center:y})}function si(){return!xe.value&&!pe.value?{single:Ka.value}:xe.value?{before:yt.value,after:kt.value}:pe.value?{framework1:_t.value,framework2:xt.value}:{}}se(hs,({zoom:l,center:n})=>{const y=si();Object.entries(y).forEach(([T,q])=>{T!==un&&q&&q.setZoomAndCenter&&q.setZoomAndCenter(l,n)})});const Mt=O("single");v(()=>[{key:"framework1",label:G.value.label},{key:"framework2",label:Oe.value.label}]);const li=O(0);se(pe,l=>{l||(li.value=0)});const ii=O("none"),cn=[{label:"Fre / efter",value:"beforeAfterCompare"},{label:"Tv metoder",value:"frameworkCompare"}];function oi(){me.value&&me.value.toggleLayoutMode&&me.value.toggleLayoutMode(),console.log("Current layout:",be.value)}v(()=>({label:be.value==="sideBySide"?"Sida vid sida":"Skjutreglage",type:"button",onSelect(l){l.preventDefault(),oi()},icon:be.value==="sideBySide"?"i-circum-grid-2-v":"iconamoon:compare-duotone"})),v(()=>[{label:cn[0].label,type:"checkbox",checked:oe.value==="frameworkCompare",onUpdateChecked(l){l?oe.value="frameworkCompare":oe.value==="frameworkCompare"&&(oe.value=null)},onSelect(l){l.preventDefault()}},{label:cn[1].label,type:"checkbox",checked:oe.value==="beforeAfterCompare",onUpdateChecked(l){l?oe.value="beforeAfterCompare":oe.value==="beforeAfterCompare"&&(oe.value=null)},onSelect(l){l.preventDefault()}},{type:"separator"},{label:"Sida vid sida",type:"checkbox",checked:be.value==="sideBySide",onUpdateChecked(l){l&&(be.value="sideBySide",me.value&&me.value.setLayoutMode&&me.value.setLayoutMode("sideBySide"))},onSelect(l){l.preventDefault()},icon:"i-circum-grid-2-v"},{label:"Skjutreglage",type:"checkbox",checked:be.value==="slider",onUpdateChecked(l){l&&(be.value="slider",me.value&&me.value.setLayoutMode&&me.value.setLayoutMode("slider"))},onSelect(l){l.preventDefault()},icon:"iconamoon:compare-duotone"}]),v(()=>be.value==="sideBySide"?"i-circum-grid-2-v":"iconamoon:compare-duotone"),v(()=>oe.value==="frameworkCompare"?"Tv metoder":oe.value==="beforeAfterCompare"?"Fre / efter":"Jmfr"),se(oe,l=>{l==="frameworkCompare"?(xe.value=!1,pe.value=!0):l==="beforeAfterCompare"?(xe.value=!0,pe.value=!1):(xe.value=!1,pe.value=!1)}),se(be,l=>{me.value&&me.value.setLayoutMode&&me.value.setLayoutMode(l)}),se(xe,l=>{l&&Ke.value===3&&(Ke.value=15)});const gs=v(()=>{const l=xa.value.find(n=>n.value===Ke.value);return l?l.timeLabel:""}),ui=v(()=>{const l=G.value.value,n=gs.value.toLowerCase();return zd.annotations.flatMap(y=>{if(y.positions&&Array.isArray(y.positions))return y.positions.filter(T=>{const q=Array.isArray(T.framework)?T.framework.includes(l):T.framework===l,ie=Array.isArray(T.times)?T.times.map(at=>at.toLowerCase()).includes(n):T.times.toLowerCase()===n;return q&&ie}).map(T=>({...y,position:{x:T.x,y:T.y,placement:T.placement}}));{const T=Array.isArray(y.frameworks)?y.frameworks.includes(l):y.framework===l,q=Array.isArray(y.times)?y.times.map(ie=>ie.toLowerCase()).includes(n):y.time.toLowerCase()===n;return T&&q?[y]:[]}})});return se(Mt,l=>{console.log("activeViewer updated to:",l)}),(l,n)=>{const y=In,T=Ga,q=Di,ie=Ws,at=Vi,wa=Li,la=Ei,ci=eo,di=_d,Je=wd,bs=Mi,vi=Bo,ys=Vd;return b(),R("div",Yd,[k(V)?(b(),j(y,{key:0,icon:"i-heroicons-x-mark",variant:"solid",color:"error",class:"rounded-full h-fit absolute bottom-4 left-4 z-50",ui:{rounded:"rounded-full"},onClick:n[0]||(n[0]=f=>Be("close")),"aria-label":"Stng modellvy",size:"xl"})):I("",!0),F(k(N),null,{default:P(()=>[m("div",Gd,[m("div",Xd,[F(y,{size:"xs",variant:"outline",color:"neutral",onClick:n[1]||(n[1]=f=>us(!1)),class:we(ge.value?"text-muted/60 hover:text-muted ring-muted/50":"bg-neutral-100 shadow ring-muted")},{default:P(()=>[m("div",Zd,[F(T,{name:"i-bx-rectangle",class:"size-4"}),n[64]||(n[64]=m("h1",null,"Enkelvy",-1))])]),_:1},8,["class"]),F(y,{size:"xs",variant:"outline",color:"neutral",onClick:n[2]||(n[2]=f=>us(!0)),class:we(ge.value?"bg-neutral-100 shadow ring-muted":"text-muted/60 hover:text-muted ring-muted/50")},{default:P(()=>[m("div",Jd,[F(T,{name:"iconamoon:compare-duotone",class:"size-4"}),n[65]||(n[65]=m("h1",null,"Jmfr",-1))])]),_:1},8,["class"])]),ge.value?(b(),j(q,{key:0,modelValue:oe.value,"onUpdate:modelValue":n[3]||(n[3]=f=>oe.value=f),items:cn,size:"sm",placeholder:"Vlj",clearable:!0,class:"w-full ring-muted -mb-2 mt-2",ui:{root:"min-w-max flex-shrink-0",list:"flex-nowrap rounded-xl bg-muted/50 -mb-1.5 gap-2",indicator:"bg-white border border-muted/50 shadow ",trigger:" data-[state=active]:text-neutral-800 dark:data-[state=active]:text-violet-400/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary "}},null,8,["modelValue"])):I("",!0)])]),_:1}),m("div",null,[m("div",Qd,[m("div",ev,[m("div",tv,[m("div",av,[At.value.length?(b(),R("div",{key:0,class:we(["grid sm:gap-4 gap-2 pl-4 pr-2.5 sm:py-1 flex-row sm:items-center sm:justify-start h-fit w-full sm:w-fit",pe.value?"grid-cols-2":"grid-cols-1"])},[F(ie,{size:"xl",items:At.value,modelValue:it.value,"onUpdate:modelValue":n[4]||(n[4]=f=>it.value=f),placeholder:G.value.label,"append-to-body":"",variant:"outline",class:"ring-muted w-full shadow rounded-xl",ui:{content:"min-w-fit rounded-xl z-50",viewport:"text-center"}},null,8,["items","modelValue","placeholder"]),pe.value?(b(),j(ie,{key:0,size:"xl",items:At.value,modelValue:ba.value,"onUpdate:modelValue":n[5]||(n[5]=f=>ba.value=f),placeholder:Oe.value.label,"append-to-body":"",variant:"outline",class:"ring-muted w-full shadow rounded-xl",ui:{content:"rounded-xl min-w-fit z-50"}},null,8,["items","modelValue","placeholder"])):I("",!0)],2)):I("",!0),m("div",rv,[F(y,{size:"lg",color:"neutral",variant:"outline",class:"ring-muted rounded-full shadow",icon:De.value?"i-heroicons-chevron-left":"i-heroicons-chevron-right",onClick:n[6]||(n[6]=f=>De.value=!De.value)},null,8,["icon"])])]),m("div",null,[F(at,{ui:{content:"p-0 w-80 rounded-lg mr-2 z-50"},content:{side:"bottom",sideOffset:8,collisionPadding:8,align:"start"},class:"pointer-events-auto mr-4 sm:mt-1"},{content:P(()=>[F(k(E))]),default:P(()=>[F(y,{size:"xl",color:"neutral",variant:"outline",icon:"iconamoon:compare-duotone",class:"ring-muted/50 shadow rounded-full"})]),_:1})])]),k(V)?I("",!0):(b(),R("div",nv,[F(y,{icon:"i-heroicons-x-mark",variant:"solid",color:"error",class:"rounded-full",ui:{rounded:"rounded-full"},onClick:n[7]||(n[7]=f=>Be("close")),"aria-label":"Stng modellvy"})]))]),m("div",sv,[F(at,{class:"cursor-pointer z-50",open:ha.value,"onUpdate:open":n[8]||(n[8]=f=>ha.value=f),content:{side:"bottom",sideOffset:8,collisionPadding:8,align:"start"},ui:{content:"rounded-xl z-50"}},{content:P(()=>[n[66]||(n[66]=m("div",{class:"text-sm w-64 p-3 text-neutral-500 border-b border-neutral-200"}," Har skogen varit kalavverkad tidigare? ",-1)),m("div",lv,[(b(),R(Te,null,Ne(Jr,f=>m("div",{key:f.value},[F(y,{onClick:Ie=>Yl(f),size:"lg",color:"neutral",variant:"ghost",label:f.label,class:we(["hover:bg-neutral-100 cursor-pointer text-neutral-400 w-full rounded-lg",{" bg-neutral-100 text-neutral-800":de.value.value===f.value}]),icon:f.value==="naturskog"?"i-material-symbols-light-forest-rounded":"i-ph-farm"},null,8,["onClick","label","class","icon"])])),64))])]),default:P(()=>[F(y,{variant:(k(V),"soft"),color:"neutral",size:k(V)?"lg":"md",class:"rounded-full ring-muted h-fit ml-3 sm:ml-0",icon:de.value.value=="naturskog"?"i-material-symbols-light-forest-rounded":"i-ph-farm"},null,8,["variant","size","icon"])]),_:1},8,["open"]),m("div",iv,[m("div",ov,[(b(!0),R(Te,null,Ne(na.value,(f,Ie)=>(b(),j(y,{key:"time-btn-"+Ie,disabled:f?.disabled,size:(k(V),"md"),color:"neutral",variant:"outline",class:we(["rounded-full ring-muted/50 flex-none shrink-0 disabled:bg-neutral-900 disabled:text-white",String(sa.value)===String(f?.value)?"bg-neutral-900 text-white shadow hover:bg-neutral-900 ":"opacity-100 hover:opacity-100"]),label:String(f?.label??f?.value),"aria-pressed":String(sa.value)===String(f?.value),onClick:wr=>!f?.disabled&&(sa.value=String(f?.value))},null,8,["disabled","size","class","label","aria-pressed","onClick"]))),128))])])])]),m("div",uv,[m("div",cv,[F(bs,{direction:k(V)?"bottom":"left",inset:!k(V),dismissible:(k(V),!1),overlay:!1,handle:(k(V),!1),modal:!1,open:De.value,"onUpdate:open":n[16]||(n[16]=f=>De.value=f),class:"pointer-events-auto",ui:{header:"flex items-center justify-between",body:"p-0 ",container:"p-0 gap-0 ",content:"sm:max-w-xs sm:ring-muted/50 rounded-t-xl sm:rounded-xl sm:shadow sm:mt-18 sm:h-fit sm:overflow-visible",footer:"gap-0"}},{body:P(()=>[F(y,{class:we(["absolute top-1.5 sm:top-0 sm:-right-12 right-1.5 rounded-full transition-all ring-muted/50 pointer-events-auto z-50",De.value?"":"hidden"]),variant:"outline",color:"neutral",onClick:n[9]||(n[9]=f=>De.value=!1),icon:k(V)?"i-heroicons-x-mark":"i-heroicons-chevron-left",size:"lg"},null,8,["class","icon"]),m("div",vv,[F(q,{modelValue:Wt.value,"onUpdate:modelValue":n[11]||(n[11]=f=>Wt.value=f),items:M,variant:"pill",size:"sm",color:"neutral",ui:{root:"gap-0",content:"",list:"w-fit m-2 p-0.5 px-1 bg-muted/50",indicator:"shadow  bg-white active:text-neutral-900",trigger:"data-[state=active]:text-neutral-900"},class:""},{text:P(()=>[m("div",{class:we(["sm:grid divide-y sm:divide-y-0 sm:divide-x divide-muted/70 transition-all relative",[(ge.value,"sm:grid-cols-1")]])},[pe.value||xe.value?(b(),R("div",yv,[F(ci,{dots:!k(V),items:_r.value,class:"max-w-4xl mx-auto",ui:{item:"basis-12/13",viewport:"p-3 sm:mb-12"}},{default:P(({item:f})=>[F(la,{ui:{body:"p-4 space-y-4"},class:"",variant:"soft",onClick:ht},{default:P(()=>[m("div",kv,[m("h2",_v,ae(f.left),1),F(wa,{label:f.right,class:"ring-muted/50 py-1",variant:"outline",color:"neutral"},null,8,["label"])]),f.info?(b(),R("div",xv,[m("div",null,[m("p",{class:"text-sm text-muted",innerHTML:ke(f.info.skog)},null,8,wv)]),m("div",Sv,[m("span",{class:"text-sm",innerHTML:ke(f.info.svamp)},null,8,Cv)])])):(b(),R("div",Av,ae(f.emptyMessage||$s),1))]),_:2},1024)]),_:1},8,["dots","items"])])):(b(!0),R(Te,{key:0},Ne(_r.value,f=>(b(),R("div",{key:f.key,class:"p-4 sm:p-5 group",onClick:ht},[f.info?(b(),R("div",fv,[m("div",mv,[m("p",{class:"text-sm text-muted",innerHTML:ke(f.info.skog)},null,8,pv)]),m("div",hv,[m("span",{class:"text-sm",innerHTML:ke(f.info.svamp)},null,8,gv)])])):(b(),R("div",bv,ae(f.emptyMessage||$s),1))]))),128))],2)]),diagram:P(()=>[m("div",Tv,[Wt.value==="diagram"?(b(),j(di,{key:0,ref_key:"chartMainRef",ref:C,selectedChart:Qe.value,"onUpdate:selectedChart":n[10]||(n[10]=f=>Qe.value=f),parentSelectedFrameworks:pe.value?[G.value.value,Oe.value.value]:[G.value.value],currentTimeValue:gs.value,currentStartskog:de.value.value},null,8,["selectedChart","parentSelectedFrameworks","currentTimeValue","currentStartskog"])):I("",!0)])]),markers:P(()=>[m("div",Vv,[(b(!0),R(Te,null,Ne(ts.value,f=>(b(),j(wa,{key:f.key,label:f.label,icon:f.icon,color:tt[f.key]?"primary":"neutral",variant:tt[f.key]?"solid":"subtle",class:we(["cursor-pointer",tt[f.key]?"shadow-sm":"opacity-70 hover:opacity-100"]),onClick:Ie=>Jl(f.key)},null,8,["label","icon","color","variant","class","onClick"]))),128))])]),_:1},8,["modelValue"])]),_a.value?(b(),j(bs,{key:0,open:nt.value,"onUpdate:open":n[15]||(n[15]=f=>nt.value=f),nested:!!k(V),direction:"bottom",modal:!0,overlay:!1,inset:!k(V),handle:!!k(V),ui:{container:"p-0 gap-0",content:"sm:max-w-sm w-full mx-auto",body:"p-4 space-y-3"}},{body:P(()=>[m("div",Lv,[m("div",Mv,[rs.value?(b(),j(T,{key:0,name:rs.value,class:"size-5 text-primary-500 mt-0.5"},null,8,["name"])):I("",!0),m("h3",zv,ae(_a.value.title),1)]),m("div",Ov,[F(y,{color:qa.value?"error":"primary",variant:"subtle",size:"xs",ui:{rounded:"rounded-full"},label:qa.value?"Ta bort":"Fst i vyn",icon:qa.value?"i-tabler-pinned-off":"i-tabler-pinned","aria-pressed":qa.value,title:qa.value?"Lossa":"Fst",onClick:n[12]||(n[12]=f=>tn(_a.value.key,{hideWhenUnpin:!1}))},null,8,["color","label","icon","aria-pressed","title"])])]),m("p",Bv,ae(_a.value.description),1),_a.value.key==="naturvardsarter"?(b(),j(y,{key:0,size:"sm",color:"primary",variant:"solid",class:"mt-2",icon:"i-carbon-chart-line-smooth",onClick:n[13]||(n[13]=f=>rn())},{default:P(()=>[...n[67]||(n[67]=[Xa(" Visa naturvrdsartsdiagram ",-1)])]),_:1})):I("",!0),_a.value.key==="kanteffekt"?(b(),j(la,{key:1,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"},class:"mt-2 backdrop-blur-xl border border-white/10"},{default:P(()=>[F(Je,{ui:{root:"flex-row-reverse justify-between",label:"",description:"",base:"data-[state=unchecked]:bg-neutral-600"},size:"md",color:"primary",modelValue:ne.value,"onUpdate:modelValue":n[14]||(n[14]=f=>ne.value=f),label:"Tidigare kanteffekt",description:"Visa spr frn tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):I("",!0)]),_:1},8,["open","nested","inset","handle"])):I("",!0)]),default:P(()=>[m("div",dv,[F(y,{size:"xl",label:"Information",color:"neutral",icon:"i-heroicons-chevron-up",class:"ring-muted rounded-full shadow z-50",variant:De.value?"subtle":"outline"},null,8,["variant"])])]),_:1},8,["direction","inset","dismissible","handle","open"])])])]),m("div",Dv,[m("div",Fv,[m("div",Ev,[F(T,{name:"i-mingcute-tree-fill",class:"size-7 mb-3 text-primary"}),m("div",$v,[F(vi,{orientation:"vertical",min:0,max:1,step:.01,modelValue:w.value,"onUpdate:modelValue":n[17]||(n[17]=f=>w.value=f),class:"h-28 w-full",color:"primary"},null,8,["modelValue"])]),F(at,null,{content:P(()=>[m("div",jv,[m("div",Iv,[F(T,{name:"i-fluent-shape-organic-16-filled",class:"size-6 text-gray-300 z-20"}),F(T,{name:"i-fluent-shape-organic-16-filled",class:"size-6 -ml-4 text-gray-400 z-10"}),F(T,{name:"i-fluent-shape-organic-16-filled",class:"size-6 -ml-4 mr-4 text-gray-500"}),n[68]||(n[68]=m("h1",{class:"font-medium"},"Mykorrhizasvampar",-1))]),m("div",Nv,[F(T,{name:"i-fluent-shape-organic-16-filled",class:"size-6 text-signal-400"}),n[69]||(n[69]=m("h1",{class:"font-medium"},"Naturvrdssvampar",-1))]),m("div",Pv,[F(T,{name:"i-fluent-shape-organic-16-filled",class:"size-6 text-yellow-400"}),n[70]||(n[70]=m("h1",{class:"font-medium"},"Matsvampar",-1))])])]),default:P(()=>[m("div",Rv,[F(T,{name:"i-fluent-shape-organic-16-filled",class:"size-6 text-gray-300 z-20"}),F(T,{name:"i-fluent-shape-organic-16-filled",class:"size-6 -ml-4 text-signal-400 z-10"}),F(T,{name:"i-fluent-shape-organic-16-filled",class:"size-6 -ml-4 mr-4 text-yellow-400"})])]),_:1})]),ns.value.length?(b(),R("div",Uv,[(b(!0),R(Te,null,Ne(ns.value,f=>(b(),R("div",{key:f.key,class:"pointer-events-auto flex flex-col sm:flex sm:flex-wrap gap-1 items-end"},[F(at,{"open-delay":500,"close-delay":300,mode:"click",open:u[f.key],"onUpdate:open":Ie=>u[f.key]=Ie,popper:{placement:"bottom-end"},ui:{content:"p-0 w-80"}},{content:P(()=>[m("div",Kv,[m("div",Wv,[m("div",Yv,[f.icon?(b(),j(T,{key:0,name:f.icon,class:"size-5 text-primary-500 mt-0.5"},null,8,["name"])):I("",!0),m("h3",Gv,ae(hr(f.key).title||f.title),1)]),F(y,{label:"Ta bort",variant:"subtle",color:"error",size:"xs",icon:"i-tabler-pinned-off",onClick:Ie=>(tn(f.key),u[f.key]=!0)},null,8,["onClick"])]),hr(f.key).description?(b(),R("p",Xv,ae(hr(f.key).description),1)):(b(),R("div",Zv,"Ingen beskrivning tillgnglig.")),f.key==="naturvardsarter"?(b(),j(y,{key:2,size:"sm",color:"primary",variant:"solid",icon:"i-carbon-chart-line-smooth",onClick:js(Ie=>rn({badgeKey:f.key}),["stop"])},{default:P(()=>[...n[71]||(n[71]=[Xa(" Visa naturvrdsartsdiagram ",-1)])]),_:1},8,["onClick"])):I("",!0),f.key==="kanteffekt"?(b(),j(la,{key:3,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"},class:"mt-2 backdrop-blur-xl border border-white/10"},{default:P(()=>[F(Je,{ui:{root:"flex-row-reverse justify-between",label:"",description:"",base:"data-[state=unchecked]:bg-neutral-600"},size:"md",color:"primary",modelValue:ne.value,"onUpdate:modelValue":n[18]||(n[18]=Ie=>ne.value=Ie),label:"Tidigare kanteffekt",description:"Visa spr frn tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):I("",!0)])]),default:P(()=>[m("div",null,[F(wa,{color:"neutral",variant:"outline",size:"lg",class:we(["cursor-pointer shadow-sm sm:ml-1.5 w-fit transition-opacity ring-muted/50",f.key==="staticOverlay"||D(f.key)?"":"opacity-50"])},{default:P(()=>[m("div",qv,[f.icon?(b(),j(T,{key:0,name:f.icon,class:"size-5 text-primary-500"},null,8,["name"])):I("",!0),k(V)?I("",!0):(b(),R("span",Hv,ae(f.title),1))])]),_:2},1032,["class"])])]),_:2},1032,["open","onUpdate:open"])]))),128))])):I("",!0),m("div",{class:we(["relative overflow-auto transition-all duration-300 ease-in-out ",et.value?"w-72 border-r border-neutral-300":"w-0"])},[et.value?(b(),R("div",Jv,[m("div",Qv,[n[72]||(n[72]=m("h1",{class:"font-semibold text-lg"},"Instllningar",-1)),F(y,{icon:et.value?"i-heroicons-chevron-left":"i-heroicons-chevron-right",variant:"outline",color:"neutral",class:"rounded-full left-4 z-10",onClick:n[19]||(n[19]=f=>et.value=!et.value)},null,8,["icon"])]),F(la,{variant:"soft",ui:{body:"p-2 sm:p-3"},class:"mb-2"},{default:P(()=>[m("div",ef,[n[74]||(n[74]=m("div",{class:"text-xs text-neutral-500"},"UIzoom",-1)),m("div",tf,[F(y,{color:"neutral",variant:"soft",size:"xs",icon:"i-heroicons-minus",onClick:n[20]||(n[20]=f=>ft.value=Math.max(.75,+(ft.value-.1).toFixed(2)))}),m("div",af,ae(Math.round(ft.value*100))+"% ",1),F(y,{color:"neutral",variant:"soft",size:"xs",icon:"i-heroicons-plus",onClick:n[21]||(n[21]=f=>ft.value=Math.min(2,+(ft.value+.1).toFixed(2)))}),F(y,{color:"neutral",variant:"ghost",size:"xs",title:"terstll (100%)",onClick:n[22]||(n[22]=f=>ft.value=1)},{default:P(()=>[...n[73]||(n[73]=[Xa(" Reset ",-1)])]),_:1})])])]),_:1}),pe.value?(b(),R("div",rf,[F(ie,{size:"lg",items:At.value,modelValue:it.value,"onUpdate:modelValue":n[23]||(n[23]=f=>it.value=f),placeholder:G.value.label,"append-to-body":"",variant:"outline",class:"w-full"},{item:P(({item:f})=>[m("div",nf,[m("div",sf,ae(f.label),1),f.description?(b(),R("div",lf,ae(f.description),1)):I("",!0)])]),_:1},8,["items","modelValue","placeholder"]),F(ie,{size:"lg",items:At.value,modelValue:ba.value,"onUpdate:modelValue":n[24]||(n[24]=f=>ba.value=f),placeholder:Oe.value.label,"append-to-body":"",variant:"outline",class:"w-full"},{item:P(({item:f})=>[m("div",of,[m("div",uf,ae(f.label),1),f.description?(b(),R("div",cf,ae(f.description),1)):I("",!0)])]),_:1},8,["items","modelValue","placeholder"])])):(b(),R(Te,{key:1},[n[75]||(n[75]=m("h1",{class:"text-xs text-neutral-400"},"Skogsbruksmetod",-1)),F(ie,{size:"xl",items:At.value,modelValue:it.value,"onUpdate:modelValue":n[25]||(n[25]=f=>it.value=f),placeholder:G.value.label,"append-to-body":"",variant:"subtle",class:"w-full"},{item:P(({item:f})=>[m("div",df,[m("div",vf,ae(f.label),1),f.description?(b(),R("div",ff,ae(f.description),1)):I("",!0)])]),_:1},8,["items","modelValue","placeholder"])],64)),m("div",mf,[m("div",pf,[m("div",hf,[ya.value||ka.value||Tt.value?(b(),j(Je,{key:0,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Me.value,"onUpdate:modelValue":n[26]||(n[26]=f=>Me.value=f),label:"Hnsynstrd"},null,8,["modelValue"])):I("",!0),ya.value||ka.value||Tt.value?(b(),j(Je,{key:1,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ye.value,"onUpdate:modelValue":n[27]||(n[27]=f=>ye.value=f),label:"Kanteffekt"},null,8,["modelValue"])):I("",!0),F(Je,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Ce.value,"onUpdate:modelValue":n[28]||(n[28]=f=>Ce.value=f),label:"Smplantor"},null,8,["modelValue"]),ka.value&&ye.value?(b(),j(la,{key:2,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"}},{default:P(()=>[F(Je,{ui:{root:"flex-row-reverse justify-between"},size:"xs",color:"neutral",modelValue:ne.value,"onUpdate:modelValue":n[29]||(n[29]=f=>ne.value=f),label:"Tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):I("",!0),Tt.value?(b(),j(Je,{key:3,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:H.value,"onUpdate:modelValue":n[30]||(n[30]=f=>H.value=f),label:"Rtter skrmtrd"},null,8,["modelValue"])):I("",!0),pr.value?(b(),j(Je,{key:4,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ee.value,"onUpdate:modelValue":n[31]||(n[31]=f=>ee.value=f),label:"Rtter bldning"},null,8,["modelValue"])):I("",!0),F(Je,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:_e.value,"onUpdate:modelValue":n[32]||(n[32]=f=>_e.value=f),label:"Hgstubbar"},null,8,["modelValue"]),ya.value||ka.value||pr.value||Tt.value?(b(),j(Je,{key:5,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Ve.value,"onUpdate:modelValue":n[33]||(n[33]=f=>Ve.value=f),label:"Naturvrdsarter"},null,8,["modelValue"])):I("",!0),Tt.value?(b(),j(Je,{key:6,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ve.value,"onUpdate:modelValue":n[34]||(n[34]=f=>ve.value=f),label:"Frtrd"},null,8,["modelValue"])):I("",!0),F(Je,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Le.value,"onUpdate:modelValue":n[35]||(n[35]=f=>Le.value=f),label:"Trdplantor"},null,8,["modelValue"]),F(Je,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:Re.value,"onUpdate:modelValue":n[36]||(n[36]=f=>Re.value=f),label:"Spara klick (dev)"},null,8,["modelValue"]),F(Je,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:$e.value,"onUpdate:modelValue":n[37]||(n[37]=f=>$e.value=f),label:"Visa myc-etiketter (dev)"},null,8,["modelValue"]),F(Je,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:je.value,"onUpdate:modelValue":n[38]||(n[38]=f=>je.value=f),label:"Visa naturvrdssiffra (dev)"},null,8,["modelValue"])])])])])):I("",!0)],2),m("div",gf,[!xe.value&&!pe.value?(b(),R("div",bf,[F(k(s),{"tradplantor-visible":Le.value,"naturvardsarter-visible":Ve.value,"hogstubbar-visible":_e.value,"smaplantor-visible":Ce.value,"dev-save-clicks":Re.value,"show-overlay-labels":$e.value,"show-naturvard-counter":je.value,"seedTree-visible":ve.value,"rottacke-skarmtrad-visible":H.value,"rottacke-bladning-visible":ee.value,"retention-visible":Me.value,"old-kanteffekt-visible":ne.value,"kanteffekt-visible":ye.value,"retention-points":he.value.retention,"seed-tree-points":he.value.seedTree,"smaplantor-points":he.value.smaplantor,"hogstubbar-points":he.value.hogstubbar,"naturvardsarter-points":he.value.naturvardsarter,"kanteffekt-features":he.value.kanteffekt,fullscreenLayout:!0,currentFramework:G.value,currentTime:Ze.value,currentStartskog:de.value,layoutMode:be.value,ref_key:"singleViewerRef",ref:Ka,frameworkLabel:G.value.label,timeLabel:Xe.value,dziUrl:Ha.value,overlayDziUrl:S.value,allowPan:!0,"preload-dzi-urls":Jt.value,annotations:Xr.value?ui.value:[],selectedAnnotation:re.value,globalOpacity:w.value,"onUpdate:globalOpacity":n[39]||(n[39]=f=>w.value=f),onAnnotationClicked:ze,class:"w-full h-full ui-zoom-exempt"},null,8,["tradplantor-visible","naturvardsarter-visible","hogstubbar-visible","smaplantor-visible","dev-save-clicks","show-overlay-labels","show-naturvard-counter","seedTree-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","retention-visible","old-kanteffekt-visible","kanteffekt-visible","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","preload-dzi-urls","annotations","selectedAnnotation","globalOpacity"]),F(Oi,{name:"slide-out"},{default:P(()=>[re.value?(b(),R("div",yf,[n[76]||(n[76]=m("div",{class:"h-64 flex items-center justify-center text-neutral-300"}," Bild kommer snart ",-1)),F(y,{color:"white",ui:{rounded:"rounded-full"},icon:"heroicons:x-mark",onClick:He,class:"absolute top-2 right-2"}),m("div",kf,[m("h3",_f,ae(re.value.title),1),m("p",xf,ae(re.value.text),1)])])):I("",!0)]),_:1})])):xe.value?(b(),j(ys,{key:1,class:"w-full",ref_key:"comparisonSliderRef",ref:me,frameworkLabel:G.value.label,timeLabel:"Fre avverkning",frameworkLabel2:G.value.label,timeLabel2:Xe.value,layoutMode:be.value},{first:P(()=>[g.value?(b(),j(k(s),{key:1,"naturvardsarter-visible":Ve.value,"retention-visible":Me.value,"kanteffekt-visible":ye.value,"old-kanteffekt-visible":ne.value,"rottacke-skarmtrad-visible":H.value,"rottacke-bladning-visible":ee.value,"seedTree-visible":ve.value,"smaplantor-visible":Ce.value,"hogstubbar-visible":_e.value,"tradplantor-visible":Le.value,fullscreenLayout:!0,"show-overlay-labels":$e.value,"show-naturvard-counter":je.value,"retention-points":ot.value.retention,"seed-tree-points":ot.value.seedTree,"smaplantor-points":ot.value.smaplantor,"hogstubbar-points":ot.value.hogstubbar,"naturvardsarter-points":ot.value.naturvardsarter,"kanteffekt-features":ot.value.kanteffekt,currentFramework:G.value,currentTime:"innan",currentStartskog:de.value,layoutMode:be.value,ref_key:"beforeViewerRef",ref:yt,comparisonMode:!0,frameworkLabel:G.value.label,timeLabel:"Fre avverkning",dziUrl:cs.value,overlayDziUrl:x.value,allowPan:!0,"preload-dzi-urls":Jt.value,onOpened:n[42]||(n[42]=f=>Pt("before")),onActivated:n[43]||(n[43]=f=>Mt.value.valueOf="before"),globalOpacity:w.value,"onUpdate:globalOpacity":n[44]||(n[44]=f=>w.value=f),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentStartskog","layoutMode","frameworkLabel","dziUrl","overlayDziUrl","preload-dzi-urls","globalOpacity"])):(b(),j(k(s),{key:0,"naturvardsarter-visible":Ve.value,"retention-visible":Me.value,"kanteffekt-visible":ye.value,"old-kanteffekt-visible":ne.value,"rottacke-skarmtrad-visible":H.value,"rottacke-bladning-visible":ee.value,"seedTree-visible":ve.value,"smaplantor-visible":Ce.value,"hogstubbar-visible":_e.value,"tradplantor-visible":Le.value,fullscreenLayout:!0,"show-overlay-labels":$e.value,"show-naturvard-counter":je.value,"retention-points":ot.value.retention,"seed-tree-points":ot.value.seedTree,"smaplantor-points":ot.value.smaplantor,"hogstubbar-points":ot.value.hogstubbar,"naturvardsarter-points":ot.value.naturvardsarter,"kanteffekt-features":ot.value.kanteffekt,currentFramework:G.value,currentTime:"innan",currentStartskog:de.value,layoutMode:be.value,ref_key:"beforeViewerRef",ref:yt,comparisonMode:!0,frameworkLabel:G.value.label,timeLabel:"Fre avverkning",dziUrl:cs.value,overlayDziUrl:x.value,allowPan:!0,"preload-dzi-urls":Jt.value,onOpened:n[40]||(n[40]=f=>Pt("before")),onActivated:n[41]||(n[41]=f=>Mt.value.valueOf="before"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentStartskog","layoutMode","frameworkLabel","dziUrl","overlayDziUrl","preload-dzi-urls"]))]),second:P(()=>[g.value?(b(),j(k(s),{key:1,"naturvardsarter-visible":Ve.value,"retention-visible":Me.value,"kanteffekt-visible":ye.value,"old-kanteffekt-visible":ne.value,"rottacke-skarmtrad-visible":H.value,"rottacke-bladning-visible":ee.value,"seedTree-visible":ve.value,"smaplantor-visible":Ce.value,"hogstubbar-visible":_e.value,"tradplantor-visible":Le.value,fullscreenLayout:!0,"show-overlay-labels":$e.value,"show-naturvard-counter":je.value,"retention-points":he.value.retention,"seed-tree-points":he.value.seedTree,"smaplantor-points":he.value.smaplantor,"hogstubbar-points":he.value.hogstubbar,"naturvardsarter-points":he.value.naturvardsarter,"kanteffekt-features":he.value.kanteffekt,currentFramework:G.value,currentTime:Ze.value,currentStartskog:de.value,layoutMode:be.value,ref_key:"afterViewerRef",ref:kt,comparisonMode:!0,frameworkLabel:G.value.label,timeLabel:Xe.value,dziUrl:Ha.value,overlayDziUrl:$.value,allowPan:!0,sliderPosition:"right","preload-dzi-urls":Jt.value,onOpened:n[47]||(n[47]=f=>Pt("after")),onActivated:n[48]||(n[48]=f=>Mt.value.valueOf="after"),globalOpacity:w.value,"onUpdate:globalOpacity":n[49]||(n[49]=f=>w.value=f),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","preload-dzi-urls","globalOpacity"])):(b(),j(k(s),{key:0,"naturvardsarter-visible":Ve.value,"retention-visible":Me.value,"kanteffekt-visible":ye.value,"old-kanteffekt-visible":ne.value,"rottacke-skarmtrad-visible":H.value,"rottacke-bladning-visible":ee.value,"seedTree-visible":ve.value,"smaplantor-visible":Ce.value,"hogstubbar-visible":_e.value,"tradplantor-visible":Le.value,fullscreenLayout:!0,"show-overlay-labels":$e.value,"show-naturvard-counter":je.value,"retention-points":he.value.retention,"seed-tree-points":he.value.seedTree,"smaplantor-points":he.value.smaplantor,"hogstubbar-points":he.value.hogstubbar,"naturvardsarter-points":he.value.naturvardsarter,"kanteffekt-features":he.value.kanteffekt,currentFramework:G.value,currentTime:Ze.value,currentStartskog:de.value,layoutMode:be.value,ref_key:"afterViewerRef",ref:kt,comparisonMode:!0,frameworkLabel:G.value.label,timeLabel:Xe.value,dziUrl:Ha.value,overlayDziUrl:$.value,allowPan:!0,sliderPosition:"right","preload-dzi-urls":Jt.value,onOpened:n[45]||(n[45]=f=>Pt("after")),onActivated:n[46]||(n[46]=f=>Mt.value.valueOf="after"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","preload-dzi-urls"]))]),_:1},8,["frameworkLabel","frameworkLabel2","timeLabel2","layoutMode"])):pe.value?(b(),j(ys,{key:2,ref_key:"comparisonSliderRef",ref:me,frameworkLabel:G.value.label,timeLabel:Xe.value,frameworkLabel2:Oe.value.label,timeLabel2:Xe.value,layoutMode:be.value,class:"w-full"},{first:P(()=>[g.value?(b(),j(k(s),{key:1,"naturvardsarter-visible":Ve.value,"retention-visible":Me.value,"kanteffekt-visible":ye.value,"old-kanteffekt-visible":ne.value,"rottacke-skarmtrad-visible":H.value,"rottacke-bladning-visible":ee.value,"seedTree-visible":ve.value,"smaplantor-visible":Ce.value,"hogstubbar-visible":_e.value,"tradplantor-visible":Le.value,fullscreenLayout:!0,"show-overlay-labels":$e.value,"show-naturvard-counter":je.value,"retention-points":he.value.retention,"seed-tree-points":he.value.seedTree,"smaplantor-points":he.value.smaplantor,"hogstubbar-points":he.value.hogstubbar,"naturvardsarter-points":he.value.naturvardsarter,"kanteffekt-features":he.value.kanteffekt,currentFramework:G.value,currentTime:Ze.value,currentStartskog:de.value,layoutMode:be.value,ref_key:"framework1ViewerRef",ref:_t,comparisonMode:!0,frameworkLabel:G.value.label,timeLabel:Xe.value,dziUrl:Ha.value,overlayDziUrl:Y.value,allowPan:!xe.value&&!pe.value,"preload-dzi-urls":Jt.value,globalOpacity:w.value,"onUpdate:globalOpacity":n[53]||(n[53]=f=>w.value=f),onViewportChanged:n[54]||(n[54]=f=>xr("framework1",f)),onOpened:n[55]||(n[55]=f=>Pt("framework1")),onActivated:n[56]||(n[56]=f=>Mt.value.valueOf="framework1"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan","preload-dzi-urls","globalOpacity"])):(b(),j(k(s),{key:0,"naturvardsarter-visible":Ve.value,"retention-visible":Me.value,"kanteffekt-visible":ye.value,"old-kanteffekt-visible":ne.value,"rottacke-skarmtrad-visible":H.value,"rottacke-bladning-visible":ee.value,"seedTree-visible":ve.value,"smaplantor-visible":Ce.value,"hogstubbar-visible":_e.value,"tradplantor-visible":Le.value,fullscreenLayout:!0,"show-overlay-labels":$e.value,"show-naturvard-counter":je.value,"retention-points":he.value.retention,"seed-tree-points":he.value.seedTree,"smaplantor-points":he.value.smaplantor,"hogstubbar-points":he.value.hogstubbar,"naturvardsarter-points":he.value.naturvardsarter,"kanteffekt-features":he.value.kanteffekt,currentFramework:G.value,currentTime:Ze.value,currentStartskog:de.value,layoutMode:be.value,ref_key:"framework1ViewerRef",ref:_t,comparisonMode:!0,frameworkLabel:G.value.label,timeLabel:Xe.value,dziUrl:Ha.value,overlayDziUrl:Y.value,allowPan:!xe.value&&!pe.value,"preload-dzi-urls":Jt.value,onViewportChanged:n[50]||(n[50]=f=>xr("framework1",f)),onOpened:n[51]||(n[51]=f=>Pt("framework1")),onActivated:n[52]||(n[52]=f=>Mt.value.valueOf="framework1"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan","preload-dzi-urls"]))]),second:P(()=>[g.value?(b(),j(k(s),{key:1,"naturvardsarter-visible":Ve.value,"retention-visible":Me.value,"kanteffekt-visible":ye.value,"old-kanteffekt-visible":ne.value,"rottacke-skarmtrad-visible":H.value,"rottacke-bladning-visible":ee.value,"seedTree-visible":ve.value,"smaplantor-visible":Ce.value,"hogstubbar-visible":_e.value,"tradplantor-visible":Le.value,fullscreenLayout:!0,"show-overlay-labels":$e.value,"show-naturvard-counter":je.value,"retention-points":ut.value.retention,"seed-tree-points":ut.value.seedTree,"smaplantor-points":ut.value.smaplantor,"hogstubbar-points":ut.value.hogstubbar,"naturvardsarter-points":ut.value.naturvardsarter,"kanteffekt-features":ut.value.kanteffekt,currentFramework:Oe.value,currentTime:Ze.value,currentStartskog:de.value,layoutMode:be.value,ref_key:"framework2ViewerRef",ref:xt,comparisonMode:!0,frameworkLabel:Oe.value.label,timeLabel:Xe.value,dziUrl:ds.value,overlayDziUrl:J.value,globalOpacity:w.value,"onUpdate:globalOpacity":n[60]||(n[60]=f=>w.value=f),"preload-dzi-urls":Jn.value,allowPan:!xe.value&&!pe.value,sliderPosition:"right",onViewportChanged:n[61]||(n[61]=f=>xr("framework2",f)),onOpened:n[62]||(n[62]=f=>Pt("framework2")),onActivated:n[63]||(n[63]=f=>Mt.value.valueOf="framework2"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","globalOpacity","preload-dzi-urls","allowPan"])):(b(),j(k(s),{key:0,"naturvardsarter-visible":Ve.value,"retention-visible":Me.value,"kanteffekt-visible":ye.value,"old-kanteffekt-visible":ne.value,"rottacke-skarmtrad-visible":H.value,"rottacke-bladning-visible":ee.value,"seedTree-visible":ve.value,"smaplantor-visible":Ce.value,"hogstubbar-visible":_e.value,"tradplantor-visible":Le.value,fullscreenLayout:!0,"show-overlay-labels":$e.value,"show-naturvard-counter":je.value,"retention-points":ut.value.retention,"seed-tree-points":ut.value.seedTree,"smaplantor-points":ut.value.smaplantor,"hogstubbar-points":ut.value.hogstubbar,"naturvardsarter-points":ut.value.naturvardsarter,"kanteffekt-features":ut.value.kanteffekt,currentFramework:Oe.value,currentTime:Ze.value,currentStartskog:de.value,layoutMode:be.value,ref_key:"framework2ViewerRef",ref:xt,comparisonMode:!0,frameworkLabel:Oe.value.label,timeLabel:Xe.value,dziUrl:ds.value,overlayDziUrl:J.value,"preload-dzi-urls":Jn.value,allowPan:!xe.value&&!pe.value,sliderPosition:"right",onViewportChanged:n[57]||(n[57]=f=>xr("framework2",f)),onOpened:n[58]||(n[58]=f=>Pt("framework2")),onActivated:n[59]||(n[59]=f=>Mt.value.valueOf="framework2"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","preload-dzi-urls","allowPan"]))]),_:1},8,["frameworkLabel","timeLabel","frameworkLabel2","timeLabel2","layoutMode"])):I("",!0)]),Xt.value?I("",!0):(b(),R("div",wf,[m("div",Sf,[!xe.value&&!pe.value?(b(),R("div",Cf,[m("div",{class:"p-3 group text-base/7",onClick:ht},[F(at,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:P(()=>[m("div",Tf,[(b(),R(Te,null,Ne(Nt,(f,Ie)=>m("div",{key:f.id,onClick:wr=>it.value=Ie,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[m("div",null,[m("div",Lf,ae(f.label),1),m("div",Mf,ae(f.text),1)])],8,Vf)),64))])]),default:P(()=>[m("h2",Af,ae(G.value.label),1)]),_:1}),m("div",zf,[m("h3",Of,ae(Xe.value),1),F(y,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",color:"neutral",variant:"soft",size:"xs",label:fe.value?"Dlj info":"Visa info",onClick:Da},null,8,["label"])]),fe.value&&ct.value?(b(),R("div",Bf,[m("p",{class:"mb-4 text-neutral-50",innerHTML:ke(ct.value.skog)},null,8,Df),m("div",null,[n[77]||(n[77]=m("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),m("span",{class:"text-neutral-50",innerHTML:ke(ct.value.svamp)},null,8,Ff)])])):fe.value?(b(),R("div",Ef," Ingen tidslinjeinformation hittades fr den hr kombinationen. ")):I("",!0)])])):xe.value?(b(),R("div",$f,[kr.value?(b(),R("div",{key:0,class:"p-3 group text-base/7",onClick:ht},[F(at,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:P(()=>[m("div",jf,[(b(),R(Te,null,Ne(Nt,(f,Ie)=>m("div",{key:f.id,onClick:wr=>it.value=Ie,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[m("div",null,[m("div",Nf,ae(f.label),1),m("div",Pf,ae(f.text),1)])],8,If)),64))])]),default:P(()=>[m("h2",Rf,ae(G.value.label),1)]),_:1}),m("div",Uf,[n[78]||(n[78]=m("h3",{class:"text-md text-neutral-200"}," Fre avverkning ",-1)),F(y,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:fe.value?"Dlj info":"Visa info",onClick:Da},null,8,["label"])]),fe.value?(b(),R("div",qf,[m("p",{class:"mb-2 text-neutral-50",innerHTML:ke(kr.value.skog)},null,8,Hf),m("div",null,[n[79]||(n[79]=m("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),m("span",{class:"text-neutral-50",innerHTML:ke(kr.value.svamp)},null,8,Kf)])])):I("",!0)])):I("",!0),ct.value?(b(),R("div",{key:1,class:"p-4 group border border-neutral-200/10 rounded-sm shadow bg-neutral-950/20",onClick:ht},[m("div",Wf,[m("h3",Yf,ae(Xe.value),1),F(y,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:Ue.value?"Dlj info":"Visa info",onClick:z},null,8,["label"])]),Ue.value?(b(),R("div",Gf,[m("p",{class:"mb-2 text-neutral-50",innerHTML:ke(ct.value.skog)},null,8,Xf),m("div",null,[n[80]||(n[80]=m("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),m("span",{class:"text-neutral-50",innerHTML:ke(ct.value.svamp)},null,8,Zf)])])):I("",!0)])):I("",!0)])):pe.value?(b(),R("div",Jf,[ct.value?(b(),R("div",{key:0,class:"p-3 group text-base/7",onClick:ht},[F(at,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:P(()=>[m("div",em,[(b(),R(Te,null,Ne(Nt,(f,Ie)=>m("div",{key:f.id,onClick:wr=>it.value=Ie,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[m("div",null,[m("div",am,ae(f.label),1),m("div",rm,ae(f.text),1)])],8,tm)),64))])]),default:P(()=>[m("h2",Qf,ae(G.value.label),1)]),_:1}),m("div",nm,[m("h3",sm,ae(Xe.value),1),F(y,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:fe.value?"Dlj info":"Visa info",onClick:Da},null,8,["label"])]),fe.value?(b(),R("div",lm,[m("p",{class:"mb-2 text-neutral-50",innerHTML:ke(ct.value.skog)},null,8,im),m("div",null,[n[81]||(n[81]=m("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),m("span",{class:"text-neutral-50",innerHTML:ke(ct.value.svamp)},null,8,om)])])):I("",!0)])):I("",!0),yr.value?(b(),R("div",{key:1,class:"p-4 group border border-neutral-200/10 rounded-sm shadow bg-neutral-950/20",onClick:ht},[F(at,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:P(()=>[m("div",cm,[(b(),R(Te,null,Ne(Nt,(f,Ie)=>m("div",{key:"framework2-"+f.id,onClick:wr=>ba.value=Ie,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[m("div",null,[m("div",vm,ae(f.label),1),m("div",fm,ae(f.text),1)])],8,dm)),64))])]),default:P(()=>[m("h2",um,ae(Oe.value.label),1)]),_:1}),m("div",mm,[m("h3",pm,ae(Xe.value),1),F(y,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:Ue.value?"Dlj info":"Visa info",onClick:z},null,8,["label"])]),Ue.value?(b(),R("div",hm,[m("p",{class:"mb-2 text-neutral-50",innerHTML:ke(yr.value.skog)},null,8,gm),m("div",null,[n[82]||(n[82]=m("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),m("span",{class:"text-neutral-50",innerHTML:ke(yr.value.svamp)},null,8,bm)])])):I("",!0)])):I("",!0)])):I("",!0),m("div",ym,[m("div",km,[St.value?(b(),j(y,{key:0,size:"xl",onClick:Wr,variant:"ghost",class:"text-white hover:bg-neutral-500/20 w-full",label:ja.value,icon:"i-heroicons-arrow-left-circle"},null,8,["label"])):I("",!0)]),m("div",_m,[Ra.value?(b(),j(y,{key:0,size:"xl",onClick:Na,variant:"ghost",class:"w-full text-white hover:bg-neutral-500/20 flex justify-end",trailing:"",label:ir.value,icon:"i-heroicons-arrow-right-circle"},null,8,["label"])):I("",!0)])])])]))])])])}}}),Mm=Object.assign(Hs(wm,[["__scopeId","data-v-f67046f5"]]),{__name:"Model"});export{Fd as D,Bo as _,Hd as a,_d as b,Mm as c,Od as d,Bd as e,Ld as u};
