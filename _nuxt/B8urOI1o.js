import{A as xe,aM as be,r as v,aC as Y,aH as we,V as h,J as V,d as U,f as k,O as u,g as a,M as x,h as l,w as s,T as ye,n as z,aG as Ce,aD as K,aE as q,e as m,ad as Te,aP as Se,aB as $e,F as H,af as G,aA as Ne,t as y,aK as Me,ae as Ue,au as ze,K as Ae,_ as Fe}from"#entry";import{_ as Ie}from"./hg6Rz1vw.js";import{M as Le}from"./Cpx5czNZ.js";import{_ as Ve}from"./ByZVJz0L.js";import{_ as De}from"./D_A2sDhj.js";import{_ as je,a as Be}from"./B1-lneLQ.js";import{u as Pe,_ as Oe,a as Ee}from"./DpeemIVp.js";import{_ as Ye}from"./CcrBh-zU.js";import{_ as Ke}from"./BVCUXQw6.js";import{_ as qe}from"./BhzI9rmE.js";import"./cOthk7_O.js";import"./iik6CYzq.js";import"./DY-6pm3l.js";import"./cp034Dgk.js";import"./Cpj98o6Y.js";import"./BNHWhrW5.js";import"./B7LwE6fO.js";import"./DtaPNFOl.js";const He=["onClick"],Ge={class:"text-lg p-2 px-3 font-medium text-nowrap"},Je={class:"w-full rounded-xl relative overflow-hidden"},Qe={class:"grid gap-3 sm:gap-6 lg:grid-cols-3"},We={class:"flex flex-col gap-6 min-w-0 max-w-full"},Re={class:"text-4xl font-medium"},Xe={class:"flex flex-col gap-1 min-w-0 max-w-full"},Ze={key:0,class:"flex flex-col gap-4 min-w-0 max-w-full"},et={class:"w-full max-w-full min-w-0 overflow-x-auto overflow-y-visible"},tt={class:"flex flex-nowrap whitespace-nowrap gap-2 w-full"},at={class:"space-y-2"},ot={class:"text-xl font-semibold text-neutral-900"},nt={class:"text-sm text-muted"},lt={class:"text-sm"},st={class:"grid sm:grid-cols-2"},it={class:"flex justify-end"},rt={class:"bg-muted border-t border-muted mt-18"},ct=xe({__name:"index",async setup(ut){let d,C;be("(max-width: 767px)");const T=v(!1),S=Pe(),{data:c}=([d,C]=Y(()=>K("skogsskotsel",()=>q("skogsskotsel").first())),d=await d,C(),d);if(!c.value)throw we({statusCode:404,statusMessage:"Page not found",fatal:!0});const D=h(()=>c.value?.methods??[]),A={id:"",title:"",image:"",shortdescription:"",description:"",descriptionsvamp:""},g=v(null),j=v(!1);V(g,async(e,t)=>{e&&!t&&!j.value&&(j.value=!0,await Ae(),window.scrollTo({top:0}))});const r=h(()=>{const e=D.value;return!e.length||!g.value?A:e.find(t=>t.id===g.value)??A}),B=e=>{const t=e?.toLowerCase?.()??"";return t==="intekalavverkad"?"naturskog":t==="produktionsskog"?"produktionsskog_":e},P=e=>(e?.toLowerCase?.()??"")==="ingenatgard"?"naturskydd":e,F=e=>{const t=String(e).trim().toLowerCase();return t.includes("efter")?"efter":t.includes("innan")||t.includes("före")||t.includes("fore")?"fore":t.replace(/[^0-9]/g,"")||t},J=(e,t,i)=>{const n=w=>w.trim().normalize("NFD").replace(/å/gi,"a").replace(/ä/gi,"a").replace(/ö/gi,"o").replace(new RegExp("\\p{Diacritic}+","gu"),"").toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,"");return`/images/thumbnails/${`${n(e)}_${F(String(t))}_visa_visa_${n(i)}.webp`}`},{data:Q}=([d,C]=Y(()=>K("forestry-timeline-skogsskotsel",()=>q("forestryTimelines").first())),d=await d,C(),d),$=[{label:"Inte kalavverkad",value:"naturskog"},{label:"Kalavverkad",value:"produktionsskog_"}],I=$.map(e=>({label:e.label,value:e.value,icon:e.value==="naturskog"?"i-material-symbols-light-forest-rounded":"i-ph-farm"})),p=v(I[S.selectedStartskog??0]?.value||I[0].value);V(()=>S.selectedStartskog,e=>{const t=$[e??0];t&&t.value!==p.value&&(p.value=t.value)},{immediate:!0});function W(e){p.value=e;const t=$.findIndex(i=>i.value===e);t!==-1&&(S.selectedStartskog=t)}h(()=>$.find(e=>e.value===p.value)?.label??"");const f=h(()=>{const e=Q.value?.entries??[],t=r.value.id,i=P(t);return e.map(n=>({...n,startskog:B(n.startskog),atgard:P(n.atgard)})).filter(n=>n.startskog===B(p.value)&&n.atgard===i).map(n=>({tid:n.tid,skog:n.skog,svamp:n.svamp,thumb:J(n.atgard,n.tid,n.startskog)}))}),b=v(null),_=v(0);function R(){b.value?.emblaApi?.scrollPrev?.()}function X(){b.value?.emblaApi?.scrollNext?.()}function Z(e){_.value=e}function ee(e){_.value=e,b.value?.emblaApi?.scrollTo?.(e)}V(f,e=>{_.value=0,e.length&&requestAnimationFrame(()=>{b.value?.emblaApi?.scrollTo?.(0)})});const te=e=>{if(!e)return;const t=F(e);if(!t)return;if(t==="fore")return"före";if(t==="efter")return"efter";const i=Number(t);if(!Number.isNaN(i))return String(i)},ae=h(()=>te(f.value[_.value]?.tid));function oe(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function ne(e){if(!e)return"";const t=F(e);if(t==="fore")return"Innan avverkning";if(t==="efter")return"Efter avverkning";const i=Number(t);return Number.isNaN(i)?e.charAt(0).toUpperCase()+e.slice(1):`${i} år efter avverkning`}v([{label:"Intro",icon:"i-heroicons-book-open",slot:"text"},{label:"Diagram",icon:"i-heroicons-presentation-chart-line",slot:"diagram"},{label:"Tidslinje",icon:"i-heroicons-list-bullet",slot:"timeline"}]),v("description");const le=h(()=>[{label:`Om ${(r.value.title||"").toLowerCase()}`,icon:"i-hugeicons-tree-06",value:"description",content:r.value.description||""},{label:"Påverkan på mykorrhizasvampar",icon:"i-hugeicons-mushroom",value:"svamp",content:r.value.descriptionsvamp||""}]),se={naturskydd:0,trakthygge:1,luckhuggning:2,skarmtrad:3,skärmträd:3,bladning:4,blädning:4},ie=e=>(e||"").trim().normalize("NFD").replace(new RegExp("\\p{Diacritic}+","gu"),"").toLowerCase();function re(){const e=ie(r.value.id),t=se[e];typeof t=="number"&&(S.selectedFramework=t),T.value=!0}return(e,t)=>{const i=$e,n=Se,O=Ie,w=Ce,N=Ne,E=Le,ce=Ve,ue=De,L=je,me=Oe,de=Ye,pe=Be,fe=Ue,_e=Ee,ve=ze,ge=Ke,he=Me,ke=qe;return u(c)?(m(),U("div",{key:0,class:z(["flex-1 transition-all",r.value.id?"bg-neutral-50":""])},[a(ye,{name:"fade"},{default:s(()=>[r.value.id?k("",!0):(m(),x(w,{key:0,class:"w-full px-0"},{default:s(()=>[a(O,{ui:{container:"py-12 lg:py-24",title:"sm:text-7xl",headline:"text-neutral"},title:u(c).hero.title,description:u(c).hero.description,orientation:u(c).hero.orientation,class:""},Te({_:2},[u(c).hero.headline?{name:"headline",fn:s(()=>[a(n,{to:u(c).hero.headline.to},{default:s(()=>[a(i,{icon:u(c).hero.headline.icon,label:u(c).hero.headline.label,color:u(c).hero.headline.color,variant:"subtle",size:"lg",trailing:"",ui:{base:"rounded-full"}},null,8,["icon","label","color"])]),_:1},8,["to"])]),key:"0"}:void 0]),1032,["title","description","orientation"])]),_:1}))]),_:1}),a(w,{class:z(["w-full flex flex-col sm:flex-row justify-between py-4 gap-3 sm:gap-6 overflow-x-auto transition-all",[r.value.id?"mt-0 flex-row":"mt-8 flex-col"]])},{default:s(()=>[(m(!0),U(H,null,G(D.value,o=>(m(),x(E,{key:o.id,class:"relative",initial:{scale:1,transform:"translateY(10px)",opacity:0},animate:{scale:1,transform:"translateY(0px)",opacity:1},transition:{duration:.3,delay:.3+.05*(o.index??0)}},{default:s(()=>[l("div",{onClick:M=>g.value=o.id,class:z(["shrink-0 lg:shrink sm:w-58 lg:w-full bg-white transition-all hover:opacity-100 border border-muted/50 overflow-hidden rounded h-fit shadow hover:shadow-md relative cursor-pointer",g.value?g.value===o.id?"opacity-100 ring-primary/40 shadow-lg":"opacity-50":"opacity-100"])},[o.type&&!r.value.id?(m(),x(i,{key:0,class:"absolute top-2 left-2",label:o.type,color:"neutral",variant:"subtle"},null,8,["label"])):k("",!0),r.value.id?k("",!0):(m(),x(N,{key:1,src:o.image,width:"300",height:"160",class:"w-full h-full"},null,8,["src"])),l("h1",Ge,y(o.title),1)],10,He)]),_:2},1032,["transition"]))),128))]),_:1},8,["class"]),r.value.id?(m(),x(w,{key:0,class:"w-full pt-2 px-1 sm:px-6"},{default:s(()=>[a(E,{class:"flex justify-center w-full",initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0px)"},transition:{duration:.5,delay:.5}},{default:s(()=>[l("div",Je,[a(he,{class:"p-3 pt-0 sm:pt-3"},{default:s(()=>[l("div",Qe,[l("div",We,[l("h1",Re,y(r.value.title),1),a(N,{src:r.value.image,width:"420",height:"250",class:"rounded ring ring-muted/50"},null,8,["src"]),a(L,{variant:"soft",ui:{body:"py-1 sm:py-1"}},{default:s(()=>[a(ue,{items:le.value,"unmount-on-hide":!1,"default-value":["description"],ui:{trigger:"text-base font-medium",body:"text-md/7 text-neutral-800"}},{body:s(({item:o})=>[a(ce,{value:o.content,unwrap:"p"},null,8,["value"])]),_:1},8,["items"])]),_:1})]),l("div",Xe,[a(L,{ui:{body:"p-1 sm:p-1"},class:"ring-muted/50 h-full"},{default:s(()=>[a(me,{parentSelectedFrameworks:[r.value.id],currentStartskog:p.value,currentTimeValue:ae.value},null,8,["parentSelectedFrameworks","currentStartskog","currentTimeValue"])]),_:1})]),f.value.length?(m(),U("div",Ze,[a(de,{items:u(I),modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=o=>p.value=o),onChange:W,variant:"solid",size:"lg",class:"w-full -mb-3",ui:{list:"grid grid-cols-2 gap-1 p-1 bg-muted/60 ring ring-muted/50 rounded",trigger:"data-[state=active]:bg-white data-[state=active]:text-neutral-900 px-4 py-2 text-sm font-medium"}},null,8,["items","modelValue"]),a(pe,{ref_key:"timelineCarousel",ref:b,items:f.value,prev:{onClick:R},next:{onClick:X},class:"w-full bg-neutral-950 overflow-hidden rounded-lg ring-muted/50",fade:"",onSelect:Z},{default:s(({item:o})=>[a(N,{src:o.thumb,alt:`Foto ${o.tid}`,width:"960",height:"540",class:"w-full aspect-video object-cover"},null,8,["src","alt"])]),_:1},8,["items","prev","next"]),l("div",et,[l("div",tt,[(m(!0),U(H,null,G(f.value,(o,M)=>(m(),x(fe,{key:`timeline-thumb-${M}`,color:"neutral",class:z(["ring-muted/50 flex-none shrink-0 justify-center whitespace-nowrap",M===_.value?"border-neutral-900 opacity-100 shadow":"border-transparent opacity-60 hover:opacity-100"]),variant:"outline",type:"button",onClick:mt=>ee(M),label:oe(o.tid)},null,8,["class","onClick","label"]))),128))])]),a(L,{class:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-2 ring-muted/50"},{default:s(()=>[l("div",at,[l("h3",ot,y(ne(f.value[_.value]?.tid)),1),l("p",nt,y(f.value[_.value]?.skog),1),l("p",lt,y(f.value[_.value]?.svamp),1)])]),_:1})])):k("",!0)]),a(ve,{open:T.value,"onUpdate:open":t[2]||(t[2]=o=>T.value=o),fullscreen:""},{content:s(()=>[a(_e,{onClose:t[1]||(t[1]=o=>T.value=!1)})]),_:1},8,["open"]),l("div",st,[t[3]||(t[3]=l("div",null,null,-1)),a(ge,{title:"Öppna modell i helskärm",description:"I helskärm går det att jämföra olika metoder och visa fler lager med mer information. ",icon:"i-material-symbols:interactive-space",class:"mt-6 sm:mt-12 cursor-pointer",variant:"soft",orientation:"horizontal",onClick:re},{default:s(()=>[l("div",it,[a(N,{src:"images/modell.png",height:"150"})])]),_:1})])]),_:1})])]),_:1})]),_:1})):k("",!0),l("div",rt,[a(ke,{section:u(c).carousel},null,8,["section"])])],2)):k("",!0)}}}),Ut=Fe(ct,[["__scopeId","data-v-b56f7684"]]);export{Ut as default};
