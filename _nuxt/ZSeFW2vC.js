const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./B_GYo8VZ.js","./BIRWCIVk.js","./entry.CQIW-ntj.css","./Cpj98o6Y.js","./C4PtcePk.js","./DCIrgT5p.js","./B0VoygWj.js","./DphXxsJT.js","./BWuJ0jvd.js","./Cd6yKlyt.js","./CcbwAkLh.js","./hg6Rz1vw.js","./o2I9E7u7.js","./BzE5W9MJ.js","./Brz0f4_4.js","./iik6CYzq.js","./B9i8ASNm.js","./DnG8y3cZ.js","./SCarousel.DbZX_4vZ.css","./OpenSeadragonViewer.DSXzglBR.css"])))=>i.map(i=>d[i]);
import{A as Pe,C as bl,I as kl,Z as Qr,V as y,B as xl,M as P,e as h,w as V,N as Qe,f as $,O as T,Y as Jr,S as wl,U as At,P as Ia,a3 as zr,a4 as Sl,a5 as Tl,y as Cl,a9 as Ll,a8 as Vl,aQ as Al,aR as Ol,aa as Fr,h as d,d as A,n as ee,g,am as Jt,F as me,ah as Ne,t as U,aI as Ha,r as C,o as bt,K as sa,c as Mt,J as X,aC as zt,aD as Ft,aE as Dt,aS as en,aT as Aa,aU as Ml,af as Oe,ae as qa,aV as tn,_ as an,aM as rn,aB as Ya,aW as Ga,aX as zl,p as Fl,aY as Dr,aL as Dl,aZ as $l,a_ as jl,a$ as El,b0 as Bl,T as Rl,b as Ul,aH as Nl,b1 as Pl,aG as Il,ad as Hl,au as ql,ao as Yl,aA as Gl,aK as Wl}from"#entry";import{_ as nn}from"./C4PtcePk.js";import{L as Zl,_ as Xl,a as Kl,b as Ql}from"./DphXxsJT.js";import{u as Jl,V as ei}from"./BWuJ0jvd.js";import{X as Wa,O as ln,c as Ie,i as Za,a as Xa,b as Oa,g as dt,m as La,d as ti,e as Ma,f as ai,r as ri,h as za,s as Ee,j as ta,D as Kt,k as ni,l as li,n as ii,o as si,p as oi,q as ui,t as ci,u as di,v as fi,w as vi,A as Fa,x as Ka,y as Qa,z as Ja,S as mi,B as $r,C as jr,E as Er}from"./Cd6yKlyt.js";import{d as hi}from"./CcbwAkLh.js";import{_ as pi}from"./hg6Rz1vw.js";import{M as gi}from"./o2I9E7u7.js";import{_ as _i}from"./BzE5W9MJ.js";import{_ as yi}from"./B9i8ASNm.js";import{_ as bi}from"./DnG8y3cZ.js";const[ki,xi]=xl("SwitchRoot");var wi=Pe({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,r=t,{disabled:i}=bl(a),s=kl(a,"modelValue",r,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function f(){i.value||(s.value=!s.value)}const{forwardRef:u,currentElement:c}=Qr(),O=Jl(c),v=y(()=>a.id&&c.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return xi({modelValue:s,toggleCheck:f,disabled:i}),(m,j)=>(h(),P(T(Ia),Jr(m.$attrs,{id:m.id,ref:T(u),role:"switch",type:m.as==="button"?"button":void 0,value:m.value,"aria-label":m.$attrs["aria-label"]||v.value,"aria-checked":T(s),"aria-required":m.required,"data-state":T(s)?"checked":"unchecked","data-disabled":T(i)?"":void 0,"as-child":m.asChild,as:m.as,disabled:T(i),onClick:f,onKeydown:wl(At(f,["prevent"]),["enter"])}),{default:V(()=>[Qe(m.$slots,"default",{modelValue:T(s)}),T(O)&&m.name?(h(),P(T(ei),{key:0,type:"checkbox",name:m.name,disabled:T(i),required:m.required,value:m.value,checked:!!T(s)},null,8,["name","disabled","required","value","checked"])):$("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),Si=wi,Ti=Pe({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=ki();return Qr(),(a,r)=>(h(),P(T(Ia),{"data-state":T(t).modelValue?.value?"checked":"unchecked","data-disabled":T(t).disabled.value?"":void 0,"as-child":a.asChild,as:a.as},{default:V(()=>[Qe(a.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"]))}}),Ci=Ti;const Li={slots:{root:"relative flex items-start",base:["inline-flex items-center shrink-0 rounded-full border-2 border-transparent focus-visible:outline-2 focus-visible:outline-offset-2 data-[state=unchecked]:bg-accented","transition-[background] duration-200"],container:"flex items-center",thumb:"group pointer-events-none rounded-full bg-default shadow-lg ring-0 transition-transform duration-200 data-[state=unchecked]:translate-x-0 data-[state=unchecked]:rtl:-translate-x-0 flex items-center justify-center",icon:["absolute shrink-0 group-data-[state=unchecked]:text-dimmed opacity-0 size-10/12","transition-[color,opacity] duration-200"],wrapper:"ms-2",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"data-[state=checked]:bg-primary focus-visible:outline-primary",icon:"group-data-[state=checked]:text-primary"},secondary:{base:"data-[state=checked]:bg-secondary focus-visible:outline-secondary",icon:"group-data-[state=checked]:text-secondary"},tertiary:{base:"data-[state=checked]:bg-tertiary focus-visible:outline-tertiary",icon:"group-data-[state=checked]:text-tertiary"},rodeodust:{base:"data-[state=checked]:bg-rodeodust focus-visible:outline-rodeodust",icon:"group-data-[state=checked]:text-rodeodust"},poison:{base:"data-[state=checked]:bg-poison focus-visible:outline-poison",icon:"group-data-[state=checked]:text-poison"},signal:{base:"data-[state=checked]:bg-signal focus-visible:outline-signal",icon:"group-data-[state=checked]:text-signal"},info:{base:"data-[state=checked]:bg-info focus-visible:outline-info",icon:"group-data-[state=checked]:text-info"},success:{base:"data-[state=checked]:bg-success focus-visible:outline-success",icon:"group-data-[state=checked]:text-success"},warning:{base:"data-[state=checked]:bg-warning focus-visible:outline-warning",icon:"group-data-[state=checked]:text-warning"},error:{base:"data-[state=checked]:bg-error focus-visible:outline-error",icon:"group-data-[state=checked]:text-error"},kalkmark:{base:"data-[state=checked]:bg-kalkmark focus-visible:outline-kalkmark",icon:"group-data-[state=checked]:text-kalkmark"},vanligmark:{base:"data-[state=checked]:bg-vanligmark focus-visible:outline-vanligmark",icon:"group-data-[state=checked]:text-vanligmark"},time:{base:"data-[state=checked]:bg-time focus-visible:outline-time",icon:"group-data-[state=checked]:text-time"},neutral:{base:"data-[state=checked]:bg-inverted focus-visible:outline-inverted",icon:"group-data-[state=checked]:text-highlighted"}},size:{xs:{base:"w-7",container:"h-4",thumb:"size-3 data-[state=checked]:translate-x-3 data-[state=checked]:rtl:-translate-x-3",wrapper:"text-xs"},sm:{base:"w-8",container:"h-4",thumb:"size-3.5 data-[state=checked]:translate-x-3.5 data-[state=checked]:rtl:-translate-x-3.5",wrapper:"text-xs"},md:{base:"w-9",container:"h-5",thumb:"size-4 data-[state=checked]:translate-x-4 data-[state=checked]:rtl:-translate-x-4",wrapper:"text-sm"},lg:{base:"w-10",container:"h-5",thumb:"size-4.5 data-[state=checked]:translate-x-4.5 data-[state=checked]:rtl:-translate-x-4.5",wrapper:"text-sm"},xl:{base:"w-11",container:"h-6",thumb:"size-5 data-[state=checked]:translate-x-5 data-[state=checked]:rtl:-translate-x-5",wrapper:"text-base"}},checked:{true:{icon:"group-data-[state=checked]:opacity-100"}},unchecked:{true:{icon:"group-data-[state=unchecked]:opacity-100"}},loading:{true:{icon:"animate-spin"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75",description:"cursor-not-allowed opacity-75"}}},defaultVariants:{color:"primary",size:"md"}},Vi=Object.assign({inheritAttrs:!1},{__name:"USwitch",props:zr({as:{type:null,required:!1},color:{type:null,required:!1},size:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1},checkedIcon:{type:[String,Object],required:!1},uncheckedIcon:{type:[String,Object],required:!1},label:{type:String,required:!1},description:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},value:{type:String,required:!1},defaultValue:{type:Boolean,required:!1}},{modelValue:{type:Boolean,default:void 0},modelModifiers:{}}),emits:zr(["change"],["update:modelValue"]),setup(e,{emit:t}){const a=e,r=Sl(),i=t,s=Tl(e,"modelValue",{type:Boolean,default:void 0}),f=Cl(),u=Ll(Vl(a,"required","value","defaultValue")),{id:c,emitFormChange:O,emitFormInput:v,size:m,color:j,name:E,disabled:F,ariaAttrs:z}=Al(a),w=c.value??Ol(),M=y(()=>Fr({extend:Fr(Li),...f.ui?.switch||{}})({size:m.value,color:j.value,required:a.required,loading:a.loading,disabled:F.value||a.loading}));function p(L){const D=new Event("change",{target:{value:L}});i("change",D),O(),v()}return(L,D)=>(h(),P(T(Ia),{as:e.as,class:ee(M.value.root({class:[a.ui?.root,a.class]}))},{default:V(()=>[d("div",{class:ee(M.value.container({class:a.ui?.container}))},[g(T(Si),Jr({id:T(w)},{...T(u),...L.$attrs,...T(z)},{modelValue:s.value,"onUpdate:modelValue":[D[0]||(D[0]=ae=>s.value=ae),p],name:T(E),disabled:T(F)||e.loading,class:M.value.base({class:a.ui?.base})}),{default:V(()=>[g(T(Ci),{class:ee(M.value.thumb({class:a.ui?.thumb}))},{default:V(()=>[e.loading?(h(),P(Jt,{key:0,name:e.loadingIcon||T(f).ui.icons.loading,class:ee(M.value.icon({class:a.ui?.icon,checked:!0,unchecked:!0}))},null,8,["name","class"])):(h(),A(me,{key:1},[e.checkedIcon?(h(),P(Jt,{key:0,name:e.checkedIcon,class:ee(M.value.icon({class:a.ui?.icon,checked:!0}))},null,8,["name","class"])):$("",!0),e.uncheckedIcon?(h(),P(Jt,{key:1,name:e.uncheckedIcon,class:ee(M.value.icon({class:a.ui?.icon,unchecked:!0}))},null,8,["name","class"])):$("",!0)],64))]),_:1},8,["class"])]),_:1},16,["id","modelValue","name","disabled","class"])],2),e.label||r.label||e.description||r.description?(h(),A("div",{key:0,class:ee(M.value.wrapper({class:a.ui?.wrapper}))},[e.label||r.label?(h(),P(T(Zl),{key:0,for:T(w),class:ee(M.value.label({class:a.ui?.label}))},{default:V(()=>[Qe(L.$slots,"label",{label:e.label},()=>[Ne(U(e.label),1)])]),_:3},8,["for","class"])):$("",!0),e.description||r.description?(h(),A("p",{key:1,class:ee(M.value.description({class:a.ui?.description}))},[Qe(L.$slots,"description",{description:e.description},()=>[Ne(U(e.description),1)])],2)):$("",!0)],2)):$("",!0)]),_:3},8,["as","class"]))}});var Da=Math.PI,$a=2*Da,ct=1e-6,Ai=$a-ct;function ja(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function er(){return new ja}ja.prototype=er.prototype={constructor:ja,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,a,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+a)+","+(this._y1=+r)},bezierCurveTo:function(e,t,a,r,i,s){this._+="C"+ +e+","+ +t+","+ +a+","+ +r+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(e,t,a,r,i){e=+e,t=+t,a=+a,r=+r,i=+i;var s=this._x1,f=this._y1,u=a-e,c=r-t,O=s-e,v=f-t,m=O*O+v*v;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(m>ct)if(!(Math.abs(v*u-c*O)>ct)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var j=a-s,E=r-f,F=u*u+c*c,z=j*j+E*E,w=Math.sqrt(F),M=Math.sqrt(m),p=i*Math.tan((Da-Math.acos((F+m-z)/(2*w*M)))/2),L=p/M,D=p/w;Math.abs(L-1)>ct&&(this._+="L"+(e+L*O)+","+(t+L*v)),this._+="A"+i+","+i+",0,0,"+ +(v*j>O*E)+","+(this._x1=e+D*u)+","+(this._y1=t+D*c)}},arc:function(e,t,a,r,i,s){e=+e,t=+t,a=+a,s=!!s;var f=a*Math.cos(r),u=a*Math.sin(r),c=e+f,O=t+u,v=1^s,m=s?r-i:i-r;if(a<0)throw new Error("negative radius: "+a);this._x1===null?this._+="M"+c+","+O:(Math.abs(this._x1-c)>ct||Math.abs(this._y1-O)>ct)&&(this._+="L"+c+","+O),a&&(m<0&&(m=m%$a+$a),m>Ai?this._+="A"+a+","+a+",0,1,"+v+","+(e-f)+","+(t-u)+"A"+a+","+a+",0,1,"+v+","+(this._x1=c)+","+(this._y1=O):m>ct&&(this._+="A"+a+","+a+",0,"+ +(m>=Da)+","+v+","+(this._x1=e+a*Math.cos(i))+","+(this._y1=t+a*Math.sin(i))))},rect:function(e,t,a,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +a+"v"+ +r+"h"+-a+"Z"},toString:function(){return this._}};function ke(e){return function(){return e}}var Br=1e-12;function sn(e){this._context=e}sn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function tr(e){return new sn(e)}function on(e){return e[0]}function un(e){return e[1]}function Oi(){var e=on,t=un,a=ke(!0),r=null,i=tr,s=null;function f(u){var c,O=u.length,v,m=!1,j;for(r==null&&(s=i(j=er())),c=0;c<=O;++c)!(c<O&&a(v=u[c],c,u))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(v,c,u),+t(v,c,u));if(j)return s=null,j+""||null}return f.x=function(u){return arguments.length?(e=typeof u=="function"?u:ke(+u),f):e},f.y=function(u){return arguments.length?(t=typeof u=="function"?u:ke(+u),f):t},f.defined=function(u){return arguments.length?(a=typeof u=="function"?u:ke(!!u),f):a},f.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),f):i},f.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),f):r},f}function Mi(){var e=on,t=null,a=ke(0),r=un,i=ke(!0),s=null,f=tr,u=null;function c(v){var m,j,E,F=v.length,z,w=!1,M,p=new Array(F),L=new Array(F);for(s==null&&(u=f(M=er())),m=0;m<=F;++m){if(!(m<F&&i(z=v[m],m,v))===w)if(w=!w)j=m,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),E=m-1;E>=j;--E)u.point(p[E],L[E]);u.lineEnd(),u.areaEnd()}w&&(p[m]=+e(z,m,v),L[m]=+a(z,m,v),u.point(t?+t(z,m,v):p[m],r?+r(z,m,v):L[m]))}if(M)return u=null,M+""||null}function O(){return Oi().defined(i).curve(f).context(s)}return c.x=function(v){return arguments.length?(e=typeof v=="function"?v:ke(+v),t=null,c):e},c.x0=function(v){return arguments.length?(e=typeof v=="function"?v:ke(+v),c):e},c.x1=function(v){return arguments.length?(t=v==null?null:typeof v=="function"?v:ke(+v),c):t},c.y=function(v){return arguments.length?(a=typeof v=="function"?v:ke(+v),r=null,c):a},c.y0=function(v){return arguments.length?(a=typeof v=="function"?v:ke(+v),c):a},c.y1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:ke(+v),c):r},c.lineX0=c.lineY0=function(){return O().x(e).y(a)},c.lineY1=function(){return O().x(e).y(r)},c.lineX1=function(){return O().x(t).y(a)},c.defined=function(v){return arguments.length?(i=typeof v=="function"?v:ke(!!v),c):i},c.curve=function(v){return arguments.length?(f=v,s!=null&&(u=f(s)),c):f},c.context=function(v){return arguments.length?(v==null?s=u=null:u=f(s=v),c):s},c}function Je(){}function aa(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function oa(e){this._context=e}oa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:aa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:aa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zi(e){return new oa(e)}function cn(e){this._context=e}cn.prototype={areaStart:Je,areaEnd:Je,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:aa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fi(e){return new cn(e)}function dn(e){this._context=e}dn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:aa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Di(e){return new dn(e)}function fn(e,t){this._basis=new oa(e),this._beta=t}fn.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,a=e.length-1;if(a>0)for(var r=e[0],i=t[0],s=e[a]-r,f=t[a]-i,u=-1,c;++u<=a;)c=u/a,this._basis.point(this._beta*e[u]+(1-this._beta)*(r+c*s),this._beta*t[u]+(1-this._beta)*(i+c*f));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const $i=(function e(t){function a(r){return t===1?new oa(r):new fn(r,t)}return a.beta=function(r){return e(+r)},a})(.85);function ra(e,t,a){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-a),e._x2,e._y2)}function ar(e,t){this._context=e,this._k=(1-t)/6}ar.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ra(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:ra(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ji=(function e(t){function a(r){return new ar(r,t)}return a.tension=function(r){return e(+r)},a})(0);function rr(e,t){this._context=e,this._k=(1-t)/6}rr.prototype={areaStart:Je,areaEnd:Je,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ra(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ei=(function e(t){function a(r){return new rr(r,t)}return a.tension=function(r){return e(+r)},a})(0);function nr(e,t){this._context=e,this._k=(1-t)/6}nr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ra(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Bi=(function e(t){function a(r){return new nr(r,t)}return a.tension=function(r){return e(+r)},a})(0);function lr(e,t,a){var r=e._x1,i=e._y1,s=e._x2,f=e._y2;if(e._l01_a>Br){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>Br){var O=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,v=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*O+e._x1*e._l23_2a-t*e._l12_2a)/v,f=(f*O+e._y1*e._l23_2a-a*e._l12_2a)/v}e._context.bezierCurveTo(r,i,s,f,e._x2,e._y2)}function vn(e,t){this._context=e,this._alpha=t}vn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:lr(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ri=(function e(t){function a(r){return t?new vn(r,t):new ar(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function mn(e,t){this._context=e,this._alpha=t}mn.prototype={areaStart:Je,areaEnd:Je,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:lr(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ui=(function e(t){function a(r){return t?new mn(r,t):new rr(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function hn(e,t){this._context=e,this._alpha=t}hn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:lr(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ni=(function e(t){function a(r){return t?new hn(r,t):new nr(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function pn(e){this._context=e}pn.prototype={areaStart:Je,areaEnd:Je,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Pi(e){return new pn(e)}function Rr(e){return e<0?-1:1}function Ur(e,t,a){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),f=(a-e._y1)/(i||r<0&&-0),u=(s*i+f*r)/(r+i);return(Rr(s)+Rr(f))*Math.min(Math.abs(s),Math.abs(f),.5*Math.abs(u))||0}function Nr(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function Va(e,t,a){var r=e._x0,i=e._y0,s=e._x1,f=e._y1,u=(s-r)/3;e._context.bezierCurveTo(r+u,i+u*t,s-u,f-u*a,s,f)}function na(e){this._context=e}na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Va(this,this._t0,Nr(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Va(this,Nr(this,a=Ur(this,e,t)),a);break;default:Va(this,this._t0,a=Ur(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function gn(e){this._context=new _n(e)}(gn.prototype=Object.create(na.prototype)).point=function(e,t){na.prototype.point.call(this,t,e)};function _n(e){this._context=e}_n.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,r,i,s){this._context.bezierCurveTo(t,e,r,a,s,i)}};function Ii(e){return new na(e)}function Hi(e){return new gn(e)}function yn(e){this._context=e}yn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var r=Pr(e),i=Pr(t),s=0,f=1;f<a;++s,++f)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[f],t[f]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Pr(e){var t,a=e.length-1,r,i=new Array(a),s=new Array(a),f=new Array(a);for(i[0]=0,s[0]=2,f[0]=e[0]+2*e[1],t=1;t<a-1;++t)i[t]=1,s[t]=4,f[t]=4*e[t]+2*e[t+1];for(i[a-1]=2,s[a-1]=7,f[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=i[t]/s[t-1],s[t]-=r,f[t]-=r*f[t-1];for(i[a-1]=f[a-1]/s[a-1],t=a-2;t>=0;--t)i[t]=(f[t]-i[t+1])/s[t];for(s[a-1]=(e[a]+i[a-1])/2,t=0;t<a-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function qi(e){return new yn(e)}function ua(e,t){this._context=e,this._t=t}ua.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function Yi(e){return new ua(e,.5)}function Gi(e){return new ua(e,0)}function Wi(e){return new ua(e,1)}function Ir(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function Zi(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ir(Object(a),!0).forEach(function(r){Xi(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ir(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Ot(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ot=function(t){return typeof t}:Ot=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot(e)}function Xi(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function la(){return la=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},la.apply(this,arguments)}function Ki(e,t){if(e){if(typeof e=="string")return Hr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Hr(e,t)}}function Hr(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function bn(e,t){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=Ki(e))||t){a&&(e=a);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,f=!1,u;return{s:function(){a=a.call(e)},n:function(){var c=a.next();return s=c.done,c},e:function(c){f=!0,u=c},f:function(){try{!s&&a.return!=null&&a.return()}finally{if(f)throw u}}}}function Qi(e,t){var a=[],r=[];function i(s,f){if(s.length===1)a.push(s[0]),r.push(s[0]);else{for(var u=Array(s.length-1),c=0;c<u.length;c++)c===0&&a.push(s[0]),c===u.length-1&&r.push(s[c+1]),u[c]=[(1-f)*s[c][0]+f*s[c+1][0],(1-f)*s[c][1]+f*s[c+1][1]];i(u,f)}}return e.length&&i(e,t),{left:a,right:r.reverse()}}function Ji(e){var t={};return e.length===4&&(t.x2=e[2][0],t.y2=e[2][1]),e.length>=3&&(t.x1=e[1][0],t.y1=e[1][1]),t.x=e[e.length-1][0],t.y=e[e.length-1][1],e.length===4?t.type="C":e.length===3?t.type="Q":t.type="L",t}function es(e,t){t=t||2;for(var a=[],r=e,i=1/t,s=0;s<t-1;s++){var f=i/(1-i*s),u=Qi(r,f);a.push(u.left),r=u.right}return a.push(r),a}function ts(e,t,a){var r=[[e.x,e.y]];return t.x1!=null&&r.push([t.x1,t.y1]),t.x2!=null&&r.push([t.x2,t.y2]),r.push([t.x,t.y]),es(r,a).map(Ji)}var as=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,_t={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};Object.keys(_t).forEach(function(e){_t[e.toLowerCase()]=_t[e]});function Ea(e,t){for(var a=Array(e),r=0;r<e;r++)a[r]=t;return a}function rs(e){return"".concat(e.type).concat(_t[e.type].map(function(t){return e[t]}).join(","))}function ns(e,t){var a={x1:"x",y1:"y",x2:"x",y2:"y"},r=["xAxisRotation","largeArcFlag","sweepFlag"];if(e.type!==t.type&&t.type.toUpperCase()!=="M"){var i={};Object.keys(t).forEach(function(s){var f=t[s],u=e[s];u===void 0&&(r.includes(s)?u=f:(u===void 0&&a[s]&&(u=e[a[s]]),u===void 0&&(u=0))),i[s]=u}),i.type=t.type,e=i}return e}function ls(e,t,a){var r=[];if(t.type==="L"||t.type==="Q"||t.type==="C")r=r.concat(ts(e,t,a));else{var i=la({},e);i.type==="M"&&(i.type="L"),r=r.concat(Ea(a-1).map(function(){return i})),r.push(t)}return r}function qr(e,t,a){var r=e.length-1,i=t.length-1,s=r/i,f=Ea(i).reduce(function(c,O,v){var m=Math.floor(s*v);if(a&&m<e.length-1&&a(e[m],e[m+1])){var j=s*v%1<.5;c[m]&&(j?m>0?m-=1:m<e.length-1&&(m+=1):m<e.length-1?m+=1:m>0&&(m-=1))}return c[m]=(c[m]||0)+1,c},[]),u=f.reduce(function(c,O,v){if(v===e.length-1){var m=Ea(O,la({},e[e.length-1]));return m[0].type==="M"&&m.forEach(function(j){j.type="L"}),c.concat(m)}return c.concat(ls(e[v],e[v+1],O))},[]);return u.unshift(e[0]),u}function Yr(e){for(var t=(e||"").match(as)||[],a=[],r,i,s=0;s<t.length;++s)if(r=_t[t[s]],r){i={type:t[s]};for(var f=0;f<r.length;++f)i[r[f]]=+t[s+f+1];s+=r.length,a.push(i)}return a}function is(e,t,a){var r=e==null?[]:e.slice(),i=t==null?[]:t.slice(),s=Ot(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},f=s.excludeSegment,u=s.snapEndsToInput;if(!r.length&&!i.length)return function(){return[]};var c=(r.length===0||r[r.length-1].type==="Z")&&(i.length===0||i[i.length-1].type==="Z");r.length>0&&r[r.length-1].type==="Z"&&r.pop(),i.length>0&&i[i.length-1].type==="Z"&&i.pop(),r.length?i.length||i.push(r[0]):r.push(i[0]);var O=Math.abs(i.length-r.length);O!==0&&(i.length>r.length?r=qr(r,i,f):i.length<r.length&&(i=qr(i,r,f))),r=r.map(function(m,j){return ns(m,i[j])});var v=r.map(function(m){return Zi({},m)});return c&&(v.push({type:"Z"}),r.push({type:"Z"})),function(j){if(j===1&&u)return t??[];if(j===0)return r;for(var E=0;E<v.length;++E){var F=r[E],z=i[E],w=v[E],M=bn(_t[w.type]),p;try{for(M.s();!(p=M.n()).done;){var L=p.value;w[L]=(1-j)*F[L]+j*z[L],(L==="largeArcFlag"||L==="sweepFlag")&&(w[L]=Math.round(w[L]))}}catch(D){M.e(D)}finally{M.f()}}return v}}function ss(e,t,a){var r=Yr(e),i=Yr(t),s=Ot(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},f=s.excludeSegment,u=s.snapEndsToInput;if(!r.length&&!i.length)return function(){return""};var c=is(r,i,{excludeSegment:f,snapEndsToInput:u});return function(v){if(v===1&&u)return t??"";var m=c(v),j="",E=bn(m),F;try{for(E.s();!(F=E.n()).done;){var z=F.value;j+=rs(z)}}catch(w){E.e(w)}finally{E.f()}return j}}var le;(function(e){e.Basis="basis",e.BasisClosed="basisClosed",e.BasisOpen="basisOpen",e.Bundle="bundle",e.Cardinal="cardinal",e.CardinalClosed="cardinalClosed",e.CardinalOpen="cardinalOpen",e.CatmullRom="catmullRom",e.CatmullRomClosed="catmullRomClosed",e.CatmullRomOpen="catmullRomOpen",e.Linear="linear",e.LinearClosed="linearClosed",e.MonotoneX="monotoneX",e.MonotoneY="monotoneY",e.Natural="natural",e.Step="step",e.StepAfter="stepAfter",e.StepBefore="stepBefore"})(le||(le={}));const os={[le.Basis]:zi,[le.BasisClosed]:Fi,[le.BasisOpen]:Di,[le.Bundle]:$i,[le.Cardinal]:ji,[le.CardinalClosed]:Ei,[le.CardinalOpen]:Bi,[le.CatmullRom]:Ri,[le.CatmullRomClosed]:Ui,[le.CatmullRomOpen]:Ni,[le.Linear]:tr,[le.LinearClosed]:Pi,[le.MonotoneX]:Ii,[le.MonotoneY]:Hi,[le.Natural]:qi,[le.Step]:Yi,[le.StepAfter]:Wi,[le.StepBefore]:Gi},us=Object.assign(Object.assign({},Wa),{color:void 0,groupMaxWidth:void 0,groupWidth:void 0,dataStep:void 0,groupPadding:.05,barPadding:0,roundedCorners:2,barMinHeight:2,cursor:null,orientation:ln.Vertical}),kn=Ie`
  label: grouped-bar-component;
`,cs=Za`
  :root {
    --vis-grouped-bar-cursor: default;
    --vis-grouped-bar-fill-color: var(--vis-color-main);
    --vis-grouped-bar-stroke-color: none;
    --vis-grouped-bar-stroke-width: 0px;
    --vis-grouped-bar-hover-stroke-width: 1px;
    --vis-grouped-bar-hover-stroke-color: none;


    /* Dark Theme */
    --vis-dark-grouped-bar-stroke-color: none;
  }

  body.theme-dark ${`.${kn}`} {
    --vis-grouped-bar-stroke-color: var(--vis-dark-grouped-bar-stroke-color);
  }
`,ea=Ie`
  label: bar;
  fill: var(--vis-grouped-bar-fill-color);
  stroke: var(--vis-grouped-bar-stroke-color);
  stroke-width: var(--vis-grouped-bar-stroke-width);
  cursor: var(--vis-grouped-bar-cursor);

  &:hover {
    stroke-width: var(--vis-grouped-bar-hover-stroke-width);
    stroke: var(--vis-grouped-bar-hover-stroke-color);
  }
`,Ba=Ie`
  label: barGroup;
`,xn=Ie`
  label: barGroupExit;
`,ds=Object.freeze(Object.defineProperty({__proto__:null,bar:ea,barGroup:Ba,barGroupExit:xn,globalStyles:cs,root:kn},Symbol.toStringTag,{value:"Module"}));class wn extends Xa{constructor(t){super(),this._defaultConfig=us,this.config=this._defaultConfig,this.getAccessors=()=>Oa(this.config.y)?this.config.y:[this.config.y],this.events={},this._barData=[],t&&this.setConfig(t)}get bleed(){if(this._barData=this._getVisibleData(),this._barData.length===0)return{top:0,bottom:0,left:0,right:0};const t=!this.isVertical()&&this.dataScale.range()[0]>this.dataScale.range()[1],a=this.dataScale.domain(),r=this._getGroupWidth()/2,i=this._barData.map((E,F)=>dt(E,this.config.x,F)),s=La(i),f=ti(i),u=this.dataScale(s),c=this.dataScale(f),O=this.dataScale.invert(u+(t?r:-r)),v=this.dataScale.invert(c+(t?-r:r)),m=O<=a[0]?this.dataScale(a[0])-this.dataScale(O):0,j=v>a[1]?this.dataScale(v)-this.dataScale(a[1]):0;return{top:this.isVertical()?0:t?-j:m,bottom:this.isVertical()?0:t?-m:j,left:this.isVertical()?m:0,right:this.isVertical()?j:0}}get dataScale(){return this.isVertical()?this.xScale:this.yScale}get valueScale(){return this.isVertical()?this.yScale:this.xScale}isVertical(){return this.config.orientation===ln.Vertical}_render(t){const{config:a}=this,r=Ma(t)?t:a.duration,i=this._getGroupWidth(),s=this.getAccessors(),f=[-i/2,i/2],u=ai().domain(ri(s.length)).range(f).paddingInner(a.barPadding).paddingOuter(a.barPadding),c=this.g.selectAll(`.${Ba}`).data(this._barData,(p,L)=>{var D;return`${(D=za(p,a.id,L))!==null&&D!==void 0?D:L}`}),O=(p,L)=>{const D=this.dataScale(dt(p,a.x,L)),ae=this.isVertical()?D:0,W=this.isVertical()?0:D;return`translate(${ae},${W})`},m=c.enter().append("g").attr("class",Ba).attr("transform",O).style("opacity",1).merge(c);Ee(m,r).attr("transform",O).style("opacity",1);const j=c.exit().attr("class",xn);Ee(j,r).style("opacity",0).remove(),Ee(j.selectAll(`.${ea}`),r).attr("transform",(p,L,D)=>this.isVertical()?`translate(0,${this.yScale(0)}) scale(1,0)`:`translate(${this.xScale(0)},0) scale(0,1)`);const E=u.bandwidth(),F=m.selectAll(`.${ea}`).data(p=>s.map(()=>p)),z=this._getValueAxisDirection(),M=F.enter().append("path").attr("class",ea).attr("d",(p,L)=>{const D=u(L),ae=this.valueScale(0),W=E;return this._getBarPath(D,ae,W,0,!1,z)}).style("fill",(p,L)=>ta(p,a.color,L)).merge(F);Ee(M,r).attr("d",(p,L)=>{const D=u(L),ae=E,W=dt(p,s[L]),re=W<0;let ie=re?this.valueScale(0):this.valueScale(W||0),Z=Math.abs(this.valueScale(0)-this.valueScale(W))||0;if(Z<a.barMinHeight){const se=z===Kt.North?-1:1;ie=this.valueScale(0)+se*a.barMinHeight,Z=a.barMinHeight}return this._getBarPath(D,ie,ae,Z,re,z)}).style("fill",(p,L)=>ta(p,a.color,L)).style("cursor",(p,L)=>za(p,a.cursor,L)),Ee(F.exit(),r).remove()}_getValueAxisDirection(){return this.valueScale.range()[0]>this.valueScale.range()[1]?Kt.North:Kt.South}_getVisibleData(){const{config:t,datamodel:{data:a}}=this,r=this._getGroupWidth(),i=a.length<2?0:r/2,s=this.dataScale,f=Math.abs(s.invert(i)-s.invert(0));return a?.filter((c,O)=>{const v=dt(c,t.x,O),m=s.domain(),j=+m[0],E=+m[1];return v>=j-f&&v<=E+f})}_getBarPath(t,a,r,i,s,f){const{config:u}=this,c=u.roundedCorners?Ma(u.roundedCorners)?+u.roundedCorners:r/2:0,O=ui(c,0,Math.min(i,r)/2),v=f===Kt.North,m=this.isVertical()&&s!==v,j=this.isVertical()&&s===v,E=!this.isVertical()&&s,F=!this.isVertical()&&!s;return ni({x:this.isVertical()?t:a+(v?0:-i),y:this.isVertical()?a+(v?0:-i):t,w:this.isVertical()?r:i,h:this.isVertical()?i:r,tl:m||E,tr:m||F,bl:j||E,br:j||F,r:O})}_getGroupWidth(){const{config:t,datamodel:{data:a}}=this;if(li(a))return 0;if(t.groupWidth)return La([t.groupWidth,t.groupMaxWidth]);const r=this.dataScale.bandwidth,i=this.dataScale.domain?this.dataScale.domain():[];let f=1+(r?i.length:i[1]-i[0])/t.dataStep||!r&&a.filter((O,v)=>{const m=dt(O,t.x,v);return m>=i[0]&&m<=i[1]}).length||a.length;!r&&f>=2&&(f+=1);const c=(f<2?1:1-t.groupPadding)*(this.isVertical()?this._width:this._height)/f;return La([c,t.groupMaxWidth])}getValueScaleExtent(t){const{datamodel:a}=this,r=this.getAccessors(),i=t?this._getVisibleData():a.data,s=ii(i,...r),f=si(i,...r);return[s>0?0:s,f<0?0:f]}getDataScaleExtent(){const{config:t,datamodel:a}=this;return oi(a.data,t.x)}getYDataExtent(t){return this.isVertical()?this.getValueScaleExtent(t):this.getDataScaleExtent()}getXDataExtent(){return this.isVertical()?this.getDataScaleExtent():this.getValueScaleExtent(!1)}}wn.selectors=ds;var Ra;(function(e){e.Solid="solid",e.Dash="dash",e.DashDot="dashDot",e.Dot="dot",e.LongDash="longDash",e.LongDashDot="longDashDot",e.LongDashDotDot="longDashDotDot",e.ShortDash="shortDash",e.ShortDashDot="shortDashDot",e.ShortDashDotDot="shortDashDotDot",e.ShortDot="shortDot"})(Ra||(Ra={}));var Y;(function(e){e.TopLeft="top-left",e.Top="top",e.TopRight="top-right",e.Right="right",e.BottomRight="bottom-right",e.Bottom="bottom",e.BottomLeft="bottom-left",e.Left="left"})(Y||(Y={}));var ia;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(ia||(ia={}));const fs=Object.assign(Object.assign({},Wa),{color:void 0,curveType:le.MonotoneX,baseline:()=>0,opacity:1,cursor:null,minHeight1Px:!1,minHeight:void 0}),Sn=Ie`
  label: area-component;
`,vs=Za`
  :root {
    --vis-area-cursor: default;
    --vis-area-fill-opacity: 1;
    --vis-area-stroke-color: none;
    --vis-area-stroke-width: 0px;
    --vis-area-stroke-dasharray: none;
    --vis-area-stroke-opacity: 1;
    --vis-area-hover-fill-opacity: none;
    --vis-area-hover-stroke-width: none;

    /* Dark Theme */
    --vis-dark-area-stroke-color: none;
  }

  body.theme-dark ${`.${Sn}`} {
    --vis-area-stroke-color: var(--vis-dark-area-stroke-color);
  }

`,Ua=Ie`
  label: area;
  cursor: var(--vis-area-cursor);
  fill-opacity: var(--vis-area-fill-opacity);
  stroke-width: var(--vis-area-stroke-width);
  stroke-dasharray: var(--vis-area-stroke-dasharray);
  stroke: var(--vis-area-stroke-color);
  stroke-opacity: var(--vis-area-stroke-opacity);

  &:hover {
    fill-opacity: var(--vis-area-hover-fill-opacity);
    stroke-width: var(--vis-area-hover-stroke-width);
  }
`,ms=Object.freeze(Object.defineProperty({__proto__:null,area:Ua,globalStyles:vs,root:Sn},Symbol.toStringTag,{value:"Module"}));class ca extends Xa{constructor(t){super(),this._defaultConfig=fs,this.config=this._defaultConfig,this.stacked=!0,this.events={[ca.selectors.area]:{}},t&&this.setConfig(t),this.stacked=Array.isArray(this.config.y)}_render(t){super._render(t);const{config:a,datamodel:{data:r}}=this,i=Ma(t)?t:a.duration,s=os[a.curveType];this._areaGen=Mi().x(w=>w.x).y0(w=>w.y0).y1(w=>w.y1).curve(s);const f=Oa(a.y)?a.y:[a.y],u=r.map((w,M)=>this.xScale(dt(w,a.x,M))),c=ci(r,a.baseline,f,this._prevNegative);this._prevNegative=c.map(w=>!!w.isMostlyNegative);const O=[],v=c.map(w=>w.map((M,p)=>{var L,D;const ae=u[p],W=this.yScale(M[0]),re=this.yScale(M[1]),ie=re>W,Z=O[p]||0,se=ie?W+Z:W-Z,oe=ie?re+Z:re-Z;let ue=0;return(a.minHeight||a.minHeight1Px)&&Math.abs(oe-se)<((L=a.minHeight)!==null&&L!==void 0?L:1)&&(ue=((D=a.minHeight)!==null&&D!==void 0?D:1)-Math.abs(oe-se),O[p]=Z+ue),{x:ae,y0:se,y1:ie?oe+ue:oe-ue}})),m=v.length-1,j=v.reverse(),E=this.g.selectAll(`.${Ua}`).data(j),F=E.enter().append("path").attr("class",Ua).attr("d",w=>this._areaGen(w)||this._emptyPath()).style("opacity",0).style("fill",(w,M)=>ta(r,a.color,m-M)),z=Ee(F.merge(E),i).style("opacity",(w,M)=>w.some(L=>L.y0-L.y1!==0)?dt(r,a.opacity,m-M):0).style("fill",(w,M)=>ta(r,a.color,m-M)).style("cursor",(w,M)=>za(r,a.cursor,m-M));i?z.attrTween("d",(M,p,L)=>{const D=di(L[p]).attr("d"),ae=this._areaGen(M)||this._emptyPath();return ss(D,ae)}):z.attr("d",w=>this._areaGen(w)||this._emptyPath()),Ee(E.exit(),i).style("opacity",0).remove()}getYDataExtent(t){const{config:a,datamodel:r}=this,i=Oa(a.y)?a.y:[a.y],s=this.xScale.domain(),f=t?fi(r.data,s,a.x,!0):r.data;return vi(f,a.baseline,...i)}_emptyPath(){const t=this.xScale.range(),a=this.yScale.domain(),r=this.yScale((a[0]+a[1])/2),i=r;return this._areaGen([{y0:r,y1:i,x:t[0]},{y0:r,y1:i,x:t[1]}])}}ca.selectors=ms;const hs={solid:"none",shortDash:"6,2",shortDot:"2,2",shortDashDot:"6,2,2,2",shortDashDotDot:"6,2,2,2,2,2",dot:"2,6",dash:"8,6",longDash:"16,6",dashDot:"8,6,2,6",longDashDot:"16,6,2,6",longDashDotDot:"16,6,2,6,2,6"},ps={[Y.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[Y.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[Y.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[Y.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"start",dominantBaseline:"middle"}),[Y.BottomRight]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[Y.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[Y.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[Y.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"end",dominantBaseline:"middle"})},gs={[Y.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-after-edge"}),[Y.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"end",dominantBaseline:"middle"}),[Y.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[Y.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[Y.BottomRight]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[Y.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"middle"}),[Y.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[Y.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"middle",dominantBaseline:"text-after-edge"})},_s={[Y.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-after-edge"}),[Y.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[Y.TopRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[Y.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"middle"}),[Y.BottomRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a+r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[Y.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[Y.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[Y.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"start",dominantBaseline:"middle"})},ys={[Y.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[Y.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"start",dominantBaseline:"central"}),[Y.TopRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[Y.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[Y.BottomRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a+r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[Y.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"end",dominantBaseline:"central"}),[Y.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[Y.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"})},bs=Object.assign(Object.assign({},Wa),{lineWidth:2,axis:Fa.Y,value:0,duration:300,color:void 0,lineStyle:Ra.Solid,labelPosition:Y.TopRight,labelOffsetX:14,labelOffsetY:14,labelOrientation:ia.Horizontal}),ks=Za`
  :root {
    --vis-plotline-color: rgb(226, 32, 58);
    --vis-plotline-width: 2;
    --vis-plotline-dasharray: none;
    --vis-plotline-stroke-dashoffset: 0;
    --vis-plotline-label-font-size: 12px;
    --vis-plotline-label-color: #000;

    --vis-dark-plotline-label-color: #e5e9f7;
  }

  body.theme-dark {
    --vis-plotline-label-color: var(--vis-dark-tooltip-text-color);
  }
`,xs=Ie`
  label: plotline-component;
`,Tn=Ie`
  label: plotline;
  transition: opacity 200ms;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke: var(--vis-plotline-color);
  stroke-width: var(--vis-plotline-width);
  stroke-dasharray: var(--vis-plotline-dasharray);
  stroke-dashoffset: var(--vis-plotline-stroke-dashoffset);
`,Cn=Ie`
  label: plotline-label;
  text-anchor: middle;
  /* dominant-baseline: middle; */
  pointer-events: none;
  font-size: var(--vis-plotline-label-font-size);
  fill: var(--vis-plotline-label-color);
`,ws=Object.freeze(Object.defineProperty({__proto__:null,globalStyles:ks,label:Cn,plotline:Tn,root:xs},Symbol.toStringTag,{value:"Module"}));class Ln extends Xa{constructor(t){super(),this._defaultConfig=bs,t&&this.setConfig(t),this.plotline=this.g.append("line").attr("class",Tn),this.label=this.g.append("text").attr("class",Cn)}_render(t){super._render(t);const{config:a}=this;this.value=a.value;let r;typeof a?.lineStyle=="string"?r=hs[a.lineStyle]:Array.isArray(a.lineStyle)?r=a.lineStyle.join(","):r="none",this.value=a.value,this.plotline.attr("stroke-opacity",1).style("stroke-width",a.lineWidth).style("stroke-dasharray",r).style("stroke",a.color);let i=0,s=0,f=0,u=0;if(a.axis===Fa.Y?(f=this.yScale(this.value),u=this.yScale(this.value),i=0,s=this._width):(f=0,u=this._height,i=this.xScale(this.value),s=this.xScale(this.value)),Ee(this.plotline,a.duration).attr("x1",i).attr("x2",s).attr("y1",f).attr("y2",u),a.labelText){const c=this.computeLabel(a.axis,s,u,a.labelPosition,a.labelOffsetX,a.labelOffsetY,a.labelOrientation);this.label.text(a.labelText).attr("transform",c.transform).attr("dominant-baseline",c.dominantBaseline).style("fill",a.labelColor).style("text-anchor",c.textAnchor).style("font-size",a.labelSize?`${a.labelSize}px`:void 0),Ee(this.label,a.duration).attr("x",c.x).attr("y",c.y)}Ee(this.plotline.exit()).style("opacity",0).remove()}computeLabel(t,a,r,i,s,f,u){const c=u===ia.Vertical,O=c?-90:0;let v;t===Fa.X?v=(c?gs:ps)[i]({width:a,height:r,offsetX:s,offsetY:f}):v=(c?ys:_s)[i]({width:a,height:r,offsetX:s,offsetY:f});const m=O?`rotate(${O}, ${v.x}, ${v.y})`:"";return Object.assign(Object.assign({},v),{rotation:O,transform:m})}}Ln.selectors=ws;const Ss={"data-vis-component":""},Gr=Pe({__name:"index",props:{color:{},curveType:{},baseline:{},opacity:{},cursor:{},minHeight1Px:{type:Boolean},minHeight:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=Ha(Ka),r=e,i=y(()=>a.data.value??r.data),s=Qa(r),f=C();return bt(()=>{sa(()=>{var u;f.value=new ca(s.value),(u=f.value)==null||u.setData(i.value),a.update(f.value)})}),Mt(()=>{var u;(u=f.value)==null||u.destroy(),a.destroy()}),X(s,(u,c)=>{var O;Ja(u,c)||(O=f.value)==null||O.setConfig(s.value)}),X(i,()=>{var u;(u=f.value)==null||u.setData(i.value)}),t({component:f}),(u,c)=>(h(),A("div",Ss))}}),Ts={"data-vis-component":""},Cs=Pe({__name:"index",props:{color:{},groupWidth:{},groupMaxWidth:{},dataStep:{},groupPadding:{},barPadding:{},roundedCorners:{type:[Number,Boolean]},barMinHeight:{},cursor:{},orientation:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=Ha(Ka),r=e,i=y(()=>a.data.value??r.data),s=Qa(r),f=C();return bt(()=>{sa(()=>{var u;f.value=new wn(s.value),(u=f.value)==null||u.setData(i.value),a.update(f.value)})}),Mt(()=>{var u;(u=f.value)==null||u.destroy(),a.destroy()}),X(s,(u,c)=>{var O;Ja(u,c)||(O=f.value)==null||O.setConfig(s.value)}),X(i,()=>{var u;(u=f.value)==null||u.setData(i.value)}),t({component:f}),(u,c)=>(h(),A("div",Ts))}}),Ls={"data-vis-component":""},Vs=Pe({__name:"index",props:{color:{},lineWidth:{},axis:{},value:{},duration:{},lineStyle:{},labelText:{},labelPosition:{},labelOffsetX:{},labelOffsetY:{},labelOrientation:{},labelColor:{},labelSize:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=Ha(Ka),r=Qa(e),i=C();return bt(()=>{sa(()=>{i.value=new Ln(r.value),a.update(i.value)})}),Mt(()=>{var s;(s=i.value)==null||s.destroy(),a.destroy()}),X(r,(s,f)=>{var u;Ja(s,f)||(u=i.value)==null||u.setConfig(r.value)}),t({component:i}),(s,f)=>(h(),A("div",Ls))}});var As=typeof global=="object"&&global&&global.Object===Object&&global,Os=typeof self=="object"&&self&&self.Object===Object&&self,Ms=As||Os||Function("return this")(),yt=Ms.Symbol,Vn=Object.prototype,zs=Vn.hasOwnProperty,Fs=Vn.toString,Vt=yt?yt.toStringTag:void 0;function Ds(e){var t=zs.call(e,Vt),a=e[Vt];try{e[Vt]=void 0;var r=!0}catch{}var i=Fs.call(e);return r&&(t?e[Vt]=a:delete e[Vt]),i}var $s=Object.prototype,js=$s.toString;function Es(e){return js.call(e)}var Bs="[object Null]",Rs="[object Undefined]",Wr=yt?yt.toStringTag:void 0;function Us(e){return e==null?e===void 0?Rs:Bs:Wr&&Wr in Object(e)?Ds(e):Es(e)}function Ns(e){return e!=null&&typeof e=="object"}var Ps="[object Symbol]";function Is(e){return typeof e=="symbol"||Ns(e)&&Us(e)==Ps}function Hs(e,t){for(var a=-1,r=e==null?0:e.length,i=Array(r);++a<r;)i[a]=t(e[a],a,e);return i}var qs=Array.isArray,Zr=yt?yt.prototype:void 0,Xr=Zr?Zr.toString:void 0;function An(e){if(typeof e=="string")return e;if(qs(e))return Hs(e,An)+"";if(Is(e))return Xr?Xr.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function On(e){return e==null?"":An(e)}function Ys(e,t,a){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),a=a>i?i:a,a<0&&(a+=i),i=t>a?0:a-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function Gs(e,t,a){var r=e.length;return a=a===void 0?r:a,!t&&a>=r?e:Ys(e,t,a)}var Ws="\\ud800-\\udfff",Zs="\\u0300-\\u036f",Xs="\\ufe20-\\ufe2f",Ks="\\u20d0-\\u20ff",Qs=Zs+Xs+Ks,Js="\\ufe0e\\ufe0f",eo="\\u200d",to=RegExp("["+eo+Ws+Qs+Js+"]");function Mn(e){return to.test(e)}function ao(e){return e.split("")}var zn="\\ud800-\\udfff",ro="\\u0300-\\u036f",no="\\ufe20-\\ufe2f",lo="\\u20d0-\\u20ff",io=ro+no+lo,so="\\ufe0e\\ufe0f",oo="["+zn+"]",Na="["+io+"]",Pa="\\ud83c[\\udffb-\\udfff]",uo="(?:"+Na+"|"+Pa+")",Fn="[^"+zn+"]",Dn="(?:\\ud83c[\\udde6-\\uddff]){2}",$n="[\\ud800-\\udbff][\\udc00-\\udfff]",co="\\u200d",jn=uo+"?",En="["+so+"]?",fo="(?:"+co+"(?:"+[Fn,Dn,$n].join("|")+")"+En+jn+")*",vo=En+jn+fo,mo="(?:"+[Fn+Na+"?",Na,Dn,$n,oo].join("|")+")",ho=RegExp(Pa+"(?="+Pa+")|"+mo+vo,"g");function po(e){return e.match(ho)||[]}function go(e){return Mn(e)?po(e):ao(e)}function _o(e){return function(t){t=On(t);var a=Mn(t)?go(t):void 0,r=a?a[0]:t.charAt(0),i=a?Gs(a,1).join(""):t.slice(1);return r[e]()+i}}var yo=_o("toUpperCase");function Qt(e){return yo(On(e).toLowerCase())}const bo=Pe({__name:"ForestryChartDisplay",props:{selectedFrameworks:{default:()=>[]},selectedArtkategori:{},chartType:{},currentTimeValue:{},singleFrameworkSelection:{type:Boolean,default:!1},selectedStartskog:{},redColor:{type:Boolean,default:!1},yellowColor:{type:Boolean,default:!1},maxYValue:{}},async setup(e){let t,a;const{data:r}=([t,a]=zt(()=>Ft("svampar-skogsbruk",()=>Dt("svamparSkogsbruk").first())),t=await t,a(),t),{data:i}=([t,a]=zt(()=>Ft("total-svampar-skogsbruk",()=>Dt("totalSvamparSkogsbruk").first())),t=await t,a(),t),s=y(()=>Array.isArray(r.value?.entries)?r.value.entries:[]),f=y(()=>Array.isArray(i.value?.entries)?i.value.entries:[]),u=y(()=>{const _=Number(p.maxYValue);return Number.isFinite(_)?[0,_]:void 0}),c=y(()=>{const _=tt.value.map(S=>Number(S?.age)).filter(S=>Number.isFinite(S));return _.length?[Math.min(..._),Math.max(..._)]:[0,1]});y(()=>[(p.selectedFrameworks||[]).join(","),p.selectedStartskog||"",p.chartType||"",p.singleFrameworkSelection?"S":"M",p.currentTimeValue||""].join("|"));const O=y(()=>Array.isArray(tt.value)&&tt.value.length>0),v=y(()=>p.singleFrameworkSelection?(p.selectedArtkategori||[]).map(_=>(_||"").toLowerCase()).filter(_=>!w.value.has(_)):[]),m=y(()=>ce.value.length===1?ce.value[0].color:"#000000"),j={left:10,right:10,top:10,bottom:10},E=C(null),F=C(!1);let z=null;bt(async()=>{await sa(),F.value=!0,requestAnimationFrame(()=>{E.value?.offsetWidth}),typeof window<"u"&&"ResizeObserver"in window&&(z=new ResizeObserver(()=>{E.value?.offsetWidth}),E.value&&z.observe(E.value))}),en(()=>{z&&(z.disconnect(),z=null)});const w=C(new Set),M=C(new Set),p=e,L=y(()=>p.redColor?{naturskydd:"#808080",trakthygge:"#7f1d1d",skärmträd:"#b91c1c",luckhuggning:"#f87171",blädning:"#fca5a5"}:p.yellowColor?{naturskydd:"#808080",trakthygge:"#713f12",skärmträd:"#a16207",luckhuggning:"#eab308",blädning:"#fde047"}:{naturskydd:"#808080",trakthygge:"#a855f7",luckhuggning:"#3b82f6",skärmträd:"#eab308",blädning:"#22c55e"});function D(_,S=1){const q=_.replace("#",""),k=q.length===3?q.split("").map(he=>he+he).join(""):q,B=parseInt(k,16),N=B>>16&255,G=B>>8&255,H=B&255;return`rgba(${N}, ${G}, ${H}, ${S})`}y(()=>{const _={före:-5,efter:1,10:10,20:20,50:50,80:80};return[p.currentTimeValue?_[p.currentTimeValue]??c.value[0]:c.value[0],c.value[1]]});const ae={skinnsvampar:"#8B5CF6",spindelskivlingar:"#EC4899","kremlor och riskor":"#0EA5E9","övriga svampar":"#5eead4",matsvamp:"#eab308","rödlistade + signalarter":"#5eead4",total:"#808080"};function W(_){const S=_.toLowerCase();return S==="naturskydd"?"Ingen åtgärd":S==="trakthygge"?"Trakhyggesbruk":S==="skärmträd"?"Överhållen skärm":Qt(_)}const re=["naturskydd","trakthygge","skärmträd","luckhuggning","blädning"],ie=y(()=>(p.selectedFrameworks||[]).map(S=>S.toLowerCase()).filter(S=>re.includes(S)&&!M.value.has(S))),Z=y(()=>{const _={};for(const S of ie.value){const q=K(S).map(k=>({age:Number(k.age),value:Number(k.klassning)})).filter(k=>Number.isFinite(k.age)&&Number.isFinite(k.value)).sort((k,B)=>k.age-B.age);_[S]=q}return _}),se=y(()=>{const _=Object.values(Z.value);if(!_.length)return[];const S=_.map(H=>H.length?H[0].age:1/0),q=_.map(H=>H.length?H[H.length-1].age:-1/0),k=Math.min(...S),B=Math.max(...q);if(!Number.isFinite(k)||!Number.isFinite(B))return[];const N=[],G=1;for(let H=k;H<=B+1e-9;H+=G){const he=Math.round(H);N.push(he)}return N});function oe(_,S){const q=_.findIndex(N=>N.age===S);if(q!==-1)return _[q].value;let k=-1,B=-1;for(let N=0;N<_.length;N++)if(_[N].age<S&&(k=N),_[N].age>S){B=N;break}if(k!==-1&&B!==-1){const N=_[k],G=_[B],H=(S-N.age)/(G.age-N.age);return N.value+H*(G.value-N.value)}}const ue=y(()=>{const _=[];for(const S of se.value){const q={age:S};for(const k of ie.value){const B=Z.value[k]||[],N=oe(B,S);typeof N=="number"&&Number.isFinite(N)&&(q[k]=N)}_.push(q)}return _});y(()=>{const _={},S=Array.isArray(Ce.value)?Ce.value:[];for(const q of ie.value)_[q]=S.filter(k=>Number.isFinite(Number(k?.age))&&Number.isFinite(Number(k?.[q]))).map(k=>({age:Number(k.age),value:Number(k[q]),__row:k})).sort((k,B)=>k.age-B.age);return _});const ye=y(()=>{if(p.singleFrameworkSelection||ie.value.length!==1)return null;const _=(p.selectedArtkategori?.[0]||"").toLowerCase();return _==="total"?"#808080":_==="matsvamp"?"#eab308":_==="rödlistade + signalarter"?"#5eead4":null}),xe=y(()=>{if(p.singleFrameworkSelection)return p.selectedArtkategori.map(_=>{const S=_.toLowerCase();return{key:S,name:Qt(_),label:Qt(_),color:ae[S]||"#000000",inactive:w.value.has(S)}});{const _=ie.value,S=(p.selectedArtkategori?.[0]||"").toLowerCase(),q=S==="total"?"#808080":S==="matsvamp"?"#eab308":S==="rödlistade + signalarter"?"#5eead4":null;if(_.length===2){const[k,B]=_,N=q||L.value[k]||"#000000",G="#0a0a0a";return[{key:k,name:W(k),label:W(k),color:N,colorArea:D(N,.5),colorLine:D(N,.5),inactive:M.value.has(k),isSecondary:!0},{key:B,name:W(B),label:W(B),color:G,colorArea:D(G,.5),colorLine:D(G,.5),lineDashArray:[5],inactive:M.value.has(B),isSecondary:!1}]}return re.filter(k=>p.selectedFrameworks.map(B=>B.toLowerCase()).includes(k)).map(k=>({key:k,name:W(k),label:W(k),color:ye.value||L.value[k]||"#000000",colorArea:ye.value||L.value[k]||"#000000",colorLine:ye.value||L.value[k]||"#000000",inactive:M.value.has(k)}))}}),ce=y(()=>p.singleFrameworkSelection?[]:xe.value.filter(_=>!_.inactive));function K(_){const S=p.selectedArtkategori.map(B=>B.toLowerCase()),q=S.includes("total")?f.value:s.value,k=p.selectedStartskog?p.selectedStartskog.toLowerCase():null;return q.filter(B=>{const N=S.includes(B.artkategori?.toLowerCase()),G=B.frameworks?.toLowerCase()===_.toLowerCase(),H=!k||(B.startskog?.toLowerCase()??k)===k;return N&&G&&H}).map(B=>({age:B.ålder,klassning:+B.klassning}))}const Ce=y(()=>{const _=new Map;if(p.singleFrameworkSelection){const S=p.selectedFrameworks[0];p.selectedArtkategori.forEach(q=>{const k=q.toLowerCase(),B=k==="total"?f.value:s.value,N=p.selectedStartskog?p.selectedStartskog.toLowerCase():null;B.filter(H=>{const he=H.artkategori?.toLowerCase()===k,He=H.frameworks?.toLowerCase()===S,Et=!N||(H.startskog?.toLowerCase()??N)===N;return he&&He&&Et}).map(H=>({age:H.ålder,klassning:+H.klassning})).forEach(H=>{const he=_.get(H.age)||{age:H.age};he[k]=H.klassning,_.set(H.age,he)})})}else ce.value.forEach(S=>{K(S.key).forEach(k=>{const B=_.get(k.age)||{age:k.age};B[S.key]=k.klassning,_.set(k.age,B)})});return Array.from(_.values()).sort((S,q)=>S.age-q.age)}),et=_=>{const S=Number(_?.age);return Number.isFinite(S)?S:void 0},$t=y(()=>p.singleFrameworkSelection?p.selectedArtkategori.filter(_=>!w.value.has(_.toLowerCase())).map(_=>S=>S[_.toLowerCase()]):ce.value.map(_=>S=>S[_.key])),kt=y(()=>p.singleFrameworkSelection?xe.value.filter(_=>!_.inactive).map(_=>_.color||"#000000"):ce.value.map(_=>_.color||"#000000")),jt=y(()=>p.singleFrameworkSelection?v.value.map(_=>S=>Number(S?.[_]??0)):[]),da=y(()=>p.singleFrameworkSelection?v.value.map(_=>ae[_]||"#999"):[]),tt=y(()=>p.singleFrameworkSelection&&p.chartType==="area"?[...Ce.value]:[...ue.value]),xt=_=>{if(!_)return"";const S=_.age;if(!Number.isFinite(Number(S)))return"";const k=S===-5?"före":S===1?"1 år":`${(G=>Number.isInteger(G)?`${G}`:`${G}`.replace(".5",",5"))(S)} år`,N=(p.singleFrameworkSelection?p.selectedArtkategori.map(G=>({key:G.toLowerCase(),label:Qt(G),color:ae[G.toLowerCase()]||"#999"})):ce.value.map(G=>({key:G.key,label:W(G.key),color:G.color||"#999"}))).map(G=>{const H=_[G.key];if(H==null)return"";const he=typeof H=="number"?H>=10?Math.round(H).toString():H.toFixed(2):String(H);return`
        <div style="display:flex;align-items:center;gap:0.5rem;line-height:1.2;">
          <span style="display:inline-block;width:8px;height:8px;border-radius:50%;background:${G.color};"></span>
          <span>${G.label}: <strong>${he}</strong></span>
        </div>`}).filter(Boolean).join("");return`
    <div style="min-width:120px">
      <div style="font-weight:600;margin-bottom:4px">${k}</div>
      ${N}
    </div>`};return(_,S)=>{const q=Ml;return h(),A("div",{class:"custom-area",ref_key:"rootEl",ref:E,style:Aa({"--vis-area-stroke-color":m.value})},[g(q,null,{default:V(()=>[F.value&&O.value?(h(),P(T(mi),{key:0,data:tt.value,height:170,margin:j,xDomain:c.value,yDomain:u.value},{default:V(()=>[p.chartType==="area"&&p.singleFrameworkSelection?(h(),A(me,{key:0},[g(T(Gr),{x:et,y:jt.value,color:da.value,interpolateMissingData:!0},null,8,["y","color"]),g(T($r),{template:xt}),g(T(jr),{horizontalShift:30})],64)):p.chartType==="area"?(h(),A(me,{key:1},[(h(!0),A(me,null,Oe(ce.value,k=>(h(),P(T(Gr),{key:k.key+"-area",x:et,y:B=>{const N=Number(B?.[k.key]);return Number.isFinite(N)?N:NaN},color:()=>k.colorArea||k.color,interpolateMissingData:!0},null,8,["y","color"]))),128)),g(T($r),{template:xt}),g(T(Vs),{value:_.currentTimeValue,color:"rgba(220, 114, 0, 1)",axis:"x",labelOrientation:"vertical"},null,8,["value"]),g(T(jr),{horizontalShift:30})],64)):p.chartType==="bar"?(h(),P(T(Cs),{key:2,color:kt.value,x:et,y:$t.value,groupPadding:.5,groupMaxWidth:20},null,8,["color","y"])):$("",!0),g(T(Er),{tickTextFontSize:"12px",gridLine:!0,type:"x",tickValues:[-5,0,10,20,30,40,50,60,70,80,90],tickFormat:k=>k===-5||k===0||k===10||k===30||k===40||k===60||k===70||k===90?"":k},null,8,["tickFormat"]),g(T(Er),{tickTextFontSize:"12px",type:"y"})]),_:1},8,["data","xDomain","yDomain"])):$("",!0)]),_:1})],4)}}}),ko=Object.assign(bo,{__name:"ForestryChartDisplay"}),xo={class:"mt-2 ml-4 flex justify-between"},wo={class:"flex items-center cursor-pointer w-fit"},So={class:"text-neutral-800 text-lg font-semibold leading-loose hover:bg-neutral-500/20 px-2 rounded-sm -mx-2"},To={class:"p-2 flex flex-col gap-2"},Co={key:0},Lo={key:0,class:"text-base/7"},Vo={key:1},Ao={key:0,class:"text-base/7"},Oo={key:2},Mo={key:0,class:"text-base/7"},zo={key:3},Fo={key:0,class:"text-base/7"},Do=Pe({__name:"ForestryChartMain",props:{parentSelectedFrameworks:{},currentTimeValue:{},currentStartskog:{}},setup(e){const t=e;C("naturskog"),C("naturskog"),C("naturskog");const a=C("trakthygge");C(!0),C(!1);const r=C(!1),i=C(!1),s=C(!1),f=C(!1),u=[{label:"Total mängd mykorrhizasvamp",value:"skogsskole"},{label:"Naturvårdsarter",value:"rodlistade"},{label:"Matsvampar",value:"matsvampar"},{label:"Olika svampgrupper",value:"grupper"}],c=C(u[0].value),O=[{label:"Naturskydd",value:"naturskydd"},{label:"Blädning",value:"blädning"},{label:"Trakthygge",value:"trakthygge"},{label:"Skärmträd",value:"skärmträd"},{label:"Luckhuggning",value:"luckhuggning"}],v=C("area");C("area"),C(O.map(j=>j.value));const m=C(["skinnsvampar","kremlor och riskor","spindelskivlingar","övriga svampar"]);return(j,E)=>{const F=qa,z=tn,w=ko;return h(),A("div",null,[d("div",xo,[g(z,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},content:{align:"start",side:"bottom",sideOffset:8}},{content:V(()=>[d("div",To,[(h(),A(me,null,Oe(u,M=>g(F,{size:"xl",key:M.value,color:"neutral",class:"text-white hover:bg-neutral-500/20",variant:"ghost",onClick:p=>c.value=M.value},{default:V(()=>[Ne(U(M.label),1)]),_:2},1032,["onClick"])),64))])]),default:V(()=>[d("div",wo,[d("h1",So,U(u.find(M=>M.value===c.value)?.label||"Välj diagram"),1)])]),_:1})]),d("div",null,[c.value==="skogsskole"?(h(),A("div",Co,[r.value?(h(),A("p",Lo," Vid trakthyggesbruk minskar mängden mykorrhizasvamp nästan till noll direkt efter avverkning. I takt med att träden växer upp etableras ett nytt svampsamhälle. När träden är mellan 40-70 år, är fotosyntesen som mest effektiv — vilket kan leda till att mängden mykorrhiza blir större än innan avverkningen. Överhållen skärm följer ett liknande mönster, men eftersom marken aldrig blir helt kal minskar svampmängden inte lika mycket. Blädning och luckhuggning innebär återkommande mindre ingrepp, där svampmängden sjunker något ungefär vart trettionde år men i övrigt hålls relativt stabil över tid. ")):$("",!0),g(w,{selectedFrameworks:t.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","blädning","skärmträd"],selectedArtkategori:["total"],chartType:v.value,maxYValue:130,currentTimeValue:t.currentTimeValue},null,8,["selectedFrameworks","chartType","currentTimeValue"])])):$("",!0),c.value==="rodlistade"?(h(),A("div",Vo,[i.value?(h(),A("p",Ao," Praesent elementum ut lacus a pharetra. Sed a malesuada mauris. Morbi et convallis libero. Aliquam vestibulum, felis eu fringilla elementum, nibh nunc tincidunt ex, quis vulputate nunc erat eu quam. Phasellus rutrum bibendum lacinia. Fusce aliquam aliquet lectus, eget gravida purus lobortis id. Curabitur viverra quam a risus sagittis maximus. ")):$("",!0),g(w,{selectedFrameworks:t.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","blädning","skärmträd"],selectedArtkategori:["rödlistade + signalarter"],chartType:v.value,selectedStartskog:t.currentStartskog,redColor:!0,maxYValue:.65,currentTimeValue:t.currentTimeValue},null,8,["selectedFrameworks","chartType","selectedStartskog","currentTimeValue"])])):$("",!0),c.value==="matsvampar"?(h(),A("div",Oo,[s.value?(h(),A("p",Mo," Praesent elementum ut lacus a pharetra. Sed a malesuada mauris. Morbi et convallis libero. Aliquam vestibulum, felis eu fringilla elementum, nibh nunc tincidunt ex, quis vulputate nunc erat eu quam. Phasellus rutrum bibendum lacinia. Fusce aliquam aliquet lectus, eget gravida purus lobortis id. Curabitur viverra quam a risus sagittis maximus. ")):$("",!0),g(w,{selectedFrameworks:t.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","blädning","skärmträd"],selectedArtkategori:["matsvamp"],chartType:v.value,selectedStartskog:t.currentStartskog,yellowColor:!0,maxYValue:28,currentTimeValue:t.currentTimeValue},null,8,["selectedFrameworks","chartType","selectedStartskog","currentTimeValue"])])):$("",!0),c.value==="grupper"?(h(),A("div",zo,[f.value?(h(),A("p",Fo," Praesent elementum ut lacus a pharetra. Sed a malesuada mauris. Morbi et convallis libero. Aliquam vestibulum, felis eu fringilla elementum, nibh nunc tincidunt ex, quis vulputate nunc erat eu quam. Phasellus rutrum bibendum lacinia. Fusce aliquam aliquet lectus, eget gravida purus lobortis id. Curabitur viverra quam a risus sagittis maximus. ")):$("",!0),g(w,{selectedFrameworks:t.parentSelectedFrameworks??[a.value],selectedArtkategori:m.value,chartType:v.value,singleFrameworkSelection:!0,selectedStartskog:t.currentStartskog,maxYValue:100,currentTimeValue:t.currentTimeValue},null,8,["selectedFrameworks","selectedArtkategori","chartType","selectedStartskog","currentTimeValue"])])):$("",!0)])])}}}),Bn=Object.assign(an(Do,[["__scopeId","data-v-607112a8"]]),{__name:"ForestryChartMain"}),$o={class:"absolute inset-0"},jo={class:"flex h-full relative"},Eo={class:"absolute text-end right-3 top-2"},Bo={class:"absolute top-2 left-3"},Ro={key:1,class:"flex w-full h-full gap-1"},Uo={class:"w-1/2 h-full"},No={class:"w-1/2 h-full"},Po={__name:"CustomImageComparisonSlider",props:{frameworkLabel:{type:String,default:""},timeLabel:{type:String,default:""},frameworkLabel2:{type:String,default:""},timeLabel2:{type:String,default:""},layoutMode:{type:String,default:"slider"}},setup(e,{expose:t}){const a=rn("(max-width: 767px)"),r=e,i=C(r.layoutMode);X(()=>r.layoutMode,F=>{(F==="slider"||F==="side-by-side"||F==="sideBySide")&&(i.value=F)});const s=C(null),f=C(.5);let u=!1;function c(F){if(!s.value)return;const z=s.value.getBoundingClientRect();let M=((F.touches?F.touches[0].clientX:F.clientX)-z.left)/z.width;M=Math.max(0,Math.min(M,1)),f.value=M}function O(F){i.value==="slider"&&(u=!0,c(F),window.addEventListener("mousemove",v),window.addEventListener("mouseup",m),window.addEventListener("touchmove",v),window.addEventListener("touchend",m))}function v(F){u&&c(F)}function m(){u=!1,window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",m),window.removeEventListener("touchmove",v),window.removeEventListener("touchend",m)}function j(){i.value=i.value==="slider"?"sideBySide":"slider"}function E(F){(F==="slider"||F==="sideBySide")&&(i.value=F)}return t({toggleLayoutMode:j,setLayoutMode:E}),bt(()=>{f.value=.5}),(F,z)=>{const w=Ya;return i.value==="slider"?(h(),A("div",{key:0,ref_key:"container",ref:s,class:"relative w-full h-full overflow-hidden select-none"},[d("div",$o,[Qe(F.$slots,"second")]),d("div",{class:"absolute inset-0 overflow-hidden",style:Aa({clipPath:"inset(0 calc(100% - "+f.value*100+"%) 0 0)"})},[Qe(F.$slots,"first")],4),d("div",{class:"absolute top-0 flex items-center justify-center h-full w-10 cursor-ew-resize",style:Aa({left:f.value*100+"%",transform:"translateX(-50%)"}),onMousedown:O,onTouchstart:O},[d("div",jo,[d("div",Eo,[T(a)?$("",!0):(h(),P(w,{key:0,size:"lg",class:"backdrop-blur-xl bg-neutral-100/0 text-neutral-100 h-fit whitespace-nowrap mb-0.5"},{default:V(()=>[Ne(U(e.frameworkLabel),1)]),_:1})),g(w,{size:"lg",class:"backdrop-blur-xl bg-neutral-100/00 text-neutral-100 h-fit whitespace-nowrap"},{default:V(()=>[Ne(U(e.timeLabel),1)]),_:1})]),z[0]||(z[0]=d("div",{class:"h-full w-1.5 bg-neutral-100/90 backdrop-blur-md inset-shadow-sm inset-shadow-neutral-400"},null,-1)),d("div",Bo,[T(a)?$("",!0):(h(),P(w,{key:0,size:"lg",class:"backdrop-blur-xl bg-neutral-100/0 text-neutral-100 h-fit whitespace-nowrap mb-0.5"},{default:V(()=>[Ne(U(e.frameworkLabel2),1)]),_:1})),g(w,{size:"lg",class:"backdrop-blur-xl bg-neutral-100/0 text-neutral-100 h-fit whitespace-nowrap"},{default:V(()=>[Ne(U(e.timeLabel2),1)]),_:1})])])],36)],512)):i.value==="sideBySide"?(h(),A("div",Ro,[d("div",Uo,[Qe(F.$slots,"first")]),d("div",No,[Qe(F.$slots,"second")])])):$("",!0)}}},Io=Ga("onboardingStore",{state:()=>({selectedStartskog:0,selectedFramework:0})}),Ho=[{id:"manga_arter_pa_trad",title:"Många arter på ett träd",text:"På rötterna av äldre träd kan det finnas mycel av 50-100 olika arter mykorrhizasvampar.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",iconOutline:"",color:"neutral-300",positions:[{framework:["naturskydd"],times:["före"],placement:"LEFT"},{framework:["trakthygge"],times:["före"],placement:"LEFT"},{framework:["blädning"],times:["förr"],placement:"LEFT"},{framework:["skärmträd"],times:["före"],placement:"LEFT"},{framework:["luckhuggning"],times:["före"],placement:"LEFT"}]},{id:"mykorrhiza_dar_det_finns_rotter",title:"Mykorrhiza där det finns rötter",text:"Mykorrhizasvamparnas mycel finns lika djupt ner i marken som rötter når, och så långt träds rötter breder ut sig, 10-15 meter från stammen. Men det är rikligast med mykorrhiza närmast trädet och i de översta 10 cm av skogsmarken.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",iconOutline:"",color:"neutral-300",positions:[{framework:["naturskydd"],times:["före"],placement:"LEFT"},{framework:["trakthygge"],times:["före"],placement:"LEFT"},{framework:["blädning"],times:["förr"],placement:"LEFT"},{framework:["skärmträd"],times:["före"],placement:"LEFT"},{framework:["luckhuggning"],times:["före"],placement:"LEFT"}]},{id:"matsvampsmycel_kort_tid",title:"Matsvamp efter avverkning",text:"Nästan alla matsvampar är mykorrhizasvampar och försvinner efter avverkning. De överlever om dess mycel växer med hänsynsträd som lämnats eller nära en skogskant. Annars behöver de återetableras i ungskog från sporer som sprids in från näraliggande skogar.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",iconOutline:"",color:"neutral-300",positions:[{framework:["trakthygge"],times:["efter"],placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],placement:"LEFT"}]},{id:"matsvampsmycel_i_aldrre_skog",title:"Mer matsvamp i äldre skog",text:"Mängden matsvampar är större i äldre skog eftersom större träd har högre fotosyntes och kan skicka ner mer socker till sina rötter.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",iconOutline:"",color:"neutral-300",positions:[{framework:["naturskydd"],times:["före","efter","10","20","50","80"],placement:"LEFT"},{framework:["trakthygge"],times:["före","50","80"],placement:"LEFT"},{framework:["blädning"],times:["före","efter","10","20","50","80"],placement:"LEFT"},{framework:["skärmträd"],times:["före","50","80"],placement:"LEFT"},{framework:["luckhuggning"],times:["före","50","80"],placement:"LEFT"}]},{id:"mycel_av_rodlistade_svampar",title:"Rödlistade svampar",text:"Rödlistade mykorrhizasvampar har ofta speciella miljökrav, och förekommer främst i äldre skog. Generellt kan mycel av mykorrhizasvampar leva vidare på en plast så länge det finns levande träd. Svampindividers mycel kan bli många decennier till potentiellt sekler gamla.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",iconOutline:"",color:"neutral-300",positions:[{framework:["naturskydd"],times:["före","efter","10","20","50","80"],placement:"LEFT"},{framework:["trakthygge"],times:["före"],placement:"LEFT"},{framework:["blädning"],times:["före"],placement:"LEFT"},{framework:["skärmträd"],times:["före"],placement:"LEFT"},{framework:["luckhuggning"],times:["före"],placement:"LEFT"}]},{id:"hogstubbe",title:"Högstubbe",text:"Här finns inga levande mykorrhizamycel. Trädets rötter är döda.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter"],x:.51,y:.26,placement:"LEFT"},{framework:["trakthygge"],times:["efter"],x:.621,y:.3,placement:"LEFT"}]},{id:"stubbe",title:"Stubbe",text:"Trädets fotosyntes och flöde av energi till sina rötter har upphört. Efter avverkning tynar mykorrhizasvamparna bort och dör efter ett par månader - ett år.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter"],x:.422,y:.185,placement:"LEFT"},{framework:["trakthygge"],times:["efter"],x:.573,y:.32,placement:"LEFT"}]},{id:"hansynstrad",title:"Hänsynsträd",text:"De flesta mykorrhizasvamparna som växte med trädets rötter i skogen före avverkningen finns kvar och lever vidare. Dessa mycel kan växa in i och spridas till uppväxande trädplantor.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter","20","50","80"],x:.335,y:.38,placement:"LEFT"},{framework:["trakthygge"],times:["efter","20","50","80"],x:.4502,y:.2228,placement:"LEFT"},{framework:["skärmträd"],times:["20","50","80"],x:.469,y:.2577,placement:"LEFT"}]},{id:"grupp_av_hansynstrad",title:"Grupp av hänsynsträd",text:"De flesta mykorrhizasvampar som växte i denna trädgrupps rötter före avverkningen finns kvar och lever vidare. Fanns det mat- och naturvårdssvampar, kan de fortleva.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter","20","50","80"],x:.3736,y:.2832,placement:"LEFT"}]},{id:"sjalforyngrade_sma_tradplantor",title:"Självföryngrade trädplantor",text:"Små mycel av mykorrhizasvampar växer i plantornas rötter. Om de växer nära hänsynsträd kan mycel vuxint in från dessas rötter. Annars etableras mycel från svampsporer som sprid in från näraliggande skogar. Vissa svamparter har också en sporbank i marken.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.4344,y:.1971,placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],x:.4344,y:.1971,placement:"LEFT"}]},{id:"planterade_sma_tradplantor",title:"Planterade små trädplantor",text:"Har med sig spontant etablerad mykorrhiza från plantskolan där de odlades upp. Det är dock få arter. Dessa ersätts succesivt med bättre anpassade och svamparter som finns på platsen.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["trakthygge"],times:["20"],x:.45,y:.32,placement:"LEFT"}]},{id:"yngre_trad_vid_avverkningen",title:"Yngre träd som lämnats",text:"Undviks underröjning före avverkning, kommer mykorrhizasvampar att överleva på dessa plantor och träd på samma sätt som de gör på rötterna av hänsynsträd.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.33,y:.37,placement:"LEFT"}]},{id:"tradkant_mot_avverkning",title:"Trädkant mot avverkning",text:"Mykorrhizasvampars mycel växer med i skogskantsträdens rötter så långt de sträcker sig in på avverkningen. Mest närmast skogskanten, men når 10–15 meter in på hygget.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter","20"],x:.46,y:.409,placement:"LEFT"},{framework:["luckhuggning"],times:["efter","20"],x:.64,y:.352,placement:"LEFT"},{framework:["luckhuggning"],times:["50"],x:.511,y:.3245,placement:"LEFT"},{framework:["luckhuggning"],times:["80"],x:.3278,y:.2383,placement:"LEFT"}]},{id:"tomma_omraden_avverkning",title:"Tomma områden ",text:"Vid områden utan nära träd och småplantor direkt efter avverkning finns inte mykorrhizasvampar. I mark där det saknas trädrötter finns inte mykorrhizasvampar. Några, men få mykorrhizasvampar har en sporbank.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.6095,y:.2081,placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],x:.485,y:.292,placement:"LEFT"}]}],qo={annotations:Ho},Yo=Ga("selectedAnnotation",{state:()=>({selectedAnnotation:null}),actions:{setSelectedAnnotation(e){this.selectedAnnotation=e},clearSelectedAnnotation(){this.selectedAnnotation=null}}}),Go=Ga("overlay",{state:()=>({staticOverlayVisible:!1}),actions:{toggleStaticOverlay(){this.staticOverlayVisible=!this.staticOverlayVisible},setStaticOverlayVisible(e){this.staticOverlayVisible=e}}}),Wo={class:"relative flex flex-col w-full h-dvh"},Zo={class:"space-y-0.5 p-3"},Xo={class:"grid grid-cols-2 gap-2"},Ko={class:"flex flex-col text-center items-center w-full space-y-1"},Qo={class:"flex flex-col text-center items-center w-full space-y-1"},Jo={class:"p-3 flex flex-col gap-3"},eu={class:"flex items-center justify-between gap-3"},tu={class:"flex flex-wrap gap-1"},au={class:"w-full sm:flex items-center bg-muted border-muted p-1 shadow-xl"},ru={class:"flex w-full sm:w-fit h-fit justify-center p-0 pb-0 sm:pb-0"},nu={class:"flex sm:justify-center items-center overflow-x-scroll md:overflow-hidden px-2 my-1 gap-4"},lu={class:"p-1 flex flex-col gap-1"},iu={class:"ui-zoom-reapply relative flex flex-col flex-1 w-full"},su={class:"flex flex-1"},ou={class:"absolute bottom-0 right-0 sm:top-0 sm:left-0 z-50 p-4 space-y-2 pointer-events-none"},uu={class:"pointer-events-auto"},cu={class:"pointer-events-auto"},du={class:"flex items-start justify-between gap-3"},fu={class:"text-base font-semibold text-neutral-800"},vu={class:"flex gap-1"},mu={class:"text-sm text-neutral-600 leading-relaxed"},hu={key:1,class:"sm:hidden"},pu={class:"flex items-center justify-between gap-3"},gu={class:"text-sm font-medium text-neutral-700"},_u={key:0,class:"space-y-4"},yu={class:"space-y-2"},bu=["innerHTML"],ku={class:"space-y-2"},xu=["innerHTML"],wu={key:1,class:"text-sm text-neutral-400"},Su={key:0,class:""},Tu={class:"space-y-2"},Cu=["innerHTML"],Lu={class:"space-y-2"},Vu=["innerHTML"],Au={key:1,class:"text-sm text-neutral-400"},Ou={class:"pointer-events-auto"},Mu={key:0,class:"space-y-1.5 sm:p-4 p-2 pt-3 max-w-sm z-50 absolute top-0 right-0 transform-all text-end pointer-events-none"},zu={key:0,class:"absolute p-2 w-full"},Fu={class:"flex justify-between p-2 items-center mb-2"},Du={class:"flex items-center justify-between gap-2"},$u={class:"flex items-center gap-1"},ju={class:"min-w-[3ch] text-sm text-neutral-700 dark:text-neutral-200 text-center"},Eu={key:0,class:"space-y-2 w-full"},Bu={class:"flex flex-col"},Ru={class:"text-md font-medium"},Uu={key:0,class:"text-sm text-neutral-500"},Nu={class:"flex flex-col"},Pu={class:"text-md font-medium"},Iu={key:0,class:"text-sm text-neutral-500"},Hu={class:"flex flex-col"},qu={class:"text-md font-medium"},Yu={key:0,class:"text-sm text-neutral-500"},Gu={class:"w-full mt-1 relative"},Wu={class:""},Zu={class:"space-y-2"},Xu={class:"relative flex-1"},Ku={key:0,class:"w-full h-full"},Qu={key:0,class:"absolute inset-y-0 right-0 w-68 bg-white dark:bg-neutral-950/70 backdrop-blur-2xl overflow-auto z-10 pointer-events-auto border-neutral-300 dark:border-neutral-700 border-l"},Ju={class:"px-4 py-2"},ec={class:"text-lg font-semibold text-neutral-800 dark:text-neutral-200"},tc={class:"text-neutral-400"},ac={key:1,class:ee(["absolute max-h-screen z-50 top-0 w-sm left-0 overflow-auto transition-all shadow-2xl border-r bg-white border-neutral-100/10 rounded-br-sm duration-300 ease-in-out backdrop-blur-2xl hide-scrollbar"])},rc={class:"p-4"},nc={key:0},lc={class:"text-xl font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},ic={class:"p-2 flex flex-col gap-2"},sc=["onClick"],oc={class:"font-medium"},uc={class:"text-sm text-neutral-300"},cc={class:"flex justify-between"},dc={class:"text-md text-neutral-200"},fc={key:0,class:"my-4"},vc=["innerHTML"],mc=["innerHTML"],hc={key:1,class:"my-4 text-neutral-300 text-sm"},pc={key:1,class:"space-y-2"},gc={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},_c={class:"p-2 flex flex-col gap-2"},yc=["onClick"],bc={class:"font-medium"},kc={class:"text-sm text-neutral-300"},xc={class:"flex justify-between"},wc={key:0,class:"my-4"},Sc=["innerHTML"],Tc=["innerHTML"],Cc={class:"flex justify-between"},Lc={class:"text-md text-neutral-200"},Vc={key:0,class:"my-4"},Ac=["innerHTML"],Oc=["innerHTML"],Mc={key:2,class:"space-y-2"},zc={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},Fc={class:"p-2 flex flex-col gap-2"},Dc=["onClick"],$c={class:"font-medium"},jc={class:"text-sm text-neutral-300"},Ec={class:"flex justify-between"},Bc={class:"text-md text-neutral-200"},Rc={key:0,class:"my-4"},Uc=["innerHTML"],Nc=["innerHTML"],Pc={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},Ic={class:"p-2 flex flex-col gap-2"},Hc=["onClick"],qc={class:"font-medium"},Yc={class:"text-sm text-neutral-300"},Gc={class:"flex justify-between"},Wc={class:"text-md text-neutral-200"},Zc={key:0,class:"my-4"},Xc=["innerHTML"],Kc=["innerHTML"],Qc={class:"grid grid-cols-2 gap-4"},Jc={class:"w-full"},ed={class:"w-full"},td=220,Kr="Ingen tidslinjeinformation hittades för den här kombinationen.",ad=Pe({__name:"Model",emits:["close"],async setup(e,{emit:t}){let a,r;const i=Bl(()=>Ul(()=>import("./B_GYo8VZ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url));let s;const[f,u]=zl(),c=rn("(max-width: 767px)"),{public:{dziBaseUrl:O="https://assets.svampskog.se/dzi_v2",dziVersionSuffix:v=""}={}}=Fl(),m=O,j=v;function E(l){return l?l.toString().toLowerCase().replace(/å/g,"a").replace(/ä/g,"a").replace(/ö/g,"o").replace(/[^a-z0-9_-]/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,""):""}function F({framework:l,timeLabel:n,fungiVisibility:b,treeVisibility:x,startskog:I}){const Ve=[l,n,b,x,I].map(Ke=>E(Ke)).filter(Boolean).join("_"),Xe=E(j);return Xe?`${Ve}_${Xe}`:Ve}function z(l){return`${m}/${F(l)}.dzi`}const{data:w}=([a,r]=zt(()=>Ft("forestry-timeline-modelc",()=>Dt("forestryTimelines").first())),a=await a,r(),a),M=y(()=>{const l=w.value;if(!l)return[];if(Array.isArray(l)){const n=l.find(b=>b?.id==="skogsskotsel")||l[0];return Array.isArray(n?.entries)?n.entries:[]}return Array.isArray(l.entries)?l.entries:[]}),p=C(!1),L=C("beforeAfterCompare"),D=C("slider"),ae=C(!1),W=C(!1),re=C(!1),ie=C(!1),Z=C(!1),se=C(!1),oe=C(!1),ue=C(!1),ye=C(!1),xe=C(!1),ce=C(1),K=C(!1),Ce=C(!1);function et(){K.value=!K.value}function $t(){Ce.value=!Ce.value}const kt=["retention","kanteffekt","rottacke","seedTree","smaplantor","hogstubbar","naturvardsarter","tradplantor"],jt=C([]);function da(l,n){const b=jt.value,x=b.indexOf(l);n?(x!==-1&&b.splice(x,1),b.push(l)):x!==-1&&b.splice(x,1)}const tt=Go(),xt=y({get:()=>tt.staticOverlayVisible,set:l=>tt.setStaticOverlayVisible(l)}),_=C(!1),S=C(null),q=C(!1),k=C(!1),B=y({get:()=>q.value,set:l=>{q.value=l}}),N=C(!1);y({get:()=>k.value,set:l=>{k.value=l}});const G=C([]);function H(l){const n=Array.isArray(ut?.value)?ut.value:[];if(!n.length)return;const b=n.map(te=>String(te.value)),x=String(gt.value);let I=b.indexOf(x);if(I===-1&&(I=0),l<0){for(let te=I-1;te>=0;te--)if(!n[te]?.disabled){gt.value=String(n[te].value);return}return}else{for(let te=I+1;te<n.length;te++)if(!n[te]?.disabled){gt.value=String(n[te].value);return}return}}function he(l){return(l||"").toString().trim().toLowerCase()}const He=y(()=>Array.isArray(ut?.value)?ut.value:Array.isArray(ut)?ut:[]),Et=y(()=>{const n=He.value.map(b=>String(b.value)).indexOf(String(gt.value));return n===-1?0:n}),ft=y(()=>{for(let l=Et.value-1;l>=0;l--)if(!He.value[l]?.disabled)return He.value[l];return null}),vt=y(()=>{for(let l=Et.value+1;l<He.value.length;l++)if(!He.value[l]?.disabled)return He.value[l];return null}),Rn=y(()=>!!ft.value),Un=y(()=>!!vt.value);function ir(l){try{const n=R.value&&R.value.value,b=Q.value&&Q.value.value;return M.value.find(I=>I.atgard===n&&I.startskog===b&&he(I.tid)===he(l))?.skog||""}catch{return""}}const Nn=y(()=>ft.value?String(ft.value.label??ft.value.value):""),Pn=y(()=>vt.value?String(vt.value.label??vt.value.value):""),In=y(()=>ft.value?It(Number(ft.value.value)):null),Hn=y(()=>vt.value?It(Number(vt.value.value)):null);y(()=>ir(In.value)),y(()=>ir(Hn.value));function qn(){H(-1)}function Yn(){H(1)}const Gn=[{re:/hänsynsträd/gi,overlay:"retention"},{re:/evighetsträd/gi,overlay:"retention"},{re:/hyggeskanterna/gi,overlay:"kanteffekt"},{re:/luckorna/gi,overlay:"kanteffekt"},{re:/fröträdens rötter/gi,overlay:"seedTree"},{re:/fröträd/gi,overlay:"seedTree"},{re:/skärmträdens rötter/gi,overlay:"rottacke"},{re:/småplantor/gi,overlay:"smaplantor"},{re:/högstubbar/gi,overlay:"hogstubbar"},{re:/rödlistade svampar/gi,overlay:"naturvardsarter"},{re:/rödlistad art/gi,overlay:"naturvardsarter"},{re:/Trädplantor/gi,overlay:"tradplantor"}];function Wn(l=""){return String(l).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function pe(l=""){let n=Wn(l);for(const b of Gn)n=n.replace(b.re,x=>`<span class=" py-0.5 px-1 rounded-md border bg-white border-muted/50 text-neutral-800 cursor-pointer hover:opacity-80" data-overlay="${b.overlay}">${x}</span>`);return n}const Zn=new Set(kt),Xn=l=>typeof l=="string"&&Zn.has(l);function at(l){const n=l.target?.closest("[data-overlay]");if(!n)return;const b=n.getAttribute("data-overlay");Xn(b)&&cl(b)}C(!1),y(()=>[{value:"sideBySide",label:"Sida vid sida"},{value:"slider",label:"Skjutreglage"}]);const mt=y(()=>Ye.map((l,n)=>({value:n,label:l.label,description:l.text}))),Kn=C(!0),wt=C(!1),Qn=C(!1),sr=C(85);let Jn=0,el=sr.value;function or(l){if(!Bt)return;const b=(l.clientX-Jn)/16;sr.value=el+b}function ur(){Bt=!1,window.removeEventListener("pointermove",or),window.removeEventListener("pointerup",ur)}Mt(()=>{window.removeEventListener("pointermove",or),window.removeEventListener("pointerup",ur)});const cr=C(600);let Bt=!1,tl=0,al=cr.value;function dr(l){if(!Bt)return;const n=l.clientY-tl;cr.value=al+n}function fr(){Bt=!1,window.removeEventListener("pointermove",dr),window.removeEventListener("pointerup",fr)}Mt(()=>{window.removeEventListener("pointermove",dr),window.removeEventListener("pointerup",fr)}),C(!1),C(!1);const Rt=C(!0),we=C(0),rl=y(()=>{const l=R.value.value,n=ot(de.value),b="visa",x=qe.value?"visa":"dölj",I=Q.value.value;return z({framework:l,timeLabel:n,fungiVisibility:x,treeVisibility:b,startskog:I})}),vr=y(()=>{const l=R.value.value,n="före",b="visa",x=qe.value?"visa":"dölj",I=Q.value.value;return z({framework:l,timeLabel:n,fungiVisibility:x,treeVisibility:b,startskog:I})}),mr=y(()=>{const l=R.value.value,n=ot(de.value),b="visa",x=qe.value?"visa":"dölj",I=Q.value.value;return z({framework:l,timeLabel:n,fungiVisibility:x,treeVisibility:b,startskog:I})}),hr=y(()=>{const l=R.value.value,n=ot(de.value),b="visa",x=qe.value?"visa":"dölj",I=Q.value.value;return z({framework:l,timeLabel:n,fungiVisibility:x,treeVisibility:b,startskog:I})}),pr=y(()=>{const l=fe.value.value,n=ot(de.value),b="visa",x=qe.value?"visa":"dölj",I=Q.value.value;return z({framework:l,timeLabel:n,fungiVisibility:x,treeVisibility:b,startskog:I})}),fa=Yo(),Ut=y(()=>fa.selectedAnnotation);function nl(l){if(fa.setSelectedAnnotation(l),l.position&&Lt.value){const n=Lt.value.getZoom();Lt.value.setZoomAndCenter(n,l.position)}}function ll(){fa.clearSelectedAnnotation()}const ge=C(null);C("line");const Nt=Io();C(!1);const qe=C(!0),ne=y(()=>p.value&&L.value==="beforeAfterCompare"),J=y(()=>p.value&&L.value==="frameworkCompare"),Se=y({get:()=>Nt.selectedFramework,set:l=>Nt.selectedFramework=l}),gr=y({get:()=>Nt.selectedStartskog??0,set:l=>{Nt.selectedStartskog=l}}),ht=C(Se.value),fe=y(()=>Ye[ht.value]||Ye[0]);X([J,ne],([l,n])=>{(!l||!n)&&(hl.value="framework1")}),bt(()=>{s=hi({o:()=>B.value=!B.value})}),en(()=>{typeof s=="function"&&s(),ze&&(clearTimeout(ze),ze=null),st=!1,it=!0});const il=l=>{const n=va.findIndex(b=>b.value===l.value);n!==-1&&(gr.value=n),N.value=!1},Ye=[{id:0,label:"Ingen åtgärd",value:"naturskydd",text:"Orörd skog",icon:"pepicons-pop:tree-circle",iconColor:"text-green-500"},{id:1,label:"Trakthygge",value:"trakthygge",text:"Kalavverkning med hänsyn",icon:"material-symbols:resize",iconColor:"text-violet-500"},{id:2,label:"Luckhuggning",value:"luckhuggning",text:"Mindre ytor kalavverkas",icon:"pixelarticons:chess",iconColor:"text-sky-500"},{id:3,label:"Överhållen skärm",value:"skärmträd",text:"Avverkning i tre steg under 20 år",icon:"catppuccin:redwood",iconColor:"text-orange-500"},{id:4,label:"Blädning",value:"blädning",text:"Enstaka träd gallras",icon:"lineicons:trees",iconColor:"text-teal-500"}],va=[{label:"Inte tidigare kalavverkad",value:"naturskog"},{label:"Tidigare kalavverkad",value:"produktionsskog_"}],R=y(()=>Ye[Se.value!==void 0?Se.value:0]),Q=y(()=>va[gr.value]),rt=y(()=>R.value?.value),nt=y(()=>rt.value==="trakthygge"),Ge=y(()=>rt.value==="luckhuggning"),Pt=y(()=>rt.value==="blädning"||rt.value==="bladning"),Me=y(()=>rt.value==="skärmträd"||rt.value==="skarmtrad"),ma={retention:{title:"Hänsynsträd",description:"De flesta mykorrhizasvamparna som växte med trädens rötter före avverkningen finns kvar och lever vidare. Mycel kan växa in i och spridas till uppväxande trädplantor.",condition:()=>W.value&&(nt.value||Ge.value||Me.value),close:()=>{W.value=!1}},kanteffekt:{title:"Kanteffekt",description:"Mykorrhizasvamp på trädens rötter i skogskanten kan sträcka sig 10–15 meter in på hygget; starkast närmast kanten.",condition:()=>re.value&&(nt.value||Ge.value||Me.value),close:()=>{re.value=!1}},rottacke:{title:"Kontinuerligt rottäcke",description:"I princip är hela området täckt av rötter där mykorrhizasvampar kan överleva.",condition:()=>se.value&&(Pt.value||Me.value),close:()=>{se.value=!1}},seedTree:{title:"Fröträd",description:"Mycel fortsätter leva på fröträdens rötter och kan koppla till nya plantor.",condition:()=>oe.value&&Me.value,close:()=>{oe.value=!1}},smaplantor:{title:"Yngre träd och småplantor som lämnats",description:"Undviks underröjning före avverkning, kommer mykorrhizasvampar att överleva på dessa plantor och träd på samma sätt som de gör på rötterna av hänsynsträd.",condition:()=>ue.value,close:()=>{ue.value=!1}},hogstubbar:{title:"Högstubbar",description:"Här finns inga levande mykorrhizamycel. Trädets rötter är döda.",condition:()=>ye.value,close:()=>{ye.value=!1}},naturvardsarter:{title:"Naturvårdsarter",description:"Naturvårdsarter har ofta speciella miljökrav, och förekommer främst i äldre skog. Generellt kan mycel av mykorrhizasvampar leva vidare på en plats så länge det finns levande träd. Svampindividers mycel kan likt träd bli många decennier till potentiellt sekler gamla.",condition:()=>Z.value&&(nt.value||Ge.value||Pt.value||Me.value),close:()=>{Z.value=!1}},tradplantor:{title:"Planterade små trädplantor",description:"Har med sig spontant etablerad mykorrhiza från plantskolan där de odlades upp. Det är dock få arter. Dessa ersätts succesivt med bättre anpassade och svamparter som finns på platsen.",condition:()=>xe.value&&nt.value,close:()=>{xe.value=!1}}},be=Dr({staticOverlay:!1,retention:!1,kanteffekt:!1,rottacke:!1,seedTree:!1,smaplantor:!1,hogstubbar:!1,naturvardsarter:!1,tradplantor:!1}),lt={staticOverlay:xt,retention:W,kanteffekt:re,rottacke:se,seedTree:oe,smaplantor:ue,hogstubbar:ye,naturvardsarter:Z,tradplantor:xe},sl=l=>l!=="staticOverlay";function ha(l,n={}){const b=lt[l];if(!b)return;if(!sl(l)){const Ve=!be.staticOverlay;be.staticOverlay=Ve,b.value=Ve;return}const x=l,I=n.hideWhenUnpin??!0,te=!be[x];if(be[x]=te,te){b.value||(b.value=!0),S.value=x,_.value=!0;return}I&&(S.value===x?_a({hideOverlay:!0}):b.value&&(b.value=!1))}const ol=y(()=>[{key:"staticOverlay",label:"Beståndsgräns"},{key:"retention",label:"Hänsynsträd"},{key:"kanteffekt",label:"Kanteffekt"},{key:"rottacke",label:"Rottäcke"},{key:"seedTree",label:"Fröträd"},{key:"smaplantor",label:"Småplantor"},{key:"hogstubbar",label:"Högstubbar"},{key:"naturvardsarter",label:"Naturvårdsarter"},{key:"tradplantor",label:"Trädplantor"}]),St=y(()=>{const l=S.value;if(!l)return null;const n=ma[l];return!n||!ga(l)?null:{key:l,title:n.title,description:n.description}}),pa=y(()=>{const l=S.value;return l?be[l]:!1}),_r=y(()=>kt.filter(l=>be[l]).map(l=>({key:l,title:ma[l].title})));X(q,l=>{l&&k.value&&(k.value=!1)}),X(k,l=>{l&&q.value&&(q.value=!1)});let ze=null,it=!0,st=!1;function ul(l){ha(l)}function Be(l){Object.keys(lt).forEach(n=>{n!==l&&(be[n]||lt[n]?.value&&(lt[n].value=!1))})}function ga(l){const n=ma[l];return!!n&&n.condition()}function Re(l){const n=ga(l);if(da(l,n),n){S.value=l,_.value=!0;return}if(S.value===l){const b=jt.value.slice().reverse().find(x=>ga(x));b?(S.value=b,_.value=!0):_a({hideOverlay:!1})}}function cl(l){const n=lt[l];if(n){if(n.value){be[l]?yr(l):n.value=!1;return}n.value=!0,yr(l)}}function yr(l){lt[l]&&(S.value=l,_.value=!0)}function _a(l={}){st=!0;const n=S.value;if(it=l.hideOverlay??(n?!be[n]:!0),!n){st=!1,it=!0,_.value=!1;return}if(!_.value){br();return}_.value=!1}function br(){ze&&(clearTimeout(ze),ze=null);const l=S.value;if(!l){it=!0,st=!1;return}const n=it;if(S.value=null,it=!0,st=!1,n){const b=lt[l];b&&b.value&&(b.value=!1)}}X(_,(l,n)=>{if(ze&&(clearTimeout(ze),ze=null),!l&&n){if(!st){const b=S.value;it=b?!be[b]:!0}ze=setTimeout(()=>{br()},td)}else l&&(st=!1)}),X(B,l=>{l||_a({hideOverlay:!1})}),X(W,l=>{l&&Be("retention"),Re("retention")},{immediate:!0}),X(re,l=>{l&&Be("kanteffekt"),Re("kanteffekt")},{immediate:!0}),X(se,l=>{l&&Be("rottacke"),Re("rottacke")},{immediate:!0}),X(oe,l=>{l&&Be("seedTree"),Re("seedTree")},{immediate:!0}),X(ue,l=>{l&&Be("smaplantor"),Re("smaplantor")},{immediate:!0}),X(ye,l=>{l&&Be("hogstubbar"),Re("hogstubbar")},{immediate:!0}),X(Z,l=>{l&&Be("naturvardsarter"),Re("naturvardsarter")},{immediate:!0}),X(xe,l=>{l&&Be("tradplantor"),Re("tradplantor")},{immediate:!0}),X(xt,l=>{l&&Be("staticOverlay")}),X(rt,()=>{kt.forEach(l=>Re(l))});const de=C(3);function dl(l){ne.value&&l.value===3||(de.value=l.value)}function It(l){return{3:"innan",15:"efter",30:"10 år",45:"20 år",70:"50 år",99:"80 år"}[l]||"innan"}function ot(l){const n=pt.value.find(b=>b.value===l);return n?n.timeLabel:"före"}const pt=y(()=>{const l=[{value:3,label:"Före avverkning",timeLabel:"före"},{value:15,label:"1 år efter ",timeLabel:"efter"}];return R.value?.value==="skärmträd"&&!J.value&&l.push({value:30,label:"10 år efter",timeLabel:"10"}),l.push({value:45,label:"20 år efter ",timeLabel:"20"},{value:70,label:"50 år efter ",timeLabel:"50"},{value:99,label:"+ 80 år efter ",timeLabel:"80"}),l}),ut=y(()=>pt.value.map(l=>({value:String(l.value),label:l.label,disabled:ne.value&&l.value===3}))),gt=y({get(){return String(de.value)},set(l){const n=pt.value.find(b=>String(b.value)===l);n&&dl(n)}}),ve=y(()=>{const l=pt.value.find(n=>n.value===de.value);return l?l.label:""}),kr=y(()=>ne.value?3:null);y(()=>kr.value!==null?It(kr.value):null);const Le=y(()=>It(de.value)),Te=y(()=>!R.value?.value||!Le.value||!Q.value?.value?null:M.value.find(l=>l.atgard===R.value.value&&l.tid===Le.value&&l.startskog===Q.value.value)),Ht=y(()=>!fe.value?.value||!Le.value||!Q.value?.value?null:M.value.find(l=>l.atgard===fe.value.value&&l.tid===Le.value&&l.startskog===Q.value.value)),qt=y(()=>!R.value?.value||!Q.value?.value?null:M.value.find(l=>l.atgard===R.value.value&&l.tid==="innan"&&l.startskog===Q.value.value)),Yt=y(()=>{const l=[],n=R.value?.label??"",b=fe.value?.label??"",x=ve.value??"";return ne.value?(l.push({key:"before",left:n,right:"Före avverkning",info:qt.value??null}),l.push({key:"after",left:n,right:x,info:Te.value??null})):J.value?(l.push({key:"framework1",left:n,right:x,info:Te.value??null}),l.push({key:"framework2",left:b,right:x,info:Ht.value??null})):l.push({key:"single",left:n,right:x,info:Te.value??null}),l}),fl=y(()=>{const l=Yt.value.filter(n=>!!n.info).length;return c.value&&l>1&&(ne.value||J.value)}),Tt=Dr({});function ya(l){Tt[l]||(Tt[l]={skog:!1,svamp:!1})}function We(l,n){return ya(l),Tt[l][n]}function Gt(l,n){ya(l),Tt[l][n]=!Tt[l][n]}X(Yt,l=>{l.forEach(n=>ya(n.key))},{immediate:!0});function xr(l){p.value=l,l&&L.value||(L.value="beforeAfterCompare")}const wr=y(()=>{const l=R.value.value,n="före",b="dölj",x=qe.value?"visa":"dölj",I=Q.value.value;return z({framework:l,timeLabel:n,fungiVisibility:x,treeVisibility:b,startskog:I})}),Sr=y(()=>{const l=fe.value.value,n=ot(de.value),b="dölj",x=qe.value?"visa":"dölj",I=Q.value.value;return z({framework:l,timeLabel:n,fungiVisibility:x,treeVisibility:b,startskog:I})});y(()=>{const l=R.value.value.toLowerCase(),n=ot(de.value);return`${l}_${n}`});const Ct=y(()=>{const l=R.value.value,n=ot(de.value),b="dölj",x=qe.value?"visa":"dölj",I=Q.value.value;return z({framework:l,timeLabel:n,fungiVisibility:x,treeVisibility:b,startskog:I})});X([R,ne,J],()=>{pt.value.map(n=>n.value).includes(de.value)||(de.value=15)});const Lt=C(null),Fe=C(null),De=C(null);let ba=!1,ka=!1;function Tr(){if(ka)return;ba=!0;const l=Fe.value?.getZoom(),n=Fe.value?.getCenter();l&&n&&De.value&&De.value.setZoomAndCenter(l,n),ba=!1}function Cr(){if(ba)return;ka=!0;const l=De.value?.getZoom(),n=De.value?.getCenter();l&&n&&Fe.value&&Fe.value.setZoomAndCenter(l,n),ka=!1}function Ze(l){l==="before"&&Fe.value?(Fe.value.addSyncHandler("zoom",Tr),Fe.value.addSyncHandler("pan",Tr)):l==="after"&&De.value?(De.value.addSyncHandler("zoom",Cr),De.value.addSyncHandler("pan",Cr)):l==="framework1"&&$e.value?($e.value.addSyncHandler("zoom",Lr),$e.value.addSyncHandler("pan",Lr)):l==="framework2"&&je.value&&(je.value.addSyncHandler("zoom",Vr),je.value.addSyncHandler("pan",Vr))}let xa=!1,wa=!1;function Lr(){if(wa)return;xa=!0;const l=$e.value?.getZoom(),n=$e.value?.getCenter();l&&n&&je.value&&je.value.setZoomAndCenter(l,n),xa=!1}function Vr(){if(xa)return;wa=!0;const l=je.value?.getZoom(),n=je.value?.getCenter();l&&n&&$e.value&&$e.value.setZoomAndCenter(l,n),wa=!1}const $e=C(null),je=C(null);let Sa=null;const Ar=C({zoom:1,center:null});function Wt(l,{zoom:n,center:b}={}){!n||!b||Sa!==l&&(Sa=l,Ar.value={zoom:n,center:b})}function vl(){return!ne.value&&!J.value?{single:Lt.value}:ne.value?{before:Fe.value,after:De.value}:J.value?{framework1:$e.value,framework2:je.value}:{}}X(Ar,({zoom:l,center:n})=>{const b=vl();Object.entries(b).forEach(([x,I])=>{x!==Sa&&I&&I.setZoomAndCenter&&I.setZoomAndCenter(l,n)})});const Ue=C("single");y(()=>[{key:"framework1",label:R.value.label},{key:"framework2",label:fe.value.label}]);const ml=C(0);X(J,l=>{l||(ml.value=0)});const hl=C("none"),Ta=[{label:"Före / efter",value:"beforeAfterCompare"},{label:"Två metoder",value:"frameworkCompare"}];function pl(){ge.value&&ge.value.toggleLayoutMode&&ge.value.toggleLayoutMode(),console.log("Current layout:",D.value)}y(()=>({label:D.value==="sideBySide"?"Sida vid sida":"Skjutreglage",type:"button",onSelect(l){l.preventDefault(),pl()},icon:D.value==="sideBySide"?"i-circum-grid-2-v":"iconamoon:compare-duotone"})),y(()=>[{label:Ta[0].label,type:"checkbox",checked:L.value==="frameworkCompare",onUpdateChecked(l){l?L.value="frameworkCompare":L.value==="frameworkCompare"&&(L.value=null)},onSelect(l){l.preventDefault()}},{label:Ta[1].label,type:"checkbox",checked:L.value==="beforeAfterCompare",onUpdateChecked(l){l?L.value="beforeAfterCompare":L.value==="beforeAfterCompare"&&(L.value=null)},onSelect(l){l.preventDefault()}},{type:"separator"},{label:"Sida vid sida",type:"checkbox",checked:D.value==="sideBySide",onUpdateChecked(l){l&&(D.value="sideBySide",ge.value&&ge.value.setLayoutMode&&ge.value.setLayoutMode("sideBySide"))},onSelect(l){l.preventDefault()},icon:"i-circum-grid-2-v"},{label:"Skjutreglage",type:"checkbox",checked:D.value==="slider",onUpdateChecked(l){l&&(D.value="slider",ge.value&&ge.value.setLayoutMode&&ge.value.setLayoutMode("slider"))},onSelect(l){l.preventDefault()},icon:"iconamoon:compare-duotone"}]),y(()=>D.value==="sideBySide"?"i-circum-grid-2-v":"iconamoon:compare-duotone"),y(()=>L.value==="frameworkCompare"?"Två metoder":L.value==="beforeAfterCompare"?"Före / efter":"Jämför"),X(L,l=>{l==="frameworkCompare"?(ne.value=!1,J.value=!0):l==="beforeAfterCompare"?(ne.value=!0,J.value=!1):(ne.value=!1,J.value=!1)}),X(D,l=>{ge.value&&ge.value.setLayoutMode&&ge.value.setLayoutMode(l)}),X(ne,l=>{l&&de.value===3&&(de.value=15)});const Or=y(()=>{const l=pt.value.find(n=>n.value===de.value);return l?l.timeLabel:""}),gl=y(()=>{const l=R.value.value,n=Or.value.toLowerCase();return qo.annotations.flatMap(b=>{if(b.positions&&Array.isArray(b.positions))return b.positions.filter(x=>{const I=Array.isArray(x.framework)?x.framework.includes(l):x.framework===l,te=Array.isArray(x.times)?x.times.map(Ve=>Ve.toLowerCase()).includes(n):x.times.toLowerCase()===n;return I&&te}).map(x=>({...b,position:{x:x.x,y:x.y,placement:x.placement}}));{const x=Array.isArray(b.frameworks)?b.frameworks.includes(l):b.framework===l,I=Array.isArray(b.times)?b.times.map(te=>te.toLowerCase()).includes(n):b.time.toLowerCase()===n;return x&&I?[b]:[]}})});return X(Ue,l=>{console.log("activeViewer updated to:",l)}),(l,n)=>{const b=Jt,x=qa,I=nn,te=Dl,Ve=Ya,Xe=Xl,Ke=tn,Zt=El,Ae=Vi,Xt=Kl,_l=Ql,yl=Bn,Mr=Po;return h(),A("div",Wo,[g(T(f),null,{default:V(()=>[d("div",Zo,[d("div",Xo,[g(x,{size:"xs",variant:"outline",color:"neutral",onClick:n[0]||(n[0]=o=>xr(!1)),class:ee(p.value?"text-muted/60 hover:text-muted ring-muted/50":"bg-neutral-100 shadow ring-muted")},{default:V(()=>[d("div",Ko,[g(b,{name:"i-bx-rectangle",class:"size-4"}),n[56]||(n[56]=d("h1",null,"Enkelvy",-1))])]),_:1},8,["class"]),g(x,{size:"xs",variant:"outline",color:"neutral",onClick:n[1]||(n[1]=o=>xr(!0)),class:ee(p.value?"bg-neutral-100 shadow ring-muted":"text-muted/60 hover:text-muted ring-muted/50")},{default:V(()=>[d("div",Qo,[g(b,{name:"iconamoon:compare-duotone",class:"size-4"}),n[57]||(n[57]=d("h1",null,"Jämför",-1))])]),_:1},8,["class"])]),p.value?(h(),P(I,{key:0,modelValue:L.value,"onUpdate:modelValue":n[2]||(n[2]=o=>L.value=o),items:Ta,size:"xs",placeholder:"Välj",clearable:!0,class:"w-full ring-muted -mb-2 mt-2",ui:{root:"min-w-max flex-shrink-0",list:"flex-nowrap rounded-xl bg-muted/50 -mb-1.5 gap-2",indicator:"bg-white border border-muted/50 shadow ",trigger:" data-[state=active]:text-neutral-800 dark:data-[state=active]:text-violet-400/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary "}},null,8,["modelValue"])):$("",!0)]),g(te,{ui:{border:"border-muted/50"}}),d("div",Jo,[d("div",eu,[n[58]||(n[58]=d("span",{class:"text-sm tracking-wide text-neutral-400"},"Trädens synlighet",-1)),$l(d("input",{type:"range",min:"0",max:"1",step:"0.01","onUpdate:modelValue":n[3]||(n[3]=o=>we.value=o),class:"accent-primary-500 h-[5px] w-32"},null,512),[[jl,we.value]])]),d("div",tu,[(h(!0),A(me,null,Oe(ol.value,o=>(h(),P(Ve,{key:o.key,label:o.label,color:be[o.key]?"primary":"neutral",variant:be[o.key]?"solid":"subtle",class:ee(["cursor-pointer",be[o.key]?"shadow-sm":"opacity-70 hover:opacity-100"]),onClick:_e=>ul(o.key)},null,8,["label","color","variant","class","onClick"]))),128))])])]),_:1}),d("div",au,[d("div",ru,[mt.value.length?(h(),A("div",{key:0,class:ee(["grid sm:gap-4 gap-2 p-2 sm:py-1 sm:flex-row sm:items-center sm:justify-start h-fit w-full sm:w-fit",J.value?"grid-cols-2":"grid-cols-1"])},[g(Xe,{size:"xl",items:mt.value,modelValue:Se.value,"onUpdate:modelValue":n[4]||(n[4]=o=>Se.value=o),placeholder:R.value.label,"append-to-body":"",variant:"outline",class:"ring-muted rounded-2xl w-full",ui:{content:"min-w-fit",viewport:"text-center"}},null,8,["items","modelValue","placeholder"]),J.value?(h(),P(Xe,{key:0,size:"xl",items:mt.value,modelValue:ht.value,"onUpdate:modelValue":n[5]||(n[5]=o=>ht.value=o),placeholder:fe.value.label,"append-to-body":"",variant:"outline",class:"ring-muted rounded-2xl"},null,8,["items","modelValue","placeholder"])):$("",!0)],2)):$("",!0)]),T(c)?$("",!0):(h(),P(te,{key:0,orientation:"vertical",class:"mx-3 h-8"})),d("div",nu,[g(Ke,{class:"shrink-0 cursor-pointer h-fit z-50",open:N.value,"onUpdate:open":n[6]||(n[6]=o=>N.value=o),popper:{placement:"bottom-start"}},{content:V(()=>[n[59]||(n[59]=d("div",{class:"text-sm w-64 p-3 text-neutral-500 border-b border-neutral-200"}," Kort beskriving av betydelsen för skogens historik ",-1)),d("div",lu,[(h(),A(me,null,Oe(va,o=>d("div",{key:o.value},[g(x,{onClick:_e=>il(o),size:"lg",color:"white",variant:"ghost",class:ee(["hover:bg-neutral-100 w-full cursor-pointer",{"w-full  text-secondary-500":Q.value.value===o.value}])},{default:V(()=>[Ne(U(o.label),1)]),_:2},1032,["onClick","class"])])),64))])]),default:V(()=>[g(x,{variant:(T(c),"outline"),color:"neutral",icon:"i-heroicons-clock",size:"lg",label:(T(c),null),class:"rounded-full ring-muted"},null,8,["variant","label"])]),_:1},8,["open"]),g(I,{modelValue:gt.value,"onUpdate:modelValue":n[7]||(n[7]=o=>gt.value=o),items:ut.value,ui:{root:"min-w-max flex-shrink-0",list:"flex-nowrap rounded-xl bg-muted/50 -mb-1.5 gap-2",indicator:"bg-white border border-muted/50 shadow rounded-2xl",trigger:"rounded-2xl data-[state=active]:text-neutral-800 dark:data-[state=active]:text-violet-400/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary "}},null,8,["modelValue","items"])])]),d("div",iu,[d("div",su,[d("div",ou,[d("div",uu,[T(c)?(h(),P(Zt,{key:0,modal:!1,ui:{content:"p-0",body:"p-0",container:"p-0 gap-0"}},{body:V(()=>[g(T(u))]),default:V(()=>[g(x,{size:"xl",color:"neutral",variant:"outline",icon:"i-heroicons-adjustments-horizontal",class:"ring-muted rounded-2xl"})]),_:1})):(h(),P(Ke,{key:1,ui:{content:"p-0 w-80"},content:{side:"right",sideOffset:8,collisionPadding:8,align:"start"}},{content:V(()=>[g(T(u))]),default:V(()=>[g(x,{size:"lg",color:"neutral",variant:"outline",label:"Vyinställningar",icon:"i-heroicons-adjustments-horizontal",class:"ring-muted rounded-2xl"})]),_:1}))]),d("div",cu,[g(Zt,{direction:(T(c),"bottom"),inset:(T(c),!1),"handle-only":"",dismissible:!!T(c),overlay:!1,handle:!!T(c),modal:!1,open:q.value,"onUpdate:open":n[11]||(n[11]=o=>q.value=o),ui:{header:"flex items-center justify-between",body:"p-0",container:"p-0 gap-0",content:"max-w-[85rem] mx-auto ",footer:"gap-0"}},{body:V(()=>[St.value?(h(),P(Zt,{key:0,open:_.value,"onUpdate:open":n[10]||(n[10]=o=>_.value=o),nested:"",direction:"bottom",modal:!1,overlay:!1,inset:!1,ui:{container:"p-0 gap-0",content:"max-w-3xl w-full mx-auto",body:"p-4 space-y-3"}},{body:V(()=>[d("div",du,[d("h3",fu,U(St.value.title),1),d("div",vu,[g(x,{color:"neutral",variant:"ghost",size:"xs",ui:{rounded:"rounded-full"},icon:"codicon:pinned",class:ee(pa.value?"text-primary-500":"text-neutral-500 hover:text-neutral-900"),"aria-pressed":pa.value,title:pa.value?"Lossa":"Fäst",onClick:n[8]||(n[8]=o=>ha(St.value.key,{hideWhenUnpin:!1}))},null,8,["class","aria-pressed","title"])])]),d("p",mu,U(St.value.description),1),St.value.key==="kanteffekt"&&Ge.value.value?(h(),P(Xt,{key:0,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"},class:"mt-2 backdrop-blur-xl bg-neutral-900/50 border border-white/10"},{default:V(()=>[g(Ae,{ui:{root:"flex-row-reverse justify-between",label:"text-white",description:"text-neutral-200",base:"data-[state=unchecked]:bg-neutral-600"},size:"xs",color:"primary",modelValue:ie.value,"onUpdate:modelValue":n[9]||(n[9]=o=>ie.value=o),label:"Tidigare kanteffekt",description:"Visa spår från tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):$("",!0)]),_:1},8,["open"])):$("",!0),fl.value?(h(),A("div",hu,[g(_l,{items:Yt.value,ui:{item:"basis-12/13",viewport:"p-3"}},{default:V(({item:o})=>[g(Xt,{ui:{body:"p-4 space-y-4"},class:"min-h-[18rem]",variant:"soft",onClick:at},{default:V(()=>[d("div",pu,[d("h2",gu,U(o.left),1),g(Ve,{label:o.right,class:"ring-muted/50 py-1",variant:"outline",color:"neutral"},null,8,["label"])]),o.info?(h(),A("div",_u,[d("div",yu,[g(x,{type:"button",variant:"ghost",color:"neutral",class:"flex w-full items-center font-semibold gap-2 tracking-wide text-neutral-500 transition",onClick:At(_e=>Gt(o.key,"skog"),["stop"])},{default:V(()=>[n[60]||(n[60]=d("span",null,"Utveckling i skogen",-1)),g(b,{name:"i-heroicons-chevron-down",class:ee(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!We(o.key,"skog")}])},null,8,["class"])]),_:2},1032,["onClick"]),We(o.key,"skog")?(h(),A("p",{key:0,class:"text-sm text-neutral-800 leading-relaxed p-2 mb-2 bg-muted rounded",innerHTML:pe(o.info.skog)},null,8,bu)):$("",!0)]),d("div",ku,[g(x,{type:"button",variant:"ghost",color:"neutral",class:"flex w-full items-center gap-2 font-semibold tracking-wide text-neutral-500 transition",onClick:At(_e=>Gt(o.key,"svamp"),["stop"])},{default:V(()=>[n[61]||(n[61]=d("span",null,"Påverkan på mykorrhizasvampar",-1)),g(b,{name:"i-heroicons-chevron-down",class:ee(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!We(o.key,"svamp")}])},null,8,["class"])]),_:2},1032,["onClick"]),We(o.key,"svamp")?(h(),A("span",{key:0,class:"block text-sm text-neutral-800 leading-relaxed p-2 bg-muted rounded",innerHTML:pe(o.info.svamp)},null,8,xu)):$("",!0)])])):(h(),A("div",wu,U(o.emptyMessage||Kr),1))]),_:2},1024)]),_:1},8,["items"])])):(h(),A("div",{key:2,class:ee(["sm:grid divide-y sm:divide-y-0 sm:divide-x divide-muted/70",p.value?"sm:grid-cols-2":"sm:grid-cols-1"])},[(h(!0),A(me,null,Oe(Yt.value,o=>(h(),A("div",{key:o.key,class:"p-3 sm:p-6 sm:pb-8 group",onClick:at},[o.info?(h(),A("div",Su,[d("div",Tu,[g(x,{type:"button",variant:"ghost",color:"neutral",class:"flex w-full items-center font-semibold gap-2 tracking-wide text-neutral-500 transition",onClick:At(_e=>Gt(o.key,"skog"),["stop"])},{default:V(()=>[n[62]||(n[62]=d("span",null,"Utveckling i skogen",-1)),g(b,{name:"i-heroicons-chevron-down",class:ee(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!We(o.key,"skog")}])},null,8,["class"])]),_:2},1032,["onClick"]),We(o.key,"skog")?(h(),A("p",{key:0,class:"text-sm text-neutral-800 leading-relaxed p-2 mb-2 bg-muted rounded",innerHTML:pe(o.info.skog)},null,8,Cu)):$("",!0)]),d("div",Lu,[g(x,{type:"button",variant:"ghost",color:"neutral",class:"flex w-full items-center gap-2 font-semibold tracking-wide text-neutral-500 transition",onClick:At(_e=>Gt(o.key,"svamp"),["stop"])},{default:V(()=>[n[63]||(n[63]=d("span",null,"Påverkan på mykorrhizasvampar",-1)),g(b,{name:"i-heroicons-chevron-down",class:ee(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!We(o.key,"svamp")}])},null,8,["class"])]),_:2},1032,["onClick"]),We(o.key,"svamp")?(h(),A("span",{key:0,class:"block text-sm text-neutral-800 leading-relaxed p-2 bg-muted rounded",innerHTML:pe(o.info.svamp)},null,8,Vu)):$("",!0)])])):(h(),A("div",Au,U(o.emptyMessage||Kr),1))]))),128))],2))]),default:V(()=>[g(x,{size:T(c)?"xl":"lg",label:T(c)?null:"Text",variant:"outline",color:"neutral",icon:"i-heroicons-book-open",class:"rounded-2xl"},null,8,["size","label"])]),_:1},8,["direction","inset","dismissible","handle","open"])]),d("div",Ou,[g(Zt,{direction:(T(c),"bottom"),inset:(T(c),!1),"handle-only":"",dismissible:!!T(c),overlay:!1,handle:!!T(c),modal:!1,open:k.value,"onUpdate:open":n[12]||(n[12]=o=>k.value=o),ui:{header:"flex items-center justify-between",body:"p-0",container:"p-0 gap-0",content:"max-w-[85rem] mx-auto",footer:"gap-0"}},{body:V(()=>[g(yl,{parentSelectedFrameworks:J.value?[R.value.value,fe.value.value]:[R.value.value],currentTimeValue:Or.value,currentStartskog:Q.value.value},null,8,["parentSelectedFrameworks","currentTimeValue","currentStartskog"])]),default:V(()=>[g(x,{size:T(c)?"xl":"lg",label:T(c)?null:"Diagram",variant:"outline",color:"neutral",class:"rounded-2xl",icon:"i-carbon-chart-line-smooth"},null,8,["size","label"])]),_:1},8,["direction","inset","dismissible","handle","open"])])]),_r.value.length?(h(),A("div",Mu,[(h(!0),A(me,null,Oe(_r.value,o=>(h(),A("div",{key:o.key,class:"pointer-events-auto flex flex-col sm:flex sm:flex-wrap gap-1 items-end"},[g(Ve,{label:o.title,color:"neutral",variant:"outline",class:"cursor-pointer shadow-sm sm:ml-1.5 w-fit",onClick:_e=>ha(o.key)},null,8,["label","onClick"])]))),128))])):$("",!0),d("div",{class:ee(["relative overflow-auto transition-all duration-300 ease-in-out ",wt.value?"w-72 border-r border-neutral-300":"w-0"])},[wt.value?(h(),A("div",zu,[d("div",Fu,[n[64]||(n[64]=d("h1",{class:"font-semibold text-lg"},"Inställningar",-1)),g(x,{icon:wt.value?"i-heroicons-chevron-left":"i-heroicons-chevron-right",variant:"outline",color:"neutral",class:"rounded-full left-4 z-10",onClick:n[13]||(n[13]=o=>wt.value=!wt.value)},null,8,["icon"])]),g(Xt,{variant:"soft",ui:{body:"p-2 sm:p-3"},class:"mb-2"},{default:V(()=>[d("div",Du,[n[66]||(n[66]=d("div",{class:"text-xs text-neutral-500"},"UI‑zoom",-1)),d("div",$u,[g(x,{color:"neutral",variant:"soft",size:"xs",icon:"i-heroicons-minus",onClick:n[14]||(n[14]=o=>ce.value=Math.max(.75,+(ce.value-.1).toFixed(2)))}),d("div",ju,U(Math.round(ce.value*100))+"% ",1),g(x,{color:"neutral",variant:"soft",size:"xs",icon:"i-heroicons-plus",onClick:n[15]||(n[15]=o=>ce.value=Math.min(2,+(ce.value+.1).toFixed(2)))}),g(x,{color:"neutral",variant:"ghost",size:"xs",title:"Återställ (100%)",onClick:n[16]||(n[16]=o=>ce.value=1)},{default:V(()=>[...n[65]||(n[65]=[Ne(" Reset ",-1)])]),_:1})])])]),_:1}),J.value?(h(),A("div",Eu,[g(Xe,{size:"lg",items:mt.value,modelValue:Se.value,"onUpdate:modelValue":n[17]||(n[17]=o=>Se.value=o),placeholder:R.value.label,"append-to-body":"",variant:"outline",class:"w-full"},{item:V(({item:o})=>[d("div",Bu,[d("div",Ru,U(o.label),1),o.description?(h(),A("div",Uu,U(o.description),1)):$("",!0)])]),_:1},8,["items","modelValue","placeholder"]),g(Xe,{size:"lg",items:mt.value,modelValue:ht.value,"onUpdate:modelValue":n[18]||(n[18]=o=>ht.value=o),placeholder:fe.value.label,"append-to-body":"",variant:"outline",class:"w-full"},{item:V(({item:o})=>[d("div",Nu,[d("div",Pu,U(o.label),1),o.description?(h(),A("div",Iu,U(o.description),1)):$("",!0)])]),_:1},8,["items","modelValue","placeholder"])])):(h(),A(me,{key:1},[n[67]||(n[67]=d("h1",{class:"text-xs text-neutral-400"},"Skogsbruksmetod",-1)),g(Xe,{size:"xl",items:mt.value,modelValue:Se.value,"onUpdate:modelValue":n[19]||(n[19]=o=>Se.value=o),placeholder:R.value.label,"append-to-body":"",variant:"subtle",class:"w-full"},{item:V(({item:o})=>[d("div",Hu,[d("div",qu,U(o.label),1),o.description?(h(),A("div",Yu,U(o.description),1)):$("",!0)])]),_:1},8,["items","modelValue","placeholder"])],64)),d("div",Gu,[d("div",Wu,[d("div",Zu,[nt.value||Ge.value||Me.value?(h(),P(Ae,{key:0,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:W.value,"onUpdate:modelValue":n[20]||(n[20]=o=>W.value=o),label:"Hänsynsträd"},null,8,["modelValue"])):$("",!0),nt.value||Ge.value||Me.value?(h(),P(Ae,{key:1,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:re.value,"onUpdate:modelValue":n[21]||(n[21]=o=>re.value=o),label:"Kanteffekt"},null,8,["modelValue"])):$("",!0),g(Ae,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ue.value,"onUpdate:modelValue":n[22]||(n[22]=o=>ue.value=o),label:"Småplantor"},null,8,["modelValue"]),Ge.value&&re.value?(h(),P(Xt,{key:2,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"}},{default:V(()=>[g(Ae,{ui:{root:"flex-row-reverse justify-between"},size:"xs",color:"neutral",modelValue:ie.value,"onUpdate:modelValue":n[23]||(n[23]=o=>ie.value=o),label:"Tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):$("",!0),Pt.value||Me.value?(h(),P(Ae,{key:3,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:se.value,"onUpdate:modelValue":n[24]||(n[24]=o=>se.value=o),label:"Kontinuerligt rottäcke"},null,8,["modelValue"])):$("",!0),g(Ae,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ye.value,"onUpdate:modelValue":n[25]||(n[25]=o=>ye.value=o),label:"Högstubbar"},null,8,["modelValue"]),nt.value||Ge.value||Pt.value||Me.value?(h(),P(Ae,{key:4,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Z.value,"onUpdate:modelValue":n[26]||(n[26]=o=>Z.value=o),label:"Naturvårdsarter"},null,8,["modelValue"])):$("",!0),Me.value?(h(),P(Ae,{key:5,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:oe.value,"onUpdate:modelValue":n[27]||(n[27]=o=>oe.value=o),label:"Fröträd"},null,8,["modelValue"])):$("",!0),g(Ae,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:xe.value,"onUpdate:modelValue":n[28]||(n[28]=o=>xe.value=o),label:"Trädplantor"},null,8,["modelValue"]),g(Ae,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:ae.value,"onUpdate:modelValue":n[29]||(n[29]=o=>ae.value=o),label:"Spara klick (dev)"},null,8,["modelValue"])])])])])):$("",!0)],2),d("div",Xu,[!ne.value&&!J.value?(h(),A("div",Ku,[g(T(i),{"tradplantor-visible":xe.value,"naturvardsarter-visible":Z.value,"hogstubbar-visible":ye.value,"smaplantor-visible":ue.value,"dev-save-clicks":ae.value,"seedTree-visible":oe.value,"rottacke-visible":se.value,"retention-visible":W.value,"old-kanteffekt-visible":ie.value,"kanteffekt-visible":re.value,"retention-trees":G.value,onRetentionTreeAdded:n[30]||(n[30]=o=>G.value.push(o)),fullscreenLayout:!0,currentFramework:R.value,currentTime:Le.value,currentStartskog:Q.value,layoutMode:D.value,ref_key:"singleViewerRef",ref:Lt,frameworkLabel:R.value.label,timeLabel:ve.value,dziUrl:rl.value,overlayDziUrl:Ct.value,allowPan:!0,annotations:Qn.value?gl.value:[],selectedAnnotation:Ut.value,globalOpacity:we.value,"onUpdate:globalOpacity":n[31]||(n[31]=o=>we.value=o),onAnnotationClicked:nl,class:"w-full h-full ui-zoom-exempt"},null,8,["tradplantor-visible","naturvardsarter-visible","hogstubbar-visible","smaplantor-visible","dev-save-clicks","seedTree-visible","rottacke-visible","retention-visible","old-kanteffekt-visible","kanteffekt-visible","retention-trees","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","annotations","selectedAnnotation","globalOpacity"]),g(Rl,{name:"slide-out"},{default:V(()=>[Ut.value?(h(),A("div",Qu,[n[68]||(n[68]=d("div",{class:"h-64 flex items-center justify-center text-neutral-300"}," Bild kommer snart ",-1)),g(x,{color:"white",ui:{rounded:"rounded-full"},icon:"heroicons:x-mark",onClick:ll,class:"absolute top-2 right-2"}),d("div",Ju,[d("h3",ec,U(Ut.value.title),1),d("p",tc,U(Ut.value.text),1)])])):$("",!0)]),_:1})])):ne.value?(h(),P(Mr,{key:1,class:"w-full",ref_key:"comparisonSliderRef",ref:ge,frameworkLabel:R.value.label,timeLabel:"Före avverkning",frameworkLabel2:R.value.label,timeLabel2:ve.value,layoutMode:D.value},{first:V(()=>[Rt.value?(h(),P(T(i),{key:1,"naturvardsarter-visible":Z.value,fullscreenLayout:!0,currentFramework:R.value,currentTime:"innan",currentStartskog:Q.value,layoutMode:D.value,ref_key:"beforeViewerRef",ref:Fe,comparisonMode:!0,frameworkLabel:R.value.label,timeLabel:"Före avverkning",dziUrl:vr.value,overlayDziUrl:wr.value,allowPan:!0,onOpened:n[34]||(n[34]=o=>Ze("before")),onActivated:n[35]||(n[35]=o=>Ue.value.valueOf="before"),globalOpacity:we.value,"onUpdate:globalOpacity":n[36]||(n[36]=o=>we.value=o),class:"w-full h-full"},null,8,["naturvardsarter-visible","currentFramework","currentStartskog","layoutMode","frameworkLabel","dziUrl","overlayDziUrl","globalOpacity"])):(h(),P(T(i),{key:0,"naturvardsarter-visible":Z.value,fullscreenLayout:!0,currentFramework:R.value,currentTime:"innan",currentStartskog:Q.value,layoutMode:D.value,ref_key:"beforeViewerRef",ref:Fe,comparisonMode:!0,frameworkLabel:R.value.label,timeLabel:"Före avverkning",dziUrl:vr.value,overlayDziUrl:wr.value,allowPan:!0,onOpened:n[32]||(n[32]=o=>Ze("before")),onActivated:n[33]||(n[33]=o=>Ue.value.valueOf="before"),class:"w-full h-full"},null,8,["naturvardsarter-visible","currentFramework","currentStartskog","layoutMode","frameworkLabel","dziUrl","overlayDziUrl"]))]),second:V(()=>[Rt.value?(h(),P(T(i),{key:1,"naturvardsarter-visible":Z.value,fullscreenLayout:!0,currentFramework:R.value,currentTime:Le.value,currentStartskog:Q.value,layoutMode:D.value,ref_key:"afterViewerRef",ref:De,comparisonMode:!0,frameworkLabel:R.value.label,timeLabel:ve.value,dziUrl:mr.value,overlayDziUrl:Ct.value,allowPan:!0,sliderPosition:"right",onOpened:n[39]||(n[39]=o=>Ze("after")),onActivated:n[40]||(n[40]=o=>Ue.value.valueOf="after"),globalOpacity:we.value,"onUpdate:globalOpacity":n[41]||(n[41]=o=>we.value=o),class:"w-full h-full"},null,8,["naturvardsarter-visible","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","globalOpacity"])):(h(),P(T(i),{key:0,"naturvardsarter-visible":Z.value,fullscreenLayout:!0,currentFramework:R.value,currentTime:Le.value,currentStartskog:Q.value,layoutMode:D.value,ref_key:"afterViewerRef",ref:De,comparisonMode:!0,frameworkLabel:R.value.label,timeLabel:ve.value,dziUrl:mr.value,overlayDziUrl:Ct.value,allowPan:!0,sliderPosition:"right",onOpened:n[37]||(n[37]=o=>Ze("after")),onActivated:n[38]||(n[38]=o=>Ue.value.valueOf="after"),class:"w-full h-full"},null,8,["naturvardsarter-visible","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl"]))]),_:1},8,["frameworkLabel","frameworkLabel2","timeLabel2","layoutMode"])):J.value?(h(),P(Mr,{key:2,ref_key:"comparisonSliderRef",ref:ge,frameworkLabel:R.value.label,timeLabel:ve.value,frameworkLabel2:fe.value.label,timeLabel2:ve.value,layoutMode:D.value,class:"w-full"},{first:V(()=>[Rt.value?(h(),P(T(i),{key:1,"naturvardsarter-visible":Z.value,fullscreenLayout:!0,currentFramework:R.value,currentTime:Le.value,currentStartskog:Q.value,layoutMode:D.value,ref_key:"framework1ViewerRef",ref:$e,comparisonMode:!0,frameworkLabel:R.value.label,timeLabel:ve.value,dziUrl:hr.value,overlayDziUrl:Ct.value,allowPan:!ne.value&&!J.value,globalOpacity:we.value,"onUpdate:globalOpacity":n[45]||(n[45]=o=>we.value=o),onViewportChanged:n[46]||(n[46]=o=>Wt("framework1",o)),onOpened:n[47]||(n[47]=o=>Ze("framework1")),onActivated:n[48]||(n[48]=o=>Ue.value.valueOf="framework1"),class:"w-full h-full"},null,8,["naturvardsarter-visible","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan","globalOpacity"])):(h(),P(T(i),{key:0,"naturvardsarter-visible":Z.value,fullscreenLayout:!0,currentFramework:R.value,currentTime:Le.value,currentStartskog:Q.value,layoutMode:D.value,ref_key:"framework1ViewerRef",ref:$e,comparisonMode:!0,frameworkLabel:R.value.label,timeLabel:ve.value,dziUrl:hr.value,overlayDziUrl:Ct.value,allowPan:!ne.value&&!J.value,onViewportChanged:n[42]||(n[42]=o=>Wt("framework1",o)),onOpened:n[43]||(n[43]=o=>Ze("framework1")),onActivated:n[44]||(n[44]=o=>Ue.value.valueOf="framework1"),class:"w-full h-full"},null,8,["naturvardsarter-visible","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan"]))]),second:V(()=>[Rt.value?(h(),P(T(i),{key:1,"naturvardsarter-visible":Z.value,fullscreenLayout:!0,currentFramework:fe.value,currentTime:Le.value,currentStartskog:Q.value,layoutMode:D.value,ref_key:"framework2ViewerRef",ref:je,comparisonMode:!0,frameworkLabel:fe.value.label,timeLabel:ve.value,dziUrl:pr.value,overlayDziUrl:Sr.value,globalOpacity:we.value,"onUpdate:globalOpacity":n[52]||(n[52]=o=>we.value=o),allowPan:!ne.value&&!J.value,sliderPosition:"right",onViewportChanged:n[53]||(n[53]=o=>Wt("framework2",o)),onOpened:n[54]||(n[54]=o=>Ze("framework2")),onActivated:n[55]||(n[55]=o=>Ue.value.valueOf="framework2"),class:"w-full h-full"},null,8,["naturvardsarter-visible","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","globalOpacity","allowPan"])):(h(),P(T(i),{key:0,"naturvardsarter-visible":Z.value,fullscreenLayout:!0,currentFramework:fe.value,currentTime:Le.value,currentStartskog:Q.value,layoutMode:D.value,ref_key:"framework2ViewerRef",ref:je,comparisonMode:!0,frameworkLabel:fe.value.label,timeLabel:ve.value,dziUrl:pr.value,overlayDziUrl:Sr.value,allowPan:!ne.value&&!J.value,sliderPosition:"right",onViewportChanged:n[49]||(n[49]=o=>Wt("framework2",o)),onOpened:n[50]||(n[50]=o=>Ze("framework2")),onActivated:n[51]||(n[51]=o=>Ue.value.valueOf="framework2"),class:"w-full h-full"},null,8,["naturvardsarter-visible","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan"]))]),_:1},8,["frameworkLabel","timeLabel","frameworkLabel2","timeLabel2","layoutMode"])):$("",!0)]),Kn.value?$("",!0):(h(),A("div",ac,[d("div",rc,[!ne.value&&!J.value?(h(),A("div",nc,[d("div",{class:"p-3 group text-base/7",onClick:at},[g(Ke,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:V(()=>[d("div",ic,[(h(),A(me,null,Oe(Ye,(o,_e)=>d("div",{key:o.id,onClick:Ca=>Se.value=_e,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[d("div",null,[d("div",oc,U(o.label),1),d("div",uc,U(o.text),1)])],8,sc)),64))])]),default:V(()=>[d("h2",lc,U(R.value.label),1)]),_:1}),d("div",cc,[d("h3",dc,U(ve.value),1),g(x,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",color:"neutral",variant:"soft",size:"xs",label:K.value?"Dölj info":"Visa info",onClick:et},null,8,["label"])]),K.value&&Te.value?(h(),A("div",fc,[d("p",{class:"mb-4 text-neutral-50",innerHTML:pe(Te.value.skog)},null,8,vc),d("div",null,[n[69]||(n[69]=d("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),d("span",{class:"text-neutral-50",innerHTML:pe(Te.value.svamp)},null,8,mc)])])):K.value?(h(),A("div",hc," Ingen tidslinjeinformation hittades för den här kombinationen. ")):$("",!0)])])):ne.value?(h(),A("div",pc,[qt.value?(h(),A("div",{key:0,class:"p-3 group text-base/7",onClick:at},[g(Ke,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:V(()=>[d("div",_c,[(h(),A(me,null,Oe(Ye,(o,_e)=>d("div",{key:o.id,onClick:Ca=>Se.value=_e,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[d("div",null,[d("div",bc,U(o.label),1),d("div",kc,U(o.text),1)])],8,yc)),64))])]),default:V(()=>[d("h2",gc,U(R.value.label),1)]),_:1}),d("div",xc,[n[70]||(n[70]=d("h3",{class:"text-md text-neutral-200"}," Före avverkning ",-1)),g(x,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:K.value?"Dölj info":"Visa info",onClick:et},null,8,["label"])]),K.value?(h(),A("div",wc,[d("p",{class:"mb-2 text-neutral-50",innerHTML:pe(qt.value.skog)},null,8,Sc),d("div",null,[n[71]||(n[71]=d("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),d("span",{class:"text-neutral-50",innerHTML:pe(qt.value.svamp)},null,8,Tc)])])):$("",!0)])):$("",!0),Te.value?(h(),A("div",{key:1,class:"p-4 group border border-neutral-200/10 rounded-sm shadow bg-neutral-950/20",onClick:at},[d("div",Cc,[d("h3",Lc,U(ve.value),1),g(x,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:Ce.value?"Dölj info":"Visa info",onClick:$t},null,8,["label"])]),Ce.value?(h(),A("div",Vc,[d("p",{class:"mb-2 text-neutral-50",innerHTML:pe(Te.value.skog)},null,8,Ac),d("div",null,[n[72]||(n[72]=d("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),d("span",{class:"text-neutral-50",innerHTML:pe(Te.value.svamp)},null,8,Oc)])])):$("",!0)])):$("",!0)])):J.value?(h(),A("div",Mc,[Te.value?(h(),A("div",{key:0,class:"p-3 group text-base/7",onClick:at},[g(Ke,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:V(()=>[d("div",Fc,[(h(),A(me,null,Oe(Ye,(o,_e)=>d("div",{key:o.id,onClick:Ca=>Se.value=_e,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[d("div",null,[d("div",$c,U(o.label),1),d("div",jc,U(o.text),1)])],8,Dc)),64))])]),default:V(()=>[d("h2",zc,U(R.value.label),1)]),_:1}),d("div",Ec,[d("h3",Bc,U(ve.value),1),g(x,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:K.value?"Dölj info":"Visa info",onClick:et},null,8,["label"])]),K.value?(h(),A("div",Rc,[d("p",{class:"mb-2 text-neutral-50",innerHTML:pe(Te.value.skog)},null,8,Uc),d("div",null,[n[73]||(n[73]=d("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),d("span",{class:"text-neutral-50",innerHTML:pe(Te.value.svamp)},null,8,Nc)])])):$("",!0)])):$("",!0),Ht.value?(h(),A("div",{key:1,class:"p-4 group border border-neutral-200/10 rounded-sm shadow bg-neutral-950/20",onClick:at},[g(Ke,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:V(()=>[d("div",Ic,[(h(),A(me,null,Oe(Ye,(o,_e)=>d("div",{key:"framework2-"+o.id,onClick:Ca=>ht.value=_e,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[d("div",null,[d("div",qc,U(o.label),1),d("div",Yc,U(o.text),1)])],8,Hc)),64))])]),default:V(()=>[d("h2",Pc,U(fe.value.label),1)]),_:1}),d("div",Gc,[d("h3",Wc,U(ve.value),1),g(x,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:Ce.value?"Dölj info":"Visa info",onClick:$t},null,8,["label"])]),Ce.value?(h(),A("div",Zc,[d("p",{class:"mb-2 text-neutral-50",innerHTML:pe(Ht.value.skog)},null,8,Xc),d("div",null,[n[74]||(n[74]=d("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),d("span",{class:"text-neutral-50",innerHTML:pe(Ht.value.svamp)},null,8,Kc)])])):$("",!0)])):$("",!0)])):$("",!0),d("div",Qc,[d("div",Jc,[Rn.value?(h(),P(x,{key:0,size:"xl",onClick:qn,variant:"ghost",class:"text-white hover:bg-neutral-500/20 w-full",label:Nn.value,icon:"i-heroicons-arrow-left-circle"},null,8,["label"])):$("",!0)]),d("div",ed,[Un.value?(h(),P(x,{key:0,size:"xl",onClick:Yn,variant:"ghost",class:"w-full text-white hover:bg-neutral-500/20 flex justify-end",trailing:"",label:Pn.value,icon:"i-heroicons-arrow-right-circle"},null,8,["label"])):$("",!0)])])])]))])])])}}}),rd=Object.assign(an(ad,[["__scopeId","data-v-27551e28"]]),{__name:"Model"}),nd={key:0,class:"flex-1"},ld=["onClick"],id={class:"text-lg p-2 px-3 font-medium"},sd={class:"w-full ring ring-muted/50 rounded relative overflow-hidden shadow"},od={class:"sm:grid grid-cols-2"},ud={class:"px-6 sm:px-12 sm:border-r border-muted/50"},cd={class:"my-4 text-3xl sm:text-4xl font-medium text-neutral-900"},dd={class:"px-6 sm:px-12"},fd={class:"p-6 pb-2"},vd={class:"font-semibold"},md={class:"lg:flex gap-4 space-y-2 lg:space-y-0"},hd=["src"],pd={class:"w-full px-6 border border-muted/50 bg-muted/50 rounded h-fit"},gd={class:"w-full bg-white px-6 border border-muted/50 rounded h-fit"},_d={class:"bg-muted border-t border-muted mt-18"},yd=Pe({__name:"index",async setup(e){let t,a;const{data:r}=([t,a]=zt(()=>Ft("skogsskotsel",()=>Dt("skogsskotsel").first())),t=await t,a(),t);if(!r.value)throw Nl({statusCode:404,statusMessage:"Page not found",fatal:!0});const i=z=>{const w=z?.toLowerCase?.()??"";return w==="intekalavverkad"?"naturskog":w==="produktionsskog"?"produktionsskog_":z},s=z=>(z?.toLowerCase?.()??"")==="ingenatgard"?"naturskydd":z,f=z=>{const w=String(z).trim().toLowerCase();return w.includes("efter")?"efter":w.includes("innan")||w.includes("före")||w.includes("fore")?"fore":w.replace(/[^0-9]/g,"")||w},u=(z,w,M)=>{const p=D=>D.trim().normalize("NFD").replace(/å/gi,"a").replace(/ä/gi,"a").replace(/ö/gi,"o").replace(new RegExp("\\p{Diacritic}+","gu"),"").toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,"");return`/images/thumbnails/${`${p(z)}_${f(String(w))}_visa_visa_${p(M)}.webp`}`},{data:c}=([t,a]=zt(()=>Ft("forestry-timeline-skogsskotsel",()=>Dt("forestryTimelines").first())),t=await t,a(),t),O=y(()=>{const z=c.value?.entries??[],w=F.value.id,M=s(w);return z.map(p=>({...p,startskog:i(p.startskog),atgard:s(p.atgard)})).filter(p=>p.startskog==="naturskog"&&p.atgard===M).map(p=>({tid:p.tid,skog:p.skog,svamp:p.svamp,thumb:u(p.atgard,p.tid,p.startskog)}))}),v=C([{label:"Diagram",icon:"i-heroicons-presentation-chart-line",slot:"diagram"},{label:"Tidslinje",icon:"i-heroicons-list-bullet",slot:"timeline"},{label:"Text",icon:"i-heroicons-book-open",slot:"text"}]),m=y(()=>r.value?.methods??[]),j={id:"",title:"",image:"",shortdescription:"",description:"",descriptionsvamp:""},E=C("");Pl(()=>{const z=m.value[0];z&&!E.value&&(E.value=z.id)});const F=y(()=>{const z=m.value;return z.length?z.find(w=>w.id===E.value)??z[0]:j});return(z,w)=>{const M=qa,p=Yl,L=rd,D=ql,ae=pi,W=Il,re=Ya,ie=Gl,Z=gi,se=_i,oe=Wl,ue=Bn,ye=yi,xe=nn,ce=bi;return T(r)?(h(),A("div",nd,[g(W,{class:"w-full px-0"},{default:V(()=>[g(ae,{ui:{container:"py-12 lg:py-24",title:"sm:text-7xl",headline:"text-neutral"},title:T(r).hero.title,description:T(r).hero.description,orientation:T(r).hero.orientation,class:""},Hl({_:2},[T(r)?.hero?.links?.[0]?{name:"links",fn:V(()=>[g(D,{fullscreen:""},{content:V(()=>[g(L)]),default:V(()=>[g(p,{color:"warning",size:"2xl"},{default:V(()=>[g(M,{label:T(r).hero.links[0].label,size:T(r).hero.links[0].size,color:T(r).hero.links[0].color,icon:T(r).hero.links[0].icon},null,8,["label","size","color","icon"])]),_:1})]),_:1})]),key:"0"}:void 0]),1032,["title","description","orientation"])]),_:1}),g(W,{class:"w-full flex justify-between py-4 gap-6 overflow-scroll lg:overflow-hidden"},{default:V(()=>[(h(!0),A(me,null,Oe(m.value,K=>(h(),P(Z,{key:K.id,class:"relative",initial:{scale:1,transform:"translateY(10px)",opacity:0},animate:{scale:1,transform:"translateY(0px)",opacity:1},transition:{duration:.3,delay:.3+.05*(K.index??0)}},{default:V(()=>[d("div",{onClick:Ce=>E.value=K.id,class:ee(["shrink-0 lg:shrink w-58 lg:w-full bg-white transition-all hover:opacity-100 border border-muted/50 overflow-hidden rounded h-fit shadow hover:shadow-md relative cursor-pointer",E.value===K.id?"opacity-100":"opacity-30"])},[K.type?(h(),P(re,{key:0,class:"absolute top-2 left-2",label:K.type,color:"neutral",variant:"subtle"},null,8,["label"])):$("",!0),g(ie,{src:K.image,width:"300",height:"160",class:"w-full h-full"},null,8,["src"]),d("h1",id,U(K.title),1)],10,ld)]),_:2},1032,["transition"]))),128))]),_:1}),g(W,{class:"w-full pt-2 px-0 sm:px-6"},{default:V(()=>[g(Z,{class:"flex justify-center w-full",initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0px)"},transition:{duration:.5,delay:1}},{default:V(()=>[d("div",sd,[g(xe,{ui:{list:"p-2 justify-center sm:justify-start",root:""},items:v.value,color:"primary",size:"md",class:"w-full",variant:"link"},{text:V(()=>[g(oe,{class:"pt-4 sm:p-6"},{default:V(()=>[d("div",od,[d("div",ud,[d("h1",cd,U(F.value.title),1),g(se,{class:"text-lg text-neutral-800 mb-8",value:F.value.description},null,8,["value"])]),d("div",dd,[w[0]||(w[0]=d("h1",{class:"my-4 text-2xl font-medium text-neutral-900"},"Påverkan på mykorrhizasvampar ",-1)),g(se,{class:"text-lg text-neutral-800",value:F.value.descriptionsvamp},null,8,["value"])])])]),_:1})]),diagram:V(()=>[g(ue,{parentSelectedFrameworks:[F.value.id],currentStartskog:"naturskog"},null,8,["parentSelectedFrameworks"])]),timeline:V(()=>[d("div",fd,[g(ye,{items:O.value,size:"3xs",ui:{indicator:"bg-neutral-200/50 ",separator:"bg-neutral-200/50",description:"p-0 mt-2 text-default"}},{title:V(({item:K})=>[d("span",vd,U(K.tid),1)]),description:V(({item:K})=>[d("div",md,[d("img",{src:K.thumb,class:"w-80 h-fit rounded"},null,8,hd),d("div",pd,[g(se,{value:K.skog},null,8,["value"])]),d("div",gd,[g(se,{value:K.svamp},null,8,["value"])])])]),_:1},8,["items"])])]),_:1},8,["items"])])]),_:1})]),_:1}),d("div",_d,[g(ce,{section:T(r).carousel},null,8,["section"])])])):$("",!0)}}}),Md=Object.freeze(Object.defineProperty({__proto__:null,default:yd},Symbol.toStringTag,{value:"Module"}));export{Go as a,Md as i,Yo as u};
