import{_ as di}from"./DRsKVQaR.js";import{B as Ae,aJ as ut,W as _,r as I,d as W,o as Ve,L as Re,c as qe,K as le,e as N,aD as at,aE as nt,aF as it,bH as Ia,aU as fi,g as be,cg as pi,w as Le,N as q,f as U,P as Y,F as pe,ag as Ne,af as tn,h as ge,aZ as ja,t as rt,aN as gi,an as mi,as as vi,at as _i,av as yi,_ as xi}from"#entry";import{X as ht,c as z,i as Xe,a as dt,D as $e,f as We,b as St,g as ke,l as Se,j as lt,s as Ge,E as bi,k as J,O as an,d as Kt,e as ki,G as Si,H as wi,r as Ai,n as Ci,I as Ti,J as Bi,q as Mi,o as Oi,K as Di,L as ea,M as Ni,m as Fi,h as Li,N as $i,p as Vi,Q as ct,A as ft,y as Ue,z as Ke,S as Ri,C as za}from"./CGrD4Z6_.js";var ta=Math.PI,aa=2*ta,Fe=1e-6,Ii=aa-Fe;function na(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Dt(){return new na}na.prototype=Dt.prototype={constructor:na,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,a,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+a)+","+(this._y1=+n)},bezierCurveTo:function(e,t,a,n,i,r){this._+="C"+ +e+","+ +t+","+ +a+","+ +n+","+(this._x1=+i)+","+(this._y1=+r)},arcTo:function(e,t,a,n,i){e=+e,t=+t,a=+a,n=+n,i=+i;var r=this._x1,l=this._y1,s=a-e,u=n-t,x=r-e,p=l-t,f=x*x+p*p;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>Fe)if(!(Math.abs(p*s-u*x)>Fe)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var y=a-r,T=n-l,B=s*s+u*u,L=y*y+T*T,A=Math.sqrt(B),C=Math.sqrt(f),S=i*Math.tan((ta-Math.acos((B+f-L)/(2*A*C)))/2),k=S/C,O=S/A;Math.abs(k-1)>Fe&&(this._+="L"+(e+k*x)+","+(t+k*p)),this._+="A"+i+","+i+",0,0,"+ +(p*y>x*T)+","+(this._x1=e+O*s)+","+(this._y1=t+O*u)}},arc:function(e,t,a,n,i,r){e=+e,t=+t,a=+a,r=!!r;var l=a*Math.cos(n),s=a*Math.sin(n),u=e+l,x=t+s,p=1^r,f=r?n-i:i-n;if(a<0)throw new Error("negative radius: "+a);this._x1===null?this._+="M"+u+","+x:(Math.abs(this._x1-u)>Fe||Math.abs(this._y1-x)>Fe)&&(this._+="L"+u+","+x),a&&(f<0&&(f=f%aa+aa),f>Ii?this._+="A"+a+","+a+",0,1,"+p+","+(e-l)+","+(t-s)+"A"+a+","+a+",0,1,"+p+","+(this._x1=u)+","+(this._y1=x):f>Fe&&(this._+="A"+a+","+a+",0,"+ +(f>=ta)+","+p+","+(this._x1=e+a*Math.cos(i))+","+(this._y1=t+a*Math.sin(i))))},rect:function(e,t,a,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +a+"v"+ +n+"h"+-a+"Z"},toString:function(){return this._}};function Z(e){return function(){return e}}var Ea=1e-12,wt=Math.PI,Nt=2*wt;function nn(e){this._context=e}nn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ya(e){return new nn(e)}function rn(e){return e[0]}function sn(e){return e[1]}function on(){var e=rn,t=sn,a=Z(!0),n=null,i=ya,r=null;function l(s){var u,x=s.length,p,f=!1,y;for(n==null&&(r=i(y=Dt())),u=0;u<=x;++u)!(u<x&&a(p=s[u],u,s))===f&&((f=!f)?r.lineStart():r.lineEnd()),f&&r.point(+e(p,u,s),+t(p,u,s));if(y)return r=null,y+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:Z(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:Z(+s),l):t},l.defined=function(s){return arguments.length?(a=typeof s=="function"?s:Z(!!s),l):a},l.curve=function(s){return arguments.length?(i=s,n!=null&&(r=i(n)),l):i},l.context=function(s){return arguments.length?(s==null?n=r=null:r=i(n=s),l):n},l}function ji(){var e=rn,t=null,a=Z(0),n=sn,i=Z(!0),r=null,l=ya,s=null;function u(p){var f,y,T,B=p.length,L,A=!1,C,S=new Array(B),k=new Array(B);for(r==null&&(s=l(C=Dt())),f=0;f<=B;++f){if(!(f<B&&i(L=p[f],f,p))===A)if(A=!A)y=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),T=f-1;T>=y;--T)s.point(S[T],k[T]);s.lineEnd(),s.areaEnd()}A&&(S[f]=+e(L,f,p),k[f]=+a(L,f,p),s.point(t?+t(L,f,p):S[f],n?+n(L,f,p):k[f]))}if(C)return s=null,C+""||null}function x(){return on().defined(i).curve(l).context(r)}return u.x=function(p){return arguments.length?(e=typeof p=="function"?p:Z(+p),t=null,u):e},u.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Z(+p),u):e},u.x1=function(p){return arguments.length?(t=p==null?null:typeof p=="function"?p:Z(+p),u):t},u.y=function(p){return arguments.length?(a=typeof p=="function"?p:Z(+p),n=null,u):a},u.y0=function(p){return arguments.length?(a=typeof p=="function"?p:Z(+p),u):a},u.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Z(+p),u):n},u.lineX0=u.lineY0=function(){return x().x(e).y(a)},u.lineY1=function(){return x().x(e).y(n)},u.lineX1=function(){return x().x(t).y(a)},u.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Z(!!p),u):i},u.curve=function(p){return arguments.length?(l=p,r!=null&&(s=l(r)),u):l},u.context=function(p){return arguments.length?(p==null?r=s=null:s=l(r=p),u):r},u}const ln={draw:function(e,t){var a=Math.sqrt(t/wt);e.moveTo(a,0),e.arc(0,0,a,0,Nt)}},zi={draw:function(e,t){var a=Math.sqrt(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}};var cn=Math.sqrt(1/3),Ei=cn*2;const Pi={draw:function(e,t){var a=Math.sqrt(t/Ei),n=a*cn;e.moveTo(0,-a),e.lineTo(n,0),e.lineTo(0,a),e.lineTo(-n,0),e.closePath()}};var Wi=.8908130915292852,un=Math.sin(wt/10)/Math.sin(7*wt/10),Hi=Math.sin(Nt/10)*un,Gi=-Math.cos(Nt/10)*un;const Yi={draw:function(e,t){var a=Math.sqrt(t*Wi),n=Hi*a,i=Gi*a;e.moveTo(0,-a),e.lineTo(n,i);for(var r=1;r<5;++r){var l=Nt*r/5,s=Math.cos(l),u=Math.sin(l);e.lineTo(u*a,-s*a),e.lineTo(s*n-u*i,u*n+s*i)}e.closePath()}},qi={draw:function(e,t){var a=Math.sqrt(t),n=-a/2;e.rect(n,n,a,a)}};var Zt=Math.sqrt(3);const Xi={draw:function(e,t){var a=-Math.sqrt(t/(Zt*3));e.moveTo(0,a*2),e.lineTo(-Zt*a,-a),e.lineTo(Zt*a,-a),e.closePath()}};var ue=-.5,he=Math.sqrt(3)/2,ia=1/Math.sqrt(12),Ui=(ia/2+1)*3;const Ki={draw:function(e,t){var a=Math.sqrt(t/Ui),n=a/2,i=a*ia,r=n,l=a*ia+a,s=-r,u=l;e.moveTo(n,i),e.lineTo(r,l),e.lineTo(s,u),e.lineTo(ue*n-he*i,he*n+ue*i),e.lineTo(ue*r-he*l,he*r+ue*l),e.lineTo(ue*s-he*u,he*s+ue*u),e.lineTo(ue*n+he*i,ue*i-he*n),e.lineTo(ue*r+he*l,ue*l-he*r),e.lineTo(ue*s+he*u,ue*u-he*s),e.closePath()}};function Zi(){var e=Z(ln),t=Z(64),a=null;function n(){var i;if(a||(a=i=Dt()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),i)return a=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:Z(i),n):e},n.size=function(i){return arguments.length?(t=typeof i=="function"?i:Z(+i),n):t},n.context=function(i){return arguments.length?(a=i??null,n):a},n}function we(){}function At(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function Ft(e){this._context=e}Ft.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:At(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:At(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Qi(e){return new Ft(e)}function hn(e){this._context=e}hn.prototype={areaStart:we,areaEnd:we,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:At(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ji(e){return new hn(e)}function dn(e){this._context=e}dn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,n):this._context.moveTo(a,n);break;case 3:this._point=4;default:At(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function er(e){return new dn(e)}function fn(e,t){this._basis=new Ft(e),this._beta=t}fn.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,a=e.length-1;if(a>0)for(var n=e[0],i=t[0],r=e[a]-n,l=t[a]-i,s=-1,u;++s<=a;)u=s/a,this._basis.point(this._beta*e[s]+(1-this._beta)*(n+u*r),this._beta*t[s]+(1-this._beta)*(i+u*l));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const tr=(function e(t){function a(n){return t===1?new Ft(n):new fn(n,t)}return a.beta=function(n){return e(+n)},a})(.85);function Ct(e,t,a){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-a),e._x2,e._y2)}function xa(e,t){this._context=e,this._k=(1-t)/6}xa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ct(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Ct(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ar=(function e(t){function a(n){return new xa(n,t)}return a.tension=function(n){return e(+n)},a})(0);function ba(e,t){this._context=e,this._k=(1-t)/6}ba.prototype={areaStart:we,areaEnd:we,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ct(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const nr=(function e(t){function a(n){return new ba(n,t)}return a.tension=function(n){return e(+n)},a})(0);function ka(e,t){this._context=e,this._k=(1-t)/6}ka.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ct(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ir=(function e(t){function a(n){return new ka(n,t)}return a.tension=function(n){return e(+n)},a})(0);function Sa(e,t,a){var n=e._x1,i=e._y1,r=e._x2,l=e._y2;if(e._l01_a>Ea){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>Ea){var x=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,p=3*e._l23_a*(e._l23_a+e._l12_a);r=(r*x+e._x1*e._l23_2a-t*e._l12_2a)/p,l=(l*x+e._y1*e._l23_2a-a*e._l12_2a)/p}e._context.bezierCurveTo(n,i,r,l,e._x2,e._y2)}function pn(e,t){this._context=e,this._alpha=t}pn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Sa(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const rr=(function e(t){function a(n){return t?new pn(n,t):new xa(n,0)}return a.alpha=function(n){return e(+n)},a})(.5);function gn(e,t){this._context=e,this._alpha=t}gn.prototype={areaStart:we,areaEnd:we,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Sa(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const sr=(function e(t){function a(n){return t?new gn(n,t):new ba(n,0)}return a.alpha=function(n){return e(+n)},a})(.5);function mn(e,t){this._context=e,this._alpha=t}mn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Sa(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const or=(function e(t){function a(n){return t?new mn(n,t):new ka(n,0)}return a.alpha=function(n){return e(+n)},a})(.5);function vn(e){this._context=e}vn.prototype={areaStart:we,areaEnd:we,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function lr(e){return new vn(e)}function Pa(e){return e<0?-1:1}function Wa(e,t,a){var n=e._x1-e._x0,i=t-e._x1,r=(e._y1-e._y0)/(n||i<0&&-0),l=(a-e._y1)/(i||n<0&&-0),s=(r*i+l*n)/(n+i);return(Pa(r)+Pa(l))*Math.min(Math.abs(r),Math.abs(l),.5*Math.abs(s))||0}function Ha(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function Qt(e,t,a){var n=e._x0,i=e._y0,r=e._x1,l=e._y1,s=(r-n)/3;e._context.bezierCurveTo(n+s,i+s*t,r-s,l-s*a,r,l)}function Tt(e){this._context=e}Tt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qt(this,this._t0,Ha(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Qt(this,Ha(this,a=Wa(this,e,t)),a);break;default:Qt(this,this._t0,a=Wa(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function _n(e){this._context=new yn(e)}(_n.prototype=Object.create(Tt.prototype)).point=function(e,t){Tt.prototype.point.call(this,t,e)};function yn(e){this._context=e}yn.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,n,i,r){this._context.bezierCurveTo(t,e,n,a,r,i)}};function cr(e){return new Tt(e)}function ur(e){return new _n(e)}function xn(e){this._context=e}xn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var n=Ga(e),i=Ga(t),r=0,l=1;l<a;++r,++l)this._context.bezierCurveTo(n[0][r],i[0][r],n[1][r],i[1][r],e[l],t[l]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ga(e){var t,a=e.length-1,n,i=new Array(a),r=new Array(a),l=new Array(a);for(i[0]=0,r[0]=2,l[0]=e[0]+2*e[1],t=1;t<a-1;++t)i[t]=1,r[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[a-1]=2,r[a-1]=7,l[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)n=i[t]/r[t-1],r[t]-=n,l[t]-=n*l[t-1];for(i[a-1]=l[a-1]/r[a-1],t=a-2;t>=0;--t)i[t]=(l[t]-i[t+1])/r[t];for(r[a-1]=(e[a]+i[a-1])/2,t=0;t<a-1;++t)r[t]=2*e[t+1]-i[t+1];return[i,r]}function hr(e){return new xn(e)}function Lt(e,t){this._context=e,this._t=t}Lt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function dr(e){return new Lt(e,.5)}function fr(e){return new Lt(e,0)}function pr(e){return new Lt(e,1)}function Ya(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,n)}return a}function gr(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ya(Object(a),!0).forEach(function(n){mr(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ya(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function ot(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ot=function(t){return typeof t}:ot=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(e)}function mr(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Bt(){return Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Bt.apply(this,arguments)}function vr(e,t){if(e){if(typeof e=="string")return qa(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return qa(e,t)}}function qa(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function bn(e,t){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=vr(e))||t){a&&(e=a);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r=!0,l=!1,s;return{s:function(){a=a.call(e)},n:function(){var u=a.next();return r=u.done,u},e:function(u){l=!0,s=u},f:function(){try{!r&&a.return!=null&&a.return()}finally{if(l)throw s}}}}function _r(e,t){var a=[],n=[];function i(r,l){if(r.length===1)a.push(r[0]),n.push(r[0]);else{for(var s=Array(r.length-1),u=0;u<s.length;u++)u===0&&a.push(r[0]),u===s.length-1&&n.push(r[u+1]),s[u]=[(1-l)*r[u][0]+l*r[u+1][0],(1-l)*r[u][1]+l*r[u+1][1]];i(s,l)}}return e.length&&i(e,t),{left:a,right:n.reverse()}}function yr(e){var t={};return e.length===4&&(t.x2=e[2][0],t.y2=e[2][1]),e.length>=3&&(t.x1=e[1][0],t.y1=e[1][1]),t.x=e[e.length-1][0],t.y=e[e.length-1][1],e.length===4?t.type="C":e.length===3?t.type="Q":t.type="L",t}function xr(e,t){t=t||2;for(var a=[],n=e,i=1/t,r=0;r<t-1;r++){var l=i/(1-i*r),s=_r(n,l);a.push(s.left),n=s.right}return a.push(n),a}function br(e,t,a){var n=[[e.x,e.y]];return t.x1!=null&&n.push([t.x1,t.y1]),t.x2!=null&&n.push([t.x2,t.y2]),n.push([t.x,t.y]),xr(n,a).map(yr)}var kr=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,He={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};Object.keys(He).forEach(function(e){He[e.toLowerCase()]=He[e]});function ra(e,t){for(var a=Array(e),n=0;n<e;n++)a[n]=t;return a}function Sr(e){return"".concat(e.type).concat(He[e.type].map(function(t){return e[t]}).join(","))}function wr(e,t){var a={x1:"x",y1:"y",x2:"x",y2:"y"},n=["xAxisRotation","largeArcFlag","sweepFlag"];if(e.type!==t.type&&t.type.toUpperCase()!=="M"){var i={};Object.keys(t).forEach(function(r){var l=t[r],s=e[r];s===void 0&&(n.includes(r)?s=l:(s===void 0&&a[r]&&(s=e[a[r]]),s===void 0&&(s=0))),i[r]=s}),i.type=t.type,e=i}return e}function Ar(e,t,a){var n=[];if(t.type==="L"||t.type==="Q"||t.type==="C")n=n.concat(br(e,t,a));else{var i=Bt({},e);i.type==="M"&&(i.type="L"),n=n.concat(ra(a-1).map(function(){return i})),n.push(t)}return n}function Xa(e,t,a){var n=e.length-1,i=t.length-1,r=n/i,l=ra(i).reduce(function(u,x,p){var f=Math.floor(r*p);if(a&&f<e.length-1&&a(e[f],e[f+1])){var y=r*p%1<.5;u[f]&&(y?f>0?f-=1:f<e.length-1&&(f+=1):f<e.length-1?f+=1:f>0&&(f-=1))}return u[f]=(u[f]||0)+1,u},[]),s=l.reduce(function(u,x,p){if(p===e.length-1){var f=ra(x,Bt({},e[e.length-1]));return f[0].type==="M"&&f.forEach(function(y){y.type="L"}),u.concat(f)}return u.concat(Ar(e[p],e[p+1],x))},[]);return s.unshift(e[0]),s}function Ua(e){for(var t=(e||"").match(kr)||[],a=[],n,i,r=0;r<t.length;++r)if(n=He[t[r]],n){i={type:t[r]};for(var l=0;l<n.length;++l)i[n[l]]=+t[r+l+1];r+=n.length,a.push(i)}return a}function Cr(e,t,a){var n=e==null?[]:e.slice(),i=t==null?[]:t.slice(),r=ot(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},l=r.excludeSegment,s=r.snapEndsToInput;if(!n.length&&!i.length)return function(){return[]};var u=(n.length===0||n[n.length-1].type==="Z")&&(i.length===0||i[i.length-1].type==="Z");n.length>0&&n[n.length-1].type==="Z"&&n.pop(),i.length>0&&i[i.length-1].type==="Z"&&i.pop(),n.length?i.length||i.push(n[0]):n.push(i[0]);var x=Math.abs(i.length-n.length);x!==0&&(i.length>n.length?n=Xa(n,i,l):i.length<n.length&&(i=Xa(i,n,l))),n=n.map(function(f,y){return wr(f,i[y])});var p=n.map(function(f){return gr({},f)});return u&&(p.push({type:"Z"}),n.push({type:"Z"})),function(y){if(y===1&&s)return t??[];if(y===0)return n;for(var T=0;T<p.length;++T){var B=n[T],L=i[T],A=p[T],C=bn(He[A.type]),S;try{for(C.s();!(S=C.n()).done;){var k=S.value;A[k]=(1-y)*B[k]+y*L[k],(k==="largeArcFlag"||k==="sweepFlag")&&(A[k]=Math.round(A[k]))}}catch(O){C.e(O)}finally{C.f()}}return p}}function kn(e,t,a){var n=Ua(e),i=Ua(t),r=ot(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},l=r.excludeSegment,s=r.snapEndsToInput;if(!n.length&&!i.length)return function(){return""};var u=Cr(n,i,{excludeSegment:l,snapEndsToInput:s});return function(p){if(p===1&&s)return t??"";var f=u(p),y="",T=bn(f),B;try{for(T.s();!(B=T.n()).done;){var L=B.value;y+=Sr(L)}}catch(A){T.e(A)}finally{T.f()}return y}}var P;(function(e){e.Basis="basis",e.BasisClosed="basisClosed",e.BasisOpen="basisOpen",e.Bundle="bundle",e.Cardinal="cardinal",e.CardinalClosed="cardinalClosed",e.CardinalOpen="cardinalOpen",e.CatmullRom="catmullRom",e.CatmullRomClosed="catmullRomClosed",e.CatmullRomOpen="catmullRomOpen",e.Linear="linear",e.LinearClosed="linearClosed",e.MonotoneX="monotoneX",e.MonotoneY="monotoneY",e.Natural="natural",e.Step="step",e.StepAfter="stepAfter",e.StepBefore="stepBefore"})(P||(P={}));const sa={[P.Basis]:Qi,[P.BasisClosed]:Ji,[P.BasisOpen]:er,[P.Bundle]:tr,[P.Cardinal]:ar,[P.CardinalClosed]:nr,[P.CardinalOpen]:ir,[P.CatmullRom]:rr,[P.CatmullRomClosed]:sr,[P.CatmullRomOpen]:or,[P.Linear]:ya,[P.LinearClosed]:lr,[P.MonotoneX]:cr,[P.MonotoneY]:ur,[P.Natural]:hr,[P.Step]:dr,[P.StepAfter]:pr,[P.StepBefore]:fr},Tr=Object.assign(Object.assign({},ht),{curveType:P.MonotoneX,lineWidth:2,lineDashArray:void 0,fallbackValue:void 0,highlightOnHover:!1,cursor:null,interpolateMissingData:!1}),Br=Xe`
  :root {
    --vis-line-cursor: default;
    --vis-line-stroke-dasharray: none;
    --vis-line-stroke-dashoffset: 0;

    --vis-line-gapfill-stroke-dasharray: 2 3;
    --vis-line-gapfill-stroke-opacity: 0.8;
    --vis-line-gapfill-stroke-dashoffset: 0;
  }
`,Mr=z`
  label: line-component;
`,st=z`
  label: line;
  transition: opacity 200ms;
  cursor: var(--vis-line-cursor);
`,oa=z`
  label: linePath;
  fill: none;
  stroke-dasharray: var(--vis-line-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-stroke-dashoffset);
`,la=z`
  label: lineSelectionHelper;
  fill: none;
  stroke: rgba(0, 0, 0, 0);
  stroke-width: 8px;
`,ca=z`
  opacity: 0.2;
`,ua=z`
  label: interpolated-path;
  fill: none;
  stroke-dasharray: var(--vis-line-gapfill-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-gapfill-stroke-dashoffset);
  stroke-opacity: var(--vis-line-gapfill-stroke-opacity);
`,Or=Object.freeze(Object.defineProperty({__proto__:null,dim:ca,globalStyles:Br,interpolatedPath:ua,line:st,linePath:oa,lineSelectionHelper:la,root:Mr},Symbol.toStringTag,{value:"Module"}));class $t extends dt{constructor(t){super(),this._defaultConfig=Tr,this.config=this._defaultConfig,this.curve=sa[P.MonotoneX],this.events={[$t.selectors.line]:{mouseover:this._highlight.bind(this),mouseleave:this._resetHighlight.bind(this)}},t&&this.setConfig(t)}get bleed(){const{config:{lineWidth:t}}=this,a=this.yScale.domain(),i=(this.yScale.range()[0]>this.yScale.range()[1]?$e.North:$e.South)===$e.South,r=t>3,l=t>=10;return{top:!l&&(!i&&a[1]===0||i&&a[0]===0)?0:t/2,bottom:!l&&(!i&&a[0]===0||i&&a[1]===0)?0:t/2,left:r?t/2:0,right:r?t/2:0}}_render(t){super._render(t);const{config:a,datamodel:{data:n}}=this,i=We(t)?t:a.duration;this.curve=sa[a.curveType],this.lineGen=on().x(f=>f.x).y(f=>f.y).defined(f=>f.defined).curve(this.curve);const r=St(a.y)?a.y:[a.y],l=n.map((f,y)=>this.xScale(ke(f,a.x,y))),s=r.map(f=>{const y=n.map((C,S)=>{const k=ke(C,f,S),O=(We(k)||k===null)&&isFinite(k)?k:a.fallbackValue,$=a.interpolateMissingData?(We(k)||k===null)&&isFinite(k):isFinite(O);return{x:l[S],y:this.yScale(O??0),defined:$,value:O}}),T=y.reduce((C,S)=>S.defined||C,!1);let B=!1;const L=y.reduce((C,S,k)=>{!S.defined&&isFinite(a.fallbackValue)&&C.push(Object.assign(Object.assign({},S),{defined:!0})),!S.defined&&!B&&(B=!0);const O=k>0&&!y[k-1].defined||k<y.length-1&&!y[k+1].defined;return S.defined&&O&&(B||C.push(Object.assign(Object.assign({},S),{defined:!1})),C.push(S),B=!1),C},[]),A=T&&y.some(C=>C.value!==null);return{values:y,defined:T,gaps:L,visible:A}}),u=this.g.selectAll(`.${st}`).data(s),x=u.enter().append("g").attr("class",st);x.append("path").attr("class",oa).attr("stroke",(f,y)=>Se(n,a.color,y)).attr("stroke-opacity",0).attr("stroke-width",a.lineWidth),x.append("path").attr("class",la).attr("d",this._emptyPath()),x.append("path").attr("class",ua).attr("d",this._emptyPath()).style("opacity",0);const p=x.merge(u);p.style("cursor",(f,y)=>lt(n,a.cursor,y)),p.each((f,y,T)=>{var B;const L=Ge(T[y]),A=L.select(`.${oa}`),C=L.select(`.${la}`),S=L.select(`.${ua}`),k=f.visible,O=bi(n,a.lineDashArray,y),$=J(A,i).attr("stroke",Se(n,a.color,y)).attr("stroke-width",a.lineWidth).attr("stroke-opacity",k?1:0).style("stroke-dasharray",(B=O?.join(" "))!==null&&B!==void 0?B:null),E=f.values.some(G=>!G.defined),K=this.lineGen(f.values);if(i&&!E){const G=A.attr("d")||this._emptyPath(),R=K||this._emptyPath();$.attrTween("d",()=>kn(G,R))}else f.visible&&$.attr("d",K);C.attr("d",K).attr("visibility",k?null:"hidden"),E&&a.interpolateMissingData?J(S,i).attr("d",this.lineGen(f.gaps)).attr("stroke",Se(n,a.color,y)).attr("stroke-width",a.lineWidth-1).style("opacity",1):S.transition().duration(i).style("opacity",0)}),J(u.exit(),i).style("opacity",0).remove()}_emptyPath(){const t=this.xScale.range(),a=this.yScale.range();return`M${t[0]},${a[0]} L${t[1]},${a[0]}`}_highlight(t){const{config:a}=this;a.highlightOnHover&&this.g.selectAll(`.${st}`).classed(ca,n=>n!==t)}_resetHighlight(){const{config:t}=this;t.highlightOnHover&&this.g.selectAll(`.${st}`).classed(ca,!1)}}$t.selectors=Or;const Dr=Object.assign(Object.assign({},ht),{color:void 0,groupMaxWidth:void 0,groupWidth:void 0,dataStep:void 0,groupPadding:.05,barPadding:0,roundedCorners:2,barMinHeight:2,cursor:null,orientation:an.Vertical}),Sn=z`
  label: grouped-bar-component;
`,Nr=Xe`
  :root {
    --vis-grouped-bar-cursor: default;
    --vis-grouped-bar-fill-color: var(--vis-color-main);
    --vis-grouped-bar-stroke-color: none;
    --vis-grouped-bar-stroke-width: 0px;
    --vis-grouped-bar-hover-stroke-width: 1px;
    --vis-grouped-bar-hover-stroke-color: none;


    /* Dark Theme */
    --vis-dark-grouped-bar-stroke-color: none;
  }

  body.theme-dark ${`.${Sn}`} {
    --vis-grouped-bar-stroke-color: var(--vis-dark-grouped-bar-stroke-color);
  }
`,bt=z`
  label: bar;
  fill: var(--vis-grouped-bar-fill-color);
  stroke: var(--vis-grouped-bar-stroke-color);
  stroke-width: var(--vis-grouped-bar-stroke-width);
  cursor: var(--vis-grouped-bar-cursor);

  &:hover {
    stroke-width: var(--vis-grouped-bar-hover-stroke-width);
    stroke: var(--vis-grouped-bar-hover-stroke-color);
  }
`,ha=z`
  label: barGroup;
`,wn=z`
  label: barGroupExit;
`,Fr=Object.freeze(Object.defineProperty({__proto__:null,bar:bt,barGroup:ha,barGroupExit:wn,globalStyles:Nr,root:Sn},Symbol.toStringTag,{value:"Module"}));class An extends dt{constructor(t){super(),this._defaultConfig=Dr,this.config=this._defaultConfig,this.getAccessors=()=>St(this.config.y)?this.config.y:[this.config.y],this.events={},this._barData=[],t&&this.setConfig(t)}get bleed(){if(this._barData=this._getVisibleData(),this._barData.length===0)return{top:0,bottom:0,left:0,right:0};const t=!this.isVertical()&&this.dataScale.range()[0]>this.dataScale.range()[1],a=this.dataScale.domain(),n=this._getGroupWidth()/2,i=this._barData.map((T,B)=>ke(T,this.config.x,B)),r=Kt(i),l=ki(i),s=this.dataScale(r),u=this.dataScale(l),x=this.dataScale.invert(s+(t?n:-n)),p=this.dataScale.invert(u+(t?-n:n)),f=x<=a[0]?this.dataScale(a[0])-this.dataScale(x):0,y=p>a[1]?this.dataScale(p)-this.dataScale(a[1]):0;return{top:this.isVertical()?0:t?-y:f,bottom:this.isVertical()?0:t?-f:y,left:this.isVertical()?f:0,right:this.isVertical()?y:0}}get dataScale(){return this.isVertical()?this.xScale:this.yScale}get valueScale(){return this.isVertical()?this.yScale:this.xScale}isVertical(){return this.config.orientation===an.Vertical}_render(t){const{config:a}=this,n=We(t)?t:a.duration,i=this._getGroupWidth(),r=this.getAccessors(),l=[-i/2,i/2],s=Si().domain(wi(r.length)).range(l).paddingInner(a.barPadding).paddingOuter(a.barPadding),u=this.g.selectAll(`.${ha}`).data(this._barData,(S,k)=>{var O;return`${(O=lt(S,a.id,k))!==null&&O!==void 0?O:k}`}),x=(S,k)=>{const O=this.dataScale(ke(S,a.x,k)),$=this.isVertical()?O:0,E=this.isVertical()?0:O;return`translate(${$},${E})`},f=u.enter().append("g").attr("class",ha).attr("transform",x).style("opacity",1).merge(u);J(f,n).attr("transform",x).style("opacity",1);const y=u.exit().attr("class",wn);J(y,n).style("opacity",0).remove(),J(y.selectAll(`.${bt}`),n).attr("transform",(S,k,O)=>this.isVertical()?`translate(0,${this.yScale(0)}) scale(1,0)`:`translate(${this.xScale(0)},0) scale(0,1)`);const T=s.bandwidth(),B=f.selectAll(`.${bt}`).data(S=>r.map(()=>S)),L=this._getValueAxisDirection(),C=B.enter().append("path").attr("class",bt).attr("d",(S,k)=>{const O=s(k),$=this.valueScale(0),E=T;return this._getBarPath(O,$,E,0,!1,L)}).style("fill",(S,k)=>Se(S,a.color,k)).merge(B);J(C,n).attr("d",(S,k)=>{const O=s(k),$=T,E=ke(S,r[k]),K=E<0;let G=K?this.valueScale(0):this.valueScale(E||0),R=Math.abs(this.valueScale(0)-this.valueScale(E))||0;if(R<a.barMinHeight){const fe=L===$e.North?-1:1;G=this.valueScale(0)+fe*a.barMinHeight,R=a.barMinHeight}return this._getBarPath(O,G,$,R,K,L)}).style("fill",(S,k)=>Se(S,a.color,k)).style("cursor",(S,k)=>lt(S,a.cursor,k)),J(B.exit(),n).remove()}_getValueAxisDirection(){return this.valueScale.range()[0]>this.valueScale.range()[1]?$e.North:$e.South}_getVisibleData(){const{config:t,datamodel:{data:a}}=this,n=this._getGroupWidth(),i=a.length<2?0:n/2,r=this.dataScale,l=Math.abs(r.invert(i)-r.invert(0));return a?.filter((u,x)=>{const p=ke(u,t.x,x),f=r.domain(),y=+f[0],T=+f[1];return p>=y-l&&p<=T+l})}_getBarPath(t,a,n,i,r,l){const{config:s}=this,u=s.roundedCorners?We(s.roundedCorners)?+s.roundedCorners:n/2:0,x=Oi(u,0,Math.min(i,n)/2),p=l===$e.North,f=this.isVertical()&&r!==p,y=this.isVertical()&&r===p,T=!this.isVertical()&&r,B=!this.isVertical()&&!r;return Ai({x:this.isVertical()?t:a+(p?0:-i),y:this.isVertical()?a+(p?0:-i):t,w:this.isVertical()?n:i,h:this.isVertical()?i:n,tl:f||T,tr:f||B,bl:y||T,br:y||B,r:x})}_getGroupWidth(){const{config:t,datamodel:{data:a}}=this;if(Ci(a))return 0;if(t.groupWidth)return Kt([t.groupWidth,t.groupMaxWidth]);const n=this.dataScale.bandwidth,i=this.dataScale.domain?this.dataScale.domain():[];let l=1+(n?i.length:i[1]-i[0])/t.dataStep||!n&&a.filter((x,p)=>{const f=ke(x,t.x,p);return f>=i[0]&&f<=i[1]}).length||a.length;!n&&l>=2&&(l+=1);const u=(l<2?1:1-t.groupPadding)*(this.isVertical()?this._width:this._height)/l;return Kt([u,t.groupMaxWidth])}getValueScaleExtent(t){const{datamodel:a}=this,n=this.getAccessors(),i=t?this._getVisibleData():a.data,r=Ti(i,...n),l=Bi(i,...n);return[r>0?0:r,l<0?0:l]}getDataScaleExtent(){const{config:t,datamodel:a}=this;return Mi(a.data,t.x)}getYDataExtent(t){return this.isVertical()?this.getValueScaleExtent(t):this.getDataScaleExtent()}getXDataExtent(){return this.isVertical()?this.getDataScaleExtent():this.getValueScaleExtent(!1)}}An.selectors=Fr;var me;(function(e){e.Circle="circle",e.Cross="cross",e.Diamond="diamond",e.Square="square",e.Star="star",e.Triangle="triangle",e.Wye="wye"})(me||(me={}));const Lr={[me.Circle]:ln,[me.Cross]:zi,[me.Diamond]:Pi,[me.Square]:qi,[me.Star]:Yi,[me.Triangle]:Xi,[me.Wye]:Ki},oe=Object.assign(Object.assign({},me),{Line:"line"});var Mt;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(Mt||(Mt={}));const $r={items:[],labelClassName:"",onLegendItemClick:void 0,labelFontSize:null,labelMaxWidth:null,bulletSize:null,bulletSpacing:4,bulletShape:e=>{var t;return(t=e.shape)!==null&&t!==void 0?t:oe.Circle},orientation:Mt.Horizontal,renderIntoProvidedDomNode:!1},_t=Ni*3,Vr={[oe.Circle]:Math.PI/4,[oe.Cross]:5/9,[oe.Diamond]:Math.sqrt(3)/6,[oe.Square]:1,[oe.Star]:.3,[oe.Triangle]:Math.sqrt(3)/4,[oe.Wye]:5/11};function Cn(e,t,a){return t<1?0:e*t+a*(t-1)}function Rr(e){e.each((t,a,n)=>{Ge(n[a]).append("svg").attr("width","100%").attr("height","100%").append("path")})}function Ir(e,t,a){e.each((n,i,r)=>{var l;const s=lt(n,t.bulletShape,i),u=Di((l=n.color)!==null&&l!==void 0?l:Se(n,a,i)),x=u.length,p=_t,f=ea(getComputedStyle(r[i]).getPropertyValue("--vis-legend-bullet-size")),y=t.bulletSpacing*(_t/f),T=Cn(p,x,y),B=s===oe.Line?_t/2.5:_t,L=Ge(r[i]).select("svg").attr("viewBox",`0 0 ${T} ${B}`);L.selectAll("path").remove();const A=n.inactive?"var(--vis-legend-bullet-inactive-opacity)":1;u.forEach((C,S)=>{const k=L.append("path");if(s===oe.Line){const O=S*(p+y),$=O+p;k.attr("d",`M${O},${B/2} L${$},${B/2}`).attr("transform",null).style("opacity",A).style("stroke",C).style("stroke-width","3px").style("fill",null).style("fill-opacity",null).style("marker-start","none").style("marker-end","none")}else{const O=Zi().type(Lr[s]).size(p*B*Vr[s]),$=(p-2)/p;let E=B/2;switch(s){case oe.Triangle:E+=B/8;break;case oe.Star:E+=B/16;break;case oe.Wye:E-=B/16;break}const K=S*(p+y)+p/2;k.attr("d",O).attr("transform",`translate(${K}, ${Math.round(E)}) scale(${$})`).style("stroke",C).style("stroke-width","1px").style("opacity",null).style("fill",C).style("fill-opacity",A)}})})}const wa=z`
  label: bullet-legend-component;
`,jr=Xe`
  :root {
    // Undefined by default to allow proper fallback to var(--vis-font-family)
    /* --vis-legend-font-family: */

    --vis-legend-label-color: #6c778c;
    --vis-legend-label-max-width: 300px;
    --vis-legend-label-font-size: 12px;
    --vis-legend-bullet-size: 9px;
    --vis-legend-bullet-inactive-opacity: 0.15;
    --vis-legend-item-spacing: 20px;
    --vis-legend-vertical-item-spacing: 5px;
    --vis-legend-bullet-label-spacing: 8px;

    --vis-dark-legend-label-color: #eee;
  }

  body.theme-dark ${`.${wa}`} {
    --vis-legend-label-color: var(--vis-dark-legend-label-color);
  }

  body.theme-patterns {
    --vis-legend-bullet-size: 14px;
  }
`,kt=z`
  label: legendItem;
  display: inline-flex;
  align-items: center;
  font-family: var(--vis-legend-font-family, var(--vis-font-family));
  margin-right: var(--vis-legend-item-spacing);
  white-space: nowrap;
  cursor: default;
  user-select: none;
  max-width: min-content;
`,Tn=z`
  label: legendItemVertical;
  display: flex;
  margin-top: var(--vis-legend-vertical-item-spacing);
`,Bn=z`
  cursor: pointer;
`,da=z`
  label: legendItemLabel;
  font-size: var(--vis-legend-label-font-size);
  display: inline-block;
  vertical-align: middle;
  color: var(--vis-legend-label-color);
  max-width: var(--vis-legend-label-max-width);
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
`,fa=z`
  flex: 0 0 auto;
  label: legendItemBullet;
  margin-right: var(--vis-legend-bullet-label-spacing);
  height: var(--vis-legend-bullet-size);
  width: var(--vis-legend-bullet-size);

  svg {
    display: block;
  }
`,zr=Object.freeze(Object.defineProperty({__proto__:null,bullet:fa,clickable:Bn,item:kt,itemVertical:Tn,label:da,root:wa,variables:jr},Symbol.toStringTag,{value:"Module"}));class Mn{constructor(t,a){this._defaultConfig=$r,this.config=this._defaultConfig,this._colorAccessor=n=>n.color,this._container=t,this.div=a?.renderIntoProvidedDomNode?Ge(this._container):Ge(this._container).append("div"),this.div.classed(wa,!0),this.element=this.div.node(),a&&this.update(a)}update(t){this.prevConfig=this.config,this.config=Fi(this._defaultConfig,t),this.render()}render(){const{config:t}=this,a=this.div.selectAll(`.${kt}`).data(t.items),n=a.enter().append("div").on("click",this._onItemClick.bind(this)),i=n.merge(a);i.attr("class",r=>{var l;return`${kt} ${(l=r.className)!==null&&l!==void 0?l:""}`}).classed(Tn,t.orientation===Mt.Vertical).classed(Bn,r=>!!t.onLegendItemClick&&this._isItemClickable(r)).attr("title",r=>r.name).style("display",r=>r.hidden?"none":null),n.append("span").attr("class",fa).call(Rr),i.select(`.${fa}`).style("width",function(r){const s=(Array.isArray(r.color)?r.color:[r.color]).length,u=ea(getComputedStyle(this).getPropertyValue("--vis-legend-bullet-size"))||9,x=t.bulletSize?ea(t.bulletSize):u,p=t.bulletSpacing;return`${Cn(x,s,p)}px`}).style("height",t.bulletSize).style("box-sizing","content-box").call(Ir,this.config,this._colorAccessor),n.append("span").attr("class",da).classed(t.labelClassName,!0).style("max-width",t.labelMaxWidth).style("font-size",t.labelFontSize),i.select(`.${da}`).text(r=>r.name),a.exit().remove()}_isItemClickable(t){return t.pointer===void 0?!0:t.pointer}_onItemClick(t,a){const{config:{onLegendItemClick:n}}=this,r=this.div.selectAll(`.${kt}`).nodes().indexOf(t.currentTarget);n&&n(a,r)}destroy(){this.element!==this._container&&this.div.remove()}}Mn.selectors=zr;var pa;(function(e){e.Solid="solid",e.Dash="dash",e.DashDot="dashDot",e.Dot="dot",e.LongDash="longDash",e.LongDashDot="longDashDot",e.LongDashDotDot="longDashDotDot",e.ShortDash="shortDash",e.ShortDashDot="shortDashDot",e.ShortDashDotDot="shortDashDotDot",e.ShortDot="shortDot"})(pa||(pa={}));var V;(function(e){e.TopLeft="top-left",e.Top="top",e.TopRight="top-right",e.Right="right",e.BottomRight="bottom-right",e.Bottom="bottom",e.BottomLeft="bottom-left",e.Left="left"})(V||(V={}));var Ot;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(Ot||(Ot={}));var b;(function(e){e.TopLeftInside="top-left-inside",e.TopLeftOutside="top-left-outside",e.TopInside="top-inside",e.TopOutside="top-outside",e.TopRightInside="top-right-inside",e.TopRightOutside="top-right-outside",e.RightInside="right-inside",e.RightOutside="right-outside",e.BottomRightInside="bottom-right-inside",e.BottomRightOutside="bottom-right-outside",e.BottomInside="bottom-inside",e.BottomOutside="bottom-outside",e.BottomLeftInside="bottom-left-inside",e.BottomLeftOutside="bottom-left-outside",e.LeftInside="left-inside",e.LeftOutside="left-outside"})(b||(b={}));var ga;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(ga||(ga={}));const Er=Object.assign(Object.assign({},ht),{color:void 0,curveType:P.MonotoneX,baseline:()=>0,opacity:1,cursor:null,minHeight1Px:!1,minHeight:void 0}),On=z`
  label: area-component;
`,Pr=Xe`
  :root {
    --vis-area-cursor: default;
    --vis-area-fill-opacity: 1;
    --vis-area-stroke-color: none;
    --vis-area-stroke-width: 0px;
    --vis-area-stroke-dasharray: none;
    --vis-area-stroke-opacity: 1;
    --vis-area-hover-fill-opacity: none;
    --vis-area-hover-stroke-width: none;

    /* Dark Theme */
    --vis-dark-area-stroke-color: none;
  }

  body.theme-dark ${`.${On}`} {
    --vis-area-stroke-color: var(--vis-dark-area-stroke-color);
  }

`,ma=z`
  label: area;
  cursor: var(--vis-area-cursor);
  fill-opacity: var(--vis-area-fill-opacity);
  stroke-width: var(--vis-area-stroke-width);
  stroke-dasharray: var(--vis-area-stroke-dasharray);
  stroke: var(--vis-area-stroke-color);
  stroke-opacity: var(--vis-area-stroke-opacity);

  &:hover {
    fill-opacity: var(--vis-area-hover-fill-opacity);
    stroke-width: var(--vis-area-hover-stroke-width);
  }
`,Wr=Object.freeze(Object.defineProperty({__proto__:null,area:ma,globalStyles:Pr,root:On},Symbol.toStringTag,{value:"Module"}));class Vt extends dt{constructor(t){super(),this._defaultConfig=Er,this.config=this._defaultConfig,this.stacked=!0,this.events={[Vt.selectors.area]:{}},t&&this.setConfig(t),this.stacked=Array.isArray(this.config.y)}_render(t){super._render(t);const{config:a,datamodel:{data:n}}=this,i=We(t)?t:a.duration,r=sa[a.curveType];this._areaGen=ji().x(A=>A.x).y0(A=>A.y0).y1(A=>A.y1).curve(r);const l=St(a.y)?a.y:[a.y],s=n.map((A,C)=>this.xScale(ke(A,a.x,C))),u=Li(n,a.baseline,l,this._prevNegative);this._prevNegative=u.map(A=>!!A.isMostlyNegative);const x=[],p=u.map(A=>A.map((C,S)=>{var k,O;const $=s[S],E=this.yScale(C[0]),K=this.yScale(C[1]),G=K>E,R=x[S]||0,fe=G?E+R:E-R,ee=G?K+R:K-R;let ve=0;return(a.minHeight||a.minHeight1Px)&&Math.abs(ee-fe)<((k=a.minHeight)!==null&&k!==void 0?k:1)&&(ve=((O=a.minHeight)!==null&&O!==void 0?O:1)-Math.abs(ee-fe),x[S]=R+ve),{x:$,y0:fe,y1:G?ee+ve:ee-ve}})),f=p.length-1,y=p.reverse(),T=this.g.selectAll(`.${ma}`).data(y),B=T.enter().append("path").attr("class",ma).attr("d",A=>this._areaGen(A)||this._emptyPath()).style("opacity",0).style("fill",(A,C)=>Se(n,a.color,f-C)),L=J(B.merge(T),i).style("opacity",(A,C)=>A.some(k=>k.y0-k.y1!==0)?ke(n,a.opacity,f-C):0).style("fill",(A,C)=>Se(n,a.color,f-C)).style("cursor",(A,C)=>lt(n,a.cursor,f-C));i?L.attrTween("d",(C,S,k)=>{const O=Ge(k[S]).attr("d"),$=this._areaGen(C)||this._emptyPath();return kn(O,$)}):L.attr("d",A=>this._areaGen(A)||this._emptyPath()),J(T.exit(),i).style("opacity",0).remove()}getYDataExtent(t){const{config:a,datamodel:n}=this,i=St(a.y)?a.y:[a.y],r=this.xScale.domain(),l=t?$i(n.data,r,a.x,!0):n.data;return Vi(l,a.baseline,...i)}_emptyPath(){const t=this.xScale.range(),a=this.yScale.domain(),n=this.yScale((a[0]+a[1])/2),i=n;return this._areaGen([{y0:n,y1:i,x:t[0]},{y0:n,y1:i,x:t[1]}])}}Vt.selectors=Wr;const Hr={[b.TopLeftOutside]:({startX:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[b.TopLeftInside]:({startX:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[b.TopOutside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[b.TopInside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[b.TopRightOutside]:({startX:e,width:t,offsetX:a,offsetY:n})=>({x:e+t+a,y:n,textAnchor:"start",dominantBaseline:"text-before-edge"}),[b.TopRightInside]:({startX:e,width:t,offsetX:a,offsetY:n})=>({x:e+t-a,y:n,textAnchor:"end",dominantBaseline:"text-before-edge"}),[b.RightOutside]:({startX:e,width:t,height:a,offsetX:n})=>({x:e+t+n,y:a/2,textAnchor:"start",dominantBaseline:"middle"}),[b.RightInside]:({startX:e,width:t,height:a,offsetX:n})=>({x:e+t-n,y:a/2,textAnchor:"end",dominantBaseline:"middle"}),[b.BottomRightOutside]:({startX:e,width:t,height:a,offsetX:n,offsetY:i})=>({x:e+t+n,y:a-i,textAnchor:"start",dominantBaseline:"text-after-edge"}),[b.BottomRightInside]:({startX:e,width:t,height:a,offsetX:n,offsetY:i})=>({x:e+t-n,y:a-i,textAnchor:"end",dominantBaseline:"text-after-edge"}),[b.BottomOutside]:({startX:e,width:t,height:a,offsetY:n})=>({x:e+t/2,y:a-n,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[b.BottomInside]:({startX:e,width:t,height:a,offsetY:n})=>({x:e+t/2,y:a-n,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[b.BottomLeftOutside]:({startX:e,height:t,offsetX:a,offsetY:n})=>({x:e-a,y:t-n,textAnchor:"end",dominantBaseline:"text-after-edge"}),[b.BottomLeftInside]:({startX:e,height:t,offsetX:a,offsetY:n})=>({x:e+a,y:t-n,textAnchor:"start",dominantBaseline:"text-after-edge"}),[b.LeftOutside]:({startX:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"end",dominantBaseline:"middle"}),[b.LeftInside]:({startX:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"start",dominantBaseline:"middle"})},Gr={[b.TopLeftOutside]:({startX:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-after-edge"}),[b.TopLeftInside]:({startX:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[b.TopOutside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"end",dominantBaseline:"middle"}),[b.TopInside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"end",dominantBaseline:"middle"}),[b.TopRightOutside]:({startX:e,width:t,offsetX:a,offsetY:n})=>({x:e+t+a,y:n,textAnchor:"end",dominantBaseline:"text-before-edge"}),[b.TopRightInside]:({startX:e,width:t,offsetX:a,offsetY:n})=>({x:e+t-a,y:n,textAnchor:"end",dominantBaseline:"text-after-edge"}),[b.RightOutside]:({startX:e,width:t,height:a,offsetX:n})=>({x:e+t+n,y:a/2,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[b.RightInside]:({startX:e,width:t,height:a,offsetX:n})=>({x:e+t-n,y:a/2,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[b.BottomRightOutside]:({startX:e,width:t,height:a,offsetX:n,offsetY:i})=>({x:e+t+n,y:a-i,textAnchor:"start",dominantBaseline:"text-before-edge"}),[b.BottomRightInside]:({startX:e,width:t,height:a,offsetX:n,offsetY:i})=>({x:e+t-n,y:a-i,textAnchor:"start",dominantBaseline:"text-after-edge"}),[b.BottomOutside]:({startX:e,width:t,height:a,offsetY:n})=>({x:e+t/2,y:a-n,textAnchor:"start",dominantBaseline:"middle"}),[b.BottomInside]:({startX:e,width:t,height:a,offsetY:n})=>({x:e+t/2,y:a-n,textAnchor:"start",dominantBaseline:"middle"}),[b.BottomLeftOutside]:({startX:e,height:t,offsetX:a,offsetY:n})=>({x:e-a,y:t-n,textAnchor:"start",dominantBaseline:"text-after-edge"}),[b.BottomLeftInside]:({startX:e,height:t,offsetX:a,offsetY:n})=>({x:e+a,y:t-n,textAnchor:"start",dominantBaseline:"text-before-edge"}),[b.LeftOutside]:({startX:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[b.LeftInside]:({startX:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"middle",dominantBaseline:"text-before-edge"})},Yr={[b.TopLeftOutside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e-a,textAnchor:"start",dominantBaseline:"text-after-edge"}),[b.TopLeftInside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e+a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[b.TopOutside]:({startX:e,width:t,startY:a,offsetY:n})=>({x:e+t/2,y:a-n,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[b.TopInside]:({startX:e,width:t,startY:a,offsetY:n})=>({x:e+t/2,y:a+n,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[b.TopRightOutside]:({startY:e,width:t,offsetX:a,offsetY:n})=>({x:t-a,y:e-n,textAnchor:"end",dominantBaseline:"text-after-edge"}),[b.TopRightInside]:({startY:e,width:t,offsetX:a,offsetY:n})=>({x:t-a,y:e+n,textAnchor:"end",dominantBaseline:"text-before-edge"}),[b.RightOutside]:({startY:e,height:t,width:a,offsetX:n})=>({x:a-n,y:e+t/2,textAnchor:"end",dominantBaseline:"middle"}),[b.RightInside]:({startY:e,height:t,width:a,offsetX:n})=>({x:a-n,y:e+t/2,textAnchor:"end",dominantBaseline:"middle"}),[b.BottomRightOutside]:({startY:e,height:t,width:a,offsetX:n,offsetY:i})=>({x:a-n,y:e+t+i,textAnchor:"end",dominantBaseline:"text-before-edge"}),[b.BottomRightInside]:({startY:e,height:t,width:a,offsetX:n,offsetY:i})=>({x:a-n,y:e+t-i,textAnchor:"end",dominantBaseline:"text-after-edge"}),[b.BottomOutside]:({startX:e,width:t,startY:a,height:n,offsetY:i})=>({x:e+t/2,y:a+n+i,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[b.BottomInside]:({startX:e,width:t,startY:a,height:n,offsetY:i})=>({x:e+t/2,y:a+n-i,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[b.BottomLeftOutside]:({startY:e,height:t,offsetX:a,offsetY:n})=>({x:a,y:e+t+n,textAnchor:"start",dominantBaseline:"text-before-edge"}),[b.BottomLeftInside]:({startY:e,height:t,offsetX:a,offsetY:n})=>({x:a,y:e+t-n,textAnchor:"start",dominantBaseline:"text-after-edge"}),[b.LeftOutside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"start",dominantBaseline:"middle"}),[b.LeftInside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"start",dominantBaseline:"middle"})},qr={[b.TopLeftOutside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e-a,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[b.TopLeftInside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e+a,textAnchor:"end",dominantBaseline:"text-before-edge",rotation:-90}),[b.TopOutside]:({startX:e,width:t,startY:a,offsetY:n})=>({x:e+t/2,y:a-n,textAnchor:"end",dominantBaseline:"middle",rotation:-90}),[b.TopInside]:({startX:e,width:t,startY:a,offsetY:n})=>({x:e+t/2,y:a+n,textAnchor:"end",dominantBaseline:"middle",rotation:-90}),[b.TopRightOutside]:({startY:e,width:t,offsetX:a,offsetY:n})=>({x:t-a,y:e-n,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[b.TopRightInside]:({startY:e,width:t,offsetX:a,offsetY:n})=>({x:t-a,y:e+n,textAnchor:"end",dominantBaseline:"text-after-edge",rotation:-90}),[b.RightOutside]:({startY:e,height:t,width:a,offsetX:n})=>({x:a-n,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-after-edge",rotation:-90}),[b.RightInside]:({startY:e,height:t,width:a,offsetX:n})=>({x:a-n,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-after-edge",rotation:-90}),[b.BottomRightOutside]:({startY:e,height:t,width:a,offsetX:n,offsetY:i})=>({x:a-n,y:e+t+i,textAnchor:"start",dominantBaseline:"text-before-edge",rotation:-90}),[b.BottomRightInside]:({startY:e,height:t,width:a,offsetX:n,offsetY:i})=>({x:a-n,y:e+t-i,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[b.BottomOutside]:({startX:e,width:t,startY:a,height:n,offsetY:i})=>({x:e+t/2,y:a+n+i,textAnchor:"start",dominantBaseline:"middle",rotation:-90}),[b.BottomInside]:({startX:e,width:t,startY:a,height:n,offsetY:i})=>({x:e+t/2,y:a+n-i,textAnchor:"start",dominantBaseline:"middle",rotation:-90}),[b.BottomLeftOutside]:({startY:e,height:t,offsetX:a,offsetY:n})=>({x:a,y:e+t+n,textAnchor:"end",dominantBaseline:"text-before-edge",rotation:-90}),[b.BottomLeftInside]:({startY:e,height:t,offsetX:a,offsetY:n})=>({x:a,y:e+t-n,textAnchor:"start",dominantBaseline:"text-before-edge",rotation:-90}),[b.LeftOutside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-before-edge",rotation:-90}),[b.LeftInside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-before-edge",rotation:-90})},Xr=Object.assign(Object.assign({},ht),{axis:ct.Y,from:0,to:0,color:void 0,duration:300,labelPosition:b.TopLeftOutside,labelOffsetX:14,labelOffsetY:14,labelOrientation:ga.Horizontal}),Ur=Xe`
  :root {
    --vis-plotband-color: rgba(255, 255, 90, 0.2);
    --vis-plotband-label-font-size: 12px;
    --vis-plotband-label-color: #000;

    --vis-dark-plotband-color: rgba(220, 220, 90, 0.2);
    --vis-dark-plotband-label-color: #e5e9f7;
  }

  body.theme-dark {
    --vis-plotband-color: var(--vis-dark-plotband-color);
    --vis-plotband-label-color: var(--vis-dark-tooltip-text-color);
  }
`,Kr=z`
  label: plotband-component;
`,Dn=z`
  label: plotband-area;
  transition: opacity 200ms;
  cursor: var(--vis-line-cursor);
  fill: var(--vis-plotband-color);
`,Nn=z`
  label: plotline-label;

  user-select: none;
  text-anchor: middle;
  pointer-events: none;
  font-size: var(--vis-plotband-label-font-size);
  fill: var(--vis-plotband-label-color);
`,Zr=Object.freeze(Object.defineProperty({__proto__:null,globalStyles:Ur,label:Nn,plotband:Dn,root:Kr},Symbol.toStringTag,{value:"Module"}));class Fn extends dt{constructor(t){super(),this._defaultConfig=Xr,t&&this.setConfig(t),this.plotband=this.g.append("rect").attr("class",Dn),this.label=this.g.append("text").attr("class",Nn)}_render(t){super._render(t);const{config:a}=this;if(this.from=a.from,this.to=a.to,this.plotband.style("fill",a.color),this.from==null||this.to==null)return;let n=0,i=0,r=0,l=0;if(a.axis==="y"){const s=this.yScale(this.from),u=this.yScale(this.to);i=Math.min(s,u),l=Math.abs(s-u),n=0,r=this._width}else{const s=this.xScale(this.from),u=this.xScale(this.to);n=Math.min(s,u),r=Math.abs(s-u),i=0,l=this._height}if(J(this.plotband,a.duration).attr("x",n).attr("y",i).attr("width",r).attr("height",l),a.labelText){const s=this.computeLabel(a.axis,n,i,r,l,a.labelPosition,a.labelOffsetX,a.labelOffsetY,a.labelOrientation);this.label.attr("dominant-baseline",s.dominantBaseline).attr("transform",s.transform).style("text-anchor",s.textAnchor).style("fill",a.labelColor).style("font-size",a.labelSize?`${a.labelSize}px`:void 0),J(this.label,a.duration).text(a.labelText).attr("x",s.x).attr("y",s.y)}J(this.plotband.exit()).style("opacity",0).remove()}computeLabel(t,a,n,i,r,l,s,u,x){const p=x==="vertical",f=p?-90:0,y={startX:a,startY:n,width:i,height:r,offsetX:s,offsetY:u};let T;t===ct.X?T=(p?Gr:Hr)[l](y):T=(p?qr:Yr)[l](y);const{x:B,y:L,textAnchor:A,dominantBaseline:C}=T,S=f!==0?`rotate(${f}, ${B}, ${L})`:"";return{x:B,y:L,rotation:f,textAnchor:A,transform:S,dominantBaseline:C}}}Fn.selectors=Zr;const Qr={solid:"none",shortDash:"6,2",shortDot:"2,2",shortDashDot:"6,2,2,2",shortDashDotDot:"6,2,2,2,2,2",dot:"2,6",dash:"8,6",longDash:"16,6",dashDot:"8,6,2,6",longDashDot:"16,6,2,6",longDashDotDot:"16,6,2,6,2,6"},Jr={[V.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[V.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[V.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[V.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"start",dominantBaseline:"middle"}),[V.BottomRight]:({width:e,height:t,offsetX:a,offsetY:n})=>({x:e+a,y:t-n,textAnchor:"start",dominantBaseline:"text-after-edge"}),[V.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[V.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:n})=>({x:e-a,y:t-n,textAnchor:"end",dominantBaseline:"text-after-edge"}),[V.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"end",dominantBaseline:"middle"})},es={[V.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-after-edge"}),[V.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"end",dominantBaseline:"middle"}),[V.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[V.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[V.BottomRight]:({width:e,height:t,offsetX:a,offsetY:n})=>({x:e+a,y:t-n,textAnchor:"start",dominantBaseline:"text-before-edge"}),[V.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"middle"}),[V.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:n})=>({x:e-a,y:t-n,textAnchor:"start",dominantBaseline:"text-after-edge"}),[V.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"middle",dominantBaseline:"text-after-edge"})},ts={[V.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-after-edge"}),[V.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[V.TopRight]:({width:e,offsetX:t,height:a,offsetY:n})=>({x:e-t,y:a-n,textAnchor:"end",dominantBaseline:"text-after-edge"}),[V.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"middle"}),[V.BottomRight]:({width:e,offsetX:t,height:a,offsetY:n})=>({x:e-t,y:a+n,textAnchor:"end",dominantBaseline:"text-before-edge"}),[V.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[V.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[V.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"start",dominantBaseline:"middle"})},as={[V.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[V.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"start",dominantBaseline:"central"}),[V.TopRight]:({width:e,offsetX:t,height:a,offsetY:n})=>({x:e-t,y:a-n,textAnchor:"start",dominantBaseline:"text-after-edge"}),[V.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[V.BottomRight]:({width:e,offsetX:t,height:a,offsetY:n})=>({x:e-t,y:a+n,textAnchor:"end",dominantBaseline:"text-after-edge"}),[V.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"end",dominantBaseline:"central"}),[V.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[V.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"})},ns=Object.assign(Object.assign({},ht),{lineWidth:2,axis:ct.Y,value:0,duration:300,color:void 0,lineStyle:pa.Solid,labelPosition:V.TopRight,labelOffsetX:14,labelOffsetY:14,labelOrientation:Ot.Horizontal}),is=Xe`
  :root {
    --vis-plotline-color: rgb(226, 32, 58);
    --vis-plotline-width: 2;
    --vis-plotline-dasharray: none;
    --vis-plotline-stroke-dashoffset: 0;
    --vis-plotline-label-font-size: 12px;
    --vis-plotline-label-color: #000;

    --vis-dark-plotline-label-color: #e5e9f7;
  }

  body.theme-dark {
    --vis-plotline-label-color: var(--vis-dark-tooltip-text-color);
  }
`,rs=z`
  label: plotline-component;
`,Ln=z`
  label: plotline;
  transition: opacity 200ms;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke: var(--vis-plotline-color);
  stroke-width: var(--vis-plotline-width);
  stroke-dasharray: var(--vis-plotline-dasharray);
  stroke-dashoffset: var(--vis-plotline-stroke-dashoffset);
`,$n=z`
  label: plotline-label;
  text-anchor: middle;
  /* dominant-baseline: middle; */
  pointer-events: none;
  font-size: var(--vis-plotline-label-font-size);
  fill: var(--vis-plotline-label-color);
`,ss=Object.freeze(Object.defineProperty({__proto__:null,globalStyles:is,label:$n,plotline:Ln,root:rs},Symbol.toStringTag,{value:"Module"}));class Vn extends dt{constructor(t){super(),this._defaultConfig=ns,t&&this.setConfig(t),this.plotline=this.g.append("line").attr("class",Ln),this.label=this.g.append("text").attr("class",$n)}_render(t){super._render(t);const{config:a}=this;this.value=a.value;let n;typeof a?.lineStyle=="string"?n=Qr[a.lineStyle]:Array.isArray(a.lineStyle)?n=a.lineStyle.join(","):n="none",this.value=a.value,this.plotline.attr("stroke-opacity",1).style("stroke-width",a.lineWidth).style("stroke-dasharray",n).style("stroke",a.color);let i=0,r=0,l=0,s=0;if(a.axis===ct.Y?(l=this.yScale(this.value),s=this.yScale(this.value),i=0,r=this._width):(l=0,s=this._height,i=this.xScale(this.value),r=this.xScale(this.value)),J(this.plotline,a.duration).attr("x1",i).attr("x2",r).attr("y1",l).attr("y2",s),a.labelText){const u=this.computeLabel(a.axis,r,s,a.labelPosition,a.labelOffsetX,a.labelOffsetY,a.labelOrientation);this.label.text(a.labelText).attr("transform",u.transform).attr("dominant-baseline",u.dominantBaseline).style("fill",a.labelColor).style("text-anchor",u.textAnchor).style("font-size",a.labelSize?`${a.labelSize}px`:void 0),J(this.label,a.duration).attr("x",u.x).attr("y",u.y)}J(this.plotline.exit()).style("opacity",0).remove()}computeLabel(t,a,n,i,r,l,s){const u=s===Ot.Vertical,x=u?-90:0;let p;t===ct.X?p=(u?es:Jr)[i]({width:a,height:n,offsetX:r,offsetY:l}):p=(u?as:ts)[i]({width:a,height:n,offsetX:r,offsetY:l});const f=x?`rotate(${x}, ${p.x}, ${p.y})`:"";return Object.assign(Object.assign({},p),{rotation:x,transform:f})}}Vn.selectors=ss;const os={"data-vis-component":""},yt=Ae({__name:"index",props:{color:{},curveType:{},baseline:{},opacity:{},cursor:{},minHeight1Px:{type:Boolean},minHeight:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=ut(ft),n=e,i=_(()=>a.data.value??n.data),r=Ue(n),l=I();return Ve(()=>{Re(()=>{var s;l.value=new Vt(r.value),(s=l.value)==null||s.setData(i.value),a.update(l.value)})}),qe(()=>{var s;(s=l.value)==null||s.destroy(),a.destroy()}),le(r,(s,u)=>{var x;Ke(s,u)||(x=l.value)==null||x.setConfig(r.value)}),le(i,()=>{var s;(s=l.value)==null||s.setData(i.value)}),t({component:l}),(s,u)=>(N(),W("div",os))}}),ls={"data-vis-component":""},cs=Ae({__name:"index",props:{color:{},groupWidth:{},groupMaxWidth:{},dataStep:{},groupPadding:{},barPadding:{},roundedCorners:{type:[Number,Boolean]},barMinHeight:{},cursor:{},orientation:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=ut(ft),n=e,i=_(()=>a.data.value??n.data),r=Ue(n),l=I();return Ve(()=>{Re(()=>{var s;l.value=new An(r.value),(s=l.value)==null||s.setData(i.value),a.update(l.value)})}),qe(()=>{var s;(s=l.value)==null||s.destroy(),a.destroy()}),le(r,(s,u)=>{var x;Ke(s,u)||(x=l.value)==null||x.setConfig(r.value)}),le(i,()=>{var s;(s=l.value)==null||s.setData(i.value)}),t({component:l}),(s,u)=>(N(),W("div",ls))}}),us={"data-vis-component":""},Ka=Ae({__name:"index",props:{color:{},curveType:{},lineWidth:{},lineDashArray:{},fallbackValue:{},highlightOnHover:{type:Boolean},cursor:{},interpolateMissingData:{type:Boolean},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=ut(ft),n=e,i=_(()=>a.data.value??n.data),r=Ue(n),l=I();return Ve(()=>{Re(()=>{var s;l.value=new $t(r.value),(s=l.value)==null||s.setData(i.value),a.update(l.value)})}),qe(()=>{var s;(s=l.value)==null||s.destroy(),a.destroy()}),le(r,(s,u)=>{var x;Ke(s,u)||(x=l.value)==null||x.setConfig(r.value)}),le(i,()=>{var s;(s=l.value)==null||s.setData(i.value)}),t({component:l}),(s,u)=>(N(),W("div",us))}}),hs={"data-vis-component":""},Jt=Ae({__name:"index",props:{color:{},axis:{},from:{},to:{},duration:{},labelText:{},labelPosition:{},labelOffsetX:{},labelOffsetY:{},labelOrientation:{},labelColor:{},labelSize:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=ut(ft),n=Ue(e),i=I();return Ve(()=>{Re(()=>{i.value=new Fn(n.value),a.update(i.value)})}),qe(()=>{var r;(r=i.value)==null||r.destroy(),a.destroy()}),le(n,(r,l)=>{var s;Ke(r,l)||(s=i.value)==null||s.setConfig(n.value)}),t({component:i}),(r,l)=>(N(),W("div",hs))}}),ds={"data-vis-component":""},xt=Ae({__name:"index",props:{color:{},lineWidth:{},axis:{},value:{},duration:{},lineStyle:{},labelText:{},labelPosition:{},labelOffsetX:{},labelOffsetY:{},labelOrientation:{},labelColor:{},labelSize:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=ut(ft),n=Ue(e),i=I();return Ve(()=>{Re(()=>{i.value=new Vn(n.value),a.update(i.value)})}),qe(()=>{var r;(r=i.value)==null||r.destroy(),a.destroy()}),le(n,(r,l)=>{var s;Ke(r,l)||(s=i.value)==null||s.setConfig(n.value)}),t({component:i}),(r,l)=>(N(),W("div",ds))}}),fs=Ae({__name:"index",props:{items:{},labelClassName:{},onLegendItemClick:{type:Function},labelFontSize:{},labelMaxWidth:{},bulletSize:{},bulletSpacing:{},bulletShape:{},orientation:{},renderIntoProvidedDomNode:{type:Boolean},data:{}},setup(e,{expose:t}){const a=e;_(()=>a.data);const n=Ue(a),i=I(),r=I();return Ve(()=>{Re(()=>{r.value&&(i.value=new Mn(r.value,{...n.value,renderIntoProvidedDomNode:!0}))})}),qe(()=>{var l;(l=i.value)==null||l.destroy()}),le(n,(l,s)=>{var u;Ke(l,s)||(u=i.value)==null||u.update(n.value)}),t({component:i}),(l,s)=>(N(),W("div",{"data-vis-bullet-legend":"",ref_key:"elRef",ref:r},null,512))}});var ps=typeof global=="object"&&global&&global.Object===Object&&global,gs=typeof self=="object"&&self&&self.Object===Object&&self,ms=ps||gs||Function("return this")(),Ye=ms.Symbol,Rn=Object.prototype,vs=Rn.hasOwnProperty,_s=Rn.toString,tt=Ye?Ye.toStringTag:void 0;function ys(e){var t=vs.call(e,tt),a=e[tt];try{e[tt]=void 0;var n=!0}catch{}var i=_s.call(e);return n&&(t?e[tt]=a:delete e[tt]),i}var xs=Object.prototype,bs=xs.toString;function ks(e){return bs.call(e)}var Ss="[object Null]",ws="[object Undefined]",Za=Ye?Ye.toStringTag:void 0;function As(e){return e==null?e===void 0?ws:Ss:Za&&Za in Object(e)?ys(e):ks(e)}function Cs(e){return e!=null&&typeof e=="object"}var Ts="[object Symbol]";function Bs(e){return typeof e=="symbol"||Cs(e)&&As(e)==Ts}function Ms(e,t){for(var a=-1,n=e==null?0:e.length,i=Array(n);++a<n;)i[a]=t(e[a],a,e);return i}var Os=Array.isArray,Qa=Ye?Ye.prototype:void 0,Ja=Qa?Qa.toString:void 0;function In(e){if(typeof e=="string")return e;if(Os(e))return Ms(e,In)+"";if(Bs(e))return Ja?Ja.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function jn(e){return e==null?"":In(e)}function Ds(e,t,a){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),a=a>i?i:a,a<0&&(a+=i),i=t>a?0:a-t>>>0,t>>>=0;for(var r=Array(i);++n<i;)r[n]=e[n+t];return r}function Ns(e,t,a){var n=e.length;return a=a===void 0?n:a,!t&&a>=n?e:Ds(e,t,a)}var Fs="\\ud800-\\udfff",Ls="\\u0300-\\u036f",$s="\\ufe20-\\ufe2f",Vs="\\u20d0-\\u20ff",Rs=Ls+$s+Vs,Is="\\ufe0e\\ufe0f",js="\\u200d",zs=RegExp("["+js+Fs+Rs+Is+"]");function zn(e){return zs.test(e)}function Es(e){return e.split("")}var En="\\ud800-\\udfff",Ps="\\u0300-\\u036f",Ws="\\ufe20-\\ufe2f",Hs="\\u20d0-\\u20ff",Gs=Ps+Ws+Hs,Ys="\\ufe0e\\ufe0f",qs="["+En+"]",va="["+Gs+"]",_a="\\ud83c[\\udffb-\\udfff]",Xs="(?:"+va+"|"+_a+")",Pn="[^"+En+"]",Wn="(?:\\ud83c[\\udde6-\\uddff]){2}",Hn="[\\ud800-\\udbff][\\udc00-\\udfff]",Us="\\u200d",Gn=Xs+"?",Yn="["+Ys+"]?",Ks="(?:"+Us+"(?:"+[Pn,Wn,Hn].join("|")+")"+Yn+Gn+")*",Zs=Yn+Gn+Ks,Qs="(?:"+[Pn+va+"?",va,Wn,Hn,qs].join("|")+")",Js=RegExp(_a+"(?="+_a+")|"+Qs+Zs,"g");function eo(e){return e.match(Js)||[]}function to(e){return zn(e)?eo(e):Es(e)}function ao(e){return function(t){t=jn(t);var a=zn(t)?to(t):void 0,n=a?a[0]:t.charAt(0),i=a?Ns(a,1).join(""):t.slice(1);return n[e]()+i}}var no=ao("toUpperCase");function en(e){return no(jn(e).toLowerCase())}const io={key:1,class:"mx-1.5 flex flex-wrap gap-0 gap-y-1"},ro=Ae({__name:"ForestryChartDisplay",props:{selectedFrameworks:{default:()=>[]},selectedArtkategori:{},chartType:{},currentTimeValue:{},singleFrameworkSelection:{type:Boolean,default:!1},frameworkComparisonMode:{type:Boolean,default:!1},selectedStartskog:{},redColor:{type:Boolean,default:!1},yellowColor:{type:Boolean,default:!1},maxYValue:{},matsvampVariant:{default:"standard"},relativeChart:{type:Boolean,default:!1}},async setup(e){let t,a;const n={matsvamp:"Alla matsvampar","goda matsvampar":"Goda matsvampar","rdlistade + signalarter":"Signal + rdlistade",atheliales:"Atheliales",boletales:"Boletales",cantharellales:"Cantharellales",spindlingar:"Cortinariaceae",russulales:"Russulales",thelephorales:"Thelephorales",ascomycota:"Ascomyceter",vriga:"vriga"},i={trakthygge:"trakthygge",bldning:"bldning",luckhuggning:"luckhuggning",skrm:"skrmtrd",skarm:"skrmtrd","ingen tgrd":"naturskydd"};function r(o){const c=(o||"").trim().toLowerCase();return c?i[c]||c:""}function l(o){return typeof o=="string"?o:typeof o=="number"?String(o):""}function s(o){if(typeof o=="number")return o;if(typeof o=="string"){const c=o.replace(",","."),g=Number(c);return Number.isFinite(g)?g:NaN}return NaN}const{data:u}=([t,a]=at(()=>nt("skogsbruk-svampar",()=>it("skogsbrukSvampar").first())),t=await t,a(),t);function x(o){return o?Array.isArray(o)?o:Array.isArray(o?.entries)?o.entries:Array.isArray(o?.body)?o.body:Array.isArray(o?.data)?o.data:[]:[]}const p=_(()=>x(u.value)),f=_(()=>{const o={};for(const c of p.value){const g=r(String(c?.metod??"")),d=l(c?.startskog),h=s(c?.lder);if(!(!Number.isFinite(h)||!g))for(const[v,M]of Object.entries(n)){const D=s(c?.[M]);Number.isFinite(D)&&(o[v]||(o[v]=[]),o[v].push({artkategori:v,startskog:d,frameworks:g,lder:h,klassning:D}))}}return Object.values(o).forEach(c=>c.sort((g,d)=>g.lder-d.lder)),o}),{data:y}=([t,a]=at(()=>nt("kg-matsvamp-skogsbruk",()=>it("kgMatsvampSkogsbruk").first())),t=await t,a(),t),{data:T}=([t,a]=at(()=>nt("total-svampar-skogsbruk",()=>it("totalSvamparSkogsbruk").first())),t=await t,a(),t),B=_(()=>f.value.matsvamp??[]),L=_(()=>f.value["goda matsvampar"]??[]),A=_(()=>Array.isArray(y.value?.entries)?y.value.entries:[]),C=_(()=>f.value["rdlistade + signalarter"]??[]),S=_(()=>C.value),k=_(()=>f.value.atheliales??[]),O=_(()=>f.value.boletales??[]),$=_(()=>f.value.cantharellales??[]),E=_(()=>f.value.spindlingar??[]),K=_(()=>f.value.russulales??[]),G=_(()=>f.value.ascomycota??[]),R=_(()=>f.value.thelephorales??[]),fe=_(()=>f.value.vriga??[]),ee=_(()=>Array.isArray(T.value?.entries)?T.value.entries:[]),{data:ve}=([t,a]=at(()=>nt("svampgrupper-relative-skogsbruk",()=>it("svampgrupperRelativeSkogsbruk").first())),t=await t,a(),t),Ie=["atheliales","boletales","cantharellales","spindlingar","russulales","thelephorales","ascomycota","vriga"],_e=_(()=>{const o=Array.isArray(ve.value?.entries)?ve.value.entries:[],c=new Map;for(const d of o){if(!d)continue;const h=Number(d?.lder);if(!Number.isFinite(h))continue;const v=c.get(h)||{age:h};if(typeof d.artkategori=="string"&&d.klassning!==void 0){const M=Ba(d.artkategori),D=Number(d.klassning);M&&Number.isFinite(D)&&(v[M]=D)}else for(const M of Ie){const D=n[M],ne=d?.[D];if(ne==null)continue;const F=Number(ne);Number.isFinite(F)&&(v[M]=F)}c.set(h,v)}return Array.from(c.values()).map(d=>{for(const h of Ie)Number.isFinite(Number(d[h]))||(d[h]=0);return d}).sort((d,h)=>Number(d.age)-Number(h.age))}),Ze=_(()=>{const o=Number(m.maxYValue);if(jt.value){if(Number.isFinite(o))return[0,o*2];const c=Array.isArray(te.value)?te.value:[];let g=0;for(const d of c){const h=H.value[0]||(m.selectedArtkategori[0]?.toLowerCase()??"");if(!h)continue;const v=Number(d?.[h]);Number.isFinite(v)&&v>g&&(g=v)}return[0,g*2||1]}return Number.isFinite(o)?[0,o]:void 0}),te=_(()=>m.relativeChart?_e.value:m.chartType==="bar"?et.value:m.singleFrameworkSelection&&m.frameworkComparisonMode?ni.value:ti.value),Ce=_(()=>{const c=(m.relativeChart?_e.value:te.value).map(d=>Number(d?.age)).filter(d=>Number.isFinite(d));return c.length?[m.relativeChart?Math.max(0,Math.min(...c)):Math.min(...c),Math.max(...c)]:[0,1]}),pt=_(()=>{const o=_e.value.map(h=>Number(h?.age)).filter(h=>Number.isFinite(h));if(!o.length)return[0,50,100,150,200];const c=Math.max(...o);if(c<=80)return[0,20,50,80];const g=[0],d=50;for(let h=d;h<=c;h+=d)g.push(h);return g[g.length-1]!==c&&g.push(c),g}),Rt=_(()=>m.relativeChart?pt.value:[0,10,20,30,40,50,60,70,80,90]),It=o=>m.relativeChart?o===0?"0 r":pt.value.includes(o)?`${o} r`:"":o===0?"Avverkning":o===10?"":o===20?(re.value,"20 r"):o===30||o===40?"":o===50?(re.value,"50 r"):o===60||o===70?"":o===80?(re.value,"80 r"):"";_(()=>[(m.selectedFrameworks||[]).join(","),m.selectedStartskog||"",m.chartType||"",m.singleFrameworkSelection?"S":"M",m.currentTimeValue||""].join("|"));const je=_(()=>Array.isArray(te.value)&&te.value.length>0),H=_(()=>{if(!m.singleFrameworkSelection)return[];if(m.frameworkComparisonMode){const d=m.selectedArtkategori?.[0];return d?[d.toLowerCase()]:[]}const o=(m.selectedArtkategori||[]).map(d=>(d||"").toLowerCase()).filter(d=>!ye.value.has(d)),c=gt.filter(d=>o.includes(d)),g=o.filter(d=>!gt.includes(d));return c.concat(g)}),Te={left:10,right:10,top:10,bottom:10},ce=I(null),ze=I(!1);let w=null;const j=Ia({width:0,height:0}),re=I(!1);function Qe(){if(!ce.value){j.width=0,j.height=0;return}const o=ce.value.getBoundingClientRect();j.width=o.width,j.height=o.height,Je()}function Je(){typeof window>"u"||(re.value=window.innerWidth<=640)}Ve(async()=>{await Re(),ze.value=!0,Qe(),Je(),requestAnimationFrame(()=>{Qe()}),typeof window<"u"&&"ResizeObserver"in window&&(w=new ResizeObserver(()=>{Qe()}),ce.value&&w.observe(ce.value))}),fi(()=>{w&&(w.disconnect(),w=null)});const ye=I(new Set),de=I(new Set),ae=_(()=>m.frameworkComparisonMode||m.singleFrameworkSelection),m=e,Be=_(()=>m.matsvampVariant==="goda"?"goda":m.matsvampVariant==="kg"?"kg":"standard"),qn=_(()=>Be.value==="goda"?"goda matsvampar":Be.value==="kg"?"kg matsvamp":"matsvamp"),jt=_(()=>(m.selectedArtkategori||[]).map(c=>(c||"").toLowerCase()).includes("matsvamp")&&Be.value==="kg"),zt=o=>o,Xn=o=>c=>{if(!jt.value)return NaN;const g=Number(c?.[o]);return Number.isFinite(g)?g*2:NaN},Aa=(o,c)=>{const g=Number(o?.[c]);return Number.isFinite(g)?zt(g):NaN},Un=(o,c)=>{const g=Number(o?.[c]);return Number.isFinite(g)?zt(g):NaN},Ca=(o,c,g)=>{const d=c+"__compare",h=Number(o?.[d]?.[g]);return Number.isFinite(h)?zt(h):NaN};function Ee(o,c=1){const g=o.replace("#",""),d=g.length===3?g.split("").map(ne=>ne+ne).join(""):g,h=parseInt(d,16),v=h>>16&255,M=h>>8&255,D=h&255;return`rgba(${v}, ${M}, ${D}, ${c})`}_(()=>{const o={fre:-5,efter:1,10:10,20:20,50:50,80:80};return[m.currentTimeValue?o[m.currentTimeValue]??Ce.value[0]:Ce.value[0],Ce.value[1]]});const xe=_(()=>{const o=m.currentTimeValue;if(!o)return null;const c={fre:-5,efter:1,10:10,20:20,50:50,80:80};if(o in c)return c[o];const g=Number(o);return Number.isFinite(g)?g:null});_(()=>{const o=(m.selectedFrameworks||[]).map(g=>g.toLowerCase()).join(","),c=(m.selectedArtkategori||[]).map(g=>g.toLowerCase()).join(",");return`${o}|${c}|${m.currentTimeValue||""}`});const Et={atheliales:"#8B5CF6",boletales:"#EC4899",cantharellales:"#eab308",spindlingar:"#F97316",russulales:"#22C55E",ascomycota:"#DC2626",vriga:"#94A3B8",thelephorales:"#0EA5E9",matsvamp:"#eab308","goda matsvampar":"#eab308","kg matsvamp":"#eab308","rdlistade + signalarter":"#14b8a6",total:"#64748b"},gt=["atheliales","ascomycota","vriga","spindlingar","russulales","boletales","cantharellales","thelephorales","matsvamp","goda matsvampar","rdlistade + signalarter","total"],Kn={atheliales:"Skinnsvampar",boletales:"Soppar",cantharellales:"Kantarellslktingar",spindlingar:"Spindelskivlingar",russulales:"Kremlor & riskor",ascomycota:"Sporsckssvampar",vriga:"vriga",thelephorales:"Tagg- och tomentelloida svampar",matsvamp:"Alla matsvampar","goda matsvampar":"Goda matsvampar","rdlistade + signalarter":"Naturvrdssvampar",total:"Total"},Zn={atheliales:"/images/svampgrupp/skinnsvamp.png",boletales:"/images/svampgrupp/sopp.png",cantharellales:"/images/svampgrupp/kantarell.png",spindlingar:"/images/svampgrupp/hattsvamp.png",russulales:"/images/svampgrupp/hattsvamp.png",thelephorales:"/images/svampgrupp/taggsvamp.png",ascomycota:"/images/svampgrupp/skalsvamp.png",vriga:"/images/svampgrupp/ovrigt.png"},Qn={trakthygge:[{age:0,text:"Avverkning"}],luckhuggning:[{age:0,text:"Avverkning 3 luckor"},{age:30,text:"Avverkning 3 luckor"},{age:60,text:"Avverkning 3 luckor"},{age:90,text:"Avverkning 3 luckor"}],bldning:[{age:0,text:"Avverkning 30% av trden"},{age:30,text:"Avverkning 30% av trden"},{age:60,text:"Avverkning 30% av trden"},{age:90,text:"Avverkning 30% av trden"}],skrmtrd:[{age:0,text:"Frberedande avverkning"},{age:10,text:"Frtrdsstllning"},{age:20,text:"Avverkning av frtrden"}]},Ta=_(()=>(m.selectedArtkategori||[]).map(o=>(o||"").toLowerCase()));function Ba(o){const c=(o||"").toLowerCase();return c==="kg matsvampar"?"kg matsvamp":c==="cortinariaceae"?"spindlingar":c==="ascomyceter"?"ascomycota":c==="ovriga"||c==="vrigt"||c==="ovrigt"?"vriga":c}function mt(o){if(!o)return Et.total;const c=Ba(o);return Et[c]||Et.total}const Jn=_(()=>m.singleFrameworkSelection&&!m.frameworkComparisonMode?H.value[0]||Ta.value[0]||"total":Ta.value[0]||"total"),vt=_(()=>mt(Jn.value)),ei=o=>o==="matsvamp"&&Be.value==="goda"?"Goda matsvampar":o==="matsvamp"&&Be.value==="kg"?"Kg matsvampar":Kn[o]||en(o);function Pt(o){const c=o.toLowerCase();return c==="naturskydd"?"Ingen tgrd":c==="trakthygge"?"Trakhyggesbruk":c==="skrmtrd"?"verhllen skrm":en(o)}const Me=["naturskydd","trakthygge","skrmtrd","luckhuggning","bldning"],Wt=_(()=>(m.selectedFrameworks||[]).map(o=>o.toLowerCase())),Ht=_(()=>Wt.value.filter(o=>Me.includes(o)&&!de.value.has(o))),Gt=_(()=>{const o={};for(const c of Wt.value){const g=Na(c).map(d=>({age:Number(d.age),value:Number(d.klassning)})).filter(d=>Number.isFinite(d.age)&&Number.isFinite(d.value)).sort((d,h)=>d.age-h.age);o[c]=g}return o}),Ma=_(()=>{const o=Object.values(Gt.value);if(!o.length)return[];let c=1/0,g=-1/0;const d=new Set;for(const h of o)for(const v of h){const M=Number(v.age);Number.isFinite(M)&&(d.add(M),M<c&&(c=M),M>g&&(g=M))}if(!Number.isFinite(c)||!Number.isFinite(g))return[];for(let h=Math.floor(c);h<=Math.ceil(g)+1e-9;h+=1)d.add(Number(h.toFixed(6)));return Array.from(d).sort((h,v)=>h-v)});function Yt(o,c){const g=o.findIndex(v=>v.age===c);if(g!==-1)return o[g].value;let d=-1,h=-1;for(let v=0;v<o.length;v++)if(o[v].age<c&&(d=v),o[v].age>c){h=v;break}if(d!==-1&&h!==-1){const v=o[d],M=o[h],D=(c-v.age)/(M.age-v.age);return v.value+D*(M.value-v.value)}}const ti=_(()=>{const o=[];for(const c of Ma.value){const g={age:c};if(m.singleFrameworkSelection&&!m.frameworkComparisonMode){const d=H.value.length?H.value:(m.selectedArtkategori||[]).map(v=>(v||"").toLowerCase()).filter(Boolean),h=ai.value;for(const v of d){const M=h[v]||[],D=Yt(M,c);typeof D=="number"&&Number.isFinite(D)&&(g[v]=D)}}else for(const d of Ht.value){const h=Gt.value[d]||[],v=Yt(h,c);typeof v=="number"&&Number.isFinite(v)&&(g[d]=v)}o.push(g)}return o}),ai=_(()=>{if(!(m.singleFrameworkSelection&&!m.frameworkComparisonMode))return{};const o={},c=H.value.length?H.value:(m.selectedArtkategori||[]).map(d=>(d||"").toLowerCase()).filter(Boolean),g=Array.isArray(et.value)?et.value:[];for(const d of g){const h=Number(d?.age);if(Number.isFinite(h))for(const v of c){const M=Number(d?.[v]);Number.isFinite(M)&&(o[v]=o[v]||[]).push({age:h,value:M})}}for(const d of Object.keys(o))o[d].sort((h,v)=>h.age-v.age);return o}),qt=_(()=>H.value[0]||m.selectedArtkategori?.[0]?.toLowerCase()||""),ni=_(()=>{if(!(m.singleFrameworkSelection&&m.frameworkComparisonMode&&m.chartType==="area"))return[];const o=qt.value;if(!o)return[];const c=de.value,g=Me.filter(h=>m.selectedFrameworks.map(v=>v.toLowerCase()).includes(h)&&!c.has(h)),d=[];for(const h of Ma.value){const v={age:h};let M=!1;for(const D of g){const ne=Gt.value[D]||[],F=Yt(ne,h);if(typeof F=="number"&&Number.isFinite(F)){const X=D+"__compare",ie=v[X]||{};ie[o]=F,v[X]=ie,M=!0}}M&&d.push(v)}return d});_(()=>{const o={},c=Array.isArray(et.value)?et.value:[];for(const g of Ht.value)o[g]=c.filter(d=>Number.isFinite(Number(d?.age))&&Number.isFinite(Number(d?.[g]))).map(d=>({age:Number(d.age),value:Number(d[g]),__row:d})).sort((d,h)=>d.age-h.age);return o});const Oe=_(()=>{if(m.singleFrameworkSelection){if(m.frameworkComparisonMode){const F=Me.filter(Q=>m.selectedFrameworks.map(Xt=>Xt.toLowerCase()).includes(Q)),X=vt.value,ie=.5;return F.map((Q,Xt)=>{const Ra=Pt(Q),hi=de.value.has(Q),Ut=Xt===1?"#c3a283":X;return{key:Q,name:Ra,label:Ra,color:Ut,colorArea:Ee(Ut,ie),colorLine:Ut,inactive:hi}})}const d=(m.selectedArtkategori||[]).map(F=>(F||"").toLowerCase()).filter(Boolean),h=d.length?d:H.value.concat(Array.from(ye.value)),v=new Set(h),M=gt.filter(F=>v.has(F)),D=Array.from(v).filter(F=>!gt.includes(F)).sort();return M.concat(D).map(F=>{const X=mt(F),ie=ei(F);return{key:F,name:ie,label:ie,color:X,colorArea:Ee(X,.5),colorLine:X,inactive:ye.value.has(F),icon:Zn[F]}})}const o=Me.filter(d=>m.selectedFrameworks.map(h=>h.toLowerCase()).includes(d)),c=vt.value,g=.5;return o.map((d,h)=>{const v=Pt(d),M=de.value.has(d),D=h===1?"#c3a283":c;return{key:d,name:v,label:v,color:D,colorArea:Ee(D,g),colorLine:D,inactive:M}})}),se=_(()=>m.singleFrameworkSelection&&!m.frameworkComparisonMode?[]:Oe.value.filter(o=>!o.inactive));b.TopOutside;const ii=_(()=>{if(m.singleFrameworkSelection){if(m.frameworkComparisonMode)return se.value.map(c=>c.key);const o=(m.selectedFrameworks||[]).map(c=>(c||"").toLowerCase()).filter(c=>Me.includes(c)).filter(c=>!de.value.has(c));return o.length?o:Ht.value}return se.value.map(o=>o.key)});function Oa(o){return o==="total"?ee.value:o==="matsvamp"?Be.value==="goda"?L.value:Be.value==="kg"?A.value:B.value:o==="goda matsvampar"?L.value:o==="rdlistade + signalarter"?S.value:o==="atheliales"?k.value:o==="boletales"?O.value:o==="cantharellales"?$.value:o==="spindlingar"?E.value:o==="russulales"?K.value:o==="ascomycota"?G.value:o==="thelephorales"?R.value:o==="vriga"?fe.value:[]}function Da(o){const c=o.toLowerCase();return c==="matsvamp"?qn.value:c}function Na(o){const c=m.selectedArtkategori.map(h=>h.toLowerCase()),g=m.selectedStartskog?m.selectedStartskog.toLowerCase():null,d=[];return c.forEach(h=>{const v=Da(h);(Oa(h)||[]).forEach(D=>{D.artkategori?.toLowerCase()===v&&D.frameworks?.toLowerCase()===o.toLowerCase()&&(g&&(D.startskog?.toLowerCase()??g)!==g||d.push({age:D.lder,klassning:+D.klassning}))})}),d}const et=_(()=>{if(m.relativeChart)return _e.value;const o=new Map;if(m.singleFrameworkSelection){const c=m.frameworkComparisonMode?(m.selectedFrameworks||[]).map(g=>g.toLowerCase()).slice(0,2):[m.selectedFrameworks[0]?.toLowerCase()].filter(Boolean);m.selectedArtkategori.forEach(g=>{const d=g.toLowerCase(),h=Oa(d),v=m.selectedStartskog?m.selectedStartskog.toLowerCase():null,M=Da(d);c.forEach(D=>{(h||[]).filter(F=>{const X=F.artkategori?.toLowerCase()===M,ie=F.frameworks?.toLowerCase()===D,Q=!v||(F.startskog?.toLowerCase()??v)===v;return X&&ie&&Q}).map(F=>({age:F.lder,klassning:+F.klassning})).forEach(F=>{const X=o.get(F.age)||{age:F.age};if(m.frameworkComparisonMode){const ie=`${D}__compare`,Q=X[ie]||{};Q[d]=F.klassning,X[ie]=Q}else X[d]=F.klassning;o.set(F.age,X)})})})}else Wt.value.forEach(c=>{Na(c).forEach(d=>{const h=o.get(d.age)||{age:d.age};h[c]=d.klassning,o.set(d.age,h)})});return Array.from(o.values()).sort((c,g)=>c.age-g.age)}),De=o=>{const c=Number(o?.age);return Number.isFinite(c)?c:void 0},ri=_(()=>{if(m.singleFrameworkSelection){if(m.frameworkComparisonMode){const c=H.value[0]||m.selectedArtkategori[0]?.toLowerCase();return se.value.map(g=>{const d=g.key;return h=>{const M=h?.[`${d}__compare`]?.[c];return Number.isFinite(Number(M))?Number(M):NaN}})}return(H.value.length?H.value:m.selectedArtkategori.map(c=>c.toLowerCase())).filter(c=>!ye.value.has(c)).map(c=>g=>g[c])}return se.value.map(o=>c=>c[o.key])}),si=_(()=>m.singleFrameworkSelection?m.frameworkComparisonMode?se.value.map(c=>Ee(c.colorLine||c.color,.7)||"#000000"):(H.value.length?H.value:m.selectedArtkategori.map(c=>c.toLowerCase())).filter(c=>!ye.value.has(c)).map(c=>mt(c)):se.value.map(o=>o.color||"#000000"));function Fa(o){const c=(o.key||o.name||"").toLowerCase();if(c)if(m.singleFrameworkSelection)if(m.frameworkComparisonMode){const g=new Set(de.value);g.has(c)?g.delete(c):g.add(c),de.value=g}else{const g=new Set(ye.value);g.has(c)?g.delete(c):g.add(c),ye.value=g}else{const g=Me.find(h=>h===c)||Me.find(h=>Pt(h).toLowerCase()===c);if(!g)return;const d=new Set(de.value);d.has(g)?d.delete(g):d.add(g),de.value=d}}const oi=_(()=>!m.singleFrameworkSelection||m.frameworkComparisonMode?[]:H.value.map(o=>c=>Un(c,o))),li=_(()=>!m.singleFrameworkSelection||m.frameworkComparisonMode?[]:H.value.map(o=>mt(o))),La=Ia({age:0});function ci(o){return o?Object.keys(o).filter(g=>g!=="age"&&g!=="__markerY").some(g=>{const d=o[g];return d&&typeof d=="object"?Object.values(d).some(h=>Number.isFinite(Number(h))):Number.isFinite(Number(d))}):!1}const $a=_(()=>m.singleFrameworkSelection?m.frameworkComparisonMode?se.value.length:H.value.length:se.value.length),Pe=_(()=>$a.value>0),Va=_(()=>{const o=te.value;return $a.value?o.filter(c=>ci(c)):m.frameworkComparisonMode&&m.singleFrameworkSelection&&o.length?o.map(c=>{const g={age:c.age};for(const d of m.selectedFrameworks||[]){const h=d.toLowerCase();g[`${h}__compare`]={[H.value[0]||m.selectedArtkategori[0]?.toLowerCase()||""]:NaN}}return g}):o.length?o:[La]}),ui=_(()=>{if(!je.value)return[];const o=ii.value;if(!o.length)return[];const[c,g]=Ce.value;if(!Number.isFinite(c)||!Number.isFinite(g)||c===g)return[];const d=[],h=M=>{const D=Oe.value.find(F=>F.key===M);return D?.colorLine||D?.colorArea||D?.color||vt.value||"#64748b"},v=M=>{const D=Oe.value.find(ne=>ne.key===M);return D?.colorLine||D?.color||vt.value||"#1f2937"};return o.forEach(M=>{const D=Qn[M];if(!D?.length)return;const ne=h(M),F=v(M);D.forEach((X,ie)=>{const Q=Number(X.age);Number.isFinite(Q)&&(Q<c||Q>g||d.push({id:`${M}-${Q}-${ie}`,value:Q,color:ne,labelText:X.text,labelColor:F}))})}),d});return(o,c)=>{const g=tn,d=pi;return N(),W("div",{class:"custom-area",ref_key:"rootEl",ref:ce},[be(d,null,{default:Le(()=>[ze.value&&je.value&&ae.value&&Oe.value.length&&!(m.singleFrameworkSelection&&!m.frameworkComparisonMode)?(N(),q(Y(fs),{key:0,items:Oe.value,onLegendItemClick:Fa,class:"mx-2 flex flex-wrap gap-2"},null,8,["items"])):U("",!0),ze.value&&je.value&&Oe.value.length&&m.singleFrameworkSelection&&!m.frameworkComparisonMode?(N(),W("div",io,[(N(!0),W(pe,null,Ne(Oe.value,h=>(N(),q(g,{key:h.key,type:"button",variant:"ghost",color:"neutral",size:"sm",class:"flex items-center px-2 py-1 gap-2 hover:opacity-95 transition ring-muted/50",onClick:v=>Fa(h)},{default:Le(()=>[h.icon?(N(),W("div",{key:0,class:"h-5 w-5",style:ja({backgroundColor:h.color||h.colorLine||h.colorArea||"#000",WebkitMask:`url(${h.icon}) center / contain no-repeat`,mask:`url(${h.icon}) center / contain no-repeat`,opacity:h.inactive?.2:1})},null,4)):U("",!0),ge("span",{style:ja({opacity:h.inactive?.2:1})},rt(h.label),5)]),_:2},1032,["onClick"]))),128))])):U("",!0),ze.value&&je.value?(N(),q(Y(Ri),{key:2,data:Va.value.length?Va.value:[La],height:200,margin:Te,xDomain:Ce.value,yDomain:Ze.value},{default:Le(()=>[m.chartType==="area"&&m.singleFrameworkSelection&&!m.frameworkComparisonMode?(N(),W(pe,{key:0},[be(Y(yt),{x:De,y:oi.value,color:li.value,interpolateMissingData:!0},null,8,["y","color"]),Pe.value&&xe.value!==null?(N(),q(Y(Jt),{key:0,axis:"x",from:-7,to:xe.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):U("",!0),Pe.value?(N(),q(Y(xt),{key:1,value:xe.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):U("",!0)],64)):m.chartType==="area"&&m.singleFrameworkSelection&&m.frameworkComparisonMode?(N(),W(pe,{key:1},[(N(!0),W(pe,null,Ne(se.value,h=>(N(),q(Y(yt),{x:De,y:v=>Ca(v,h.key,qt.value),color:()=>h.colorArea||h.color,interpolateMissingData:!0,zIndex:1},null,8,["y","color"]))),256)),(N(!0),W(pe,null,Ne(se.value,h=>(N(),q(Y(Ka),{x:De,y:v=>Ca(v,h.key,qt.value),color:()=>Ee(h.colorLine||h.color,.6)},null,8,["y","color"]))),256)),Pe.value&&xe.value!==null?(N(),q(Y(Jt),{key:0,axis:"x",from:-7,to:xe.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):U("",!0),Pe.value?(N(),q(Y(xt),{key:1,value:xe.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):U("",!0)],64)):m.chartType==="area"?(N(),W(pe,{key:2},[(N(!0),W(pe,null,Ne(se.value,h=>(N(),q(Y(yt),{x:De,y:v=>Aa(v,h.key),color:()=>h.colorArea||h.color,interpolateMissingData:!0,zIndex:1},null,8,["y","color"]))),256)),(N(!0),W(pe,null,Ne(se.value,h=>(N(),q(Y(Ka),{x:De,y:v=>Aa(v,h.key),color:()=>Ee(h.colorLine||h.color,.6)},null,8,["y","color"]))),256)),jt.value?(N(!0),W(pe,{key:0},Ne(se.value,h=>(N(),q(Y(yt),{key:h.key+"-kg-x2",x:De,y:Xn(h.key),color:()=>"rgba(234,179,8,0.3)"},null,8,["y"]))),128)):U("",!0),Pe.value&&xe.value!==null?(N(),q(Y(Jt),{key:1,axis:"x",from:-7,to:xe.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):U("",!0),Pe.value?(N(),q(Y(xt),{key:2,value:xe.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):U("",!0)],64)):m.chartType==="bar"?(N(),q(Y(cs),{key:3,color:si.value,x:De,y:ri.value,groupPadding:.5,groupMaxWidth:20},null,8,["color","y"])):U("",!0),(N(!0),W(pe,null,Ne(ui.value,h=>(N(),q(Y(xt),{axis:"x",value:h.value,color:"rgba(69,10,10, 0.5)",lineStyle:[2,3],label:h.labelText,labelColor:h.labelColor,zIndex:100,lineWidth:1},null,8,["value","label","labelColor"]))),256)),be(Y(za),{tickTextFontSize:"12px",gridLine:!0,type:"x",tickValues:Rt.value,tickFormat:It},null,8,["tickValues"]),be(Y(za),{tickTextFontSize:"12px",type:"y"})]),_:1},8,["data","xDomain","yDomain"])):U("",!0)]),_:1})],512)}}}),so=Object.assign(ro,{__name:"ForestryChartDisplay"}),oo={class:"mt-2 mb-1 flex justify-between"},lo={class:"pr-2"},co={class:"flex items-center gap-2"},uo=["src"],ho={class:"flex items-center gap-2"},fo={class:"space-y-3"},po={key:0,class:"px-4 pb-4 text-sm text-muted"},go={key:1,class:"mx-2"},mo={class:"flex flex-col gap-4"},vo={class:"text-sm text-muted"},_o="Den relativa frdelningen av olika grupper mykorrhizasvampar vid olika skogsldrar. Uppgifterna baseras enbart p frekomst i skogar av olika ldrar och r inte kopplade till vilken skogssktselmetod som anvnts.",yo=Ae({__name:"ForestryChartMain",props:{parentSelectedFrameworks:{},currentTimeValue:{},currentStartskog:{},selectedChart:{}},emits:["update:selectedChart"],async setup(e,{expose:t,emit:a}){let n,i;const r=gi("(max-width: 767px)"),l={skogsskole:"Mngd mykorrhizasvamp i marken i frhllande till frekomsten i ldre skog/fre avverkning (%).",rodlistade:"Mngden av mykorrhizasvampar som r rdlistade/signalarter i marken i frhllande till frekomsten i ldre skog/fre avverkning (%).",grupper:"Mngden av olika grupper svampar i frhllande till frekomsten i ldre skog/fre avverkning (%)."},s={standard:"Mngden av alla matsvampar i marken frhllande till frekomsten i ldre skog/fre avverkning (%).",goda:"Mngden av alla goda matsvampar i frhllande till frekomsten i ldre skog/fre avverkning (%).",kg:"Frskvikten av alla matsvampar (kg/ha) under en ssong i frhllande till frekomsten i ldre skog/fre avverkning. Medel- samt min-maxvrde."},u=["standard","goda","kg"],{data:x}=([n,i]=at(()=>nt("forestry-chart-texts",()=>it("forestryChartTexts").first())),n=await n,i(),n);function p(w){return w?Array.isArray(w)?w:Array.isArray(w?.entries)?w.entries:Array.isArray(w?.body)?w.body:Array.isArray(w?.data)?w.data:[]:[]}const f=_(()=>p(x.value)),y=_(()=>{const w={};for(const j of f.value)j?.id&&(w[j.id]=j);return w}),T=_(()=>y.value.skogsskole?.description??l.skogsskole),B=_(()=>y.value.rodlistade?.description??l.rodlistade),L=_(()=>y.value.grupper?.description??l.grupper),A=_(()=>y.value.grupper?.modalDescription??_o),C=_(()=>{const w=$.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","bldning","skrmtrd"];return R.value==="rodlistade"?{selectedFrameworks:w,selectedArtkategori:["rdlistade + signalarter"],chartType:_e.value,selectedStartskog:$.currentStartskog,redColor:!0,maxYValue:.65,currentTimeValue:$.currentTimeValue,frameworkComparisonMode:ee.value}:R.value==="matsvampar"?{selectedFrameworks:w,selectedArtkategori:[Ce.value],chartType:_e.value,selectedStartskog:$.currentStartskog,yellowColor:!0,maxYValue:je.value,currentTimeValue:$.currentTimeValue,matsvampVariant:te.value,frameworkComparisonMode:ee.value}:R.value==="grupper"?{selectedFrameworks:$.parentSelectedFrameworks??[K.value],selectedArtkategori:ee.value?[ce.value]:H.value,frameworkComparisonMode:ee.value,chartType:_e.value,singleFrameworkSelection:!0,selectedStartskog:$.currentStartskog,currentTimeValue:$.currentTimeValue}:{selectedFrameworks:w,selectedArtkategori:["total"],chartType:_e.value,maxYValue:130,currentTimeValue:$.currentTimeValue,frameworkComparisonMode:ee.value}}),S=_(()=>R.value==="rodlistade"?B.value:R.value==="matsvampar"?It.value:R.value==="grupper"?L.value:T.value),k=_(()=>{const w={...s},j=y.value.matsvampar;if(j?.variants?.length)for(const re of j.variants)O(re?.id)&&re.description&&(w[re.id]=re.description);else j?.description&&(w.standard=j.description);return w});function O(w){return w?u.includes(w):!1}const $=e,E=a;I("naturskog"),I("naturskog"),I("naturskog");const K=I("trakthygge");I(!0),I(!1),I(!1),I(!1),I(!1),I(!1);const G=[{label:"Mngd mykorrhizasvamp",value:"skogsskole",icon:"i-lineicons-mushroom-1"},{label:"Svampgrupper",value:"grupper",icon:"i-material-symbols-category-rounded"},{label:"Naturvrdssvampar",value:"rodlistade",icon:"i-material-symbols-award-star"},{label:"Matsvampar",value:"matsvampar",icon:"icon-park-solid:knife-fork"}],R=I(G.some(w=>w.value===$.selectedChart)?$.selectedChart:G[0].value),fe=_(()=>G.find(w=>w.value===R.value)?.icon),ee=_(()=>($.parentSelectedFrameworks?.length??0)===2);function ve(w){G.some(j=>j.value===w)&&(R.value=w)}t({setSelectedChart:ve}),le(()=>$.selectedChart,w=>{typeof w=="string"&&G.some(j=>j.value===w)&&R.value!==w&&(R.value=w)}),le(R,w=>{E("update:selectedChart",w)});const Ie=["atheliales","boletales","cantharellales","spindlingar","russulales","thelephorales","ascomycota","vriga"],_e=I("area");I("area");const Ze=[{label:"Alla matsvampar",value:"standard",icon:"i-lineicons-mushroom-1"},{label:"Goda matsvampar",value:"goda",icon:"i-heroicons-star-16-solid"},{label:"Kg matsvampar",value:"kg",icon:"i-material-symbols-scale-outline-rounded"}],te=I("standard"),Ce=_(()=>te.value==="goda"?"goda matsvampar":"matsvamp"),pt=_(()=>Ze.find(w=>w.value===te.value)?.icon),Rt=_(()=>Ze.find(w=>w.value===te.value)?.label??"Vlj dataset"),It=_(()=>k.value[te.value]),je=_(()=>te.value==="kg"?55:28),H=I([...Ie]),Te=[{label:"Skinnsvampar",value:"atheliales",icon:"/images/svampgrupp/skinnsvamp.png",avatar:{src:"/images/svampgrupp/skinnsvamp.png",alt:"Skinnsvampar"}},{label:"Soppar",value:"boletales",icon:"/images/svampgrupp/sopp.png",avatar:{src:"/images/svampgrupp/sopp.png",alt:"Soppar"}},{label:"Kantarellslktingar",value:"cantharellales",icon:"/images/svampgrupp/kantarell.png",avatar:{src:"/images/svampgrupp/kantarell.png",alt:"Kantarellslktingar"}},{label:"Spindelskivlingar",value:"spindlingar",icon:"/images/svampgrupp/hattsvamp.png",avatar:{src:"/images/svampgrupp/hattsvamp.png",alt:"Spindelskivlingar"}},{label:"Kremlor & riskor",value:"russulales",icon:"/images/svampgrupp/hattsvamp.png",avatar:{src:"/images/svampgrupp/hattsvamp.png",alt:"Kremlor & riskor"}},{label:"Tagg- och tomentelloida svampar",value:"thelephorales",icon:"/images/svampgrupp/taggsvamp.png",avatar:{src:"/images/svampgrupp/taggsvamp.png",alt:"Tagg- och tomentelloida svampar"}},{label:"Sporsckssvampar",value:"ascomycota",icon:"/images/svampgrupp/skalsvamp.png",avatar:{src:"/images/svampgrupp/skalsvamp.png",alt:"Sporsckssvampar"}},{label:"vriga svampar",value:"vriga",icon:"/images/svampgrupp/ovrigt.png",avatar:{src:"/images/svampgrupp/ovrigt.png",alt:"vriga svampar"}}],ce=I(Te[0].value),ze=_(()=>Te.find(w=>w.value===ce.value)?.avatar);return le([R,ee],([w,j])=>{w==="grupper"&&j||(ce.value=Te[0].value),w==="grupper"&&!j&&(H.value=[...Ie])}),le(()=>$.parentSelectedFrameworks?.length,()=>{R.value==="grupper"&&ee.value&&(ce.value=Te[0].value)}),(w,j)=>{const re=di,Qe=mi,Je=so,ye=tn,de=yi;return N(),W("div",null,[ge("div",oo,[be(re,{modelValue:R.value,"onUpdate:modelValue":j[0]||(j[0]=ae=>R.value=ae),items:G,"value-key":"value","option-attribute":"label",size:"xl",variant:"none",class:"hover:cursor-pointer",icon:fe.value,ui:{content:"min-w-fit",value:"sm:text-lg sm:font-medium text-neutral-700"}},null,8,["modelValue","icon"]),ge("div",lo,[R.value==="grupper"&&ee.value?(N(),q(re,{key:0,modelValue:ce.value,"onUpdate:modelValue":j[1]||(j[1]=ae=>ce.value=ae),items:Te,"option-attribute":"label","value-key":"value",size:"lg",variant:"soft",placeholder:"Vlj svampgrupp",class:"hover:cursor-pointer rounded-full",ui:{content:"min-w-fit",value:"hidden sm:flex",base:"min-h-8"},avatar:ze.value},{item:Le(({item:ae})=>[ge("div",co,[ae.icon?(N(),W("img",{key:0,src:ae.icon,alt:"",class:"size-5 rounded-sm object-contain"},null,8,uo)):U("",!0),ge("span",null,rt(ae.label),1)])]),_:1},8,["modelValue","avatar"])):U("",!0),R.value==="matsvampar"?(N(),q(re,{key:1,modelValue:te.value,"onUpdate:modelValue":j[2]||(j[2]=ae=>te.value=ae),items:Ze,content:{align:"end",side:"bottom",sideOffset:8},"option-attribute":"label","value-key":"value",placeholder:"Vlj dataset",class:"hover:cursor-pointer rounded-full",size:"lg",variant:"soft",ui:{content:"w-fit shrink-0",value:"hidden",base:"min-h-8",item:"gap-0"},icon:pt.value,"aria-label":Rt.value},{item:Le(({item:ae})=>[ge("div",ho,[ae.icon?(N(),q(Qe,{key:0,name:ae.icon,class:"size-4"},null,8,["name"])):U("",!0),ge("span",null,rt(ae.label),1)])]),_:1},8,["modelValue","icon","aria-label"])):U("",!0)])]),ge("div",fo,[be(Je,vi(_i(C.value)),null,16),S.value?(N(),W("div",po,rt(S.value),1)):U("",!0),R.value==="grupper"?(N(),W("div",go,[be(de,{fullscreen:!!Y(r),title:"Relativ mngd",description:""},{body:Le(()=>[ge("div",mo,[be(Je,{selectedFrameworks:["trakthygge"],selectedArtkategori:Ie,chartType:"area",singleFrameworkSelection:!0,relativeChart:!0}),ge("p",vo,rt(A.value),1)])]),default:Le(()=>[be(ye,{size:"lg",variant:"outline",class:"px-3 flex justify-center ring-muted/50",color:"neutral",icon:"i-carbon-diagram-reference",label:"Relativ mngd vid olika ldrar"})]),_:1},8,["fullscreen"])])):U("",!0)])])}}}),So=Object.assign(xi(yo,[["__scopeId","data-v-698ec1e4"]]),{__name:"ForestryChartMain"});export{So as _};
