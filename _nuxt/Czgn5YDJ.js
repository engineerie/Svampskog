import{B as G,r as x,aD as z,aI as J,W as b,b3 as K,d as M,f as T,P as l,g as s,h as n,w as i,aH as Q,aE as S,aF as U,e as g,ae as R,ap as X,af as Z,av as tt,F as et,ag as st,N as B,n as ot,aC as at,aB as nt,t as w,aL as it}from"#entry";import{b as rt,a as lt,_ as ct}from"./BNZk6acK.js";import{_ as ut}from"./CrWnOoLk.js";import{M as dt}from"./CSTWAKIg.js";import{_ as mt}from"./CzyB4YZu.js";import{_ as pt}from"./BTQT1XJf.js";import{_ as _t}from"./BpGmDohq.js";import"./BrRXGKCQ.js";import"./BkTfL4Si.js";import"./CuNoz-Zp.js";import"./Cpj98o6Y.js";import"./Cj-a184O.js";import"./DN1NsGKB.js";import"./iik6CYzq.js";import"./BNt3Jpbo.js";import"./CudAv0bZ.js";const ft={key:0,class:"flex-1"},gt=["onClick"],vt={class:"text-lg p-2 px-3 font-medium"},ht={class:"w-full ring ring-muted/50 rounded relative overflow-hidden shadow"},kt={class:"sm:grid grid-cols-2 gap-6"},xt={class:"px-6 sm:px-12 sm:border-r border-muted/50"},bt={class:"my-4 text-3xl sm:text-4xl font-medium text-neutral-900"},wt={class:"px-6 sm:px-12"},yt={class:"p-6 pb-2"},Ct={class:"font-semibold"},$t={class:"lg:flex gap-4 space-y-2 lg:space-y-0"},zt=["src"],Mt={class:"w-full px-6 border border-muted/50 bg-muted/50 rounded h-fit"},Tt={class:"w-full bg-white px-6 border border-muted/50 rounded h-fit"},St={class:"bg-muted border-t border-muted mt-18"},Jt=G({__name:"index_legacy",async setup(Ut){let c,p;const _=x(!1),{data:r}=([c,p]=z(()=>S("skogsskotsel",()=>U("skogsskotsel").first())),c=await c,p(),c);if(!r.value)throw J({statusCode:404,statusMessage:"Page not found",fatal:!0});const N=e=>{const t=e?.toLowerCase?.()??"";return t==="intekalavverkad"?"naturskog":t==="produktionsskog"?"produktionsskog_":e},y=e=>(e?.toLowerCase?.()??"")==="ingenatgard"?"naturskydd":e,D=e=>{const t=String(e).trim().toLowerCase();return t.includes("efter")?"efter":t.includes("innan")||t.includes("före")||t.includes("fore")?"fore":t.replace(/[^0-9]/g,"")||t},F=(e,t,u)=>{const o=h=>h.trim().normalize("NFD").replace(/å/gi,"a").replace(/ä/gi,"a").replace(/ö/gi,"o").replace(new RegExp("\\p{Diacritic}+","gu"),"").toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,"");return`/images/thumbnails/${`${o(e)}_${D(String(t))}_visa_visa_${o(u)}.webp`}`},{data:L}=([c,p]=z(()=>S("forestry-timeline-skogsskotsel",()=>U("forestryTimelines").first())),c=await c,p(),c),j=b(()=>{const e=L.value?.entries??[],t=m.value.id,u=y(t);return e.map(o=>({...o,startskog:N(o.startskog),atgard:y(o.atgard)})).filter(o=>o.startskog==="naturskog"&&o.atgard===u).map(o=>({tid:o.tid,skog:o.skog,svamp:o.svamp,thumb:F(o.atgard,o.tid,o.startskog)}))}),P=x([{label:"Diagram",icon:"i-heroicons-presentation-chart-line",slot:"diagram"},{label:"Tidslinje",icon:"i-heroicons-list-bullet",slot:"timeline"},{label:"Text",icon:"i-heroicons-book-open",slot:"text"}]),v=b(()=>r.value?.methods??[]),E={id:"",title:"",image:"",shortdescription:"",description:"",descriptionsvamp:""},d=x("");K(()=>{const e=v.value[0];e&&!d.value&&(d.value=e.id)});const m=b(()=>{const e=v.value;return e.length?e.find(t=>t.id===d.value)??e[0]:E});return(e,t)=>{const u=Z,o=X,C=lt,h=tt,I=ut,k=Q,Y=at,A=nt,$=dt,f=mt,V=it,H=ct,q=pt,O=_t,W=rt;return l(r)?(g(),M("div",ft,[s(k,{class:"w-full px-0"},{default:i(()=>[s(I,{ui:{container:"py-12 lg:py-24",title:"sm:text-7xl",headline:"text-neutral"},title:l(r).hero.title,description:l(r).hero.description,orientation:l(r).hero.orientation,class:""},R({_:2},[l(r)?.hero?.links?.[0]?{name:"links",fn:i(()=>[s(o,{color:"warning",size:"2xl"},{default:i(()=>[s(u,{label:l(r).hero.links[0].label,size:l(r).hero.links[0].size,color:l(r).hero.links[0].color,icon:l(r).hero.links[0].icon,onClick:t[0]||(t[0]=a=>_.value=!0)},null,8,["label","size","color","icon"])]),_:1}),s(h,{open:_.value,"onUpdate:open":t[2]||(t[2]=a=>_.value=a),fullscreen:""},{content:i(()=>[s(C,{onClose:t[1]||(t[1]=a=>_.value=!1)})]),_:1},8,["open"])]),key:"0"}:void 0]),1032,["title","description","orientation"])]),_:1}),s(k,{class:"w-full flex justify-between py-4 gap-6 overflow-scroll lg:overflow-hidden"},{default:i(()=>[(g(!0),M(et,null,st(v.value,a=>(g(),B($,{key:a.id,class:"relative",initial:{scale:1,transform:"translateY(10px)",opacity:0},animate:{scale:1,transform:"translateY(0px)",opacity:1},transition:{duration:.3,delay:.3+.05*(a.index??0)}},{default:i(()=>[n("div",{onClick:Bt=>d.value=a.id,class:ot(["shrink-0 lg:shrink w-58 lg:w-full bg-white transition-all hover:opacity-100 border border-muted/50 overflow-hidden rounded h-fit shadow hover:shadow-md relative cursor-pointer",d.value===a.id?"opacity-100":"opacity-30"])},[a.type?(g(),B(Y,{key:0,class:"absolute top-2 left-2",label:a.type,color:"neutral",variant:"subtle"},null,8,["label"])):T("",!0),s(A,{src:a.image,width:"300",height:"160",class:"w-full h-full"},null,8,["src"]),n("h1",vt,w(a.title),1)],10,gt)]),_:2},1032,["transition"]))),128))]),_:1}),s(k,{class:"w-full pt-2 px-0 sm:px-6"},{default:i(()=>[s($,{class:"flex justify-center w-full",initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0px)"},transition:{duration:.5,delay:1}},{default:i(()=>[n("div",ht,[s(O,{ui:{list:"p-2 justify-center sm:justify-start",root:""},items:P.value,color:"primary",size:"md",class:"w-full",variant:"link"},{text:i(()=>[s(V,{class:"pt-4 sm:p-6"},{default:i(()=>[n("div",kt,[n("div",xt,[n("h1",bt,w(m.value.title),1),s(f,{class:"text-lg text-neutral-800 mb-8",value:m.value.description},null,8,["value"])]),n("div",wt,[t[3]||(t[3]=n("h1",{class:"my-4 text-2xl font-medium text-neutral-900"},"Påverkan på mykorrhizasvampar ",-1)),s(f,{class:"text-lg text-neutral-800",value:m.value.descriptionsvamp},null,8,["value"])])])]),_:1})]),diagram:i(()=>[s(H,{parentSelectedFrameworks:[m.value.id],currentStartskog:"naturskog"},null,8,["parentSelectedFrameworks"])]),timeline:i(()=>[n("div",yt,[s(q,{items:j.value,size:"3xs",ui:{indicator:"bg-neutral-200/50 ",separator:"bg-neutral-200/50",description:"p-0 mt-2 text-default"}},{title:i(({item:a})=>[n("span",Ct,w(a.tid),1)]),description:i(({item:a})=>[n("div",$t,[n("img",{src:a.thumb,class:"w-80 h-fit rounded"},null,8,zt),n("div",Mt,[s(f,{value:a.skog},null,8,["value"])]),n("div",Tt,[s(f,{value:a.svamp},null,8,["value"])])])]),_:1},8,["items"])])]),_:1},8,["items"])])]),_:1})]),_:1}),n("div",St,[s(W,{section:l(r).carousel},null,8,["section"])])])):T("",!0)}}});export{Jt as default};
