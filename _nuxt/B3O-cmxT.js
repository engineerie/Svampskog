const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DZJk8AOg.js","./DXM6iiTC.js","./entry.DarFsIVp.css","./Cpj98o6Y.js","./CbBzkly_.js","./D_Z8-otN.js","./B0VoygWj.js","./CBlAIr9f.js","./BWuJ0jvd.js","./B9enCROa.js","./CcbwAkLh.js","./hg6Rz1vw.js","./i07SFb3v.js","./CV8XQd9i.js","./BLQr-x6j.js","./iik6CYzq.js","./B9i8ASNm.js","./DMWOGtqb.js","./SCarousel.DbZX_4vZ.css","./OpenSeadragonViewer.hB2rHJDu.css"])))=>i.map(i=>d[i]);
import{A as et,C as Kn,I as Ls,Z as Jn,V as g,B as As,M as E,e as h,w as O,N as kt,f as z,O as M,Y as Qn,S as Vs,U as qt,P as Er,aI as Br,r as C,d as F,o as yt,K as Dt,c as Yt,J as G,aC as ua,aD as Gt,aE as ca,aQ as el,aR as sa,aS as kr,g as x,aT as Ms,F as Se,af as qe,h as f,t as W,aO as zs,ae as Nr,ah as st,aU as tl,_ as al,a3 as Fn,a4 as Os,a5 as Fs,y as $s,a9 as Ds,a8 as js,aV as Es,aW as Bs,aa as $n,n as oe,am as Aa,aM as rl,aB as Rr,aX as Pr,aY as Ns,p as Rs,aL as Ps,aZ as Is,a_ as Us,a$ as qs,b0 as Hs,T as Ws,b as Ys,aH as Gs,b1 as Zs,aG as Xs,ad as Ks,ao as Js,au as Qs,aA as ei,aK as ti}from"#entry";import{_ as nl}from"./CbBzkly_.js";import{_ as ll,L as ai,a as ri,b as ni}from"./CBlAIr9f.js";import{X as Ir,O as sl,c as Ve,i as Na,a as Ur,b as yr,g as $t,m as cr,d as li,e as _r,f as si,r as ii,h as za,s as Qe,j as da,D as Ca,k as oi,l as ui,n as ci,o as di,p as vi,q as fi,t as va,u as mi,v as xr,P as pi,w as hi,x as gi,y as bi,z as ki,A as wr,B as qr,C as Ra,E as Pa,S as yi,F as dr,G as vr,H as Dn}from"./B9enCROa.js";import{u as _i,V as xi}from"./BWuJ0jvd.js";import{d as wi}from"./CcbwAkLh.js";import{_ as Si}from"./hg6Rz1vw.js";import{M as Ti}from"./i07SFb3v.js";import{_ as Ci}from"./CV8XQd9i.js";import{_ as Li}from"./B9i8ASNm.js";import{_ as Ai}from"./DMWOGtqb.js";const[Vi,Mi]=As("SwitchRoot");var zi=et({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,r=t,{disabled:s}=Kn(a),i=Ls(a,"modelValue",r,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function u(){s.value||(i.value=!i.value)}const{forwardRef:o,currentElement:d}=Jn(),T=_i(d),m=g(()=>a.id&&d.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return Mi({modelValue:i,toggleCheck:u,disabled:s}),(p,D)=>(h(),E(M(Er),Qn(p.$attrs,{id:p.id,ref:M(o),role:"switch",type:p.as==="button"?"button":void 0,value:p.value,"aria-label":p.$attrs["aria-label"]||m.value,"aria-checked":M(i),"aria-required":p.required,"data-state":M(i)?"checked":"unchecked","data-disabled":M(s)?"":void 0,"as-child":p.asChild,as:p.as,disabled:M(s),onClick:u,onKeydown:Vs(qt(u,["prevent"]),["enter"])}),{default:O(()=>[kt(p.$slots,"default",{modelValue:M(i)}),M(T)&&p.name?(h(),E(M(xi),{key:0,type:"checkbox",name:p.name,disabled:M(s),required:p.required,value:p.value,checked:!!M(i)},null,8,["name","disabled","required","value","checked"])):z("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),Oi=zi,Fi=et({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=Vi();return Jn(),(a,r)=>(h(),E(M(Er),{"data-state":M(t).modelValue?.value?"checked":"unchecked","data-disabled":M(t).disabled.value?"":void 0,"as-child":a.asChild,as:a.as},{default:O(()=>[kt(a.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"]))}}),$i=Fi,Sr=Math.PI,Tr=2*Sr,Ft=1e-6,Di=Tr-Ft;function Cr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ia(){return new Cr}Cr.prototype=Ia.prototype={constructor:Cr,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,a,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+a)+","+(this._y1=+r)},bezierCurveTo:function(e,t,a,r,s,i){this._+="C"+ +e+","+ +t+","+ +a+","+ +r+","+(this._x1=+s)+","+(this._y1=+i)},arcTo:function(e,t,a,r,s){e=+e,t=+t,a=+a,r=+r,s=+s;var i=this._x1,u=this._y1,o=a-e,d=r-t,T=i-e,m=u-t,p=T*T+m*m;if(s<0)throw new Error("negative radius: "+s);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>Ft)if(!(Math.abs(m*o-d*T)>Ft)||!s)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var D=a-i,$=r-u,B=o*o+d*d,q=D*D+$*$,V=Math.sqrt(B),_=Math.sqrt(p),j=s*Math.tan((Sr-Math.acos((B+p-q)/(2*V*_)))/2),v=j/_,R=j/V;Math.abs(v-1)>Ft&&(this._+="L"+(e+v*T)+","+(t+v*m)),this._+="A"+s+","+s+",0,0,"+ +(m*D>T*$)+","+(this._x1=e+R*o)+","+(this._y1=t+R*d)}},arc:function(e,t,a,r,s,i){e=+e,t=+t,a=+a,i=!!i;var u=a*Math.cos(r),o=a*Math.sin(r),d=e+u,T=t+o,m=1^i,p=i?r-s:s-r;if(a<0)throw new Error("negative radius: "+a);this._x1===null?this._+="M"+d+","+T:(Math.abs(this._x1-d)>Ft||Math.abs(this._y1-T)>Ft)&&(this._+="L"+d+","+T),a&&(p<0&&(p=p%Tr+Tr),p>Di?this._+="A"+a+","+a+",0,1,"+m+","+(e-u)+","+(t-o)+"A"+a+","+a+",0,1,"+m+","+(this._x1=d)+","+(this._y1=T):p>Ft&&(this._+="A"+a+","+a+",0,"+ +(p>=Sr)+","+m+","+(this._x1=e+a*Math.cos(s))+","+(this._y1=t+a*Math.sin(s))))},rect:function(e,t,a,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +a+"v"+ +r+"h"+-a+"Z"},toString:function(){return this._}};function Te(e){return function(){return e}}var jn=1e-12,Oa=Math.PI,Ua=2*Oa;function il(e){this._context=e}il.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Hr(e){return new il(e)}function ol(e){return e[0]}function ul(e){return e[1]}function ji(){var e=ol,t=ul,a=Te(!0),r=null,s=Hr,i=null;function u(o){var d,T=o.length,m,p=!1,D;for(r==null&&(i=s(D=Ia())),d=0;d<=T;++d)!(d<T&&a(m=o[d],d,o))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(m,d,o),+t(m,d,o));if(D)return i=null,D+""||null}return u.x=function(o){return arguments.length?(e=typeof o=="function"?o:Te(+o),u):e},u.y=function(o){return arguments.length?(t=typeof o=="function"?o:Te(+o),u):t},u.defined=function(o){return arguments.length?(a=typeof o=="function"?o:Te(!!o),u):a},u.curve=function(o){return arguments.length?(s=o,r!=null&&(i=s(r)),u):s},u.context=function(o){return arguments.length?(o==null?r=i=null:i=s(r=o),u):r},u}function Ei(){var e=ol,t=null,a=Te(0),r=ul,s=Te(!0),i=null,u=Hr,o=null;function d(m){var p,D,$,B=m.length,q,V=!1,_,j=new Array(B),v=new Array(B);for(i==null&&(o=u(_=Ia())),p=0;p<=B;++p){if(!(p<B&&s(q=m[p],p,m))===V)if(V=!V)D=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),$=p-1;$>=D;--$)o.point(j[$],v[$]);o.lineEnd(),o.areaEnd()}V&&(j[p]=+e(q,p,m),v[p]=+a(q,p,m),o.point(t?+t(q,p,m):j[p],r?+r(q,p,m):v[p]))}if(_)return o=null,_+""||null}function T(){return ji().defined(s).curve(u).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:Te(+m),t=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Te(+m),d):e},d.x1=function(m){return arguments.length?(t=m==null?null:typeof m=="function"?m:Te(+m),d):t},d.y=function(m){return arguments.length?(a=typeof m=="function"?m:Te(+m),r=null,d):a},d.y0=function(m){return arguments.length?(a=typeof m=="function"?m:Te(+m),d):a},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Te(+m),d):r},d.lineX0=d.lineY0=function(){return T().x(e).y(a)},d.lineY1=function(){return T().x(e).y(r)},d.lineX1=function(){return T().x(t).y(a)},d.defined=function(m){return arguments.length?(s=typeof m=="function"?m:Te(!!m),d):s},d.curve=function(m){return arguments.length?(u=m,i!=null&&(o=u(i)),d):u},d.context=function(m){return arguments.length?(m==null?i=o=null:o=u(i=m),d):i},d}const cl={draw:function(e,t){var a=Math.sqrt(t/Oa);e.moveTo(a,0),e.arc(0,0,a,0,Ua)}},Bi={draw:function(e,t){var a=Math.sqrt(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}};var dl=Math.sqrt(1/3),Ni=dl*2;const Ri={draw:function(e,t){var a=Math.sqrt(t/Ni),r=a*dl;e.moveTo(0,-a),e.lineTo(r,0),e.lineTo(0,a),e.lineTo(-r,0),e.closePath()}};var Pi=.8908130915292852,vl=Math.sin(Oa/10)/Math.sin(7*Oa/10),Ii=Math.sin(Ua/10)*vl,Ui=-Math.cos(Ua/10)*vl;const qi={draw:function(e,t){var a=Math.sqrt(t*Pi),r=Ii*a,s=Ui*a;e.moveTo(0,-a),e.lineTo(r,s);for(var i=1;i<5;++i){var u=Ua*i/5,o=Math.cos(u),d=Math.sin(u);e.lineTo(d*a,-o*a),e.lineTo(o*r-d*s,d*r+o*s)}e.closePath()}},Hi={draw:function(e,t){var a=Math.sqrt(t),r=-a/2;e.rect(r,r,a,a)}};var fr=Math.sqrt(3);const Wi={draw:function(e,t){var a=-Math.sqrt(t/(fr*3));e.moveTo(0,a*2),e.lineTo(-fr*a,-a),e.lineTo(fr*a,-a),e.closePath()}};var Ie=-.5,Ue=Math.sqrt(3)/2,Lr=1/Math.sqrt(12),Yi=(Lr/2+1)*3;const Gi={draw:function(e,t){var a=Math.sqrt(t/Yi),r=a/2,s=a*Lr,i=r,u=a*Lr+a,o=-i,d=u;e.moveTo(r,s),e.lineTo(i,u),e.lineTo(o,d),e.lineTo(Ie*r-Ue*s,Ue*r+Ie*s),e.lineTo(Ie*i-Ue*u,Ue*i+Ie*u),e.lineTo(Ie*o-Ue*d,Ue*o+Ie*d),e.lineTo(Ie*r+Ue*s,Ie*s-Ue*r),e.lineTo(Ie*i+Ue*u,Ie*u-Ue*i),e.lineTo(Ie*o+Ue*d,Ie*d-Ue*o),e.closePath()}};function Zi(){var e=Te(cl),t=Te(64),a=null;function r(){var s;if(a||(a=s=Ia()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),s)return a=null,s+""||null}return r.type=function(s){return arguments.length?(e=typeof s=="function"?s:Te(s),r):e},r.size=function(s){return arguments.length?(t=typeof s=="function"?s:Te(+s),r):t},r.context=function(s){return arguments.length?(a=s??null,r):a},r}function _t(){}function Fa(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function qa(e){this._context=e}qa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Xi(e){return new qa(e)}function fl(e){this._context=e}fl.prototype={areaStart:_t,areaEnd:_t,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Fa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ki(e){return new fl(e)}function ml(e){this._context=e}ml.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:Fa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ji(e){return new ml(e)}function pl(e,t){this._basis=new qa(e),this._beta=t}pl.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,a=e.length-1;if(a>0)for(var r=e[0],s=t[0],i=e[a]-r,u=t[a]-s,o=-1,d;++o<=a;)d=o/a,this._basis.point(this._beta*e[o]+(1-this._beta)*(r+d*i),this._beta*t[o]+(1-this._beta)*(s+d*u));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Qi=(function e(t){function a(r){return t===1?new qa(r):new pl(r,t)}return a.beta=function(r){return e(+r)},a})(.85);function $a(e,t,a){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-a),e._x2,e._y2)}function Wr(e,t){this._context=e,this._k=(1-t)/6}Wr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:$a(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:$a(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const eo=(function e(t){function a(r){return new Wr(r,t)}return a.tension=function(r){return e(+r)},a})(0);function Yr(e,t){this._context=e,this._k=(1-t)/6}Yr.prototype={areaStart:_t,areaEnd:_t,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:$a(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const to=(function e(t){function a(r){return new Yr(r,t)}return a.tension=function(r){return e(+r)},a})(0);function Gr(e,t){this._context=e,this._k=(1-t)/6}Gr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:$a(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ao=(function e(t){function a(r){return new Gr(r,t)}return a.tension=function(r){return e(+r)},a})(0);function Zr(e,t,a){var r=e._x1,s=e._y1,i=e._x2,u=e._y2;if(e._l01_a>jn){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,d=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/d,s=(s*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/d}if(e._l23_a>jn){var T=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,m=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*T+e._x1*e._l23_2a-t*e._l12_2a)/m,u=(u*T+e._y1*e._l23_2a-a*e._l12_2a)/m}e._context.bezierCurveTo(r,s,i,u,e._x2,e._y2)}function hl(e,t){this._context=e,this._alpha=t}hl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Zr(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ro=(function e(t){function a(r){return t?new hl(r,t):new Wr(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function gl(e,t){this._context=e,this._alpha=t}gl.prototype={areaStart:_t,areaEnd:_t,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Zr(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const no=(function e(t){function a(r){return t?new gl(r,t):new Yr(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function bl(e,t){this._context=e,this._alpha=t}bl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Zr(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const lo=(function e(t){function a(r){return t?new bl(r,t):new Gr(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function kl(e){this._context=e}kl.prototype={areaStart:_t,areaEnd:_t,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function so(e){return new kl(e)}function En(e){return e<0?-1:1}function Bn(e,t,a){var r=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(r||s<0&&-0),u=(a-e._y1)/(s||r<0&&-0),o=(i*s+u*r)/(r+s);return(En(i)+En(u))*Math.min(Math.abs(i),Math.abs(u),.5*Math.abs(o))||0}function Nn(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function mr(e,t,a){var r=e._x0,s=e._y0,i=e._x1,u=e._y1,o=(i-r)/3;e._context.bezierCurveTo(r+o,s+o*t,i-o,u-o*a,i,u)}function Da(e){this._context=e}Da.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mr(this,this._t0,Nn(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,mr(this,Nn(this,a=Bn(this,e,t)),a);break;default:mr(this,this._t0,a=Bn(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function yl(e){this._context=new _l(e)}(yl.prototype=Object.create(Da.prototype)).point=function(e,t){Da.prototype.point.call(this,t,e)};function _l(e){this._context=e}_l.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,r,s,i){this._context.bezierCurveTo(t,e,r,a,i,s)}};function io(e){return new Da(e)}function oo(e){return new yl(e)}function xl(e){this._context=e}xl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var r=Rn(e),s=Rn(t),i=0,u=1;u<a;++i,++u)this._context.bezierCurveTo(r[0][i],s[0][i],r[1][i],s[1][i],e[u],t[u]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Rn(e){var t,a=e.length-1,r,s=new Array(a),i=new Array(a),u=new Array(a);for(s[0]=0,i[0]=2,u[0]=e[0]+2*e[1],t=1;t<a-1;++t)s[t]=1,i[t]=4,u[t]=4*e[t]+2*e[t+1];for(s[a-1]=2,i[a-1]=7,u[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=s[t]/i[t-1],i[t]-=r,u[t]-=r*u[t-1];for(s[a-1]=u[a-1]/i[a-1],t=a-2;t>=0;--t)s[t]=(u[t]-s[t+1])/i[t];for(i[a-1]=(e[a]+s[a-1])/2,t=0;t<a-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function uo(e){return new xl(e)}function Ha(e,t){this._context=e,this._t=t}Ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function co(e){return new Ha(e,.5)}function vo(e){return new Ha(e,0)}function fo(e){return new Ha(e,1)}function Pn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function mo(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Pn(Object(a),!0).forEach(function(r){po(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pn(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function ia(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ia=function(t){return typeof t}:ia=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ia(e)}function po(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ja(){return ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ja.apply(this,arguments)}function ho(e,t){if(e){if(typeof e=="string")return In(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return In(e,t)}}function In(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function wl(e,t){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=ho(e))||t){a&&(e=a);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,u=!1,o;return{s:function(){a=a.call(e)},n:function(){var d=a.next();return i=d.done,d},e:function(d){u=!0,o=d},f:function(){try{!i&&a.return!=null&&a.return()}finally{if(u)throw o}}}}function go(e,t){var a=[],r=[];function s(i,u){if(i.length===1)a.push(i[0]),r.push(i[0]);else{for(var o=Array(i.length-1),d=0;d<o.length;d++)d===0&&a.push(i[0]),d===o.length-1&&r.push(i[d+1]),o[d]=[(1-u)*i[d][0]+u*i[d+1][0],(1-u)*i[d][1]+u*i[d+1][1]];s(o,u)}}return e.length&&s(e,t),{left:a,right:r.reverse()}}function bo(e){var t={};return e.length===4&&(t.x2=e[2][0],t.y2=e[2][1]),e.length>=3&&(t.x1=e[1][0],t.y1=e[1][1]),t.x=e[e.length-1][0],t.y=e[e.length-1][1],e.length===4?t.type="C":e.length===3?t.type="Q":t.type="L",t}function ko(e,t){t=t||2;for(var a=[],r=e,s=1/t,i=0;i<t-1;i++){var u=s/(1-s*i),o=go(r,u);a.push(o.left),r=o.right}return a.push(r),a}function yo(e,t,a){var r=[[e.x,e.y]];return t.x1!=null&&r.push([t.x1,t.y1]),t.x2!=null&&r.push([t.x2,t.y2]),r.push([t.x,t.y]),ko(r,a).map(bo)}var _o=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,Wt={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};Object.keys(Wt).forEach(function(e){Wt[e.toLowerCase()]=Wt[e]});function Ar(e,t){for(var a=Array(e),r=0;r<e;r++)a[r]=t;return a}function xo(e){return"".concat(e.type).concat(Wt[e.type].map(function(t){return e[t]}).join(","))}function wo(e,t){var a={x1:"x",y1:"y",x2:"x",y2:"y"},r=["xAxisRotation","largeArcFlag","sweepFlag"];if(e.type!==t.type&&t.type.toUpperCase()!=="M"){var s={};Object.keys(t).forEach(function(i){var u=t[i],o=e[i];o===void 0&&(r.includes(i)?o=u:(o===void 0&&a[i]&&(o=e[a[i]]),o===void 0&&(o=0))),s[i]=o}),s.type=t.type,e=s}return e}function So(e,t,a){var r=[];if(t.type==="L"||t.type==="Q"||t.type==="C")r=r.concat(yo(e,t,a));else{var s=ja({},e);s.type==="M"&&(s.type="L"),r=r.concat(Ar(a-1).map(function(){return s})),r.push(t)}return r}function Un(e,t,a){var r=e.length-1,s=t.length-1,i=r/s,u=Ar(s).reduce(function(d,T,m){var p=Math.floor(i*m);if(a&&p<e.length-1&&a(e[p],e[p+1])){var D=i*m%1<.5;d[p]&&(D?p>0?p-=1:p<e.length-1&&(p+=1):p<e.length-1?p+=1:p>0&&(p-=1))}return d[p]=(d[p]||0)+1,d},[]),o=u.reduce(function(d,T,m){if(m===e.length-1){var p=Ar(T,ja({},e[e.length-1]));return p[0].type==="M"&&p.forEach(function(D){D.type="L"}),d.concat(p)}return d.concat(So(e[m],e[m+1],T))},[]);return o.unshift(e[0]),o}function qn(e){for(var t=(e||"").match(_o)||[],a=[],r,s,i=0;i<t.length;++i)if(r=Wt[t[i]],r){s={type:t[i]};for(var u=0;u<r.length;++u)s[r[u]]=+t[i+u+1];i+=r.length,a.push(s)}return a}function To(e,t,a){var r=e==null?[]:e.slice(),s=t==null?[]:t.slice(),i=ia(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},u=i.excludeSegment,o=i.snapEndsToInput;if(!r.length&&!s.length)return function(){return[]};var d=(r.length===0||r[r.length-1].type==="Z")&&(s.length===0||s[s.length-1].type==="Z");r.length>0&&r[r.length-1].type==="Z"&&r.pop(),s.length>0&&s[s.length-1].type==="Z"&&s.pop(),r.length?s.length||s.push(r[0]):r.push(s[0]);var T=Math.abs(s.length-r.length);T!==0&&(s.length>r.length?r=Un(r,s,u):s.length<r.length&&(s=Un(s,r,u))),r=r.map(function(p,D){return wo(p,s[D])});var m=r.map(function(p){return mo({},p)});return d&&(m.push({type:"Z"}),r.push({type:"Z"})),function(D){if(D===1&&o)return t??[];if(D===0)return r;for(var $=0;$<m.length;++$){var B=r[$],q=s[$],V=m[$],_=wl(Wt[V.type]),j;try{for(_.s();!(j=_.n()).done;){var v=j.value;V[v]=(1-D)*B[v]+D*q[v],(v==="largeArcFlag"||v==="sweepFlag")&&(V[v]=Math.round(V[v]))}}catch(R){_.e(R)}finally{_.f()}}return m}}function Co(e,t,a){var r=qn(e),s=qn(t),i=ia(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},u=i.excludeSegment,o=i.snapEndsToInput;if(!r.length&&!s.length)return function(){return""};var d=To(r,s,{excludeSegment:u,snapEndsToInput:o});return function(m){if(m===1&&o)return t??"";var p=d(m),D="",$=wl(p),B;try{for($.s();!(B=$.n()).done;){var q=B.value;D+=xo(q)}}catch(V){$.e(V)}finally{$.f()}return D}}var ve;(function(e){e.Basis="basis",e.BasisClosed="basisClosed",e.BasisOpen="basisOpen",e.Bundle="bundle",e.Cardinal="cardinal",e.CardinalClosed="cardinalClosed",e.CardinalOpen="cardinalOpen",e.CatmullRom="catmullRom",e.CatmullRomClosed="catmullRomClosed",e.CatmullRomOpen="catmullRomOpen",e.Linear="linear",e.LinearClosed="linearClosed",e.MonotoneX="monotoneX",e.MonotoneY="monotoneY",e.Natural="natural",e.Step="step",e.StepAfter="stepAfter",e.StepBefore="stepBefore"})(ve||(ve={}));const Lo={[ve.Basis]:Xi,[ve.BasisClosed]:Ki,[ve.BasisOpen]:Ji,[ve.Bundle]:Qi,[ve.Cardinal]:eo,[ve.CardinalClosed]:to,[ve.CardinalOpen]:ao,[ve.CatmullRom]:ro,[ve.CatmullRomClosed]:no,[ve.CatmullRomOpen]:lo,[ve.Linear]:Hr,[ve.LinearClosed]:so,[ve.MonotoneX]:io,[ve.MonotoneY]:oo,[ve.Natural]:uo,[ve.Step]:co,[ve.StepAfter]:fo,[ve.StepBefore]:vo},Ao=Object.assign(Object.assign({},Ir),{color:void 0,groupMaxWidth:void 0,groupWidth:void 0,dataStep:void 0,groupPadding:.05,barPadding:0,roundedCorners:2,barMinHeight:2,cursor:null,orientation:sl.Vertical}),Sl=Ve`
  label: grouped-bar-component;
`,Vo=Na`
  :root {
    --vis-grouped-bar-cursor: default;
    --vis-grouped-bar-fill-color: var(--vis-color-main);
    --vis-grouped-bar-stroke-color: none;
    --vis-grouped-bar-stroke-width: 0px;
    --vis-grouped-bar-hover-stroke-width: 1px;
    --vis-grouped-bar-hover-stroke-color: none;


    /* Dark Theme */
    --vis-dark-grouped-bar-stroke-color: none;
  }

  body.theme-dark ${`.${Sl}`} {
    --vis-grouped-bar-stroke-color: var(--vis-dark-grouped-bar-stroke-color);
  }
`,Va=Ve`
  label: bar;
  fill: var(--vis-grouped-bar-fill-color);
  stroke: var(--vis-grouped-bar-stroke-color);
  stroke-width: var(--vis-grouped-bar-stroke-width);
  cursor: var(--vis-grouped-bar-cursor);

  &:hover {
    stroke-width: var(--vis-grouped-bar-hover-stroke-width);
    stroke: var(--vis-grouped-bar-hover-stroke-color);
  }
`,Vr=Ve`
  label: barGroup;
`,Tl=Ve`
  label: barGroupExit;
`,Mo=Object.freeze(Object.defineProperty({__proto__:null,bar:Va,barGroup:Vr,barGroupExit:Tl,globalStyles:Vo,root:Sl},Symbol.toStringTag,{value:"Module"}));class Cl extends Ur{constructor(t){super(),this._defaultConfig=Ao,this.config=this._defaultConfig,this.getAccessors=()=>yr(this.config.y)?this.config.y:[this.config.y],this.events={},this._barData=[],t&&this.setConfig(t)}get bleed(){if(this._barData=this._getVisibleData(),this._barData.length===0)return{top:0,bottom:0,left:0,right:0};const t=!this.isVertical()&&this.dataScale.range()[0]>this.dataScale.range()[1],a=this.dataScale.domain(),r=this._getGroupWidth()/2,s=this._barData.map(($,B)=>$t($,this.config.x,B)),i=cr(s),u=li(s),o=this.dataScale(i),d=this.dataScale(u),T=this.dataScale.invert(o+(t?r:-r)),m=this.dataScale.invert(d+(t?-r:r)),p=T<=a[0]?this.dataScale(a[0])-this.dataScale(T):0,D=m>a[1]?this.dataScale(m)-this.dataScale(a[1]):0;return{top:this.isVertical()?0:t?-D:p,bottom:this.isVertical()?0:t?-p:D,left:this.isVertical()?p:0,right:this.isVertical()?D:0}}get dataScale(){return this.isVertical()?this.xScale:this.yScale}get valueScale(){return this.isVertical()?this.yScale:this.xScale}isVertical(){return this.config.orientation===sl.Vertical}_render(t){const{config:a}=this,r=_r(t)?t:a.duration,s=this._getGroupWidth(),i=this.getAccessors(),u=[-s/2,s/2],o=si().domain(ii(i.length)).range(u).paddingInner(a.barPadding).paddingOuter(a.barPadding),d=this.g.selectAll(`.${Vr}`).data(this._barData,(j,v)=>{var R;return`${(R=za(j,a.id,v))!==null&&R!==void 0?R:v}`}),T=(j,v)=>{const R=this.dataScale($t(j,a.x,v)),ee=this.isVertical()?R:0,re=this.isVertical()?0:R;return`translate(${ee},${re})`},p=d.enter().append("g").attr("class",Vr).attr("transform",T).style("opacity",1).merge(d);Qe(p,r).attr("transform",T).style("opacity",1);const D=d.exit().attr("class",Tl);Qe(D,r).style("opacity",0).remove(),Qe(D.selectAll(`.${Va}`),r).attr("transform",(j,v,R)=>this.isVertical()?`translate(0,${this.yScale(0)}) scale(1,0)`:`translate(${this.xScale(0)},0) scale(0,1)`);const $=o.bandwidth(),B=p.selectAll(`.${Va}`).data(j=>i.map(()=>j)),q=this._getValueAxisDirection(),_=B.enter().append("path").attr("class",Va).attr("d",(j,v)=>{const R=o(v),ee=this.valueScale(0),re=$;return this._getBarPath(R,ee,re,0,!1,q)}).style("fill",(j,v)=>da(j,a.color,v)).merge(B);Qe(_,r).attr("d",(j,v)=>{const R=o(v),ee=$,re=$t(j,i[v]),fe=re<0;let Me=fe?this.valueScale(0):this.valueScale(re||0),te=Math.abs(this.valueScale(0)-this.valueScale(re))||0;if(te<a.barMinHeight){const K=q===Ca.North?-1:1;Me=this.valueScale(0)+K*a.barMinHeight,te=a.barMinHeight}return this._getBarPath(R,Me,ee,te,fe,q)}).style("fill",(j,v)=>da(j,a.color,v)).style("cursor",(j,v)=>za(j,a.cursor,v)),Qe(B.exit(),r).remove()}_getValueAxisDirection(){return this.valueScale.range()[0]>this.valueScale.range()[1]?Ca.North:Ca.South}_getVisibleData(){const{config:t,datamodel:{data:a}}=this,r=this._getGroupWidth(),s=a.length<2?0:r/2,i=this.dataScale,u=Math.abs(i.invert(s)-i.invert(0));return a?.filter((d,T)=>{const m=$t(d,t.x,T),p=i.domain(),D=+p[0],$=+p[1];return m>=D-u&&m<=$+u})}_getBarPath(t,a,r,s,i,u){const{config:o}=this,d=o.roundedCorners?_r(o.roundedCorners)?+o.roundedCorners:r/2:0,T=fi(d,0,Math.min(s,r)/2),m=u===Ca.North,p=this.isVertical()&&i!==m,D=this.isVertical()&&i===m,$=!this.isVertical()&&i,B=!this.isVertical()&&!i;return oi({x:this.isVertical()?t:a+(m?0:-s),y:this.isVertical()?a+(m?0:-s):t,w:this.isVertical()?r:s,h:this.isVertical()?s:r,tl:p||$,tr:p||B,bl:D||$,br:D||B,r:T})}_getGroupWidth(){const{config:t,datamodel:{data:a}}=this;if(ui(a))return 0;if(t.groupWidth)return cr([t.groupWidth,t.groupMaxWidth]);const r=this.dataScale.bandwidth,s=this.dataScale.domain?this.dataScale.domain():[];let u=1+(r?s.length:s[1]-s[0])/t.dataStep||!r&&a.filter((T,m)=>{const p=$t(T,t.x,m);return p>=s[0]&&p<=s[1]}).length||a.length;!r&&u>=2&&(u+=1);const d=(u<2?1:1-t.groupPadding)*(this.isVertical()?this._width:this._height)/u;return cr([d,t.groupMaxWidth])}getValueScaleExtent(t){const{datamodel:a}=this,r=this.getAccessors(),s=t?this._getVisibleData():a.data,i=ci(s,...r),u=di(s,...r);return[i>0?0:i,u<0?0:u]}getDataScaleExtent(){const{config:t,datamodel:a}=this;return vi(a.data,t.x)}getYDataExtent(t){return this.isVertical()?this.getValueScaleExtent(t):this.getDataScaleExtent()}getXDataExtent(){return this.isVertical()?this.getDataScaleExtent():this.getValueScaleExtent(!1)}}Cl.selectors=Mo;var Je;(function(e){e.Circle="circle",e.Cross="cross",e.Diamond="diamond",e.Square="square",e.Star="star",e.Triangle="triangle",e.Wye="wye"})(Je||(Je={}));const zo={[Je.Circle]:cl,[Je.Cross]:Bi,[Je.Diamond]:Ri,[Je.Square]:Hi,[Je.Star]:qi,[Je.Triangle]:Wi,[Je.Wye]:Gi},je=Object.assign(Object.assign({},Je),{Line:"line"});var Ea;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(Ea||(Ea={}));const Oo={items:[],labelClassName:"",onLegendItemClick:void 0,labelFontSize:null,labelMaxWidth:null,bulletSize:null,bulletSpacing:4,bulletShape:e=>{var t;return(t=e.shape)!==null&&t!==void 0?t:je.Circle},orientation:Ea.Horizontal,renderIntoProvidedDomNode:!1},La=pi*3,Fo={[je.Circle]:Math.PI/4,[je.Cross]:5/9,[je.Diamond]:Math.sqrt(3)/6,[je.Square]:1,[je.Star]:.3,[je.Triangle]:Math.sqrt(3)/4,[je.Wye]:5/11};function Ll(e,t,a){return t<1?0:e*t+a*(t-1)}function $o(e){e.each((t,a,r)=>{va(r[a]).append("svg").attr("width","100%").attr("height","100%").append("path")})}function Do(e,t,a){e.each((r,s,i)=>{var u;const o=za(r,t.bulletShape,s),d=mi((u=r.color)!==null&&u!==void 0?u:da(r,a,s)),T=d.length,m=La,p=xr(getComputedStyle(i[s]).getPropertyValue("--vis-legend-bullet-size")),D=t.bulletSpacing*(La/p),$=Ll(m,T,D),B=o===je.Line?La/2.5:La,q=va(i[s]).select("svg").attr("viewBox",`0 0 ${$} ${B}`);q.selectAll("path").remove();const V=r.inactive?"var(--vis-legend-bullet-inactive-opacity)":1;d.forEach((_,j)=>{const v=q.append("path");if(o===je.Line){const R=j*(m+D),ee=R+m;v.attr("d",`M${R},${B/2} L${ee},${B/2}`).attr("transform",null).style("opacity",V).style("stroke",_).style("stroke-width","3px").style("fill",null).style("fill-opacity",null).style("marker-start","none").style("marker-end","none")}else{const R=Zi().type(zo[o]).size(m*B*Fo[o]),ee=(m-2)/m;let re=B/2;switch(o){case je.Triangle:re+=B/8;break;case je.Star:re+=B/16;break;case je.Wye:re-=B/16;break}const fe=j*(m+D)+m/2;v.attr("d",R).attr("transform",`translate(${fe}, ${Math.round(re)}) scale(${ee})`).style("stroke",_).style("stroke-width","1px").style("opacity",null).style("fill",_).style("fill-opacity",V)}})})}const Xr=Ve`
  label: bullet-legend-component;
`,jo=Na`
  :root {
    // Undefined by default to allow proper fallback to var(--vis-font-family)
    /* --vis-legend-font-family: */

    --vis-legend-label-color: #6c778c;
    --vis-legend-label-max-width: 300px;
    --vis-legend-label-font-size: 12px;
    --vis-legend-bullet-size: 9px;
    --vis-legend-bullet-inactive-opacity: 0.15;
    --vis-legend-item-spacing: 20px;
    --vis-legend-vertical-item-spacing: 5px;
    --vis-legend-bullet-label-spacing: 8px;

    --vis-dark-legend-label-color: #eee;
  }

  body.theme-dark ${`.${Xr}`} {
    --vis-legend-label-color: var(--vis-dark-legend-label-color);
  }

  body.theme-patterns {
    --vis-legend-bullet-size: 14px;
  }
`,Ma=Ve`
  label: legendItem;
  display: inline-flex;
  align-items: center;
  font-family: var(--vis-legend-font-family, var(--vis-font-family));
  margin-right: var(--vis-legend-item-spacing);
  white-space: nowrap;
  cursor: default;
  user-select: none;
  max-width: min-content;
`,Al=Ve`
  label: legendItemVertical;
  display: flex;
  margin-top: var(--vis-legend-vertical-item-spacing);
`,Vl=Ve`
  cursor: pointer;
`,Mr=Ve`
  label: legendItemLabel;
  font-size: var(--vis-legend-label-font-size);
  display: inline-block;
  vertical-align: middle;
  color: var(--vis-legend-label-color);
  max-width: var(--vis-legend-label-max-width);
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
`,zr=Ve`
  flex: 0 0 auto;
  label: legendItemBullet;
  margin-right: var(--vis-legend-bullet-label-spacing);
  height: var(--vis-legend-bullet-size);
  width: var(--vis-legend-bullet-size);

  svg {
    display: block;
  }
`,Eo=Object.freeze(Object.defineProperty({__proto__:null,bullet:zr,clickable:Vl,item:Ma,itemVertical:Al,label:Mr,root:Xr,variables:jo},Symbol.toStringTag,{value:"Module"}));class Ml{constructor(t,a){this._defaultConfig=Oo,this.config=this._defaultConfig,this._colorAccessor=r=>r.color,this._container=t,this.div=a?.renderIntoProvidedDomNode?va(this._container):va(this._container).append("div"),this.div.classed(Xr,!0),this.element=this.div.node(),a&&this.update(a)}update(t){this.prevConfig=this.config,this.config=hi(this._defaultConfig,t),this.render()}render(){const{config:t}=this,a=this.div.selectAll(`.${Ma}`).data(t.items),r=a.enter().append("div").on("click",this._onItemClick.bind(this)),s=r.merge(a);s.attr("class",i=>{var u;return`${Ma} ${(u=i.className)!==null&&u!==void 0?u:""}`}).classed(Al,t.orientation===Ea.Vertical).classed(Vl,i=>!!t.onLegendItemClick&&this._isItemClickable(i)).attr("title",i=>i.name).style("display",i=>i.hidden?"none":null),r.append("span").attr("class",zr).call($o),s.select(`.${zr}`).style("width",function(i){const o=(Array.isArray(i.color)?i.color:[i.color]).length,d=xr(getComputedStyle(this).getPropertyValue("--vis-legend-bullet-size"))||9,T=t.bulletSize?xr(t.bulletSize):d,m=t.bulletSpacing;return`${Ll(T,o,m)}px`}).style("height",t.bulletSize).style("box-sizing","content-box").call(Do,this.config,this._colorAccessor),r.append("span").attr("class",Mr).classed(t.labelClassName,!0).style("max-width",t.labelMaxWidth).style("font-size",t.labelFontSize),s.select(`.${Mr}`).text(i=>i.name),a.exit().remove()}_isItemClickable(t){return t.pointer===void 0?!0:t.pointer}_onItemClick(t,a){const{config:{onLegendItemClick:r}}=this,i=this.div.selectAll(`.${Ma}`).nodes().indexOf(t.currentTarget);r&&r(a,i)}destroy(){this.element!==this._container&&this.div.remove()}}Ml.selectors=Eo;var Or;(function(e){e.Solid="solid",e.Dash="dash",e.DashDot="dashDot",e.Dot="dot",e.LongDash="longDash",e.LongDashDot="longDashDot",e.LongDashDotDot="longDashDotDot",e.ShortDash="shortDash",e.ShortDashDot="shortDashDot",e.ShortDashDotDot="shortDashDotDot",e.ShortDot="shortDot"})(Or||(Or={}));var Z;(function(e){e.TopLeft="top-left",e.Top="top",e.TopRight="top-right",e.Right="right",e.BottomRight="bottom-right",e.Bottom="bottom",e.BottomLeft="bottom-left",e.Left="left"})(Z||(Z={}));var Ba;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(Ba||(Ba={}));const Bo=Object.assign(Object.assign({},Ir),{color:void 0,curveType:ve.MonotoneX,baseline:()=>0,opacity:1,cursor:null,minHeight1Px:!1,minHeight:void 0}),zl=Ve`
  label: area-component;
`,No=Na`
  :root {
    --vis-area-cursor: default;
    --vis-area-fill-opacity: 1;
    --vis-area-stroke-color: none;
    --vis-area-stroke-width: 0px;
    --vis-area-stroke-dasharray: none;
    --vis-area-stroke-opacity: 1;
    --vis-area-hover-fill-opacity: none;
    --vis-area-hover-stroke-width: none;

    /* Dark Theme */
    --vis-dark-area-stroke-color: none;
  }

  body.theme-dark ${`.${zl}`} {
    --vis-area-stroke-color: var(--vis-dark-area-stroke-color);
  }

`,Fr=Ve`
  label: area;
  cursor: var(--vis-area-cursor);
  fill-opacity: var(--vis-area-fill-opacity);
  stroke-width: var(--vis-area-stroke-width);
  stroke-dasharray: var(--vis-area-stroke-dasharray);
  stroke: var(--vis-area-stroke-color);
  stroke-opacity: var(--vis-area-stroke-opacity);

  &:hover {
    fill-opacity: var(--vis-area-hover-fill-opacity);
    stroke-width: var(--vis-area-hover-stroke-width);
  }
`,Ro=Object.freeze(Object.defineProperty({__proto__:null,area:Fr,globalStyles:No,root:zl},Symbol.toStringTag,{value:"Module"}));class Wa extends Ur{constructor(t){super(),this._defaultConfig=Bo,this.config=this._defaultConfig,this.stacked=!0,this.events={[Wa.selectors.area]:{}},t&&this.setConfig(t),this.stacked=Array.isArray(this.config.y)}_render(t){super._render(t);const{config:a,datamodel:{data:r}}=this,s=_r(t)?t:a.duration,i=Lo[a.curveType];this._areaGen=Ei().x(V=>V.x).y0(V=>V.y0).y1(V=>V.y1).curve(i);const u=yr(a.y)?a.y:[a.y],o=r.map((V,_)=>this.xScale($t(V,a.x,_))),d=gi(r,a.baseline,u,this._prevNegative);this._prevNegative=d.map(V=>!!V.isMostlyNegative);const T=[],m=d.map(V=>V.map((_,j)=>{var v,R;const ee=o[j],re=this.yScale(_[0]),fe=this.yScale(_[1]),Me=fe>re,te=T[j]||0,K=Me?re+te:re-te,me=Me?fe+te:fe-te;let be=0;return(a.minHeight||a.minHeight1Px)&&Math.abs(me-K)<((v=a.minHeight)!==null&&v!==void 0?v:1)&&(be=((R=a.minHeight)!==null&&R!==void 0?R:1)-Math.abs(me-K),T[j]=te+be),{x:ee,y0:K,y1:Me?me+be:me-be}})),p=m.length-1,D=m.reverse(),$=this.g.selectAll(`.${Fr}`).data(D),B=$.enter().append("path").attr("class",Fr).attr("d",V=>this._areaGen(V)||this._emptyPath()).style("opacity",0).style("fill",(V,_)=>da(r,a.color,p-_)),q=Qe(B.merge($),s).style("opacity",(V,_)=>V.some(v=>v.y0-v.y1!==0)?$t(r,a.opacity,p-_):0).style("fill",(V,_)=>da(r,a.color,p-_)).style("cursor",(V,_)=>za(r,a.cursor,p-_));s?q.attrTween("d",(_,j,v)=>{const R=va(v[j]).attr("d"),ee=this._areaGen(_)||this._emptyPath();return Co(R,ee)}):q.attr("d",V=>this._areaGen(V)||this._emptyPath()),Qe($.exit(),s).style("opacity",0).remove()}getYDataExtent(t){const{config:a,datamodel:r}=this,s=yr(a.y)?a.y:[a.y],i=this.xScale.domain(),u=t?bi(r.data,i,a.x,!0):r.data;return ki(u,a.baseline,...s)}_emptyPath(){const t=this.xScale.range(),a=this.yScale.domain(),r=this.yScale((a[0]+a[1])/2),s=r;return this._areaGen([{y0:r,y1:s,x:t[0]},{y0:r,y1:s,x:t[1]}])}}Wa.selectors=Ro;const Po={solid:"none",shortDash:"6,2",shortDot:"2,2",shortDashDot:"6,2,2,2",shortDashDotDot:"6,2,2,2,2,2",dot:"2,6",dash:"8,6",longDash:"16,6",dashDot:"8,6,2,6",longDashDot:"16,6,2,6",longDashDotDot:"16,6,2,6,2,6"},Io={[Z.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[Z.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[Z.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[Z.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"start",dominantBaseline:"middle"}),[Z.BottomRight]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[Z.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[Z.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[Z.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"end",dominantBaseline:"middle"})},Uo={[Z.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-after-edge"}),[Z.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"end",dominantBaseline:"middle"}),[Z.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[Z.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[Z.BottomRight]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[Z.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"middle"}),[Z.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[Z.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"middle",dominantBaseline:"text-after-edge"})},qo={[Z.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-after-edge"}),[Z.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[Z.TopRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[Z.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"middle"}),[Z.BottomRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a+r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[Z.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[Z.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[Z.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"start",dominantBaseline:"middle"})},Ho={[Z.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[Z.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"start",dominantBaseline:"central"}),[Z.TopRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[Z.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[Z.BottomRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a+r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[Z.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"end",dominantBaseline:"central"}),[Z.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[Z.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"})},Wo=Object.assign(Object.assign({},Ir),{lineWidth:2,axis:wr.Y,value:0,duration:300,color:void 0,lineStyle:Or.Solid,labelPosition:Z.TopRight,labelOffsetX:14,labelOffsetY:14,labelOrientation:Ba.Horizontal}),Yo=Na`
  :root {
    --vis-plotline-color: rgb(226, 32, 58);
    --vis-plotline-width: 2;
    --vis-plotline-dasharray: none;
    --vis-plotline-stroke-dashoffset: 0;
    --vis-plotline-label-font-size: 12px;
    --vis-plotline-label-color: #000;

    --vis-dark-plotline-label-color: #e5e9f7;
  }

  body.theme-dark {
    --vis-plotline-label-color: var(--vis-dark-tooltip-text-color);
  }
`,Go=Ve`
  label: plotline-component;
`,Ol=Ve`
  label: plotline;
  transition: opacity 200ms;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke: var(--vis-plotline-color);
  stroke-width: var(--vis-plotline-width);
  stroke-dasharray: var(--vis-plotline-dasharray);
  stroke-dashoffset: var(--vis-plotline-stroke-dashoffset);
`,Fl=Ve`
  label: plotline-label;
  text-anchor: middle;
  /* dominant-baseline: middle; */
  pointer-events: none;
  font-size: var(--vis-plotline-label-font-size);
  fill: var(--vis-plotline-label-color);
`,Zo=Object.freeze(Object.defineProperty({__proto__:null,globalStyles:Yo,label:Fl,plotline:Ol,root:Go},Symbol.toStringTag,{value:"Module"}));class $l extends Ur{constructor(t){super(),this._defaultConfig=Wo,t&&this.setConfig(t),this.plotline=this.g.append("line").attr("class",Ol),this.label=this.g.append("text").attr("class",Fl)}_render(t){super._render(t);const{config:a}=this;this.value=a.value;let r;typeof a?.lineStyle=="string"?r=Po[a.lineStyle]:Array.isArray(a.lineStyle)?r=a.lineStyle.join(","):r="none",this.value=a.value,this.plotline.attr("stroke-opacity",1).style("stroke-width",a.lineWidth).style("stroke-dasharray",r).style("stroke",a.color);let s=0,i=0,u=0,o=0;if(a.axis===wr.Y?(u=this.yScale(this.value),o=this.yScale(this.value),s=0,i=this._width):(u=0,o=this._height,s=this.xScale(this.value),i=this.xScale(this.value)),Qe(this.plotline,a.duration).attr("x1",s).attr("x2",i).attr("y1",u).attr("y2",o),a.labelText){const d=this.computeLabel(a.axis,i,o,a.labelPosition,a.labelOffsetX,a.labelOffsetY,a.labelOrientation);this.label.text(a.labelText).attr("transform",d.transform).attr("dominant-baseline",d.dominantBaseline).style("fill",a.labelColor).style("text-anchor",d.textAnchor).style("font-size",a.labelSize?`${a.labelSize}px`:void 0),Qe(this.label,a.duration).attr("x",d.x).attr("y",d.y)}Qe(this.plotline.exit()).style("opacity",0).remove()}computeLabel(t,a,r,s,i,u,o){const d=o===Ba.Vertical,T=d?-90:0;let m;t===wr.X?m=(d?Uo:Io)[s]({width:a,height:r,offsetX:i,offsetY:u}):m=(d?Ho:qo)[s]({width:a,height:r,offsetX:i,offsetY:u});const p=T?`rotate(${T}, ${m.x}, ${m.y})`:"";return Object.assign(Object.assign({},m),{rotation:T,transform:p})}}$l.selectors=Zo;const Xo={"data-vis-component":""},pr=et({__name:"index",props:{color:{},curveType:{},baseline:{},opacity:{},cursor:{},minHeight1Px:{type:Boolean},minHeight:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=Br(qr),r=e,s=g(()=>a.data.value??r.data),i=Ra(r),u=C();return yt(()=>{Dt(()=>{var o;u.value=new Wa(i.value),(o=u.value)==null||o.setData(s.value),a.update(u.value)})}),Yt(()=>{var o;(o=u.value)==null||o.destroy(),a.destroy()}),G(i,(o,d)=>{var T;Pa(o,d)||(T=u.value)==null||T.setConfig(i.value)}),G(s,()=>{var o;(o=u.value)==null||o.setData(s.value)}),t({component:u}),(o,d)=>(h(),F("div",Xo))}}),Ko={"data-vis-component":""},Jo=et({__name:"index",props:{color:{},groupWidth:{},groupMaxWidth:{},dataStep:{},groupPadding:{},barPadding:{},roundedCorners:{type:[Number,Boolean]},barMinHeight:{},cursor:{},orientation:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=Br(qr),r=e,s=g(()=>a.data.value??r.data),i=Ra(r),u=C();return yt(()=>{Dt(()=>{var o;u.value=new Cl(i.value),(o=u.value)==null||o.setData(s.value),a.update(u.value)})}),Yt(()=>{var o;(o=u.value)==null||o.destroy(),a.destroy()}),G(i,(o,d)=>{var T;Pa(o,d)||(T=u.value)==null||T.setConfig(i.value)}),G(s,()=>{var o;(o=u.value)==null||o.setData(s.value)}),t({component:u}),(o,d)=>(h(),F("div",Ko))}}),Qo={"data-vis-component":""},eu=et({__name:"index",props:{color:{},lineWidth:{},axis:{},value:{},duration:{},lineStyle:{},labelText:{},labelPosition:{},labelOffsetX:{},labelOffsetY:{},labelOrientation:{},labelColor:{},labelSize:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=Br(qr),r=Ra(e),s=C();return yt(()=>{Dt(()=>{s.value=new $l(r.value),a.update(s.value)})}),Yt(()=>{var i;(i=s.value)==null||i.destroy(),a.destroy()}),G(r,(i,u)=>{var o;Pa(i,u)||(o=s.value)==null||o.setConfig(r.value)}),t({component:s}),(i,u)=>(h(),F("div",Qo))}}),tu=et({__name:"index",props:{items:{},labelClassName:{},onLegendItemClick:{type:Function},labelFontSize:{},labelMaxWidth:{},bulletSize:{},bulletSpacing:{},bulletShape:{},orientation:{},renderIntoProvidedDomNode:{type:Boolean},data:{}},setup(e,{expose:t}){const a=e;g(()=>a.data);const r=Ra(a),s=C(),i=C();return yt(()=>{Dt(()=>{i.value&&(s.value=new Ml(i.value,{...r.value,renderIntoProvidedDomNode:!0}))})}),Yt(()=>{var u;(u=s.value)==null||u.destroy()}),G(r,(u,o)=>{var d;Pa(u,o)||(d=s.value)==null||d.update(r.value)}),t({component:s}),(u,o)=>(h(),F("div",{"data-vis-bullet-legend":"",ref_key:"elRef",ref:i},null,512))}});var au=typeof global=="object"&&global&&global.Object===Object&&global,ru=typeof self=="object"&&self&&self.Object===Object&&self,nu=au||ru||Function("return this")(),Zt=nu.Symbol,Dl=Object.prototype,lu=Dl.hasOwnProperty,su=Dl.toString,la=Zt?Zt.toStringTag:void 0;function iu(e){var t=lu.call(e,la),a=e[la];try{e[la]=void 0;var r=!0}catch{}var s=su.call(e);return r&&(t?e[la]=a:delete e[la]),s}var ou=Object.prototype,uu=ou.toString;function cu(e){return uu.call(e)}var du="[object Null]",vu="[object Undefined]",Hn=Zt?Zt.toStringTag:void 0;function fu(e){return e==null?e===void 0?vu:du:Hn&&Hn in Object(e)?iu(e):cu(e)}function mu(e){return e!=null&&typeof e=="object"}var pu="[object Symbol]";function hu(e){return typeof e=="symbol"||mu(e)&&fu(e)==pu}function gu(e,t){for(var a=-1,r=e==null?0:e.length,s=Array(r);++a<r;)s[a]=t(e[a],a,e);return s}var bu=Array.isArray,Wn=Zt?Zt.prototype:void 0,Yn=Wn?Wn.toString:void 0;function jl(e){if(typeof e=="string")return e;if(bu(e))return gu(e,jl)+"";if(hu(e))return Yn?Yn.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function El(e){return e==null?"":jl(e)}function ku(e,t,a){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),a=a>s?s:a,a<0&&(a+=s),s=t>a?0:a-t>>>0,t>>>=0;for(var i=Array(s);++r<s;)i[r]=e[r+t];return i}function yu(e,t,a){var r=e.length;return a=a===void 0?r:a,!t&&a>=r?e:ku(e,t,a)}var _u="\\ud800-\\udfff",xu="\\u0300-\\u036f",wu="\\ufe20-\\ufe2f",Su="\\u20d0-\\u20ff",Tu=xu+wu+Su,Cu="\\ufe0e\\ufe0f",Lu="\\u200d",Au=RegExp("["+Lu+_u+Tu+Cu+"]");function Bl(e){return Au.test(e)}function Vu(e){return e.split("")}var Nl="\\ud800-\\udfff",Mu="\\u0300-\\u036f",zu="\\ufe20-\\ufe2f",Ou="\\u20d0-\\u20ff",Fu=Mu+zu+Ou,$u="\\ufe0e\\ufe0f",Du="["+Nl+"]",$r="["+Fu+"]",Dr="\\ud83c[\\udffb-\\udfff]",ju="(?:"+$r+"|"+Dr+")",Rl="[^"+Nl+"]",Pl="(?:\\ud83c[\\udde6-\\uddff]){2}",Il="[\\ud800-\\udbff][\\udc00-\\udfff]",Eu="\\u200d",Ul=ju+"?",ql="["+$u+"]?",Bu="(?:"+Eu+"(?:"+[Rl,Pl,Il].join("|")+")"+ql+Ul+")*",Nu=ql+Ul+Bu,Ru="(?:"+[Rl+$r+"?",$r,Pl,Il,Du].join("|")+")",Pu=RegExp(Dr+"(?="+Dr+")|"+Ru+Nu,"g");function Iu(e){return e.match(Pu)||[]}function Uu(e){return Bl(e)?Iu(e):Vu(e)}function qu(e){return function(t){t=El(t);var a=Bl(t)?Uu(t):void 0,r=a?a[0]:t.charAt(0),s=a?yu(a,1).join(""):t.slice(1);return r[e]()+s}}var Hu=qu("toUpperCase");function Gn(e){return Hu(El(e).toLowerCase())}const Wu=et({__name:"ForestryChartDisplay",props:{selectedFrameworks:{default:()=>[]},selectedArtkategori:{},chartType:{},currentTimeValue:{},singleFrameworkSelection:{type:Boolean,default:!1},frameworkComparisonMode:{type:Boolean,default:!1},selectedStartskog:{},redColor:{type:Boolean,default:!1},yellowColor:{type:Boolean,default:!1},maxYValue:{}},async setup(e){let t,a;const{data:r}=([t,a]=ua(()=>Gt("svampar-skogsbruk",()=>ca("svamparSkogsbruk").first())),t=await t,a(),t),{data:s}=([t,a]=ua(()=>Gt("total-svampar-skogsbruk",()=>ca("totalSvamparSkogsbruk").first())),t=await t,a(),t),i=g(()=>Array.isArray(r.value?.entries)?r.value.entries:[]),u=g(()=>Array.isArray(s.value?.entries)?s.value.entries:[]),o=g(()=>{const k=Number(v.maxYValue);return Number.isFinite(k)?[0,k]:void 0}),d=g(()=>v.singleFrameworkSelection&&v.chartType==="area"?he.value:Y.value),T=g(()=>{const k=d.value.map(S=>Number(S?.age)).filter(S=>Number.isFinite(S));return k.length?[Math.min(...k),Math.max(...k)]:[0,1]});g(()=>[(v.selectedFrameworks||[]).join(","),v.selectedStartskog||"",v.chartType||"",v.singleFrameworkSelection?"S":"M",v.currentTimeValue||""].join("|"));const m=g(()=>Array.isArray(d.value)&&d.value.length>0),p=g(()=>{if(!v.singleFrameworkSelection)return[];if(v.frameworkComparisonMode){const k=v.selectedArtkategori?.[0];return k?[k.toLowerCase()]:[]}return(v.selectedArtkategori||[]).map(k=>(k||"").toLowerCase()).filter(k=>!_.value.has(k))}),D=g(()=>ae.value.length===1?ae.value[0].color:"#000000"),$={left:10,right:10,top:10,bottom:10},B=C(null),q=C(!1);let V=null;yt(async()=>{await Dt(),q.value=!0,requestAnimationFrame(()=>{B.value?.offsetWidth}),typeof window<"u"&&"ResizeObserver"in window&&(V=new ResizeObserver(()=>{B.value?.offsetWidth}),B.value&&V.observe(B.value))}),el(()=>{V&&(V.disconnect(),V=null)});const _=C(new Set),j=C(new Set),v=e,R=g(()=>v.redColor?{naturskydd:"#808080",trakthygge:"#7f1d1d",skärmträd:"#b91c1c",luckhuggning:"#f87171",blädning:"#fca5a5"}:v.yellowColor?{naturskydd:"#808080",trakthygge:"#713f12",skärmträd:"#a16207",luckhuggning:"#eab308",blädning:"#fde047"}:{naturskydd:"#808080",trakthygge:"#a855f7",luckhuggning:"#3b82f6",skärmträd:"#eab308",blädning:"#22c55e"});function ee(k,S=1){const A=k.replace("#",""),w=A.length===3?A.split("").map(X=>X+X).join(""):A,L=parseInt(w,16),P=L>>16&255,H=L>>8&255,I=L&255;return`rgba(${P}, ${H}, ${I}, ${S})`}g(()=>{const k={före:-5,efter:1,10:10,20:20,50:50,80:80};return[v.currentTimeValue?k[v.currentTimeValue]??T.value[0]:T.value[0],T.value[1]]});const re={skinnsvampar:"#8B5CF6",spindelskivlingar:"#EC4899","kremlor och riskor":"#0EA5E9","övriga svampar":"#5eead4",matsvamp:"#eab308","rödlistade + signalarter":"#5eead4",total:"#808080"},fe=["skinnsvampar","spindelskivlingar","kremlor och riskor","övriga svampar","matsvamp","rödlistade + signalarter","total"],Me={skinnsvampar:"Skinnsvampar",spindelskivlingar:"Spindelskivlingar","kremlor och riskor":"Kremlor och riskor","övriga svampar":"Övriga svampar",matsvamp:"Matsvampar","rödlistade + signalarter":"Rödlistade + signalarter",total:"Total"},te=k=>Me[k]||Gn(k);function K(k){const S=k.toLowerCase();return S==="naturskydd"?"Ingen åtgärd":S==="trakthygge"?"Trakhyggesbruk":S==="skärmträd"?"Överhållen skärm":Gn(k)}const me=["naturskydd","trakthygge","skärmträd","luckhuggning","blädning"],be=g(()=>(v.selectedFrameworks||[]).map(k=>k.toLowerCase())),le=g(()=>be.value.filter(k=>me.includes(k)&&!j.value.has(k))),se=g(()=>{const k={};for(const S of be.value){const A=ke(S).map(w=>({age:Number(w.age),value:Number(w.klassning)})).filter(w=>Number.isFinite(w.age)&&Number.isFinite(w.value)).sort((w,L)=>w.age-L.age);k[S]=A}return k}),jt=g(()=>{const k=Object.values(se.value);if(!k.length)return[];const S=k.map(I=>I.length?I[0].age:1/0),A=k.map(I=>I.length?I[I.length-1].age:-1/0),w=Math.min(...S),L=Math.max(...A);if(!Number.isFinite(w)||!Number.isFinite(L))return[];const P=[],H=1;for(let I=w;I<=L+1e-9;I+=H){const X=Math.round(I);P.push(X)}return P});function xt(k,S){const A=k.findIndex(P=>P.age===S);if(A!==-1)return k[A].value;let w=-1,L=-1;for(let P=0;P<k.length;P++)if(k[P].age<S&&(w=P),k[P].age>S){L=P;break}if(w!==-1&&L!==-1){const P=k[w],H=k[L],I=(S-P.age)/(H.age-P.age);return P.value+I*(H.value-P.value)}}const Y=g(()=>{const k=[];for(const S of jt.value){const A={age:S};for(const w of le.value){const L=se.value[w]||[],P=xt(L,S);typeof P=="number"&&Number.isFinite(P)&&(A[w]=P)}k.push(A)}return k});g(()=>{const k={},S=Array.isArray(he.value)?he.value:[];for(const A of le.value)k[A]=S.filter(w=>Number.isFinite(Number(w?.age))&&Number.isFinite(Number(w?.[A]))).map(w=>({age:Number(w.age),value:Number(w[A]),__row:w})).sort((w,L)=>w.age-L.age);return k});const ce=g(()=>{if(v.singleFrameworkSelection||le.value.length!==1)return null;const k=(v.selectedArtkategori?.[0]||"").toLowerCase();return k==="total"?"#808080":k==="matsvamp"?"#eab308":k==="rödlistade + signalarter"?"#5eead4":null}),pe=g(()=>{if(v.singleFrameworkSelection){if(v.frameworkComparisonMode)return(v.selectedFrameworks||[]).map(w=>{const L=w.toLowerCase(),P=R.value[L]||"#000000";return{key:L,name:K(L),label:K(L),color:P,colorArea:ee(P,.4),colorLine:P,inactive:j.value.has(L)}});const k=v.selectedArtkategori.map(A=>A.toLowerCase());return fe.filter(A=>k.includes(A)).map(A=>({key:A,name:te(A),label:te(A),color:re[A]||"#000000",inactive:_.value.has(A)}))}else{const k=le.value,S=(v.selectedArtkategori?.[0]||"").toLowerCase(),A=S==="total"?"#808080":S==="matsvamp"?"#eab308":S==="rödlistade + signalarter"?"#5eead4":null;if(k.length===2){const[L,P]=k,H=A||R.value[L]||"#000000",I="#0a0a0a";return[{key:L,name:K(L),label:K(L),color:H,colorArea:ee(H,.5),colorLine:ee(H,.5),inactive:j.value.has(L),isSecondary:!0},{key:P,name:K(P),label:K(P),color:I,colorArea:ee(I,.5),colorLine:ee(I,.5),lineDashArray:[5],inactive:j.value.has(P),isSecondary:!1}]}return me.filter(L=>v.selectedFrameworks.map(P=>P.toLowerCase()).includes(L)).map(L=>({key:L,name:K(L),label:K(L),color:ce.value||R.value[L]||"#000000",colorArea:ce.value||R.value[L]||"#000000",colorLine:ce.value||R.value[L]||"#000000",inactive:j.value.has(L)}))}}),ae=g(()=>v.singleFrameworkSelection?v.frameworkComparisonMode?pe.value.filter(k=>!j.value.has(k.key)):[]:pe.value.filter(k=>!k.inactive));function ke(k){const S=v.selectedArtkategori.map(L=>L.toLowerCase()),A=S.includes("total")?u.value:i.value,w=v.selectedStartskog?v.selectedStartskog.toLowerCase():null;return A.filter(L=>{const P=S.includes(L.artkategori?.toLowerCase()),H=L.frameworks?.toLowerCase()===k.toLowerCase(),I=!w||(L.startskog?.toLowerCase()??w)===w;return P&&H&&I}).map(L=>({age:L.ålder,klassning:+L.klassning}))}const he=g(()=>{const k=new Map;if(v.singleFrameworkSelection){const S=v.frameworkComparisonMode?(v.selectedFrameworks||[]).map(A=>A.toLowerCase()).slice(0,2):[v.selectedFrameworks[0]?.toLowerCase()].filter(Boolean);v.selectedArtkategori.forEach(A=>{const w=A.toLowerCase(),L=w==="total"?u.value:i.value,P=v.selectedStartskog?v.selectedStartskog.toLowerCase():null;S.forEach(H=>{L.filter(X=>{const ot=X.artkategori?.toLowerCase()===w,ut=X.frameworks?.toLowerCase()===H,ct=!P||(X.startskog?.toLowerCase()??P)===P;return ot&&ut&&ct}).map(X=>({age:X.ålder,klassning:+X.klassning})).forEach(X=>{const ot=k.get(X.age)||{age:X.age};if(v.frameworkComparisonMode){const ut=`${H}__compare`,ct=ot[ut]||{};ct[w]=X.klassning,ot[ut]=ct}else ot[w]=X.klassning;k.set(X.age,ot)})})})}else be.value.forEach(S=>{ke(S).forEach(w=>{const L=k.get(w.age)||{age:w.age};L[S]=w.klassning,k.set(w.age,L)})});return Array.from(k.values()).sort((S,A)=>S.age-A.age)}),de=k=>{const S=Number(k?.age);return Number.isFinite(S)?S:void 0},ye=g(()=>{if(v.singleFrameworkSelection){if(v.frameworkComparisonMode){const S=p.value[0]||v.selectedArtkategori[0]?.toLowerCase();return ae.value.map(A=>{const w=A.key;return L=>{const H=L?.[`${w}__compare`]?.[S];return Number.isFinite(Number(H))?Number(H):NaN}})}return(p.value.length?p.value:v.selectedArtkategori.map(S=>S.toLowerCase())).filter(S=>!_.value.has(S)).map(S=>A=>A[S])}return ae.value.map(k=>S=>S[k.key])}),_e=g(()=>v.singleFrameworkSelection?v.frameworkComparisonMode?ae.value.map(S=>S.colorLine||S.color||"#000000"):(p.value.length?p.value:v.selectedArtkategori.map(S=>S.toLowerCase())).filter(S=>!_.value.has(S)).map(S=>re[S]||"#000000"):ae.value.map(k=>k.color||"#000000"));function xe(k){const S=(k.key||k.name||"").toLowerCase();if(S)if(v.singleFrameworkSelection)if(v.frameworkComparisonMode){const A=new Set(j.value);A.has(S)?A.delete(S):A.add(S),j.value=A}else{const A=new Set(_.value);A.has(S)?A.delete(S):A.add(S),_.value=A}else{const A=me.find(L=>L===S)||me.find(L=>K(L).toLowerCase()===S);if(!A)return;const w=new Set(j.value);w.has(A)?w.delete(A):w.add(A),j.value=w}}const it=g(()=>!v.singleFrameworkSelection||v.frameworkComparisonMode?[]:p.value.map(k=>S=>Number(S?.[k]??0))),He=g(()=>!v.singleFrameworkSelection||v.frameworkComparisonMode?[]:p.value.map(k=>re[k]||"#999")),tt=sa({age:0});function Xt(k){return k?Object.keys(k).filter(A=>A!=="age"&&A!=="__markerY").some(A=>{const w=k[A];return w&&typeof w=="object"?Object.values(w).some(L=>Number.isFinite(Number(L))):Number.isFinite(Number(w))}):!1}const Kt=g(()=>v.singleFrameworkSelection?v.frameworkComparisonMode?ae.value.length:p.value.length:ae.value.length),$e=g(()=>Kt.value>0),Jt=g(()=>{const k=d.value;return Kt.value?k.filter(S=>Xt(S)):v.frameworkComparisonMode&&v.singleFrameworkSelection&&k.length?k.map(S=>{const A={age:S.age};for(const w of v.selectedFrameworks||[]){const L=w.toLowerCase();A[`${L}__compare`]={[p.value[0]||v.selectedArtkategori[0]?.toLowerCase()||""]:NaN}}return A}):k.length?k:[tt]}),Qt=k=>{if(!k)return"";const S=k.age;if(!Number.isFinite(Number(S)))return"";const w=S===-5?"före":S===1?"1 år":`${(H=>Number.isInteger(H)?`${H}`:`${H}`.replace(".5",",5"))(S)} år`;let L;if(v.singleFrameworkSelection)if(v.frameworkComparisonMode){const H=p.value[0]||v.selectedArtkategori[0]?.toLowerCase();L=ae.value.map(I=>{const X=I.key;return{key:`${X}__compare`,label:K(X),color:I.color||R.value[X]||"#999",category:H}})}else L=v.selectedArtkategori.map(H=>{const I=H.toLowerCase();return{key:I,label:te(I),color:re[I]||"#999"}});else L=ae.value.map(H=>({key:H.key,label:K(H.key),color:H.color||"#999"}));const P=L.map(H=>{const I=v.singleFrameworkSelection&&v.frameworkComparisonMode?k?.[H.key]?.[H.category]:k[H.key];if(I==null)return"";const X=typeof I=="number"?I>=10?Math.round(I).toString():I.toFixed(2):String(I);return`
        <div style="display:flex;align-items:center;gap:0.5rem;line-height:1.2;">
          <span style="display:inline-block;width:8px;height:8px;border-radius:50%;background:${H.color};"></span>
          <span>${H.label}: <strong>${X}</strong></span>
        </div>`}).filter(Boolean).join("");return`
    <div style="min-width:120px">
      <div style="font-weight:600;margin-bottom:4px">${w}</div>
      ${P}
    </div>`};return(k,S)=>{const A=Ms;return h(),F("div",{class:"custom-area",ref_key:"rootEl",ref:B,style:kr({"--vis-area-stroke-color":D.value})},[x(A,null,{default:O(()=>[q.value&&m.value&&pe.value.length?(h(),E(M(tu),{key:0,items:pe.value,onLegendItemClick:xe,class:"mx-4 flex flex-wrap gap-2"},null,8,["items"])):z("",!0),q.value&&m.value?(h(),E(M(yi),{key:1,data:Jt.value.length?Jt.value:[tt],height:120,margin:$,xDomain:T.value,yDomain:o.value},{default:O(()=>[v.chartType==="area"&&v.singleFrameworkSelection&&!v.frameworkComparisonMode?(h(),F(Se,{key:0},[x(M(pr),{x:de,y:it.value,color:He.value,interpolateMissingData:!0},null,8,["y","color"]),$e.value?(h(),E(M(dr),{key:0,template:Qt})):z("",!0),$e.value?(h(),E(M(vr),{key:1,horizontalShift:30})):z("",!0)],64)):v.chartType==="area"&&v.singleFrameworkSelection&&v.frameworkComparisonMode?(h(),F(Se,{key:1},[(h(!0),F(Se,null,qe(ae.value,w=>(h(),E(M(pr),{key:w.key+"-compare-area",x:de,y:L=>{const P=p.value[0];if(!P)return Number.isFinite(Number(L?.age))?0:NaN;const H=w.key+"__compare",I=L?.[H]?.[P];if(I==null||I==="")return Number.isFinite(Number(L?.age))?0:NaN;const X=Number(I);return Number.isFinite(X)?X:Number.isFinite(Number(L?.age))?0:NaN},color:()=>w.colorArea||w.color,interpolateMissingData:!0,zIndex:1},null,8,["y","color"]))),128)),$e.value?(h(),E(M(dr),{key:0,template:Qt})):z("",!0),$e.value?(h(),E(M(vr),{key:1,horizontalShift:30})):z("",!0)],64)):v.chartType==="area"?(h(),F(Se,{key:2},[(h(!0),F(Se,null,qe(ae.value,w=>(h(),E(M(pr),{key:w.key+"-area",x:de,y:L=>{const P=Number(L?.[w.key]);return Number.isFinite(P)?P:Number.isFinite(Number(L?.age))?0:NaN},color:()=>w.colorArea||w.color,interpolateMissingData:!0,zIndex:1},null,8,["y","color"]))),128)),$e.value?(h(),E(M(dr),{key:0,template:Qt})):z("",!0),$e.value?(h(),E(M(vr),{key:1,horizontalShift:30})):z("",!0),$e.value?(h(),E(M(eu),{key:2,value:k.currentTimeValue,color:"rgba(220, 114, 0, 1)",axis:"x",labelOrientation:"vertical",zIndex:20},null,8,["value"])):z("",!0)],64)):v.chartType==="bar"?(h(),E(M(Jo),{key:3,color:_e.value,x:de,y:ye.value,groupPadding:.5,groupMaxWidth:20},null,8,["color","y"])):z("",!0),x(M(Dn),{tickTextFontSize:"12px",gridLine:!0,type:"x",tickValues:[0,10,20,30,40,50,60,70,80,90],tickFormat:w=>w===10||w===30||w===40||w===60||w===70||w===90?"":w},null,8,["tickFormat"]),x(M(Dn),{tickTextFontSize:"12px",type:"y"})]),_:1},8,["data","xDomain","yDomain"])):z("",!0)]),_:1})],4)}}}),Yu=Object.assign(Wu,{__name:"ForestryChartDisplay"}),Gu={class:"mt-2 ml-2 flex justify-between"},Zu={class:"flex items-center cursor-pointer w-fit hover:bg-muted px-2"},Xu={class:"text-neutral-800 text-md font-semibold leading-loose pr-2 rounded-sm"},Ku={class:"p-2 flex flex-col gap-2"},Ju={key:0},Qu={key:0,class:"text-base/7"},ec={key:1},tc={key:0,class:"text-base/7"},ac={key:2},rc={key:0,class:"text-base/7"},nc={key:3},lc={key:0,class:"text-base/7"},sc=et({__name:"ForestryChartMain",props:{parentSelectedFrameworks:{},currentTimeValue:{},currentStartskog:{},selectedChart:{}},emits:["update:selectedChart"],setup(e,{expose:t,emit:a}){const r=e,s=a;C("naturskog"),C("naturskog"),C("naturskog");const i=C("trakthygge");C(!0),C(!1);const u=C(!1),o=C(!1),d=C(!1),T=C(!1),m=[{label:"Total mängd mykorrhizasvamp",value:"skogsskole"},{label:"Naturvårdsarter",value:"rodlistade"},{label:"Matsvampar",value:"matsvampar"},{label:"Olika svampgrupper",value:"grupper"}],p=C(m.some(v=>v.value===r.selectedChart)?r.selectedChart:m[0].value),D=g(()=>(r.parentSelectedFrameworks?.length??0)===2);function $(v){m.some(R=>R.value===v)&&(p.value=v)}t({setSelectedChart:$}),G(()=>r.selectedChart,v=>{typeof v=="string"&&m.some(R=>R.value===v)&&p.value!==v&&(p.value=v)}),G(p,v=>{s("update:selectedChart",v)});const B=[{label:"Naturskydd",value:"naturskydd"},{label:"Blädning",value:"blädning"},{label:"Trakthygge",value:"trakthygge"},{label:"Skärmträd",value:"skärmträd"},{label:"Luckhuggning",value:"luckhuggning"}],q=C("area");C("area"),C(B.map(v=>v.value));const V=C(["skinnsvampar","kremlor och riskor","spindelskivlingar","övriga svampar"]),_=[{label:"Skinnsvampar",value:"skinnsvampar"},{label:"Spindelskivlingar",value:"spindelskivlingar"},{label:"Kremlor och riskor",value:"kremlor och riskor"},{label:"Övriga svampar",value:"övriga svampar"}],j=C(_[0].value);return G([p,D],([v,R])=>{v==="grupper"&&R||(j.value=_[0].value)}),G(()=>r.parentSelectedFrameworks?.length,()=>{p.value==="grupper"&&D.value&&(j.value=_[0].value)}),(v,R)=>{const ee=zs,re=Nr,fe=tl,Me=ll,te=Yu;return h(),F("div",null,[f("div",Gu,[x(fe,{content:{align:"start",side:"bottom",sideOffset:8}},{content:O(()=>[f("div",Ku,[(h(),F(Se,null,qe(m,K=>x(re,{size:"lg",key:K.value,color:"neutral",variant:"ghost",onClick:me=>p.value=K.value},{default:O(()=>[st(W(K.label),1)]),_:2},1032,["onClick"])),64))])]),default:O(()=>[f("div",Zu,[f("h1",Xu,W(m.find(K=>K.value===p.value)?.label||"Välj diagram"),1),x(ee,{name:"i-heroicons-chevron-up-down",class:"size-4"})])]),_:1}),p.value==="grupper"&&D.value?(h(),E(Me,{key:0,modelValue:j.value,"onUpdate:modelValue":R[0]||(R[0]=K=>j.value=K),items:_,size:"sm",class:"w-56",placeholder:"Välj svampgrupp"},null,8,["modelValue"])):z("",!0)]),f("div",null,[p.value==="skogsskole"?(h(),F("div",Ju,[u.value?(h(),F("p",Qu," Vid trakthyggesbruk minskar mängden mykorrhizasvamp nästan till noll direkt efter avverkning. I takt med att träden växer upp etableras ett nytt svampsamhälle. När träden är mellan 40-70 år, är fotosyntesen som mest effektiv — vilket kan leda till att mängden mykorrhiza blir större än innan avverkningen. Överhållen skärm följer ett liknande mönster, men eftersom marken aldrig blir helt kal minskar svampmängden inte lika mycket. Blädning och luckhuggning innebär återkommande mindre ingrepp, där svampmängden sjunker något ungefär vart trettionde år men i övrigt hålls relativt stabil över tid. ")):z("",!0),x(te,{selectedFrameworks:r.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","blädning","skärmträd"],selectedArtkategori:["total"],chartType:q.value,maxYValue:130,currentTimeValue:r.currentTimeValue},null,8,["selectedFrameworks","chartType","currentTimeValue"])])):z("",!0),p.value==="rodlistade"?(h(),F("div",ec,[o.value?(h(),F("p",tc," Praesent elementum ut lacus a pharetra. Sed a malesuada mauris. Morbi et convallis libero. Aliquam vestibulum, felis eu fringilla elementum, nibh nunc tincidunt ex, quis vulputate nunc erat eu quam. Phasellus rutrum bibendum lacinia. Fusce aliquam aliquet lectus, eget gravida purus lobortis id. Curabitur viverra quam a risus sagittis maximus. ")):z("",!0),x(te,{selectedFrameworks:r.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","blädning","skärmträd"],selectedArtkategori:["rödlistade + signalarter"],chartType:q.value,selectedStartskog:r.currentStartskog,redColor:!0,maxYValue:.65,currentTimeValue:r.currentTimeValue},null,8,["selectedFrameworks","chartType","selectedStartskog","currentTimeValue"])])):z("",!0),p.value==="matsvampar"?(h(),F("div",ac,[d.value?(h(),F("p",rc," Praesent elementum ut lacus a pharetra. Sed a malesuada mauris. Morbi et convallis libero. Aliquam vestibulum, felis eu fringilla elementum, nibh nunc tincidunt ex, quis vulputate nunc erat eu quam. Phasellus rutrum bibendum lacinia. Fusce aliquam aliquet lectus, eget gravida purus lobortis id. Curabitur viverra quam a risus sagittis maximus. ")):z("",!0),x(te,{selectedFrameworks:r.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","blädning","skärmträd"],selectedArtkategori:["matsvamp"],chartType:q.value,selectedStartskog:r.currentStartskog,yellowColor:!0,maxYValue:28,currentTimeValue:r.currentTimeValue},null,8,["selectedFrameworks","chartType","selectedStartskog","currentTimeValue"])])):z("",!0),p.value==="grupper"?(h(),F("div",nc,[T.value?(h(),F("p",lc," Praesent elementum ut lacus a pharetra. Sed a malesuada mauris. Morbi et convallis libero. Aliquam vestibulum, felis eu fringilla elementum, nibh nunc tincidunt ex, quis vulputate nunc erat eu quam. Phasellus rutrum bibendum lacinia. Fusce aliquam aliquet lectus, eget gravida purus lobortis id. Curabitur viverra quam a risus sagittis maximus. ")):z("",!0),x(te,{selectedFrameworks:r.parentSelectedFrameworks??[i.value],selectedArtkategori:D.value?[j.value]:V.value,frameworkComparisonMode:D.value,chartType:q.value,singleFrameworkSelection:!0,selectedStartskog:r.currentStartskog,maxYValue:100,currentTimeValue:r.currentTimeValue},null,8,["selectedFrameworks","selectedArtkategori","frameworkComparisonMode","chartType","selectedStartskog","currentTimeValue"])])):z("",!0)])])}}}),Hl=Object.assign(al(sc,[["__scopeId","data-v-4dfa2a97"]]),{__name:"ForestryChartMain"}),ic={slots:{root:"relative flex items-start",base:["inline-flex items-center shrink-0 rounded-full border-2 border-transparent focus-visible:outline-2 focus-visible:outline-offset-2 data-[state=unchecked]:bg-accented","transition-[background] duration-200"],container:"flex items-center",thumb:"group pointer-events-none rounded-full bg-default shadow-lg ring-0 transition-transform duration-200 data-[state=unchecked]:translate-x-0 data-[state=unchecked]:rtl:-translate-x-0 flex items-center justify-center",icon:["absolute shrink-0 group-data-[state=unchecked]:text-dimmed opacity-0 size-10/12","transition-[color,opacity] duration-200"],wrapper:"ms-2",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"data-[state=checked]:bg-primary focus-visible:outline-primary",icon:"group-data-[state=checked]:text-primary"},secondary:{base:"data-[state=checked]:bg-secondary focus-visible:outline-secondary",icon:"group-data-[state=checked]:text-secondary"},tertiary:{base:"data-[state=checked]:bg-tertiary focus-visible:outline-tertiary",icon:"group-data-[state=checked]:text-tertiary"},rodeodust:{base:"data-[state=checked]:bg-rodeodust focus-visible:outline-rodeodust",icon:"group-data-[state=checked]:text-rodeodust"},poison:{base:"data-[state=checked]:bg-poison focus-visible:outline-poison",icon:"group-data-[state=checked]:text-poison"},signal:{base:"data-[state=checked]:bg-signal focus-visible:outline-signal",icon:"group-data-[state=checked]:text-signal"},info:{base:"data-[state=checked]:bg-info focus-visible:outline-info",icon:"group-data-[state=checked]:text-info"},success:{base:"data-[state=checked]:bg-success focus-visible:outline-success",icon:"group-data-[state=checked]:text-success"},warning:{base:"data-[state=checked]:bg-warning focus-visible:outline-warning",icon:"group-data-[state=checked]:text-warning"},error:{base:"data-[state=checked]:bg-error focus-visible:outline-error",icon:"group-data-[state=checked]:text-error"},kalkmark:{base:"data-[state=checked]:bg-kalkmark focus-visible:outline-kalkmark",icon:"group-data-[state=checked]:text-kalkmark"},vanligmark:{base:"data-[state=checked]:bg-vanligmark focus-visible:outline-vanligmark",icon:"group-data-[state=checked]:text-vanligmark"},time:{base:"data-[state=checked]:bg-time focus-visible:outline-time",icon:"group-data-[state=checked]:text-time"},neutral:{base:"data-[state=checked]:bg-inverted focus-visible:outline-inverted",icon:"group-data-[state=checked]:text-highlighted"}},size:{xs:{base:"w-7",container:"h-4",thumb:"size-3 data-[state=checked]:translate-x-3 data-[state=checked]:rtl:-translate-x-3",wrapper:"text-xs"},sm:{base:"w-8",container:"h-4",thumb:"size-3.5 data-[state=checked]:translate-x-3.5 data-[state=checked]:rtl:-translate-x-3.5",wrapper:"text-xs"},md:{base:"w-9",container:"h-5",thumb:"size-4 data-[state=checked]:translate-x-4 data-[state=checked]:rtl:-translate-x-4",wrapper:"text-sm"},lg:{base:"w-10",container:"h-5",thumb:"size-4.5 data-[state=checked]:translate-x-4.5 data-[state=checked]:rtl:-translate-x-4.5",wrapper:"text-sm"},xl:{base:"w-11",container:"h-6",thumb:"size-5 data-[state=checked]:translate-x-5 data-[state=checked]:rtl:-translate-x-5",wrapper:"text-base"}},checked:{true:{icon:"group-data-[state=checked]:opacity-100"}},unchecked:{true:{icon:"group-data-[state=unchecked]:opacity-100"}},loading:{true:{icon:"animate-spin"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75",description:"cursor-not-allowed opacity-75"}}},defaultVariants:{color:"primary",size:"md"}},oc=Object.assign({inheritAttrs:!1},{__name:"USwitch",props:Fn({as:{type:null,required:!1},color:{type:null,required:!1},size:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1},checkedIcon:{type:[String,Object],required:!1},uncheckedIcon:{type:[String,Object],required:!1},label:{type:String,required:!1},description:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},value:{type:String,required:!1},defaultValue:{type:Boolean,required:!1}},{modelValue:{type:Boolean,default:void 0},modelModifiers:{}}),emits:Fn(["change"],["update:modelValue"]),setup(e,{emit:t}){const a=e,r=Os(),s=t,i=Fs(e,"modelValue",{type:Boolean,default:void 0}),u=$s(),o=Ds(js(a,"required","value","defaultValue")),{id:d,emitFormChange:T,emitFormInput:m,size:p,color:D,name:$,disabled:B,ariaAttrs:q}=Es(a),V=d.value??Bs(),_=g(()=>$n({extend:$n(ic),...u.ui?.switch||{}})({size:p.value,color:D.value,required:a.required,loading:a.loading,disabled:B.value||a.loading}));function j(v){const R=new Event("change",{target:{value:v}});s("change",R),T(),m()}return(v,R)=>(h(),E(M(Er),{as:e.as,class:oe(_.value.root({class:[a.ui?.root,a.class]}))},{default:O(()=>[f("div",{class:oe(_.value.container({class:a.ui?.container}))},[x(M(Oi),Qn({id:M(V)},{...M(o),...v.$attrs,...M(q)},{modelValue:i.value,"onUpdate:modelValue":[R[0]||(R[0]=ee=>i.value=ee),j],name:M($),disabled:M(B)||e.loading,class:_.value.base({class:a.ui?.base})}),{default:O(()=>[x(M($i),{class:oe(_.value.thumb({class:a.ui?.thumb}))},{default:O(()=>[e.loading?(h(),E(Aa,{key:0,name:e.loadingIcon||M(u).ui.icons.loading,class:oe(_.value.icon({class:a.ui?.icon,checked:!0,unchecked:!0}))},null,8,["name","class"])):(h(),F(Se,{key:1},[e.checkedIcon?(h(),E(Aa,{key:0,name:e.checkedIcon,class:oe(_.value.icon({class:a.ui?.icon,checked:!0}))},null,8,["name","class"])):z("",!0),e.uncheckedIcon?(h(),E(Aa,{key:1,name:e.uncheckedIcon,class:oe(_.value.icon({class:a.ui?.icon,unchecked:!0}))},null,8,["name","class"])):z("",!0)],64))]),_:1},8,["class"])]),_:1},16,["id","modelValue","name","disabled","class"])],2),e.label||r.label||e.description||r.description?(h(),F("div",{key:0,class:oe(_.value.wrapper({class:a.ui?.wrapper}))},[e.label||r.label?(h(),E(M(ai),{key:0,for:M(V),class:oe(_.value.label({class:a.ui?.label}))},{default:O(()=>[kt(v.$slots,"label",{label:e.label},()=>[st(W(e.label),1)])]),_:3},8,["for","class"])):z("",!0),e.description||r.description?(h(),F("p",{key:1,class:oe(_.value.description({class:a.ui?.description}))},[kt(v.$slots,"description",{description:e.description},()=>[st(W(e.description),1)])],2)):z("",!0)],2)):z("",!0)]),_:3},8,["as","class"]))}}),uc={class:"absolute inset-0",style:{"z-index":"0"}},cc={class:"flex h-full relative"},dc={class:"absolute text-end right-3 top-2"},vc={class:"absolute top-2 left-3"},fc={key:1,class:"flex w-full h-full gap-1"},mc={class:"w-1/2 h-full"},pc={class:"w-1/2 h-full"},hc={__name:"CustomImageComparisonSlider",props:{frameworkLabel:{type:String,default:""},timeLabel:{type:String,default:""},frameworkLabel2:{type:String,default:""},timeLabel2:{type:String,default:""},layoutMode:{type:String,default:"slider"}},setup(e,{expose:t}){rl("(max-width: 767px)");const a=e,r=C(a.layoutMode);G(()=>a.layoutMode,$=>{($==="slider"||$==="side-by-side"||$==="sideBySide")&&(r.value=$)});const s=C(null),i=C(.5);let u=!1;function o($){if(!s.value)return;const B=s.value.getBoundingClientRect();let V=(($.touches?$.touches[0].clientX:$.clientX)-B.left)/B.width;V=Math.max(0,Math.min(V,1)),i.value=V}function d($){r.value==="slider"&&(u=!0,o($),window.addEventListener("mousemove",T),window.addEventListener("mouseup",m),window.addEventListener("touchmove",T),window.addEventListener("touchend",m))}function T($){u&&o($)}function m(){u=!1,window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",m),window.removeEventListener("touchmove",T),window.removeEventListener("touchend",m)}function p(){r.value=r.value==="slider"?"sideBySide":"slider"}function D($){($==="slider"||$==="sideBySide")&&(r.value=$)}return t({toggleLayoutMode:p,setLayoutMode:D}),yt(()=>{i.value=.5}),($,B)=>{const q=Rr;return r.value==="slider"?(h(),F("div",{key:0,ref_key:"container",ref:s,class:"relative w-full h-full overflow-hidden select-none"},[f("div",uc,[kt($.$slots,"second")]),f("div",{class:"absolute inset-0 overflow-hidden",style:kr({clipPath:"inset(0 calc(100% - "+i.value*100+"%) 0 0)",zIndex:10})},[kt($.$slots,"first")],4),f("div",{class:"absolute top-0 flex items-center justify-center h-full w-10 cursor-ew-resize",style:kr({left:i.value*100+"%",transform:"translateX(-50%)",zIndex:20}),onMousedown:d,onTouchstart:d},[f("div",cc,[f("div",dc,[x(q,{size:"lg",class:"backdrop-blur-xl bg-neutral-950/50 text-neutral-100 h-fit whitespace-nowrap"},{default:O(()=>[st(W(e.timeLabel),1)]),_:1})]),B[0]||(B[0]=f("div",{class:"h-full w-1.5 bg-neutral-100/90 backdrop-blur-md inset-shadow-sm inset-shadow-neutral-400"},null,-1)),f("div",vc,[x(q,{size:"lg",class:"backdrop-blur-xl bg-neutral-950/50 text-neutral-100 h-fit whitespace-nowrap"},{default:O(()=>[st(W(e.timeLabel2),1)]),_:1})])])],36)],512)):r.value==="sideBySide"?(h(),F("div",fc,[f("div",mc,[kt($.$slots,"first")]),f("div",pc,[kt($.$slots,"second")])])):z("",!0)}}},gc=Pr("onboardingStore",{state:()=>({selectedStartskog:0,selectedFramework:1})}),bc=[{id:"manga_arter_pa_trad",title:"Många arter på ett träd",text:"På rötterna av äldre träd kan det finnas mycel av 50-100 olika arter mykorrhizasvampar.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["före"],placement:"LEFT"},{framework:["trakthygge"],times:["före"],placement:"LEFT"},{framework:["blädning"],times:["förr"],placement:"LEFT"},{framework:["skärmträd"],times:["före"],placement:"LEFT"},{framework:["luckhuggning"],times:["före"],placement:"LEFT"}]},{id:"mykorrhiza_dar_det_finns_rotter",title:"Mykorrhiza där det finns rötter",text:"Mykorrhizasvamparnas mycel finns lika djupt ner i marken som rötter når, och så långt träds rötter breder ut sig, 10-15 meter från stammen. Men det är rikligast med mykorrhiza närmast trädet och i de översta 10 cm av skogsmarken.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["före"],placement:"LEFT"},{framework:["trakthygge"],times:["före"],placement:"LEFT"},{framework:["blädning"],times:["förr"],placement:"LEFT"},{framework:["skärmträd"],times:["före"],placement:"LEFT"},{framework:["luckhuggning"],times:["före"],placement:"LEFT"}]},{id:"matsvampsmycel_kort_tid",title:"Matsvamp efter avverkning",text:"Nästan alla matsvampar är mykorrhizasvampar och försvinner efter avverkning. De överlever om dess mycel växer med hänsynsträd som lämnats eller nära en skogskant. Annars behöver de återetableras i ungskog från sporer som sprids in från näraliggande skogar.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["trakthygge"],times:["efter"],placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],placement:"LEFT"}]},{id:"matsvampsmycel_i_aldrre_skog",title:"Mer matsvamp i äldre skog",text:"Mängden matsvampar är större i äldre skog eftersom större träd har högre fotosyntes och kan skicka ner mer socker till sina rötter.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["före","efter","10","20","50","80"],placement:"LEFT"},{framework:["trakthygge"],times:["före","50","80"],placement:"LEFT"},{framework:["blädning"],times:["före","efter","10","20","50","80"],placement:"LEFT"},{framework:["skärmträd"],times:["före","50","80"],placement:"LEFT"},{framework:["luckhuggning"],times:["före","50","80"],placement:"LEFT"}]},{id:"mycel_av_rodlistade_svampar",title:"Rödlistade svampar",text:"Rödlistade mykorrhizasvampar har ofta speciella miljökrav, och förekommer främst i äldre skog. Generellt kan mycel av mykorrhizasvampar leva vidare på en plast så länge det finns levande träd. Svampindividers mycel kan bli många decennier till potentiellt sekler gamla.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-award-star-outline",color:"signal-500",positions:[{framework:["naturskydd"],times:["före","efter","10","20","50","80"],placement:"LEFT"},{framework:["trakthygge"],times:["före"],placement:"LEFT"},{framework:["blädning"],times:["före"],placement:"LEFT"},{framework:["skärmträd"],times:["före"],placement:"LEFT"},{framework:["luckhuggning"],times:["före"],placement:"LEFT"}]},{id:"hogstubbe",title:"Högstubbe",text:"Här finns inga levande mykorrhizamycel. Trädets rötter är döda.",thumbnail:"/images/Skogsbruk.png",icon:"i-fluent-emoji-high-contrast-wood",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter"],x:.51,y:.26,placement:"LEFT"},{framework:["trakthygge"],times:["efter"],x:.621,y:.3,placement:"LEFT"}]},{id:"stubbe",title:"Stubbe",text:"Trädets fotosyntes och flöde av energi till sina rötter har upphört. Efter avverkning tynar mykorrhizasvamparna bort och dör efter ett par månader - ett år.",thumbnail:"/images/Skogsbruk.png",icon:"i-fluent-emoji-high-contrast-wood",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter"],x:.422,y:.185,placement:"LEFT"},{framework:["trakthygge"],times:["efter"],x:.573,y:.32,placement:"LEFT"}]},{id:"hansynstrad",title:"Hänsynsträd",text:"De flesta mykorrhizasvamparna som växte med trädets rötter i skogen före avverkningen finns kvar och lever vidare. Dessa mycel kan växa in i och spridas till uppväxande trädplantor.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-tree-circle",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter","20","50","80"],x:.335,y:.38,placement:"LEFT"},{framework:["trakthygge"],times:["efter","20","50","80"],x:.4502,y:.2228,placement:"LEFT"},{framework:["skärmträd"],times:["20","50","80"],x:.469,y:.2577,placement:"LEFT"}]},{id:"grupp_av_hansynstrad",title:"Grupp av hänsynsträd",text:"De flesta mykorrhizasvampar som växte i denna trädgrupps rötter före avverkningen finns kvar och lever vidare. Fanns det mat- och naturvårdssvampar, kan de fortleva.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-tree-circle",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter","20","50","80"],x:.3736,y:.2832,placement:"LEFT"}]},{id:"sjalforyngrade_sma_tradplantor",title:"Självföryngrade trädplantor",text:"Små mycel av mykorrhizasvampar växer i plantornas rötter. Om de växer nära hänsynsträd kan mycel vuxint in från dessas rötter. Annars etableras mycel från svampsporer som sprid in från näraliggande skogar. Vissa svamparter har också en sporbank i marken.",thumbnail:"/images/Skogsbruk.png",icon:"i-hugeicons-plant-03",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.4344,y:.1971,placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],x:.4344,y:.1971,placement:"LEFT"}]},{id:"planterade_sma_tradplantor",title:"Planterade små trädplantor",text:"Har med sig spontant etablerad mykorrhiza från plantskolan där de odlades upp. Det är dock få arter. Dessa ersätts succesivt med bättre anpassade och svamparter som finns på platsen.",thumbnail:"/images/Skogsbruk.png",icon:"i-hugeicons-plant-02",color:"neutral-500",positions:[{framework:["trakthygge"],times:["20"],x:.45,y:.32,placement:"LEFT"}]},{id:"yngre_trad_vid_avverkningen",title:"Yngre träd som lämnats",text:"Undviks underröjning före avverkning, kommer mykorrhizasvampar att överleva på dessa plantor och träd på samma sätt som de gör på rötterna av hänsynsträd.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-seedling-circle",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.33,y:.37,placement:"LEFT"}]},{id:"tradkant_mot_avverkning",title:"Trädkant mot avverkning",text:"Mykorrhizasvampars mycel växer med i skogskantsträdens rötter så långt de sträcker sig in på avverkningen. Mest närmast skogskanten, men når 10–15 meter in på hygget.",thumbnail:"/images/Skogsbruk.png",icon:"i-healthicons-square-medium-negative",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter","20"],x:.46,y:.409,placement:"LEFT"},{framework:["luckhuggning"],times:["efter","20"],x:.64,y:.352,placement:"LEFT"},{framework:["luckhuggning"],times:["50"],x:.511,y:.3245,placement:"LEFT"},{framework:["luckhuggning"],times:["80"],x:.3278,y:.2383,placement:"LEFT"}]},{id:"tomma_omraden_avverkning",title:"Tomma områden ",text:"Vid områden utan nära träd och småplantor direkt efter avverkning finns inte mykorrhizasvampar. I mark där det saknas trädrötter finns inte mykorrhizasvampar. Några, men få mykorrhizasvampar har en sporbank.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.6095,y:.2081,placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],x:.485,y:.292,placement:"LEFT"}]}],kc={annotations:bc},yc=Pr("selectedAnnotation",{state:()=>({selectedAnnotation:null}),actions:{setSelectedAnnotation(e){this.selectedAnnotation=e},clearSelectedAnnotation(){this.selectedAnnotation=null}}}),_c=Pr("overlay",{state:()=>({staticOverlayVisible:!1}),actions:{toggleStaticOverlay(){this.staticOverlayVisible=!this.staticOverlayVisible},setStaticOverlayVisible(e){this.staticOverlayVisible=e}}}),jr={retention:{slug:"retention-trees",fields:{framework:"framework",startskog:"startskog",time:"time"}},seedTree:{slug:"seed-trees",fields:{framework:"framework",startskog:"startskog",time:"time"}},smaplantor:{slug:"smaplantor",fields:{framework:"framework",startskog:"startskog",time:"time"}},hogstubbar:{slug:"hogstubbar",fields:{framework:"framework",startskog:"startskog",time:"time"}},naturvardsarter:{slug:"naturvard",fields:{framework:"framework",startskog:"startskog",time:"time"}},kanteffekt:{slug:"kanteffekt",fields:{framework:"framework",startskog:null,time:"start"}}},hr=Object.keys(jr);function oa(e){return e?e.replace(/_+$/g,""):e??null}function gr(e,t,a=!0){if(!t)return!1;if(e==null)return!0;const r=oa(t);return Array.isArray(e)?a&&e.includes("alla")||e.some(s=>oa(String(s))===r):typeof e=="string"?a&&e==="alla"?!0:oa(e)===r:!1}function Zn(e,t,a,r={}){const{ignoreStartskog:s=!1}=r,{fields:i}=a;return e.filter(u=>{if(!u)return!1;if(i.framework){const o=u[i.framework];if(!gr(o,t.framework,!1))return!1}if(i.startskog&&!s&&t.startskog){const o=u[i.startskog];if(!gr(o,t.startskog,!0))return!1}if(i.time){const o=u[i.time];if(!gr(o,t.time,!0))return!1}return!0})}function xc(e,t,a){if(!Array.isArray(e)||e.length===0)return[];if(!t?.framework||!t?.time)return e;const r={framework:oa(t.framework),startskog:oa(t.startskog),time:t.time};let s=Zn(e,r,a);return s.length===0&&a.fields.startskog&&r.startskog&&(s=Zn(e,r,a,{ignoreStartskog:!0})),s}const wc={retention:!0,kanteffekt:!0,rottacke:!0,seedTree:!0,smaplantor:!0,hogstubbar:!0,naturvardsarter:!0,tradplantor:!0};function Sc(e){const t=e.framework,a=e.time;if(!t||!a)return!0;const r=t==="skärmträd"||t==="skarmtrad",s=t==="blädning"||t==="bladning",i=r&&a==="efter",u=s&&["efter","20 år","50 år","80 år"].includes(a);return i||u}function Tc(e){const t=e.framework,a=e.time;return!t||!a?!0:t==="trakthygge"&&a==="20 år"}async function Ht(e){try{return await $fetch(e)}catch{return null}}async function Cc(){const e=["/småplantor.json","/småplantor.json"];for(const t of e){const a=await Ht(t);if(a)return a}return null}function Lc(){const{data:e,pending:t}=Gt("overlay-datasets-json",async()=>{const[o,d,T,m,p,D]=await Promise.all([Ht("/retentionTrees.json"),Ht("/api/seedTrees"),Cc(),Ht("/hogstubbar.json"),Ht("/naturvard.json"),Ht("/api/kanteffekt")]);return{"retention-trees":Array.isArray(o?.trees)?o.trees:[],"seed-trees":Array.isArray(d?.trees)?d.trees:[],smaplantor:Array.isArray(T?.trees)?T.trees:Array.isArray(T)?T:[],hogstubbar:Array.isArray(m?.stubbar)?m.stubbar:[],naturvard:Array.isArray(p?.mycelium)?p.mycelium:[],kanteffekt:Array.isArray(D?.features)?D.features:[]}}),a={};hr.forEach(o=>{const d=jr[o].slug;a[o]={data:g(()=>e.value?.[d]??[]),pending:g(()=>t.value)}});const r=(o,d)=>xc(a[o].data.value,d,jr[o]),s=o=>{const d={};return hr.forEach(T=>{d[T]=r(T,o)}),d},i=o=>{if(!o?.framework||!o?.time||!o?.startskog)return{...wc};const d=s(o);return{retention:a.retention.pending.value||d.retention.length>0,kanteffekt:a.kanteffekt.pending.value||d.kanteffekt.length>0,rottacke:Sc(o),seedTree:a.seedTree.pending.value||d.seedTree.length>0,smaplantor:a.smaplantor.pending.value||d.smaplantor.length>0,hogstubbar:a.hogstubbar.pending.value||d.hogstubbar.length>0,naturvardsarter:a.naturvardsarter.pending.value||d.naturvardsarter.length>0,tradplantor:Tc(o)}},u=g(()=>t.value||hr.some(o=>a[o].pending.value));return{datasets:a,filterDataset:r,filterAll:s,availabilityFor:i,pendingAny:u}}const Ot=sa({open:!1,key:null,anchor:null});function Ac(e){if(e instanceof HTMLElement){const t=e.getBoundingClientRect();return{x:t.left,y:t.top,width:t.width,height:t.height}}return e}function Vc(){function e(a,r){const s=Ac(r);Ot.key=a,Ot.anchor=s,Ot.open=!0}function t(){Ot.open=!1,Ot.key=null,Ot.anchor=null}return{...Kn(Ot),show:e,hide:t}}const Mc={class:"relative flex flex-col w-full h-dvh"},zc={class:"space-y-0.5 p-3"},Oc={class:"grid grid-cols-2 gap-2"},Fc={class:"flex flex-col text-center items-center w-full space-y-1"},$c={class:"flex flex-col text-center items-center w-full space-y-1"},Dc={class:"p-3 flex flex-col gap-3"},jc={class:"flex items-center justify-between gap-3"},Ec={class:"flex flex-wrap gap-1"},Bc={class:"w-full sm:flex items-center justify-center border-muted sm:p-1"},Nc={class:"flex w-full sm:w-fit h-fit justify-center p-0 pb-0 sm:pb-0 items-center"},Rc={key:0,class:"absolute top-3 right-3"},Pc={class:"flex justify-center sm:p-1 border-b border-muted"},Ic={class:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-50 p-4 sm:p-0 space-y-2 sm:space-y-0 pointer-events-none sm:flex gap-2 items-center"},Uc={class:"relative"},qc={key:0,class:""},Hc={class:"space-y-2"},Wc=["innerHTML"],Yc={class:"space-y-2"},Gc=["innerHTML"],Zc={key:1,class:"text-sm text-neutral-400"},Xc={key:1,class:"sm:hidden"},Kc={class:"flex items-center justify-between gap-3"},Jc={class:"text-sm font-medium text-neutral-700"},Qc={key:0},ed={class:"space-y-2"},td=["innerHTML"],ad={class:"space-y-2"},rd=["innerHTML"],nd={key:1,class:"text-sm text-neutral-400"},ld={class:"flex items-start justify-between gap-3"},sd={class:"flex items-start gap-2"},id={class:"text-base font-semibold text-neutral-800"},od={class:"flex gap-1"},ud={class:"text-sm text-neutral-600 leading-relaxed"},cd={class:"flex sm:justify-center items-center overflow-x-scroll md:overflow-hidden my-1 sm:my-0 gap-4 px-3"},dd={class:"p-1 flex flex-col gap-1"},vd={class:"ui-zoom-reapply relative flex flex-col flex-1 w-full"},fd={class:"flex flex-1"},md={class:"absolute top-3 left-3 z-50"},pd={key:0,class:"space-y-1.5 sm:p-4 p-2 pt-3 max-w-sm z-50 absolute top-0 right-0 transform-all text-end pointer-events-none"},hd={class:"flex items-center gap-1"},gd={class:"p-3 space-y-2"},bd={class:"flex w-full justify-between"},kd={class:"flex items-start gap-2"},yd={class:"text-sm font-semibold text-neutral-800"},_d={key:0,class:"text-sm text-neutral-600 leading-relaxed"},xd={key:1,class:"text-xs text-neutral-400"},wd={key:0,class:"absolute p-2 w-full"},Sd={class:"flex justify-between p-2 items-center mb-2"},Td={class:"flex items-center justify-between gap-2"},Cd={class:"flex items-center gap-1"},Ld={class:"min-w-[3ch] text-sm text-neutral-700 dark:text-neutral-200 text-center"},Ad={key:0,class:"space-y-2 w-full"},Vd={class:"flex flex-col"},Md={class:"text-md font-medium"},zd={key:0,class:"text-sm text-neutral-500"},Od={class:"flex flex-col"},Fd={class:"text-md font-medium"},$d={key:0,class:"text-sm text-neutral-500"},Dd={class:"flex flex-col"},jd={class:"text-md font-medium"},Ed={key:0,class:"text-sm text-neutral-500"},Bd={class:"w-full mt-1 relative"},Nd={class:""},Rd={class:"space-y-2"},Pd={class:"relative flex-1"},Id={key:0,class:"w-full h-full"},Ud={key:0,class:"absolute inset-y-0 right-0 w-68 bg-white dark:bg-neutral-950/70 backdrop-blur-2xl overflow-auto z-10 pointer-events-auto border-neutral-300 dark:border-neutral-700 border-l"},qd={class:"px-4 py-2"},Hd={class:"text-lg font-semibold text-neutral-800 dark:text-neutral-200"},Wd={class:"text-neutral-400"},Yd={key:1,class:oe(["absolute max-h-screen z-50 top-0 w-sm left-0 overflow-auto transition-all shadow-2xl border-r bg-white border-neutral-100/10 rounded-br-sm duration-300 ease-in-out backdrop-blur-2xl hide-scrollbar"])},Gd={class:"p-4"},Zd={key:0},Xd={class:"text-xl font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},Kd={class:"p-2 flex flex-col gap-2"},Jd=["onClick"],Qd={class:"font-medium"},ev={class:"text-sm text-neutral-300"},tv={class:"flex justify-between"},av={class:"text-md text-neutral-200"},rv={key:0,class:"my-4"},nv=["innerHTML"],lv=["innerHTML"],sv={key:1,class:"my-4 text-neutral-300 text-sm"},iv={key:1,class:"space-y-2"},ov={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},uv={class:"p-2 flex flex-col gap-2"},cv=["onClick"],dv={class:"font-medium"},vv={class:"text-sm text-neutral-300"},fv={class:"flex justify-between"},mv={key:0,class:"my-4"},pv=["innerHTML"],hv=["innerHTML"],gv={class:"flex justify-between"},bv={class:"text-md text-neutral-200"},kv={key:0,class:"my-4"},yv=["innerHTML"],_v=["innerHTML"],xv={key:2,class:"space-y-2"},wv={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},Sv={class:"p-2 flex flex-col gap-2"},Tv=["onClick"],Cv={class:"font-medium"},Lv={class:"text-sm text-neutral-300"},Av={class:"flex justify-between"},Vv={class:"text-md text-neutral-200"},Mv={key:0,class:"my-4"},zv=["innerHTML"],Ov=["innerHTML"],Fv={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},$v={class:"p-2 flex flex-col gap-2"},Dv=["onClick"],jv={class:"font-medium"},Ev={class:"text-sm text-neutral-300"},Bv={class:"flex justify-between"},Nv={class:"text-md text-neutral-200"},Rv={key:0,class:"my-4"},Pv=["innerHTML"],Iv=["innerHTML"],Uv={class:"grid grid-cols-2 gap-4"},qv={class:"w-full"},Hv={class:"w-full"},br="rodlistade",Wv=220,Xn="Ingen tidslinjeinformation hittades för den här kombinationen.",Yv=et({__name:"Model",emits:["close"],async setup(e,{emit:t}){let a,r;const s=Hs(()=>Ys(()=>import("./DZJk8AOg.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url));let i;const u=sa({}),o=Lc(),{hide:d}=Vc(),T=C(null);function m(l){if(!l)return null;if(typeof l=="string")return l;if(typeof l=="object"){if("value"in l&&typeof l.value=="string")return l.value;if("framework"in l&&typeof l.framework=="string")return l.framework;if("label"in l&&typeof l.label=="string")return l.label}return String(l??"")}const p={retention:()=>!!Y.value,kanteffekt:()=>!!ce.value,rottackeSkarmtrad:()=>!!ke.value,rottackeBladning:()=>!!he.value,seedTree:()=>!!de.value,smaplantor:()=>!!ye.value,hogstubbar:()=>!!_e.value,naturvardsarter:()=>!!ae.value,tradplantor:()=>!!xe.value};function D(l,n){const y=p[l];if(y&&!y())return!1;const b=m(n.framework)||"",N=typeof n.time=="string"?n.time:m(n.time);if(l==="rottackeSkarmtrad")return(b==="skärmträd"||b==="skarmtrad")&&N==="efter";if(l==="rottackeBladning")return b==="blädning"||b==="bladning"?N==="efter"||N==="20 år"||N==="50 år"||N==="80 år":!1;try{const ne=o.availabilityFor({framework:b,startskog:m(n.startskog),time:N});return!!(ne&&ne[l])}catch{return!1}}const $=g(()=>{const l=[],n=m(U?.value??U),y=m(we?.value??we),b=J?.value??J,N=Ae;return ue.value?(l.push({framework:n,startskog:b?.value??b,time:"innan"}),l.push({framework:n,startskog:b?.value??b,time:N})):ie.value?(l.push({framework:n,startskog:b?.value??b,time:N}),l.push({framework:y,startskog:b?.value??b,time:N})):l.push({framework:n,startskog:b?.value??b,time:N}),l});function B(l){const n=$.value;for(const y of n)if(D(l,y))return!0;return!1}const[q,V]=Ns(),_=rl("(max-width: 767px)"),j=[{label:"Text",icon:"i-heroicons-book-open",slot:"text",value:"text"},{label:"Diagram",icon:"i-carbon-chart-line-smooth",slot:"diagram",value:"diagram"}],{public:{dziBaseUrl:v="https://assets.svampskog.se/dzi_v2",dziVersionSuffix:R=""}={}}=Rs(),ee=v,re=R;function fe(l){return l?l.toString().toLowerCase().replace(/å/g,"a").replace(/ä/g,"a").replace(/ö/g,"o").replace(/[^a-z0-9_-]/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,""):""}function Me({framework:l,timeLabel:n,fungiVisibility:y,treeVisibility:b,startskog:N}){const gt=[l,n,y,b,N].map(Mt=>fe(Mt)).filter(Boolean).join("_"),bt=fe(re);return bt?`${gt}_${bt}`:gt}function te(l){return`${ee}/${Me(l)}.dzi`}const{data:K}=([a,r]=ua(()=>Gt("forestry-timeline-modelc",()=>ca("forestryTimelines").first())),a=await a,r(),a),me=g(()=>{const l=K.value;if(!l)return[];if(Array.isArray(l)){const n=l.find(y=>y?.id==="skogsskotsel")||l[0];return Array.isArray(n?.entries)?n.entries:[]}return Array.isArray(l.entries)?l.entries:[]}),be=C(!1),le=C("beforeAfterCompare"),se=C("slider"),jt=t,xt=C(!1),Y=C(!1),ce=C(!1),pe=C(!1),ae=C(!1),ke=C(!1),he=C(!1),de=C(!1),ye=C(!1),_e=C(!1),xe=C(!1),it=C(1),He=C(!1),tt=C(!1);function Xt(){He.value=!He.value}function Kt(){tt.value=!tt.value}const $e=["retention","kanteffekt","rottackeSkarmtrad","rottackeBladning","seedTree","smaplantor","hogstubbar","naturvardsarter","tradplantor"],Jt=C([]);function Qt(l,n){const y=Jt.value,b=y.indexOf(l);n?(b!==-1&&y.splice(b,1),y.push(l)):b!==-1&&y.splice(b,1)}const k=_c(),S=g({get:()=>k.staticOverlayVisible,set:l=>k.setStaticOverlayVisible(l)}),A=C(!1),w=C(null);C(!1);const L=C(!1),P=C("skogsskole"),H=C(!1),I=C(!1),X=C("text");function ot(){X.value="diagram",I.value=!0;try{_.value||d?.()}catch{}}const ut=g({get:()=>I.value,set:l=>{I.value=l}}),ct=C(!1);g({get:()=>L.value,set:l=>{L.value=l}});function Kr(l){const n=Array.isArray(Vt?.value)?Vt.value:[];if(!n.length)return;const y=n.map(ne=>String(ne.value)),b=String(Ut.value);let N=y.indexOf(b);if(N===-1&&(N=0),l<0){for(let ne=N-1;ne>=0;ne--)if(!n[ne]?.disabled){Ut.value=String(n[ne].value);return}return}else{for(let ne=N+1;ne<n.length;ne++)if(!n[ne]?.disabled){Ut.value=String(n[ne].value);return}return}}function Jr(l){return(l||"").toString().trim().toLowerCase()}const Et=g(()=>Array.isArray(Vt?.value)?Vt.value:Array.isArray(Vt)?Vt:[]),Qr=g(()=>{const n=Et.value.map(y=>String(y.value)).indexOf(String(Ut.value));return n===-1?0:n}),Bt=g(()=>{for(let l=Qr.value-1;l>=0;l--)if(!Et.value[l]?.disabled)return Et.value[l];return null}),Nt=g(()=>{for(let l=Qr.value+1;l<Et.value.length;l++)if(!Et.value[l]?.disabled)return Et.value[l];return null}),Wl=g(()=>!!Bt.value),Yl=g(()=>!!Nt.value);function en(l){try{const n=U.value&&U.value.value,y=J.value&&J.value.value;return me.value.find(N=>N.atgard===n&&N.startskog===y&&Jr(N.tid)===Jr(l))?.skog||""}catch{return""}}const Gl=g(()=>Bt.value?String(Bt.value.label??Bt.value.value):""),Zl=g(()=>Nt.value?String(Nt.value.label??Nt.value.value):""),Xl=g(()=>Bt.value?ya(Number(Bt.value.value)):null),Kl=g(()=>Nt.value?ya(Number(Nt.value.value)):null);g(()=>en(Xl.value)),g(()=>en(Kl.value));function Jl(){Kr(-1)}function Ql(){Kr(1)}const es=[{re:/hänsynsträd/gi,overlay:"retention"},{re:/evighetsträd/gi,overlay:"retention"},{re:/hyggeskanterna/gi,overlay:"kanteffekt"},{re:/luckorna/gi,overlay:"kanteffekt"},{re:/fröträdens rötter/gi,overlay:"seedTree"},{re:/fröträd/gi,overlay:"seedTree"},{re:/skärmträdens rötter/gi,overlay:"rottackeSkarmtrad"},{re:/småplantor/gi,overlay:"smaplantor"},{re:/högstubbar/gi,overlay:"hogstubbar"},{re:/rödlistade svampar/gi,overlay:"naturvardsarter"},{re:/rödlistad art/gi,overlay:"naturvardsarter"},{re:/Trädplantor/gi,overlay:"tradplantor"}];function ts(l=""){return String(l).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ze(l=""){let n=ts(l);n=n.replace(/Visa\s+naturvårdsdiagram/gi,()=>'<a href="#" data-action="show-diagram">Visa naturvårdsdiagram</a>');for(const y of es)n=n.replace(y.re,b=>`<span class=" text-primary-500 font-medium underline cursor-pointer hover:opacity-80" data-overlay="${y.overlay}">${b}</span>`);return n}const as=new Set($e),rs=l=>typeof l=="string"&&as.has(l);function wt(l){const n=l.target;if(!n)return;const y=n.closest("[data-action]");if(y&&y.getAttribute("data-action")==="show-diagram"){l.preventDefault(),er();return}const b=n.closest("[data-overlay]");if(!b)return;const N=b.getAttribute("data-overlay");rs(N)&&ps(N)}C(!1),g(()=>[{value:"sideBySide",label:"Sida vid sida"},{value:"slider",label:"Skjutreglage"}]);const Rt=g(()=>vt.map((l,n)=>({value:n,label:l.label,description:l.text}))),ns=C(!0),ea=C(!1),ls=C(!1),tn=C(85);let ss=0,is=tn.value;function an(l){if(!fa)return;const y=(l.clientX-ss)/16;tn.value=is+y}function rn(){fa=!1,window.removeEventListener("pointermove",an),window.removeEventListener("pointerup",rn)}Yt(()=>{window.removeEventListener("pointermove",an),window.removeEventListener("pointerup",rn)});const nn=C(600);let fa=!1,os=0,us=nn.value;function ln(l){if(!fa)return;const n=l.clientY-os;nn.value=us+n}function sn(){fa=!1,window.removeEventListener("pointermove",ln),window.removeEventListener("pointerup",sn)}Yt(()=>{window.removeEventListener("pointermove",ln),window.removeEventListener("pointerup",sn)}),C(!1),C(!1);const ma=C(!0),Ee=C(0),cs=g(()=>{const l=U.value.value,n=At(Ce.value),y="visa",b=dt.value?"visa":"dölj",N=J.value.value;return te({framework:l,timeLabel:n,fungiVisibility:b,treeVisibility:y,startskog:N})}),on=g(()=>{const l=U.value.value,n="före",y="visa",b=dt.value?"visa":"dölj",N=J.value.value;return te({framework:l,timeLabel:n,fungiVisibility:b,treeVisibility:y,startskog:N})}),un=g(()=>{const l=U.value.value,n=At(Ce.value),y="visa",b=dt.value?"visa":"dölj",N=J.value.value;return te({framework:l,timeLabel:n,fungiVisibility:b,treeVisibility:y,startskog:N})}),cn=g(()=>{const l=U.value.value,n=At(Ce.value),y="visa",b=dt.value?"visa":"dölj",N=J.value.value;return te({framework:l,timeLabel:n,fungiVisibility:b,treeVisibility:y,startskog:N})}),dn=g(()=>{const l=we.value.value,n=At(Ce.value),y="visa",b=dt.value?"visa":"dölj",N=J.value.value;return te({framework:l,timeLabel:n,fungiVisibility:b,treeVisibility:y,startskog:N})}),Ya=yc(),pa=g(()=>Ya.selectedAnnotation);function ds(l){if(Ya.setSelectedAnnotation(l),l.position&&na.value){const n=na.value.getZoom();na.value.setZoomAndCenter(n,l.position)}}function vs(){Ya.clearSelectedAnnotation()}const Oe=C(null);C("line");const ha=gc();C(!1);const dt=C(!0),ue=g(()=>be.value&&le.value==="beforeAfterCompare"),ie=g(()=>be.value&&le.value==="frameworkCompare"),Be=g({get:()=>ha.selectedFramework,set:l=>ha.selectedFramework=l}),vn=g({get:()=>ha.selectedStartskog??0,set:l=>{ha.selectedStartskog=l}}),Pt=C(Be.value),we=g(()=>vt[Pt.value]||vt[0]);G([ie,ue],([l,n])=>{(!l||!n)&&(xs.value="framework1")}),yt(()=>{i=wi({o:()=>ut.value=!ut.value})}),el(()=>{typeof i=="function"&&i(),Ye&&(clearTimeout(Ye),Ye=null),Lt=!1,Ct=!0});const fs=l=>{const n=Ga.findIndex(y=>y.value===l.value);n!==-1&&(vn.value=n),ct.value=!1},vt=[{id:0,label:"Ingen åtgärd",value:"naturskydd",text:"Orörd skog",icon:"pepicons-pop:tree-circle",iconColor:"text-green-500"},{id:1,label:"Trakthygge",value:"trakthygge",text:"Kalavverkning med hänsyn",icon:"material-symbols:resize",iconColor:"text-violet-500"},{id:2,label:"Luckhuggning",value:"luckhuggning",text:"Mindre ytor kalavverkas",icon:"pixelarticons:chess",iconColor:"text-sky-500"},{id:3,label:"Överhållen skärm",value:"skärmträd",text:"Avverkning i tre steg under 20 år",icon:"catppuccin:redwood",iconColor:"text-orange-500"},{id:4,label:"Blädning",value:"blädning",text:"Enstaka träd gallras",icon:"lineicons:trees",iconColor:"text-teal-500"}],Ga=[{label:"Inte tidigare kalavverkad",value:"naturskog"},{label:"Tidigare kalavverkad",value:"produktionsskog_"}],U=g(()=>vt[Be.value!==void 0?Be.value:0]),J=g(()=>Ga[vn.value]),at=g(()=>U.value?.value),Za=g(()=>J.value?.value??null),St=g(()=>at.value==="trakthygge"),Tt=g(()=>at.value==="luckhuggning"),ga=g(()=>at.value==="blädning"||at.value==="bladning"),We=g(()=>at.value==="skärmträd"||at.value==="skarmtrad"),Xa={retention:{title:"Hänsynsträd",description:"De flesta mykorrhizasvamparna som växte med trädens rötter före avverkningen finns kvar och lever vidare. Mycel kan växa in i och spridas till uppväxande trädplantor.",condition:()=>Y.value&&(St.value||Tt.value||We.value),close:()=>{Y.value=!1}},kanteffekt:{title:"Kanteffekt",description:"Mykorrhizasvamp på trädens rötter i skogskanten kan sträcka sig 10–15 meter in på hygget; starkast närmast kanten.",condition:()=>ce.value&&(St.value||Tt.value||We.value),close:()=>{ce.value=!1}},rottackeSkarmtrad:{title:"Rottäcke skärmträd",description:"Kontinuerligt rottäcke kopplat till överhållen skärm (1 år efter).",condition:()=>ke.value&&We.value,close:()=>{ke.value=!1}},rottackeBladning:{title:"Rottäcke blädning",description:"Kontinuerligt rottäcke kopplat till blädning (efter, 20, 50, 80 år).",condition:()=>he.value&&ga.value,close:()=>{he.value=!1}},seedTree:{title:"Fröträd",description:"Mycel fortsätter leva på fröträdens rötter och kan koppla till nya plantor.",condition:()=>de.value&&We.value,close:()=>{de.value=!1}},smaplantor:{title:"Yngre träd och plantor som lämnats",description:"Undviks underröjning före avverkning, kommer mykorrhizasvampar att överleva på dessa plantor och träd på samma sätt som de gör på rötterna av hänsynsträd.",condition:()=>ye.value,close:()=>{ye.value=!1}},hogstubbar:{title:"Högstubbar",description:"Här finns inga levande mykorrhizamycel. Trädets rötter är döda.",condition:()=>_e.value,close:()=>{_e.value=!1}},naturvardsarter:{title:"Naturvårdsarter",description:"Naturvårdsarter har ofta speciella miljökrav, och förekommer främst i äldre skog. Generellt kan mycel av mykorrhizasvampar leva vidare på en plats så länge det finns levande träd. Svampindividers mycel kan likt träd bli många decennier till potentiellt sekler gamla.",condition:()=>ae.value&&(St.value||Tt.value||ga.value||We.value),close:()=>{ae.value=!1}},tradplantor:{title:"Planterade små trädplantor",description:"Har med sig spontant etablerad mykorrhiza från plantskolan där de odlades upp. Det är dock få arter. Dessa ersätts succesivt med bättre anpassade och svamparter som finns på platsen.",condition:()=>xe.value&&St.value,close:()=>{xe.value=!1}}},Ka={staticOverlay:"i-material-symbols-light-rectangle-outline",retention:"i-pepicons-pop-tree-circle",kanteffekt:"i-healthicons-square-medium-negative",rottackeSkarmtrad:"i-fluent-emoji-high-contrast-blue-square",rottackeBladning:"i-fluent-emoji-high-contrast-blue-square",seedTree:"i-teenyicons-redwoodjs-outline",smaplantor:"i-pepicons-pop-seedling-circle",hogstubbar:"i-fluent-emoji-high-contrast-wood",naturvardsarter:"i-material-symbols-award-star-outline",tradplantor:"i-hugeicons-plant-02"},fn=g(()=>{const l={staticOverlay:{title:"Beståndsgräns",description:"Visar gränsen för den berörda skogen"}};return $e.forEach(n=>{const y=Xa[n];l[n]={title:y.title,description:y.description}}),l});function ba(l){const n=fn.value[l]??{title:l,description:""},y=Ka[l];return{title:n.title,description:n.description,icon:y}}const Fe=sa({staticOverlay:!1,retention:!1,kanteffekt:!1,rottackeSkarmtrad:!1,rottackeBladning:!1,seedTree:!1,smaplantor:!1,hogstubbar:!1,naturvardsarter:!1,tradplantor:!1}),ft={staticOverlay:S,retention:Y,kanteffekt:ce,rottackeSkarmtrad:ke,rottackeBladning:he,seedTree:de,smaplantor:ye,hogstubbar:_e,naturvardsarter:ae,tradplantor:xe};function Ja(l,n={}){const y=ft[l];if(!y)return;const b=l,N=n.hideWhenUnpin??!0,ne=!Fe[b];if(Fe[b]=ne,ne){y.value||(y.value=!0),w.value=b,A.value=!0;return}N&&(w.value===b?ka({hideOverlay:!0}):y.value&&(y.value=!1))}const mn=g(()=>{const l=fn.value;return[{key:"staticOverlay",label:l.staticOverlay?.title??"Beståndsgräns",description:l.staticOverlay?.description??"",icon:Ka.staticOverlay},...$e.map(n=>({key:n,label:l[n]?.title??n,description:l[n]?.description??"",icon:Ka[n]??void 0}))]}),pn=g(()=>{const l={};return mn.value.forEach(n=>{l[n.key]={label:n.label,icon:n.icon}}),l}),mt=g(()=>{const l=w.value;if(!l||!Qa(l))return null;const n=ba(l);return{key:l,title:n.title,description:n.description}}),ta=g(()=>{const l=w.value;return l?Fe[l]:!1}),hn=g(()=>{const l=w.value;return l?pn.value[l]?.icon??null:null}),gn=g(()=>{const l=pn.value,n=gs.value,y=[];return Fe.staticOverlay&&y.push({key:"staticOverlay",title:l.staticOverlay?.label??"Beståndsgräns",icon:l.staticOverlay?.icon||null,isAssociated:!0}),$e.forEach(b=>{Fe[b]&&y.push({key:b,title:l[b]?.label??Xa[b].title,icon:l[b]?.icon||null,isAssociated:n[b]??!0})}),y});G(I,l=>{l&&L.value&&(L.value=!1)}),G(L,l=>{l&&I.value&&(I.value=!1)});let Ye=null,Ct=!0,Lt=!1;function ms(l){Ja(l)}function rt(l){Object.keys(ft).forEach(n=>{n!==l&&(Fe[n]||ft[n]?.value&&(ft[n].value=!1))})}function Qa(l){const n=Xa[l];return!!n&&n.condition()}function nt(l){const n=Qa(l);if(Qt(l,n),n){w.value=l,A.value=!0,_.value||d();return}if(w.value===l){const y=Jt.value.slice().reverse().find(b=>Qa(b));y?(w.value=y,A.value=!0,_.value||d()):(ka({hideOverlay:!1}),d())}}function ps(l){const n=ft[l];if(n){if(n.value){Fe[l]?bn(l):(n.value=!1,d());return}n.value=!0,bn(l)}}async function er(l={}){ot(),P.value=br,H.value=!0,await Dt(),T.value?.setSelectedChart&&(T.value.setSelectedChart(br),H.value=!1),l.badgeKey&&(u[l.badgeKey]=!1),_.value||d();try{ka({hideOverlay:!1})}catch{}try{Fe.naturvardsarter=!0;const n=ft.naturvardsarter;n&&!n.value&&(n.value=!0)}catch{}}G([X,()=>T.value],async([l,n])=>{if(l==="diagram"&&H.value&&n?.setSelectedChart){await Dt();try{n.setSelectedChart(br)}finally{H.value=!1}}});function bn(l){ft[l]&&(w.value=l,A.value=!0)}function ka(l={}){Lt=!0;const n=w.value;if(Ct=l.hideOverlay??(n?!Fe[n]:!0),!n){Lt=!1,Ct=!0,A.value=!1,d();return}if(!A.value){kn();return}A.value=!1}function kn(){Ye&&(clearTimeout(Ye),Ye=null);const l=w.value;if(!l){Ct=!0,Lt=!1;return}const n=Ct;if(w.value=null,Ct=!0,Lt=!1,n){const y=ft[l];y&&y.value&&(y.value=!1),d()}}G(A,(l,n)=>{if(Ye&&(clearTimeout(Ye),Ye=null),!l&&n){if(!Lt){const y=w.value;Ct=y?!Fe[y]:!0}Ye=setTimeout(()=>{kn()},Wv)}else l&&(Lt=!1)}),G(ut,l=>{l||(ka({hideOverlay:!1}),_.value||d())}),yt(()=>{try{S.value||(S.value=!0)}catch{}Fe.staticOverlay=!0}),G(Y,l=>{l&&rt("retention"),nt("retention")},{immediate:!0}),G(ce,l=>{l&&rt("kanteffekt"),nt("kanteffekt")},{immediate:!0}),G(he,l=>{l&&rt("rottackeBladning"),nt("rottackeBladning")},{immediate:!0}),G(de,l=>{l&&rt("seedTree"),nt("seedTree")},{immediate:!0}),G(ye,l=>{l&&rt("smaplantor"),nt("smaplantor")},{immediate:!0}),G(_e,l=>{l&&rt("hogstubbar"),nt("hogstubbar")},{immediate:!0}),G(ae,l=>{l&&rt("naturvardsarter"),nt("naturvardsarter")},{immediate:!0}),G(xe,l=>{l&&rt("tradplantor"),nt("tradplantor")},{immediate:!0}),G(S,l=>{l&&rt("staticOverlay")}),G(at,()=>{$e.forEach(l=>nt(l))});const Ce=C(3);function hs(l){ue.value&&l.value===3||(Ce.value=l.value)}function ya(l){return{3:"innan",15:"efter",30:"10 år",45:"20 år",70:"50 år",99:"80 år"}[l]||"innan"}function At(l){const n=It.value.find(y=>y.value===l);return n?n.timeLabel:"före"}const It=g(()=>{const l=[{value:3,label:"Före avverkning",timeLabel:"före"},{value:15,label:"1 år efter ",timeLabel:"efter"}];return U.value?.value==="skärmträd"&&!ie.value&&l.push({value:30,label:"10 år efter",timeLabel:"10"}),l.push({value:45,label:"20 år efter ",timeLabel:"20"},{value:70,label:"50 år efter ",timeLabel:"50"},{value:99,label:"+ 80 år efter ",timeLabel:"80"}),l}),Vt=g(()=>It.value.map(l=>({value:String(l.value),label:l.label,disabled:ue.value&&l.value===3}))),Ut=g({get(){return String(Ce.value)},set(l){const n=It.value.find(y=>String(y.value)===l);n&&hs(n)}}),Le=g(()=>{const l=It.value.find(n=>n.value===Ce.value);return l?l.label:""}),yn=g(()=>ue.value?3:null);g(()=>yn.value!==null?ya(yn.value):null);const Ae=g(()=>ya(Ce.value)),_n=g(()=>({framework:at.value??null,startskog:Za.value??null,time:Ae.value??null})),gs=g(()=>o.availabilityFor(_n.value)),Q=g(()=>o.filterAll(_n.value)),bs=g(()=>({framework:at.value??null,startskog:Za.value??null,time:ue.value?"innan":Ae.value??null})),Ne=g(()=>o.filterAll(bs.value)),ks=g(()=>({framework:we.value?.value??null,startskog:Za.value??null,time:Ae.value??null})),Re=g(()=>o.filterAll(ks.value)),Pe=g(()=>!U.value?.value||!Ae.value||!J.value?.value?null:me.value.find(l=>l.atgard===U.value.value&&l.tid===Ae.value&&l.startskog===J.value.value)),_a=g(()=>!we.value?.value||!Ae.value||!J.value?.value?null:me.value.find(l=>l.atgard===we.value.value&&l.tid===Ae.value&&l.startskog===J.value.value)),xa=g(()=>!U.value?.value||!J.value?.value?null:me.value.find(l=>l.atgard===U.value.value&&l.tid==="innan"&&l.startskog===J.value.value)),wa=g(()=>{const l=[],n=U.value?.label??"",y=we.value?.label??"",b=Le.value??"";return ue.value?(l.push({key:"before",left:n,right:"Före avverkning",info:xa.value??null}),l.push({key:"after",left:n,right:b,info:Pe.value??null})):ie.value?(l.push({key:"framework1",left:n,right:b,info:Pe.value??null}),l.push({key:"framework2",left:y,right:b,info:_a.value??null})):l.push({key:"single",left:n,right:b,info:Pe.value??null}),l}),xn=g(()=>{const l=wa.value.filter(n=>!!n.info).length;return _.value&&l>1&&(ue.value||ie.value)}),aa=sa({});function tr(l){aa[l]||(aa[l]={skog:!1,svamp:!1})}function pt(l,n){return tr(l),aa[l][n]}function Sa(l,n){tr(l),aa[l][n]=!aa[l][n]}G(wa,l=>{l.forEach(n=>tr(n.key))},{immediate:!0});function wn(l){be.value=l,l&&le.value||(le.value="beforeAfterCompare")}const Sn=g(()=>{const l=U.value.value,n="före",y="dölj",b=dt.value?"visa":"dölj",N=J.value.value;return te({framework:l,timeLabel:n,fungiVisibility:b,treeVisibility:y,startskog:N})}),Tn=g(()=>{const l=we.value.value,n=At(Ce.value),y="dölj",b=dt.value?"visa":"dölj",N=J.value.value;return te({framework:l,timeLabel:n,fungiVisibility:b,treeVisibility:y,startskog:N})});g(()=>{const l=U.value.value.toLowerCase(),n=At(Ce.value);return`${l}_${n}`});const ra=g(()=>{const l=U.value.value,n=At(Ce.value),y="dölj",b=dt.value?"visa":"dölj",N=J.value.value;return te({framework:l,timeLabel:n,fungiVisibility:b,treeVisibility:y,startskog:N})});G([U,ue,ie],()=>{It.value.map(n=>n.value).includes(Ce.value)||(Ce.value=15)});const na=C(null),Ge=C(null),Ze=C(null);let ar=!1,rr=!1;function Cn(){if(rr)return;ar=!0;const l=Ge.value?.getZoom(),n=Ge.value?.getCenter();l&&n&&Ze.value&&Ze.value.setZoomAndCenter(l,n),ar=!1}function Ln(){if(ar)return;rr=!0;const l=Ze.value?.getZoom(),n=Ze.value?.getCenter();l&&n&&Ge.value&&Ge.value.setZoomAndCenter(l,n),rr=!1}function ht(l){l==="before"&&Ge.value?(Ge.value.addSyncHandler("zoom",Cn),Ge.value.addSyncHandler("pan",Cn)):l==="after"&&Ze.value?(Ze.value.addSyncHandler("zoom",Ln),Ze.value.addSyncHandler("pan",Ln)):l==="framework1"&&Xe.value?(Xe.value.addSyncHandler("zoom",An),Xe.value.addSyncHandler("pan",An)):l==="framework2"&&Ke.value&&(Ke.value.addSyncHandler("zoom",Vn),Ke.value.addSyncHandler("pan",Vn))}let nr=!1,lr=!1;function An(){if(lr)return;nr=!0;const l=Xe.value?.getZoom(),n=Xe.value?.getCenter();l&&n&&Ke.value&&Ke.value.setZoomAndCenter(l,n),nr=!1}function Vn(){if(nr)return;lr=!0;const l=Ke.value?.getZoom(),n=Ke.value?.getCenter();l&&n&&Xe.value&&Xe.value.setZoomAndCenter(l,n),lr=!1}const Xe=C(null),Ke=C(null);let sr=null;const Mn=C({zoom:1,center:null});function Ta(l,{zoom:n,center:y}={}){!n||!y||sr!==l&&(sr=l,Mn.value={zoom:n,center:y})}function ys(){return!ue.value&&!ie.value?{single:na.value}:ue.value?{before:Ge.value,after:Ze.value}:ie.value?{framework1:Xe.value,framework2:Ke.value}:{}}G(Mn,({zoom:l,center:n})=>{const y=ys();Object.entries(y).forEach(([b,N])=>{b!==sr&&N&&N.setZoomAndCenter&&N.setZoomAndCenter(l,n)})});const lt=C("single");g(()=>[{key:"framework1",label:U.value.label},{key:"framework2",label:we.value.label}]);const _s=C(0);G(ie,l=>{l||(_s.value=0)});const xs=C("none"),ir=[{label:"Före / efter",value:"beforeAfterCompare"},{label:"Två metoder",value:"frameworkCompare"}];function ws(){Oe.value&&Oe.value.toggleLayoutMode&&Oe.value.toggleLayoutMode(),console.log("Current layout:",se.value)}g(()=>({label:se.value==="sideBySide"?"Sida vid sida":"Skjutreglage",type:"button",onSelect(l){l.preventDefault(),ws()},icon:se.value==="sideBySide"?"i-circum-grid-2-v":"iconamoon:compare-duotone"})),g(()=>[{label:ir[0].label,type:"checkbox",checked:le.value==="frameworkCompare",onUpdateChecked(l){l?le.value="frameworkCompare":le.value==="frameworkCompare"&&(le.value=null)},onSelect(l){l.preventDefault()}},{label:ir[1].label,type:"checkbox",checked:le.value==="beforeAfterCompare",onUpdateChecked(l){l?le.value="beforeAfterCompare":le.value==="beforeAfterCompare"&&(le.value=null)},onSelect(l){l.preventDefault()}},{type:"separator"},{label:"Sida vid sida",type:"checkbox",checked:se.value==="sideBySide",onUpdateChecked(l){l&&(se.value="sideBySide",Oe.value&&Oe.value.setLayoutMode&&Oe.value.setLayoutMode("sideBySide"))},onSelect(l){l.preventDefault()},icon:"i-circum-grid-2-v"},{label:"Skjutreglage",type:"checkbox",checked:se.value==="slider",onUpdateChecked(l){l&&(se.value="slider",Oe.value&&Oe.value.setLayoutMode&&Oe.value.setLayoutMode("slider"))},onSelect(l){l.preventDefault()},icon:"iconamoon:compare-duotone"}]),g(()=>se.value==="sideBySide"?"i-circum-grid-2-v":"iconamoon:compare-duotone"),g(()=>le.value==="frameworkCompare"?"Två metoder":le.value==="beforeAfterCompare"?"Före / efter":"Jämför"),G(le,l=>{l==="frameworkCompare"?(ue.value=!1,ie.value=!0):l==="beforeAfterCompare"?(ue.value=!0,ie.value=!1):(ue.value=!1,ie.value=!1)}),G(se,l=>{Oe.value&&Oe.value.setLayoutMode&&Oe.value.setLayoutMode(l)}),G(ue,l=>{l&&Ce.value===3&&(Ce.value=15)});const zn=g(()=>{const l=It.value.find(n=>n.value===Ce.value);return l?l.timeLabel:""}),Ss=g(()=>{const l=U.value.value,n=zn.value.toLowerCase();return kc.annotations.flatMap(y=>{if(y.positions&&Array.isArray(y.positions))return y.positions.filter(b=>{const N=Array.isArray(b.framework)?b.framework.includes(l):b.framework===l,ne=Array.isArray(b.times)?b.times.map(gt=>gt.toLowerCase()).includes(n):b.times.toLowerCase()===n;return N&&ne}).map(b=>({...y,position:{x:b.x,y:b.y,placement:b.placement}}));{const b=Array.isArray(y.frameworks)?y.frameworks.includes(l):y.framework===l,N=Array.isArray(y.times)?y.times.map(ne=>ne.toLowerCase()).includes(n):y.time.toLowerCase()===n;return b&&N?[y]:[]}})});return G(lt,l=>{console.log("activeViewer updated to:",l)}),(l,n)=>{const y=Aa,b=Nr,N=nl,ne=Ps,gt=Rr,bt=ll,Mt=ni,Ts=ri,Cs=Hl,De=oc,or=qs,zt=tl,On=hc;return h(),F("div",Mc,[x(M(q),null,{default:O(()=>[f("div",zc,[f("div",Oc,[x(b,{size:"xs",variant:"outline",color:"neutral",onClick:n[0]||(n[0]=c=>wn(!1)),class:oe(be.value?"text-muted/60 hover:text-muted ring-muted/50":"bg-neutral-100 shadow ring-muted")},{default:O(()=>[f("div",Fc,[x(y,{name:"i-bx-rectangle",class:"size-4"}),n[62]||(n[62]=f("h1",null,"Enkelvy",-1))])]),_:1},8,["class"]),x(b,{size:"xs",variant:"outline",color:"neutral",onClick:n[1]||(n[1]=c=>wn(!0)),class:oe(be.value?"bg-neutral-100 shadow ring-muted":"text-muted/60 hover:text-muted ring-muted/50")},{default:O(()=>[f("div",$c,[x(y,{name:"iconamoon:compare-duotone",class:"size-4"}),n[63]||(n[63]=f("h1",null,"Jämför",-1))])]),_:1},8,["class"])]),be.value?(h(),E(N,{key:0,modelValue:le.value,"onUpdate:modelValue":n[2]||(n[2]=c=>le.value=c),items:ir,size:"xs",placeholder:"Välj",clearable:!0,class:"w-full ring-muted -mb-2 mt-2",ui:{root:"min-w-max flex-shrink-0",list:"flex-nowrap rounded-xl bg-muted/50 -mb-1.5 gap-2",indicator:"bg-white border border-muted/50 shadow ",trigger:" data-[state=active]:text-neutral-800 dark:data-[state=active]:text-violet-400/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary "}},null,8,["modelValue"])):z("",!0)]),x(ne,{ui:{border:"border-muted/50"}}),f("div",Dc,[f("div",jc,[n[64]||(n[64]=f("span",{class:"text-sm tracking-wide text-neutral-400"},"Trädens synlighet",-1)),Is(f("input",{type:"range",min:"0",max:"1",step:"0.01","onUpdate:modelValue":n[3]||(n[3]=c=>Ee.value=c),class:"accent-primary-500 h-[5px] w-32"},null,512),[[Us,Ee.value]])]),f("div",Ec,[(h(!0),F(Se,null,qe(mn.value,c=>(h(),E(gt,{key:c.key,label:c.label,icon:c.icon,color:Fe[c.key]?"primary":"neutral",variant:Fe[c.key]?"solid":"subtle",class:oe(["cursor-pointer",Fe[c.key]?"shadow-sm":"opacity-70 hover:opacity-100"]),onClick:ge=>ms(c.key)},null,8,["label","icon","color","variant","class","onClick"]))),128))])])]),_:1}),f("div",null,[f("div",Bc,[f("div",Nc,[Rt.value.length?(h(),F("div",{key:0,class:oe(["grid sm:gap-4 gap-2 p-2 sm:py-1 sm:flex-row sm:items-center sm:justify-start h-fit w-full sm:w-fit",ie.value?"grid-cols-2":"grid-cols-1"])},[x(bt,{size:"xl",items:Rt.value,modelValue:Be.value,"onUpdate:modelValue":n[4]||(n[4]=c=>Be.value=c),placeholder:U.value.label,"append-to-body":"",variant:"soft",class:"ring-muted w-full shadow",ui:{content:"min-w-fit",viewport:"text-center"}},null,8,["items","modelValue","placeholder"]),ie.value?(h(),E(bt,{key:0,size:"xl",items:Rt.value,modelValue:Pt.value,"onUpdate:modelValue":n[5]||(n[5]=c=>Pt.value=c),placeholder:we.value.label,"append-to-body":"",variant:"soft",class:"ring-muted shadow"},null,8,["items","modelValue","placeholder"])):z("",!0)],2)):z("",!0),M(_)?(h(),E(b,{key:1,icon:"i-heroicons-x-mark",variant:"soft",color:"neutral",class:"rounded-full h-fit mr-2 ml-1",ui:{rounded:"rounded-full"},onClick:n[6]||(n[6]=c=>jt("close")),"aria-label":"Stäng modellvy",size:"lg"})):z("",!0)]),M(_)?z("",!0):(h(),F("div",Rc,[x(b,{icon:"i-heroicons-x-mark",variant:"ghost",color:"neutral",class:"rounded-full",ui:{rounded:"rounded-full"},onClick:n[7]||(n[7]=c=>jt("close")),"aria-label":"Stäng modellvy"})]))]),f("div",Pc,[f("div",Ic,[x(or,{direction:(M(_),"bottom"),inset:!M(_),"handle-only":"",dismissible:!!M(_),overlay:!1,handle:!!M(_),modal:!1,open:I.value,"onUpdate:open":n[15]||(n[15]=c=>I.value=c),class:"pointer-events-auto",ui:{header:"flex items-center justify-between",body:"p-0 ",container:"p-0 gap-0 ",content:"max-w-4xl mx-auto",footer:"gap-0"}},{body:O(()=>[M(_)?z("",!0):(h(),E(b,{key:0,icon:"i-heroicons-chevron-down",class:"absolute top-1.5 right-1.5 z-50 rounded-full",variant:"ghost",color:"neutral",onClick:n[8]||(n[8]=c=>I.value=!1)})),f("div",Uc,[x(N,{modelValue:X.value,"onUpdate:modelValue":n[10]||(n[10]=c=>X.value=c),items:j,variant:"link",size:"md",class:"w-full",ui:{indicator:"hidden",trigger:"ring ring-muted data-[state=active]:bg-muted data-[state=active]:text-neutral-700 py-1 flex-1 sm:flex-none",list:"gap-2 p-2 bg-transparent",root:"gap-0"}},{text:O(()=>[f("div",{class:oe(["sm:grid divide-y sm:divide-y-0 sm:divide-x divide-muted/70 transition-all relative",[be.value?"sm:grid-cols-2":"sm:grid-cols-1",mt.value?"sm:opacity-40":""]])},[f("div",{class:oe(["absolute inset-0 bg-neutral-500 transition-all pointer-events-none",mt.value?"opacity-0 sm:opacity-40 sm:bg-neutral-500/50":"opacity-0"])},null,2),xn.value?z("",!0):(h(!0),F(Se,{key:0},qe(wa.value,c=>(h(),F("div",{key:c.key,class:"p-3 sm:p-3 group",onClick:wt},[c.info?(h(),F("div",qc,[f("div",Hc,[x(b,{type:"button",variant:"ghost",color:"neutral",class:"flex w-full items-center font-semibold gap-2 tracking-wide text-neutral-500 transition",onClick:qt(ge=>Sa(c.key,"skog"),["stop"])},{default:O(()=>[n[65]||(n[65]=f("span",null,"Utveckling i skogen",-1)),x(y,{name:"i-heroicons-chevron-down",class:oe(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!pt(c.key,"skog")}])},null,8,["class"])]),_:2},1032,["onClick"]),pt(c.key,"skog")?(h(),F("p",{key:0,class:"text-sm text-neutral-800 leading-relaxed p-2 mb-2 bg-muted rounded",innerHTML:ze(c.info.skog)},null,8,Wc)):z("",!0)]),f("div",Yc,[x(b,{type:"button",variant:"ghost",color:"neutral",class:"flex w-full items-center gap-2 font-semibold tracking-wide text-neutral-500 transition",onClick:qt(ge=>Sa(c.key,"svamp"),["stop"])},{default:O(()=>[n[66]||(n[66]=f("span",null,"Påverkan på mykorrhizasvampar",-1)),x(y,{name:"i-heroicons-chevron-down",class:oe(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!pt(c.key,"svamp")}])},null,8,["class"])]),_:2},1032,["onClick"]),pt(c.key,"svamp")?(h(),F("span",{key:0,class:"block text-sm text-neutral-800 leading-relaxed p-2 bg-muted rounded",innerHTML:ze(c.info.svamp)},null,8,Gc)):z("",!0)])])):(h(),F("div",Zc,W(c.emptyMessage||Xn),1))]))),128)),xn.value?(h(),F("div",Xc,[x(Ts,{items:wa.value,ui:{item:"basis-12/13",viewport:"p-3"}},{default:O(({item:c})=>[x(Mt,{ui:{body:"p-4 space-y-4"},class:"",variant:"soft",onClick:wt},{default:O(()=>[f("div",Kc,[f("h2",Jc,W(c.left),1),x(gt,{label:c.right,class:"ring-muted/50 py-1",variant:"outline",color:"neutral"},null,8,["label"])]),c.info?(h(),F("div",Qc,[f("div",ed,[x(b,{type:"button",variant:"ghost",color:"neutral",class:"-mx-2 flex w-full items-center font-semibold gap-2 tracking-wide text-neutral-500 transition",onClick:qt(ge=>Sa(c.key,"skog"),["stop"])},{default:O(()=>[n[67]||(n[67]=f("span",null,"Utveckling i skogen",-1)),x(y,{name:"i-heroicons-chevron-down",class:oe(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!pt(c.key,"skog")}])},null,8,["class"])]),_:2},1032,["onClick"]),pt(c.key,"skog")?(h(),F("p",{key:0,class:"text-sm text-neutral-800 leading-relaxed mb-2 bg-muted rounded",innerHTML:ze(c.info.skog)},null,8,td)):z("",!0)]),f("div",ad,[x(b,{type:"button",variant:"ghost",color:"neutral",class:"-mx-2 flex w-full items-center gap-2 font-semibold tracking-wide text-neutral-500 transition",onClick:qt(ge=>Sa(c.key,"svamp"),["stop"])},{default:O(()=>[n[68]||(n[68]=f("span",null,"Påverkan på mykorrhizasvampar",-1)),x(y,{name:"i-heroicons-chevron-down",class:oe(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!pt(c.key,"svamp")}])},null,8,["class"])]),_:2},1032,["onClick"]),pt(c.key,"svamp")?(h(),F("span",{key:0,class:"block text-sm text-neutral-800 leading-relaxed bg-muted rounded",innerHTML:ze(c.info.svamp)},null,8,rd)):z("",!0)])])):(h(),F("div",nd,W(c.emptyMessage||Xn),1))]),_:2},1024)]),_:1},8,["items"])])):z("",!0)],2)]),diagram:O(()=>[X.value==="diagram"?(h(),E(Cs,{key:0,ref_key:"chartMainRef",ref:T,selectedChart:P.value,"onUpdate:selectedChart":n[9]||(n[9]=c=>P.value=c),parentSelectedFrameworks:ie.value?[U.value.value,we.value.value]:[U.value.value],currentTimeValue:zn.value,currentStartskog:J.value.value},null,8,["selectedChart","parentSelectedFrameworks","currentTimeValue","currentStartskog"])):z("",!0),n[69]||(n[69]=f("div",{class:"px-4 pb-4 text-xs text-muted"}," Fugiat irure tempor nisi dolor. Sit irure reprehenderit sint est nostrud. Voluptate reprehenderit amet laboris non nostrud. ",-1))]),_:1},8,["modelValue"])]),mt.value?(h(),E(or,{key:1,open:A.value,"onUpdate:open":n[14]||(n[14]=c=>A.value=c),nested:"",direction:"bottom",modal:!0,overlay:!1,inset:!M(_),handle:!!M(_),ui:{container:"p-0 gap-0",content:"sm:max-w-sm w-full mx-auto",body:"p-4 space-y-3"}},{body:O(()=>[f("div",ld,[f("div",sd,[hn.value?(h(),E(y,{key:0,name:hn.value,class:"size-5 text-primary-500 mt-0.5"},null,8,["name"])):z("",!0),f("h3",id,W(mt.value.title),1)]),f("div",od,[x(b,{color:ta.value?"error":"primary",variant:"subtle",size:"xs",ui:{rounded:"rounded-full"},label:ta.value?"Ta bort":"Fäst i vyn",icon:ta.value?"i-tabler-pinned-off":"i-tabler-pinned","aria-pressed":ta.value,title:ta.value?"Lossa":"Fäst",onClick:n[11]||(n[11]=c=>Ja(mt.value.key,{hideWhenUnpin:!1}))},null,8,["color","label","icon","aria-pressed","title"])])]),f("p",ud,W(mt.value.description),1),mt.value.key==="naturvardsarter"?(h(),E(b,{key:0,size:"sm",color:"primary",variant:"soft",class:"mt-2",icon:"i-carbon-chart-line-smooth",onClick:n[12]||(n[12]=c=>er())},{default:O(()=>[...n[70]||(n[70]=[st(" Visa naturvårdsartsdiagram ",-1)])]),_:1})):z("",!0),mt.value.key==="kanteffekt"?(h(),E(Mt,{key:1,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"},class:"mt-2 backdrop-blur-xl border border-white/10"},{default:O(()=>[x(De,{ui:{root:"flex-row-reverse justify-between",label:"",description:"",base:"data-[state=unchecked]:bg-neutral-600"},size:"md",color:"primary",modelValue:pe.value,"onUpdate:modelValue":n[13]||(n[13]=c=>pe.value=c),label:"Tidigare kanteffekt",description:"Visa spår från tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):z("",!0)]),_:1},8,["open","inset","handle"])):z("",!0)]),default:O(()=>[x(b,{size:(M(_),"xl"),label:(M(_),"Information"),color:"neutral",icon:"i-heroicons-chevron-up",class:"ring-muted rounded-full shadow",variant:I.value?"subtle":"outline"},null,8,["size","label","variant"])]),_:1},8,["direction","inset","dismissible","handle","open"])]),f("div",cd,[x(zt,{class:"shrink-0 cursor-pointer h-fit z-50",open:ct.value,"onUpdate:open":n[16]||(n[16]=c=>ct.value=c),popper:{placement:"bottom-start"}},{content:O(()=>[n[71]||(n[71]=f("div",{class:"text-sm w-64 p-3 text-neutral-500 border-b border-neutral-200"}," Kort beskriving av betydelsen för skogens historik ",-1)),f("div",dd,[(h(),F(Se,null,qe(Ga,c=>f("div",{key:c.value},[x(b,{onClick:ge=>fs(c),size:"lg",color:"white",variant:"ghost",class:oe(["hover:bg-neutral-100 w-full cursor-pointer",{"w-full  text-secondary-500":J.value.value===c.value}])},{default:O(()=>[st(W(c.label),1)]),_:2},1032,["onClick","class"])])),64))])]),default:O(()=>[x(b,{variant:(M(_),"outline"),color:"neutral",icon:"i-heroicons-clock",size:"lg",label:(M(_),null),class:"rounded-full ring-muted"},null,8,["variant","label"])]),_:1},8,["open"]),x(N,{modelValue:Ut.value,"onUpdate:modelValue":n[17]||(n[17]=c=>Ut.value=c),items:Vt.value,ui:{root:"min-w-max flex-shrink-0",list:"flex-nowrap rounded-xl bg-transparent -mb-1.5 gap-2",indicator:"bg-white border border-muted/50 shadow ",trigger:" data-[state=active]:text-neutral-800 dark:data-[state=active]:text-violet-400/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary "}},null,8,["modelValue","items"])])])]),f("div",vd,[f("div",fd,[f("div",md,[M(_)?(h(),E(or,{key:1,modal:!1,ui:{content:"p-0",body:"p-0",container:"p-0 gap-0"}},{body:O(()=>[x(M(V))]),default:O(()=>[x(b,{size:M(_)?"xl":"md",color:"neutral",variant:"outline",label:M(_)?null:"Display",icon:"i-heroicons-adjustments-horizontal",class:"ring-muted rounded-full sm:rounded pointer-events-auto"},null,8,["size","label"])]),_:1})):(h(),E(zt,{key:0,ui:{content:"p-0 w-80"},content:{side:"bottom",sideOffset:8,collisionPadding:8,align:"start"},class:"pointer-events-auto"},{content:O(()=>[x(M(V))]),default:O(()=>[x(b,{size:"md",color:"neutral",variant:"outline",label:"Display",icon:"i-heroicons-adjustments-horizontal",class:"ring-muted"})]),_:1}))]),gn.value.length?(h(),F("div",pd,[(h(!0),F(Se,null,qe(gn.value,c=>(h(),F("div",{key:c.key,class:"pointer-events-auto flex flex-col sm:flex sm:flex-wrap gap-1 items-end"},[x(zt,{"open-delay":500,"close-delay":300,mode:"click",open:u[c.key],"onUpdate:open":ge=>u[c.key]=ge,popper:{placement:"bottom-end"},ui:{content:"p-0 w-80"}},{content:O(()=>[f("div",gd,[f("div",bd,[f("div",kd,[c.icon?(h(),E(y,{key:0,name:c.icon,class:"size-5 text-primary-500 mt-0.5"},null,8,["name"])):z("",!0),f("h3",yd,W(ba(c.key).title||c.title),1)]),x(b,{label:"Ta bort",variant:"subtle",color:"error",size:"xs",icon:"i-tabler-pinned-off",onClick:ge=>(Ja(c.key),u[c.key]=!0)},null,8,["onClick"])]),ba(c.key).description?(h(),F("p",_d,W(ba(c.key).description),1)):(h(),F("div",xd,"Ingen beskrivning tillgänglig.")),c.key==="naturvardsarter"?(h(),E(b,{key:2,size:"sm",color:"primary",variant:"soft",icon:"i-carbon-chart-line-smooth",onClick:qt(ge=>er({badgeKey:c.key}),["stop"])},{default:O(()=>[...n[72]||(n[72]=[st(" Visa naturvårdsartsdiagram ",-1)])]),_:1},8,["onClick"])):z("",!0),c.key==="kanteffekt"?(h(),E(Mt,{key:3,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"},class:"mt-2 backdrop-blur-xl border border-white/10"},{default:O(()=>[x(De,{ui:{root:"flex-row-reverse justify-between",label:"",description:"",base:"data-[state=unchecked]:bg-neutral-600"},size:"md",color:"primary",modelValue:pe.value,"onUpdate:modelValue":n[18]||(n[18]=ge=>pe.value=ge),label:"Tidigare kanteffekt",description:"Visa spår från tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):z("",!0)])]),default:O(()=>[f("div",null,[x(gt,{color:"neutral",variant:"outline",size:"lg",class:oe(["cursor-pointer shadow-sm sm:ml-1.5 w-fit transition-opacity",c.key==="staticOverlay"||B(c.key)?"":"opacity-50"])},{default:O(()=>[f("div",hd,[c.icon?(h(),E(y,{key:0,name:c.icon,class:"size-5 text-primary-500"},null,8,["name"])):z("",!0),f("span",null,W(c.title),1)])]),_:2},1032,["class"])])]),_:2},1032,["open","onUpdate:open"])]))),128))])):z("",!0),f("div",{class:oe(["relative overflow-auto transition-all duration-300 ease-in-out ",ea.value?"w-72 border-r border-neutral-300":"w-0"])},[ea.value?(h(),F("div",wd,[f("div",Sd,[n[73]||(n[73]=f("h1",{class:"font-semibold text-lg"},"Inställningar",-1)),x(b,{icon:ea.value?"i-heroicons-chevron-left":"i-heroicons-chevron-right",variant:"outline",color:"neutral",class:"rounded-full left-4 z-10",onClick:n[19]||(n[19]=c=>ea.value=!ea.value)},null,8,["icon"])]),x(Mt,{variant:"soft",ui:{body:"p-2 sm:p-3"},class:"mb-2"},{default:O(()=>[f("div",Td,[n[75]||(n[75]=f("div",{class:"text-xs text-neutral-500"},"UI‑zoom",-1)),f("div",Cd,[x(b,{color:"neutral",variant:"soft",size:"xs",icon:"i-heroicons-minus",onClick:n[20]||(n[20]=c=>it.value=Math.max(.75,+(it.value-.1).toFixed(2)))}),f("div",Ld,W(Math.round(it.value*100))+"% ",1),x(b,{color:"neutral",variant:"soft",size:"xs",icon:"i-heroicons-plus",onClick:n[21]||(n[21]=c=>it.value=Math.min(2,+(it.value+.1).toFixed(2)))}),x(b,{color:"neutral",variant:"ghost",size:"xs",title:"Återställ (100%)",onClick:n[22]||(n[22]=c=>it.value=1)},{default:O(()=>[...n[74]||(n[74]=[st(" Reset ",-1)])]),_:1})])])]),_:1}),ie.value?(h(),F("div",Ad,[x(bt,{size:"lg",items:Rt.value,modelValue:Be.value,"onUpdate:modelValue":n[23]||(n[23]=c=>Be.value=c),placeholder:U.value.label,"append-to-body":"",variant:"outline",class:"w-full"},{item:O(({item:c})=>[f("div",Vd,[f("div",Md,W(c.label),1),c.description?(h(),F("div",zd,W(c.description),1)):z("",!0)])]),_:1},8,["items","modelValue","placeholder"]),x(bt,{size:"lg",items:Rt.value,modelValue:Pt.value,"onUpdate:modelValue":n[24]||(n[24]=c=>Pt.value=c),placeholder:we.value.label,"append-to-body":"",variant:"outline",class:"w-full"},{item:O(({item:c})=>[f("div",Od,[f("div",Fd,W(c.label),1),c.description?(h(),F("div",$d,W(c.description),1)):z("",!0)])]),_:1},8,["items","modelValue","placeholder"])])):(h(),F(Se,{key:1},[n[76]||(n[76]=f("h1",{class:"text-xs text-neutral-400"},"Skogsbruksmetod",-1)),x(bt,{size:"xl",items:Rt.value,modelValue:Be.value,"onUpdate:modelValue":n[25]||(n[25]=c=>Be.value=c),placeholder:U.value.label,"append-to-body":"",variant:"subtle",class:"w-full"},{item:O(({item:c})=>[f("div",Dd,[f("div",jd,W(c.label),1),c.description?(h(),F("div",Ed,W(c.description),1)):z("",!0)])]),_:1},8,["items","modelValue","placeholder"])],64)),f("div",Bd,[f("div",Nd,[f("div",Rd,[St.value||Tt.value||We.value?(h(),E(De,{key:0,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Y.value,"onUpdate:modelValue":n[26]||(n[26]=c=>Y.value=c),label:"Hänsynsträd"},null,8,["modelValue"])):z("",!0),St.value||Tt.value||We.value?(h(),E(De,{key:1,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ce.value,"onUpdate:modelValue":n[27]||(n[27]=c=>ce.value=c),label:"Kanteffekt"},null,8,["modelValue"])):z("",!0),x(De,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ye.value,"onUpdate:modelValue":n[28]||(n[28]=c=>ye.value=c),label:"Småplantor"},null,8,["modelValue"]),Tt.value&&ce.value?(h(),E(Mt,{key:2,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"}},{default:O(()=>[x(De,{ui:{root:"flex-row-reverse justify-between"},size:"xs",color:"neutral",modelValue:pe.value,"onUpdate:modelValue":n[29]||(n[29]=c=>pe.value=c),label:"Tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):z("",!0),We.value?(h(),E(De,{key:3,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ke.value,"onUpdate:modelValue":n[30]||(n[30]=c=>ke.value=c),label:"Rottäcke skärmträd"},null,8,["modelValue"])):z("",!0),ga.value?(h(),E(De,{key:4,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:he.value,"onUpdate:modelValue":n[31]||(n[31]=c=>he.value=c),label:"Rottäcke blädning"},null,8,["modelValue"])):z("",!0),x(De,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:_e.value,"onUpdate:modelValue":n[32]||(n[32]=c=>_e.value=c),label:"Högstubbar"},null,8,["modelValue"]),St.value||Tt.value||ga.value||We.value?(h(),E(De,{key:5,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ae.value,"onUpdate:modelValue":n[33]||(n[33]=c=>ae.value=c),label:"Naturvårdsarter"},null,8,["modelValue"])):z("",!0),We.value?(h(),E(De,{key:6,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:de.value,"onUpdate:modelValue":n[34]||(n[34]=c=>de.value=c),label:"Fröträd"},null,8,["modelValue"])):z("",!0),x(De,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:xe.value,"onUpdate:modelValue":n[35]||(n[35]=c=>xe.value=c),label:"Trädplantor"},null,8,["modelValue"]),x(De,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:xt.value,"onUpdate:modelValue":n[36]||(n[36]=c=>xt.value=c),label:"Spara klick (dev)"},null,8,["modelValue"])])])])])):z("",!0)],2),f("div",Pd,[!ue.value&&!ie.value?(h(),F("div",Id,[x(M(s),{"tradplantor-visible":xe.value,"naturvardsarter-visible":ae.value,"hogstubbar-visible":_e.value,"smaplantor-visible":ye.value,"dev-save-clicks":xt.value,"seedTree-visible":de.value,"rottacke-skarmtrad-visible":ke.value,"rottacke-bladning-visible":he.value,"retention-visible":Y.value,"old-kanteffekt-visible":pe.value,"kanteffekt-visible":ce.value,"retention-points":Q.value.retention,"seed-tree-points":Q.value.seedTree,"smaplantor-points":Q.value.smaplantor,"hogstubbar-points":Q.value.hogstubbar,"naturvardsarter-points":Q.value.naturvardsarter,"kanteffekt-features":Q.value.kanteffekt,fullscreenLayout:!0,currentFramework:U.value,currentTime:Ae.value,currentStartskog:J.value,layoutMode:se.value,ref_key:"singleViewerRef",ref:na,frameworkLabel:U.value.label,timeLabel:Le.value,dziUrl:cs.value,overlayDziUrl:ra.value,allowPan:!0,annotations:ls.value?Ss.value:[],selectedAnnotation:pa.value,globalOpacity:Ee.value,"onUpdate:globalOpacity":n[37]||(n[37]=c=>Ee.value=c),onAnnotationClicked:ds,class:"w-full h-full ui-zoom-exempt"},null,8,["tradplantor-visible","naturvardsarter-visible","hogstubbar-visible","smaplantor-visible","dev-save-clicks","seedTree-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","retention-visible","old-kanteffekt-visible","kanteffekt-visible","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","annotations","selectedAnnotation","globalOpacity"]),x(Ws,{name:"slide-out"},{default:O(()=>[pa.value?(h(),F("div",Ud,[n[77]||(n[77]=f("div",{class:"h-64 flex items-center justify-center text-neutral-300"}," Bild kommer snart ",-1)),x(b,{color:"white",ui:{rounded:"rounded-full"},icon:"heroicons:x-mark",onClick:vs,class:"absolute top-2 right-2"}),f("div",qd,[f("h3",Hd,W(pa.value.title),1),f("p",Wd,W(pa.value.text),1)])])):z("",!0)]),_:1})])):ue.value?(h(),E(On,{key:1,class:"w-full",ref_key:"comparisonSliderRef",ref:Oe,frameworkLabel:U.value.label,timeLabel:"Före avverkning",frameworkLabel2:U.value.label,timeLabel2:Le.value,layoutMode:se.value},{first:O(()=>[ma.value?(h(),E(M(s),{key:1,"naturvardsarter-visible":ae.value,"retention-visible":Y.value,"kanteffekt-visible":ce.value,"old-kanteffekt-visible":pe.value,"rottacke-skarmtrad-visible":ke.value,"rottacke-bladning-visible":he.value,"seedTree-visible":de.value,"smaplantor-visible":ye.value,"hogstubbar-visible":_e.value,"tradplantor-visible":xe.value,fullscreenLayout:!0,"retention-points":Ne.value.retention,"seed-tree-points":Ne.value.seedTree,"smaplantor-points":Ne.value.smaplantor,"hogstubbar-points":Ne.value.hogstubbar,"naturvardsarter-points":Ne.value.naturvardsarter,"kanteffekt-features":Ne.value.kanteffekt,currentFramework:U.value,currentTime:"innan",currentStartskog:J.value,layoutMode:se.value,ref_key:"beforeViewerRef",ref:Ge,comparisonMode:!0,frameworkLabel:U.value.label,timeLabel:"Före avverkning",dziUrl:on.value,overlayDziUrl:Sn.value,allowPan:!0,onOpened:n[40]||(n[40]=c=>ht("before")),onActivated:n[41]||(n[41]=c=>lt.value.valueOf="before"),globalOpacity:Ee.value,"onUpdate:globalOpacity":n[42]||(n[42]=c=>Ee.value=c),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentStartskog","layoutMode","frameworkLabel","dziUrl","overlayDziUrl","globalOpacity"])):(h(),E(M(s),{key:0,"naturvardsarter-visible":ae.value,"retention-visible":Y.value,"kanteffekt-visible":ce.value,"old-kanteffekt-visible":pe.value,"rottacke-skarmtrad-visible":ke.value,"rottacke-bladning-visible":he.value,"seedTree-visible":de.value,"smaplantor-visible":ye.value,"hogstubbar-visible":_e.value,"tradplantor-visible":xe.value,fullscreenLayout:!0,"retention-points":Ne.value.retention,"seed-tree-points":Ne.value.seedTree,"smaplantor-points":Ne.value.smaplantor,"hogstubbar-points":Ne.value.hogstubbar,"naturvardsarter-points":Ne.value.naturvardsarter,"kanteffekt-features":Ne.value.kanteffekt,currentFramework:U.value,currentTime:"innan",currentStartskog:J.value,layoutMode:se.value,ref_key:"beforeViewerRef",ref:Ge,comparisonMode:!0,frameworkLabel:U.value.label,timeLabel:"Före avverkning",dziUrl:on.value,overlayDziUrl:Sn.value,allowPan:!0,onOpened:n[38]||(n[38]=c=>ht("before")),onActivated:n[39]||(n[39]=c=>lt.value.valueOf="before"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentStartskog","layoutMode","frameworkLabel","dziUrl","overlayDziUrl"]))]),second:O(()=>[ma.value?(h(),E(M(s),{key:1,"naturvardsarter-visible":ae.value,"retention-visible":Y.value,"kanteffekt-visible":ce.value,"old-kanteffekt-visible":pe.value,"rottacke-skarmtrad-visible":ke.value,"rottacke-bladning-visible":he.value,"seedTree-visible":de.value,"smaplantor-visible":ye.value,"hogstubbar-visible":_e.value,"tradplantor-visible":xe.value,fullscreenLayout:!0,"retention-points":Q.value.retention,"seed-tree-points":Q.value.seedTree,"smaplantor-points":Q.value.smaplantor,"hogstubbar-points":Q.value.hogstubbar,"naturvardsarter-points":Q.value.naturvardsarter,"kanteffekt-features":Q.value.kanteffekt,currentFramework:U.value,currentTime:Ae.value,currentStartskog:J.value,layoutMode:se.value,ref_key:"afterViewerRef",ref:Ze,comparisonMode:!0,frameworkLabel:U.value.label,timeLabel:Le.value,dziUrl:un.value,overlayDziUrl:ra.value,allowPan:!0,sliderPosition:"right",onOpened:n[45]||(n[45]=c=>ht("after")),onActivated:n[46]||(n[46]=c=>lt.value.valueOf="after"),globalOpacity:Ee.value,"onUpdate:globalOpacity":n[47]||(n[47]=c=>Ee.value=c),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","globalOpacity"])):(h(),E(M(s),{key:0,"naturvardsarter-visible":ae.value,"retention-visible":Y.value,"kanteffekt-visible":ce.value,"old-kanteffekt-visible":pe.value,"rottacke-skarmtrad-visible":ke.value,"rottacke-bladning-visible":he.value,"seedTree-visible":de.value,"smaplantor-visible":ye.value,"hogstubbar-visible":_e.value,"tradplantor-visible":xe.value,fullscreenLayout:!0,"retention-points":Q.value.retention,"seed-tree-points":Q.value.seedTree,"smaplantor-points":Q.value.smaplantor,"hogstubbar-points":Q.value.hogstubbar,"naturvardsarter-points":Q.value.naturvardsarter,"kanteffekt-features":Q.value.kanteffekt,currentFramework:U.value,currentTime:Ae.value,currentStartskog:J.value,layoutMode:se.value,ref_key:"afterViewerRef",ref:Ze,comparisonMode:!0,frameworkLabel:U.value.label,timeLabel:Le.value,dziUrl:un.value,overlayDziUrl:ra.value,allowPan:!0,sliderPosition:"right",onOpened:n[43]||(n[43]=c=>ht("after")),onActivated:n[44]||(n[44]=c=>lt.value.valueOf="after"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl"]))]),_:1},8,["frameworkLabel","frameworkLabel2","timeLabel2","layoutMode"])):ie.value?(h(),E(On,{key:2,ref_key:"comparisonSliderRef",ref:Oe,frameworkLabel:U.value.label,timeLabel:Le.value,frameworkLabel2:we.value.label,timeLabel2:Le.value,layoutMode:se.value,class:"w-full"},{first:O(()=>[ma.value?(h(),E(M(s),{key:1,"naturvardsarter-visible":ae.value,"retention-visible":Y.value,"kanteffekt-visible":ce.value,"old-kanteffekt-visible":pe.value,"rottacke-skarmtrad-visible":ke.value,"rottacke-bladning-visible":he.value,"seedTree-visible":de.value,"smaplantor-visible":ye.value,"hogstubbar-visible":_e.value,"tradplantor-visible":xe.value,fullscreenLayout:!0,"retention-points":Q.value.retention,"seed-tree-points":Q.value.seedTree,"smaplantor-points":Q.value.smaplantor,"hogstubbar-points":Q.value.hogstubbar,"naturvardsarter-points":Q.value.naturvardsarter,"kanteffekt-features":Q.value.kanteffekt,currentFramework:U.value,currentTime:Ae.value,currentStartskog:J.value,layoutMode:se.value,ref_key:"framework1ViewerRef",ref:Xe,comparisonMode:!0,frameworkLabel:U.value.label,timeLabel:Le.value,dziUrl:cn.value,overlayDziUrl:ra.value,allowPan:!ue.value&&!ie.value,globalOpacity:Ee.value,"onUpdate:globalOpacity":n[51]||(n[51]=c=>Ee.value=c),onViewportChanged:n[52]||(n[52]=c=>Ta("framework1",c)),onOpened:n[53]||(n[53]=c=>ht("framework1")),onActivated:n[54]||(n[54]=c=>lt.value.valueOf="framework1"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan","globalOpacity"])):(h(),E(M(s),{key:0,"naturvardsarter-visible":ae.value,"retention-visible":Y.value,"kanteffekt-visible":ce.value,"old-kanteffekt-visible":pe.value,"rottacke-skarmtrad-visible":ke.value,"rottacke-bladning-visible":he.value,"seedTree-visible":de.value,"smaplantor-visible":ye.value,"hogstubbar-visible":_e.value,"tradplantor-visible":xe.value,fullscreenLayout:!0,"retention-points":Q.value.retention,"seed-tree-points":Q.value.seedTree,"smaplantor-points":Q.value.smaplantor,"hogstubbar-points":Q.value.hogstubbar,"naturvardsarter-points":Q.value.naturvardsarter,"kanteffekt-features":Q.value.kanteffekt,currentFramework:U.value,currentTime:Ae.value,currentStartskog:J.value,layoutMode:se.value,ref_key:"framework1ViewerRef",ref:Xe,comparisonMode:!0,frameworkLabel:U.value.label,timeLabel:Le.value,dziUrl:cn.value,overlayDziUrl:ra.value,allowPan:!ue.value&&!ie.value,onViewportChanged:n[48]||(n[48]=c=>Ta("framework1",c)),onOpened:n[49]||(n[49]=c=>ht("framework1")),onActivated:n[50]||(n[50]=c=>lt.value.valueOf="framework1"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan"]))]),second:O(()=>[ma.value?(h(),E(M(s),{key:1,"naturvardsarter-visible":ae.value,"retention-visible":Y.value,"kanteffekt-visible":ce.value,"old-kanteffekt-visible":pe.value,"rottacke-skarmtrad-visible":ke.value,"rottacke-bladning-visible":he.value,"seedTree-visible":de.value,"smaplantor-visible":ye.value,"hogstubbar-visible":_e.value,"tradplantor-visible":xe.value,fullscreenLayout:!0,"retention-points":Re.value.retention,"seed-tree-points":Re.value.seedTree,"smaplantor-points":Re.value.smaplantor,"hogstubbar-points":Re.value.hogstubbar,"naturvardsarter-points":Re.value.naturvardsarter,"kanteffekt-features":Re.value.kanteffekt,currentFramework:we.value,currentTime:Ae.value,currentStartskog:J.value,layoutMode:se.value,ref_key:"framework2ViewerRef",ref:Ke,comparisonMode:!0,frameworkLabel:we.value.label,timeLabel:Le.value,dziUrl:dn.value,overlayDziUrl:Tn.value,globalOpacity:Ee.value,"onUpdate:globalOpacity":n[58]||(n[58]=c=>Ee.value=c),allowPan:!ue.value&&!ie.value,sliderPosition:"right",onViewportChanged:n[59]||(n[59]=c=>Ta("framework2",c)),onOpened:n[60]||(n[60]=c=>ht("framework2")),onActivated:n[61]||(n[61]=c=>lt.value.valueOf="framework2"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","globalOpacity","allowPan"])):(h(),E(M(s),{key:0,"naturvardsarter-visible":ae.value,"retention-visible":Y.value,"kanteffekt-visible":ce.value,"old-kanteffekt-visible":pe.value,"rottacke-skarmtrad-visible":ke.value,"rottacke-bladning-visible":he.value,"seedTree-visible":de.value,"smaplantor-visible":ye.value,"hogstubbar-visible":_e.value,"tradplantor-visible":xe.value,fullscreenLayout:!0,"retention-points":Re.value.retention,"seed-tree-points":Re.value.seedTree,"smaplantor-points":Re.value.smaplantor,"hogstubbar-points":Re.value.hogstubbar,"naturvardsarter-points":Re.value.naturvardsarter,"kanteffekt-features":Re.value.kanteffekt,currentFramework:we.value,currentTime:Ae.value,currentStartskog:J.value,layoutMode:se.value,ref_key:"framework2ViewerRef",ref:Ke,comparisonMode:!0,frameworkLabel:we.value.label,timeLabel:Le.value,dziUrl:dn.value,overlayDziUrl:Tn.value,allowPan:!ue.value&&!ie.value,sliderPosition:"right",onViewportChanged:n[55]||(n[55]=c=>Ta("framework2",c)),onOpened:n[56]||(n[56]=c=>ht("framework2")),onActivated:n[57]||(n[57]=c=>lt.value.valueOf="framework2"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan"]))]),_:1},8,["frameworkLabel","timeLabel","frameworkLabel2","timeLabel2","layoutMode"])):z("",!0)]),ns.value?z("",!0):(h(),F("div",Yd,[f("div",Gd,[!ue.value&&!ie.value?(h(),F("div",Zd,[f("div",{class:"p-3 group text-base/7",onClick:wt},[x(zt,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:O(()=>[f("div",Kd,[(h(),F(Se,null,qe(vt,(c,ge)=>f("div",{key:c.id,onClick:ur=>Be.value=ge,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[f("div",null,[f("div",Qd,W(c.label),1),f("div",ev,W(c.text),1)])],8,Jd)),64))])]),default:O(()=>[f("h2",Xd,W(U.value.label),1)]),_:1}),f("div",tv,[f("h3",av,W(Le.value),1),x(b,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",color:"neutral",variant:"soft",size:"xs",label:He.value?"Dölj info":"Visa info",onClick:Xt},null,8,["label"])]),He.value&&Pe.value?(h(),F("div",rv,[f("p",{class:"mb-4 text-neutral-50",innerHTML:ze(Pe.value.skog)},null,8,nv),f("div",null,[n[78]||(n[78]=f("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),f("span",{class:"text-neutral-50",innerHTML:ze(Pe.value.svamp)},null,8,lv)])])):He.value?(h(),F("div",sv," Ingen tidslinjeinformation hittades för den här kombinationen. ")):z("",!0)])])):ue.value?(h(),F("div",iv,[xa.value?(h(),F("div",{key:0,class:"p-3 group text-base/7",onClick:wt},[x(zt,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:O(()=>[f("div",uv,[(h(),F(Se,null,qe(vt,(c,ge)=>f("div",{key:c.id,onClick:ur=>Be.value=ge,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[f("div",null,[f("div",dv,W(c.label),1),f("div",vv,W(c.text),1)])],8,cv)),64))])]),default:O(()=>[f("h2",ov,W(U.value.label),1)]),_:1}),f("div",fv,[n[79]||(n[79]=f("h3",{class:"text-md text-neutral-200"}," Före avverkning ",-1)),x(b,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:He.value?"Dölj info":"Visa info",onClick:Xt},null,8,["label"])]),He.value?(h(),F("div",mv,[f("p",{class:"mb-2 text-neutral-50",innerHTML:ze(xa.value.skog)},null,8,pv),f("div",null,[n[80]||(n[80]=f("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),f("span",{class:"text-neutral-50",innerHTML:ze(xa.value.svamp)},null,8,hv)])])):z("",!0)])):z("",!0),Pe.value?(h(),F("div",{key:1,class:"p-4 group border border-neutral-200/10 rounded-sm shadow bg-neutral-950/20",onClick:wt},[f("div",gv,[f("h3",bv,W(Le.value),1),x(b,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:tt.value?"Dölj info":"Visa info",onClick:Kt},null,8,["label"])]),tt.value?(h(),F("div",kv,[f("p",{class:"mb-2 text-neutral-50",innerHTML:ze(Pe.value.skog)},null,8,yv),f("div",null,[n[81]||(n[81]=f("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),f("span",{class:"text-neutral-50",innerHTML:ze(Pe.value.svamp)},null,8,_v)])])):z("",!0)])):z("",!0)])):ie.value?(h(),F("div",xv,[Pe.value?(h(),F("div",{key:0,class:"p-3 group text-base/7",onClick:wt},[x(zt,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:O(()=>[f("div",Sv,[(h(),F(Se,null,qe(vt,(c,ge)=>f("div",{key:c.id,onClick:ur=>Be.value=ge,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[f("div",null,[f("div",Cv,W(c.label),1),f("div",Lv,W(c.text),1)])],8,Tv)),64))])]),default:O(()=>[f("h2",wv,W(U.value.label),1)]),_:1}),f("div",Av,[f("h3",Vv,W(Le.value),1),x(b,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:He.value?"Dölj info":"Visa info",onClick:Xt},null,8,["label"])]),He.value?(h(),F("div",Mv,[f("p",{class:"mb-2 text-neutral-50",innerHTML:ze(Pe.value.skog)},null,8,zv),f("div",null,[n[82]||(n[82]=f("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),f("span",{class:"text-neutral-50",innerHTML:ze(Pe.value.svamp)},null,8,Ov)])])):z("",!0)])):z("",!0),_a.value?(h(),F("div",{key:1,class:"p-4 group border border-neutral-200/10 rounded-sm shadow bg-neutral-950/20",onClick:wt},[x(zt,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:O(()=>[f("div",$v,[(h(),F(Se,null,qe(vt,(c,ge)=>f("div",{key:"framework2-"+c.id,onClick:ur=>Pt.value=ge,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[f("div",null,[f("div",jv,W(c.label),1),f("div",Ev,W(c.text),1)])],8,Dv)),64))])]),default:O(()=>[f("h2",Fv,W(we.value.label),1)]),_:1}),f("div",Bv,[f("h3",Nv,W(Le.value),1),x(b,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:tt.value?"Dölj info":"Visa info",onClick:Kt},null,8,["label"])]),tt.value?(h(),F("div",Rv,[f("p",{class:"mb-2 text-neutral-50",innerHTML:ze(_a.value.skog)},null,8,Pv),f("div",null,[n[83]||(n[83]=f("p",{class:"mb-2 text-white font-bold text-md"},"Påverkan på mykorrhizasvamp",-1)),f("span",{class:"text-neutral-50",innerHTML:ze(_a.value.svamp)},null,8,Iv)])])):z("",!0)])):z("",!0)])):z("",!0),f("div",Uv,[f("div",qv,[Wl.value?(h(),E(b,{key:0,size:"xl",onClick:Jl,variant:"ghost",class:"text-white hover:bg-neutral-500/20 w-full",label:Gl.value,icon:"i-heroicons-arrow-left-circle"},null,8,["label"])):z("",!0)]),f("div",Hv,[Yl.value?(h(),E(b,{key:0,size:"xl",onClick:Ql,variant:"ghost",class:"w-full text-white hover:bg-neutral-500/20 flex justify-end",trailing:"",label:Zl.value,icon:"i-heroicons-arrow-right-circle"},null,8,["label"])):z("",!0)])])])]))])])])}}}),Gv=Object.assign(al(Yv,[["__scopeId","data-v-b4f09cb2"]]),{__name:"Model"}),Zv={key:0,class:"flex-1"},Xv=["onClick"],Kv={class:"text-lg p-2 px-3 font-medium"},Jv={class:"w-full ring ring-muted/50 rounded relative overflow-hidden shadow"},Qv={class:"sm:grid grid-cols-2"},ef={class:"px-6 sm:px-12 sm:border-r border-muted/50"},tf={class:"my-4 text-3xl sm:text-4xl font-medium text-neutral-900"},af={class:"px-6 sm:px-12"},rf={class:"p-6 pb-2"},nf={class:"font-semibold"},lf={class:"lg:flex gap-4 space-y-2 lg:space-y-0"},sf=["src"],of={class:"w-full px-6 border border-muted/50 bg-muted/50 rounded h-fit"},uf={class:"w-full bg-white px-6 border border-muted/50 rounded h-fit"},cf={class:"bg-muted border-t border-muted mt-18"},df=et({__name:"index",async setup(e){let t,a;const r=C(!1),{data:s}=([t,a]=ua(()=>Gt("skogsskotsel",()=>ca("skogsskotsel").first())),t=await t,a(),t);if(!s.value)throw Gs({statusCode:404,statusMessage:"Page not found",fatal:!0});const i=V=>{const _=V?.toLowerCase?.()??"";return _==="intekalavverkad"?"naturskog":_==="produktionsskog"?"produktionsskog_":V},u=V=>(V?.toLowerCase?.()??"")==="ingenatgard"?"naturskydd":V,o=V=>{const _=String(V).trim().toLowerCase();return _.includes("efter")?"efter":_.includes("innan")||_.includes("före")||_.includes("fore")?"fore":_.replace(/[^0-9]/g,"")||_},d=(V,_,j)=>{const v=ee=>ee.trim().normalize("NFD").replace(/å/gi,"a").replace(/ä/gi,"a").replace(/ö/gi,"o").replace(new RegExp("\\p{Diacritic}+","gu"),"").toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,"");return`/images/thumbnails/${`${v(V)}_${o(String(_))}_visa_visa_${v(j)}.webp`}`},{data:T}=([t,a]=ua(()=>Gt("forestry-timeline-skogsskotsel",()=>ca("forestryTimelines").first())),t=await t,a(),t),m=g(()=>{const V=T.value?.entries??[],_=q.value.id,j=u(_);return V.map(v=>({...v,startskog:i(v.startskog),atgard:u(v.atgard)})).filter(v=>v.startskog==="naturskog"&&v.atgard===j).map(v=>({tid:v.tid,skog:v.skog,svamp:v.svamp,thumb:d(v.atgard,v.tid,v.startskog)}))}),p=C([{label:"Diagram",icon:"i-heroicons-presentation-chart-line",slot:"diagram"},{label:"Tidslinje",icon:"i-heroicons-list-bullet",slot:"timeline"},{label:"Text",icon:"i-heroicons-book-open",slot:"text"}]),D=g(()=>s.value?.methods??[]),$={id:"",title:"",image:"",shortdescription:"",description:"",descriptionsvamp:""},B=C("");Zs(()=>{const V=D.value[0];V&&!B.value&&(B.value=V.id)});const q=g(()=>{const V=D.value;return V.length?V.find(_=>_.id===B.value)??V[0]:$});return(V,_)=>{const j=Nr,v=Js,R=Gv,ee=Qs,re=Si,fe=Xs,Me=Rr,te=ei,K=Ti,me=Ci,be=ti,le=Hl,se=Li,jt=nl,xt=Ai;return M(s)?(h(),F("div",Zv,[x(fe,{class:"w-full px-0"},{default:O(()=>[x(re,{ui:{container:"py-12 lg:py-24",title:"sm:text-7xl",headline:"text-neutral"},title:M(s).hero.title,description:M(s).hero.description,orientation:M(s).hero.orientation,class:""},Ks({_:2},[M(s)?.hero?.links?.[0]?{name:"links",fn:O(()=>[x(v,{color:"warning",size:"2xl"},{default:O(()=>[x(j,{label:M(s).hero.links[0].label,size:M(s).hero.links[0].size,color:M(s).hero.links[0].color,icon:M(s).hero.links[0].icon,onClick:_[0]||(_[0]=Y=>r.value=!0)},null,8,["label","size","color","icon"])]),_:1}),x(ee,{open:r.value,"onUpdate:open":_[2]||(_[2]=Y=>r.value=Y),fullscreen:""},{content:O(()=>[x(R,{onClose:_[1]||(_[1]=Y=>r.value=!1)})]),_:1},8,["open"])]),key:"0"}:void 0]),1032,["title","description","orientation"])]),_:1}),x(fe,{class:"w-full flex justify-between py-4 gap-6 overflow-scroll lg:overflow-hidden"},{default:O(()=>[(h(!0),F(Se,null,qe(D.value,Y=>(h(),E(K,{key:Y.id,class:"relative",initial:{scale:1,transform:"translateY(10px)",opacity:0},animate:{scale:1,transform:"translateY(0px)",opacity:1},transition:{duration:.3,delay:.3+.05*(Y.index??0)}},{default:O(()=>[f("div",{onClick:ce=>B.value=Y.id,class:oe(["shrink-0 lg:shrink w-58 lg:w-full bg-white transition-all hover:opacity-100 border border-muted/50 overflow-hidden rounded h-fit shadow hover:shadow-md relative cursor-pointer",B.value===Y.id?"opacity-100":"opacity-30"])},[Y.type?(h(),E(Me,{key:0,class:"absolute top-2 left-2",label:Y.type,color:"neutral",variant:"subtle"},null,8,["label"])):z("",!0),x(te,{src:Y.image,width:"300",height:"160",class:"w-full h-full"},null,8,["src"]),f("h1",Kv,W(Y.title),1)],10,Xv)]),_:2},1032,["transition"]))),128))]),_:1}),x(fe,{class:"w-full pt-2 px-0 sm:px-6"},{default:O(()=>[x(K,{class:"flex justify-center w-full",initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0px)"},transition:{duration:.5,delay:1}},{default:O(()=>[f("div",Jv,[x(jt,{ui:{list:"p-2 justify-center sm:justify-start",root:""},items:p.value,color:"primary",size:"md",class:"w-full",variant:"link"},{text:O(()=>[x(be,{class:"pt-4 sm:p-6"},{default:O(()=>[f("div",Qv,[f("div",ef,[f("h1",tf,W(q.value.title),1),x(me,{class:"text-lg text-neutral-800 mb-8",value:q.value.description},null,8,["value"])]),f("div",af,[_[3]||(_[3]=f("h1",{class:"my-4 text-2xl font-medium text-neutral-900"},"Påverkan på mykorrhizasvampar ",-1)),x(me,{class:"text-lg text-neutral-800",value:q.value.descriptionsvamp},null,8,["value"])])])]),_:1})]),diagram:O(()=>[x(le,{parentSelectedFrameworks:[q.value.id],currentStartskog:"naturskog"},null,8,["parentSelectedFrameworks"])]),timeline:O(()=>[f("div",rf,[x(se,{items:m.value,size:"3xs",ui:{indicator:"bg-neutral-200/50 ",separator:"bg-neutral-200/50",description:"p-0 mt-2 text-default"}},{title:O(({item:Y})=>[f("span",nf,W(Y.tid),1)]),description:O(({item:Y})=>[f("div",lf,[f("img",{src:Y.thumb,class:"w-80 h-fit rounded"},null,8,sf),f("div",of,[x(me,{value:Y.skog},null,8,["value"])]),f("div",uf,[x(me,{value:Y.svamp},null,8,["value"])])])]),_:1},8,["items"])])]),_:1},8,["items"])])]),_:1})]),_:1}),f("div",cf,[x(xt,{section:M(s).carousel},null,8,["section"])])])):z("",!0)}}}),wf=Object.freeze(Object.defineProperty({__proto__:null,default:df},Symbol.toStringTag,{value:"Module"}));export{_c as a,wf as i,yc as u};
