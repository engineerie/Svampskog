const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Dmuhe-Dl.js","./Duuaeg3l.js","./entry.DC2xy6yL.css","./Cpj98o6Y.js","./CwSHej--.js","./B6BaUEaW.js","./B0VoygWj.js","./DGubEs0W.js","./BWuJ0jvd.js","./BtJRc4mz.js","./-SNjtLzu.js","./OpenSeadragonViewer.Cd98lyk2.css"])))=>i.map(i=>d[i]);
import{A as ct,C as Ms,I as Ul,Z as Fs,V as g,B as Pl,M as N,e as b,w as U,N as Ht,f as F,O as D,Y as Bs,S as Hl,U as ha,P as Dn,aI as Xa,r as V,d as B,o as _t,K as Vt,c as Wt,J,aC as Ia,aD as ba,aE as Ua,b4 as ka,aY as zs,g as O,b5 as ql,F as Me,af as Ye,ae as $n,h as f,a$ as _r,t as Z,aM as jn,am as Ha,au as Wl,_ as Ds,a3 as vs,a4 as Gl,a5 as Yl,y as Xl,a9 as Kl,a8 as Zl,b6 as Jl,b7 as Ql,aa as fs,n as xe,ah as oa,aB as $s,b8 as En,aW as ei,p as ti,aL as ai,b9 as ri,ba as ni,bb as si,bc as li,aV as ii,T as oi,b as ui}from"#entry";import{_ as ci}from"./CwSHej--.js";import{b as js,L as di,a as vi,_ as fi}from"./DGubEs0W.js";import{u as mi,V as pi}from"./BWuJ0jvd.js";import{X as Ka,c as he,i as Sa,a as Za,D as ia,b as ya,d as wr,g as Lt,e as qt,f as Ga,s as _a,h as hi,j as Ne,O as Es,m as on,k as gi,l as bi,r as ki,n as yi,o as xi,p as _i,q as wi,t as Si,u as Ti,v as Ai,w as pn,P as Ci,x as Li,y as Vi,z as Oi,A as Mi,B as Ya,C as Ja,E as Ta,F as Aa,S as Fi,G as ms}from"./BtJRc4mz.js";import{d as Bi}from"./-SNjtLzu.js";const[zi,Di]=Pl("SwitchRoot");var $i=ct({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,r=t,{disabled:l}=Ms(a),i=Ul(a,"modelValue",r,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function u(){l.value||(i.value=!i.value)}const{forwardRef:o,currentElement:c}=Fs(),T=mi(c),p=g(()=>a.id&&c.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return Di({modelValue:i,toggleCheck:u,disabled:l}),(h,A)=>(b(),N(D(Dn),Bs(h.$attrs,{id:h.id,ref:D(o),role:"switch",type:h.as==="button"?"button":void 0,value:h.value,"aria-label":h.$attrs["aria-label"]||p.value,"aria-checked":D(i),"aria-required":h.required,"data-state":D(i)?"checked":"unchecked","data-disabled":D(l)?"":void 0,"as-child":h.asChild,as:h.as,disabled:D(l),onClick:u,onKeydown:Hl(ha(u,["prevent"]),["enter"])}),{default:U(()=>[Ht(h.$slots,"default",{modelValue:D(i)}),D(T)&&h.name?(b(),N(D(pi),{key:0,type:"checkbox",name:h.name,disabled:D(l),required:h.required,value:h.value,checked:!!D(i)},null,8,["name","disabled","required","value","checked"])):F("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),ji=$i,Ei=ct({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=zi();return Fs(),(a,r)=>(b(),N(D(Dn),{"data-state":D(t).modelValue?.value?"checked":"unchecked","data-disabled":D(t).disabled.value?"":void 0,"as-child":a.asChild,as:a.as},{default:U(()=>[Ht(a.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"]))}}),Ri=Ei,hn=Math.PI,gn=2*hn,la=1e-6,Ni=gn-la;function bn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Mr(){return new bn}bn.prototype=Mr.prototype={constructor:bn,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,a,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+a)+","+(this._y1=+r)},bezierCurveTo:function(e,t,a,r,l,i){this._+="C"+ +e+","+ +t+","+ +a+","+ +r+","+(this._x1=+l)+","+(this._y1=+i)},arcTo:function(e,t,a,r,l){e=+e,t=+t,a=+a,r=+r,l=+l;var i=this._x1,u=this._y1,o=a-e,c=r-t,T=i-e,p=u-t,h=T*T+p*p;if(l<0)throw new Error("negative radius: "+l);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>la)if(!(Math.abs(p*o-c*T)>la)||!l)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var A=a-i,L=r-u,$=o*o+c*c,R=A*A+L*L,j=Math.sqrt($),C=Math.sqrt(h),I=l*Math.tan((hn-Math.acos(($+h-R)/(2*j*C)))/2),z=I/C,H=I/j;Math.abs(z-1)>la&&(this._+="L"+(e+z*T)+","+(t+z*p)),this._+="A"+l+","+l+",0,0,"+ +(p*A>T*L)+","+(this._x1=e+H*o)+","+(this._y1=t+H*c)}},arc:function(e,t,a,r,l,i){e=+e,t=+t,a=+a,i=!!i;var u=a*Math.cos(r),o=a*Math.sin(r),c=e+u,T=t+o,p=1^i,h=i?r-l:l-r;if(a<0)throw new Error("negative radius: "+a);this._x1===null?this._+="M"+c+","+T:(Math.abs(this._x1-c)>la||Math.abs(this._y1-T)>la)&&(this._+="L"+c+","+T),a&&(h<0&&(h=h%gn+gn),h>Ni?this._+="A"+a+","+a+",0,1,"+p+","+(e-u)+","+(t-o)+"A"+a+","+a+",0,1,"+p+","+(this._x1=c)+","+(this._y1=T):h>la&&(this._+="A"+a+","+a+",0,"+ +(h>=hn)+","+p+","+(this._x1=e+a*Math.cos(l))+","+(this._y1=t+a*Math.sin(l))))},rect:function(e,t,a,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +a+"v"+ +r+"h"+-a+"Z"},toString:function(){return this._}};function $e(e){return function(){return e}}var ps=1e-12,Sr=Math.PI,Fr=2*Sr;function Rs(e){this._context=e}Rs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Rn(e){return new Rs(e)}function Ns(e){return e[0]}function Is(e){return e[1]}function Us(){var e=Ns,t=Is,a=$e(!0),r=null,l=Rn,i=null;function u(o){var c,T=o.length,p,h=!1,A;for(r==null&&(i=l(A=Mr())),c=0;c<=T;++c)!(c<T&&a(p=o[c],c,o))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(p,c,o),+t(p,c,o));if(A)return i=null,A+""||null}return u.x=function(o){return arguments.length?(e=typeof o=="function"?o:$e(+o),u):e},u.y=function(o){return arguments.length?(t=typeof o=="function"?o:$e(+o),u):t},u.defined=function(o){return arguments.length?(a=typeof o=="function"?o:$e(!!o),u):a},u.curve=function(o){return arguments.length?(l=o,r!=null&&(i=l(r)),u):l},u.context=function(o){return arguments.length?(o==null?r=i=null:i=l(r=o),u):r},u}function Ii(){var e=Ns,t=null,a=$e(0),r=Is,l=$e(!0),i=null,u=Rn,o=null;function c(p){var h,A,L,$=p.length,R,j=!1,C,I=new Array($),z=new Array($);for(i==null&&(o=u(C=Mr())),h=0;h<=$;++h){if(!(h<$&&l(R=p[h],h,p))===j)if(j=!j)A=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),L=h-1;L>=A;--L)o.point(I[L],z[L]);o.lineEnd(),o.areaEnd()}j&&(I[h]=+e(R,h,p),z[h]=+a(R,h,p),o.point(t?+t(R,h,p):I[h],r?+r(R,h,p):z[h]))}if(C)return o=null,C+""||null}function T(){return Us().defined(l).curve(u).context(i)}return c.x=function(p){return arguments.length?(e=typeof p=="function"?p:$e(+p),t=null,c):e},c.x0=function(p){return arguments.length?(e=typeof p=="function"?p:$e(+p),c):e},c.x1=function(p){return arguments.length?(t=p==null?null:typeof p=="function"?p:$e(+p),c):t},c.y=function(p){return arguments.length?(a=typeof p=="function"?p:$e(+p),r=null,c):a},c.y0=function(p){return arguments.length?(a=typeof p=="function"?p:$e(+p),c):a},c.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:$e(+p),c):r},c.lineX0=c.lineY0=function(){return T().x(e).y(a)},c.lineY1=function(){return T().x(e).y(r)},c.lineX1=function(){return T().x(t).y(a)},c.defined=function(p){return arguments.length?(l=typeof p=="function"?p:$e(!!p),c):l},c.curve=function(p){return arguments.length?(u=p,i!=null&&(o=u(i)),c):u},c.context=function(p){return arguments.length?(p==null?i=o=null:o=u(i=p),c):i},c}const Ps={draw:function(e,t){var a=Math.sqrt(t/Sr);e.moveTo(a,0),e.arc(0,0,a,0,Fr)}},Ui={draw:function(e,t){var a=Math.sqrt(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}};var Hs=Math.sqrt(1/3),Pi=Hs*2;const Hi={draw:function(e,t){var a=Math.sqrt(t/Pi),r=a*Hs;e.moveTo(0,-a),e.lineTo(r,0),e.lineTo(0,a),e.lineTo(-r,0),e.closePath()}};var qi=.8908130915292852,qs=Math.sin(Sr/10)/Math.sin(7*Sr/10),Wi=Math.sin(Fr/10)*qs,Gi=-Math.cos(Fr/10)*qs;const Yi={draw:function(e,t){var a=Math.sqrt(t*qi),r=Wi*a,l=Gi*a;e.moveTo(0,-a),e.lineTo(r,l);for(var i=1;i<5;++i){var u=Fr*i/5,o=Math.cos(u),c=Math.sin(u);e.lineTo(c*a,-o*a),e.lineTo(o*r-c*l,c*r+o*l)}e.closePath()}},Xi={draw:function(e,t){var a=Math.sqrt(t),r=-a/2;e.rect(r,r,a,a)}};var un=Math.sqrt(3);const Ki={draw:function(e,t){var a=-Math.sqrt(t/(un*3));e.moveTo(0,a*2),e.lineTo(-un*a,-a),e.lineTo(un*a,-a),e.closePath()}};var rt=-.5,nt=Math.sqrt(3)/2,kn=1/Math.sqrt(12),Zi=(kn/2+1)*3;const Ji={draw:function(e,t){var a=Math.sqrt(t/Zi),r=a/2,l=a*kn,i=r,u=a*kn+a,o=-i,c=u;e.moveTo(r,l),e.lineTo(i,u),e.lineTo(o,c),e.lineTo(rt*r-nt*l,nt*r+rt*l),e.lineTo(rt*i-nt*u,nt*i+rt*u),e.lineTo(rt*o-nt*c,nt*o+rt*c),e.lineTo(rt*r+nt*l,rt*l-nt*r),e.lineTo(rt*i+nt*u,rt*u-nt*i),e.lineTo(rt*o+nt*c,rt*c-nt*o),e.closePath()}};function Qi(){var e=$e(Ps),t=$e(64),a=null;function r(){var l;if(a||(a=l=Mr()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),l)return a=null,l+""||null}return r.type=function(l){return arguments.length?(e=typeof l=="function"?l:$e(l),r):e},r.size=function(l){return arguments.length?(t=typeof l=="function"?l:$e(+l),r):t},r.context=function(l){return arguments.length?(a=l??null,r):a},r}function Gt(){}function Tr(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function Br(e){this._context=e}Br.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Tr(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Tr(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eo(e){return new Br(e)}function Ws(e){this._context=e}Ws.prototype={areaStart:Gt,areaEnd:Gt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Tr(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function to(e){return new Ws(e)}function Gs(e){this._context=e}Gs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:Tr(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ao(e){return new Gs(e)}function Ys(e,t){this._basis=new Br(e),this._beta=t}Ys.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,a=e.length-1;if(a>0)for(var r=e[0],l=t[0],i=e[a]-r,u=t[a]-l,o=-1,c;++o<=a;)c=o/a,this._basis.point(this._beta*e[o]+(1-this._beta)*(r+c*i),this._beta*t[o]+(1-this._beta)*(l+c*u));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const ro=(function e(t){function a(r){return t===1?new Br(r):new Ys(r,t)}return a.beta=function(r){return e(+r)},a})(.85);function Ar(e,t,a){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-a),e._x2,e._y2)}function Nn(e,t){this._context=e,this._k=(1-t)/6}Nn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ar(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Ar(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const no=(function e(t){function a(r){return new Nn(r,t)}return a.tension=function(r){return e(+r)},a})(0);function In(e,t){this._context=e,this._k=(1-t)/6}In.prototype={areaStart:Gt,areaEnd:Gt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ar(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const so=(function e(t){function a(r){return new In(r,t)}return a.tension=function(r){return e(+r)},a})(0);function Un(e,t){this._context=e,this._k=(1-t)/6}Un.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ar(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const lo=(function e(t){function a(r){return new Un(r,t)}return a.tension=function(r){return e(+r)},a})(0);function Pn(e,t,a){var r=e._x1,l=e._y1,i=e._x2,u=e._y2;if(e._l01_a>ps){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,l=(l*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>ps){var T=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,p=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*T+e._x1*e._l23_2a-t*e._l12_2a)/p,u=(u*T+e._y1*e._l23_2a-a*e._l12_2a)/p}e._context.bezierCurveTo(r,l,i,u,e._x2,e._y2)}function Xs(e,t){this._context=e,this._alpha=t}Xs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Pn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const io=(function e(t){function a(r){return t?new Xs(r,t):new Nn(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function Ks(e,t){this._context=e,this._alpha=t}Ks.prototype={areaStart:Gt,areaEnd:Gt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Pn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const oo=(function e(t){function a(r){return t?new Ks(r,t):new In(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function Zs(e,t){this._context=e,this._alpha=t}Zs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Pn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const uo=(function e(t){function a(r){return t?new Zs(r,t):new Un(r,0)}return a.alpha=function(r){return e(+r)},a})(.5);function Js(e){this._context=e}Js.prototype={areaStart:Gt,areaEnd:Gt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function co(e){return new Js(e)}function hs(e){return e<0?-1:1}function gs(e,t,a){var r=e._x1-e._x0,l=t-e._x1,i=(e._y1-e._y0)/(r||l<0&&-0),u=(a-e._y1)/(l||r<0&&-0),o=(i*l+u*r)/(r+l);return(hs(i)+hs(u))*Math.min(Math.abs(i),Math.abs(u),.5*Math.abs(o))||0}function bs(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function cn(e,t,a){var r=e._x0,l=e._y0,i=e._x1,u=e._y1,o=(i-r)/3;e._context.bezierCurveTo(r+o,l+o*t,i-o,u-o*a,i,u)}function Cr(e){this._context=e}Cr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cn(this,this._t0,bs(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cn(this,bs(this,a=gs(this,e,t)),a);break;default:cn(this,this._t0,a=gs(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function Qs(e){this._context=new el(e)}(Qs.prototype=Object.create(Cr.prototype)).point=function(e,t){Cr.prototype.point.call(this,t,e)};function el(e){this._context=e}el.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,r,l,i){this._context.bezierCurveTo(t,e,r,a,i,l)}};function vo(e){return new Cr(e)}function fo(e){return new Qs(e)}function tl(e){this._context=e}tl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var r=ks(e),l=ks(t),i=0,u=1;u<a;++i,++u)this._context.bezierCurveTo(r[0][i],l[0][i],r[1][i],l[1][i],e[u],t[u]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ks(e){var t,a=e.length-1,r,l=new Array(a),i=new Array(a),u=new Array(a);for(l[0]=0,i[0]=2,u[0]=e[0]+2*e[1],t=1;t<a-1;++t)l[t]=1,i[t]=4,u[t]=4*e[t]+2*e[t+1];for(l[a-1]=2,i[a-1]=7,u[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=l[t]/i[t-1],i[t]-=r,u[t]-=r*u[t-1];for(l[a-1]=u[a-1]/i[a-1],t=a-2;t>=0;--t)l[t]=(u[t]-l[t+1])/i[t];for(i[a-1]=(e[a]+l[a-1])/2,t=0;t<a-1;++t)i[t]=2*e[t+1]-l[t+1];return[l,i]}function mo(e){return new tl(e)}function zr(e,t){this._context=e,this._t=t}zr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function po(e){return new zr(e,.5)}function ho(e){return new zr(e,0)}function go(e){return new zr(e,1)}function ys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,r)}return a}function bo(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ys(Object(a),!0).forEach(function(r){ko(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ys(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function qa(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qa=function(t){return typeof t}:qa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(e)}function ko(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Lr(){return Lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Lr.apply(this,arguments)}function yo(e,t){if(e){if(typeof e=="string")return xs(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return xs(e,t)}}function xs(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function al(e,t){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=yo(e))||t){a&&(e=a);var r=0,l=function(){};return{s:l,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,u=!1,o;return{s:function(){a=a.call(e)},n:function(){var c=a.next();return i=c.done,c},e:function(c){u=!0,o=c},f:function(){try{!i&&a.return!=null&&a.return()}finally{if(u)throw o}}}}function xo(e,t){var a=[],r=[];function l(i,u){if(i.length===1)a.push(i[0]),r.push(i[0]);else{for(var o=Array(i.length-1),c=0;c<o.length;c++)c===0&&a.push(i[0]),c===o.length-1&&r.push(i[c+1]),o[c]=[(1-u)*i[c][0]+u*i[c+1][0],(1-u)*i[c][1]+u*i[c+1][1]];l(o,u)}}return e.length&&l(e,t),{left:a,right:r.reverse()}}function _o(e){var t={};return e.length===4&&(t.x2=e[2][0],t.y2=e[2][1]),e.length>=3&&(t.x1=e[1][0],t.y1=e[1][1]),t.x=e[e.length-1][0],t.y=e[e.length-1][1],e.length===4?t.type="C":e.length===3?t.type="Q":t.type="L",t}function wo(e,t){t=t||2;for(var a=[],r=e,l=1/t,i=0;i<t-1;i++){var u=l/(1-l*i),o=xo(r,u);a.push(o.left),r=o.right}return a.push(r),a}function So(e,t,a){var r=[[e.x,e.y]];return t.x1!=null&&r.push([t.x1,t.y1]),t.x2!=null&&r.push([t.x2,t.y2]),r.push([t.x,t.y]),wo(r,a).map(_o)}var To=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,xa={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};Object.keys(xa).forEach(function(e){xa[e.toLowerCase()]=xa[e]});function yn(e,t){for(var a=Array(e),r=0;r<e;r++)a[r]=t;return a}function Ao(e){return"".concat(e.type).concat(xa[e.type].map(function(t){return e[t]}).join(","))}function Co(e,t){var a={x1:"x",y1:"y",x2:"x",y2:"y"},r=["xAxisRotation","largeArcFlag","sweepFlag"];if(e.type!==t.type&&t.type.toUpperCase()!=="M"){var l={};Object.keys(t).forEach(function(i){var u=t[i],o=e[i];o===void 0&&(r.includes(i)?o=u:(o===void 0&&a[i]&&(o=e[a[i]]),o===void 0&&(o=0))),l[i]=o}),l.type=t.type,e=l}return e}function Lo(e,t,a){var r=[];if(t.type==="L"||t.type==="Q"||t.type==="C")r=r.concat(So(e,t,a));else{var l=Lr({},e);l.type==="M"&&(l.type="L"),r=r.concat(yn(a-1).map(function(){return l})),r.push(t)}return r}function _s(e,t,a){var r=e.length-1,l=t.length-1,i=r/l,u=yn(l).reduce(function(c,T,p){var h=Math.floor(i*p);if(a&&h<e.length-1&&a(e[h],e[h+1])){var A=i*p%1<.5;c[h]&&(A?h>0?h-=1:h<e.length-1&&(h+=1):h<e.length-1?h+=1:h>0&&(h-=1))}return c[h]=(c[h]||0)+1,c},[]),o=u.reduce(function(c,T,p){if(p===e.length-1){var h=yn(T,Lr({},e[e.length-1]));return h[0].type==="M"&&h.forEach(function(A){A.type="L"}),c.concat(h)}return c.concat(Lo(e[p],e[p+1],T))},[]);return o.unshift(e[0]),o}function ws(e){for(var t=(e||"").match(To)||[],a=[],r,l,i=0;i<t.length;++i)if(r=xa[t[i]],r){l={type:t[i]};for(var u=0;u<r.length;++u)l[r[u]]=+t[i+u+1];i+=r.length,a.push(l)}return a}function Vo(e,t,a){var r=e==null?[]:e.slice(),l=t==null?[]:t.slice(),i=qa(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},u=i.excludeSegment,o=i.snapEndsToInput;if(!r.length&&!l.length)return function(){return[]};var c=(r.length===0||r[r.length-1].type==="Z")&&(l.length===0||l[l.length-1].type==="Z");r.length>0&&r[r.length-1].type==="Z"&&r.pop(),l.length>0&&l[l.length-1].type==="Z"&&l.pop(),r.length?l.length||l.push(r[0]):r.push(l[0]);var T=Math.abs(l.length-r.length);T!==0&&(l.length>r.length?r=_s(r,l,u):l.length<r.length&&(l=_s(l,r,u))),r=r.map(function(h,A){return Co(h,l[A])});var p=r.map(function(h){return bo({},h)});return c&&(p.push({type:"Z"}),r.push({type:"Z"})),function(A){if(A===1&&o)return t??[];if(A===0)return r;for(var L=0;L<p.length;++L){var $=r[L],R=l[L],j=p[L],C=al(xa[j.type]),I;try{for(C.s();!(I=C.n()).done;){var z=I.value;j[z]=(1-A)*$[z]+A*R[z],(z==="largeArcFlag"||z==="sweepFlag")&&(j[z]=Math.round(j[z]))}}catch(H){C.e(H)}finally{C.f()}}return p}}function rl(e,t,a){var r=ws(e),l=ws(t),i=qa(a)==="object"?a:{excludeSegment:a,snapEndsToInput:!0},u=i.excludeSegment,o=i.snapEndsToInput;if(!r.length&&!l.length)return function(){return""};var c=Vo(r,l,{excludeSegment:u,snapEndsToInput:o});return function(p){if(p===1&&o)return t??"";var h=c(p),A="",L=al(h),$;try{for(L.s();!($=L.n()).done;){var R=$.value;A+=Ao(R)}}catch(j){L.e(j)}finally{L.f()}return A}}var ye;(function(e){e.Basis="basis",e.BasisClosed="basisClosed",e.BasisOpen="basisOpen",e.Bundle="bundle",e.Cardinal="cardinal",e.CardinalClosed="cardinalClosed",e.CardinalOpen="cardinalOpen",e.CatmullRom="catmullRom",e.CatmullRomClosed="catmullRomClosed",e.CatmullRomOpen="catmullRomOpen",e.Linear="linear",e.LinearClosed="linearClosed",e.MonotoneX="monotoneX",e.MonotoneY="monotoneY",e.Natural="natural",e.Step="step",e.StepAfter="stepAfter",e.StepBefore="stepBefore"})(ye||(ye={}));const xn={[ye.Basis]:eo,[ye.BasisClosed]:to,[ye.BasisOpen]:ao,[ye.Bundle]:ro,[ye.Cardinal]:no,[ye.CardinalClosed]:so,[ye.CardinalOpen]:lo,[ye.CatmullRom]:io,[ye.CatmullRomClosed]:oo,[ye.CatmullRomOpen]:uo,[ye.Linear]:Rn,[ye.LinearClosed]:co,[ye.MonotoneX]:vo,[ye.MonotoneY]:fo,[ye.Natural]:mo,[ye.Step]:po,[ye.StepAfter]:go,[ye.StepBefore]:ho},Oo=Object.assign(Object.assign({},Ka),{curveType:ye.MonotoneX,lineWidth:2,lineDashArray:void 0,fallbackValue:void 0,highlightOnHover:!1,cursor:null,interpolateMissingData:!1}),Mo=Sa`
  :root {
    --vis-line-cursor: default;
    --vis-line-stroke-dasharray: none;
    --vis-line-stroke-dashoffset: 0;

    --vis-line-gapfill-stroke-dasharray: 2 3;
    --vis-line-gapfill-stroke-opacity: 0.8;
    --vis-line-gapfill-stroke-dashoffset: 0;
  }
`,Fo=he`
  label: line-component;
`,Pa=he`
  label: line;
  transition: opacity 200ms;
  cursor: var(--vis-line-cursor);
`,_n=he`
  label: linePath;
  fill: none;
  stroke-dasharray: var(--vis-line-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-stroke-dashoffset);
`,wn=he`
  label: lineSelectionHelper;
  fill: none;
  stroke: rgba(0, 0, 0, 0);
  stroke-width: 8px;
`,Sn=he`
  opacity: 0.2;
`,Tn=he`
  label: interpolated-path;
  fill: none;
  stroke-dasharray: var(--vis-line-gapfill-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-gapfill-stroke-dashoffset);
  stroke-opacity: var(--vis-line-gapfill-stroke-opacity);
`,Bo=Object.freeze(Object.defineProperty({__proto__:null,dim:Sn,globalStyles:Mo,interpolatedPath:Tn,line:Pa,linePath:_n,lineSelectionHelper:wn,root:Fo},Symbol.toStringTag,{value:"Module"}));class Dr extends Za{constructor(t){super(),this._defaultConfig=Oo,this.config=this._defaultConfig,this.curve=xn[ye.MonotoneX],this.events={[Dr.selectors.line]:{mouseover:this._highlight.bind(this),mouseleave:this._resetHighlight.bind(this)}},t&&this.setConfig(t)}get bleed(){const{config:{lineWidth:t}}=this,a=this.yScale.domain(),l=(this.yScale.range()[0]>this.yScale.range()[1]?ia.North:ia.South)===ia.South,i=t>3,u=t>=10;return{top:!u&&(!l&&a[1]===0||l&&a[0]===0)?0:t/2,bottom:!u&&(!l&&a[0]===0||l&&a[1]===0)?0:t/2,left:i?t/2:0,right:i?t/2:0}}_render(t){super._render(t);const{config:a,datamodel:{data:r}}=this,l=ya(t)?t:a.duration;this.curve=xn[a.curveType],this.lineGen=Us().x(h=>h.x).y(h=>h.y).defined(h=>h.defined).curve(this.curve);const i=wr(a.y)?a.y:[a.y],u=r.map((h,A)=>this.xScale(Lt(h,a.x,A))),o=i.map(h=>{const A=r.map((C,I)=>{const z=Lt(C,h,I),H=(ya(z)||z===null)&&isFinite(z)?z:a.fallbackValue,Q=a.interpolateMissingData?(ya(z)||z===null)&&isFinite(z):isFinite(H);return{x:u[I],y:this.yScale(H??0),defined:Q,value:H}}),L=A.reduce((C,I)=>I.defined||C,!1);let $=!1;const R=A.reduce((C,I,z)=>{!I.defined&&isFinite(a.fallbackValue)&&C.push(Object.assign(Object.assign({},I),{defined:!0})),!I.defined&&!$&&($=!0);const H=z>0&&!A[z-1].defined||z<A.length-1&&!A[z+1].defined;return I.defined&&H&&($||C.push(Object.assign(Object.assign({},I),{defined:!1})),C.push(I),$=!1),C},[]),j=L&&A.some(C=>C.value!==null);return{values:A,defined:L,gaps:R,visible:j}}),c=this.g.selectAll(`.${Pa}`).data(o),T=c.enter().append("g").attr("class",Pa);T.append("path").attr("class",_n).attr("stroke",(h,A)=>qt(r,a.color,A)).attr("stroke-opacity",0).attr("stroke-width",a.lineWidth),T.append("path").attr("class",wn).attr("d",this._emptyPath()),T.append("path").attr("class",Tn).attr("d",this._emptyPath()).style("opacity",0);const p=T.merge(c);p.style("cursor",(h,A)=>Ga(r,a.cursor,A)),p.each((h,A,L)=>{var $;const R=_a(L[A]),j=R.select(`.${_n}`),C=R.select(`.${wn}`),I=R.select(`.${Tn}`),z=h.visible,H=hi(r,a.lineDashArray,A),Q=Ne(j,l).attr("stroke",qt(r,a.color,A)).attr("stroke-width",a.lineWidth).attr("stroke-opacity",z?1:0).style("stroke-dasharray",($=H?.join(" "))!==null&&$!==void 0?$:null),ne=h.values.some(X=>!X.defined),ge=this.lineGen(h.values);if(l&&!ne){const X=j.attr("d")||this._emptyPath(),q=ge||this._emptyPath();Q.attrTween("d",()=>rl(X,q))}else h.visible&&Q.attr("d",ge);C.attr("d",ge).attr("visibility",z?null:"hidden"),ne&&a.interpolateMissingData?Ne(I,l).attr("d",this.lineGen(h.gaps)).attr("stroke",qt(r,a.color,A)).attr("stroke-width",a.lineWidth-1).style("opacity",1):I.transition().duration(l).style("opacity",0)}),Ne(c.exit(),l).style("opacity",0).remove()}_emptyPath(){const t=this.xScale.range(),a=this.yScale.range();return`M${t[0]},${a[0]} L${t[1]},${a[0]}`}_highlight(t){const{config:a}=this;a.highlightOnHover&&this.g.selectAll(`.${Pa}`).classed(Sn,r=>r!==t)}_resetHighlight(){const{config:t}=this;t.highlightOnHover&&this.g.selectAll(`.${Pa}`).classed(Sn,!1)}}Dr.selectors=Bo;const zo=Object.assign(Object.assign({},Ka),{color:void 0,groupMaxWidth:void 0,groupWidth:void 0,dataStep:void 0,groupPadding:.05,barPadding:0,roundedCorners:2,barMinHeight:2,cursor:null,orientation:Es.Vertical}),nl=he`
  label: grouped-bar-component;
`,Do=Sa`
  :root {
    --vis-grouped-bar-cursor: default;
    --vis-grouped-bar-fill-color: var(--vis-color-main);
    --vis-grouped-bar-stroke-color: none;
    --vis-grouped-bar-stroke-width: 0px;
    --vis-grouped-bar-hover-stroke-width: 1px;
    --vis-grouped-bar-hover-stroke-color: none;


    /* Dark Theme */
    --vis-dark-grouped-bar-stroke-color: none;
  }

  body.theme-dark ${`.${nl}`} {
    --vis-grouped-bar-stroke-color: var(--vis-dark-grouped-bar-stroke-color);
  }
`,yr=he`
  label: bar;
  fill: var(--vis-grouped-bar-fill-color);
  stroke: var(--vis-grouped-bar-stroke-color);
  stroke-width: var(--vis-grouped-bar-stroke-width);
  cursor: var(--vis-grouped-bar-cursor);

  &:hover {
    stroke-width: var(--vis-grouped-bar-hover-stroke-width);
    stroke: var(--vis-grouped-bar-hover-stroke-color);
  }
`,An=he`
  label: barGroup;
`,sl=he`
  label: barGroupExit;
`,$o=Object.freeze(Object.defineProperty({__proto__:null,bar:yr,barGroup:An,barGroupExit:sl,globalStyles:Do,root:nl},Symbol.toStringTag,{value:"Module"}));class ll extends Za{constructor(t){super(),this._defaultConfig=zo,this.config=this._defaultConfig,this.getAccessors=()=>wr(this.config.y)?this.config.y:[this.config.y],this.events={},this._barData=[],t&&this.setConfig(t)}get bleed(){if(this._barData=this._getVisibleData(),this._barData.length===0)return{top:0,bottom:0,left:0,right:0};const t=!this.isVertical()&&this.dataScale.range()[0]>this.dataScale.range()[1],a=this.dataScale.domain(),r=this._getGroupWidth()/2,l=this._barData.map((L,$)=>Lt(L,this.config.x,$)),i=on(l),u=gi(l),o=this.dataScale(i),c=this.dataScale(u),T=this.dataScale.invert(o+(t?r:-r)),p=this.dataScale.invert(c+(t?-r:r)),h=T<=a[0]?this.dataScale(a[0])-this.dataScale(T):0,A=p>a[1]?this.dataScale(p)-this.dataScale(a[1]):0;return{top:this.isVertical()?0:t?-A:h,bottom:this.isVertical()?0:t?-h:A,left:this.isVertical()?h:0,right:this.isVertical()?A:0}}get dataScale(){return this.isVertical()?this.xScale:this.yScale}get valueScale(){return this.isVertical()?this.yScale:this.xScale}isVertical(){return this.config.orientation===Es.Vertical}_render(t){const{config:a}=this,r=ya(t)?t:a.duration,l=this._getGroupWidth(),i=this.getAccessors(),u=[-l/2,l/2],o=bi().domain(ki(i.length)).range(u).paddingInner(a.barPadding).paddingOuter(a.barPadding),c=this.g.selectAll(`.${An}`).data(this._barData,(I,z)=>{var H;return`${(H=Ga(I,a.id,z))!==null&&H!==void 0?H:z}`}),T=(I,z)=>{const H=this.dataScale(Lt(I,a.x,z)),Q=this.isVertical()?H:0,ne=this.isVertical()?0:H;return`translate(${Q},${ne})`},h=c.enter().append("g").attr("class",An).attr("transform",T).style("opacity",1).merge(c);Ne(h,r).attr("transform",T).style("opacity",1);const A=c.exit().attr("class",sl);Ne(A,r).style("opacity",0).remove(),Ne(A.selectAll(`.${yr}`),r).attr("transform",(I,z,H)=>this.isVertical()?`translate(0,${this.yScale(0)}) scale(1,0)`:`translate(${this.xScale(0)},0) scale(0,1)`);const L=o.bandwidth(),$=h.selectAll(`.${yr}`).data(I=>i.map(()=>I)),R=this._getValueAxisDirection(),C=$.enter().append("path").attr("class",yr).attr("d",(I,z)=>{const H=o(z),Q=this.valueScale(0),ne=L;return this._getBarPath(H,Q,ne,0,!1,R)}).style("fill",(I,z)=>qt(I,a.color,z)).merge($);Ne(C,r).attr("d",(I,z)=>{const H=o(z),Q=L,ne=Lt(I,i[z]),ge=ne<0;let X=ge?this.valueScale(0):this.valueScale(ne||0),q=Math.abs(this.valueScale(0)-this.valueScale(ne))||0;if(q<a.barMinHeight){const ve=R===ia.North?-1:1;X=this.valueScale(0)+ve*a.barMinHeight,q=a.barMinHeight}return this._getBarPath(H,X,Q,q,ge,R)}).style("fill",(I,z)=>qt(I,a.color,z)).style("cursor",(I,z)=>Ga(I,a.cursor,z)),Ne($.exit(),r).remove()}_getValueAxisDirection(){return this.valueScale.range()[0]>this.valueScale.range()[1]?ia.North:ia.South}_getVisibleData(){const{config:t,datamodel:{data:a}}=this,r=this._getGroupWidth(),l=a.length<2?0:r/2,i=this.dataScale,u=Math.abs(i.invert(l)-i.invert(0));return a?.filter((c,T)=>{const p=Lt(c,t.x,T),h=i.domain(),A=+h[0],L=+h[1];return p>=A-u&&p<=L+u})}_getBarPath(t,a,r,l,i,u){const{config:o}=this,c=o.roundedCorners?ya(o.roundedCorners)?+o.roundedCorners:r/2:0,T=Ti(c,0,Math.min(l,r)/2),p=u===ia.North,h=this.isVertical()&&i!==p,A=this.isVertical()&&i===p,L=!this.isVertical()&&i,$=!this.isVertical()&&!i;return yi({x:this.isVertical()?t:a+(p?0:-l),y:this.isVertical()?a+(p?0:-l):t,w:this.isVertical()?r:l,h:this.isVertical()?l:r,tl:h||L,tr:h||$,bl:A||L,br:A||$,r:T})}_getGroupWidth(){const{config:t,datamodel:{data:a}}=this;if(xi(a))return 0;if(t.groupWidth)return on([t.groupWidth,t.groupMaxWidth]);const r=this.dataScale.bandwidth,l=this.dataScale.domain?this.dataScale.domain():[];let u=1+(r?l.length:l[1]-l[0])/t.dataStep||!r&&a.filter((T,p)=>{const h=Lt(T,t.x,p);return h>=l[0]&&h<=l[1]}).length||a.length;!r&&u>=2&&(u+=1);const c=(u<2?1:1-t.groupPadding)*(this.isVertical()?this._width:this._height)/u;return on([c,t.groupMaxWidth])}getValueScaleExtent(t){const{datamodel:a}=this,r=this.getAccessors(),l=t?this._getVisibleData():a.data,i=_i(l,...r),u=wi(l,...r);return[i>0?0:i,u<0?0:u]}getDataScaleExtent(){const{config:t,datamodel:a}=this;return Si(a.data,t.x)}getYDataExtent(t){return this.isVertical()?this.getValueScaleExtent(t):this.getDataScaleExtent()}getXDataExtent(){return this.isVertical()?this.getDataScaleExtent():this.getValueScaleExtent(!1)}}ll.selectors=$o;var xt;(function(e){e.Circle="circle",e.Cross="cross",e.Diamond="diamond",e.Square="square",e.Star="star",e.Triangle="triangle",e.Wye="wye"})(xt||(xt={}));const jo={[xt.Circle]:Ps,[xt.Cross]:Ui,[xt.Diamond]:Hi,[xt.Square]:Xi,[xt.Star]:Yi,[xt.Triangle]:Ki,[xt.Wye]:Ji},Je=Object.assign(Object.assign({},xt),{Line:"line"});var Vr;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(Vr||(Vr={}));const Eo={items:[],labelClassName:"",onLegendItemClick:void 0,labelFontSize:null,labelMaxWidth:null,bulletSize:null,bulletSpacing:4,bulletShape:e=>{var t;return(t=e.shape)!==null&&t!==void 0?t:Je.Circle},orientation:Vr.Horizontal,renderIntoProvidedDomNode:!1},gr=Ci*3,Ro={[Je.Circle]:Math.PI/4,[Je.Cross]:5/9,[Je.Diamond]:Math.sqrt(3)/6,[Je.Square]:1,[Je.Star]:.3,[Je.Triangle]:Math.sqrt(3)/4,[Je.Wye]:5/11};function il(e,t,a){return t<1?0:e*t+a*(t-1)}function No(e){e.each((t,a,r)=>{_a(r[a]).append("svg").attr("width","100%").attr("height","100%").append("path")})}function Io(e,t,a){e.each((r,l,i)=>{var u;const o=Ga(r,t.bulletShape,l),c=Ai((u=r.color)!==null&&u!==void 0?u:qt(r,a,l)),T=c.length,p=gr,h=pn(getComputedStyle(i[l]).getPropertyValue("--vis-legend-bullet-size")),A=t.bulletSpacing*(gr/h),L=il(p,T,A),$=o===Je.Line?gr/2.5:gr,R=_a(i[l]).select("svg").attr("viewBox",`0 0 ${L} ${$}`);R.selectAll("path").remove();const j=r.inactive?"var(--vis-legend-bullet-inactive-opacity)":1;c.forEach((C,I)=>{const z=R.append("path");if(o===Je.Line){const H=I*(p+A),Q=H+p;z.attr("d",`M${H},${$/2} L${Q},${$/2}`).attr("transform",null).style("opacity",j).style("stroke",C).style("stroke-width","3px").style("fill",null).style("fill-opacity",null).style("marker-start","none").style("marker-end","none")}else{const H=Qi().type(jo[o]).size(p*$*Ro[o]),Q=(p-2)/p;let ne=$/2;switch(o){case Je.Triangle:ne+=$/8;break;case Je.Star:ne+=$/16;break;case Je.Wye:ne-=$/16;break}const ge=I*(p+A)+p/2;z.attr("d",H).attr("transform",`translate(${ge}, ${Math.round(ne)}) scale(${Q})`).style("stroke",C).style("stroke-width","1px").style("opacity",null).style("fill",C).style("fill-opacity",j)}})})}const Hn=he`
  label: bullet-legend-component;
`,Uo=Sa`
  :root {
    // Undefined by default to allow proper fallback to var(--vis-font-family)
    /* --vis-legend-font-family: */

    --vis-legend-label-color: #6c778c;
    --vis-legend-label-max-width: 300px;
    --vis-legend-label-font-size: 12px;
    --vis-legend-bullet-size: 9px;
    --vis-legend-bullet-inactive-opacity: 0.15;
    --vis-legend-item-spacing: 20px;
    --vis-legend-vertical-item-spacing: 5px;
    --vis-legend-bullet-label-spacing: 8px;

    --vis-dark-legend-label-color: #eee;
  }

  body.theme-dark ${`.${Hn}`} {
    --vis-legend-label-color: var(--vis-dark-legend-label-color);
  }

  body.theme-patterns {
    --vis-legend-bullet-size: 14px;
  }
`,xr=he`
  label: legendItem;
  display: inline-flex;
  align-items: center;
  font-family: var(--vis-legend-font-family, var(--vis-font-family));
  margin-right: var(--vis-legend-item-spacing);
  white-space: nowrap;
  cursor: default;
  user-select: none;
  max-width: min-content;
`,ol=he`
  label: legendItemVertical;
  display: flex;
  margin-top: var(--vis-legend-vertical-item-spacing);
`,ul=he`
  cursor: pointer;
`,Cn=he`
  label: legendItemLabel;
  font-size: var(--vis-legend-label-font-size);
  display: inline-block;
  vertical-align: middle;
  color: var(--vis-legend-label-color);
  max-width: var(--vis-legend-label-max-width);
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
`,Ln=he`
  flex: 0 0 auto;
  label: legendItemBullet;
  margin-right: var(--vis-legend-bullet-label-spacing);
  height: var(--vis-legend-bullet-size);
  width: var(--vis-legend-bullet-size);

  svg {
    display: block;
  }
`,Po=Object.freeze(Object.defineProperty({__proto__:null,bullet:Ln,clickable:ul,item:xr,itemVertical:ol,label:Cn,root:Hn,variables:Uo},Symbol.toStringTag,{value:"Module"}));class cl{constructor(t,a){this._defaultConfig=Eo,this.config=this._defaultConfig,this._colorAccessor=r=>r.color,this._container=t,this.div=a?.renderIntoProvidedDomNode?_a(this._container):_a(this._container).append("div"),this.div.classed(Hn,!0),this.element=this.div.node(),a&&this.update(a)}update(t){this.prevConfig=this.config,this.config=Li(this._defaultConfig,t),this.render()}render(){const{config:t}=this,a=this.div.selectAll(`.${xr}`).data(t.items),r=a.enter().append("div").on("click",this._onItemClick.bind(this)),l=r.merge(a);l.attr("class",i=>{var u;return`${xr} ${(u=i.className)!==null&&u!==void 0?u:""}`}).classed(ol,t.orientation===Vr.Vertical).classed(ul,i=>!!t.onLegendItemClick&&this._isItemClickable(i)).attr("title",i=>i.name).style("display",i=>i.hidden?"none":null),r.append("span").attr("class",Ln).call(No),l.select(`.${Ln}`).style("width",function(i){const o=(Array.isArray(i.color)?i.color:[i.color]).length,c=pn(getComputedStyle(this).getPropertyValue("--vis-legend-bullet-size"))||9,T=t.bulletSize?pn(t.bulletSize):c,p=t.bulletSpacing;return`${il(T,o,p)}px`}).style("height",t.bulletSize).style("box-sizing","content-box").call(Io,this.config,this._colorAccessor),r.append("span").attr("class",Cn).classed(t.labelClassName,!0).style("max-width",t.labelMaxWidth).style("font-size",t.labelFontSize),l.select(`.${Cn}`).text(i=>i.name),a.exit().remove()}_isItemClickable(t){return t.pointer===void 0?!0:t.pointer}_onItemClick(t,a){const{config:{onLegendItemClick:r}}=this,i=this.div.selectAll(`.${xr}`).nodes().indexOf(t.currentTarget);r&&r(a,i)}destroy(){this.element!==this._container&&this.div.remove()}}cl.selectors=Po;var Vn;(function(e){e.Solid="solid",e.Dash="dash",e.DashDot="dashDot",e.Dot="dot",e.LongDash="longDash",e.LongDashDot="longDashDot",e.LongDashDotDot="longDashDotDot",e.ShortDash="shortDash",e.ShortDashDot="shortDashDot",e.ShortDashDotDot="shortDashDotDot",e.ShortDot="shortDot"})(Vn||(Vn={}));var te;(function(e){e.TopLeft="top-left",e.Top="top",e.TopRight="top-right",e.Right="right",e.BottomRight="bottom-right",e.Bottom="bottom",e.BottomLeft="bottom-left",e.Left="left"})(te||(te={}));var Or;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(Or||(Or={}));var E;(function(e){e.TopLeftInside="top-left-inside",e.TopLeftOutside="top-left-outside",e.TopInside="top-inside",e.TopOutside="top-outside",e.TopRightInside="top-right-inside",e.TopRightOutside="top-right-outside",e.RightInside="right-inside",e.RightOutside="right-outside",e.BottomRightInside="bottom-right-inside",e.BottomRightOutside="bottom-right-outside",e.BottomInside="bottom-inside",e.BottomOutside="bottom-outside",e.BottomLeftInside="bottom-left-inside",e.BottomLeftOutside="bottom-left-outside",e.LeftInside="left-inside",e.LeftOutside="left-outside"})(E||(E={}));var On;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(On||(On={}));const Ho=Object.assign(Object.assign({},Ka),{color:void 0,curveType:ye.MonotoneX,baseline:()=>0,opacity:1,cursor:null,minHeight1Px:!1,minHeight:void 0}),dl=he`
  label: area-component;
`,qo=Sa`
  :root {
    --vis-area-cursor: default;
    --vis-area-fill-opacity: 1;
    --vis-area-stroke-color: none;
    --vis-area-stroke-width: 0px;
    --vis-area-stroke-dasharray: none;
    --vis-area-stroke-opacity: 1;
    --vis-area-hover-fill-opacity: none;
    --vis-area-hover-stroke-width: none;

    /* Dark Theme */
    --vis-dark-area-stroke-color: none;
  }

  body.theme-dark ${`.${dl}`} {
    --vis-area-stroke-color: var(--vis-dark-area-stroke-color);
  }

`,Mn=he`
  label: area;
  cursor: var(--vis-area-cursor);
  fill-opacity: var(--vis-area-fill-opacity);
  stroke-width: var(--vis-area-stroke-width);
  stroke-dasharray: var(--vis-area-stroke-dasharray);
  stroke: var(--vis-area-stroke-color);
  stroke-opacity: var(--vis-area-stroke-opacity);

  &:hover {
    fill-opacity: var(--vis-area-hover-fill-opacity);
    stroke-width: var(--vis-area-hover-stroke-width);
  }
`,Wo=Object.freeze(Object.defineProperty({__proto__:null,area:Mn,globalStyles:qo,root:dl},Symbol.toStringTag,{value:"Module"}));class $r extends Za{constructor(t){super(),this._defaultConfig=Ho,this.config=this._defaultConfig,this.stacked=!0,this.events={[$r.selectors.area]:{}},t&&this.setConfig(t),this.stacked=Array.isArray(this.config.y)}_render(t){super._render(t);const{config:a,datamodel:{data:r}}=this,l=ya(t)?t:a.duration,i=xn[a.curveType];this._areaGen=Ii().x(j=>j.x).y0(j=>j.y0).y1(j=>j.y1).curve(i);const u=wr(a.y)?a.y:[a.y],o=r.map((j,C)=>this.xScale(Lt(j,a.x,C))),c=Vi(r,a.baseline,u,this._prevNegative);this._prevNegative=c.map(j=>!!j.isMostlyNegative);const T=[],p=c.map(j=>j.map((C,I)=>{var z,H;const Q=o[I],ne=this.yScale(C[0]),ge=this.yScale(C[1]),X=ge>ne,q=T[I]||0,ve=X?ne+q:ne-q,oe=X?ge+q:ge-q;let de=0;return(a.minHeight||a.minHeight1Px)&&Math.abs(oe-ve)<((z=a.minHeight)!==null&&z!==void 0?z:1)&&(de=((H=a.minHeight)!==null&&H!==void 0?H:1)-Math.abs(oe-ve),T[I]=q+de),{x:Q,y0:ve,y1:X?oe+de:oe-de}})),h=p.length-1,A=p.reverse(),L=this.g.selectAll(`.${Mn}`).data(A),$=L.enter().append("path").attr("class",Mn).attr("d",j=>this._areaGen(j)||this._emptyPath()).style("opacity",0).style("fill",(j,C)=>qt(r,a.color,h-C)),R=Ne($.merge(L),l).style("opacity",(j,C)=>j.some(z=>z.y0-z.y1!==0)?Lt(r,a.opacity,h-C):0).style("fill",(j,C)=>qt(r,a.color,h-C)).style("cursor",(j,C)=>Ga(r,a.cursor,h-C));l?R.attrTween("d",(C,I,z)=>{const H=_a(z[I]).attr("d"),Q=this._areaGen(C)||this._emptyPath();return rl(H,Q)}):R.attr("d",j=>this._areaGen(j)||this._emptyPath()),Ne(L.exit(),l).style("opacity",0).remove()}getYDataExtent(t){const{config:a,datamodel:r}=this,l=wr(a.y)?a.y:[a.y],i=this.xScale.domain(),u=t?Oi(r.data,i,a.x,!0):r.data;return Mi(u,a.baseline,...l)}_emptyPath(){const t=this.xScale.range(),a=this.yScale.domain(),r=this.yScale((a[0]+a[1])/2),l=r;return this._areaGen([{y0:r,y1:l,x:t[0]},{y0:r,y1:l,x:t[1]}])}}$r.selectors=Wo;const Go={[E.TopLeftOutside]:({startX:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[E.TopLeftInside]:({startX:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[E.TopOutside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[E.TopInside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[E.TopRightOutside]:({startX:e,width:t,offsetX:a,offsetY:r})=>({x:e+t+a,y:r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[E.TopRightInside]:({startX:e,width:t,offsetX:a,offsetY:r})=>({x:e+t-a,y:r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[E.RightOutside]:({startX:e,width:t,height:a,offsetX:r})=>({x:e+t+r,y:a/2,textAnchor:"start",dominantBaseline:"middle"}),[E.RightInside]:({startX:e,width:t,height:a,offsetX:r})=>({x:e+t-r,y:a/2,textAnchor:"end",dominantBaseline:"middle"}),[E.BottomRightOutside]:({startX:e,width:t,height:a,offsetX:r,offsetY:l})=>({x:e+t+r,y:a-l,textAnchor:"start",dominantBaseline:"text-after-edge"}),[E.BottomRightInside]:({startX:e,width:t,height:a,offsetX:r,offsetY:l})=>({x:e+t-r,y:a-l,textAnchor:"end",dominantBaseline:"text-after-edge"}),[E.BottomOutside]:({startX:e,width:t,height:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[E.BottomInside]:({startX:e,width:t,height:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[E.BottomLeftOutside]:({startX:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[E.BottomLeftInside]:({startX:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[E.LeftOutside]:({startX:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"end",dominantBaseline:"middle"}),[E.LeftInside]:({startX:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"start",dominantBaseline:"middle"})},Yo={[E.TopLeftOutside]:({startX:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-after-edge"}),[E.TopLeftInside]:({startX:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[E.TopOutside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"end",dominantBaseline:"middle"}),[E.TopInside]:({startX:e,width:t,offsetY:a})=>({x:e+t/2,y:a,textAnchor:"end",dominantBaseline:"middle"}),[E.TopRightOutside]:({startX:e,width:t,offsetX:a,offsetY:r})=>({x:e+t+a,y:r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[E.TopRightInside]:({startX:e,width:t,offsetX:a,offsetY:r})=>({x:e+t-a,y:r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[E.RightOutside]:({startX:e,width:t,height:a,offsetX:r})=>({x:e+t+r,y:a/2,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[E.RightInside]:({startX:e,width:t,height:a,offsetX:r})=>({x:e+t-r,y:a/2,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[E.BottomRightOutside]:({startX:e,width:t,height:a,offsetX:r,offsetY:l})=>({x:e+t+r,y:a-l,textAnchor:"start",dominantBaseline:"text-before-edge"}),[E.BottomRightInside]:({startX:e,width:t,height:a,offsetX:r,offsetY:l})=>({x:e+t-r,y:a-l,textAnchor:"start",dominantBaseline:"text-after-edge"}),[E.BottomOutside]:({startX:e,width:t,height:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"start",dominantBaseline:"middle"}),[E.BottomInside]:({startX:e,width:t,height:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"start",dominantBaseline:"middle"}),[E.BottomLeftOutside]:({startX:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[E.BottomLeftInside]:({startX:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[E.LeftOutside]:({startX:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[E.LeftInside]:({startX:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"middle",dominantBaseline:"text-before-edge"})},Xo={[E.TopLeftOutside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e-a,textAnchor:"start",dominantBaseline:"text-after-edge"}),[E.TopLeftInside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e+a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[E.TopOutside]:({startX:e,width:t,startY:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[E.TopInside]:({startX:e,width:t,startY:a,offsetY:r})=>({x:e+t/2,y:a+r,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[E.TopRightOutside]:({startY:e,width:t,offsetX:a,offsetY:r})=>({x:t-a,y:e-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[E.TopRightInside]:({startY:e,width:t,offsetX:a,offsetY:r})=>({x:t-a,y:e+r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[E.RightOutside]:({startY:e,height:t,width:a,offsetX:r})=>({x:a-r,y:e+t/2,textAnchor:"end",dominantBaseline:"middle"}),[E.RightInside]:({startY:e,height:t,width:a,offsetX:r})=>({x:a-r,y:e+t/2,textAnchor:"end",dominantBaseline:"middle"}),[E.BottomRightOutside]:({startY:e,height:t,width:a,offsetX:r,offsetY:l})=>({x:a-r,y:e+t+l,textAnchor:"end",dominantBaseline:"text-before-edge"}),[E.BottomRightInside]:({startY:e,height:t,width:a,offsetX:r,offsetY:l})=>({x:a-r,y:e+t-l,textAnchor:"end",dominantBaseline:"text-after-edge"}),[E.BottomOutside]:({startX:e,width:t,startY:a,height:r,offsetY:l})=>({x:e+t/2,y:a+r+l,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[E.BottomInside]:({startX:e,width:t,startY:a,height:r,offsetY:l})=>({x:e+t/2,y:a+r-l,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[E.BottomLeftOutside]:({startY:e,height:t,offsetX:a,offsetY:r})=>({x:a,y:e+t+r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[E.BottomLeftInside]:({startY:e,height:t,offsetX:a,offsetY:r})=>({x:a,y:e+t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[E.LeftOutside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"start",dominantBaseline:"middle"}),[E.LeftInside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"start",dominantBaseline:"middle"})},Ko={[E.TopLeftOutside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e-a,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[E.TopLeftInside]:({startY:e,offsetX:t,offsetY:a})=>({x:t,y:e+a,textAnchor:"end",dominantBaseline:"text-before-edge",rotation:-90}),[E.TopOutside]:({startX:e,width:t,startY:a,offsetY:r})=>({x:e+t/2,y:a-r,textAnchor:"end",dominantBaseline:"middle",rotation:-90}),[E.TopInside]:({startX:e,width:t,startY:a,offsetY:r})=>({x:e+t/2,y:a+r,textAnchor:"end",dominantBaseline:"middle",rotation:-90}),[E.TopRightOutside]:({startY:e,width:t,offsetX:a,offsetY:r})=>({x:t-a,y:e-r,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[E.TopRightInside]:({startY:e,width:t,offsetX:a,offsetY:r})=>({x:t-a,y:e+r,textAnchor:"end",dominantBaseline:"text-after-edge",rotation:-90}),[E.RightOutside]:({startY:e,height:t,width:a,offsetX:r})=>({x:a-r,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-after-edge",rotation:-90}),[E.RightInside]:({startY:e,height:t,width:a,offsetX:r})=>({x:a-r,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-after-edge",rotation:-90}),[E.BottomRightOutside]:({startY:e,height:t,width:a,offsetX:r,offsetY:l})=>({x:a-r,y:e+t+l,textAnchor:"start",dominantBaseline:"text-before-edge",rotation:-90}),[E.BottomRightInside]:({startY:e,height:t,width:a,offsetX:r,offsetY:l})=>({x:a-r,y:e+t-l,textAnchor:"start",dominantBaseline:"text-after-edge",rotation:-90}),[E.BottomOutside]:({startX:e,width:t,startY:a,height:r,offsetY:l})=>({x:e+t/2,y:a+r+l,textAnchor:"start",dominantBaseline:"middle",rotation:-90}),[E.BottomInside]:({startX:e,width:t,startY:a,height:r,offsetY:l})=>({x:e+t/2,y:a+r-l,textAnchor:"start",dominantBaseline:"middle",rotation:-90}),[E.BottomLeftOutside]:({startY:e,height:t,offsetX:a,offsetY:r})=>({x:a,y:e+t+r,textAnchor:"end",dominantBaseline:"text-before-edge",rotation:-90}),[E.BottomLeftInside]:({startY:e,height:t,offsetX:a,offsetY:r})=>({x:a,y:e+t-r,textAnchor:"start",dominantBaseline:"text-before-edge",rotation:-90}),[E.LeftOutside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-before-edge",rotation:-90}),[E.LeftInside]:({startY:e,height:t,offsetX:a})=>({x:a,y:e+t/2,textAnchor:"middle",dominantBaseline:"text-before-edge",rotation:-90})},Zo=Object.assign(Object.assign({},Ka),{axis:Ya.Y,from:0,to:0,color:void 0,duration:300,labelPosition:E.TopLeftOutside,labelOffsetX:14,labelOffsetY:14,labelOrientation:On.Horizontal}),Jo=Sa`
  :root {
    --vis-plotband-color: rgba(255, 255, 90, 0.2);
    --vis-plotband-label-font-size: 12px;
    --vis-plotband-label-color: #000;

    --vis-dark-plotband-color: rgba(220, 220, 90, 0.2);
    --vis-dark-plotband-label-color: #e5e9f7;
  }

  body.theme-dark {
    --vis-plotband-color: var(--vis-dark-plotband-color);
    --vis-plotband-label-color: var(--vis-dark-tooltip-text-color);
  }
`,Qo=he`
  label: plotband-component;
`,vl=he`
  label: plotband-area;
  transition: opacity 200ms;
  cursor: var(--vis-line-cursor);
  fill: var(--vis-plotband-color);
`,fl=he`
  label: plotline-label;

  user-select: none;
  text-anchor: middle;
  pointer-events: none;
  font-size: var(--vis-plotband-label-font-size);
  fill: var(--vis-plotband-label-color);
`,eu=Object.freeze(Object.defineProperty({__proto__:null,globalStyles:Jo,label:fl,plotband:vl,root:Qo},Symbol.toStringTag,{value:"Module"}));class ml extends Za{constructor(t){super(),this._defaultConfig=Zo,t&&this.setConfig(t),this.plotband=this.g.append("rect").attr("class",vl),this.label=this.g.append("text").attr("class",fl)}_render(t){super._render(t);const{config:a}=this;if(this.from=a.from,this.to=a.to,this.plotband.style("fill",a.color),this.from==null||this.to==null)return;let r=0,l=0,i=0,u=0;if(a.axis==="y"){const o=this.yScale(this.from),c=this.yScale(this.to);l=Math.min(o,c),u=Math.abs(o-c),r=0,i=this._width}else{const o=this.xScale(this.from),c=this.xScale(this.to);r=Math.min(o,c),i=Math.abs(o-c),l=0,u=this._height}if(Ne(this.plotband,a.duration).attr("x",r).attr("y",l).attr("width",i).attr("height",u),a.labelText){const o=this.computeLabel(a.axis,r,l,i,u,a.labelPosition,a.labelOffsetX,a.labelOffsetY,a.labelOrientation);this.label.attr("dominant-baseline",o.dominantBaseline).attr("transform",o.transform).style("text-anchor",o.textAnchor).style("fill",a.labelColor).style("font-size",a.labelSize?`${a.labelSize}px`:void 0),Ne(this.label,a.duration).text(a.labelText).attr("x",o.x).attr("y",o.y)}Ne(this.plotband.exit()).style("opacity",0).remove()}computeLabel(t,a,r,l,i,u,o,c,T){const p=T==="vertical",h=p?-90:0,A={startX:a,startY:r,width:l,height:i,offsetX:o,offsetY:c};let L;t===Ya.X?L=(p?Yo:Go)[u](A):L=(p?Ko:Xo)[u](A);const{x:$,y:R,textAnchor:j,dominantBaseline:C}=L,I=h!==0?`rotate(${h}, ${$}, ${R})`:"";return{x:$,y:R,rotation:h,textAnchor:j,transform:I,dominantBaseline:C}}}ml.selectors=eu;const tu={solid:"none",shortDash:"6,2",shortDot:"2,2",shortDashDot:"6,2,2,2",shortDashDotDot:"6,2,2,2,2,2",dot:"2,6",dash:"8,6",longDash:"16,6",dashDot:"8,6,2,6",longDashDot:"16,6,2,6",longDashDotDot:"16,6,2,6,2,6"},au={[te.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[te.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[te.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[te.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"start",dominantBaseline:"middle"}),[te.BottomRight]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[te.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[te.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[te.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"end",dominantBaseline:"middle"})},ru={[te.TopLeft]:({width:e,offsetX:t,offsetY:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"text-after-edge"}),[te.Top]:({width:e,offsetY:t})=>({x:e,y:t,textAnchor:"end",dominantBaseline:"middle"}),[te.TopRight]:({width:e,offsetX:t,offsetY:a})=>({x:e+t,y:a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[te.Right]:({width:e,height:t,offsetX:a})=>({x:e+a,y:t/2,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[te.BottomRight]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e+a,y:t-r,textAnchor:"start",dominantBaseline:"text-before-edge"}),[te.Bottom]:({width:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"middle"}),[te.BottomLeft]:({width:e,height:t,offsetX:a,offsetY:r})=>({x:e-a,y:t-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[te.Left]:({width:e,height:t,offsetX:a})=>({x:e-a,y:t/2,textAnchor:"middle",dominantBaseline:"text-after-edge"})},nu={[te.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-after-edge"}),[te.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[te.TopRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a-r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[te.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"end",dominantBaseline:"middle"}),[te.BottomRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a+r,textAnchor:"end",dominantBaseline:"text-before-edge"}),[te.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[te.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[te.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"start",dominantBaseline:"middle"})},su={[te.TopLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t-a,textAnchor:"start",dominantBaseline:"text-before-edge"}),[te.Top]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t-a,textAnchor:"start",dominantBaseline:"central"}),[te.TopRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a-r,textAnchor:"start",dominantBaseline:"text-after-edge"}),[te.Right]:({width:e,offsetX:t,height:a})=>({x:e-t,y:a,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[te.BottomRight]:({width:e,offsetX:t,height:a,offsetY:r})=>({x:e-t,y:a+r,textAnchor:"end",dominantBaseline:"text-after-edge"}),[te.Bottom]:({width:e,height:t,offsetY:a})=>({x:e/2,y:t+a,textAnchor:"end",dominantBaseline:"central"}),[te.BottomLeft]:({offsetX:e,height:t,offsetY:a})=>({x:e,y:t+a,textAnchor:"end",dominantBaseline:"text-before-edge"}),[te.Left]:({offsetX:e,height:t})=>({x:e,y:t,textAnchor:"middle",dominantBaseline:"text-before-edge"})},lu=Object.assign(Object.assign({},Ka),{lineWidth:2,axis:Ya.Y,value:0,duration:300,color:void 0,lineStyle:Vn.Solid,labelPosition:te.TopRight,labelOffsetX:14,labelOffsetY:14,labelOrientation:Or.Horizontal}),iu=Sa`
  :root {
    --vis-plotline-color: rgb(226, 32, 58);
    --vis-plotline-width: 2;
    --vis-plotline-dasharray: none;
    --vis-plotline-stroke-dashoffset: 0;
    --vis-plotline-label-font-size: 12px;
    --vis-plotline-label-color: #000;

    --vis-dark-plotline-label-color: #e5e9f7;
  }

  body.theme-dark {
    --vis-plotline-label-color: var(--vis-dark-tooltip-text-color);
  }
`,ou=he`
  label: plotline-component;
`,pl=he`
  label: plotline;
  transition: opacity 200ms;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke: var(--vis-plotline-color);
  stroke-width: var(--vis-plotline-width);
  stroke-dasharray: var(--vis-plotline-dasharray);
  stroke-dashoffset: var(--vis-plotline-stroke-dashoffset);
`,hl=he`
  label: plotline-label;
  text-anchor: middle;
  /* dominant-baseline: middle; */
  pointer-events: none;
  font-size: var(--vis-plotline-label-font-size);
  fill: var(--vis-plotline-label-color);
`,uu=Object.freeze(Object.defineProperty({__proto__:null,globalStyles:iu,label:hl,plotline:pl,root:ou},Symbol.toStringTag,{value:"Module"}));class gl extends Za{constructor(t){super(),this._defaultConfig=lu,t&&this.setConfig(t),this.plotline=this.g.append("line").attr("class",pl),this.label=this.g.append("text").attr("class",hl)}_render(t){super._render(t);const{config:a}=this;this.value=a.value;let r;typeof a?.lineStyle=="string"?r=tu[a.lineStyle]:Array.isArray(a.lineStyle)?r=a.lineStyle.join(","):r="none",this.value=a.value,this.plotline.attr("stroke-opacity",1).style("stroke-width",a.lineWidth).style("stroke-dasharray",r).style("stroke",a.color);let l=0,i=0,u=0,o=0;if(a.axis===Ya.Y?(u=this.yScale(this.value),o=this.yScale(this.value),l=0,i=this._width):(u=0,o=this._height,l=this.xScale(this.value),i=this.xScale(this.value)),Ne(this.plotline,a.duration).attr("x1",l).attr("x2",i).attr("y1",u).attr("y2",o),a.labelText){const c=this.computeLabel(a.axis,i,o,a.labelPosition,a.labelOffsetX,a.labelOffsetY,a.labelOrientation);this.label.text(a.labelText).attr("transform",c.transform).attr("dominant-baseline",c.dominantBaseline).style("fill",a.labelColor).style("text-anchor",c.textAnchor).style("font-size",a.labelSize?`${a.labelSize}px`:void 0),Ne(this.label,a.duration).attr("x",c.x).attr("y",c.y)}Ne(this.plotline.exit()).style("opacity",0).remove()}computeLabel(t,a,r,l,i,u,o){const c=o===Or.Vertical,T=c?-90:0;let p;t===Ya.X?p=(c?ru:au)[l]({width:a,height:r,offsetX:i,offsetY:u}):p=(c?su:nu)[l]({width:a,height:r,offsetX:i,offsetY:u});const h=T?`rotate(${T}, ${p.x}, ${p.y})`:"";return Object.assign(Object.assign({},p),{rotation:T,transform:h})}}gl.selectors=uu;const cu={"data-vis-component":""},br=ct({__name:"index",props:{color:{},curveType:{},baseline:{},opacity:{},cursor:{},minHeight1Px:{type:Boolean},minHeight:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=Xa(Ja),r=e,l=g(()=>a.data.value??r.data),i=Ta(r),u=V();return _t(()=>{Vt(()=>{var o;u.value=new $r(i.value),(o=u.value)==null||o.setData(l.value),a.update(u.value)})}),Wt(()=>{var o;(o=u.value)==null||o.destroy(),a.destroy()}),J(i,(o,c)=>{var T;Aa(o,c)||(T=u.value)==null||T.setConfig(i.value)}),J(l,()=>{var o;(o=u.value)==null||o.setData(l.value)}),t({component:u}),(o,c)=>(b(),B("div",cu))}}),du={"data-vis-component":""},vu=ct({__name:"index",props:{color:{},groupWidth:{},groupMaxWidth:{},dataStep:{},groupPadding:{},barPadding:{},roundedCorners:{type:[Number,Boolean]},barMinHeight:{},cursor:{},orientation:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=Xa(Ja),r=e,l=g(()=>a.data.value??r.data),i=Ta(r),u=V();return _t(()=>{Vt(()=>{var o;u.value=new ll(i.value),(o=u.value)==null||o.setData(l.value),a.update(u.value)})}),Wt(()=>{var o;(o=u.value)==null||o.destroy(),a.destroy()}),J(i,(o,c)=>{var T;Aa(o,c)||(T=u.value)==null||T.setConfig(i.value)}),J(l,()=>{var o;(o=u.value)==null||o.setData(l.value)}),t({component:u}),(o,c)=>(b(),B("div",du))}}),fu={"data-vis-component":""},Ss=ct({__name:"index",props:{color:{},curveType:{},lineWidth:{},lineDashArray:{},fallbackValue:{},highlightOnHover:{type:Boolean},cursor:{},interpolateMissingData:{type:Boolean},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=Xa(Ja),r=e,l=g(()=>a.data.value??r.data),i=Ta(r),u=V();return _t(()=>{Vt(()=>{var o;u.value=new Dr(i.value),(o=u.value)==null||o.setData(l.value),a.update(u.value)})}),Wt(()=>{var o;(o=u.value)==null||o.destroy(),a.destroy()}),J(i,(o,c)=>{var T;Aa(o,c)||(T=u.value)==null||T.setConfig(i.value)}),J(l,()=>{var o;(o=u.value)==null||o.setData(l.value)}),t({component:u}),(o,c)=>(b(),B("div",fu))}}),mu={"data-vis-component":""},dn=ct({__name:"index",props:{color:{},axis:{},from:{},to:{},duration:{},labelText:{},labelPosition:{},labelOffsetX:{},labelOffsetY:{},labelOrientation:{},labelColor:{},labelSize:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=Xa(Ja),r=Ta(e),l=V();return _t(()=>{Vt(()=>{l.value=new ml(r.value),a.update(l.value)})}),Wt(()=>{var i;(i=l.value)==null||i.destroy(),a.destroy()}),J(r,(i,u)=>{var o;Aa(i,u)||(o=l.value)==null||o.setConfig(r.value)}),t({component:l}),(i,u)=>(b(),B("div",mu))}}),pu={"data-vis-component":""},kr=ct({__name:"index",props:{color:{},lineWidth:{},axis:{},value:{},duration:{},lineStyle:{},labelText:{},labelPosition:{},labelOffsetX:{},labelOffsetY:{},labelOrientation:{},labelColor:{},labelSize:{},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},events:{},attributes:{},data:{}},setup(e,{expose:t}){const a=Xa(Ja),r=Ta(e),l=V();return _t(()=>{Vt(()=>{l.value=new gl(r.value),a.update(l.value)})}),Wt(()=>{var i;(i=l.value)==null||i.destroy(),a.destroy()}),J(r,(i,u)=>{var o;Aa(i,u)||(o=l.value)==null||o.setConfig(r.value)}),t({component:l}),(i,u)=>(b(),B("div",pu))}}),hu=ct({__name:"index",props:{items:{},labelClassName:{},onLegendItemClick:{type:Function},labelFontSize:{},labelMaxWidth:{},bulletSize:{},bulletSpacing:{},bulletShape:{},orientation:{},renderIntoProvidedDomNode:{type:Boolean},data:{}},setup(e,{expose:t}){const a=e;g(()=>a.data);const r=Ta(a),l=V(),i=V();return _t(()=>{Vt(()=>{i.value&&(l.value=new cl(i.value,{...r.value,renderIntoProvidedDomNode:!0}))})}),Wt(()=>{var u;(u=l.value)==null||u.destroy()}),J(r,(u,o)=>{var c;Aa(u,o)||(c=l.value)==null||c.update(r.value)}),t({component:l}),(u,o)=>(b(),B("div",{"data-vis-bullet-legend":"",ref_key:"elRef",ref:i},null,512))}});var gu=typeof global=="object"&&global&&global.Object===Object&&global,bu=typeof self=="object"&&self&&self.Object===Object&&self,ku=gu||bu||Function("return this")(),wa=ku.Symbol,bl=Object.prototype,yu=bl.hasOwnProperty,xu=bl.toString,Na=wa?wa.toStringTag:void 0;function _u(e){var t=yu.call(e,Na),a=e[Na];try{e[Na]=void 0;var r=!0}catch{}var l=xu.call(e);return r&&(t?e[Na]=a:delete e[Na]),l}var wu=Object.prototype,Su=wu.toString;function Tu(e){return Su.call(e)}var Au="[object Null]",Cu="[object Undefined]",Ts=wa?wa.toStringTag:void 0;function Lu(e){return e==null?e===void 0?Cu:Au:Ts&&Ts in Object(e)?_u(e):Tu(e)}function Vu(e){return e!=null&&typeof e=="object"}var Ou="[object Symbol]";function Mu(e){return typeof e=="symbol"||Vu(e)&&Lu(e)==Ou}function Fu(e,t){for(var a=-1,r=e==null?0:e.length,l=Array(r);++a<r;)l[a]=t(e[a],a,e);return l}var Bu=Array.isArray,As=wa?wa.prototype:void 0,Cs=As?As.toString:void 0;function kl(e){if(typeof e=="string")return e;if(Bu(e))return Fu(e,kl)+"";if(Mu(e))return Cs?Cs.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function yl(e){return e==null?"":kl(e)}function zu(e,t,a){var r=-1,l=e.length;t<0&&(t=-t>l?0:l+t),a=a>l?l:a,a<0&&(a+=l),l=t>a?0:a-t>>>0,t>>>=0;for(var i=Array(l);++r<l;)i[r]=e[r+t];return i}function Du(e,t,a){var r=e.length;return a=a===void 0?r:a,!t&&a>=r?e:zu(e,t,a)}var $u="\\ud800-\\udfff",ju="\\u0300-\\u036f",Eu="\\ufe20-\\ufe2f",Ru="\\u20d0-\\u20ff",Nu=ju+Eu+Ru,Iu="\\ufe0e\\ufe0f",Uu="\\u200d",Pu=RegExp("["+Uu+$u+Nu+Iu+"]");function xl(e){return Pu.test(e)}function Hu(e){return e.split("")}var _l="\\ud800-\\udfff",qu="\\u0300-\\u036f",Wu="\\ufe20-\\ufe2f",Gu="\\u20d0-\\u20ff",Yu=qu+Wu+Gu,Xu="\\ufe0e\\ufe0f",Ku="["+_l+"]",Fn="["+Yu+"]",Bn="\\ud83c[\\udffb-\\udfff]",Zu="(?:"+Fn+"|"+Bn+")",wl="[^"+_l+"]",Sl="(?:\\ud83c[\\udde6-\\uddff]){2}",Tl="[\\ud800-\\udbff][\\udc00-\\udfff]",Ju="\\u200d",Al=Zu+"?",Cl="["+Xu+"]?",Qu="(?:"+Ju+"(?:"+[wl,Sl,Tl].join("|")+")"+Cl+Al+")*",ec=Cl+Al+Qu,tc="(?:"+[wl+Fn+"?",Fn,Sl,Tl,Ku].join("|")+")",ac=RegExp(Bn+"(?="+Bn+")|"+tc+ec,"g");function rc(e){return e.match(ac)||[]}function nc(e){return xl(e)?rc(e):Hu(e)}function sc(e){return function(t){t=yl(t);var a=xl(t)?nc(t):void 0,r=a?a[0]:t.charAt(0),l=a?Du(a,1).join(""):t.slice(1);return r[e]()+l}}var lc=sc("toUpperCase");function Ls(e){return lc(yl(e).toLowerCase())}const ic={key:1,class:"mx-1.5 flex flex-wrap gap-0 gap-y-1"},oc=ct({__name:"ForestryChartDisplay",props:{selectedFrameworks:{default:()=>[]},selectedArtkategori:{},chartType:{},currentTimeValue:{},singleFrameworkSelection:{type:Boolean,default:!1},frameworkComparisonMode:{type:Boolean,default:!1},selectedStartskog:{},redColor:{type:Boolean,default:!1},yellowColor:{type:Boolean,default:!1},maxYValue:{},matsvampVariant:{default:"standard"},relativeChart:{type:Boolean,default:!1}},async setup(e){let t,a;const r={matsvamp:"Alla matsvampar","goda matsvampar":"Goda matsvampar","rdlistade + signalarter":"Signal + rdlistade",atheliales:"Atheliales",boletales:"Boletales",cantharellales:"Cantharellales",spindlingar:"Cortinariaceae",russulales:"Russulales",thelephorales:"Thelephorales",ascomycota:"Ascomyceter"},l={trakthygge:"trakthygge",bldning:"bldning",luckhuggning:"luckhuggning",skrm:"skrmtrd",skarm:"skrmtrd","ingen tgrd":"naturskydd"};function i(v){const m=(v||"").trim().toLowerCase();return m?l[m]||m:""}function u(v){return typeof v=="string"?v:typeof v=="number"?String(v):""}function o(v){if(typeof v=="number")return v;if(typeof v=="string"){const m=v.replace(",","."),x=Number(m);return Number.isFinite(x)?x:NaN}return NaN}const{data:c}=([t,a]=Ia(()=>ba("skogsbruk-svampar",()=>Ua("skogsbrukSvampar").first())),t=await t,a(),t);function T(v){return v?Array.isArray(v)?v:Array.isArray(v?.entries)?v.entries:Array.isArray(v?.body)?v.body:Array.isArray(v?.data)?v.data:[]:[]}const p=g(()=>T(c.value)),h=g(()=>{const v={};for(const m of p.value){const x=i(String(m?.metod??"")),y=u(m?.startskog),k=o(m?.lder);if(!(!Number.isFinite(k)||!x))for(const[M,W]of Object.entries(r)){const Y=o(m?.[W]);Number.isFinite(Y)&&(v[M]||(v[M]=[]),v[M].push({artkategori:M,startskog:y,frameworks:x,lder:k,klassning:Y}))}}return Object.values(v).forEach(m=>m.sort((x,y)=>x.lder-y.lder)),v}),{data:A}=([t,a]=Ia(()=>ba("kg-matsvamp-skogsbruk",()=>Ua("kgMatsvampSkogsbruk").first())),t=await t,a(),t),{data:L}=([t,a]=Ia(()=>ba("total-svampar-skogsbruk",()=>Ua("totalSvamparSkogsbruk").first())),t=await t,a(),t),$=g(()=>h.value.matsvamp??[]),R=g(()=>h.value["goda matsvampar"]??[]),j=g(()=>Array.isArray(A.value?.entries)?A.value.entries:[]),C=g(()=>h.value["rdlistade + signalarter"]??[]),I=g(()=>C.value),z=g(()=>h.value.atheliales??[]),H=g(()=>h.value.boletales??[]),Q=g(()=>h.value.cantharellales??[]),ne=g(()=>h.value.spindlingar??[]),ge=g(()=>h.value.russulales??[]),X=g(()=>h.value.ascomycota??[]),q=g(()=>h.value.thelephorales??[]),ve=g(()=>Array.isArray(L.value?.entries)?L.value.entries:[]),{data:oe}=([t,a]=Ia(()=>ba("svampgrupper-relative-skogsbruk",()=>Ua("svampgrupperRelativeSkogsbruk").first())),t=await t,a(),t),de=["atheliales","boletales","cantharellales","spindlingar","russulales","thelephorales","ascomycota"],re=g(()=>{const v=Array.isArray(oe.value?.entries)?oe.value.entries:[],m=new Map;for(const y of v){if(!y)continue;const k=Number(y?.lder);if(!Number.isFinite(k))continue;const M=m.get(k)||{age:k};if(typeof y.artkategori=="string"&&y.klassning!==void 0){const W=Va(y.artkategori),Y=Number(y.klassning);W&&Number.isFinite(Y)&&(M[W]=Y)}else for(const W of de){const Y=r[W],Be=y?.[Y];if(Be==null)continue;const K=Number(Be);Number.isFinite(K)&&(M[W]=K)}m.set(k,M)}return Array.from(m.values()).map(y=>{for(const k of de)Number.isFinite(Number(y[k]))||(y[k]=0);return y}).sort((y,k)=>Number(y.age)-Number(k.age))}),me=g(()=>{const v=Number(S.maxYValue);if(wt.value){if(Number.isFinite(v))return[0,v*2];const m=Array.isArray(be.value)?be.value:[];let x=0;for(const y of m){const k=ee.value[0]||(S.selectedArtkategori[0]?.toLowerCase()??"");if(!k)continue;const M=Number(y?.[k]);Number.isFinite(M)&&M>x&&(x=M)}return[0,x*2||1]}return Number.isFinite(v)?[0,v]:void 0}),be=g(()=>S.chartType==="bar"?Jt.value:S.singleFrameworkSelection&&S.frameworkComparisonMode?Ir.value:Rr.value),st=g(()=>{const m=(S.relativeChart?re.value:be.value).map(y=>Number(y?.age)).filter(y=>Number.isFinite(y));return m.length?[S.relativeChart?Math.max(0,Math.min(...m)):Math.min(...m),Math.max(...m)]:[0,1]}),Ie=g(()=>S.relativeChart?[0,20,50,80]:[0,10,20,30,40,50,60,70,80,90]),Ue=v=>S.relativeChart?v===0?"0 r":v===20?"20 r":v===50?"50 r":v===80?"80 r":"":v===0?"Avverkning":v===10?"":v===20?(Ae.value,"20 r"):v===30||v===40?"":v===50?(Ae.value,"50 r"):v===60||v===70?"":v===80?(Ae.value,"80 r"):"";g(()=>[(S.selectedFrameworks||[]).join(","),S.selectedStartskog||"",S.chartType||"",S.singleFrameworkSelection?"S":"M",S.currentTimeValue||""].join("|"));const _e=g(()=>Array.isArray(be.value)&&be.value.length>0),ee=g(()=>{if(!S.singleFrameworkSelection)return[];if(S.frameworkComparisonMode){const y=S.selectedArtkategori?.[0];return y?[y.toLowerCase()]:[]}const v=(S.selectedArtkategori||[]).map(y=>(y||"").toLowerCase()).filter(y=>!pe.value.has(y)),m=qe.filter(y=>v.includes(y)),x=v.filter(y=>!qe.includes(y));return m.concat(x)}),Pe={left:10,right:10,top:10,bottom:10},we=V(null),ke=V(!1);let Se=null;const Te=ka({width:0,height:0}),Ae=V(!1);function Le(){if(!we.value){Te.width=0,Te.height=0;return}const v=we.value.getBoundingClientRect();Te.width=v.width,Te.height=v.height,Fe()}function Fe(){typeof window>"u"||(Ae.value=window.innerWidth<=640)}_t(async()=>{await Vt(),ke.value=!0,Le(),Fe(),requestAnimationFrame(()=>{Le()}),typeof window<"u"&&"ResizeObserver"in window&&(Se=new ResizeObserver(()=>{Le()}),we.value&&Se.observe(we.value))}),zs(()=>{Se&&(Se.disconnect(),Se=null)});const pe=V(new Set),je=V(new Set),lt=g(()=>S.frameworkComparisonMode||S.singleFrameworkSelection),S=e,it=g(()=>S.matsvampVariant==="goda"?"goda":S.matsvampVariant==="kg"?"kg":"standard"),Qa=g(()=>it.value==="goda"?"goda matsvampar":it.value==="kg"?"kg matsvamp":"matsvamp"),wt=g(()=>(S.selectedArtkategori||[]).map(m=>(m||"").toLowerCase()).includes("matsvamp")&&it.value==="kg"),ua=v=>v,jr=v=>m=>{if(!wt.value)return NaN;const x=Number(m?.[v]);return Number.isFinite(x)?x*2:NaN},Ca=(v,m)=>{const x=Number(v?.[m]);return Number.isFinite(x)?ua(x):NaN},ca=(v,m)=>{const x=Number(v?.[m]);return Number.isFinite(x)?ua(x):NaN},Ke=(v,m,x)=>{const y=m+"__compare",k=Number(v?.[y]?.[x]);return Number.isFinite(k)?ua(k):NaN};function Ve(v,m=1){const x=v.replace("#",""),y=x.length===3?x.split("").map(Be=>Be+Be).join(""):x,k=parseInt(y,16),M=k>>16&255,W=k>>8&255,Y=k&255;return`rgba(${M}, ${W}, ${Y}, ${m})`}g(()=>{const v={fre:-5,efter:1,10:10,20:20,50:50,80:80};return[S.currentTimeValue?v[S.currentTimeValue]??st.value[0]:st.value[0],st.value[1]]});const He=g(()=>{const v=S.currentTimeValue;if(!v)return null;const m={fre:-5,efter:1,10:10,20:20,50:50,80:80};if(v in m)return m[v];const x=Number(v);return Number.isFinite(x)?x:null}),Yt=g(()=>{const v=(S.selectedFrameworks||[]).map(x=>x.toLowerCase()).join(","),m=(S.selectedArtkategori||[]).map(x=>x.toLowerCase()).join(",");return`${v}|${m}|${S.currentTimeValue||""}`}),Ot={atheliales:"#8B5CF6",boletales:"#EC4899",cantharellales:"#eab308",spindlingar:"#F97316",russulales:"#22C55E",ascomycota:"#DC2626",thelephorales:"#0EA5E9",matsvamp:"#eab308","goda matsvampar":"#eab308","kg matsvamp":"#eab308","rdlistade + signalarter":"#14b8a6",total:"#64748b"},qe=["atheliales","ascomycota","spindlingar","russulales","boletales","cantharellales","thelephorales","matsvamp","goda matsvampar","rdlistade + signalarter","total"],Xt={atheliales:"Skinnsvampar",boletales:"Soppar",cantharellales:"Kantarellslktingar",spindlingar:"Spindelskivlingar",russulales:"Kremlor & riskor",ascomycota:"Sporsckssvampar",thelephorales:"Tagg- och tomentelloida svampar",matsvamp:"Alla matsvampar","goda matsvampar":"Goda matsvampar","rdlistade + signalarter":"Naturvrdssvampar",total:"Total"},Er={atheliales:"/images/svampgrupp/skinnsvamp.png",boletales:"/images/svampgrupp/sopp.png",cantharellales:"/images/svampgrupp/kantarell.png",spindlingar:"/images/svampgrupp/hattsvamp.png",russulales:"/images/svampgrupp/hattsvamp.png",thelephorales:"/images/svampgrupp/taggsvamp.png",ascomycota:"/images/svampgrupp/skalsvamp.png"},La={trakthygge:[{age:0,text:"Avverkning"}],luckhuggning:[{age:0,text:"Avverkning 3 luckor"},{age:30,text:"Avverkning 3 luckor"},{age:60,text:"Avverkning 3 luckor"},{age:90,text:"Avverkning 3 luckor"}],bldning:[{age:0,text:"Avverkning 30% av trden"},{age:30,text:"Avverkning 30% av trden"},{age:60,text:"Avverkning 30% av trden"},{age:90,text:"Avverkning 30% av trden"}],skrmtrd:[{age:0,text:"Frberedande avverkning"},{age:10,text:"Frtrdsstllning"},{age:20,text:"Avverkning av frtrden"}]},da=g(()=>(S.selectedArtkategori||[]).map(v=>(v||"").toLowerCase()));function Va(v){const m=(v||"").toLowerCase();return m==="kg matsvampar"?"kg matsvamp":m==="cortinariaceae"?"spindlingar":m==="ascomyceter"?"ascomycota":m}function Kt(v){if(!v)return Ot.total;const m=Va(v);return Ot[m]||Ot.total}const Mt=g(()=>S.singleFrameworkSelection&&!S.frameworkComparisonMode?ee.value[0]||da.value[0]||"total":da.value[0]||"total"),Zt=g(()=>Kt(Mt.value)),Ft=v=>v==="matsvamp"&&it.value==="goda"?"Goda matsvampar":v==="matsvamp"&&it.value==="kg"?"Kg matsvampar":Xt[v]||Ls(v);function dt(v){const m=v.toLowerCase();return m==="naturskydd"?"Ingen tgrd":m==="trakthygge"?"Trakhyggesbruk":m==="skrmtrd"?"verhllen skrm":Ls(v)}const St=["naturskydd","trakthygge","skrmtrd","luckhuggning","bldning"],Oa=g(()=>(S.selectedFrameworks||[]).map(v=>v.toLowerCase())),va=g(()=>Oa.value.filter(v=>St.includes(v)&&!je.value.has(v))),Ma=g(()=>{const v={};for(const m of Oa.value){const x=At(m).map(y=>({age:Number(y.age),value:Number(y.klassning)})).filter(y=>Number.isFinite(y.age)&&Number.isFinite(y.value)).sort((y,k)=>y.age-k.age);v[m]=x}return v}),er=g(()=>{const v=Object.values(Ma.value);if(!v.length)return[];let m=1/0,x=-1/0;const y=new Set;for(const k of v)for(const M of k){const W=Number(M.age);Number.isFinite(W)&&(y.add(W),W<m&&(m=W),W>x&&(x=W))}if(!Number.isFinite(m)||!Number.isFinite(x))return[];for(let k=Math.floor(m);k<=Math.ceil(x)+1e-9;k+=1)y.add(Number(k.toFixed(6)));return Array.from(y).sort((k,M)=>k-M)});function Fa(v,m){const x=v.findIndex(M=>M.age===m);if(x!==-1)return v[x].value;let y=-1,k=-1;for(let M=0;M<v.length;M++)if(v[M].age<m&&(y=M),v[M].age>m){k=M;break}if(y!==-1&&k!==-1){const M=v[y],W=v[k],Y=(m-M.age)/(W.age-M.age);return M.value+Y*(W.value-M.value)}}const Rr=g(()=>{const v=[];for(const m of er.value){const x={age:m};if(S.singleFrameworkSelection&&!S.frameworkComparisonMode){const y=ee.value.length?ee.value:(S.selectedArtkategori||[]).map(M=>(M||"").toLowerCase()).filter(Boolean),k=Nr.value;for(const M of y){const W=k[M]||[],Y=Fa(W,m);typeof Y=="number"&&Number.isFinite(Y)&&(x[M]=Y)}}else for(const y of va.value){const k=Ma.value[y]||[],M=Fa(k,m);typeof M=="number"&&Number.isFinite(M)&&(x[y]=M)}v.push(x)}return v}),Nr=g(()=>{if(!(S.singleFrameworkSelection&&!S.frameworkComparisonMode))return{};const v={},m=ee.value.length?ee.value:(S.selectedArtkategori||[]).map(y=>(y||"").toLowerCase()).filter(Boolean),x=Array.isArray(Jt.value)?Jt.value:[];for(const y of x){const k=Number(y?.age);if(Number.isFinite(k))for(const M of m){const W=Number(y?.[M]);Number.isFinite(W)&&(v[M]=v[M]||[]).push({age:k,value:W})}}for(const y of Object.keys(v))v[y].sort((k,M)=>k.age-M.age);return v}),Ba=g(()=>ee.value[0]||S.selectedArtkategori?.[0]?.toLowerCase()||""),Ir=g(()=>{if(!(S.singleFrameworkSelection&&S.frameworkComparisonMode&&S.chartType==="area"))return[];const v=Ba.value;if(!v)return[];const m=je.value,x=St.filter(k=>S.selectedFrameworks.map(M=>M.toLowerCase()).includes(k)&&!m.has(k)),y=[];for(const k of er.value){const M={age:k};let W=!1;for(const Y of x){const Be=Ma.value[Y]||[],K=Fa(Be,k);if(typeof K=="number"&&Number.isFinite(K)){const Oe=Y+"__compare",Ee=M[Oe]||{};Ee[v]=K,M[Oe]=Ee,W=!0}}W&&y.push(M)}return y});g(()=>{const v={},m=Array.isArray(Jt.value)?Jt.value:[];for(const x of va.value)v[x]=m.filter(y=>Number.isFinite(Number(y?.age))&&Number.isFinite(Number(y?.[x]))).map(y=>({age:Number(y.age),value:Number(y[x]),__row:y})).sort((y,k)=>y.age-k.age);return v});const Tt=g(()=>{if(S.singleFrameworkSelection){if(S.frameworkComparisonMode){const K=St.filter(se=>S.selectedFrameworks.map(zt=>zt.toLowerCase()).includes(se)),Oe=Zt.value,Ee=.5;return K.map((se,zt)=>{const ot=dt(se),fe=je.value.has(se),ce=zt===1?"#c3a283":Oe;return{key:se,name:ot,label:ot,color:ce,colorArea:Ve(ce,Ee),colorLine:ce,inactive:fe}})}const y=(S.selectedArtkategori||[]).map(K=>(K||"").toLowerCase()).filter(Boolean),k=y.length?y:ee.value.concat(Array.from(pe.value)),M=new Set(k),W=qe.filter(K=>M.has(K)),Y=Array.from(M).filter(K=>!qe.includes(K)).sort();return W.concat(Y).map(K=>{const Oe=Kt(K),Ee=Ft(K);return{key:K,name:Ee,label:Ee,color:Oe,colorArea:Ve(Oe,.5),colorLine:Oe,inactive:pe.value.has(K),icon:Er[K]}})}const v=St.filter(y=>S.selectedFrameworks.map(k=>k.toLowerCase()).includes(y)),m=Zt.value,x=.5;return v.map((y,k)=>{const M=dt(y),W=je.value.has(y),Y=k===1?"#c3a283":m;return{key:y,name:M,label:M,color:Y,colorArea:Ve(Y,x),colorLine:Y,inactive:W}})}),ue=g(()=>S.singleFrameworkSelection&&!S.frameworkComparisonMode?[]:Tt.value.filter(v=>!v.inactive));E.TopOutside;const Ur=g(()=>{if(S.singleFrameworkSelection){if(S.frameworkComparisonMode)return ue.value.map(m=>m.key);const v=(S.selectedFrameworks||[]).map(m=>(m||"").toLowerCase()).filter(m=>St.includes(m)).filter(m=>!je.value.has(m));return v.length?v:va.value}return ue.value.map(v=>v.key)});function tr(v){return v==="total"?ve.value:v==="matsvamp"?it.value==="goda"?R.value:it.value==="kg"?j.value:$.value:v==="goda matsvampar"?R.value:v==="rdlistade + signalarter"?I.value:v==="atheliales"?z.value:v==="boletales"?H.value:v==="cantharellales"?Q.value:v==="spindlingar"?ne.value:v==="russulales"?ge.value:v==="ascomycota"?X.value:v==="thelephorales"?q.value:[]}function vt(v){const m=v.toLowerCase();return m==="matsvamp"?Qa.value:m}function At(v){const m=S.selectedArtkategori.map(k=>k.toLowerCase()),x=S.selectedStartskog?S.selectedStartskog.toLowerCase():null,y=[];return m.forEach(k=>{const M=vt(k);(tr(k)||[]).forEach(Y=>{Y.artkategori?.toLowerCase()===M&&Y.frameworks?.toLowerCase()===v.toLowerCase()&&(x&&(Y.startskog?.toLowerCase()??x)!==x||y.push({age:Y.lder,klassning:+Y.klassning}))})}),y}const Jt=g(()=>{if(S.relativeChart)return re.value;const v=new Map;if(S.singleFrameworkSelection){const m=S.frameworkComparisonMode?(S.selectedFrameworks||[]).map(x=>x.toLowerCase()).slice(0,2):[S.selectedFrameworks[0]?.toLowerCase()].filter(Boolean);S.selectedArtkategori.forEach(x=>{const y=x.toLowerCase(),k=tr(y),M=S.selectedStartskog?S.selectedStartskog.toLowerCase():null,W=vt(y);m.forEach(Y=>{(k||[]).filter(K=>{const Oe=K.artkategori?.toLowerCase()===W,Ee=K.frameworks?.toLowerCase()===Y,se=!M||(K.startskog?.toLowerCase()??M)===M;return Oe&&Ee&&se}).map(K=>({age:K.lder,klassning:+K.klassning})).forEach(K=>{const Oe=v.get(K.age)||{age:K.age};if(S.frameworkComparisonMode){const Ee=`${Y}__compare`,se=Oe[Ee]||{};se[y]=K.klassning,Oe[Ee]=se}else Oe[y]=K.klassning;v.set(K.age,Oe)})})})}else Oa.value.forEach(m=>{At(m).forEach(y=>{const k=v.get(y.age)||{age:y.age};k[m]=y.klassning,v.set(y.age,k)})});return Array.from(v.values()).sort((m,x)=>m.age-x.age)}),Ze=v=>{const m=Number(v?.age);return Number.isFinite(m)?m:void 0},Pr=g(()=>{if(S.singleFrameworkSelection){if(S.frameworkComparisonMode){const m=ee.value[0]||S.selectedArtkategori[0]?.toLowerCase();return ue.value.map(x=>{const y=x.key;return k=>{const W=k?.[`${y}__compare`]?.[m];return Number.isFinite(Number(W))?Number(W):NaN}})}return(ee.value.length?ee.value:S.selectedArtkategori.map(m=>m.toLowerCase())).filter(m=>!pe.value.has(m)).map(m=>x=>x[m])}return ue.value.map(v=>m=>m[v.key])}),ar=g(()=>S.singleFrameworkSelection?S.frameworkComparisonMode?ue.value.map(m=>Ve(m.colorLine||m.color,.7)||"#000000"):(ee.value.length?ee.value:S.selectedArtkategori.map(m=>m.toLowerCase())).filter(m=>!pe.value.has(m)).map(m=>Kt(m)):ue.value.map(v=>v.color||"#000000"));function rr(v){const m=(v.key||v.name||"").toLowerCase();if(m)if(S.singleFrameworkSelection)if(S.frameworkComparisonMode){const x=new Set(je.value);x.has(m)?x.delete(m):x.add(m),je.value=x}else{const x=new Set(pe.value);x.has(m)?x.delete(m):x.add(m),pe.value=x}else{const x=St.find(k=>k===m)||St.find(k=>dt(k).toLowerCase()===m);if(!x)return;const y=new Set(je.value);y.has(x)?y.delete(x):y.add(x),je.value=y}}const Hr=g(()=>!S.singleFrameworkSelection||S.frameworkComparisonMode?[]:ee.value.map(v=>m=>ca(m,v))),nr=g(()=>!S.singleFrameworkSelection||S.frameworkComparisonMode?[]:ee.value.map(v=>Kt(v))),za=ka({age:0});function sr(v){return v?Object.keys(v).filter(x=>x!=="age"&&x!=="__markerY").some(x=>{const y=v[x];return y&&typeof y=="object"?Object.values(y).some(k=>Number.isFinite(Number(k))):Number.isFinite(Number(y))}):!1}const Qt=g(()=>S.singleFrameworkSelection?S.frameworkComparisonMode?ue.value.length:ee.value.length:ue.value.length),Bt=g(()=>Qt.value>0),lr=g(()=>{const v=be.value;return Qt.value?v.filter(m=>sr(m)):S.frameworkComparisonMode&&S.singleFrameworkSelection&&v.length?v.map(m=>{const x={age:m.age};for(const y of S.selectedFrameworks||[]){const k=y.toLowerCase();x[`${k}__compare`]={[ee.value[0]||S.selectedArtkategori[0]?.toLowerCase()||""]:NaN}}return x}):v.length?v:[za]}),ir=g(()=>{if(!_e.value)return[];const v=Ur.value;if(!v.length)return[];const[m,x]=st.value;if(!Number.isFinite(m)||!Number.isFinite(x)||m===x)return[];const y=[],k=W=>{const Y=Tt.value.find(K=>K.key===W);return Y?.colorLine||Y?.colorArea||Y?.color||Zt.value||"#64748b"},M=W=>{const Y=Tt.value.find(Be=>Be.key===W);return Y?.colorLine||Y?.color||Zt.value||"#1f2937"};return v.forEach(W=>{const Y=La[W];if(!Y?.length)return;const Be=k(W),K=M(W);Y.forEach((Oe,Ee)=>{const se=Number(Oe.age);Number.isFinite(se)&&(se<m||se>x||y.push({id:`${W}-${se}-${Ee}`,value:se,color:Be,labelText:Oe.text,labelColor:K}))})}),y});return(v,m)=>{const x=$n,y=ql;return b(),B("div",{class:"custom-area",ref_key:"rootEl",ref:we},[O(y,null,{default:U(()=>[ke.value&&_e.value&&lt.value&&Tt.value.length&&!(S.singleFrameworkSelection&&!S.frameworkComparisonMode)?(b(),N(D(hu),{key:0,items:Tt.value,onLegendItemClick:rr,class:"mx-2 flex flex-wrap gap-2"},null,8,["items"])):F("",!0),ke.value&&_e.value&&Tt.value.length&&S.singleFrameworkSelection&&!S.frameworkComparisonMode?(b(),B("div",ic,[(b(!0),B(Me,null,Ye(Tt.value,k=>(b(),N(x,{key:k.key,type:"button",variant:"ghost",color:"neutral",size:"sm",class:"flex items-center px-2 py-1 gap-2 hover:opacity-95 transition ring-muted/50",onClick:M=>rr(k)},{default:U(()=>[k.icon?(b(),B("div",{key:0,class:"h-5 w-5",style:_r({backgroundColor:k.color||k.colorLine||k.colorArea||"#000",WebkitMask:`url(${k.icon}) center / contain no-repeat`,mask:`url(${k.icon}) center / contain no-repeat`,opacity:k.inactive?.2:1})},null,4)):F("",!0),f("span",{style:_r({opacity:k.inactive?.2:1})},Z(k.label),5)]),_:2},1032,["onClick"]))),128))])):F("",!0),ke.value&&_e.value?(b(),N(D(Fi),{key:2,data:lr.value.length?lr.value:[za],height:200,margin:Pe,xDomain:st.value,yDomain:me.value},{default:U(()=>[S.chartType==="area"&&S.singleFrameworkSelection&&!S.frameworkComparisonMode?(b(),B(Me,{key:0},[O(D(br),{duration:1,x:Ze,y:Hr.value,color:nr.value,interpolateMissingData:!0},null,8,["y","color"]),Bt.value&&He.value!==null?(b(),N(D(dn),{duration:1,key:Yt.value,axis:"x",from:-7,to:He.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):F("",!0),Bt.value?(b(),N(D(kr),{key:1,duration:1,value:He.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):F("",!0)],64)):S.chartType==="area"&&S.singleFrameworkSelection&&S.frameworkComparisonMode?(b(),B(Me,{key:1},[(b(!0),B(Me,null,Ye(ue.value,k=>(b(),N(D(br),{duration:1,key:k.key+"-compare-area",x:Ze,y:M=>Ke(M,k.key,Ba.value),color:()=>k.colorArea||k.color,interpolateMissingData:!0,zIndex:1},null,8,["y","color"]))),128)),(b(!0),B(Me,null,Ye(ue.value,k=>(b(),N(D(Ss),{key:k.key+"-compare-line",x:Ze,y:M=>Ke(M,k.key,Ba.value),color:()=>Ve(k.colorLine||k.color,.6),duration:1},null,8,["y","color"]))),128)),Bt.value&&He.value!==null?(b(),N(D(dn),{duration:1,key:Yt.value,axis:"x",from:-7,to:He.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):F("",!0),Bt.value?(b(),N(D(kr),{key:1,duration:1,value:He.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):F("",!0)],64)):S.chartType==="area"?(b(),B(Me,{key:2},[(b(!0),B(Me,null,Ye(ue.value,k=>(b(),N(D(br),{duration:1,key:k.key+"-area",x:Ze,y:M=>Ca(M,k.key),color:()=>k.colorArea||k.color,interpolateMissingData:!0,zIndex:1},null,8,["y","color"]))),128)),(b(!0),B(Me,null,Ye(ue.value,k=>(b(),N(D(Ss),{key:k.key+"-line",x:Ze,y:M=>Ca(M,k.key),color:()=>Ve(k.colorLine||k.color,.6),duration:1},null,8,["y","color"]))),128)),wt.value?(b(!0),B(Me,{key:0},Ye(ue.value,k=>(b(),N(D(br),{key:k.key+"-kg-x2",x:Ze,y:jr(k.key),color:()=>"rgba(234,179,8,0.3)",duration:1},null,8,["y"]))),128)):F("",!0),Bt.value&&He.value!==null?(b(),N(D(dn),{duration:1,key:Yt.value,axis:"x",from:-7,to:He.value,color:"rgba(255, 255, 255, 0.7)",zIndex:20},null,8,["to"])):F("",!0),Bt.value?(b(),N(D(kr),{key:2,duration:1,value:He.value,color:"rgba(234,88,12,1)",axis:"x",labelOrientation:"vertical",zIndex:20,lineWidth:1},null,8,["value"])):F("",!0)],64)):S.chartType==="bar"?(b(),N(D(vu),{key:3,color:ar.value,x:Ze,y:Pr.value,groupPadding:.5,groupMaxWidth:20},null,8,["color","y"])):F("",!0),(b(!0),B(Me,null,Ye(ir.value,k=>(b(),N(D(kr),{duration:1,key:k.id,axis:"x",value:k.value,color:"rgba(69,10,10, 0.5)",lineStyle:[2,3],label:k.labelText,labelColor:k.labelColor,zIndex:100,lineWidth:1},null,8,["value","label","labelColor"]))),128)),O(D(ms),{tickTextFontSize:"12px",gridLine:!0,type:"x",tickValues:Ie.value,tickFormat:Ue},null,8,["tickValues"]),O(D(ms),{tickTextFontSize:"12px",type:"y"})]),_:1},8,["data","xDomain","yDomain"])):F("",!0)]),_:1})],512)}}}),uc=Object.assign(oc,{__name:"ForestryChartDisplay"}),cc={class:"mt-2 mb-1 flex justify-between"},dc={class:"pr-2"},vc={class:"flex items-center gap-2"},fc=["src"],mc={class:"flex items-center gap-2"},pc={key:0},hc={key:1},gc={key:2},bc={class:"px-4 pb-4 text-sm text-muted"},kc={key:3},yc={class:"mx-2"},xc={class:"flex flex-col gap-4"},_c=ct({__name:"ForestryChartMain",props:{parentSelectedFrameworks:{},currentTimeValue:{},currentStartskog:{},selectedChart:{}},emits:["update:selectedChart"],setup(e,{expose:t,emit:a}){const r=jn("(max-width: 767px)"),l=e,i=a;V("naturskog"),V("naturskog"),V("naturskog");const u=V("trakthygge");V(!0),V(!1),V(!1),V(!1),V(!1),V(!1);const o=[{label:"Mngd mykorrhizasvamp",value:"skogsskole",icon:"i-lineicons-mushroom-1"},{label:"Svampgrupper",value:"grupper",icon:"i-material-symbols-category-rounded"},{label:"Naturvrdssvampar",value:"rodlistade",icon:"i-material-symbols-award-star"},{label:"Matsvampar",value:"matsvampar",icon:"icon-park-solid:knife-fork"}],c=V(o.some(X=>X.value===l.selectedChart)?l.selectedChart:o[0].value),T=g(()=>o.find(X=>X.value===c.value)?.icon),p=g(()=>(l.parentSelectedFrameworks?.length??0)===2);function h(X){o.some(q=>q.value===X)&&(c.value=X)}t({setSelectedChart:h}),J(()=>l.selectedChart,X=>{typeof X=="string"&&o.some(q=>q.value===X)&&c.value!==X&&(c.value=X)}),J(c,X=>{i("update:selectedChart",X)});const A=["atheliales","boletales","cantharellales","spindlingar","russulales","thelephorales","ascomycota"],L=V("area");V("area");const $=[{label:"Alla matsvampar",value:"standard",icon:"i-lineicons-mushroom-1"},{label:"Goda matsvampar",value:"goda",icon:"i-heroicons-star-16-solid"},{label:"Kg matsvampar",value:"kg",icon:"i-material-symbols-scale-outline-rounded"}],R=V("standard"),j=g(()=>R.value==="goda"?"goda matsvampar":"matsvamp"),C=g(()=>$.find(X=>X.value===R.value)?.icon),I=g(()=>R.value==="goda"?"Mngden av alla goda matsvampar i frhllande till frekomsten i ldre skog/fre avverkning (%).":R.value==="kg"?"Frskvikten av alla matsvampar (kg/ha) under en ssong i frhllande till frekomsten i ldre skog/fre avverkning. Medel- samt min-maxvrde.":"Mngden av alla matsvampar i marken frhllande till frekomsten i ldre skog/fre avverkning (%)."),z=g(()=>R.value==="kg"?55:28),H=V([...A]),Q=[{label:"Skinnsvampar",value:"atheliales",icon:"/images/svampgrupp/skinnsvamp.png",avatar:{src:"/images/svampgrupp/skinnsvamp.png",alt:"Skinnsvampar"}},{label:"Soppar",value:"boletales",icon:"/images/svampgrupp/sopp.png",avatar:{src:"/images/svampgrupp/sopp.png",alt:"Soppar"}},{label:"Kantarellslktingar",value:"cantharellales",icon:"/images/svampgrupp/kantarell.png",avatar:{src:"/images/svampgrupp/kantarell.png",alt:"Kantarellslktingar"}},{label:"Spindelskivlingar",value:"spindlingar",icon:"/images/svampgrupp/hattsvamp.png",avatar:{src:"/images/svampgrupp/hattsvamp.png",alt:"Spindelskivlingar"}},{label:"Kremlor & riskor",value:"russulales",icon:"/images/svampgrupp/hattsvamp.png",avatar:{src:"/images/svampgrupp/hattsvamp.png",alt:"Kremlor & riskor"}},{label:"Tagg- och tomentelloida svampar",value:"thelephorales",icon:"/images/svampgrupp/taggsvamp.png",avatar:{src:"/images/svampgrupp/taggsvamp.png",alt:"Tagg- och tomentelloida svampar"}},{label:"Sporsckssvampar",value:"ascomycota",icon:"/images/svampgrupp/skalsvamp.png",avatar:{src:"/images/svampgrupp/skalsvamp.png",alt:"Sporsckssvampar"}}],ne=V(Q[0].value),ge=g(()=>Q.find(X=>X.value===ne.value)?.avatar);return J([c,p],([X,q])=>{X==="grupper"&&q||(ne.value=Q[0].value),X==="grupper"&&!q&&(H.value=[...A])}),J(()=>l.parentSelectedFrameworks?.length,()=>{c.value==="grupper"&&p.value&&(ne.value=Q[0].value)}),(X,q)=>{const ve=js,oe=Ha,de=uc,re=$n,me=Wl;return b(),B("div",null,[f("div",cc,[O(ve,{modelValue:c.value,"onUpdate:modelValue":q[0]||(q[0]=be=>c.value=be),items:o,"value-key":"value","option-attribute":"label",size:"xl",variant:"none",class:"hover:cursor-pointer",icon:T.value,ui:{content:"min-w-fit"}},null,8,["modelValue","icon"]),f("div",dc,[c.value==="grupper"&&p.value?(b(),N(ve,{key:0,modelValue:ne.value,"onUpdate:modelValue":q[1]||(q[1]=be=>ne.value=be),items:Q,"option-attribute":"label","value-key":"value",size:"lg",variant:"soft",placeholder:"Vlj svampgrupp",class:"hover:cursor-pointer rounded-full",ui:{content:"min-w-fit",value:"hidden sm:flex",base:"min-h-8"},avatar:ge.value},{item:U(({item:be})=>[f("div",vc,[be.icon?(b(),B("img",{key:0,src:be.icon,alt:"",class:"size-5 rounded-sm object-contain"},null,8,fc)):F("",!0),f("span",null,Z(be.label),1)])]),_:1},8,["modelValue","avatar"])):F("",!0),c.value==="matsvampar"?(b(),N(ve,{key:1,modelValue:R.value,"onUpdate:modelValue":q[2]||(q[2]=be=>R.value=be),items:$,content:{align:"end",side:"bottom",sideOffset:8},"option-attribute":"label","value-key":"value",placeholder:"Vlj dataset",class:"hover:cursor-pointer rounded-full",size:"lg",variant:"soft",ui:{content:"w-fit shrink-0",value:"hidden sm:flex gap-0",base:"min-h-8",item:"gap-0"},icon:C.value},{item:U(({item:be})=>[f("div",mc,[be.icon?(b(),N(oe,{key:0,name:be.icon,class:"size-4"},null,8,["name"])):F("",!0),f("span",null,Z(be.label),1)])]),_:1},8,["modelValue","icon"])):F("",!0)])]),f("div",null,[c.value==="skogsskole"?(b(),B("div",pc,[O(de,{selectedFrameworks:l.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","bldning","skrmtrd"],selectedArtkategori:["total"],chartType:L.value,maxYValue:130,currentTimeValue:l.currentTimeValue},null,8,["selectedFrameworks","chartType","currentTimeValue"]),q[3]||(q[3]=f("div",{class:"px-4 pb-4 text-sm text-muted"}," Mngd mykorrhizasvamp i marken i frhllande till frekomsten i ldre skog/fre avverkning (%). ",-1))])):F("",!0),c.value==="rodlistade"?(b(),B("div",hc,[O(de,{selectedFrameworks:l.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","bldning","skrmtrd"],selectedArtkategori:["rdlistade + signalarter"],chartType:L.value,selectedStartskog:l.currentStartskog,redColor:!0,maxYValue:.65,currentTimeValue:l.currentTimeValue},null,8,["selectedFrameworks","chartType","selectedStartskog","currentTimeValue"]),q[4]||(q[4]=f("div",{class:"px-4 pb-4 text-sm text-muted"}," Mngden av mykorrhizasvampar som r rdlistade/signalarter i marken i frhllande till frekomsten i ldre skog/fre avverkning (%). ",-1))])):F("",!0),c.value==="matsvampar"?(b(),B("div",gc,[O(de,{selectedFrameworks:l.parentSelectedFrameworks??["naturskydd","trakthygge","luckhuggning","bldning","skrmtrd"],selectedArtkategori:[j.value],chartType:L.value,selectedStartskog:l.currentStartskog,yellowColor:!0,maxYValue:z.value,currentTimeValue:l.currentTimeValue,matsvampVariant:R.value},null,8,["selectedFrameworks","selectedArtkategori","chartType","selectedStartskog","maxYValue","currentTimeValue","matsvampVariant"]),f("div",bc,Z(I.value),1)])):F("",!0),c.value==="grupper"?(b(),B("div",kc,[O(de,{selectedFrameworks:l.parentSelectedFrameworks??[u.value],selectedArtkategori:p.value?[ne.value]:H.value,frameworkComparisonMode:p.value,chartType:L.value,singleFrameworkSelection:!0,selectedStartskog:l.currentStartskog,currentTimeValue:l.currentTimeValue},null,8,["selectedFrameworks","selectedArtkategori","frameworkComparisonMode","chartType","selectedStartskog","currentTimeValue"]),q[6]||(q[6]=f("div",{class:"px-4 pb-4 text-sm text-muted"}," Mngden av olika grupper svampar i frhllande till frekomsten i ldre skog/fre avverkning (%). ",-1)),f("div",yc,[c.value==="grupper"?(b(),N(me,{key:0,fullscreen:!!D(r),title:"Relativ mngd",description:""},{body:U(()=>[f("div",xc,[O(de,{selectedFrameworks:["trakthygge"],selectedArtkategori:A,chartType:"area",singleFrameworkSelection:!0,relativeChart:!0}),q[5]||(q[5]=f("p",{class:"text-sm text-muted"}," Den relativa frdelningen av olika grupper mykorrhizasvampar i frhllande till alla mykorrhizasvampar i ldre skog och vid olika skogsldrar efter avverkning. ",-1))])]),default:U(()=>[O(re,{size:"lg",class:"px-3 w-full flex justify-center",color:"neutral",icon:"i-carbon-diagram-reference",label:"Visa diagram fr relativ mngd vid olika ldrar"})]),_:1},8,["fullscreen"])):F("",!0)])])):F("",!0)])])}}}),wc=Object.assign(Ds(_c,[["__scopeId","data-v-8961d3f9"]]),{__name:"ForestryChartMain"}),Sc={slots:{root:"relative flex items-start",base:["inline-flex items-center shrink-0 rounded-full border-2 border-transparent focus-visible:outline-2 focus-visible:outline-offset-2 data-[state=unchecked]:bg-accented","transition-[background] duration-200"],container:"flex items-center",thumb:"group pointer-events-none rounded-full bg-default shadow-lg ring-0 transition-transform duration-200 data-[state=unchecked]:translate-x-0 data-[state=unchecked]:rtl:-translate-x-0 flex items-center justify-center",icon:["absolute shrink-0 group-data-[state=unchecked]:text-dimmed opacity-0 size-10/12","transition-[color,opacity] duration-200"],wrapper:"ms-2",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"data-[state=checked]:bg-primary focus-visible:outline-primary",icon:"group-data-[state=checked]:text-primary"},secondary:{base:"data-[state=checked]:bg-secondary focus-visible:outline-secondary",icon:"group-data-[state=checked]:text-secondary"},tertiary:{base:"data-[state=checked]:bg-tertiary focus-visible:outline-tertiary",icon:"group-data-[state=checked]:text-tertiary"},rodeodust:{base:"data-[state=checked]:bg-rodeodust focus-visible:outline-rodeodust",icon:"group-data-[state=checked]:text-rodeodust"},poison:{base:"data-[state=checked]:bg-poison focus-visible:outline-poison",icon:"group-data-[state=checked]:text-poison"},signal:{base:"data-[state=checked]:bg-signal focus-visible:outline-signal",icon:"group-data-[state=checked]:text-signal"},info:{base:"data-[state=checked]:bg-info focus-visible:outline-info",icon:"group-data-[state=checked]:text-info"},success:{base:"data-[state=checked]:bg-success focus-visible:outline-success",icon:"group-data-[state=checked]:text-success"},warning:{base:"data-[state=checked]:bg-warning focus-visible:outline-warning",icon:"group-data-[state=checked]:text-warning"},error:{base:"data-[state=checked]:bg-error focus-visible:outline-error",icon:"group-data-[state=checked]:text-error"},kalkmark:{base:"data-[state=checked]:bg-kalkmark focus-visible:outline-kalkmark",icon:"group-data-[state=checked]:text-kalkmark"},vanligmark:{base:"data-[state=checked]:bg-vanligmark focus-visible:outline-vanligmark",icon:"group-data-[state=checked]:text-vanligmark"},time:{base:"data-[state=checked]:bg-time focus-visible:outline-time",icon:"group-data-[state=checked]:text-time"},chetwood:{base:"data-[state=checked]:bg-chetwood focus-visible:outline-chetwood",icon:"group-data-[state=checked]:text-chetwood"},duststorm:{base:"data-[state=checked]:bg-duststorm focus-visible:outline-duststorm",icon:"group-data-[state=checked]:text-duststorm"},neutral2:{base:"data-[state=checked]:bg-neutral2 focus-visible:outline-neutral2",icon:"group-data-[state=checked]:text-neutral2"},neutral:{base:"data-[state=checked]:bg-inverted focus-visible:outline-inverted",icon:"group-data-[state=checked]:text-highlighted"}},size:{xs:{base:"w-7",container:"h-4",thumb:"size-3 data-[state=checked]:translate-x-3 data-[state=checked]:rtl:-translate-x-3",wrapper:"text-xs"},sm:{base:"w-8",container:"h-4",thumb:"size-3.5 data-[state=checked]:translate-x-3.5 data-[state=checked]:rtl:-translate-x-3.5",wrapper:"text-xs"},md:{base:"w-9",container:"h-5",thumb:"size-4 data-[state=checked]:translate-x-4 data-[state=checked]:rtl:-translate-x-4",wrapper:"text-sm"},lg:{base:"w-10",container:"h-5",thumb:"size-4.5 data-[state=checked]:translate-x-4.5 data-[state=checked]:rtl:-translate-x-4.5",wrapper:"text-sm"},xl:{base:"w-11",container:"h-6",thumb:"size-5 data-[state=checked]:translate-x-5 data-[state=checked]:rtl:-translate-x-5",wrapper:"text-base"}},checked:{true:{icon:"group-data-[state=checked]:opacity-100"}},unchecked:{true:{icon:"group-data-[state=unchecked]:opacity-100"}},loading:{true:{icon:"animate-spin"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75",description:"cursor-not-allowed opacity-75"}}},defaultVariants:{color:"primary",size:"md"}},Tc=Object.assign({inheritAttrs:!1},{__name:"USwitch",props:vs({as:{type:null,required:!1},color:{type:null,required:!1},size:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1},checkedIcon:{type:[String,Object],required:!1},uncheckedIcon:{type:[String,Object],required:!1},label:{type:String,required:!1},description:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},value:{type:String,required:!1},defaultValue:{type:Boolean,required:!1}},{modelValue:{type:Boolean,default:void 0},modelModifiers:{}}),emits:vs(["change"],["update:modelValue"]),setup(e,{emit:t}){const a=e,r=Gl(),l=t,i=Yl(e,"modelValue",{type:Boolean,default:void 0}),u=Xl(),o=Kl(Zl(a,"required","value","defaultValue")),{id:c,emitFormChange:T,emitFormInput:p,size:h,color:A,name:L,disabled:$,ariaAttrs:R}=Jl(a),j=c.value??Ql(),C=g(()=>fs({extend:fs(Sc),...u.ui?.switch||{}})({size:h.value,color:A.value,required:a.required,loading:a.loading,disabled:$.value||a.loading}));function I(z){const H=new Event("change",{target:{value:z}});l("change",H),T(),p()}return(z,H)=>(b(),N(D(Dn),{as:e.as,class:xe(C.value.root({class:[a.ui?.root,a.class]}))},{default:U(()=>[f("div",{class:xe(C.value.container({class:a.ui?.container}))},[O(D(ji),Bs({id:D(j)},{...D(o),...z.$attrs,...D(R)},{modelValue:i.value,"onUpdate:modelValue":[H[0]||(H[0]=Q=>i.value=Q),I],name:D(L),disabled:D($)||e.loading,class:C.value.base({class:a.ui?.base})}),{default:U(()=>[O(D(Ri),{class:xe(C.value.thumb({class:a.ui?.thumb}))},{default:U(()=>[e.loading?(b(),N(Ha,{key:0,name:e.loadingIcon||D(u).ui.icons.loading,class:xe(C.value.icon({class:a.ui?.icon,checked:!0,unchecked:!0}))},null,8,["name","class"])):(b(),B(Me,{key:1},[e.checkedIcon?(b(),N(Ha,{key:0,name:e.checkedIcon,class:xe(C.value.icon({class:a.ui?.icon,checked:!0}))},null,8,["name","class"])):F("",!0),e.uncheckedIcon?(b(),N(Ha,{key:1,name:e.uncheckedIcon,class:xe(C.value.icon({class:a.ui?.icon,unchecked:!0}))},null,8,["name","class"])):F("",!0)],64))]),_:1},8,["class"])]),_:1},16,["id","modelValue","name","disabled","class"])],2),e.label||r.label||e.description||r.description?(b(),B("div",{key:0,class:xe(C.value.wrapper({class:a.ui?.wrapper}))},[e.label||r.label?(b(),N(D(di),{key:0,for:D(j),class:xe(C.value.label({class:a.ui?.label}))},{default:U(()=>[Ht(z.$slots,"label",{label:e.label},()=>[oa(Z(e.label),1)])]),_:3},8,["for","class"])):F("",!0),e.description||r.description?(b(),B("p",{key:1,class:xe(C.value.description({class:a.ui?.description}))},[Ht(z.$slots,"description",{description:e.description},()=>[oa(Z(e.description),1)])],2)):F("",!0)],2)):F("",!0)]),_:3},8,["as","class"]))}}),Ac={class:"absolute inset-0",style:{"z-index":"0"}},Cc={class:"flex h-full relative"},Lc={class:"absolute text-end right-3 top-2"},Vc={class:"absolute top-2 left-3"},Oc={key:1,class:"flex w-full h-full gap-1"},Mc={class:"w-1/2 h-full"},Fc={class:"w-1/2 h-full"},Bc={__name:"CustomImageComparisonSlider",props:{frameworkLabel:{type:String,default:""},timeLabel:{type:String,default:""},frameworkLabel2:{type:String,default:""},timeLabel2:{type:String,default:""},layoutMode:{type:String,default:"slider"}},setup(e,{expose:t}){jn("(max-width: 767px)");const a=e,r=V(a.layoutMode);J(()=>a.layoutMode,L=>{(L==="slider"||L==="side-by-side"||L==="sideBySide")&&(r.value=L)});const l=V(null),i=V(.5);let u=!1;function o(L){if(!l.value)return;const $=l.value.getBoundingClientRect();let j=((L.touches?L.touches[0].clientX:L.clientX)-$.left)/$.width;j=Math.max(0,Math.min(j,1)),i.value=j}function c(L){r.value==="slider"&&(u=!0,o(L),window.addEventListener("mousemove",T),window.addEventListener("mouseup",p),window.addEventListener("touchmove",T),window.addEventListener("touchend",p))}function T(L){u&&o(L)}function p(){u=!1,window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",p),window.removeEventListener("touchmove",T),window.removeEventListener("touchend",p)}function h(){r.value=r.value==="slider"?"sideBySide":"slider"}function A(L){(L==="slider"||L==="sideBySide")&&(r.value=L)}return t({toggleLayoutMode:h,setLayoutMode:A}),_t(()=>{i.value=.5}),(L,$)=>{const R=$s;return r.value==="slider"?(b(),B("div",{key:0,ref_key:"container",ref:l,class:"relative w-full h-full overflow-hidden select-none"},[f("div",Ac,[Ht(L.$slots,"second")]),f("div",{class:"absolute inset-0 overflow-hidden",style:_r({clipPath:"inset(0 calc(100% - "+i.value*100+"%) 0 0)",zIndex:10})},[Ht(L.$slots,"first")],4),f("div",{class:"absolute top-0 flex items-center justify-center h-full w-10 cursor-ew-resize",style:_r({left:i.value*100+"%",transform:"translateX(-50%)",zIndex:20}),onMousedown:c,onTouchstart:c},[f("div",Cc,[f("div",Lc,[O(R,{size:"lg",class:"backdrop-blur-xl bg-neutral-950/50 text-neutral-100 h-fit whitespace-nowrap"},{default:U(()=>[oa(Z(e.timeLabel),1)]),_:1})]),$[0]||($[0]=f("div",{class:"h-full w-1.5 bg-neutral-100/90 backdrop-blur-md inset-shadow-sm inset-shadow-neutral-400"},null,-1)),f("div",Vc,[O(R,{size:"lg",class:"backdrop-blur-xl bg-neutral-950/50 text-neutral-100 h-fit whitespace-nowrap"},{default:U(()=>[oa(Z(e.timeLabel2),1)]),_:1})])])],36)],512)):r.value==="sideBySide"?(b(),B("div",Oc,[f("div",Mc,[Ht(L.$slots,"first")]),f("div",Fc,[Ht(L.$slots,"second")])])):F("",!0)}}},zc=En("onboardingStore",{state:()=>({selectedStartskog:0,selectedFramework:1})}),Dc=[{id:"manga_arter_pa_trad",title:"Mnga arter p ett trd",text:"P rtterna av ldre trd kan det finnas mycel av 50-100 olika arter mykorrhizasvampar.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["fre"],placement:"LEFT"},{framework:["trakthygge"],times:["fre"],placement:"LEFT"},{framework:["bldning"],times:["frr"],placement:"LEFT"},{framework:["skrmtrd"],times:["fre"],placement:"LEFT"},{framework:["luckhuggning"],times:["fre"],placement:"LEFT"}]},{id:"mykorrhiza_dar_det_finns_rotter",title:"Mykorrhiza dr det finns rtter",text:"Mykorrhizasvamparnas mycel finns lika djupt ner i marken som rtter nr, och s lngt trds rtter breder ut sig, 10-15 meter frn stammen. Men det r rikligast med mykorrhiza nrmast trdet och i de versta 10 cm av skogsmarken.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["fre"],placement:"LEFT"},{framework:["trakthygge"],times:["fre"],placement:"LEFT"},{framework:["bldning"],times:["frr"],placement:"LEFT"},{framework:["skrmtrd"],times:["fre"],placement:"LEFT"},{framework:["luckhuggning"],times:["fre"],placement:"LEFT"}]},{id:"matsvampsmycel_kort_tid",title:"Matsvamp efter avverkning",text:"Nstan alla matsvampar r mykorrhizasvampar och frsvinner efter avverkning. De verlever om dess mycel vxer med hnsynstrd som lmnats eller nra en skogskant. Annars behver de teretableras i ungskog frn sporer som sprids in frn nraliggande skogar.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["trakthygge"],times:["efter"],placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],placement:"LEFT"}]},{id:"matsvampsmycel_i_aldrre_skog",title:"Mer matsvamp i ldre skog",text:"Mngden matsvampar r strre i ldre skog eftersom strre trd har hgre fotosyntes och kan skicka ner mer socker till sina rtter.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-light-circle",color:"neutral-300",positions:[{framework:["naturskydd"],times:["fre","efter","10","20","50","80"],placement:"LEFT"},{framework:["trakthygge"],times:["fre","50","80"],placement:"LEFT"},{framework:["bldning"],times:["fre","efter","10","20","50","80"],placement:"LEFT"},{framework:["skrmtrd"],times:["fre","50","80"],placement:"LEFT"},{framework:["luckhuggning"],times:["fre","50","80"],placement:"LEFT"}]},{id:"mycel_av_rodlistade_svampar",title:"Rdlistade svampar",text:"Rdlistade mykorrhizasvampar har ofta speciella miljkrav, och frekommer frmst i ldre skog. Generellt kan mycel av mykorrhizasvampar leva vidare p en plast s lnge det finns levande trd. Svampindividers mycel kan bli mnga decennier till potentiellt sekler gamla.",thumbnail:"/images/Skogsbruk.png",icon:"i-material-symbols-award-star-outline",color:"signal-500",positions:[{framework:["naturskydd"],times:["fre","efter","10","20","50","80"],placement:"LEFT"},{framework:["trakthygge"],times:["fre"],placement:"LEFT"},{framework:["bldning"],times:["fre"],placement:"LEFT"},{framework:["skrmtrd"],times:["fre"],placement:"LEFT"},{framework:["luckhuggning"],times:["fre"],placement:"LEFT"}]},{id:"hogstubbe",title:"Hgstubbe",text:"Hr finns inga levande mykorrhizamycel. Trdets rtter r dda.",thumbnail:"/images/Skogsbruk.png",icon:"i-fluent-emoji-high-contrast-wood",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter"],x:.51,y:.26,placement:"LEFT"},{framework:["trakthygge"],times:["efter"],x:.621,y:.3,placement:"LEFT"}]},{id:"stubbe",title:"Stubbe",text:"Trdets fotosyntes och flde av energi till sina rtter har upphrt. Efter avverkning tynar mykorrhizasvamparna bort och dr efter ett par mnader - ett r.",thumbnail:"/images/Skogsbruk.png",icon:"i-fluent-emoji-high-contrast-wood",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter"],x:.422,y:.185,placement:"LEFT"},{framework:["trakthygge"],times:["efter"],x:.573,y:.32,placement:"LEFT"}]},{id:"hansynstrad",title:"Hnsynstrd",text:"De flesta mykorrhizasvamparna som vxte med trdets rtter i skogen fre avverkningen finns kvar och lever vidare. Dessa mycel kan vxa in i och spridas till uppvxande trdplantor.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-tree-circle",color:"neutral-500",positions:[{framework:["luckhuggning"],times:["efter","20","50","80"],x:.335,y:.38,placement:"LEFT"},{framework:["trakthygge"],times:["efter","20","50","80"],x:.4502,y:.2228,placement:"LEFT"},{framework:["skrmtrd"],times:["20","50","80"],x:.469,y:.2577,placement:"LEFT"}]},{id:"grupp_av_hansynstrad",title:"Grupp av hnsynstrd",text:"De flesta mykorrhizasvampar som vxte i denna trdgrupps rtter fre avverkningen finns kvar och lever vidare. Fanns det mat- och naturvrdssvampar, kan de fortleva.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-tree-circle",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter","20","50","80"],x:.3736,y:.2832,placement:"LEFT"}]},{id:"sjalforyngrade_sma_tradplantor",title:"Sjlvfryngrade trdplantor",text:"Sm mycel av mykorrhizasvampar vxer i plantornas rtter. Om de vxer nra hnsynstrd kan mycel vuxint in frn dessas rtter. Annars etableras mycel frn svampsporer som sprid in frn nraliggande skogar. Vissa svamparter har ocks en sporbank i marken.",thumbnail:"/images/Skogsbruk.png",icon:"i-hugeicons-plant-03",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.4344,y:.1971,placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],x:.4344,y:.1971,placement:"LEFT"}]},{id:"planterade_sma_tradplantor",title:"Planterade sm trdplantor",text:"Har med sig spontant etablerad mykorrhiza frn plantskolan dr de odlades upp. Det r dock f arter. Dessa erstts succesivt med bttre anpassade och svamparter som finns p platsen.",thumbnail:"/images/Skogsbruk.png",icon:"i-hugeicons-plant-02",color:"neutral-500",positions:[{framework:["trakthygge"],times:["20"],x:.45,y:.32,placement:"LEFT"}]},{id:"yngre_trad_vid_avverkningen",title:"Yngre trd som lmnats",text:"Undviks underrjning fre avverkning, kommer mykorrhizasvampar att verleva p dessa plantor och trd p samma stt som de gr p rtterna av hnsynstrd.",thumbnail:"/images/Skogsbruk.png",icon:"i-pepicons-pop-seedling-circle",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.33,y:.37,placement:"LEFT"}]},{id:"tradkant_mot_avverkning",title:"Trdkant mot avverkning",text:"Mykorrhizasvampars mycel vxer med i skogskantstrdens rtter s lngt de strcker sig in p avverkningen. Mest nrmast skogskanten, men nr 1015 meter in p hygget.",thumbnail:"/images/Skogsbruk.png",icon:"i-healthicons-square-medium-negative",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter","20"],x:.46,y:.409,placement:"LEFT"},{framework:["luckhuggning"],times:["efter","20"],x:.64,y:.352,placement:"LEFT"},{framework:["luckhuggning"],times:["50"],x:.511,y:.3245,placement:"LEFT"},{framework:["luckhuggning"],times:["80"],x:.3278,y:.2383,placement:"LEFT"}]},{id:"tomma_omraden_avverkning",title:"Tomma omrden ",text:"Vid omrden utan nra trd och smplantor direkt efter avverkning finns inte mykorrhizasvampar. I mark dr det saknas trdrtter finns inte mykorrhizasvampar. Ngra, men f mykorrhizasvampar har en sporbank.",thumbnail:"/images/Skogsbruk.png",icon:"i-heroicons-map-pin-solid",iconOutline:"i-heroicons-outline-map-pin",color:"neutral-500",positions:[{framework:["trakthygge"],times:["efter"],x:.6095,y:.2081,placement:"LEFT"},{framework:["luckhuggning"],times:["efter"],x:.485,y:.292,placement:"LEFT"}]}],$c={annotations:Dc},jc=En("selectedAnnotation",{state:()=>({selectedAnnotation:null}),actions:{setSelectedAnnotation(e){this.selectedAnnotation=e},clearSelectedAnnotation(){this.selectedAnnotation=null}}}),Ec=En("overlay",{state:()=>({staticOverlayVisible:!1}),actions:{toggleStaticOverlay(){this.staticOverlayVisible=!this.staticOverlayVisible},setStaticOverlayVisible(e){this.staticOverlayVisible=e}}}),zn={retention:{slug:"retention-trees",fields:{framework:"framework",startskog:"startskog",time:"time"}},seedTree:{slug:"seed-trees",fields:{framework:"framework",startskog:"startskog",time:"time"}},smaplantor:{slug:"smaplantor",fields:{framework:"framework",startskog:"startskog",time:"time"}},hogstubbar:{slug:"hogstubbar",fields:{framework:"framework",startskog:"startskog",time:"time"}},naturvardsarter:{slug:"naturvard",fields:{framework:"framework",startskog:"startskog",time:"time"}},kanteffekt:{slug:"kanteffekt",fields:{framework:"framework",startskog:null,time:"start"}}},vn=Object.keys(zn);function Wa(e){return e?e.replace(/_+$/g,""):e??null}function fn(e,t,a=!0){if(!t)return!1;if(e==null)return!0;const r=Wa(t);return Array.isArray(e)?a&&e.includes("alla")||e.some(l=>Wa(String(l))===r):typeof e=="string"?a&&e==="alla"?!0:Wa(e)===r:!1}function Vs(e,t,a,r={}){const{ignoreStartskog:l=!1}=r,{fields:i}=a;return e.filter(u=>{if(!u)return!1;if(i.framework){const o=u[i.framework];if(!fn(o,t.framework,!1))return!1}if(i.startskog&&!l&&t.startskog){const o=u[i.startskog];if(!fn(o,t.startskog,!0))return!1}if(i.time){const o=u[i.time];if(!fn(o,t.time,!0))return!1}return!0})}function Rc(e,t,a){if(!Array.isArray(e)||e.length===0)return[];if(!t?.framework||!t?.time)return e;const r={framework:Wa(t.framework),startskog:Wa(t.startskog),time:t.time};if(a.slug==="retention-trees"){const u=r.framework,o=r.time;return!u||u==="naturskydd"?[]:!o||o==="innan"?[]:(Array.isArray(e)?e:[]).map(T=>({...T,framework:"alla",startskog:"alla",time:"alla"}))}let i=Vs(e,r,a);return i.length===0&&a.fields.startskog&&r.startskog&&(i=Vs(e,r,a,{ignoreStartskog:!0})),i}const Nc=["innan","efter","10 r","20 r","50 r","80 r"],Ic={retention:!0,kanteffekt:!0,rottacke:!0,seedTree:!0,smaplantor:!0,hogstubbar:!0,naturvardsarter:!0,tradplantor:!0};function Uc(e){const t=e.framework,a=e.time;if(!t||!a)return!0;const r=t==="skrmtrd"||t==="skarmtrad",l=t==="bldning"||t==="bladning",i=r&&a==="efter",u=l&&["efter","20 r","50 r","80 r"].includes(a);return i||u}function Pc(e){const t=e.framework,a=e.time;return!t||!a?!0:t==="trakthygge"&&a==="20 r"}async function ga(e){try{return await $fetch(e)}catch{return null}}function Hc(e){switch(e){case"bldning":return["bldning","bladning"];case"skrmtrd":return["skrmtrd","skarmtrad"];default:return[e]}}function qc(e){if(!e||typeof e!="object")return[];const t=Array.isArray(e.points)?e.points:[],a=new Map;t.length&&t.forEach(A=>{A?.id!=null&&a.set(A.id,A)});const r=e.startskogSets??null,l=e.markers??{},i=e.defaults??{},u=e.frameworks??{},o=Array.isArray(e.timelineOrder)?[...e.timelineOrder]:[...Nc],c=new Set(o);Object.values(u).forEach(A=>{!A||typeof A!="object"||Object.values(A).forEach(L=>{Array.isArray(L)&&L.forEach($=>{const R=$?.time;R&&!c.has(R)&&(c.add(R),o.push(R))})})});const T=o,p=new Map;t.length&&r&&typeof r=="object"?Object.entries(r).forEach(([A,L])=>{const $=new Map;Array.isArray(L)&&L.forEach(R=>{const j=a.get(R);j&&$.set(R,j)}),p.set(A,$)}):Object.entries(l).forEach(([A,L])=>{const $=new Map;Array.isArray(L)&&L.forEach(R=>{R?.id!=null&&$.set(R.id,R)}),p.set(A,$)});const h=[];return Object.entries(u).forEach(([A,L])=>{const $=Hc(A),R=L??{};p.forEach((j,C)=>{if(!j||j.size===0)return;const I=Array.from(j.keys()),z=Array.isArray(i[C])?i[C]:I;let H=new Set(z),Q=new Set;const ne=Array.isArray(R[C])?R[C]:[],ge=new Map;ne.forEach(X=>{X?.time&&ge.set(X.time,X)}),T.forEach(X=>{let q=new Set(H);const ve=ge.get(X);ve&&(ve.set&&(ve.set==="base"?q=new Set(z):ve.set==="all"?q=new Set(I):Array.isArray(ve.set)&&(q=new Set(ve.set))),Array.isArray(ve.remove)&&ve.remove.forEach(oe=>{q.delete(oe),Q.add(oe)}),Array.isArray(ve.add)&&ve.add.forEach(oe=>{q.add(oe),Q.delete(oe)})),H.forEach(oe=>{q.has(oe)||Q.add(oe)}),q.forEach(oe=>{Q.has(oe)&&Q.delete(oe)}),$.forEach(oe=>{q.forEach(de=>{const re=j.get(de)||a.get(de);re&&h.push({id:re.id,x:re.x,y:re.y,framework:oe,startskog:C,time:X,removed:!1})}),Q.forEach(de=>{const re=j.get(de)||a.get(de);re&&h.push({id:re.id,x:re.x,y:re.y,framework:oe,startskog:C,time:X,removed:!0})})}),H=new Set(q)})})}),h}function Wc(e){return e?Array.isArray(e.mycelium)?e.mycelium:e.markers&&e.frameworks||e.points&&e.startskogSets&&e.frameworks?qc(e):[]:[]}async function Gc(){const e=["/smplantor.json","/smaplantor.json"];for(const t of e){const a=await ga(t);if(a)return a}return null}function Yc(){const{data:e,pending:t}=ba("overlay-datasets-json",async()=>{const[o,c,T,p,h,A]=await Promise.all([ga("/retentionTrees.json"),ga("/api/seedTrees"),Gc(),ga("/hogstubbar.json"),ga("/naturvard.json"),ga("/api/kanteffekt")]);return{"retention-trees":Array.isArray(o?.trees)?o.trees:[],"seed-trees":Array.isArray(c?.trees)?c.trees:[],smaplantor:Array.isArray(T?.trees)?T.trees:Array.isArray(T)?T:[],hogstubbar:Array.isArray(p?.stubbar)?p.stubbar:[],naturvard:Wc(h),kanteffekt:Array.isArray(A?.features)?A.features:[]}}),a={};vn.forEach(o=>{const c=zn[o].slug;a[o]={data:g(()=>e.value?.[c]??[]),pending:g(()=>t.value)}});const r=(o,c)=>Rc(a[o].data.value,c,zn[o]),l=o=>{const c={};return vn.forEach(T=>{c[T]=r(T,o)}),c},i=o=>{if(!o?.framework||!o?.time||!o?.startskog)return{...Ic};const c=l(o);return{retention:a.retention.pending.value||c.retention.length>0,kanteffekt:a.kanteffekt.pending.value||c.kanteffekt.length>0,rottacke:Uc(o),seedTree:a.seedTree.pending.value||c.seedTree.length>0,smaplantor:a.smaplantor.pending.value||c.smaplantor.length>0,hogstubbar:a.hogstubbar.pending.value||c.hogstubbar.length>0,naturvardsarter:a.naturvardsarter.pending.value||c.naturvardsarter.length>0,tradplantor:Pc(o)}},u=g(()=>t.value||vn.some(o=>a[o].pending.value));return{datasets:a,filterDataset:r,filterAll:l,availabilityFor:i,pendingAny:u}}const sa=ka({open:!1,key:null,anchor:null});function Xc(e){if(e instanceof HTMLElement){const t=e.getBoundingClientRect();return{x:t.left,y:t.top,width:t.width,height:t.height}}return e}function Kc(){function e(a,r){const l=Xc(r);sa.key=a,sa.anchor=l,sa.open=!0}function t(){sa.open=!1,sa.key=null,sa.anchor=null}return{...Ms(sa),show:e,hide:t}}const Zc={class:"relative flex flex-col w-full h-dvh"},Jc={class:"space-y-0.5 p-3"},Qc={class:"grid grid-cols-2 gap-2"},ed={class:"flex flex-col text-center items-center w-full space-y-1"},td={class:"flex flex-col text-center items-center w-full space-y-1"},ad={class:"p-3 flex flex-col gap-3"},rd={class:"flex items-center justify-between gap-3"},nd={class:"flex flex-wrap gap-1"},sd={class:"w-full sm:flex items-center justify-center border-muted sm:p-1"},ld={class:"flex w-full sm:w-fit h-fit justify-center p-0 pb-0 sm:pb-0 items-center"},id={key:0,class:"absolute top-3 right-3"},od={class:"flex justify-center sm:p-1 border-b border-muted"},ud={class:"absolute top-3 left-3 flex flex-col gap-1 pointer-events-auto"},cd={class:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-50 p-4 sm:p-0 space-y-2 sm:space-y-0 pointer-events-none sm:flex gap-2 items-center"},dd={class:"relative"},vd={key:0,class:""},fd={class:"space-y-2"},md=["innerHTML"],pd={class:"space-y-2"},hd=["innerHTML"],gd={key:1,class:"text-sm text-neutral-400"},bd={key:1,class:"sm:hidden"},kd={class:"flex items-center justify-between gap-3"},yd={class:"text-sm font-medium text-neutral-700"},xd={key:0},_d={class:"space-y-2"},wd=["innerHTML"],Sd={class:"space-y-2"},Td=["innerHTML"],Ad={key:1,class:"text-sm text-neutral-400"},Cd={class:"flex items-start justify-between gap-3"},Ld={class:"flex items-start gap-2"},Vd={class:"text-base font-semibold text-neutral-800"},Od={class:"flex gap-1"},Md={class:"text-sm text-neutral-600 leading-relaxed"},Fd={class:"flex sm:justify-center items-center overflow-x-scroll md:overflow-hidden my-1 sm:my-0 gap-4 px-3"},Bd={class:"flex items-center gap-2"},zd={key:0},Dd={class:"p-1 flex flex-col gap-1"},$d={class:"ui-zoom-reapply relative flex flex-col flex-1 w-full"},jd={class:"flex flex-1"},Ed={class:"absolute top-3 left-3 z-50"},Rd={key:0,class:"space-y-1.5 sm:p-4 p-2 pt-3 max-w-sm z-50 absolute top-0 right-0 transform-all text-end pointer-events-none"},Nd={class:"flex items-center gap-1"},Id={class:"p-3 space-y-2"},Ud={class:"flex w-full justify-between"},Pd={class:"flex items-start gap-2"},Hd={class:"text-sm font-semibold text-neutral-800"},qd={key:0,class:"text-sm text-neutral-600 leading-relaxed"},Wd={key:1,class:"text-xs text-neutral-400"},Gd={key:0,class:"absolute p-2 w-full"},Yd={class:"flex justify-between p-2 items-center mb-2"},Xd={class:"flex items-center justify-between gap-2"},Kd={class:"flex items-center gap-1"},Zd={class:"min-w-[3ch] text-sm text-neutral-700 dark:text-neutral-200 text-center"},Jd={key:0,class:"space-y-2 w-full"},Qd={class:"flex flex-col"},ev={class:"text-md font-medium"},tv={key:0,class:"text-sm text-neutral-500"},av={class:"flex flex-col"},rv={class:"text-md font-medium"},nv={key:0,class:"text-sm text-neutral-500"},sv={class:"flex flex-col"},lv={class:"text-md font-medium"},iv={key:0,class:"text-sm text-neutral-500"},ov={class:"w-full mt-1 relative"},uv={class:""},cv={class:"space-y-2"},dv={class:"relative flex-1"},vv={key:0,class:"w-full h-full"},fv={key:0,class:"absolute inset-y-0 right-0 w-68 bg-white dark:bg-neutral-950/70 backdrop-blur-2xl overflow-auto z-10 pointer-events-auto border-neutral-300 dark:border-neutral-700 border-l"},mv={class:"px-4 py-2"},pv={class:"text-lg font-semibold text-neutral-800 dark:text-neutral-200"},hv={class:"text-neutral-400"},gv={key:1,class:xe(["absolute max-h-screen z-50 top-0 w-sm left-0 overflow-auto transition-all shadow-2xl border-r bg-white border-neutral-100/10 rounded-br-sm duration-300 ease-in-out backdrop-blur-2xl hide-scrollbar"])},bv={class:"p-4"},kv={key:0},yv={class:"text-xl font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},xv={class:"p-2 flex flex-col gap-2"},_v=["onClick"],wv={class:"font-medium"},Sv={class:"text-sm text-neutral-300"},Tv={class:"flex justify-between"},Av={class:"text-md text-neutral-200"},Cv={key:0,class:"my-4"},Lv=["innerHTML"],Vv=["innerHTML"],Ov={key:1,class:"my-4 text-neutral-300 text-sm"},Mv={key:1,class:"space-y-2"},Fv={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},Bv={class:"p-2 flex flex-col gap-2"},zv=["onClick"],Dv={class:"font-medium"},$v={class:"text-sm text-neutral-300"},jv={class:"flex justify-between"},Ev={key:0,class:"my-4"},Rv=["innerHTML"],Nv=["innerHTML"],Iv={class:"flex justify-between"},Uv={class:"text-md text-neutral-200"},Pv={key:0,class:"my-4"},Hv=["innerHTML"],qv=["innerHTML"],Wv={key:2,class:"space-y-2"},Gv={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},Yv={class:"p-2 flex flex-col gap-2"},Xv=["onClick"],Kv={class:"font-medium"},Zv={class:"text-sm text-neutral-300"},Jv={class:"flex justify-between"},Qv={class:"text-md text-neutral-200"},ef={key:0,class:"my-4"},tf=["innerHTML"],af=["innerHTML"],rf={class:"text-2xl text-white font-medium mb-1 hover:bg-neutral-500/20 w-fit p-2 px-3 -m-3 rounded-sm overflow-hidden cursor-pointer"},nf={class:"p-2 flex flex-col gap-2"},sf=["onClick"],lf={class:"font-medium"},of={class:"text-sm text-neutral-300"},uf={class:"flex justify-between"},cf={class:"text-md text-neutral-200"},df={key:0,class:"my-4"},vf=["innerHTML"],ff=["innerHTML"],mf={class:"grid grid-cols-2 gap-4"},pf={class:"w-full"},hf={class:"w-full"},mn="rodlistade",gf=220,Os="Ingen tidslinjeinformation hittades fr den hr kombinationen.",bf=ct({__name:"Model",emits:["close"],async setup(e,{emit:t}){let a,r;const l=ii(()=>ui(()=>import("./Dmuhe-Dl.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url));let i;const u=ka({}),o=Yc(),{hide:c}=Kc(),T=V(null);function p(s){if(!s)return null;if(typeof s=="string")return s;if(typeof s=="object"){if("value"in s&&typeof s.value=="string")return s.value;if("framework"in s&&typeof s.framework=="string")return s.framework;if("label"in s&&typeof s.label=="string")return s.label}return String(s??"")}const h={retention:()=>!!_e.value,kanteffekt:()=>!!ee.value,omkringSkog:()=>!!Pe.value,rottackeSkarmtrad:()=>!!Se.value,rottackeBladning:()=>!!Te.value,seedTree:()=>!!Ae.value,smaplantor:()=>!!Le.value,hogstubbar:()=>!!Fe.value,naturvardsarter:()=>!!ke.value,tradplantor:()=>!!pe.value};function A(s,n){const w=h[s];if(w&&!w())return!1;const _=p(n.framework)||"",P=typeof n.time=="string"?n.time:p(n.time);if(s==="rottackeSkarmtrad")return(_==="skrmtrd"||_==="skarmtrad")&&P==="efter";if(s==="rottackeBladning")return _==="bldning"||_==="bladning"?P==="efter"||P==="20 r"||P==="50 r"||P==="80 r":!1;if(s==="omkringSkog")try{const ie=o.availabilityFor({framework:_,startskog:p(n.startskog),time:P});return!!(ie&&ie.kanteffekt)}catch{return!1}try{const ie=o.availabilityFor({framework:_,startskog:p(n.startskog),time:P});return!!(ie&&ie[s])}catch{return!1}}const L=g(()=>{const s=[],n=p(G?.value??G),w=p(De?.value??De),_=ae?.value??ae,P=Ge;return fe.value?(s.push({framework:n,startskog:_?.value??_,time:"innan"}),s.push({framework:n,startskog:_?.value??_,time:P})):ce.value?(s.push({framework:n,startskog:_?.value??_,time:P}),s.push({framework:w,startskog:_?.value??_,time:P})):s.push({framework:n,startskog:_?.value??_,time:P}),s});function $(s){const n=L.value;for(const w of n)if(A(s,w))return!0;return!1}const[R,j]=ei(),C=jn("(max-width: 767px)"),I=[{label:"Text",icon:"i-heroicons-book-open",slot:"text",value:"text"},{label:"Diagram",icon:"i-carbon-chart-line-smooth",slot:"diagram",value:"diagram"}],{public:{dziBaseUrl:z="https://assets.svampskog.se/dzi_v3",dziVersionSuffix:H=""}={}}=ti(),Q=z,ne=H;function ge(s){return s?s.toString().toLowerCase().replace(//g,"a").replace(//g,"a").replace(//g,"o").replace(/[^a-z0-9_-]/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,""):""}function X({framework:s,timeLabel:n,fungiVisibility:w,treeVisibility:_,startskog:P}){const Ut=[s,n,w,_,P].map(Ce=>ge(Ce)).filter(Boolean).join("_"),Pt=ge(ne);return Pt?`${Ut}_${Pt}`:Ut}function q(s){return`${Q}/${X(s)}.dzi`}const{data:ve}=([a,r]=Ia(()=>ba("forestry-timeline-modelc",()=>Ua("forestryTimelines").first())),a=await a,r(),a),oe=g(()=>{const s=ve.value;if(!s)return[];if(Array.isArray(s)){const n=s.find(w=>w?.id==="skogsskotsel")||s[0];return Array.isArray(n?.entries)?n.entries:[]}return Array.isArray(s.entries)?s.entries:[]}),de=V(!1),re=V("beforeAfterCompare"),me=V("slider"),be=t,st=V(!1),Ie=V(!1),Ue=V(!1),_e=V(!1),ee=V(!1),Pe=V(!1),we=V(!1),ke=V(!1),Se=V(!1),Te=V(!1),Ae=V(!1),Le=V(!1),Fe=V(!1),pe=V(!1),je=V(1),lt=V(!1),S=V(!1);function it(){lt.value=!lt.value}function Qa(){S.value=!S.value}const wt=["retention","kanteffekt","omkringSkog","rottackeSkarmtrad","rottackeBladning","seedTree","smaplantor","hogstubbar","naturvardsarter","tradplantor"],ua=V([]);function jr(s,n){const w=ua.value,_=w.indexOf(s);n?(_!==-1&&w.splice(_,1),w.push(s)):_!==-1&&w.splice(_,1)}const Ca=Ec(),ca=g({get:()=>Ca.staticOverlayVisible,set:s=>Ca.setStaticOverlayVisible(s)}),Ke=V(!1),Ve=V(null);V(!1);const He=V(!1),Yt=V("skogsskole"),Ot=V(!1),qe=V(!1),Xt=V("text");function Er(){Xt.value="diagram",qe.value=!0;try{C.value||c?.()}catch{}}const La=g({get:()=>qe.value,set:s=>{qe.value=s}}),da=V(!1);g({get:()=>He.value,set:s=>{He.value=s}});function Va(s){const n=Array.isArray(ra?.value)?ra.value:[];if(!n.length)return;const w=n.map(ie=>String(ie.value)),_=String(pa.value);let P=w.indexOf(_);if(P===-1&&(P=0),s<0){for(let ie=P-1;ie>=0;ie--)if(!n[ie]?.disabled){pa.value=String(n[ie].value);return}return}else{for(let ie=P+1;ie<n.length;ie++)if(!n[ie]?.disabled){pa.value=String(n[ie].value);return}return}}function Kt(s){return(s||"").toString().trim().toLowerCase()}const Mt=g(()=>Array.isArray(ra?.value)?ra.value:Array.isArray(ra)?ra:[]),Zt=g(()=>{const n=Mt.value.map(w=>String(w.value)).indexOf(String(pa.value));return n===-1?0:n}),Ft=g(()=>{for(let s=Zt.value-1;s>=0;s--)if(!Mt.value[s]?.disabled)return Mt.value[s];return null}),dt=g(()=>{for(let s=Zt.value+1;s<Mt.value.length;s++)if(!Mt.value[s]?.disabled)return Mt.value[s];return null}),St=g(()=>!!Ft.value),Oa=g(()=>!!dt.value);function va(s){try{const n=G.value&&G.value.value,w=ae.value&&ae.value.value;return oe.value.find(P=>P.atgard===n&&P.startskog===w&&Kt(P.tid)===Kt(s))?.skog||""}catch{return""}}const Ma=g(()=>Ft.value?String(Ft.value.label??Ft.value.value):""),er=g(()=>dt.value?String(dt.value.label??dt.value.value):""),Fa=g(()=>Ft.value?dr(Number(Ft.value.value)):null),Rr=g(()=>dt.value?dr(Number(dt.value.value)):null);g(()=>va(Fa.value)),g(()=>va(Rr.value));function Nr(){Va(-1)}function Ba(){Va(1)}const Ir=[{re:/nraliggande skogar/gi,overlay:"omkringSkog"},{re:/hnsynstrd/gi,overlay:"retention"},{re:/evighetstrd/gi,overlay:"retention"},{re:/hyggeskanterna/gi,overlay:"kanteffekt"},{re:/luckorna/gi,overlay:"kanteffekt"},{re:/frtrdens rtter/gi,overlay:"seedTree"},{re:/frtrd/gi,overlay:"seedTree"},{re:/skrmtrdens rtter/gi,overlay:"rottackeSkarmtrad"},{re:/smplantor/gi,overlay:"smaplantor"},{re:/hgstubbar/gi,overlay:"hogstubbar"},{re:/rdlistade svampar/gi,overlay:"naturvardsarter"},{re:/rdlistad art/gi,overlay:"naturvardsarter"},{re:/Trdplantor/gi,overlay:"tradplantor"}];function Tt(s=""){return String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ue(s=""){let n=Tt(s);n=n.replace(/Visa\s+naturvrdsdiagram/gi,()=>'<a href="#" data-action="show-diagram">Visa naturvrdsdiagram</a>');for(const w of Ir)n=n.replace(w.re,_=>`<span class=" text-primary-500 font-medium underline cursor-pointer hover:opacity-80" data-overlay="${w.overlay}">${_}</span>`);return n}const Ur=new Set(wt),tr=s=>typeof s=="string"&&Ur.has(s);function vt(s){const n=s.target;if(!n)return;const w=n.closest("[data-action]");if(w&&w.getAttribute("data-action")==="show-diagram"){s.preventDefault(),Zr();return}const _=n.closest("[data-overlay]");if(!_)return;const P=_.getAttribute("data-overlay");tr(P)&&Ol(P)}V(!1),g(()=>[{value:"sideBySide",label:"Sida vid sida"},{value:"slider",label:"Skjutreglage"}]);const At=g(()=>Dt.map((s,n)=>({value:n,label:s.label,description:s.text}))),Jt=V(!0),Ze=V(!1),Pr=V(!1),ar=V(85);let rr=0,Hr=ar.value;function nr(s){if(!Qt)return;const w=(s.clientX-rr)/16;ar.value=Hr+w}function za(){Qt=!1,window.removeEventListener("pointermove",nr),window.removeEventListener("pointerup",za)}Wt(()=>{window.removeEventListener("pointermove",nr),window.removeEventListener("pointerup",za)});const sr=V(600);let Qt=!1,Bt=0,lr=sr.value;function ir(s){if(!Qt)return;const n=s.clientY-Bt;sr.value=lr+n}function v(){Qt=!1,window.removeEventListener("pointermove",ir),window.removeEventListener("pointerup",v)}Wt(()=>{window.removeEventListener("pointermove",ir),window.removeEventListener("pointerup",v)}),V(!1),V(!1);const m=V(!0),x=V(0),y=g(()=>{const s=G.value.value,n=aa(Re.value),w="visa",_=ot.value?"visa":"dlj",P=ae.value.value;return q({framework:s,timeLabel:n,fungiVisibility:_,treeVisibility:w,startskog:P})}),k=g(()=>{const s=G.value.value,n="fre",w="visa",_=ot.value?"visa":"dlj",P=ae.value.value;return q({framework:s,timeLabel:n,fungiVisibility:_,treeVisibility:w,startskog:P})}),M=g(()=>{const s=G.value.value,n=aa(Re.value),w="visa",_=ot.value?"visa":"dlj",P=ae.value.value;return q({framework:s,timeLabel:n,fungiVisibility:_,treeVisibility:w,startskog:P})}),W=g(()=>{const s=G.value.value,n=aa(Re.value),w="visa",_=ot.value?"visa":"dlj",P=ae.value.value;return q({framework:s,timeLabel:n,fungiVisibility:_,treeVisibility:w,startskog:P})}),Y=g(()=>{const s=De.value.value,n=aa(Re.value),w="visa",_=ot.value?"visa":"dlj",P=ae.value.value;return q({framework:s,timeLabel:n,fungiVisibility:_,treeVisibility:w,startskog:P})}),Be=jc(),K=g(()=>Be.selectedAnnotation);function Oe(s){if(Be.setSelectedAnnotation(s),s.position&&Ea.value){const n=Ea.value.getZoom();Ea.value.setZoomAndCenter(n,s.position)}}function Ee(){Be.clearSelectedAnnotation()}const se=V(null);V("line");const zt=zc();V(!1);const ot=V(!0),fe=g(()=>de.value&&re.value==="beforeAfterCompare"),ce=g(()=>de.value&&re.value==="frameworkCompare"),Qe=g({get:()=>zt.selectedFramework,set:s=>zt.selectedFramework=s}),qn=g({get:()=>zt.selectedStartskog??0,set:s=>{zt.selectedStartskog=s}}),fa=V(Qe.value),De=g(()=>Dt[fa.value]||Dt[0]);J([ce,fe],([s,n])=>{(!s||!n)&&(jl.value="framework1")}),_t(()=>{i=Bi({o:()=>La.value=!La.value,n:()=>{ke.value=!ke.value}})}),zs(()=>{typeof i=="function"&&i(),mt&&(clearTimeout(mt),mt=null),ta=!1,ea=!0});const Ll=s=>{const n=qr.findIndex(w=>w.value===s.value);n!==-1&&(qn.value=n),da.value=!1},Dt=[{id:0,label:"Ingen tgrd",value:"naturskydd",text:"Orrd skog",icon:"pepicons-pop:tree-circle",iconColor:"text-green-500"},{id:1,label:"Trakthygge",value:"trakthygge",text:"Kalavverkning med hnsyn",icon:"material-symbols:resize",iconColor:"text-violet-500"},{id:2,label:"Luckhuggning",value:"luckhuggning",text:"Mindre ytor kalavverkas",icon:"pixelarticons:chess",iconColor:"text-sky-500"},{id:3,label:"verhllen skrm",value:"skrmtrd",text:"Avverkning i tre steg under 20 r",icon:"catppuccin:redwood",iconColor:"text-orange-500"},{id:4,label:"Bldning",value:"bldning",text:"Enstaka trd gallras",icon:"lineicons:trees",iconColor:"text-teal-500"}],qr=[{label:"Inte kalavverkad",value:"naturskog"},{label:"Kalavverkad",value:"produktionsskog_"}],G=g(()=>Dt[Qe.value!==void 0?Qe.value:0]),ae=g(()=>qr[qn.value]),ft=g(()=>G.value?.value),Wr=g(()=>ae.value?.value??null),$t=g(()=>ft.value==="trakthygge"),jt=g(()=>ft.value==="luckhuggning"),or=g(()=>ft.value==="bldning"||ft.value==="bladning"),ut=g(()=>ft.value==="skrmtrd"||ft.value==="skarmtrad"),Gr={retention:{title:"Hnsynstrd",description:"De flesta mykorrhizasvamparna som vxte med trdens rtter fre avverkningen finns kvar och lever vidare. Mycel kan vxa in i och spridas till uppvxande trdplantor.",condition:()=>_e.value&&ft.value!=="naturskydd",close:()=>{_e.value=!1}},kanteffekt:{title:"Kanteffekt",description:"Mykorrhizasvamp p trdens rtter i skogskanten kan strcka sig 1015 meter in p hygget; starkast nrmast kanten.",condition:()=>ee.value&&($t.value||jt.value||ut.value),close:()=>{ee.value=!1}},omkringSkog:{title:"Nraliggande skog",description:"Vanliga arter sprids in med sporer frn nrheten. Sporer sprids bara korta strckor med vinden. Ovanliga arter har svrt att komma tillbaka eftersom de r ovanliga. ",condition:()=>Pe.value&&($t.value||jt.value||ut.value),close:()=>{Pe.value=!1}},rottackeSkarmtrad:{title:"Rottcke skrmtrd",description:"Kontinuerligt rottcke kopplat till verhllen skrm (1 r efter).",condition:()=>Se.value&&ut.value,close:()=>{Se.value=!1}},rottackeBladning:{title:"Rottcke bldning",description:"Kontinuerligt rottcke kopplat till bldning (efter, 20, 50, 80 r).",condition:()=>Te.value&&or.value,close:()=>{Te.value=!1}},seedTree:{title:"Frtrd",description:"Mycel fortstter leva p frtrdens rtter och kan koppla till nya plantor.",condition:()=>Ae.value&&ut.value,close:()=>{Ae.value=!1}},smaplantor:{title:"Yngre trd och plantor som lmnats",description:"Undviks underrjning fre avverkning, kommer mykorrhizasvampar att verleva p dessa plantor och trd p samma stt som de gr p rtterna av hnsynstrd.",condition:()=>Le.value,close:()=>{Le.value=!1}},hogstubbar:{title:"Hgstubbar",description:"Hr finns inga levande mykorrhizamycel. Trdets rtter r dda.",condition:()=>Fe.value,close:()=>{Fe.value=!1}},naturvardsarter:{title:"Naturvrdsarter",description:"Naturvrdsarter har ofta speciella miljkrav, och frekommer frmst i ldre skog. Generellt kan mycel av mykorrhizasvampar leva vidare p en plats s lnge det finns levande trd. Svampindividers mycel kan likt trd bli mnga decennier till potentiellt sekler gamla.",condition:()=>ke.value&&($t.value||jt.value||or.value||ut.value),close:()=>{ke.value=!1}},tradplantor:{title:"Planterade sm trdplantor",description:"Har med sig spontant etablerad mykorrhiza frn plantskolan dr de odlades upp. Det r dock f arter. Dessa erstts succesivt med bttre anpassade och svamparter som finns p platsen.",condition:()=>pe.value&&$t.value,close:()=>{pe.value=!1}}},Yr={staticOverlay:"i-material-symbols-light-rectangle-outline",retention:"i-pepicons-pop-tree-circle",kanteffekt:"i-healthicons-square-medium-negative",omkringSkog:"fluent-weather-duststorm-48-regular",rottackeSkarmtrad:"i-fluent-emoji-high-contrast-blue-square",rottackeBladning:"i-fluent-emoji-high-contrast-blue-square",seedTree:"i-teenyicons-redwoodjs-outline",smaplantor:"i-pepicons-pop-seedling-circle",hogstubbar:"i-roentgen-wood",naturvardsarter:"i-material-symbols-award-star-outline",tradplantor:"i-hugeicons-plant-02"},Wn=g(()=>{const s={staticOverlay:{title:"Bestndsgrns",description:"Visar grnsen fr den berrda skogen"}};return wt.forEach(n=>{const w=Gr[n];s[n]={title:w.title,description:w.description}}),s});function ur(s){const n=Wn.value[s]??{title:s,description:""},w=Yr[s];return{title:n.title,description:n.description,icon:w}}const Xe=ka({staticOverlay:!1,retention:!1,kanteffekt:!1,omkringSkog:!1,rottackeSkarmtrad:!1,rottackeBladning:!1,seedTree:!1,smaplantor:!1,hogstubbar:!1,naturvardsarter:!1,tradplantor:!1}),Et={staticOverlay:ca,retention:_e,kanteffekt:ee,omkringSkog:Pe,rottackeSkarmtrad:Se,rottackeBladning:Te,seedTree:Ae,smaplantor:Le,hogstubbar:Fe,naturvardsarter:ke,tradplantor:pe};function Xr(s,n={}){const w=Et[s];if(!w)return;const _=s,P=n.hideWhenUnpin??!0,ie=!Xe[_];if(Xe[_]=ie,ie){w.value||(w.value=!0),Ve.value=_,Ke.value=!0;return}P&&(Ve.value===_?cr({hideOverlay:!0}):w.value&&(w.value=!1))}const Gn=g(()=>{const s=Wn.value;return[{key:"staticOverlay",label:s.staticOverlay?.title??"Bestndsgrns",description:s.staticOverlay?.description??"",icon:Yr.staticOverlay},...wt.map(n=>({key:n,label:s[n]?.title??n,description:s[n]?.description??"",icon:Yr[n]??void 0}))]}),Yn=g(()=>{const s={};return Gn.value.forEach(n=>{s[n.key]={label:n.label,icon:n.icon}}),s}),Rt=g(()=>{const s=Ve.value;if(!s||!Kr(s))return null;const n=ur(s);return{key:s,title:n.title,description:n.description}}),Da=g(()=>{const s=Ve.value;return s?Xe[s]:!1}),Xn=g(()=>{const s=Ve.value;return s?Yn.value[s]?.icon??null:null}),Kn=g(()=>{const s=Yn.value,n=Fl.value,w=[];return Xe.staticOverlay&&w.push({key:"staticOverlay",title:s.staticOverlay?.label??"Bestndsgrns",icon:s.staticOverlay?.icon||null,isAssociated:!0}),wt.forEach(_=>{Xe[_]&&w.push({key:_,title:s[_]?.label??Gr[_].title,icon:s[_]?.icon||null,isAssociated:n[_]??!0})}),w});J(qe,s=>{s&&He.value&&(He.value=!1)}),J(He,s=>{s&&qe.value&&(qe.value=!1)});let mt=null,ea=!0,ta=!1;function Vl(s){Xr(s)}function pt(s){Object.keys(Et).forEach(n=>{n!==s&&(Xe[n]||Et[n]?.value&&(Et[n].value=!1))})}function Kr(s){const n=Gr[s];return!!n&&n.condition()}function ht(s){const n=Kr(s);if(jr(s,n),n){Ve.value=s,Ke.value=!0,C.value||c();return}if(Ve.value===s){const w=ua.value.slice().reverse().find(_=>Kr(_));w?(Ve.value=w,Ke.value=!0,C.value||c()):(cr({hideOverlay:!1}),c())}}function Ol(s){const n=Et[s];if(n){if(n.value){Xe[s]?Zn(s):(n.value=!1,c());return}n.value=!0,Zn(s)}}async function Zr(s={}){Er(),Yt.value=mn,Ot.value=!0,await Vt(),T.value?.setSelectedChart&&(T.value.setSelectedChart(mn),Ot.value=!1),s.badgeKey&&(u[s.badgeKey]=!1),C.value||c();try{cr({hideOverlay:!1})}catch{}try{Xe.naturvardsarter=!0;const n=Et.naturvardsarter;n&&!n.value&&(n.value=!0)}catch{}}J([Xt,()=>T.value],async([s,n])=>{if(s==="diagram"&&Ot.value&&n?.setSelectedChart){await Vt();try{n.setSelectedChart(mn)}finally{Ot.value=!1}}});function Zn(s){Et[s]&&(Ve.value=s,Ke.value=!0)}function cr(s={}){ta=!0;const n=Ve.value;if(ea=s.hideOverlay??(n?!Xe[n]:!0),!n){ta=!1,ea=!0,Ke.value=!1,c();return}if(!Ke.value){Jn();return}Ke.value=!1}function Jn(){mt&&(clearTimeout(mt),mt=null);const s=Ve.value;if(!s){ea=!0,ta=!1;return}const n=ea;if(Ve.value=null,ea=!0,ta=!1,n){const w=Et[s];w&&w.value&&(w.value=!1),c()}}J(Ke,(s,n)=>{if(mt&&(clearTimeout(mt),mt=null),!s&&n){if(!ta){const w=Ve.value;ea=w?!Xe[w]:!0}mt=setTimeout(()=>{Jn()},gf)}else s&&(ta=!1)}),J(La,s=>{s||(cr({hideOverlay:!1}),C.value||c())}),_t(()=>{try{ca.value||(ca.value=!0)}catch{}Xe.staticOverlay=!0}),J(_e,s=>{s&&pt("retention"),ht("retention")},{immediate:!0}),J(ee,s=>{s&&pt("kanteffekt"),ht("kanteffekt")},{immediate:!0}),J(Pe,s=>{s&&pt("omkringSkog"),ht("omkringSkog")},{immediate:!0}),J(Te,s=>{s&&pt("rottackeBladning"),ht("rottackeBladning")},{immediate:!0}),J(Ae,s=>{s&&pt("seedTree"),ht("seedTree")},{immediate:!0}),J(Le,s=>{s&&pt("smaplantor"),ht("smaplantor")},{immediate:!0}),J(Fe,s=>{s&&pt("hogstubbar"),ht("hogstubbar")},{immediate:!0}),J(ke,s=>{s&&pt("naturvardsarter"),ht("naturvardsarter")},{immediate:!0}),J(pe,s=>{s&&pt("tradplantor"),ht("tradplantor")},{immediate:!0}),J(ca,s=>{s&&pt("staticOverlay")}),J(ft,()=>{wt.forEach(s=>ht(s))});const Re=V(3);function Ml(s){fe.value&&s.value===3||(Re.value=s.value)}function dr(s){return{3:"innan",15:"efter",30:"10 r",45:"20 r",70:"50 r",99:"80 r"}[s]||"innan"}function aa(s){const n=ma.value.find(w=>w.value===s);return n?n.timeLabel:"fre"}const ma=g(()=>{const n=[{value:3,label:G.value?.value==="naturskydd"?"Ingen avverkning":"Fre avverkning",timeLabel:"fre"},{value:15,label:"Strax efter ",timeLabel:"efter"}];return G.value?.value==="skrmtrd"&&!ce.value&&n.push({value:30,label:"10 r efter",timeLabel:"10"}),n.push({value:45,label:"20 r efter ",timeLabel:"20"},{value:70,label:"50 r efter ",timeLabel:"50"},{value:99,label:"+ 80 r efter ",timeLabel:"80"}),n}),ra=g(()=>ma.value.map(s=>({value:String(s.value),label:s.label,disabled:fe.value&&s.value===3}))),pa=g({get(){return String(Re.value)},set(s){const n=ma.value.find(w=>String(w.value)===s);n&&Ml(n)}}),We=g(()=>{const s=ma.value.find(n=>n.value===Re.value);return s?s.label:""}),Qn=g(()=>fe.value?3:null);g(()=>Qn.value!==null?dr(Qn.value):null);const Ge=g(()=>dr(Re.value)),es=g(()=>({framework:ft.value??null,startskog:Wr.value??null,time:Ge.value??null})),Fl=g(()=>o.availabilityFor(es.value)),le=g(()=>o.filterAll(es.value)),Bl=g(()=>({framework:ft.value??null,startskog:Wr.value??null,time:fe.value?"innan":Ge.value??null})),et=g(()=>o.filterAll(Bl.value)),zl=g(()=>({framework:De.value?.value??null,startskog:Wr.value??null,time:Ge.value??null})),tt=g(()=>o.filterAll(zl.value)),at=g(()=>!G.value?.value||!Ge.value||!ae.value?.value?null:oe.value.find(s=>s.atgard===G.value.value&&s.tid===Ge.value&&s.startskog===ae.value.value)),vr=g(()=>!De.value?.value||!Ge.value||!ae.value?.value?null:oe.value.find(s=>s.atgard===De.value.value&&s.tid===Ge.value&&s.startskog===ae.value.value)),fr=g(()=>!G.value?.value||!ae.value?.value?null:oe.value.find(s=>s.atgard===G.value.value&&s.tid==="innan"&&s.startskog===ae.value.value)),mr=g(()=>{const s=[],n=G.value?.label??"",w=De.value?.label??"",_=We.value??"";return fe.value?(s.push({key:"before",left:n,right:"Fre avverkning",info:fr.value??null}),s.push({key:"after",left:n,right:_,info:at.value??null})):ce.value?(s.push({key:"framework1",left:n,right:_,info:at.value??null}),s.push({key:"framework2",left:w,right:_,info:vr.value??null})):s.push({key:"single",left:n,right:_,info:at.value??null}),s}),ts=g(()=>{const s=mr.value.filter(n=>!!n.info).length;return C.value&&s>1&&(fe.value||ce.value)}),$a=ka({});function Jr(s){$a[s]||($a[s]={skog:!0,svamp:!0})}function Nt(s,n){return Jr(s),$a[s][n]}function pr(s,n){Jr(s),$a[s][n]=!$a[s][n]}J(mr,s=>{s.forEach(n=>Jr(n.key))},{immediate:!0});function as(s){de.value=s,s&&re.value||(re.value="beforeAfterCompare")}const rs=g(()=>{const s=G.value.value,n="fre",w="dlj",_=ot.value?"visa":"dlj",P=ae.value.value;return q({framework:s,timeLabel:n,fungiVisibility:_,treeVisibility:w,startskog:P})}),ns=g(()=>{const s=De.value.value,n=aa(Re.value),w="dlj",_=ot.value?"visa":"dlj",P=ae.value.value;return q({framework:s,timeLabel:n,fungiVisibility:_,treeVisibility:w,startskog:P})});g(()=>{const s=G.value.value.toLowerCase(),n=aa(Re.value);return`${s}_${n}`});const ja=g(()=>{const s=G.value.value,n=aa(Re.value),w="dlj",_=ot.value?"visa":"dlj",P=ae.value.value;return q({framework:s,timeLabel:n,fungiVisibility:_,treeVisibility:w,startskog:P})});J([G,fe,ce],()=>{ma.value.map(n=>n.value).includes(Re.value)||(Re.value=15)});const Ea=V(null),gt=V(null),bt=V(null);let Qr=!1,en=!1;function ss(){if(en)return;Qr=!0;const s=gt.value?.getZoom(),n=gt.value?.getCenter();s&&n&&bt.value&&bt.value.setZoomAndCenter(s,n),Qr=!1}function ls(){if(Qr)return;en=!0;const s=bt.value?.getZoom(),n=bt.value?.getCenter();s&&n&&gt.value&&gt.value.setZoomAndCenter(s,n),en=!1}function It(s){s==="before"&&gt.value?(gt.value.addSyncHandler("zoom",ss),gt.value.addSyncHandler("pan",ss)):s==="after"&&bt.value?(bt.value.addSyncHandler("zoom",ls),bt.value.addSyncHandler("pan",ls)):s==="framework1"&&kt.value?(kt.value.addSyncHandler("zoom",is),kt.value.addSyncHandler("pan",is)):s==="framework2"&&yt.value&&(yt.value.addSyncHandler("zoom",os),yt.value.addSyncHandler("pan",os))}let tn=!1,an=!1;function is(){if(an)return;tn=!0;const s=kt.value?.getZoom(),n=kt.value?.getCenter();s&&n&&yt.value&&yt.value.setZoomAndCenter(s,n),tn=!1}function os(){if(tn)return;an=!0;const s=yt.value?.getZoom(),n=yt.value?.getCenter();s&&n&&kt.value&&kt.value.setZoomAndCenter(s,n),an=!1}const kt=V(null),yt=V(null);let rn=null;const us=V({zoom:1,center:null});function hr(s,{zoom:n,center:w}={}){!n||!w||rn!==s&&(rn=s,us.value={zoom:n,center:w})}function Dl(){return!fe.value&&!ce.value?{single:Ea.value}:fe.value?{before:gt.value,after:bt.value}:ce.value?{framework1:kt.value,framework2:yt.value}:{}}J(us,({zoom:s,center:n})=>{const w=Dl();Object.entries(w).forEach(([_,P])=>{_!==rn&&P&&P.setZoomAndCenter&&P.setZoomAndCenter(s,n)})});const Ct=V("single");g(()=>[{key:"framework1",label:G.value.label},{key:"framework2",label:De.value.label}]);const $l=V(0);J(ce,s=>{s||($l.value=0)});const jl=V("none"),nn=[{label:"Fre / efter",value:"beforeAfterCompare"},{label:"Tv metoder",value:"frameworkCompare"}];function El(){se.value&&se.value.toggleLayoutMode&&se.value.toggleLayoutMode(),console.log("Current layout:",me.value)}g(()=>({label:me.value==="sideBySide"?"Sida vid sida":"Skjutreglage",type:"button",onSelect(s){s.preventDefault(),El()},icon:me.value==="sideBySide"?"i-circum-grid-2-v":"iconamoon:compare-duotone"})),g(()=>[{label:nn[0].label,type:"checkbox",checked:re.value==="frameworkCompare",onUpdateChecked(s){s?re.value="frameworkCompare":re.value==="frameworkCompare"&&(re.value=null)},onSelect(s){s.preventDefault()}},{label:nn[1].label,type:"checkbox",checked:re.value==="beforeAfterCompare",onUpdateChecked(s){s?re.value="beforeAfterCompare":re.value==="beforeAfterCompare"&&(re.value=null)},onSelect(s){s.preventDefault()}},{type:"separator"},{label:"Sida vid sida",type:"checkbox",checked:me.value==="sideBySide",onUpdateChecked(s){s&&(me.value="sideBySide",se.value&&se.value.setLayoutMode&&se.value.setLayoutMode("sideBySide"))},onSelect(s){s.preventDefault()},icon:"i-circum-grid-2-v"},{label:"Skjutreglage",type:"checkbox",checked:me.value==="slider",onUpdateChecked(s){s&&(me.value="slider",se.value&&se.value.setLayoutMode&&se.value.setLayoutMode("slider"))},onSelect(s){s.preventDefault()},icon:"iconamoon:compare-duotone"}]),g(()=>me.value==="sideBySide"?"i-circum-grid-2-v":"iconamoon:compare-duotone"),g(()=>re.value==="frameworkCompare"?"Tv metoder":re.value==="beforeAfterCompare"?"Fre / efter":"Jmfr"),J(re,s=>{s==="frameworkCompare"?(fe.value=!1,ce.value=!0):s==="beforeAfterCompare"?(fe.value=!0,ce.value=!1):(fe.value=!1,ce.value=!1)}),J(me,s=>{se.value&&se.value.setLayoutMode&&se.value.setLayoutMode(s)}),J(fe,s=>{s&&Re.value===3&&(Re.value=15)});const cs=g(()=>{const s=ma.value.find(n=>n.value===Re.value);return s?s.timeLabel:""}),Rl=g(()=>{const s=G.value.value,n=cs.value.toLowerCase();return $c.annotations.flatMap(w=>{if(w.positions&&Array.isArray(w.positions))return w.positions.filter(_=>{const P=Array.isArray(_.framework)?_.framework.includes(s):_.framework===s,ie=Array.isArray(_.times)?_.times.map(Ut=>Ut.toLowerCase()).includes(n):_.times.toLowerCase()===n;return P&&ie}).map(_=>({...w,position:{x:_.x,y:_.y,placement:_.placement}}));{const _=Array.isArray(w.frameworks)?w.frameworks.includes(s):w.framework===s,P=Array.isArray(w.times)?w.times.map(ie=>ie.toLowerCase()).includes(n):w.time.toLowerCase()===n;return _&&P?[w]:[]}})});return J(Ct,s=>{console.log("activeViewer updated to:",s)}),(s,n)=>{const w=Ha,_=$n,P=ci,ie=ai,Ut=$s,Pt=js,Ce=Tc,Ra=fi,Nl=vi,Il=wc,sn=si,na=li,ds=Bc;return b(),B("div",Zc,[O(D(R),null,{default:U(()=>[f("div",Jc,[f("div",Qc,[O(_,{size:"xs",variant:"outline",color:"neutral",onClick:n[0]||(n[0]=d=>as(!1)),class:xe(de.value?"text-muted/60 hover:text-muted ring-muted/50":"bg-neutral-100 shadow ring-muted")},{default:U(()=>[f("div",ed,[O(w,{name:"i-bx-rectangle",class:"size-4"}),n[68]||(n[68]=f("h1",null,"Enkelvy",-1))])]),_:1},8,["class"]),O(_,{size:"xs",variant:"outline",color:"neutral",onClick:n[1]||(n[1]=d=>as(!0)),class:xe(de.value?"bg-neutral-100 shadow ring-muted":"text-muted/60 hover:text-muted ring-muted/50")},{default:U(()=>[f("div",td,[O(w,{name:"iconamoon:compare-duotone",class:"size-4"}),n[69]||(n[69]=f("h1",null,"Jmfr",-1))])]),_:1},8,["class"])]),de.value?(b(),N(P,{key:0,modelValue:re.value,"onUpdate:modelValue":n[2]||(n[2]=d=>re.value=d),items:nn,size:"xs",placeholder:"Vlj",clearable:!0,class:"w-full ring-muted -mb-2 mt-2",ui:{root:"min-w-max flex-shrink-0",list:"flex-nowrap rounded-xl bg-muted/50 -mb-1.5 gap-2",indicator:"bg-white border border-muted/50 shadow ",trigger:" data-[state=active]:text-neutral-800 dark:data-[state=active]:text-violet-400/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary "}},null,8,["modelValue"])):F("",!0)]),O(ie,{ui:{border:"border-muted/50"}}),f("div",ad,[f("div",rd,[n[70]||(n[70]=f("span",{class:"text-sm tracking-wide text-neutral-400"},"Trdens synlighet",-1)),ri(f("input",{type:"range",min:"0",max:"1",step:"0.01","onUpdate:modelValue":n[3]||(n[3]=d=>x.value=d),class:"accent-primary-500 h-[5px] w-32"},null,512),[[ni,x.value]])]),f("div",nd,[(b(!0),B(Me,null,Ye(Gn.value,d=>(b(),N(Ut,{key:d.key,label:d.label,icon:d.icon,color:Xe[d.key]?"primary":"neutral",variant:Xe[d.key]?"solid":"subtle",class:xe(["cursor-pointer",Xe[d.key]?"shadow-sm":"opacity-70 hover:opacity-100"]),onClick:ze=>Vl(d.key)},null,8,["label","icon","color","variant","class","onClick"]))),128))])])]),_:1}),f("div",null,[f("div",sd,[f("div",ld,[At.value.length?(b(),B("div",{key:0,class:xe(["grid sm:gap-4 gap-2 p-2 sm:py-1 sm:flex-row sm:items-center sm:justify-start h-fit w-full sm:w-fit",ce.value?"grid-cols-2":"grid-cols-1"])},[O(Pt,{size:"xl",items:At.value,modelValue:Qe.value,"onUpdate:modelValue":n[4]||(n[4]=d=>Qe.value=d),placeholder:G.value.label,"append-to-body":"",variant:"soft",class:"ring-muted w-full shadow",ui:{content:"min-w-fit",viewport:"text-center"}},null,8,["items","modelValue","placeholder"]),ce.value?(b(),N(Pt,{key:0,size:"xl",items:At.value,modelValue:fa.value,"onUpdate:modelValue":n[5]||(n[5]=d=>fa.value=d),placeholder:De.value.label,"append-to-body":"",variant:"soft",class:"ring-muted shadow"},null,8,["items","modelValue","placeholder"])):F("",!0)],2)):F("",!0),D(C)?(b(),N(_,{key:1,icon:"i-heroicons-x-mark",variant:"soft",color:"neutral",class:"rounded-full h-fit mr-2 ml-1",ui:{rounded:"rounded-full"},onClick:n[6]||(n[6]=d=>be("close")),"aria-label":"Stng modellvy",size:"lg"})):F("",!0)]),D(C)?F("",!0):(b(),B("div",id,[O(_,{icon:"i-heroicons-x-mark",variant:"ghost",color:"neutral",class:"rounded-full",ui:{rounded:"rounded-full"},onClick:n[7]||(n[7]=d=>be("close")),"aria-label":"Stng modellvy"})]))]),f("div",od,[f("div",ud,[O(Ce,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:st.value,"onUpdate:modelValue":n[8]||(n[8]=d=>st.value=d),label:"Spara klick (dev)"},null,8,["modelValue"]),O(Ce,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:Ie.value,"onUpdate:modelValue":n[9]||(n[9]=d=>Ie.value=d),label:"Visa myc-etiketter (dev)"},null,8,["modelValue"]),O(Ce,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:Ue.value,"onUpdate:modelValue":n[10]||(n[10]=d=>Ue.value=d),label:"Visa naturvrdssiffra (dev)"},null,8,["modelValue"])]),f("div",cd,[O(sn,{direction:(D(C),"bottom"),inset:!D(C),dismissible:!!D(C),overlay:!1,handle:(D(C),!1),modal:!1,open:qe.value,"onUpdate:open":n[18]||(n[18]=d=>qe.value=d),class:"pointer-events-auto",ui:{header:"flex items-center justify-between",body:"p-0 ",container:"p-0 gap-0 ",content:"max-w-4xl mx-auto ring-muted/50",footer:"gap-0"}},{body:U(()=>[O(_,{class:"absolute top-1.5 right-1.5 z-50",variant:"ghost",color:"neutral",onClick:n[11]||(n[11]=d=>qe.value=!1),icon:"i-heroicons-x-mark"}),f("div",dd,[O(P,{modelValue:Xt.value,"onUpdate:modelValue":n[13]||(n[13]=d=>Xt.value=d),items:I,variant:"link",size:"lg",color:"primary",ui:{root:"gap-0",content:"border-t border-muted/50"}},{text:U(()=>[f("div",{class:xe(["sm:grid divide-y sm:divide-y-0 sm:divide-x divide-muted/70 transition-all relative",[de.value?"sm:grid-cols-2":"sm:grid-cols-1",Rt.value?"sm:opacity-40":""]])},[f("div",{class:xe(["absolute inset-0 bg-neutral-500 transition-all pointer-events-none",Rt.value?"opacity-0 sm:opacity-40 sm:bg-neutral-500/50":"opacity-0"])},null,2),ts.value?F("",!0):(b(!0),B(Me,{key:0},Ye(mr.value,d=>(b(),B("div",{key:d.key,class:"p-3 sm:p-3 group",onClick:vt},[d.info?(b(),B("div",vd,[f("div",fd,[O(_,{type:"button",variant:"ghost",color:"neutral",class:"flex w-full items-center font-semibold gap-2 tracking-wide text-neutral-500 transition",onClick:ha(ze=>pr(d.key,"skog"),["stop"])},{default:U(()=>[n[71]||(n[71]=f("span",null,"Utveckling i skogen",-1)),O(w,{name:"i-heroicons-chevron-down",class:xe(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!Nt(d.key,"skog")}])},null,8,["class"])]),_:2},1032,["onClick"]),Nt(d.key,"skog")?(b(),B("p",{key:0,class:"text-sm text-neutral-800 leading-relaxed p-2 mb-2 bg-muted rounded",innerHTML:ue(d.info.skog)},null,8,md)):F("",!0)]),f("div",pd,[O(_,{type:"button",variant:"ghost",color:"neutral",class:"flex w-full items-center gap-2 font-semibold tracking-wide text-neutral-500 transition",onClick:ha(ze=>pr(d.key,"svamp"),["stop"])},{default:U(()=>[n[72]||(n[72]=f("span",null,"Pverkan p mykorrhizasvampar",-1)),O(w,{name:"i-heroicons-chevron-down",class:xe(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!Nt(d.key,"svamp")}])},null,8,["class"])]),_:2},1032,["onClick"]),Nt(d.key,"svamp")?(b(),B("span",{key:0,class:"block text-sm text-neutral-800 leading-relaxed p-2 bg-muted rounded",innerHTML:ue(d.info.svamp)},null,8,hd)):F("",!0)])])):(b(),B("div",gd,Z(d.emptyMessage||Os),1))]))),128)),ts.value?(b(),B("div",bd,[O(Nl,{items:mr.value,ui:{item:"basis-12/13",viewport:"p-3"}},{default:U(({item:d})=>[O(Ra,{ui:{body:"p-4 space-y-4"},class:"",variant:"soft",onClick:vt},{default:U(()=>[f("div",kd,[f("h2",yd,Z(d.left),1),O(Ut,{label:d.right,class:"ring-muted/50 py-1",variant:"outline",color:"neutral"},null,8,["label"])]),d.info?(b(),B("div",xd,[f("div",_d,[O(_,{type:"button",variant:"ghost",color:"neutral",class:"-mx-2 flex w-full items-center font-semibold gap-2 tracking-wide text-neutral-500 transition",onClick:ha(ze=>pr(d.key,"skog"),["stop"])},{default:U(()=>[n[73]||(n[73]=f("span",null,"Utveckling i skogen",-1)),O(w,{name:"i-heroicons-chevron-down",class:xe(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!Nt(d.key,"skog")}])},null,8,["class"])]),_:2},1032,["onClick"]),Nt(d.key,"skog")?(b(),B("p",{key:0,class:"text-sm text-neutral-800 leading-relaxed mb-2 bg-muted rounded",innerHTML:ue(d.info.skog)},null,8,wd)):F("",!0)]),f("div",Sd,[O(_,{type:"button",variant:"ghost",color:"neutral",class:"-mx-2 flex w-full items-center gap-2 font-semibold tracking-wide text-neutral-500 transition",onClick:ha(ze=>pr(d.key,"svamp"),["stop"])},{default:U(()=>[n[74]||(n[74]=f("span",null,"Pverkan p mykorrhizasvampar",-1)),O(w,{name:"i-heroicons-chevron-down",class:xe(["h-4 w-4 text-neutral-400 transition-transform duration-200",{"-rotate-90":!Nt(d.key,"svamp")}])},null,8,["class"])]),_:2},1032,["onClick"]),Nt(d.key,"svamp")?(b(),B("span",{key:0,class:"block text-sm text-neutral-800 leading-relaxed bg-muted rounded",innerHTML:ue(d.info.svamp)},null,8,Td)):F("",!0)])])):(b(),B("div",Ad,Z(d.emptyMessage||Os),1))]),_:2},1024)]),_:1},8,["items"])])):F("",!0)],2)]),diagram:U(()=>[Xt.value==="diagram"?(b(),N(Il,{key:0,ref_key:"chartMainRef",ref:T,selectedChart:Yt.value,"onUpdate:selectedChart":n[12]||(n[12]=d=>Yt.value=d),parentSelectedFrameworks:ce.value?[G.value.value,De.value.value]:[G.value.value],currentTimeValue:cs.value,currentStartskog:ae.value.value},null,8,["selectedChart","parentSelectedFrameworks","currentTimeValue","currentStartskog"])):F("",!0)]),_:1},8,["modelValue"])]),Rt.value?(b(),N(sn,{key:0,open:Ke.value,"onUpdate:open":n[17]||(n[17]=d=>Ke.value=d),nested:"",direction:"bottom",modal:!0,overlay:!1,inset:!D(C),handle:!!D(C),ui:{container:"p-0 gap-0",content:"sm:max-w-sm w-full mx-auto",body:"p-4 space-y-3"}},{body:U(()=>[f("div",Cd,[f("div",Ld,[Xn.value?(b(),N(w,{key:0,name:Xn.value,class:"size-5 text-primary-500 mt-0.5"},null,8,["name"])):F("",!0),f("h3",Vd,Z(Rt.value.title),1)]),f("div",Od,[O(_,{color:Da.value?"error":"primary",variant:"subtle",size:"xs",ui:{rounded:"rounded-full"},label:Da.value?"Ta bort":"Fst i vyn",icon:Da.value?"i-tabler-pinned-off":"i-tabler-pinned","aria-pressed":Da.value,title:Da.value?"Lossa":"Fst",onClick:n[14]||(n[14]=d=>Xr(Rt.value.key,{hideWhenUnpin:!1}))},null,8,["color","label","icon","aria-pressed","title"])])]),f("p",Md,Z(Rt.value.description),1),Rt.value.key==="naturvardsarter"?(b(),N(_,{key:0,size:"sm",color:"primary",variant:"soft",class:"mt-2",icon:"i-carbon-chart-line-smooth",onClick:n[15]||(n[15]=d=>Zr())},{default:U(()=>[...n[75]||(n[75]=[oa(" Visa naturvrdsartsdiagram ",-1)])]),_:1})):F("",!0),Rt.value.key==="kanteffekt"?(b(),N(Ra,{key:1,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"},class:"mt-2 backdrop-blur-xl border border-white/10"},{default:U(()=>[O(Ce,{ui:{root:"flex-row-reverse justify-between",label:"",description:"",base:"data-[state=unchecked]:bg-neutral-600"},size:"md",color:"primary",modelValue:we.value,"onUpdate:modelValue":n[16]||(n[16]=d=>we.value=d),label:"Tidigare kanteffekt",description:"Visa spr frn tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):F("",!0)]),_:1},8,["open","inset","handle"])):F("",!0)]),default:U(()=>[O(_,{size:(D(C),"xl"),label:(D(C),"Information"),color:"neutral",icon:"i-heroicons-chevron-up",class:"ring-muted rounded-full shadow",variant:qe.value?"subtle":"outline"},null,8,["size","label","variant"])]),_:1},8,["direction","inset","dismissible","handle","open"])]),f("div",Fd,[O(na,{class:"shrink-0 cursor-pointer h-fit z-50",open:da.value,"onUpdate:open":n[19]||(n[19]=d=>da.value=d),popper:{placement:"bottom-start"}},{content:U(()=>[n[76]||(n[76]=f("div",{class:"text-sm w-64 p-3 text-neutral-500 border-b border-neutral-200"}," Har skogen varit kalavverkad tidigare? ",-1)),f("div",Dd,[(b(),B(Me,null,Ye(qr,d=>f("div",{key:d.value},[O(_,{onClick:ze=>Ll(d),size:"lg",color:"white",variant:"ghost",label:d.label,class:xe(["hover:bg-neutral-100 cursor-pointer text-neutral-400 w-full",{" bg-neutral-100 text-neutral-800":ae.value.value===d.value}]),icon:d.value==="naturskog"?"i-material-symbols-light-forest-rounded":"i-ph-farm"},null,8,["onClick","label","class","icon"])])),64))])]),default:U(()=>[O(_,{variant:(D(C),"soft"),color:"neutral",size:"lg",class:"rounded-full ring-muted"},{default:U(()=>[f("div",Bd,[O(w,{name:ae.value.value=="naturskog"?"i-material-symbols-light-forest-rounded":"i-ph-farm",class:"w-5 h-5"},null,8,["name"]),D(C)?F("",!0):(b(),B("span",zd,Z(ae.value.label),1)),ae.value&&ae.value.value?(b(),N(w,{key:1,name:"i-heroicons-chevron-down",class:"w-4 h-4"})):F("",!0)])]),_:1},8,["variant"])]),_:1},8,["open"]),O(P,{modelValue:pa.value,"onUpdate:modelValue":n[20]||(n[20]=d=>pa.value=d),items:ra.value,ui:{root:"min-w-max flex-shrink-0",list:"flex-nowrap rounded-xl bg-transparent -mb-1.5 gap-2",indicator:"bg-white border border-muted/50 shadow ",trigger:" data-[state=active]:text-neutral-800 dark:data-[state=active]:text-violet-400/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary "}},null,8,["modelValue","items"])])])]),f("div",$d,[f("div",jd,[f("div",Ed,[D(C)?(b(),N(sn,{key:1,modal:!1,ui:{content:"p-0",body:"p-0",container:"p-0 gap-0"}},{body:U(()=>[O(D(j))]),default:U(()=>[O(_,{size:D(C)?"xl":"md",color:"neutral",variant:"outline",label:D(C)?null:"Display",icon:"i-heroicons-adjustments-horizontal",class:"ring-muted rounded-full sm:rounded pointer-events-auto"},null,8,["size","label"])]),_:1})):(b(),N(na,{key:0,ui:{content:"p-0 w-80"},content:{side:"bottom",sideOffset:8,collisionPadding:8,align:"start"},class:"pointer-events-auto"},{content:U(()=>[O(D(j))]),default:U(()=>[O(_,{size:"md",color:"neutral",variant:"outline",label:"Display",icon:"i-heroicons-adjustments-horizontal",class:"ring-muted"})]),_:1}))]),Kn.value.length?(b(),B("div",Rd,[(b(!0),B(Me,null,Ye(Kn.value,d=>(b(),B("div",{key:d.key,class:"pointer-events-auto flex flex-col sm:flex sm:flex-wrap gap-1 items-end"},[O(na,{"open-delay":500,"close-delay":300,mode:"click",open:u[d.key],"onUpdate:open":ze=>u[d.key]=ze,popper:{placement:"bottom-end"},ui:{content:"p-0 w-80"}},{content:U(()=>[f("div",Id,[f("div",Ud,[f("div",Pd,[d.icon?(b(),N(w,{key:0,name:d.icon,class:"size-5 text-primary-500 mt-0.5"},null,8,["name"])):F("",!0),f("h3",Hd,Z(ur(d.key).title||d.title),1)]),O(_,{label:"Ta bort",variant:"subtle",color:"error",size:"xs",icon:"i-tabler-pinned-off",onClick:ze=>(Xr(d.key),u[d.key]=!0)},null,8,["onClick"])]),ur(d.key).description?(b(),B("p",qd,Z(ur(d.key).description),1)):(b(),B("div",Wd,"Ingen beskrivning tillgnglig.")),d.key==="naturvardsarter"?(b(),N(_,{key:2,size:"sm",color:"primary",variant:"soft",icon:"i-carbon-chart-line-smooth",onClick:ha(ze=>Zr({badgeKey:d.key}),["stop"])},{default:U(()=>[...n[77]||(n[77]=[oa(" Visa naturvrdsartsdiagram ",-1)])]),_:1},8,["onClick"])):F("",!0),d.key==="kanteffekt"?(b(),N(Ra,{key:3,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"},class:"mt-2 backdrop-blur-xl border border-white/10"},{default:U(()=>[O(Ce,{ui:{root:"flex-row-reverse justify-between",label:"",description:"",base:"data-[state=unchecked]:bg-neutral-600"},size:"md",color:"primary",modelValue:we.value,"onUpdate:modelValue":n[21]||(n[21]=ze=>we.value=ze),label:"Tidigare kanteffekt",description:"Visa spr frn tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):F("",!0)])]),default:U(()=>[f("div",null,[O(Ut,{color:"neutral",variant:"outline",size:"lg",class:xe(["cursor-pointer shadow-sm sm:ml-1.5 w-fit transition-opacity ring-muted/50",d.key==="staticOverlay"||$(d.key)?"":"opacity-50"])},{default:U(()=>[f("div",Nd,[d.icon?(b(),N(w,{key:0,name:d.icon,class:"size-5 text-primary-500"},null,8,["name"])):F("",!0),f("span",null,Z(d.title),1)])]),_:2},1032,["class"])])]),_:2},1032,["open","onUpdate:open"])]))),128))])):F("",!0),f("div",{class:xe(["relative overflow-auto transition-all duration-300 ease-in-out ",Ze.value?"w-72 border-r border-neutral-300":"w-0"])},[Ze.value?(b(),B("div",Gd,[f("div",Yd,[n[78]||(n[78]=f("h1",{class:"font-semibold text-lg"},"Instllningar",-1)),O(_,{icon:Ze.value?"i-heroicons-chevron-left":"i-heroicons-chevron-right",variant:"outline",color:"neutral",class:"rounded-full left-4 z-10",onClick:n[22]||(n[22]=d=>Ze.value=!Ze.value)},null,8,["icon"])]),O(Ra,{variant:"soft",ui:{body:"p-2 sm:p-3"},class:"mb-2"},{default:U(()=>[f("div",Xd,[n[80]||(n[80]=f("div",{class:"text-xs text-neutral-500"},"UIzoom",-1)),f("div",Kd,[O(_,{color:"neutral",variant:"soft",size:"xs",icon:"i-heroicons-minus",onClick:n[23]||(n[23]=d=>je.value=Math.max(.75,+(je.value-.1).toFixed(2)))}),f("div",Zd,Z(Math.round(je.value*100))+"% ",1),O(_,{color:"neutral",variant:"soft",size:"xs",icon:"i-heroicons-plus",onClick:n[24]||(n[24]=d=>je.value=Math.min(2,+(je.value+.1).toFixed(2)))}),O(_,{color:"neutral",variant:"ghost",size:"xs",title:"terstll (100%)",onClick:n[25]||(n[25]=d=>je.value=1)},{default:U(()=>[...n[79]||(n[79]=[oa(" Reset ",-1)])]),_:1})])])]),_:1}),ce.value?(b(),B("div",Jd,[O(Pt,{size:"lg",items:At.value,modelValue:Qe.value,"onUpdate:modelValue":n[26]||(n[26]=d=>Qe.value=d),placeholder:G.value.label,"append-to-body":"",variant:"outline",class:"w-full"},{item:U(({item:d})=>[f("div",Qd,[f("div",ev,Z(d.label),1),d.description?(b(),B("div",tv,Z(d.description),1)):F("",!0)])]),_:1},8,["items","modelValue","placeholder"]),O(Pt,{size:"lg",items:At.value,modelValue:fa.value,"onUpdate:modelValue":n[27]||(n[27]=d=>fa.value=d),placeholder:De.value.label,"append-to-body":"",variant:"outline",class:"w-full"},{item:U(({item:d})=>[f("div",av,[f("div",rv,Z(d.label),1),d.description?(b(),B("div",nv,Z(d.description),1)):F("",!0)])]),_:1},8,["items","modelValue","placeholder"])])):(b(),B(Me,{key:1},[n[81]||(n[81]=f("h1",{class:"text-xs text-neutral-400"},"Skogsbruksmetod",-1)),O(Pt,{size:"xl",items:At.value,modelValue:Qe.value,"onUpdate:modelValue":n[28]||(n[28]=d=>Qe.value=d),placeholder:G.value.label,"append-to-body":"",variant:"subtle",class:"w-full"},{item:U(({item:d})=>[f("div",sv,[f("div",lv,Z(d.label),1),d.description?(b(),B("div",iv,Z(d.description),1)):F("",!0)])]),_:1},8,["items","modelValue","placeholder"])],64)),f("div",ov,[f("div",uv,[f("div",cv,[$t.value||jt.value||ut.value?(b(),N(Ce,{key:0,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:_e.value,"onUpdate:modelValue":n[29]||(n[29]=d=>_e.value=d),label:"Hnsynstrd"},null,8,["modelValue"])):F("",!0),$t.value||jt.value||ut.value?(b(),N(Ce,{key:1,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ee.value,"onUpdate:modelValue":n[30]||(n[30]=d=>ee.value=d),label:"Kanteffekt"},null,8,["modelValue"])):F("",!0),$t.value||jt.value||ut.value?(b(),N(Ce,{key:2,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Pe.value,"onUpdate:modelValue":n[31]||(n[31]=d=>Pe.value=d),label:"Omkringliggande skog"},null,8,["modelValue"])):F("",!0),O(Ce,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Le.value,"onUpdate:modelValue":n[32]||(n[32]=d=>Le.value=d),label:"Smplantor"},null,8,["modelValue"]),jt.value&&ee.value?(b(),N(Ra,{key:3,variant:"soft",ui:{body:"sm:p-4 sm:pl-2"}},{default:U(()=>[O(Ce,{ui:{root:"flex-row-reverse justify-between"},size:"xs",color:"neutral",modelValue:we.value,"onUpdate:modelValue":n[33]||(n[33]=d=>we.value=d),label:"Tidigare kanteffekt"},null,8,["modelValue"])]),_:1})):F("",!0),ut.value?(b(),N(Ce,{key:4,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Se.value,"onUpdate:modelValue":n[34]||(n[34]=d=>Se.value=d),label:"Rtter skrmtrd"},null,8,["modelValue"])):F("",!0),or.value?(b(),N(Ce,{key:5,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Te.value,"onUpdate:modelValue":n[35]||(n[35]=d=>Te.value=d),label:"Rtter bldning"},null,8,["modelValue"])):F("",!0),O(Ce,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Fe.value,"onUpdate:modelValue":n[36]||(n[36]=d=>Fe.value=d),label:"Hgstubbar"},null,8,["modelValue"]),$t.value||jt.value||or.value||ut.value?(b(),N(Ce,{key:6,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:ke.value,"onUpdate:modelValue":n[37]||(n[37]=d=>ke.value=d),label:"Naturvrdsarter"},null,8,["modelValue"])):F("",!0),ut.value?(b(),N(Ce,{key:7,ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:Ae.value,"onUpdate:modelValue":n[38]||(n[38]=d=>Ae.value=d),label:"Frtrd"},null,8,["modelValue"])):F("",!0),O(Ce,{ui:{root:"flex-row-reverse justify-between"},color:"primary",modelValue:pe.value,"onUpdate:modelValue":n[39]||(n[39]=d=>pe.value=d),label:"Trdplantor"},null,8,["modelValue"]),O(Ce,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:st.value,"onUpdate:modelValue":n[40]||(n[40]=d=>st.value=d),label:"Spara klick (dev)"},null,8,["modelValue"]),O(Ce,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:Ie.value,"onUpdate:modelValue":n[41]||(n[41]=d=>Ie.value=d),label:"Visa myc-etiketter (dev)"},null,8,["modelValue"]),O(Ce,{ui:{root:"flex-row-reverse justify-between"},color:"warning",modelValue:Ue.value,"onUpdate:modelValue":n[42]||(n[42]=d=>Ue.value=d),label:"Visa naturvrdssiffra (dev)"},null,8,["modelValue"])])])])])):F("",!0)],2),f("div",dv,[!fe.value&&!ce.value?(b(),B("div",vv,[O(D(l),{"tradplantor-visible":pe.value,"naturvardsarter-visible":ke.value,"hogstubbar-visible":Fe.value,"smaplantor-visible":Le.value,"dev-save-clicks":st.value,"show-overlay-labels":Ie.value,"show-naturvard-counter":Ue.value,"seedTree-visible":Ae.value,"rottacke-skarmtrad-visible":Se.value,"rottacke-bladning-visible":Te.value,"retention-visible":_e.value,"old-kanteffekt-visible":we.value,"kanteffekt-visible":ee.value,"omkringliggande-skog-visible":Pe.value,"retention-points":le.value.retention,"seed-tree-points":le.value.seedTree,"smaplantor-points":le.value.smaplantor,"hogstubbar-points":le.value.hogstubbar,"naturvardsarter-points":le.value.naturvardsarter,"kanteffekt-features":le.value.kanteffekt,fullscreenLayout:!0,currentFramework:G.value,currentTime:Ge.value,currentStartskog:ae.value,layoutMode:me.value,ref_key:"singleViewerRef",ref:Ea,frameworkLabel:G.value.label,timeLabel:We.value,dziUrl:y.value,overlayDziUrl:ja.value,allowPan:!0,annotations:Pr.value?Rl.value:[],selectedAnnotation:K.value,globalOpacity:x.value,"onUpdate:globalOpacity":n[43]||(n[43]=d=>x.value=d),onAnnotationClicked:Oe,class:"w-full h-full ui-zoom-exempt"},null,8,["tradplantor-visible","naturvardsarter-visible","hogstubbar-visible","smaplantor-visible","dev-save-clicks","show-overlay-labels","show-naturvard-counter","seedTree-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","retention-visible","old-kanteffekt-visible","kanteffekt-visible","omkringliggande-skog-visible","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","annotations","selectedAnnotation","globalOpacity"]),O(oi,{name:"slide-out"},{default:U(()=>[K.value?(b(),B("div",fv,[n[82]||(n[82]=f("div",{class:"h-64 flex items-center justify-center text-neutral-300"}," Bild kommer snart ",-1)),O(_,{color:"white",ui:{rounded:"rounded-full"},icon:"heroicons:x-mark",onClick:Ee,class:"absolute top-2 right-2"}),f("div",mv,[f("h3",pv,Z(K.value.title),1),f("p",hv,Z(K.value.text),1)])])):F("",!0)]),_:1})])):fe.value?(b(),N(ds,{key:1,class:"w-full",ref_key:"comparisonSliderRef",ref:se,frameworkLabel:G.value.label,timeLabel:"Fre avverkning",frameworkLabel2:G.value.label,timeLabel2:We.value,layoutMode:me.value},{first:U(()=>[m.value?(b(),N(D(l),{key:1,"naturvardsarter-visible":ke.value,"retention-visible":_e.value,"kanteffekt-visible":ee.value,"omkringliggande-skog-visible":Pe.value,"old-kanteffekt-visible":we.value,"rottacke-skarmtrad-visible":Se.value,"rottacke-bladning-visible":Te.value,"seedTree-visible":Ae.value,"smaplantor-visible":Le.value,"hogstubbar-visible":Fe.value,"tradplantor-visible":pe.value,fullscreenLayout:!0,"show-overlay-labels":Ie.value,"show-naturvard-counter":Ue.value,"retention-points":et.value.retention,"seed-tree-points":et.value.seedTree,"smaplantor-points":et.value.smaplantor,"hogstubbar-points":et.value.hogstubbar,"naturvardsarter-points":et.value.naturvardsarter,"kanteffekt-features":et.value.kanteffekt,currentFramework:G.value,currentTime:"innan",currentStartskog:ae.value,layoutMode:me.value,ref_key:"beforeViewerRef",ref:gt,comparisonMode:!0,frameworkLabel:G.value.label,timeLabel:"Fre avverkning",dziUrl:k.value,overlayDziUrl:rs.value,allowPan:!0,onOpened:n[46]||(n[46]=d=>It("before")),onActivated:n[47]||(n[47]=d=>Ct.value.valueOf="before"),globalOpacity:x.value,"onUpdate:globalOpacity":n[48]||(n[48]=d=>x.value=d),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentStartskog","layoutMode","frameworkLabel","dziUrl","overlayDziUrl","globalOpacity"])):(b(),N(D(l),{key:0,"naturvardsarter-visible":ke.value,"retention-visible":_e.value,"kanteffekt-visible":ee.value,"omkringliggande-skog-visible":Pe.value,"old-kanteffekt-visible":we.value,"rottacke-skarmtrad-visible":Se.value,"rottacke-bladning-visible":Te.value,"seedTree-visible":Ae.value,"smaplantor-visible":Le.value,"hogstubbar-visible":Fe.value,"tradplantor-visible":pe.value,fullscreenLayout:!0,"show-overlay-labels":Ie.value,"show-naturvard-counter":Ue.value,"retention-points":et.value.retention,"seed-tree-points":et.value.seedTree,"smaplantor-points":et.value.smaplantor,"hogstubbar-points":et.value.hogstubbar,"naturvardsarter-points":et.value.naturvardsarter,"kanteffekt-features":et.value.kanteffekt,currentFramework:G.value,currentTime:"innan",currentStartskog:ae.value,layoutMode:me.value,ref_key:"beforeViewerRef",ref:gt,comparisonMode:!0,frameworkLabel:G.value.label,timeLabel:"Fre avverkning",dziUrl:k.value,overlayDziUrl:rs.value,allowPan:!0,onOpened:n[44]||(n[44]=d=>It("before")),onActivated:n[45]||(n[45]=d=>Ct.value.valueOf="before"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentStartskog","layoutMode","frameworkLabel","dziUrl","overlayDziUrl"]))]),second:U(()=>[m.value?(b(),N(D(l),{key:1,"naturvardsarter-visible":ke.value,"retention-visible":_e.value,"kanteffekt-visible":ee.value,"omkringliggande-skog-visible":Pe.value,"old-kanteffekt-visible":we.value,"rottacke-skarmtrad-visible":Se.value,"rottacke-bladning-visible":Te.value,"seedTree-visible":Ae.value,"smaplantor-visible":Le.value,"hogstubbar-visible":Fe.value,"tradplantor-visible":pe.value,fullscreenLayout:!0,"show-overlay-labels":Ie.value,"show-naturvard-counter":Ue.value,"retention-points":le.value.retention,"seed-tree-points":le.value.seedTree,"smaplantor-points":le.value.smaplantor,"hogstubbar-points":le.value.hogstubbar,"naturvardsarter-points":le.value.naturvardsarter,"kanteffekt-features":le.value.kanteffekt,currentFramework:G.value,currentTime:Ge.value,currentStartskog:ae.value,layoutMode:me.value,ref_key:"afterViewerRef",ref:bt,comparisonMode:!0,frameworkLabel:G.value.label,timeLabel:We.value,dziUrl:M.value,overlayDziUrl:ja.value,allowPan:!0,sliderPosition:"right",onOpened:n[51]||(n[51]=d=>It("after")),onActivated:n[52]||(n[52]=d=>Ct.value.valueOf="after"),globalOpacity:x.value,"onUpdate:globalOpacity":n[53]||(n[53]=d=>x.value=d),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","globalOpacity"])):(b(),N(D(l),{key:0,"naturvardsarter-visible":ke.value,"retention-visible":_e.value,"kanteffekt-visible":ee.value,"omkringliggande-skog-visible":Pe.value,"old-kanteffekt-visible":we.value,"rottacke-skarmtrad-visible":Se.value,"rottacke-bladning-visible":Te.value,"seedTree-visible":Ae.value,"smaplantor-visible":Le.value,"hogstubbar-visible":Fe.value,"tradplantor-visible":pe.value,fullscreenLayout:!0,"show-overlay-labels":Ie.value,"show-naturvard-counter":Ue.value,"retention-points":le.value.retention,"seed-tree-points":le.value.seedTree,"smaplantor-points":le.value.smaplantor,"hogstubbar-points":le.value.hogstubbar,"naturvardsarter-points":le.value.naturvardsarter,"kanteffekt-features":le.value.kanteffekt,currentFramework:G.value,currentTime:Ge.value,currentStartskog:ae.value,layoutMode:me.value,ref_key:"afterViewerRef",ref:bt,comparisonMode:!0,frameworkLabel:G.value.label,timeLabel:We.value,dziUrl:M.value,overlayDziUrl:ja.value,allowPan:!0,sliderPosition:"right",onOpened:n[49]||(n[49]=d=>It("after")),onActivated:n[50]||(n[50]=d=>Ct.value.valueOf="after"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl"]))]),_:1},8,["frameworkLabel","frameworkLabel2","timeLabel2","layoutMode"])):ce.value?(b(),N(ds,{key:2,ref_key:"comparisonSliderRef",ref:se,frameworkLabel:G.value.label,timeLabel:We.value,frameworkLabel2:De.value.label,timeLabel2:We.value,layoutMode:me.value,class:"w-full"},{first:U(()=>[m.value?(b(),N(D(l),{key:1,"naturvardsarter-visible":ke.value,"retention-visible":_e.value,"kanteffekt-visible":ee.value,"old-kanteffekt-visible":we.value,"rottacke-skarmtrad-visible":Se.value,"rottacke-bladning-visible":Te.value,"seedTree-visible":Ae.value,"smaplantor-visible":Le.value,"hogstubbar-visible":Fe.value,"tradplantor-visible":pe.value,fullscreenLayout:!0,"show-overlay-labels":Ie.value,"show-naturvard-counter":Ue.value,"retention-points":le.value.retention,"seed-tree-points":le.value.seedTree,"smaplantor-points":le.value.smaplantor,"hogstubbar-points":le.value.hogstubbar,"naturvardsarter-points":le.value.naturvardsarter,"kanteffekt-features":le.value.kanteffekt,currentFramework:G.value,currentTime:Ge.value,currentStartskog:ae.value,layoutMode:me.value,ref_key:"framework1ViewerRef",ref:kt,comparisonMode:!0,frameworkLabel:G.value.label,timeLabel:We.value,dziUrl:W.value,overlayDziUrl:ja.value,allowPan:!fe.value&&!ce.value,globalOpacity:x.value,"onUpdate:globalOpacity":n[57]||(n[57]=d=>x.value=d),onViewportChanged:n[58]||(n[58]=d=>hr("framework1",d)),onOpened:n[59]||(n[59]=d=>It("framework1")),onActivated:n[60]||(n[60]=d=>Ct.value.valueOf="framework1"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan","globalOpacity"])):(b(),N(D(l),{key:0,"naturvardsarter-visible":ke.value,"retention-visible":_e.value,"kanteffekt-visible":ee.value,"omkringliggande-skog-visible":Pe.value,"old-kanteffekt-visible":we.value,"rottacke-skarmtrad-visible":Se.value,"rottacke-bladning-visible":Te.value,"seedTree-visible":Ae.value,"smaplantor-visible":Le.value,"hogstubbar-visible":Fe.value,"tradplantor-visible":pe.value,fullscreenLayout:!0,"show-overlay-labels":Ie.value,"show-naturvard-counter":Ue.value,"retention-points":le.value.retention,"seed-tree-points":le.value.seedTree,"smaplantor-points":le.value.smaplantor,"hogstubbar-points":le.value.hogstubbar,"naturvardsarter-points":le.value.naturvardsarter,"kanteffekt-features":le.value.kanteffekt,currentFramework:G.value,currentTime:Ge.value,currentStartskog:ae.value,layoutMode:me.value,ref_key:"framework1ViewerRef",ref:kt,comparisonMode:!0,frameworkLabel:G.value.label,timeLabel:We.value,dziUrl:W.value,overlayDziUrl:ja.value,allowPan:!fe.value&&!ce.value,onViewportChanged:n[54]||(n[54]=d=>hr("framework1",d)),onOpened:n[55]||(n[55]=d=>It("framework1")),onActivated:n[56]||(n[56]=d=>Ct.value.valueOf="framework1"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","omkringliggande-skog-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan"]))]),second:U(()=>[m.value?(b(),N(D(l),{key:1,"naturvardsarter-visible":ke.value,"retention-visible":_e.value,"kanteffekt-visible":ee.value,"old-kanteffekt-visible":we.value,"rottacke-skarmtrad-visible":Se.value,"rottacke-bladning-visible":Te.value,"seedTree-visible":Ae.value,"smaplantor-visible":Le.value,"hogstubbar-visible":Fe.value,"tradplantor-visible":pe.value,fullscreenLayout:!0,"show-overlay-labels":Ie.value,"show-naturvard-counter":Ue.value,"retention-points":tt.value.retention,"seed-tree-points":tt.value.seedTree,"smaplantor-points":tt.value.smaplantor,"hogstubbar-points":tt.value.hogstubbar,"naturvardsarter-points":tt.value.naturvardsarter,"kanteffekt-features":tt.value.kanteffekt,currentFramework:De.value,currentTime:Ge.value,currentStartskog:ae.value,layoutMode:me.value,ref_key:"framework2ViewerRef",ref:yt,comparisonMode:!0,frameworkLabel:De.value.label,timeLabel:We.value,dziUrl:Y.value,overlayDziUrl:ns.value,globalOpacity:x.value,"onUpdate:globalOpacity":n[64]||(n[64]=d=>x.value=d),allowPan:!fe.value&&!ce.value,sliderPosition:"right",onViewportChanged:n[65]||(n[65]=d=>hr("framework2",d)),onOpened:n[66]||(n[66]=d=>It("framework2")),onActivated:n[67]||(n[67]=d=>Ct.value.valueOf="framework2"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","globalOpacity","allowPan"])):(b(),N(D(l),{key:0,"naturvardsarter-visible":ke.value,"retention-visible":_e.value,"kanteffekt-visible":ee.value,"old-kanteffekt-visible":we.value,"rottacke-skarmtrad-visible":Se.value,"rottacke-bladning-visible":Te.value,"seedTree-visible":Ae.value,"smaplantor-visible":Le.value,"hogstubbar-visible":Fe.value,"tradplantor-visible":pe.value,fullscreenLayout:!0,"show-overlay-labels":Ie.value,"show-naturvard-counter":Ue.value,"retention-points":tt.value.retention,"seed-tree-points":tt.value.seedTree,"smaplantor-points":tt.value.smaplantor,"hogstubbar-points":tt.value.hogstubbar,"naturvardsarter-points":tt.value.naturvardsarter,"kanteffekt-features":tt.value.kanteffekt,currentFramework:De.value,currentTime:Ge.value,currentStartskog:ae.value,layoutMode:me.value,ref_key:"framework2ViewerRef",ref:yt,comparisonMode:!0,frameworkLabel:De.value.label,timeLabel:We.value,dziUrl:Y.value,overlayDziUrl:ns.value,allowPan:!fe.value&&!ce.value,sliderPosition:"right",onViewportChanged:n[61]||(n[61]=d=>hr("framework2",d)),onOpened:n[62]||(n[62]=d=>It("framework2")),onActivated:n[63]||(n[63]=d=>Ct.value.valueOf="framework2"),class:"w-full h-full"},null,8,["naturvardsarter-visible","retention-visible","kanteffekt-visible","old-kanteffekt-visible","rottacke-skarmtrad-visible","rottacke-bladning-visible","seedTree-visible","smaplantor-visible","hogstubbar-visible","tradplantor-visible","show-overlay-labels","show-naturvard-counter","retention-points","seed-tree-points","smaplantor-points","hogstubbar-points","naturvardsarter-points","kanteffekt-features","currentFramework","currentTime","currentStartskog","layoutMode","frameworkLabel","timeLabel","dziUrl","overlayDziUrl","allowPan"]))]),_:1},8,["frameworkLabel","timeLabel","frameworkLabel2","timeLabel2","layoutMode"])):F("",!0)]),Jt.value?F("",!0):(b(),B("div",gv,[f("div",bv,[!fe.value&&!ce.value?(b(),B("div",kv,[f("div",{class:"p-3 group text-base/7",onClick:vt},[O(na,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:U(()=>[f("div",xv,[(b(),B(Me,null,Ye(Dt,(d,ze)=>f("div",{key:d.id,onClick:ln=>Qe.value=ze,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[f("div",null,[f("div",wv,Z(d.label),1),f("div",Sv,Z(d.text),1)])],8,_v)),64))])]),default:U(()=>[f("h2",yv,Z(G.value.label),1)]),_:1}),f("div",Tv,[f("h3",Av,Z(We.value),1),O(_,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",color:"neutral",variant:"soft",size:"xs",label:lt.value?"Dlj info":"Visa info",onClick:it},null,8,["label"])]),lt.value&&at.value?(b(),B("div",Cv,[f("p",{class:"mb-4 text-neutral-50",innerHTML:ue(at.value.skog)},null,8,Lv),f("div",null,[n[83]||(n[83]=f("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),f("span",{class:"text-neutral-50",innerHTML:ue(at.value.svamp)},null,8,Vv)])])):lt.value?(b(),B("div",Ov," Ingen tidslinjeinformation hittades fr den hr kombinationen. ")):F("",!0)])])):fe.value?(b(),B("div",Mv,[fr.value?(b(),B("div",{key:0,class:"p-3 group text-base/7",onClick:vt},[O(na,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:U(()=>[f("div",Bv,[(b(),B(Me,null,Ye(Dt,(d,ze)=>f("div",{key:d.id,onClick:ln=>Qe.value=ze,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[f("div",null,[f("div",Dv,Z(d.label),1),f("div",$v,Z(d.text),1)])],8,zv)),64))])]),default:U(()=>[f("h2",Fv,Z(G.value.label),1)]),_:1}),f("div",jv,[n[84]||(n[84]=f("h3",{class:"text-md text-neutral-200"}," Fre avverkning ",-1)),O(_,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:lt.value?"Dlj info":"Visa info",onClick:it},null,8,["label"])]),lt.value?(b(),B("div",Ev,[f("p",{class:"mb-2 text-neutral-50",innerHTML:ue(fr.value.skog)},null,8,Rv),f("div",null,[n[85]||(n[85]=f("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),f("span",{class:"text-neutral-50",innerHTML:ue(fr.value.svamp)},null,8,Nv)])])):F("",!0)])):F("",!0),at.value?(b(),B("div",{key:1,class:"p-4 group border border-neutral-200/10 rounded-sm shadow bg-neutral-950/20",onClick:vt},[f("div",Iv,[f("h3",Uv,Z(We.value),1),O(_,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:S.value?"Dlj info":"Visa info",onClick:Qa},null,8,["label"])]),S.value?(b(),B("div",Pv,[f("p",{class:"mb-2 text-neutral-50",innerHTML:ue(at.value.skog)},null,8,Hv),f("div",null,[n[86]||(n[86]=f("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),f("span",{class:"text-neutral-50",innerHTML:ue(at.value.svamp)},null,8,qv)])])):F("",!0)])):F("",!0)])):ce.value?(b(),B("div",Wv,[at.value?(b(),B("div",{key:0,class:"p-3 group text-base/7",onClick:vt},[O(na,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:U(()=>[f("div",Yv,[(b(),B(Me,null,Ye(Dt,(d,ze)=>f("div",{key:d.id,onClick:ln=>Qe.value=ze,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[f("div",null,[f("div",Kv,Z(d.label),1),f("div",Zv,Z(d.text),1)])],8,Xv)),64))])]),default:U(()=>[f("h2",Gv,Z(G.value.label),1)]),_:1}),f("div",Jv,[f("h3",Qv,Z(We.value),1),O(_,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:lt.value?"Dlj info":"Visa info",onClick:it},null,8,["label"])]),lt.value?(b(),B("div",ef,[f("p",{class:"mb-2 text-neutral-50",innerHTML:ue(at.value.skog)},null,8,tf),f("div",null,[n[87]||(n[87]=f("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),f("span",{class:"text-neutral-50",innerHTML:ue(at.value.svamp)},null,8,af)])])):F("",!0)])):F("",!0),vr.value?(b(),B("div",{key:1,class:"p-4 group border border-neutral-200/10 rounded-sm shadow bg-neutral-950/20",onClick:vt},[O(na,{ui:{content:"bg-neutral-950/50 backdrop-blur-2xl ring-neutral-900/50"},"destroy-on-close":"",content:{align:"start",side:"left",sideOffset:"1"}},{content:U(()=>[f("div",nf,[(b(),B(Me,null,Ye(Dt,(d,ze)=>f("div",{key:"framework2-"+d.id,onClick:ln=>fa.value=ze,class:"flex items-center text-white gap-2 cursor-pointer hover:bg-neutral-500/20 p-2 rounded-md"},[f("div",null,[f("div",lf,Z(d.label),1),f("div",of,Z(d.text),1)])],8,sf)),64))])]),default:U(()=>[f("h2",rf,Z(De.value.label),1)]),_:1}),f("div",uf,[f("h3",cf,Z(We.value),1),O(_,{class:"h-fit text-white bg-transparent hover:bg-neutral-500/20",variant:"soft",color:"neutral",size:"xs",label:S.value?"Dlj info":"Visa info",onClick:Qa},null,8,["label"])]),S.value?(b(),B("div",df,[f("p",{class:"mb-2 text-neutral-50",innerHTML:ue(vr.value.skog)},null,8,vf),f("div",null,[n[88]||(n[88]=f("p",{class:"mb-2 text-white font-bold text-md"},"Pverkan p mykorrhizasvamp",-1)),f("span",{class:"text-neutral-50",innerHTML:ue(vr.value.svamp)},null,8,ff)])])):F("",!0)])):F("",!0)])):F("",!0),f("div",mf,[f("div",pf,[St.value?(b(),N(_,{key:0,size:"xl",onClick:Nr,variant:"ghost",class:"text-white hover:bg-neutral-500/20 w-full",label:Ma.value,icon:"i-heroicons-arrow-left-circle"},null,8,["label"])):F("",!0)]),f("div",hf,[Oa.value?(b(),N(_,{key:0,size:"xl",onClick:Ba,variant:"ghost",class:"w-full text-white hover:bg-neutral-500/20 flex justify-end",trailing:"",label:er.value,icon:"i-heroicons-arrow-right-circle"},null,8,["label"])):F("",!0)])])])]))])])])}}}),Tf=Object.assign(Ds(bf,[["__scopeId","data-v-22026f8a"]]),{__name:"Model"});export{Nc as D,wc as _,Tf as a,jc as b,Ec as c,zc as u};
